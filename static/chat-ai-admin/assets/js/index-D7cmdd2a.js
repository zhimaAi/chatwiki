import{b as v,d as h,dS as E}from"../../index-Bo1NSLpy.js";import{a3 as k,b as S,d as D,a7 as u,N as b,O as m,j as d,U as f,F as q,a1 as B,S as y,u as $,Z as w,_ as I,k as p,e as A,X as a}from"./vue-chunks-BRsu9_To.js";import{_ as L,M as N}from"./index-Dxy-C30T.js";import{u as O}from"./database-Bf2ASyqv.js";import{_ as R,A as K}from"./add-data-sheet-BzPYXES8.js";import{E as V}from"./EditOutlined-fieznxtM.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./shallowequal-C0xnIuy8.js";import"./Trigger-DtRTHvld.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-Brd6xpAT.js";import"./slide-CVAZ5BEM.js";import"./index-BwedndIp.js";import"./index-B4MPC5xv.js";import"./colors-4myZb9T8.js";import"./index-BZQFjdo3.js";import"./index-COWZrpvC.js";import"./isPlainObject-CHj0iPA3.js";import"./Col-QoogualX.js";import"./responsiveObserve-D3ho5cFZ.js";import"./hasIn-BtXuxCTT.js";import"./QuestionCircleOutlined-VG1FNUnl.js";import"./FormItemContext-Cv3f2sEj.js";import"./index-Caod9rOO.js";import"./Input-CCKFAS4o.js";import"./index-CuPJUS8f.js";import"./inputProps--_pnbyjO.js";import"./Search-BF8URtRh.js";import"./SearchOutlined-CFTHZIcT.js";import"./TextArea--DLJ7VtX.js";import"./Password-CJww1n-s.js";const F={class:"left-menu-box"},j={__name:"left-menus",emits:["changeMenu"],setup(e,{emit:n}){const o=n,t=k(),i=t.query,s=S(()=>[t.path.split("/")[3]]),l=D([{key:"field-manage",id:"field-manage",icon:()=>p("span",{},[p(h,{name:"field-menu-icon",class:"menu-icon"})]),label:"字段管理",title:"字段管理",path:"/database/details/field-manage"},{key:"database-manage",id:"database-manage",icon:()=>p("span",{},[p(h,{name:"database-menu-icon",class:"menu-icon"})]),label:"数据管理",title:"数据管理",path:"/database/details/database-manage"}]),_=({item:c})=>{s.value.includes(c.id)||o("changeMenu",c)};return(c,g)=>{const x=L,M=u("router-link"),C=N;return m(),b("div",F,[d(C,{class:"left-menu",selectedKeys:s.value,onClick:_},{default:f(()=>[(m(!0),b(q,null,B(l.value,r=>(m(),y(M,{class:"default-color",to:{path:r.path,query:$(i)},key:r.key},{default:f(()=>[(m(),y(x,{icon:r.icon,path:r.path,key:r.key},{default:f(()=>[w(I(r.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},P=v(j,[["__scopeId","data-v-e3489ea4"]]),T=A({components:{LeftMenus:P,AddDataSheet:K,EditOutlined:V},async beforeRouteEnter(e,n,o){let t=E(e.query.form_id);if(t==0||t==1){o("/no-permission");return}o()},setup(){const e=O(),o=k().query,t=S(()=>e.databaseInfo),i=()=>{e.getDatabaseInfo({id:o.form_id})};i();const s=D(null);return{dataBaseInfo:t,getInfo:i,toEdit:()=>{s.value.show({...e.databaseInfo})},addDataSheetRef:s}}}),U={class:"details-library-page"},X={class:"between-content-box"},Z={class:"layout-left"},z={class:"library-name-box"},G={class:"name"},H={class:"left-menu-box"},J={class:"right-content-box"};function Q(e,n,o,t,i,s){const l=h,_=u("LeftMenus"),c=u("router-view"),g=u("AddDataSheet");return m(),b("div",U,[a("div",X,[a("div",Z,[a("div",z,[n[0]||(n[0]=a("img",{class:"avatar",src:R,alt:""},null,-1)),a("div",G,I(e.dataBaseInfo.name),1),d(l,{onClick:e.toEdit,name:"edit"},null,8,["onClick"])]),a("div",H,[d(_)])]),a("div",J,[d(c)])]),d(g,{onOk:e.getInfo,ref:"addDataSheetRef"},null,8,["onOk"])])}const we=v(T,[["render",Q],["__scopeId","data-v-5c3af201"]]);export{we as default};
