import{_ as lt}from"./cu-scroll-4Aau5PhQ.js";import{a0 as gt,b as K,a1 as kt,a2 as yt,d as nt,a3 as $t,a4 as xt,a5 as Ct,a6 as St,a7 as jt}from"../../index-CuuB1UbP.js";import{r as X,f as v,Y as d,_ as l,k as o,a2 as r,a5 as t,G as O,l as tt,u as b,F as I,a9 as R,ad as rt,ae as N,a1 as H,a7 as n,B as Lt,ab as Ot,y as wt}from"./vue-chunks-Ci-XTWEs.js";import{F as at,e as it,I as dt,Q as ot,M as V,a as T,z as st,B as Z,am as It,p as ct,an as pt,b as ut,c as _t,D as mt,H as vt,aj as et,$ as Ut,ao as At,ah as ht,u as bt,v as ft,ap as Mt,x as Pt,aq as Gt,g as Nt,ar as Dt,a9 as Tt}from"./ui-antd-DhoCz7ZP.js";import{M as Ht}from"./model-select-B5vIHexO.js";import"./pull-up.esm-D94Swpvl.js";import"./observe-dom.esm-CyCedSm-.js";import"./utils-ChQO-_r6.js";import"./index-8tBguPN_.js";const Rt={__name:"add-group",emits:["ok"],setup(Q,{expose:U,emit:P}){const j=P,h=X({id:"",group_name:"",group_desc:""}),k=v(!1),S=v("新建分组"),s=v(!1),g=v(null),A=(f={})=>{g.value&&g.value.resetFields(),h.group_name=f.group_name||"",h.group_desc=f.group_desc||"",h.id=f.id||"",S.value=f.id?"编辑分组":"新建分组",s.value=!0},_=()=>{g.value.validate().then(()=>{gt({...h}).then(()=>{j("ok"),T.success(`${S.value}成功`),s.value=!1})})};return U({show:A}),(f,y)=>{const w=dt,c=it,D=ot,M=at,m=V;return l(),d("div",null,[o(m,{open:s.value,"onUpdate:open":y[2]||(y[2]=L=>s.value=L),"confirm-loading":k.value,title:S.value,width:"476px",onOk:_},{default:r(()=>[o(M,{style:{"margin-top":"24px"},layout:"vertical",ref_key:"formRef",ref:g,model:h},{default:r(()=>[o(c,{name:"group_name",label:"分组名称",rules:[{required:!0,message:"请输入分组名称"}]},{default:r(()=>[o(w,{value:h.group_name,"onUpdate:value":y[0]||(y[0]=L=>h.group_name=L),placeholder:"请输入，最多10个字",maxLength:10},null,8,["value"])]),_:1}),o(c,{name:"group_desc",label:"分组描述"},{default:r(()=>[o(D,{style:{height:"80px"},maxLength:100,value:h.group_desc,"onUpdate:value":y[1]||(y[1]=L=>h.group_desc=L),placeholder:"请输入"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","confirm-loading","title"])])}}},Et={class:"group-wrapper"},qt={class:"group-box"},Bt=["onClick"],Jt={class:"group-name"},Ft={class:"name-text"},zt={class:"hover-btn-box"},Vt=["onClick"],Qt=["onClick"],Wt={__name:"group-list",emits:["change","load"],setup(Q,{emit:U}){const P=U,j=v(-1),h=v([]),k=()=>{kt().then(_=>{h.value=[{id:-1,group_name:"全部"},{id:0,group_name:"默认分组"},..._.data],P("load",h.value)})};k();const S=_=>{j.value=_.id,P("change",_)},s=v(null),g=_=>{s.value.show({..._})},A=_=>{V.confirm({title:"删除确认",icon:tt(vt),content:`确定要删除分组【${_.group_name}】吗？`,okText:"删除",okType:"danger",cancelText:"取消",onOk(){yt({id:_.id}).then(f=>{_.id==j.value&&S(h.value[0]),k(),T.success("删除成功")})},onCancel(){}})};return(_,f)=>{const y=Z,w=ct,c=_t,D=ut,M=mt;return l(),d(I,null,[t("div",Et,[t("div",null,[o(y,{onClick:f[0]||(f[0]=m=>g({})),icon:tt(b(st)),block:""},{default:r(()=>f[2]||(f[2]=[O("添加分组")])),_:1,__:[2]},8,["icon"])]),t("div",qt,[(l(!0),d(I,null,R(h.value,m=>(l(),d("div",{class:rt(["group-list",{active:m.id==j.value}]),onClick:L=>S(m),key:m.id},[t("div",Jt,[t("div",Ft,n(m.group_name),1),m.group_desc?(l(),H(w,{key:0},{title:r(()=>[O(n(m.group_desc),1)]),default:r(()=>[o(b(It))]),_:2},1024)):N("",!0)]),m.id>0?(l(),d("div",{key:0,class:"right-block",onClick:f[1]||(f[1]=Lt(()=>{},["stop"]))},[o(M,null,{overlay:r(()=>[o(D,null,{default:r(()=>[o(c,null,{default:r(()=>[t("div",{onClick:L=>g(m)},"编 辑",8,Vt)]),_:2},1024),o(c,null,{default:r(()=>[t("div",{style:{color:"#fb363f"},onClick:L=>A(m)},"删 除",8,Qt)]),_:2},1024)]),_:2},1024)]),default:r(()=>[t("div",zt,[o(b(pt))])]),_:2},1024)])):N("",!0)],10,Bt))),128))])]),o(Rt,{ref_key:"addGroupRef",ref:s,onOk:k},null,512)],64)}}},Yt=K(Wt,[["__scopeId","data-v-2b90ce82"]]),Kt={class:"ai-create-box"},Xt={class:"input-box"},Zt={class:"input-box"},te={key:1},ee={key:2},oe={class:"quick-tags-box"},se={class:"ai-list-box"},le={key:0,class:"loading-box"},ne={key:0,class:"prompt-list-box"},re={class:"prompt-list"},ae={class:"prompt-header"},ie={class:"prompt-title"},de={class:"prompt-content"},ce={class:"prompt-list"},pe={class:"prompt-header"},ue={class:"prompt-title"},_e={class:"prompt-content"},me={class:"prompt-list"},ve={class:"prompt-header"},he={class:"prompt-title"},be={class:"prompt-content"},fe={class:"prompt-list"},ge={class:"prompt-header"},ke={class:"prompt-title"},ye={class:"prompt-content"},$e={class:"prompt-list"},xe={class:"prompt-header"},Ce={class:"prompt-title"},Se={class:"prompt-content"},je={class:"prompt-list"},Le={class:"prompt-header"},Oe={class:"prompt-title"},we={class:"prompt-content"},Ie={class:"prompt-header"},Ue={class:"prompt-title"},Ae={class:"prompt-content"},Me={key:1,class:"empty-box"},Pe={__name:"ai-create-prompt",emits:["handleAiSave"],setup(Q,{expose:U,emit:P}){const j=et.PRESENTED_IMAGE_SIMPLE,h=v(!1),k=v(!1);Ot().query;const S=P,s=v(""),g=v(!1),A=[{title:"创建一个电商行业售后客服"},{title:"创建一个英语教育机构官网售前机器人"}],_=v("在上方输入框输入要求，点击生成提示词"),f=()=>{y.value=!1,c.promptStruct=w,s.value="",_.value="在上方输入框输入要求，点击生成提示词",h.value=!0},y=v(!1),w={role:{subject:"",describe:""},task:{subject:"",describe:""},constraints:{subject:"",describe:""},skill:{subject:"",describe:""},output:{subject:"",describe:""},tone:{subject:"",describe:""},custom:[]},c=X({promptStruct:w,use_model:"",model_config_id:""}),D=u=>{s.value=u},M=()=>{if(!s.value)return T.error("请输入AI 生成提示词");if(g.value)return T.error("正在生成中...");g.value=!0,$t({demand:s.value,use_model:c.use_model,model_config_id:c.model_config_id}).then(u=>{c.promptStruct=JSON.parse(u.data.promptStruct),y.value=!0}).finally(()=>{g.value=!1}).catch(u=>{y.value=!1,_.value=u.msg})},m=u=>{wt(()=>{var e,i,x;c.model_config_id=(e=u[0])==null?void 0:e.model_config_id,c.use_model=(x=(i=u[0])==null?void 0:i.children[0])==null?void 0:x.name})},L=()=>{if(!y.value)return T.error("请先生成提示词");S("handleAiSave",c.promptStruct),h.value=!1};return U({show:f}),(u,e)=>{const i=Z,x=Ht,E=ot,q=nt,C=At,B=ht,J=et,W=V;return l(),d("div",null,[o(W,{open:h.value,"onUpdate:open":e[3]||(e[3]=$=>h.value=$),title:"AI 生成提示词",wrapClassName:"no-padding-modal",bodyStyle:{"max-height":"600px","overflow-y":"auto"},width:746},{footer:r(()=>[o(i,{type:"primary",loading:k.value,onClick:L},{default:r(()=>e[4]||(e[4]=[O("使用该提示")])),_:1,__:[4]},8,["loading"])]),default:r(()=>[t("div",Kt,[t("div",Xt,[o(x,{modelType:"LLM",modeName:c.use_model,"onUpdate:modeName":e[0]||(e[0]=$=>c.use_model=$),modeId:c.model_config_id,"onUpdate:modeId":e[1]||(e[1]=$=>c.model_config_id=$),style:{width:"300px"},onLoaded:m},null,8,["modeName","modeId"])]),t("div",Zt,[o(E,{style:{width:"100%"},value:s.value,"onUpdate:value":e[2]||(e[2]=$=>s.value=$),"auto-size":"",size:"large",placeholder:"请输入AI 生成提示词例如：创建一个电商行业售后客服"},null,8,["value"]),t("div",{class:rt(["btn-box",{"disabed-status":g.value}]),onClick:M},[g.value?(l(),H(b(Ut),{key:0})):N("",!0),o(q,{name:"ai-mark"}),g.value?(l(),d("span",te,"生成中...")):(l(),d("span",ee,"生成"))],2)]),t("div",oe,[e[5]||(e[5]=t("div",{class:"quick-label"},"快捷生成：",-1)),(l(),d(I,null,R(A,$=>o(C,{key:$.title,onClick:F=>D($.title),color:"blue"},{default:r(()=>[O(n($.title),1)]),_:2},1032,["onClick"])),64))]),t("div",se,[g.value?(l(),d("div",le,[o(B,{tip:"正在生成中..."})])):(l(),d(I,{key:1},[y.value?(l(),d("div",ne,[t("div",re,[t("div",ae,[t("div",ie,n(c.promptStruct.role.subject),1)]),t("div",de,n(c.promptStruct.role.describe),1)]),t("div",ce,[t("div",pe,[t("div",ue,n(c.promptStruct.task.subject),1)]),t("div",_e,n(c.promptStruct.task.describe),1)]),t("div",me,[t("div",ve,[t("div",he,n(c.promptStruct.constraints.subject),1)]),t("div",be,n(c.promptStruct.constraints.describe),1)]),t("div",fe,[t("div",ge,[t("div",ke,n(c.promptStruct.skill.subject),1)]),t("div",ye,n(c.promptStruct.skill.describe),1)]),t("div",$e,[t("div",xe,[t("div",Ce,n(c.promptStruct.output.subject),1)]),t("div",Se,n(c.promptStruct.output.describe),1)]),t("div",je,[t("div",Le,[t("div",Oe,n(c.promptStruct.tone.subject),1)]),t("div",we,n(c.promptStruct.tone.describe),1)]),(l(!0),d(I,null,R(c.promptStruct.custom,($,F)=>(l(),d("div",{class:"prompt-list",key:F+$.key?$.key:""},[t("div",Ie,[t("div",Ue,n($.subject),1)]),t("div",Ae,n($.describe),1)]))),128))])):(l(),d("div",Me,[o(J,{image:b(j),description:_.value},null,8,["image","description"])]))],64))])])]),_:1},8,["open"])])}}},Ge=K(Pe,[["__scopeId","data-v-d1dd74ad"]]),Ne={key:1,class:"prompt-list-box"},De={class:"header-box"},Te={class:"prompt-list"},He={class:"prompt-header"},Re={class:"prompt-title"},Ee={class:"prompt-content"},qe={class:"prompt-list"},Be={class:"prompt-header"},Je={class:"prompt-title"},Fe={class:"prompt-content"},ze={class:"prompt-list"},Ve={class:"prompt-header"},Qe={class:"prompt-title"},We={class:"prompt-content"},Ye={class:"prompt-list"},Ke={class:"prompt-header"},Xe={class:"prompt-title"},Ze={class:"prompt-content"},to={class:"prompt-list"},eo={class:"prompt-header"},oo={class:"prompt-title"},so={class:"prompt-content"},lo={class:"prompt-list"},no={class:"prompt-header"},ro={class:"prompt-title"},ao={class:"prompt-content"},io={class:"prompt-header"},co={class:"prompt-title",style:{flex:"1"}},po={class:"btn-wrapper-box"},uo=["onClick"],_o={class:"prompt-content"},mo={class:"add-theme-block"},vo={__name:"add-diy-prompt",props:{groupList:{type:Array,default:()=>[]}},emits:["ok"],setup(Q,{expose:U,emit:P}){const j=P,h=Q;let k={role:"请输入，告知大模型要扮演的身份、职责、沟通风格等，比如“你扮演一名经验丰富的电商行业售后客服AI助手，具备良好的沟通能力和解决问题的能力。”",task:"请输入，比如“根据提供的知识库资料，找到对应的售后知识（每个知识点之间使用⧼-split_line-⧽进行分割），快速准确回答用户的问题。”",constraints:"请输入对大模型在回复时的要求，比如“你的回答应该使用自然的对话方式，简单直接地回答，不要解释你的答案；当用户问题没有找到相关知识点时，直接告诉用户问题暂时无法回答，不能胡编乱造，否则你将受到惩罚。”",output:"请输入对大模型输出格式的要求，比如“请使用markdown格式输出”",tone:"请告知语言风格要求，比如“专业而不失亲切，适当使用emoji增强可读性”",skill:"请输入"},S={role:{subject:"角色",describe:""},task:{subject:"任务",describe:""},constraints:{subject:"要求",describe:""},skill:{subject:"技能",describe:""},output:{subject:"输出格式",describe:""},tone:{subject:"风格语气",describe:""},custom:[]};const s=X({id:"",title:"",group_id:0,prompt_type:0,prompt:"",prompt_struct:JSON.parse(JSON.stringify(S))}),g=v(!1),A=v(""),_=v(!1),f=v(null),y=(u={},e)=>{f.value&&f.value.resetFields(),s.title=u.title||"",s.group_id=u.group_id>0?u.group_id:0,s.id=e=="copy"?"":u.id||"",s.prompt_type=u.prompt_type,s.prompt=u.prompt||"",s.prompt_struct=u.prompt_struct||JSON.parse(JSON.stringify(S)),A.value=`${u.id?"编辑":"新建"}${u.prompt_type==0?"自定义":"结构化"}提示词`,_.value=!0},w=()=>{f.value.validate().then(()=>{let u={...s};s.prompt_type==0?delete u.prompt_struct:u.prompt_struct=JSON.stringify(s.prompt_struct),xt({...u}).then(()=>{j("ok"),T.success(`${A.value}成功`),_.value=!1})})},c=v(null),D=()=>{c.value.show()},M=u=>{s.prompt_struct=u},m=()=>{s.prompt_struct.custom.push({subject:"",describe:"",key:Math.random()*1e4})},L=u=>{s.prompt_struct.custom.splice(u,1)};return U({show:y}),(u,e)=>{const i=dt,x=it,E=ft,q=bt,C=ot,B=nt,J=Z,W=at,$=lt,F=V;return l(),d("div",null,[o(F,{open:_.value,"onUpdate:open":e[9]||(e[9]=p=>_.value=p),"confirm-loading":g.value,title:A.value,width:"766px",onOk:w},{default:r(()=>[o($,{style:{"max-height":"600px","margin-top":"24px"}},{default:r(()=>[o(W,{"label-col":{span:3},"wrapper-col":{span:21},ref_key:"formRef",ref:f,model:s},{default:r(()=>[o(x,{name:"title",label:"提示词标题",rules:[{required:!0,message:"请输入提示词标题"}]},{default:r(()=>[o(i,{value:s.title,"onUpdate:value":e[0]||(e[0]=p=>s.title=p),placeholder:"请输入提示词标题",maxLength:10},null,8,["value"])]),_:1}),o(x,{name:"group_id",label:"分组"},{default:r(()=>[o(q,{value:s.group_id,"onUpdate:value":e[1]||(e[1]=p=>s.group_id=p),style:{width:"100%"}},{default:r(()=>[(l(!0),d(I,null,R(h.groupList,p=>(l(),H(E,{value:p.id},{default:r(()=>[O(n(p.group_name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])]),_:1}),s.prompt_type==0?(l(),H(x,{key:0,name:"prompt",label:"提示词",rules:[{required:!0,message:"请输入提示词"}]},{default:r(()=>[o(C,{style:{height:"280px"},value:s.prompt,"onUpdate:value":e[2]||(e[2]=p=>s.prompt=p),placeholder:"请输入"},null,8,["value"])]),_:1})):(l(),d("div",Ne,[t("div",De,[e[11]||(e[11]=t("div",{class:"header-left"},"提示词",-1)),t("div",{class:"ai-mark-box",onClick:D},[o(B,{name:"ai-mark"}),e[10]||(e[10]=O(" AI自动生成 "))])]),t("div",Te,[t("div",He,[t("div",Re,n(s.prompt_struct.role.subject),1)]),t("div",Ee,[o(C,{style:{height:"80px"},bordered:!1,value:s.prompt_struct.role.describe,"onUpdate:value":e[3]||(e[3]=p=>s.prompt_struct.role.describe=p),placeholder:b(k).role},null,8,["value","placeholder"])])]),t("div",qe,[t("div",Be,[t("div",Je,n(s.prompt_struct.task.subject),1)]),t("div",Fe,[o(C,{style:{height:"80px"},bordered:!1,value:s.prompt_struct.task.describe,"onUpdate:value":e[4]||(e[4]=p=>s.prompt_struct.task.describe=p),placeholder:b(k).task},null,8,["value","placeholder"])])]),t("div",ze,[t("div",Ve,[t("div",Qe,n(s.prompt_struct.constraints.subject),1)]),t("div",We,[o(C,{style:{height:"80px"},bordered:!1,value:s.prompt_struct.constraints.describe,"onUpdate:value":e[5]||(e[5]=p=>s.prompt_struct.constraints.describe=p),placeholder:b(k).constraints},null,8,["value","placeholder"])])]),t("div",Ye,[t("div",Ke,[t("div",Xe,n(s.prompt_struct.skill.subject),1)]),t("div",Ze,[o(C,{style:{height:"80px"},bordered:!1,value:s.prompt_struct.skill.describe,"onUpdate:value":e[6]||(e[6]=p=>s.prompt_struct.skill.describe=p),placeholder:b(k).skill},null,8,["value","placeholder"])])]),t("div",to,[t("div",eo,[t("div",oo,n(s.prompt_struct.output.subject),1)]),t("div",so,[o(C,{style:{height:"80px"},bordered:!1,value:s.prompt_struct.output.describe,"onUpdate:value":e[7]||(e[7]=p=>s.prompt_struct.output.describe=p),placeholder:b(k).output},null,8,["value","placeholder"])])]),t("div",lo,[t("div",no,[t("div",ro,n(s.prompt_struct.tone.subject),1)]),t("div",ao,[o(C,{style:{height:"80px"},bordered:!1,value:s.prompt_struct.tone.describe,"onUpdate:value":e[8]||(e[8]=p=>s.prompt_struct.tone.describe=p),placeholder:b(k).tone},null,8,["value","placeholder"])])]),(l(!0),d(I,null,R(s.prompt_struct.custom,(p,Y)=>(l(),d("div",{class:"prompt-list",key:Y+p.key?p.key:""},[t("div",io,[t("div",co,[o(i,{bordered:!1,style:{width:"100%"},value:p.subject,"onUpdate:value":z=>p.subject=z,placeholder:"请输入主题"},null,8,["value","onUpdate:value"])]),t("div",po,[t("div",{class:"hover-btn-box",onClick:z=>L(Y)},[o(b(Mt))],8,uo)])]),t("div",_o,[o(C,{style:{height:"80px"},bordered:!1,value:p.describe,"onUpdate:value":z=>p.describe=z,placeholder:"请输入"},null,8,["value","onUpdate:value"])])]))),128)),t("div",mo,[o(J,{onClick:m,block:"",icon:tt(b(st))},{default:r(()=>e[12]||(e[12]=[O("添加主题")])),_:1,__:[12]},8,["icon"])])]))]),_:1},8,["model"])]),_:1})]),_:1},8,["open","confirm-loading","title"]),o(Ge,{onHandleAiSave:M,ref_key:"aiCreatePromptRef",ref:c},null,512)])}}},ho=K(vo,[["__scopeId","data-v-a5fa67e0"]]),bo={class:"user-model-page"},fo={class:"page-title"},go={class:"list-wrapper"},ko={class:"left-group"},yo={class:"right-cotnetn"},$o={class:"content-box"},xo={class:"btn-block"},Co={key:0,class:"loading-box"},So={class:"prompt-list-box"},jo={class:"prompt-header"},Lo={class:"prompt-title"},Oo={key:0,class:"prompt-type diy"},wo={key:1,class:"prompt-type"},Io={class:"title"},Uo={class:"right-btn-box"},Ao=["onClick"],Mo=["onClick"],Po={class:"hover-btn-box"},Go=["onClick"],No=["onClick"],Do=["onClick"],To={class:"prompt-content-box"},Ho={key:0,class:"prompt-content"},Ro=["onClick"],Eo={key:1,class:"structure-list-box"},qo={class:"structure-list"},Bo={class:"structure-title"},Jo={class:"structure-content"},Fo={class:"structure-list"},zo={class:"structure-title"},Vo={class:"structure-content"},Qo=["onClick"],Wo={class:"structure-list"},Yo={class:"structure-title"},Ko={class:"structure-content"},Xo={class:"structure-list"},Zo={class:"structure-title"},ts={class:"structure-content"},es={class:"structure-list"},os={class:"structure-title"},ss={class:"structure-content"},ls={class:"structure-list"},ns={class:"structure-title"},rs={class:"structure-content"},as={class:"structure-title"},is={class:"structure-content"},ds={class:"move-group-box"},cs={__name:"index",setup(Q){let U=-1;const P=e=>{U=e.id,s()};let j=v([]);const h=e=>{j.value=e.filter(i=>i.id>=0)},k=v([]),S=v(!1),s=()=>{S.value=!0,Ct({group_id:U,page:1,size:9999}).then(e=>{let i=e.data.list||[];i=i.map(x=>({...x,isHide:!0,prompt_struct:x.prompt_struct?JSON.parse(x.prompt_struct):{}})),k.value=i}).finally(()=>{S.value=!1})};s();const g=v(null),A=e=>{g.value.show({group_id:U==-1?0:U,prompt_type:e})},_=(e,i)=>{g.value.show({...e},i)};function f(e){var i;return(i=j.value.filter(x=>x.id==e)[0])==null?void 0:i.group_name}const y=e=>{e.isHide=!e.isHide},w=v(!0),c=()=>{w.value=!w.value,k.value=k.value.map(e=>({...e,isHide:w.value}))},D=e=>{V.confirm({title:"删除确认",icon:o(vt),content:`确定要删除提示词[${e.title}]吗？`,okText:"删除",okType:"danger",cancelText:"取消",onOk(){St({id:e.id}).then(i=>{T.success("删除成功"),s()})},onCancel(){}})},M=v(!1);let m=X({id:"",group_id:0});const L=e=>{e={...e},m.id=e.id,m.group_id=e.group_id>0?e.group_id:0,M.value=!0},u=()=>{if(m.id<0)return T.error("请选择要移动的分组");jt({id:m.id,group_id:m.group_id}).then(()=>{T.success("移动成功"),M.value=!1,s()})};return(e,i)=>{const x=Pt,E=lt,q=Z,C=_t,B=ut,J=mt,W=ht,$=ct,F=et,p=ft,Y=bt,z=V;return l(),d("div",bo,[t("div",fo,[i[4]||(i[4]=O(" 提示词模板库 ")),o(x,{type:"vertical"}),i[5]||(i[5]=t("div",{class:"desc"}," 添加提示词模板，在应用配置和工作流的AI对话节点，可以从提示词模板库选择提示词并应用 ",-1))]),t("div",go,[t("div",ko,[o(E,null,{default:r(()=>[o(Yt,{onChange:P,onLoad:h})]),_:1})]),t("div",yo,[o(E,null,{default:r(()=>[t("div",$o,[t("div",xo,[o(J,null,{overlay:r(()=>[o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[t("div",{onClick:i[0]||(i[0]=a=>A(1))},"添加结构化提示词")]),_:1}),o(C,null,{default:r(()=>[t("div",{onClick:i[1]||(i[1]=a=>A(0))},"添加自定义提示词")]),_:1})]),_:1})]),default:r(()=>[o(q,{type:"primary",icon:o(b(st))},{default:r(()=>i[6]||(i[6]=[O("提示词")])),_:1,__:[6]},8,["icon"])]),_:1}),o(q,{onClick:c,icon:o(b(Gt))},{default:r(()=>[O(n(w.value?"全部展开":"全部收起"),1)]),_:1},8,["icon"])]),S.value?(l(),d("div",Co,[o(W)])):N("",!0),t("div",So,[(l(!0),d(I,null,R(k.value,a=>(l(),d("div",{class:"prompt-list",key:a.id},[t("div",jo,[t("div",Lo,[a.prompt_type==0?(l(),d("div",Oo,"自定义")):N("",!0),a.prompt_type==1?(l(),d("div",wo,"结构化")):N("",!0),t("div",Io,n(a.title),1),o(x,{type:"vertical"}),t("div",null,n(f(a.group_id)),1)]),t("div",Uo,[o($,{title:a.isHide?"展开":"收起"},{default:r(()=>[t("div",{class:"hover-btn-box",onClick:G=>y(a)},[a.isHide?(l(),H(b(Nt),{key:0})):(l(),H(b(Dt),{key:1}))],8,Ao)]),_:2},1032,["title"]),t("div",{class:"hover-btn-box",onClick:G=>_(a)},[o(b(Tt))],8,Mo),o(J,null,{overlay:r(()=>[o(B,null,{default:r(()=>[o(C,null,{default:r(()=>[t("div",{onClick:G=>_(a,"copy")},"复制",8,Go)]),_:2},1024),o(C,null,{default:r(()=>[t("div",{onClick:G=>L(a)},"修改分组",8,No)]),_:2},1024),o(C,null,{default:r(()=>[t("div",{onClick:G=>D(a)},"删除",8,Do)]),_:2},1024)]),_:2},1024)]),default:r(()=>[t("div",Po,[o(b(pt))])]),_:2},1024)])]),t("div",To,[a.prompt_type==0?(l(),d("div",Ho,[a.isHide?(l(),d(I,{key:0},[O(n(a.prompt.slice(0,200))+" ",1),a.prompt.length>200?(l(),d("span",{key:0,onClick:G=>y(a),style:{cursor:"pointer"}},"...",8,Ro)):N("",!0)],64)):(l(),d(I,{key:1},[O(n(a.prompt),1)],64))])):(l(),d("div",Eo,[t("div",qo,[t("div",Bo,n(a.prompt_struct.role.subject),1),t("div",Jo,n(a.prompt_struct.role.describe),1)]),t("div",Fo,[t("div",zo,n(a.prompt_struct.task.subject),1),t("div",Vo,[O(n(a.prompt_struct.task.describe)+" ",1),a.isHide?(l(),d("span",{key:0,onClick:G=>y(a),style:{cursor:"pointer"}},"...",8,Qo)):N("",!0)])]),a.isHide?N("",!0):(l(),d(I,{key:0},[t("div",Wo,[t("div",Yo,n(a.prompt_struct.constraints.subject),1),t("div",Ko,n(a.prompt_struct.constraints.describe),1)]),t("div",Xo,[t("div",Zo,n(a.prompt_struct.skill.subject),1),t("div",ts,n(a.prompt_struct.skill.describe),1)]),t("div",es,[t("div",os,n(a.prompt_struct.output.subject),1),t("div",ss,n(a.prompt_struct.output.describe),1)]),t("div",ls,[t("div",ns,n(a.prompt_struct.tone.subject),1),t("div",rs,n(a.prompt_struct.tone.describe),1)]),(l(!0),d(I,null,R(a.prompt_struct.custom,G=>(l(),d("div",{class:"structure-list",key:G.subject},[t("div",as,n(G.subject),1),t("div",is,n(G.describe),1)]))),128))],64))]))])]))),128))])]),k.value.length==0?(l(),H(F,{key:0,style:{"padding-top":"100px"}})):N("",!0)]),_:1})])]),o(ho,{groupList:b(j),onOk:s,ref_key:"addDiyPromptRef",ref:g},null,8,["groupList"]),o(z,{open:M.value,"onUpdate:open":i[3]||(i[3]=a=>M.value=a),title:"修改分组",onOk:u},{default:r(()=>[t("div",ds,[i[7]||(i[7]=t("div",{class:"label-text"},"修改分组为",-1)),o(Y,{value:b(m).group_id,"onUpdate:value":i[2]||(i[2]=a=>b(m).group_id=a),style:{width:"100%"}},{default:r(()=>[(l(!0),d(I,null,R(b(j),a=>(l(),H(p,{value:a.id},{default:r(()=>[O(n(a.group_name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])])]),_:1},8,["open"])])}}},ks=K(cs,[["__scopeId","data-v-89be7750"]]);export{ks as default};
