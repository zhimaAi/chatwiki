import{aW as me,b_ as Rt,aN as k,cF as Vt,aS as X,b1 as ue,aU as zt,aT as ht,aR as De,A as _e,L as Sn,aO as wn,aX as On,cw as Cn,bS as En,c8 as wt,b7 as $n,a_ as qt,bC as Dn,bZ as dt,bT as ct,bD as de,b5 as Ne,c2 as He,aV as Nn}from"../../index-CuFzRDH0.js";import{s as M,j as Oe,f as Ee,p as Ut,b,d as Wt,k as m,h as Pn,B as Gt,x as Xt,y as Yt,w as ve,z as gt,o as Tn,G as In,H as _n,q as An,e as fe,F as Fn,aa as ot,D as Ln,m as Mn}from"./vue-chunks-DkYK5AuX.js";import{g as Re,e as Ve,f as Zt,h as ut,i as Jt,c as Qt,j as ft,k as jn,l as Ot,u as Bn,p as at,a as lt,b as pe,m as Hn,n as Ct,d as ke,o as Rn}from"./useMaxLevel-iyEeLMuD.js";import{L as Vn}from"./index-B9b8kVtF.js";import{f as zn,g as qn}from"./collapseMotion-D38MKU2V.js";import{C as Un}from"./CaretDownFilled-P6q1_Q4R.js";import{g as Wn}from"./index-DncdWYWk.js";import{d as Gn}from"./responsiveObserve-nm9aPAMw.js";function ce(e){const t=M();return Oe(()=>{t.value=e()},{flush:"sync"}),t}const en=Symbol("TreeContextKey"),Xn=Ee({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return Ut(en,b(()=>e.value)),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),pt=()=>Wt(en,b(()=>({}))),tn=Symbol("KeysStateKey"),Yn=e=>{Ut(tn,e)},nn=()=>Wt(tn,{expandedKeys:M([]),selectedKeys:M([]),loadedKeys:M([]),loadingKeys:M([]),checkedKeys:M([]),halfCheckedKeys:M([]),expandedKeysSet:b(()=>new Set),selectedKeysSet:b(()=>new Set),loadedKeysSet:b(()=>new Set),loadingKeysSet:b(()=>new Set),checkedKeysSet:b(()=>new Set),halfCheckedKeysSet:b(()=>new Set),flattenNodes:M([])}),Zn=e=>{let{prefixCls:t,level:n,isStart:o,isEnd:a}=e;const v=`${t}-indent-unit`,s=[];for(let p=0;p<n;p+=1)s.push(m("span",{key:p,class:{[v]:!0,[`${v}-start`]:o[p],[`${v}-end`]:a[p]}},null));return m("span",{"aria-hidden":"true",class:`${t}-indent`},[s])},Jn=Zn,on={eventKey:[String,Number],prefixCls:String,title:me.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:me.any,switcherIcon:me.any,domRef:{type:Function}},Qn={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},an=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:me.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:me.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:me.any,switcherIcon:me.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var eo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Et="open",$t="close",to="---",vt=Ee({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:on,isTreeNode:1,setup(e,t){let{attrs:n,slots:o,expose:a}=t;Rt(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(l=>"`v-slot:"+l+"` ")}instead`);const v=M(!1),s=pt(),{expandedKeysSet:p,selectedKeysSet:O,loadedKeysSet:S,loadingKeysSet:$,checkedKeysSet:K,halfCheckedKeysSet:z}=nn(),{dragOverNodeKey:F,dropPosition:G,keyEntities:h}=s.value,f=b(()=>Re(e.eventKey,{expandedKeysSet:p.value,selectedKeysSet:O.value,loadedKeysSet:S.value,loadingKeysSet:$.value,checkedKeysSet:K.value,halfCheckedKeysSet:z.value,dragOverNodeKey:F,dropPosition:G,keyEntities:h})),w=ce(()=>f.value.expanded),V=ce(()=>f.value.selected),j=ce(()=>f.value.checked),W=ce(()=>f.value.loaded),B=ce(()=>f.value.loading),Y=ce(()=>f.value.halfChecked),Z=ce(()=>f.value.dragOver),R=ce(()=>f.value.dragOverGapTop),u=ce(()=>f.value.dragOverGapBottom),C=ce(()=>f.value.pos),_=M(),J=b(()=>{const{eventKey:l}=e,{keyEntities:d}=s.value,{children:I}=d[l]||{};return!!(I||[]).length}),H=b(()=>{const{isLeaf:l}=e,{loadData:d}=s.value,I=J.value;return l===!1?!1:l||!d&&!I||d&&W.value&&!I}),oe=b(()=>H.value?null:w.value?Et:$t),te=b(()=>{const{disabled:l}=e,{disabled:d}=s.value;return!!(d||l)}),Ke=b(()=>{const{checkable:l}=e,{checkable:d}=s.value;return!d||l===!1?!1:d}),re=b(()=>{const{selectable:l}=e,{selectable:d}=s.value;return typeof l=="boolean"?l:d}),T=b(()=>{const{data:l,active:d,checkable:I,disableCheckbox:U,disabled:Q,selectable:ee}=e;return k(k({active:d,checkable:I,disableCheckbox:U,disabled:Q,selectable:ee},l),{dataRef:l,data:l,isLeaf:H.value,checked:j.value,expanded:w.value,loading:B.value,selected:V.value,halfChecked:Y.value})}),ye=Pn(),q=b(()=>{const{eventKey:l}=e,{keyEntities:d}=s.value,{parent:I}=d[l]||{};return k(k({},Ve(k({},e,f.value))),{parent:I})}),ne=Gt({eventData:q,eventKey:b(()=>e.eventKey),selectHandle:_,pos:C,key:ye.vnode.key});a(ne);const ie=l=>{const{onNodeDoubleClick:d}=s.value;d(l,q.value)},he=l=>{if(te.value)return;const{onNodeSelect:d}=s.value;l.preventDefault(),d(l,q.value)},Se=l=>{if(te.value)return;const{disableCheckbox:d}=e,{onNodeCheck:I}=s.value;if(!Ke.value||d)return;l.preventDefault();const U=!j.value;I(l,q.value,U)},$e=l=>{const{onNodeClick:d}=s.value;d(l,q.value),re.value?he(l):Se(l)},Pe=l=>{const{onNodeMouseEnter:d}=s.value;d(l,q.value)},qe=l=>{const{onNodeMouseLeave:d}=s.value;d(l,q.value)},Ue=l=>{const{onNodeContextMenu:d}=s.value;d(l,q.value)},We=l=>{const{onNodeDragStart:d}=s.value;l.stopPropagation(),v.value=!0,d(l,ne);try{l.dataTransfer.setData("text/plain","")}catch{}},Ge=l=>{const{onNodeDragEnter:d}=s.value;l.preventDefault(),l.stopPropagation(),d(l,ne)},Xe=l=>{const{onNodeDragOver:d}=s.value;l.preventDefault(),l.stopPropagation(),d(l,ne)},Ae=l=>{const{onNodeDragLeave:d}=s.value;l.stopPropagation(),d(l,ne)},Ye=l=>{const{onNodeDragEnd:d}=s.value;l.stopPropagation(),v.value=!1,d(l,ne)},Ze=l=>{const{onNodeDrop:d}=s.value;l.preventDefault(),l.stopPropagation(),v.value=!1,d(l,ne)},Fe=l=>{const{onNodeExpand:d}=s.value;B.value||d(l,q.value)},Le=()=>{const{data:l}=e,{draggable:d}=s.value;return!!(d&&(!d.nodeDraggable||d.nodeDraggable(l)))},Me=()=>{const{draggable:l,prefixCls:d}=s.value;return l&&(l!=null&&l.icon)?m("span",{class:`${d}-draggable-icon`},[l.icon]):null},Je=()=>{var l,d,I;const{switcherIcon:U=o.switcherIcon||((l=s.value.slots)===null||l===void 0?void 0:l[(I=(d=e.data)===null||d===void 0?void 0:d.slots)===null||I===void 0?void 0:I.switcherIcon])}=e,{switcherIcon:Q}=s.value,ee=U||Q;return typeof ee=="function"?ee(T.value):ee},je=()=>{const{loadData:l,onNodeLoad:d}=s.value;B.value||l&&w.value&&!H.value&&!J.value&&!W.value&&d(q.value)};Xt(()=>{je()}),Yt(()=>{je()});const Qe=()=>{const{prefixCls:l}=s.value,d=Je();if(H.value)return d!==!1?m("span",{class:ue(`${l}-switcher`,`${l}-switcher-noop`)},[d]):null;const I=ue(`${l}-switcher`,`${l}-switcher_${w.value?Et:$t}`);return d!==!1?m("span",{onClick:Fe,class:I},[d]):null},et=()=>{var l,d;const{disableCheckbox:I}=e,{prefixCls:U}=s.value,Q=te.value;return Ke.value?m("span",{class:ue(`${U}-checkbox`,j.value&&`${U}-checkbox-checked`,!j.value&&Y.value&&`${U}-checkbox-indeterminate`,(Q||I)&&`${U}-checkbox-disabled`),onClick:Se},[(d=(l=s.value).customCheckable)===null||d===void 0?void 0:d.call(l)]):null},Be=()=>{const{prefixCls:l}=s.value;return m("span",{class:ue(`${l}-iconEle`,`${l}-icon__${oe.value||"docu"}`,B.value&&`${l}-icon_loading`)},null)},we=()=>{const{disabled:l,eventKey:d}=e,{draggable:I,dropLevelOffset:U,dropPosition:Q,prefixCls:ee,indent:r,dropIndicatorRender:i,dragOverNodeKey:c,direction:g}=s.value;return!l&&I!==!1&&c===d?i({dropPosition:Q,dropLevelOffset:U,indent:r,prefixCls:ee,direction:g}):null},tt=()=>{var l,d,I,U,Q,ee;const{icon:r=o.icon,data:i}=e,c=o.title||((l=s.value.slots)===null||l===void 0?void 0:l[(I=(d=e.data)===null||d===void 0?void 0:d.slots)===null||I===void 0?void 0:I.title])||((U=s.value.slots)===null||U===void 0?void 0:U.title)||e.title,{prefixCls:g,showIcon:E,icon:x,loadData:y}=s.value,N=te.value,L=`${g}-node-content-wrapper`;let D;if(E){const ae=r||((Q=s.value.slots)===null||Q===void 0?void 0:Q[(ee=i==null?void 0:i.slots)===null||ee===void 0?void 0:ee.icon])||x;D=ae?m("span",{class:ue(`${g}-iconEle`,`${g}-icon__customize`)},[typeof ae=="function"?ae(T.value):ae]):Be()}else y&&B.value&&(D=Be());let P;typeof c=="function"?P=c(T.value):P=c,P=P===void 0?to:P;const A=m("span",{class:`${g}-title`},[P]);return m("span",{ref:_,title:typeof c=="string"?c:"",class:ue(`${L}`,`${L}-${oe.value||"normal"}`,!N&&(V.value||v.value)&&`${g}-node-selected`),onMouseenter:Pe,onMouseleave:qe,onContextmenu:Ue,onClick:$e,onDblclick:ie},[D,A,we()])};return()=>{const l=k(k({},e),n),{eventKey:d,isLeaf:I,isStart:U,isEnd:Q,domRef:ee,active:r,data:i,onMousemove:c,selectable:g}=l,E=eo(l,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:x,filterTreeNode:y,keyEntities:N,dropContainerKey:L,dropTargetKey:D,draggingNodeKey:P}=s.value,A=te.value,ae=Vt(E,{aria:!0,data:!0}),{level:ge}=N[d]||{},se=Q[Q.length-1],le=Le(),xe=!A&&le,Te=P===d,nt=g!==void 0?{"aria-selected":!!g}:void 0;return m("div",X(X({ref:ee,class:ue(n.class,`${x}-treenode`,{[`${x}-treenode-disabled`]:A,[`${x}-treenode-switcher-${w.value?"open":"close"}`]:!I,[`${x}-treenode-checkbox-checked`]:j.value,[`${x}-treenode-checkbox-indeterminate`]:Y.value,[`${x}-treenode-selected`]:V.value,[`${x}-treenode-loading`]:B.value,[`${x}-treenode-active`]:r,[`${x}-treenode-leaf-last`]:se,[`${x}-treenode-draggable`]:xe,dragging:Te,"drop-target":D===d,"drop-container":L===d,"drag-over":!A&&Z.value,"drag-over-gap-top":!A&&R.value,"drag-over-gap-bottom":!A&&u.value,"filter-node":y&&y(q.value)}),style:n.style,draggable:xe,"aria-grabbed":Te,onDragstart:xe?We:void 0,onDragenter:le?Ge:void 0,onDragover:le?Xe:void 0,onDragleave:le?Ae:void 0,onDrop:le?Ze:void 0,onDragend:le?Ye:void 0,onMousemove:c},nt),ae),[m(Jn,{prefixCls:x,level:ge,isStart:U,isEnd:Q},null),Me(),Qe(),et(),tt()])}}});var Dt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const no=Ee({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:k(k({},on),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:o}=t;const a=M(!0),v=pt(),s=M(!1),p=b(()=>e.motion?e.motion:zn()),O=(S,$)=>{var K,z,F,G;$==="appear"?(z=(K=p.value)===null||K===void 0?void 0:K.onAfterEnter)===null||z===void 0||z.call(K,S):$==="leave"&&((G=(F=p.value)===null||F===void 0?void 0:F.onAfterLeave)===null||G===void 0||G.call(F,S)),s.value||e.onMotionEnd(),s.value=!0};return ve(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&a.value&&gt(()=>{a.value=!1})},{immediate:!0,flush:"post"}),Xt(()=>{e.motionNodes&&e.onMotionStart()}),Tn(()=>{e.motionNodes&&O()}),()=>{const{motion:S,motionNodes:$,motionType:K,active:z,eventKey:F}=e,G=Dt(e,["motion","motionNodes","motionType","active","eventKey"]);return $?m(An,X(X({},p.value),{},{appear:K==="show",onAfterAppear:h=>O(h,"appear"),onAfterLeave:h=>O(h,"leave")}),{default:()=>[In(m("div",{class:`${v.value.prefixCls}-treenode-motion`},[$.map(h=>{const f=Dt(h.data,[]),{title:w,key:V,isStart:j,isEnd:W}=h;return delete f.children,m(vt,X(X({},f),{},{title:w,active:z,data:h.data,key:V,eventKey:V,isStart:j,isEnd:W}),o)})]),[[_n,a.value]])]}):m(vt,X(X({class:n.class,style:n.style},G),{},{active:z,eventKey:F}),o)}}});function oo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,o=t.length;if(Math.abs(n-o)!==1)return{add:!1,key:null};function a(v,s){const p=new Map;v.forEach(S=>{p.set(S,!0)});const O=s.filter(S=>!p.has(S));return O.length===1?O[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}function Nt(e,t,n){const o=e.findIndex(s=>s.key===n),a=e[o+1],v=t.findIndex(s=>s.key===n);if(a){const s=t.findIndex(p=>p.key===a.key);return t.slice(v+1,s)}return t.slice(v+1)}var Pt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Tt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ao=()=>{},Ce=`RC_TREE_MOTION_${Math.random()}`,yt={key:Ce},ln={key:Ce,level:0,index:0,pos:"0",node:yt,nodes:[yt]},It={parent:null,children:[],pos:ln.pos,data:yt,title:null,key:Ce,isStart:[],isEnd:[]};function _t(e,t,n,o){return t===!1||!n?e:e.slice(0,Math.ceil(n/o)+1)}function At(e){const{key:t,pos:n}=e;return Zt(t,n)}function lo(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const ro=Ee({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:Qn,setup(e,t){let{expose:n,attrs:o}=t;const a=fe(),v=fe(),{expandedKeys:s,flattenNodes:p}=nn();n({scrollTo:h=>{a.value.scrollTo(h)},getIndentWidth:()=>v.value.offsetWidth});const O=M(p.value),S=M([]),$=fe(null);function K(){O.value=p.value,S.value=[],$.value=null,e.onListChangeEnd()}const z=pt();ve([()=>s.value.slice(),p],(h,f)=>{let[w,V]=h,[j,W]=f;const B=oo(j,w);if(B.key!==null){const{virtual:Y,height:Z,itemHeight:R}=e;if(B.add){const u=W.findIndex(J=>{let{key:H}=J;return H===B.key}),C=_t(Nt(W,V,B.key),Y,Z,R),_=W.slice();_.splice(u+1,0,It),O.value=_,S.value=C,$.value="show"}else{const u=V.findIndex(J=>{let{key:H}=J;return H===B.key}),C=_t(Nt(V,W,B.key),Y,Z,R),_=V.slice();_.splice(u+1,0,It),O.value=_,S.value=C,$.value="hide"}}else W!==V&&(O.value=V)}),ve(()=>z.value.dragging,h=>{h||K()});const F=b(()=>e.motion===void 0?O.value:p.value),G=()=>{e.onActiveChange(null)};return()=>{const h=k(k({},e),o),{prefixCls:f,selectable:w,checkable:V,disabled:j,motion:W,height:B,itemHeight:Y,virtual:Z,focusable:R,activeItem:u,focused:C,tabindex:_,onKeydown:J,onFocus:H,onBlur:oe,onListChangeStart:te,onListChangeEnd:Ke}=h,re=Pt(h,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return m(Fn,null,[C&&u&&m("span",{style:Tt,"aria-live":"assertive"},[lo(u)]),m("div",null,[m("input",{style:Tt,disabled:R===!1||j,tabindex:R!==!1?_:null,onKeydown:J,onFocus:H,onBlur:oe,value:"",onChange:ao,"aria-label":"for screen reader"},null)]),m("div",{class:`${f}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[m("div",{class:`${f}-indent`},[m("div",{ref:v,class:`${f}-indent-unit`},null)])]),m(Vn,X(X({},zt(re,["onActiveChange"])),{},{data:F.value,itemKey:At,height:B,fullHeight:!1,virtual:Z,itemHeight:Y,prefixCls:`${f}-list`,ref:a,onVisibleChange:(T,ye)=>{const q=new Set(T);ye.filter(ie=>!q.has(ie)).some(ie=>At(ie)===Ce)&&K()}}),{default:T=>{const{pos:ye}=T,q=Pt(T.data,[]),{title:ne,key:ie,isStart:he,isEnd:Se}=T,$e=Zt(ie,ye);return delete q.key,delete q.children,m(no,X(X({},q),{},{eventKey:$e,title:ne,active:!!u&&ie===u.key,data:T.data,isStart:he,isEnd:Se,motion:W,motionNodes:ie===Ce?S.value:null,motionType:$.value,onMotionStart:te,onMotionEnd:K,onMousemove:G}),null)}})])}}});function io(e){let{dropPosition:t,dropLevelOffset:n,indent:o}=e;const a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:a.top=0,a.left=`${-n*o}px`;break;case 1:a.bottom=0,a.left=`${-n*o}px`;break;case 0:a.bottom=0,a.left=`${o}`;break}return m("div",{style:a},null)}const so=10,co=Ee({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:ht(an(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:io,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:o,expose:a}=t;const v=M(!1);let s={};const p=M(),O=M([]),S=M([]),$=M([]),K=M([]),z=M([]),F=M([]),G={},h=Gt({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),f=M([]);ve([()=>e.treeData,()=>e.children],()=>{f.value=e.treeData!==void 0?ot(e.treeData).slice():ut(ot(e.children))},{immediate:!0,deep:!0});const w=M({}),V=M(!1),j=M(null),W=M(!1),B=b(()=>Jt(e.fieldNames)),Y=M();let Z=null,R=null,u=null;const C=b(()=>({expandedKeysSet:_.value,selectedKeysSet:J.value,loadedKeysSet:H.value,loadingKeysSet:oe.value,checkedKeysSet:te.value,halfCheckedKeysSet:Ke.value,dragOverNodeKey:h.dragOverNodeKey,dropPosition:h.dropPosition,keyEntities:w.value})),_=b(()=>new Set(F.value)),J=b(()=>new Set(O.value)),H=b(()=>new Set(K.value)),oe=b(()=>new Set(z.value)),te=b(()=>new Set(S.value)),Ke=b(()=>new Set($.value));Oe(()=>{if(f.value){const r=Qt(f.value,{fieldNames:B.value});w.value=k({[Ce]:ln},r.keyEntities)}});let re=!1;ve([()=>e.expandedKeys,()=>e.autoExpandParent,w],(r,i)=>{let[c,g]=r,[E,x]=i,y=F.value;if(e.expandedKeys!==void 0||re&&g!==x)y=e.autoExpandParent||!re&&e.defaultExpandParent?ft(e.expandedKeys,w.value):e.expandedKeys;else if(!re&&e.defaultExpandAll){const N=k({},w.value);delete N[Ce],y=Object.keys(N).map(L=>N[L].key)}else!re&&e.defaultExpandedKeys&&(y=e.autoExpandParent||e.defaultExpandParent?ft(e.defaultExpandedKeys,w.value):e.defaultExpandedKeys);y&&(F.value=y),re=!0},{immediate:!0});const T=M([]);Oe(()=>{T.value=jn(f.value,F.value,B.value)}),Oe(()=>{e.selectable&&(e.selectedKeys!==void 0?O.value=Ot(e.selectedKeys,e):!re&&e.defaultSelectedKeys&&(O.value=Ot(e.defaultSelectedKeys,e)))});const{maxLevel:ye,levelEntities:q}=Bn(w);Oe(()=>{if(e.checkable){let r;if(e.checkedKeys!==void 0?r=at(e.checkedKeys)||{}:!re&&e.defaultCheckedKeys?r=at(e.defaultCheckedKeys)||{}:f.value&&(r=at(e.checkedKeys)||{checkedKeys:S.value,halfCheckedKeys:$.value}),r){let{checkedKeys:i=[],halfCheckedKeys:c=[]}=r;e.checkStrictly||({checkedKeys:i,halfCheckedKeys:c}=lt(i,!0,w.value,ye.value,q.value)),S.value=i,$.value=c}}}),Oe(()=>{e.loadedKeys&&(K.value=e.loadedKeys)});const ne=()=>{k(h,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ie=r=>{Y.value.scrollTo(r)};ve(()=>e.activeKey,()=>{e.activeKey!==void 0&&(j.value=e.activeKey)},{immediate:!0}),ve(j,r=>{gt(()=>{r!==null&&ie({key:r})})},{immediate:!0,flush:"post"});const he=r=>{e.expandedKeys===void 0&&(F.value=r)},Se=()=>{h.draggingNodeKey!==null&&k(h,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),Z=null,u=null},$e=(r,i)=>{const{onDragend:c}=e;h.dragOverNodeKey=null,Se(),c==null||c({event:r,node:i.eventData}),R=null},Pe=r=>{$e(r,null),window.removeEventListener("dragend",Pe)},qe=(r,i)=>{const{onDragstart:c}=e,{eventKey:g,eventData:E}=i;R=i,Z={x:r.clientX,y:r.clientY};const x=pe(F.value,g);h.draggingNodeKey=g,h.dragChildrenKeys=Hn(g,w.value),p.value=Y.value.getIndentWidth(),he(x),window.addEventListener("dragend",Pe),c&&c({event:r,node:E})},Ue=(r,i)=>{const{onDragenter:c,onExpand:g,allowDrop:E,direction:x}=e,{pos:y,eventKey:N}=i;if(u!==N&&(u=N),!R){ne();return}const{dropPosition:L,dropLevelOffset:D,dropTargetKey:P,dropContainerKey:A,dropTargetPos:ae,dropAllowed:ge,dragOverNodeKey:se}=Ct(r,R,i,p.value,Z,E,T.value,w.value,_.value,x);if(h.dragChildrenKeys.indexOf(P)!==-1||!ge){ne();return}if(s||(s={}),Object.keys(s).forEach(le=>{clearTimeout(s[le])}),R.eventKey!==i.eventKey&&(s[y]=window.setTimeout(()=>{if(h.draggingNodeKey===null)return;let le=F.value.slice();const xe=w.value[i.eventKey];xe&&(xe.children||[]).length&&(le=ke(F.value,i.eventKey)),he(le),g&&g(le,{node:i.eventData,expanded:!0,nativeEvent:r})},800)),R.eventKey===P&&D===0){ne();return}k(h,{dragOverNodeKey:se,dropPosition:L,dropLevelOffset:D,dropTargetKey:P,dropContainerKey:A,dropTargetPos:ae,dropAllowed:ge}),c&&c({event:r,node:i.eventData,expandedKeys:F.value})},We=(r,i)=>{const{onDragover:c,allowDrop:g,direction:E}=e;if(!R)return;const{dropPosition:x,dropLevelOffset:y,dropTargetKey:N,dropContainerKey:L,dropAllowed:D,dropTargetPos:P,dragOverNodeKey:A}=Ct(r,R,i,p.value,Z,g,T.value,w.value,_.value,E);h.dragChildrenKeys.indexOf(N)!==-1||!D||(R.eventKey===N&&y===0?h.dropPosition===null&&h.dropLevelOffset===null&&h.dropTargetKey===null&&h.dropContainerKey===null&&h.dropTargetPos===null&&h.dropAllowed===!1&&h.dragOverNodeKey===null||ne():x===h.dropPosition&&y===h.dropLevelOffset&&N===h.dropTargetKey&&L===h.dropContainerKey&&P===h.dropTargetPos&&D===h.dropAllowed&&A===h.dragOverNodeKey||k(h,{dropPosition:x,dropLevelOffset:y,dropTargetKey:N,dropContainerKey:L,dropTargetPos:P,dropAllowed:D,dragOverNodeKey:A}),c&&c({event:r,node:i.eventData}))},Ge=(r,i)=>{u===i.eventKey&&!r.currentTarget.contains(r.relatedTarget)&&(ne(),u=null);const{onDragleave:c}=e;c&&c({event:r,node:i.eventData})},Xe=function(r,i){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var g;const{dragChildrenKeys:E,dropPosition:x,dropTargetKey:y,dropTargetPos:N,dropAllowed:L}=h;if(!L)return;const{onDrop:D}=e;if(h.dragOverNodeKey=null,Se(),y===null)return;const P=k(k({},Re(y,ot(C.value))),{active:((g=I.value)===null||g===void 0?void 0:g.key)===y,data:w.value[y].node});E.indexOf(y);const A=Rn(N),ae={event:r,node:Ve(P),dragNode:R?R.eventData:null,dragNodesKeys:[R.eventKey].concat(E),dropToGap:x!==0,dropPosition:x+Number(A[A.length-1])};c||D==null||D(ae),R=null},Ae=(r,i)=>{const{expanded:c,key:g}=i,E=T.value.filter(y=>y.key===g)[0],x=Ve(k(k({},Re(g,C.value)),{data:E.data}));he(c?pe(F.value,g):ke(F.value,g)),we(r,x)},Ye=(r,i)=>{const{onClick:c,expandAction:g}=e;g==="click"&&Ae(r,i),c&&c(r,i)},Ze=(r,i)=>{const{onDblclick:c,expandAction:g}=e;(g==="doubleclick"||g==="dblclick")&&Ae(r,i),c&&c(r,i)},Fe=(r,i)=>{let c=O.value;const{onSelect:g,multiple:E}=e,{selected:x}=i,y=i[B.value.key],N=!x;N?E?c=ke(c,y):c=[y]:c=pe(c,y);const L=w.value,D=c.map(P=>{const A=L[P];return A?A.node:null}).filter(P=>P);e.selectedKeys===void 0&&(O.value=c),g&&g(c,{event:"select",selected:N,node:i,selectedNodes:D,nativeEvent:r})},Le=(r,i,c)=>{const{checkStrictly:g,onCheck:E}=e,x=i[B.value.key];let y;const N={event:"check",node:i,checked:c,nativeEvent:r},L=w.value;if(g){const D=c?ke(S.value,x):pe(S.value,x),P=pe($.value,x);y={checked:D,halfChecked:P},N.checkedNodes=D.map(A=>L[A]).filter(A=>A).map(A=>A.node),e.checkedKeys===void 0&&(S.value=D)}else{let{checkedKeys:D,halfCheckedKeys:P}=lt([...S.value,x],!0,L,ye.value,q.value);if(!c){const A=new Set(D);A.delete(x),{checkedKeys:D,halfCheckedKeys:P}=lt(Array.from(A),{checked:!1,halfCheckedKeys:P},L,ye.value,q.value)}y=D,N.checkedNodes=[],N.checkedNodesPositions=[],N.halfCheckedKeys=P,D.forEach(A=>{const ae=L[A];if(!ae)return;const{node:ge,pos:se}=ae;N.checkedNodes.push(ge),N.checkedNodesPositions.push({node:ge,pos:se})}),e.checkedKeys===void 0&&(S.value=D,$.value=P)}E&&E(y,N)},Me=r=>{const i=r[B.value.key],c=new Promise((g,E)=>{const{loadData:x,onLoad:y}=e;if(!x||H.value.has(i)||oe.value.has(i))return null;x(r).then(()=>{const L=ke(K.value,i),D=pe(z.value,i);y&&y(L,{event:"load",node:r}),e.loadedKeys===void 0&&(K.value=L),z.value=D,g()}).catch(L=>{const D=pe(z.value,i);if(z.value=D,G[i]=(G[i]||0)+1,G[i]>=so){const P=ke(K.value,i);e.loadedKeys===void 0&&(K.value=P),g()}E(L)}),z.value=ke(z.value,i)});return c.catch(()=>{}),c},Je=(r,i)=>{const{onMouseenter:c}=e;c&&c({event:r,node:i})},je=(r,i)=>{const{onMouseleave:c}=e;c&&c({event:r,node:i})},Qe=(r,i)=>{const{onRightClick:c}=e;c&&(r.preventDefault(),c({event:r,node:i}))},et=r=>{const{onFocus:i}=e;V.value=!0,i&&i(r)},Be=r=>{const{onBlur:i}=e;V.value=!1,d(null),i&&i(r)},we=(r,i)=>{let c=F.value;const{onExpand:g,loadData:E}=e,{expanded:x}=i,y=i[B.value.key];if(W.value)return;c.indexOf(y);const N=!x;if(N?c=ke(c,y):c=pe(c,y),he(c),g&&g(c,{node:i,expanded:N,nativeEvent:r}),N&&E){const L=Me(i);L&&L.then(()=>{}).catch(D=>{const P=pe(F.value,y);he(P),Promise.reject(D)})}},tt=()=>{W.value=!0},l=()=>{setTimeout(()=>{W.value=!1})},d=r=>{const{onActiveChange:i}=e;j.value!==r&&(e.activeKey!==void 0&&(j.value=r),r!==null&&ie({key:r}),i&&i(r))},I=b(()=>j.value===null?null:T.value.find(r=>{let{key:i}=r;return i===j.value})||null),U=r=>{let i=T.value.findIndex(g=>{let{key:E}=g;return E===j.value});i===-1&&r<0&&(i=T.value.length),i=(i+r+T.value.length)%T.value.length;const c=T.value[i];if(c){const{key:g}=c;d(g)}else d(null)},Q=b(()=>Ve(k(k({},Re(j.value,C.value)),{data:I.value.data,active:!0}))),ee=r=>{const{onKeydown:i,checkable:c,selectable:g}=e;switch(r.which){case De.UP:{U(-1),r.preventDefault();break}case De.DOWN:{U(1),r.preventDefault();break}}const E=I.value;if(E&&E.data){const x=E.data.isLeaf===!1||!!(E.data.children||[]).length,y=Q.value;switch(r.which){case De.LEFT:{x&&_.value.has(j.value)?we({},y):E.parent&&d(E.parent.key),r.preventDefault();break}case De.RIGHT:{x&&!_.value.has(j.value)?we({},y):E.children&&E.children.length&&d(E.children[0].key),r.preventDefault();break}case De.ENTER:case De.SPACE:{c&&!y.disabled&&y.checkable!==!1&&!y.disableCheckbox?Le({},y,!te.value.has(j.value)):!c&&g&&!y.disabled&&y.selectable!==!1&&Fe({},y);break}}}i&&i(r)};return a({onNodeExpand:we,scrollTo:ie,onKeydown:ee,selectedKeys:b(()=>O.value),checkedKeys:b(()=>S.value),halfCheckedKeys:b(()=>$.value),loadedKeys:b(()=>K.value),loadingKeys:b(()=>z.value),expandedKeys:b(()=>F.value)}),Ln(()=>{window.removeEventListener("dragend",Pe),v.value=!0}),Yn({expandedKeys:F,selectedKeys:O,loadedKeys:K,loadingKeys:z,checkedKeys:S,halfCheckedKeys:$,expandedKeysSet:_,selectedKeysSet:J,loadedKeysSet:H,loadingKeysSet:oe,checkedKeysSet:te,halfCheckedKeysSet:Ke,flattenNodes:T}),()=>{const{draggingNodeKey:r,dropLevelOffset:i,dropContainerKey:c,dropTargetKey:g,dropPosition:E,dragOverNodeKey:x}=h,{prefixCls:y,showLine:N,focusable:L,tabindex:D=0,selectable:P,showIcon:A,icon:ae=o.icon,switcherIcon:ge,draggable:se,checkable:le,checkStrictly:xe,disabled:Te,motion:nt,loadData:dn,filterTreeNode:cn,height:un,itemHeight:fn,virtual:vn,dropIndicatorRender:yn,onContextmenu:hn,onScroll:gn,direction:pn,rootClassName:bn,rootStyle:mn}=e,{class:Kn,style:xn}=n,kn=Vt(k(k({},e),n),{aria:!0,data:!0});let Ie;return se?typeof se=="object"?Ie=se:typeof se=="function"?Ie={nodeDraggable:se}:Ie={}:Ie=!1,m(Xn,{value:{prefixCls:y,selectable:P,showIcon:A,icon:ae,switcherIcon:ge,draggable:Ie,draggingNodeKey:r,checkable:le,customCheckable:o.checkable,checkStrictly:xe,disabled:Te,keyEntities:w.value,dropLevelOffset:i,dropContainerKey:c,dropTargetKey:g,dropPosition:E,dragOverNodeKey:x,dragging:r!==null,indent:p.value,direction:pn,dropIndicatorRender:yn,loadData:dn,filterTreeNode:cn,onNodeClick:Ye,onNodeDoubleClick:Ze,onNodeExpand:we,onNodeSelect:Fe,onNodeCheck:Le,onNodeLoad:Me,onNodeMouseEnter:Je,onNodeMouseLeave:je,onNodeContextMenu:Qe,onNodeDragStart:qe,onNodeDragEnter:Ue,onNodeDragOver:We,onNodeDragLeave:Ge,onNodeDragEnd:$e,onNodeDrop:Xe,slots:o}},{default:()=>[m("div",{role:"tree",class:ue(y,Kn,bn,{[`${y}-show-line`]:N,[`${y}-focused`]:V.value,[`${y}-active-focused`]:j.value!==null}),style:mn},[m(ro,X({ref:Y,prefixCls:y,style:xn,disabled:Te,selectable:P,checkable:!!le,motion:nt,height:un,itemHeight:fn,virtual:vn,focusable:L,focused:V.value,tabindex:D,activeItem:I.value,onFocus:et,onBlur:Be,onKeydown:ee,onActiveChange:d,onListChangeStart:tt,onListChangeEnd:l,onContextmenu:hn,onScroll:gn},kn),null)])]})}}});var uo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const fo=uo;function Ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){vo(e,a,n[a])})}return e}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bt=function(t,n){var o=Ft({},t,n.attrs);return m(_e,Ft({},o,{icon:fo}),null)};bt.displayName="FileOutlined";bt.inheritAttrs=!1;const rn=bt;var yo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const ho=yo;function Lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){go(e,a,n[a])})}return e}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt=function(t,n){var o=Lt({},t,n.attrs);return m(_e,Lt({},o,{icon:ho}),null)};mt.displayName="MinusSquareOutlined";mt.inheritAttrs=!1;const po=mt;var bo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const mo=bo;function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Ko(e,a,n[a])})}return e}function Ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(t,n){var o=Mt({},t,n.attrs);return m(_e,Mt({},o,{icon:mo}),null)};Kt.displayName="PlusSquareOutlined";Kt.inheritAttrs=!1;const xo=Kt;function ko(e,t,n,o,a){const{isLeaf:v,expanded:s,loading:p}=n;let O=t;if(p)return m(Sn,{class:`${e}-switcher-loading-icon`},null);let S;a&&typeof a=="object"&&(S=a.showLeafIcon);let $=null;const K=`${e}-switcher-icon`;return v?a?S&&o?o(n):(typeof a=="object"&&!S?$=m("span",{class:`${e}-switcher-leaf-line`},null):$=m(rn,{class:`${e}-switcher-line-icon`},null),$):null:($=m(Un,{class:K},null),a&&($=s?m(po,{class:`${e}-switcher-line-icon`},null):m(xo,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?O=t(k(k({},n),{defaultIcon:$,switcherCls:K})):wn(O)&&(O=Mn(O,{class:K})),O||$)}const jt=4;function So(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:o,indent:a,direction:v="ltr"}=e,s=v==="ltr"?"left":"right",p=v==="ltr"?"right":"left",O={[s]:`${-n*a+jt}px`,[p]:0};switch(t){case-1:O.top="-3px";break;case 1:O.bottom="-3px";break;default:O.bottom="-3px",O[s]=`${a+jt}px`;break}return m("div",{style:O,class:`${o}-drop-indicator`},null)}const wo=new Cn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Oo=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Co=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Eo=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:v}=t,s=(v-t.fontSizeLG)/2,p=t.paddingXS;return{[n]:k(k({},$n(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:k({},wt(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:wo,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${o}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${a}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:k({},wt(t)),[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:v,lineHeight:`${v}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${o}:hover &`]:{opacity:.45}},[`&${o}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:v}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:k(k({},Oo(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:v,margin:0,lineHeight:`${v}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:v/2,bottom:-a,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:v/2*.8,height:v/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:p,marginBlockStart:s},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:v,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${v}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:v,height:v,lineHeight:`${v}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:k({lineHeight:`${v}px`,userSelect:"none"},Co(e,t)),[`${o}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:v/2,bottom:-a,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${v/2}px !important`}}}}})}},$o=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},Do=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,a=t.paddingXS/2,v=t.controlHeightSM,s=En(t,{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:v});return[Eo(e,s),$o(s)]},No=On("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:Wn(`${n}-checkbox`,e)},Do(n,e),qn(e)]}),sn=()=>{const e=an();return k(k({},e),{showLine:ct([Boolean,Object]),multiple:de(),autoExpandParent:de(),checkStrictly:de(),checkable:de(),disabled:de(),defaultExpandAll:de(),defaultExpandParent:de(),defaultExpandedKeys:Ne(),expandedKeys:Ne(),checkedKeys:ct([Array,Object]),defaultCheckedKeys:Ne(),selectedKeys:Ne(),defaultSelectedKeys:Ne(),selectable:de(),loadedKeys:Ne(),draggable:de(),showIcon:de(),icon:He(),switcherIcon:me.any,prefixCls:String,replaceFields:Nn(),blockNode:de(),openAnimation:me.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":He(),"onUpdate:checkedKeys":He(),"onUpdate:expandedKeys":He()})},ze=Ee({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:ht(sn(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(e,t){let{attrs:n,expose:o,emit:a,slots:v}=t;Rt(!(e.treeData===void 0&&v.default));const{prefixCls:s,direction:p,virtual:O}=qt("tree",e),[S,$]=No(s),K=fe();o({treeRef:K,onNodeExpand:function(){var f;(f=K.value)===null||f===void 0||f.onNodeExpand(...arguments)},scrollTo:f=>{var w;(w=K.value)===null||w===void 0||w.scrollTo(f)},selectedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.selectedKeys}),checkedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.checkedKeys}),halfCheckedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.halfCheckedKeys}),loadedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.loadedKeys}),loadingKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.loadingKeys}),expandedKeys:b(()=>{var f;return(f=K.value)===null||f===void 0?void 0:f.expandedKeys})}),Oe(()=>{Dn(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const F=(f,w)=>{a("update:checkedKeys",f),a("check",f,w)},G=(f,w)=>{a("update:expandedKeys",f),a("expand",f,w)},h=(f,w)=>{a("update:selectedKeys",f),a("select",f,w)};return()=>{const{showIcon:f,showLine:w,switcherIcon:V=v.switcherIcon,icon:j=v.icon,blockNode:W,checkable:B,selectable:Y,fieldNames:Z=e.replaceFields,motion:R=e.openAnimation,itemHeight:u=28,onDoubleclick:C,onDblclick:_}=e,J=k(k(k({},n),zt(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!w,dropIndicatorRender:So,fieldNames:Z,icon:j,itemHeight:u}),H=v.default?dt(v.default()):void 0;return S(m(co,X(X({},J),{},{virtual:O.value,motion:R,ref:K,prefixCls:s.value,class:ue({[`${s.value}-icon-hide`]:!f,[`${s.value}-block-node`]:W,[`${s.value}-unselectable`]:!Y,[`${s.value}-rtl`]:p.value==="rtl"},n.class,$.value),direction:p.value,checkable:B,selectable:Y,switcherIcon:oe=>ko(s.value,V,oe,v.leafIcon,w),onCheck:F,onExpand:G,onSelect:h,onDblclick:_||C,children:H}),k(k({},v),{checkable:()=>m("span",{class:`${s.value}-checkbox-inner`},null)})))}}});var Po={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const To=Po;function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Io(e,a,n[a])})}return e}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(t,n){var o=Bt({},t,n.attrs);return m(_e,Bt({},o,{icon:To}),null)};xt.displayName="FolderOpenOutlined";xt.inheritAttrs=!1;const _o=xt;var Ao={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const Fo=Ao;function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Lo(e,a,n[a])})}return e}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt=function(t,n){var o=Ht({},t,n.attrs);return m(_e,Ht({},o,{icon:Fo}),null)};kt.displayName="FolderOutlined";kt.inheritAttrs=!1;const Mo=kt;var be;(function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"})(be||(be={}));function St(e,t,n){function o(a){const v=a[t.key],s=a[t.children];n(v,a)!==!1&&St(s||[],t,n)}e.forEach(o)}function jo(e){let{treeData:t,expandedKeys:n,startKey:o,endKey:a,fieldNames:v={title:"title",key:"key",children:"children"}}=e;const s=[];let p=be.None;if(o&&o===a)return[o];if(!o||!a)return[];function O(S){return S===o||S===a}return St(t,v,S=>{if(p===be.End)return!1;if(O(S)){if(s.push(S),p===be.None)p=be.Start;else if(p===be.Start)return p=be.End,!1}else p===be.Start&&s.push(S);return n.includes(S)}),s}function rt(e,t,n){const o=[...t],a=[];return St(e,n,(v,s)=>{const p=o.indexOf(v);return p!==-1&&(a.push(s),o.splice(p,1)),!!o.length}),a}var Bo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Ho=()=>k(k({},sn()),{expandAction:ct([Boolean,String])});function Ro(e){const{isLeaf:t,expanded:n}=e;return t?m(rn,null,null):n?m(_o,null,null):m(Mo,null,null)}const it=Ee({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:ht(Ho(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(e,t){let{attrs:n,slots:o,emit:a,expose:v}=t;var s;const p=fe(e.treeData||ut(dt((s=o.default)===null||s===void 0?void 0:s.call(o))));ve(()=>e.treeData,()=>{p.value=e.treeData}),Yt(()=>{gt(()=>{var u;e.treeData===void 0&&o.default&&(p.value=ut(dt((u=o.default)===null||u===void 0?void 0:u.call(o))))})});const O=fe(),S=fe(),$=b(()=>Jt(e.fieldNames)),K=fe();v({scrollTo:u=>{var C;(C=K.value)===null||C===void 0||C.scrollTo(u)},selectedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.selectedKeys}),checkedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.checkedKeys}),halfCheckedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.halfCheckedKeys}),loadedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.loadedKeys}),loadingKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.loadingKeys}),expandedKeys:b(()=>{var u;return(u=K.value)===null||u===void 0?void 0:u.expandedKeys})});const F=()=>{const{keyEntities:u}=Qt(p.value,{fieldNames:$.value});let C;return e.defaultExpandAll?C=Object.keys(u):e.defaultExpandParent?C=ft(e.expandedKeys||e.defaultExpandedKeys||[],u):C=e.expandedKeys||e.defaultExpandedKeys,C},G=fe(e.selectedKeys||e.defaultSelectedKeys||[]),h=fe(F());ve(()=>e.selectedKeys,()=>{e.selectedKeys!==void 0&&(G.value=e.selectedKeys)},{immediate:!0}),ve(()=>e.expandedKeys,()=>{e.expandedKeys!==void 0&&(h.value=e.expandedKeys)},{immediate:!0});const w=Gn((u,C)=>{const{isLeaf:_}=C;_||u.shiftKey||u.metaKey||u.ctrlKey||K.value.onNodeExpand(u,C)},200,{leading:!0}),V=(u,C)=>{e.expandedKeys===void 0&&(h.value=u),a("update:expandedKeys",u),a("expand",u,C)},j=(u,C)=>{const{expandAction:_}=e;_==="click"&&w(u,C),a("click",u,C)},W=(u,C)=>{const{expandAction:_}=e;(_==="dblclick"||_==="doubleclick")&&w(u,C),a("doubleclick",u,C),a("dblclick",u,C)},B=(u,C)=>{const{multiple:_}=e,{node:J,nativeEvent:H}=C,oe=J[$.value.key],te=k(k({},C),{selected:!0}),Ke=(H==null?void 0:H.ctrlKey)||(H==null?void 0:H.metaKey),re=H==null?void 0:H.shiftKey;let T;_&&Ke?(T=u,O.value=oe,S.value=T,te.selectedNodes=rt(p.value,T,$.value)):_&&re?(T=Array.from(new Set([...S.value||[],...jo({treeData:p.value,expandedKeys:h.value,startKey:oe,endKey:O.value,fieldNames:$.value})])),te.selectedNodes=rt(p.value,T,$.value)):(T=[oe],O.value=oe,S.value=T,te.selectedNodes=rt(p.value,T,$.value)),a("update:selectedKeys",T),a("select",T,te),e.selectedKeys===void 0&&(G.value=T)},Y=(u,C)=>{a("update:checkedKeys",u),a("check",u,C)},{prefixCls:Z,direction:R}=qt("tree",e);return()=>{const u=ue(`${Z.value}-directory`,{[`${Z.value}-directory-rtl`]:R.value==="rtl"},n.class),{icon:C=o.icon,blockNode:_=!0}=e,J=Bo(e,["icon","blockNode"]);return m(ze,X(X(X({},n),{},{icon:C||Ro,ref:K,blockNode:_},J),{},{prefixCls:Z.value,class:u,expandedKeys:h.value,selectedKeys:G.value,onSelect:B,onClick:j,onDblclick:W,onExpand:V,onCheck:Y}),o)}}}),st=vt,Zo=k(ze,{DirectoryTree:it,TreeNode:st,install:e=>(e.component(ze.name,ze),e.component(st.name,st),e.component(it.name,it),e)});export{Zo as _,ce as e};
