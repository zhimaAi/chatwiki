import{aa as g,f as u,o as h,a1 as v,_ as x}from"./vue-chunks-Ci-XTWEs.js";import{L as f}from"./list-tabs-xpus4ekB.js";import{a as _}from"./index-ekVIF3nC.js";const k={__name:"main-tab",emits:["change"],setup(b,{expose:i,emit:c}){const r=c,o=g(),a=u(localStorage.getItem("zm:explore:active")||"1"),l=u([{title:"功能",value:"1"},{title:`插件(${localStorage.getItem("zm:explore:plugins:count")||"0"})`,value:"2"},{title:"插件广场",value:"3"}]);h(()=>{s()});function n(e){switch(a.value=e.toString(),localStorage.setItem("zm:explore:active",e),r("change",e),Number(e)){case 1:o.push({path:"/explore/index"});break;case 2:case 3:o.push({path:"/plugins/index",query:{active:e}});break}}function s(){_().then(e=>{let t=(e==null?void 0:e.data)||[];l.value[1].title=`插件(${t.length})`,localStorage.setItem("zm:explore:plugins:count",t.length)})}function p(){s()}return i({change:n,update:p}),(e,t)=>(x(),v(f,{tabs:l.value,value:a.value,"onUpdate:value":t[0]||(t[0]=m=>a.value=m),onChange:n},null,8,["tabs","value"]))}};export{k as _};
