import{d as b}from"./index-BuURB1pl.js";import{u as w}from"../../index-DSFcP5NQ.js";/* empty css                                                                     */import{_ as y}from"./emoji-mart-BBMRoEa3.js";import{M as B,b as I}from"./ui-antd-Dl1wwwCD.js";import{r as a,c as M,e as N,b as _,t as U,p as e,_ as z,a as v,v as s}from"./vue-chunks-BdaA73Wf.js";const O={class:"plugin-box"},S={class:"base-info"},V=["src"],C={class:"info"},D={class:"head"},E={class:"name zm-line1"},J={key:0,class:"version-tag"},P={key:1,class:"version-tag"},T={class:"source"},j={class:"desc zm-line2"},q={__name:"update-modal",emits:["ok"],setup(A,{expose:m,emit:f}){const{t:o}=w("views.explore.plugins.components.update-modal"),g=f,l=a(!1),c=a(!1),t=a({}),u=a({}),n=a(null),r=M(()=>n.value?{title:o("title_update_plugin"),text:o("btn_update")}:{title:o("title_install_plugin"),text:o("btn_install")});function h(p,i,d=null){t.value=p,u.value=i,n.value=d,l.value=!0}function x(){c.value=!0,b({download_data:JSON.stringify([{url:u.value.download_url,version_id:u.value.id}])}).then(()=>{g("ok"),l.value=!1,I.success(o("msg_operation_completed",{operation:r.value.text}))}).finally(()=>{c.value=!1})}return m({show:h}),(p,i)=>{const d=B;return _(),N(d,{open:l.value,"onUpdate:open":i[0]||(i[0]=k=>l.value=k),title:r.value.title,"ok-text":r.value.text,"confirm-loading":c.value,onOk:x},{default:U(()=>[e("div",O,[e("div",S,[e("img",{class:"avatar",src:t.value.icon},null,8,V),e("div",C,[e("div",D,[e("span",E,[z(s(t.value.title)+" ",1),n.value?(_(),v("span",J,"v"+s(n.value.version)+" â†’ v"+s(t.value.latest_version),1)):(_(),v("span",P,"v"+s(t.value.latest_version),1))])]),e("div",T,s(t.value.author),1)])]),e("div",j,s(t.value.description),1)])]),_:1},8,["open","title","ok-text","confirm-loading"])}}},R=y(q,[["__scopeId","data-v-5c30185b"]]);export{R as U};
//# sourceMappingURL=update-modal-D3ZNMX09.js.map
