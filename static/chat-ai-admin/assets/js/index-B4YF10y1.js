import{u as W,_ as X}from"../../index-DSFcP5NQ.js";import{g as Y}from"./index-Cg7-0swo.js";import{u as Z,r as H}from"./guide-fGvKwZr_.js";import{_ as ee}from"./emoji-mart-BBMRoEa3.js";import{aX as te,ad as L,R as V,B as se,aY as oe,aM as _e,c as ae,u as re,v as ne,I as le,F as ie,aO as ce}from"./ui-antd-Dl1wwwCD.js";import{r as f,c as O,E as de,j as ue,J as ge,a,b as t,p as n,y as c,F as B,l as F,h as pe,e as k,u as r,_ as u,v as l,q as g,t as p}from"./vue-chunks-BdaA73Wf.js";const ve="/assets/img/create_library_1-D9MfBy0x.png",be="/assets/img/create_library_2-BZmWeNcM.png",me="/assets/img/create_robot_1-BO43gRxb.png",ye="/assets/img/create_robot_2-CpxcNmB7.png",he="/assets/img/create_robot_3-D2a2ho90.png",fe="/assets/img/header-D6KiFFRP.png",ke="/assets/img/set_model_1-BUKcrQt5.png",xe="/assets/img/header-D6KiFFRP.png",we={class:"guide-wrapper"},Ce={class:"guide-content"},Be={class:"guide-body"},Fe={class:"guide-left"},Re={class:"process-box"},qe={class:"menu-list-box"},Ne=["onClick"],Ie={class:"icon-box"},Se={class:"desc-box"},Ue={class:"title-text"},Te={class:"desc-text"},Me={class:"guide-right"},Oe={key:0,class:"step-list"},Pe={class:"step-icon"},De={key:1,class:"num-text"},Ge={class:"step-text"},Le={key:0,class:"right-icon"},Ve={key:1,class:"to-config-btn"},ze={key:2,class:"tag-list"},Ee={class:"tag-text-box"},Ke={key:0,class:"right-icon"},$e={key:3,class:"tag-desc-box"},je={key:4,class:"btn-block-wrapper",style:{"margin-top":"32px"}},Je={key:5,class:"btn-block-wrapper"},Ae={key:6,class:"guide-preview-box"},Qe={key:7,class:"chat-test-box"},We={key:0,class:"test-result"},Xe={class:"test-result-title"},Ye={key:0,class:"result-tag success"},Ze={key:1,class:"result-tag error"},He={class:"result-content"},et={__name:"index",setup(tt){const{t:e}=W("components.beginner-guide.index"),R=Z(),x=f([]),z=O(()=>+R.total_process),m=f("set_model"),h={set_model:{desc:e("desc_set_model"),tags:[e("tag_set_model_1"),e("tag_set_model_2"),e("tag_set_model_3"),e("tag_set_model_4"),e("tag_set_model_5")],step_desc:e("step_desc_set_model"),show_config_btn:!0,preview_imgs:["set_model_1"].map(o=>M(o)),config_url:"/#/user/model?activeTab=0"},create_library:{desc:e("desc_create_library"),tags:[e("tag_create_library_1"),e("tag_create_library_2"),e("tag_create_library_3"),e("tag_create_library_4")],step_desc:e("step_desc_create_library"),show_config_btn:!0,preview_imgs:["create_library_1","create_library_2"].map(o=>M(o)),config_url:"/#/library/list"},create_robot:{desc:e("desc_create_robot"),tags:[e("tag_create_robot_1"),e("tag_create_robot_2"),e("tag_create_robot_3"),e("tag_create_robot_4"),e("tag_create_robot_5")],step_desc:e("step_desc_create_robot"),show_config_btn:!0,preview_imgs:["create_robot_1","create_robot_2","create_robot_3"].map(o=>M(o)),config_url:"/#/robot/list"},test_robot:{desc:e("desc_test_robot")}},q=O(()=>{let o=R.process_list||[];return o.forEach((s,y)=>{var w,b,S,U,T,C;s.desc=(w=h[s.type])==null?void 0:w.desc,s.tags=(b=h[s.type])==null?void 0:b.tags,s.step_desc=(S=h[s.type])==null?void 0:S.step_desc,s.show_config_btn=(U=h[s.type])==null?void 0:U.show_config_btn,s.preview_imgs=(T=h[s.type])==null?void 0:T.preview_imgs,s.config_url=(C=h[s.type])==null?void 0:C.config_url,s.index=y}),o}),i=O(()=>q.value.find(o=>o.type==m.value)||{}),E=o=>{m.value=o.type},K=()=>{window.open(i.value.config_url)},P=()=>{let o=i.value.index;m.value=q.value[o-1].type},$=()=>{let o=i.value.index;m.value=q.value[o+1].type},d=de({robot_key:void 0,openid:"1",question:"你好",form_ids:"",dialogue_id:0,global:""}),N=f(""),D=f(!1),G=f(),j=()=>{G.value.validate().then(()=>{let o={...d},s=x.value.find(y=>y.robot_key==d.robot_key).id;o.global=JSON.stringify({robot_key:d.robot_key,id:s}),H(o).then(y=>{N.value=y.data.content}).catch(()=>{N.value=""}).finally(()=>{D.value=!0,R.getUseGuideProcess()})})},J=()=>{Y().then(o=>{x.value=(o.data||[]).filter(s=>s.application_type==0),!d.robot_key&&x.value.length&&(d.robot_key=x.value[0].robot_key)})};function M(o){return new URL(Object.assign({"../../assets/img/guide/create_library_1.png":ve,"../../assets/img/guide/create_library_2.png":be,"../../assets/img/guide/create_robot_1.png":me,"../../assets/img/guide/create_robot_2.png":ye,"../../assets/img/guide/create_robot_3.png":he,"../../assets/img/guide/header.png":fe,"../../assets/img/guide/set_model_1.png":ke})[`../../assets/img/guide/${o}.png`],import.meta.url).href}const I=f(null);return ue(()=>{J(),I.value=setInterval(()=>{R.getUseGuideProcess()},5e3)}),ge(()=>{I.value&&(clearInterval(I.value),I.value=null)}),(o,s)=>{const y=te,w=X,b=se,S=_e,U=ne,T=re,C=ae,A=le,Q=ie;return t(),a("div",we,[n("div",Ce,[s[4]||(s[4]=n("div",{class:"guide-header"},[n("img",{src:xe,alt:""})],-1)),n("div",Be,[n("div",Fe,[n("div",Re,[c(y,{percent:z.value},null,8,["percent"])]),n("div",qe,[(t(!0),a(B,null,F(q.value,(_,v)=>(t(),a("div",{class:pe(["menu-item",{active:_.type==m.value}]),onClick:st=>E(_),key:_.type},[n("div",Ie,[_.is_finish==1?(t(),k(r(L),{key:0,style:{color:"#21a665","font-size":"26px"}})):(t(),k(w,{key:1,name:_.type,style:{"font-size":"40px"}},null,8,["name"]))]),n("div",Se,[n("div",Ue,[n("span",null,"0"+l(v+1),1),u(l(_.name),1)]),n("div",Te,l(_.desc),1)])],10,Ne))),128))])]),n("div",Me,[i.value.steps?(t(),a("div",Oe,[(t(!0),a(B,null,F(i.value.steps,(_,v)=>(t(),a("div",{class:"step-item",key:_.type},[n("div",Pe,[_.is_finish==1?(t(),k(w,{key:0,style:{color:"#2475fc"},name:"steps-success-icon"})):(t(),a("span",De,l(v+1),1))]),n("div",Ge,l(_.name),1),v!=i.value.steps.length-1?(t(),a("div",Le,[c(r(V))])):g("",!0)]))),128))])):g("",!0),i.value.show_config_btn?(t(),a("div",Ve,[c(b,{onClick:s[0]||(s[0]=_=>K()),type:"primary",ghost:""},{default:p(()=>[u(l(r(e)("btn_go_to_config")),1)]),_:1})])):g("",!0),i.value.tags?(t(),a("div",ze,[(t(!0),a(B,null,F(i.value.tags,(_,v)=>(t(),a("div",{class:"tag-item",key:v},[n("div",Ee,l(_),1),v!=i.value.tags.length-1?(t(),a("div",Ke,[c(r(V))])):g("",!0)]))),128))])):g("",!0),i.value.step_desc?(t(),a("div",$e,l(i.value.step_desc),1)):g("",!0),m.value=="test_robot"?(t(),a("div",je,[c(b,{onClick:j,type:"primary",style:{"background-color":"#21a665"}},{default:p(()=>[c(r(oe)),u(l(r(e)("btn_start_test")),1)]),_:1}),c(b,{onClick:P},{default:p(()=>[u(l(r(e)("btn_pre")),1)]),_:1})])):(t(),a("div",Je,[i.value.index>0?(t(),k(b,{key:0,onClick:P},{default:p(()=>[u(l(r(e)("btn_pre")),1)]),_:1})):g("",!0),c(b,{onClick:$,type:"primary"},{default:p(()=>[u(l(r(e)("btn_next")),1)]),_:1})])),i.value.preview_imgs?(t(),a("div",Ae,[(t(!0),a(B,null,F(i.value.preview_imgs,(_,v)=>(t(),k(S,{width:"100%",index:v,src:_},null,8,["index","src"]))),256)),s[3]||(s[3]=n("div",{class:"img-item"},null,-1))])):g("",!0),m.value=="test_robot"?(t(),a("div",Qe,[c(Q,{model:d,ref_key:"formRef",ref:G,autocomplete:"off",layout:"vertical"},{default:p(()=>[c(C,{label:r(e)("label_robot"),name:"robot_key",rules:[{required:!0,message:r(e)("msg_select_robot")}]},{default:p(()=>[c(T,{value:d.robot_key,"onUpdate:value":s[1]||(s[1]=_=>d.robot_key=_),placeholder:r(e)("ph_select_robot"),style:{width:"364px"}},{default:p(()=>[(t(!0),a(B,null,F(x.value,_=>(t(),k(U,{value:_.robot_key},{default:p(()=>[u(l(_.robot_name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value","placeholder"])]),_:1},8,["label","rules"]),c(C,{label:r(e)("label_test_question"),name:"robot_key",rules:[{required:!0,message:r(e)("msg_input_question")}]},{default:p(()=>[c(A,{style:{width:"364px"},value:d.question,"onUpdate:value":s[2]||(s[2]=_=>d.question=_),placeholder:r(e)("ph_input_question")},null,8,["value","placeholder"])]),_:1},8,["label","rules"])]),_:1},8,["model"]),D.value?(t(),a("div",We,[n("div",Xe,[u(l(r(e)("title_test_result"))+" ",1),N.value?(t(),a("div",Ye,[c(r(L)),u(l(r(e)("tag_pass")),1)])):(t(),a("div",Ze,[c(r(ce)),u(l(r(e)("tag_error")),1)]))]),n("div",He,l(N.value),1)])):g("",!0)])):g("",!0)])])])])}}},it=ee(et,[["__scopeId","data-v-e7a56298"]]);export{it as B};
//# sourceMappingURL=index-B4YF10y1.js.map
