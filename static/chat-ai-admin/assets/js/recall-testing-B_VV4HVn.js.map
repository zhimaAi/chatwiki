{"version":3,"file":"recall-testing-B_VV4HVn.js","sources":["../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/components/recall-testing-form.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/recall-testing.vue"],"sourcesContent":["<style lang=\"less\" scoped>\r\n.recall-settings-box {\r\n  padding: 0 16px;\r\n  .alert-box {\r\n    padding: 9px 16px;\r\n    border: 1px solid #99bffd;\r\n    background: #e9f1fe;\r\n    border-radius: 2px;\r\n    color: #3a4559;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    font-weight: 400;\r\n    margin-bottom: 16px;\r\n  }\r\n  .form-box {\r\n    .form-item {\r\n      margin-bottom: 24px;\r\n    }\r\n\r\n    .form-item-label {\r\n      line-height: 22px;\r\n      margin-bottom: 4px;\r\n      font-size: 14px;\r\n      color: #262626;\r\n\r\n      .question-icon {\r\n        color: #8c8c8c;\r\n      }\r\n    }\r\n    .hover-label{\r\n      padding: 0 8px;\r\n      width: fit-content;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n      &:hover{\r\n        background: var(--07, #E4E6EB);\r\n      }\r\n    }\r\n\r\n    .is-required {\r\n      .form-item-label::before {\r\n        content: '*';\r\n        padding-right: 2px;\r\n        font-size: 14px;\r\n        color: #fb363f;\r\n      }\r\n    }\r\n\r\n    .number-box {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .number-slider-box {\r\n        flex: 1;\r\n      }\r\n\r\n      .number-input-box {\r\n        margin-left: 20px;\r\n      }\r\n    }\r\n\r\n    .retrieval-mode-items {\r\n      .retrieval-mode-item {\r\n        position: relative;\r\n        padding: 16px;\r\n        margin-top: 8px;\r\n        border-radius: 2px;\r\n        border: 1px solid #d9d9d9;\r\n        cursor: pointer;\r\n      }\r\n\r\n      .retrieval-mode-title {\r\n        display: flex;\r\n        align-items: center;\r\n        line-height: 22px;\r\n        margin-bottom: 4px;\r\n        color: #262626;\r\n\r\n        .title-icon {\r\n          margin-right: 4px;\r\n          font-size: 16px;\r\n        }\r\n\r\n        .title-text {\r\n          font-size: 14px;\r\n          font-weight: 600;\r\n        }\r\n\r\n        .recommendation-icon {\r\n          margin-left: 4px;\r\n          font-size: 36px;\r\n        }\r\n      }\r\n\r\n      .retrieval-mode-desc {\r\n        min-height: 44px;\r\n        line-height: 22px;\r\n        font-size: 14px;\r\n        color: #595959;\r\n      }\r\n\r\n      .check-arrow {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    .retrieval-mode-item.active {\r\n      border: 2px solid #2475fc;\r\n\r\n      .check-arrow {\r\n        position: absolute;\r\n        display: block;\r\n        right: -1px;\r\n        bottom: -1px;\r\n        width: 24px;\r\n        height: 24px;\r\n        font-size: 24px;\r\n        color: #fff;\r\n      }\r\n\r\n      .retrieval-mode-title {\r\n        color: #2475fc;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.model-icon {\r\n  height: 18px;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"recall-settings-box\">\r\n    <div class=\"alert-box\">\r\n      {{ t('alert_tip') }}\r\n    </div>\r\n    <div class=\"form-box\">\r\n      <div class=\"form-item\">\r\n        <div class=\"form-item-body\">\r\n          <a-textarea\r\n            style=\"height: 76px\"\r\n            v-model:value=\"formState.question\"\r\n            :placeholder=\"t('ph_test_question')\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"form-item\">\r\n        <a-button :loading=\"loading\" @click=\"handleRecallTest\" type=\"primary\" block>{{ t('btn_test') }}</a-button>\r\n      </div>\r\n      <div class=\"form-item\">\r\n        <div class=\"form-item-label\">\r\n          <div class=\"hover-label\" @click=\"isHide = !isHide\">\r\n            {{ t('label_retrieval_mode') }}\r\n            <DownOutlined v-if=\"isHide\" />\r\n            <UpOutlined v-else />\r\n          </div>\r\n        </div>\r\n        <div class=\"form-item-body\">\r\n          <div class=\"retrieval-mode-items\">\r\n            <div\r\n              class=\"retrieval-mode-item\"\r\n              :class=\"{ active: formState.search_type == item.value }\"\r\n              v-for=\"item in showRetrievalModeList\"\r\n              :key=\"item.value\"\r\n              @click=\"handleSelectRetrievalMode(item.value)\"\r\n            >\r\n              <svg-icon\r\n                class=\"check-arrow\"\r\n                name=\"check-arrow-filled\"\r\n                v-if=\"formState.search_type == item.value\"\r\n              ></svg-icon>\r\n\r\n              <div class=\"retrieval-mode-title\">\r\n                <svg-icon :name=\"item.iconName\" class=\"title-icon\"></svg-icon>\r\n                <span class=\"title-text\">{{ item.title }}</span>\r\n                <img v-if=\"item.isRecommendation\" style=\"width: 32px;\" src=\"@/assets/svg/recommendation.svg\" alt=\"\">\r\n              </div>\r\n\r\n              <div class=\"retrieval-mode-desc\">\r\n                {{ item.desc }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-item\" v-if=\"formState.search_type == 1\">\r\n        <WeightSelect v-model:rrf_weight=\"formState.rrf_weight\" />\r\n      </div>\r\n\r\n      <div class=\"form-item\">\r\n        <div class=\"form-item-label\">\r\n          <span>{{ t('label_top_k') }}&nbsp;</span>\r\n          <a-tooltip>\r\n            <template #title\r\n              >{{ t('tooltip_top_k') }}</template\r\n            >\r\n            <QuestionCircleOutlined class=\"question-icon\" />\r\n          </a-tooltip>\r\n        </div>\r\n        <div class=\"form-item-body\">\r\n          <div class=\"number-box\">\r\n            <div class=\"number-slider-box\">\r\n              <a-slider class=\"custom-slider\" v-model:value=\"formState.size\" :min=\"1\" :max=\"500\" />\r\n            </div>\r\n            <div class=\"number-input-box\">\r\n              <a-input-number v-model:value=\"formState.size\" :min=\"1\" :max=\"500\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-item\" v-if=\"formState.search_type <= 2\">\r\n        <div class=\"form-item-label\">\r\n          <span>{{ t('label_similarity_threshold') }}&nbsp;</span>\r\n          <a-tooltip>\r\n            <template #title>{{ t('tooltip_similarity_threshold') }}</template>\r\n            <QuestionCircleOutlined class=\"question-icon\" />\r\n          </a-tooltip>\r\n        </div>\r\n        <div class=\"form-item-body\">\r\n          <div class=\"number-box\">\r\n            <div class=\"number-slider-box\">\r\n              <a-slider\r\n                class=\"custom-slider\"\r\n                v-model:value=\"formState.similarity\"\r\n                :min=\"0\"\r\n                :max=\"1\"\r\n                :step=\"0.01\"\r\n              />\r\n            </div>\r\n            <div class=\"number-input-box\">\r\n              <a-input-number v-model:value=\"formState.similarity\" :min=\"0\" :max=\"1\" :step=\"0.01\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"form-item\">\r\n        <div class=\"form-item-label\">\r\n          <span>{{ t('label_rerank_model') }}</span>\r\n          &nbsp;\r\n          <a-switch\r\n            :checkedValue=\"1\"\r\n            :unCheckedValue=\"0\"\r\n            v-model:checked=\"formState.rerank_status\"\r\n          />\r\n        </div>\r\n        <div class=\"form-item-body\">\r\n          <ModelSelect\r\n            modelType=\"RERANK\"\r\n            v-model:modeName=\"formState.rerank_use_model\"\r\n            v-model:modeId=\"formState.rerank_model_config_id\"\r\n            style=\"width: 320px\"\r\n            :placeholder=\"t('ph_select_rerank_model')\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { getModelConfigOption } from '@/api/model/index'\r\nimport { reactive, ref, toRaw, computed, onMounted } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { QuestionCircleOutlined, DownOutlined, UpOutlined } from '@ant-design/icons-vue'\r\nimport { message } from 'ant-design-vue'\r\nimport ModelSelect from '@/components/model-select/model-select.vue'\r\nimport { libraryRecallTest, getDefaultRrfWeight } from '@/api/library'\r\nimport WeightSelect from '@/components/weight-select/index.vue'\r\n\r\nconst { t } = useI18n('views.library.library-details.components.recall-testing-form')\r\n\r\nconst route = useRoute()\r\nconst loading = ref(false)\r\n\r\nconst emit = defineEmits(['save', 'load'])\r\n\r\nconst isHide = ref(true)\r\n\r\nconst retrievalModeList = ref([\r\n{\r\n    iconName: 'mix-icon',\r\n    title: t('mode_mix_title'),\r\n    value: 1,\r\n    isRecommendation: true,\r\n    desc: t('mode_mix_desc')\r\n  },\r\n  {\r\n    iconName: 'vector-icon',\r\n    title: t('mode_vector_title'),\r\n    value: 2,\r\n    desc: t('mode_vector_desc')\r\n  },\r\n  {\r\n    iconName: 'graph-icon',\r\n    title: t('mode_graph_title'),\r\n    value: 4,\r\n    desc: t('mode_graph_desc')\r\n  },\r\n  {\r\n    iconName: 'search-check-icon',\r\n    title: t('mode_fulltext_title'),\r\n    value: 3,\r\n    desc: t('mode_fulltext_desc')\r\n  },\r\n])\r\n\r\n\r\n\r\nconst formState = reactive({\r\n  rerank_status: 0,\r\n  rerank_use_model: undefined,\r\n  rerank_model_config_id: undefined,\r\n  search_type: 1,\r\n  question: '',\r\n  similarity: 0.6,\r\n  size: 5,\r\n  id: route.query.id,\r\n  rrf_weight: {\r\n    vector: 0,\r\n    search: 0,\r\n    graph: 0,\r\n  }\r\n})\r\n\r\nconst showRetrievalModeList = computed(()=>{\r\n  if(isHide.value){\r\n    return retrievalModeList.value.filter(item => item.value == formState.search_type )\r\n  }else{\r\n    return retrievalModeList.value\r\n  }\r\n})\r\n\r\nconst handleChangeRerankModel = (val, option) => {\r\n  formState.rerank_model_config_id = option.rerank_model_config_id\r\n}\r\n\r\nconst handleSelectRetrievalMode = (val) => {\r\n  formState.search_type = val\r\n}\r\n\r\nconst checkRerank = () => {\r\n  if (formState.rerank_status == 1 && !formState.rerank_model_config_id) {\r\n    return true\r\n  }\r\n\r\n  return false\r\n}\r\n\r\nconst handleSave = () => {\r\n  if (checkRerank()) {\r\n    return message.error(t('msg_select_rerank_model'))\r\n  }\r\n\r\n  show.value = false\r\n  triggerChange()\r\n}\r\n\r\nconst triggerChange = () => {\r\n  emit('change', toRaw(formState))\r\n}\r\nconst handleRecallTest = () => {\r\n  if (!formState.similarity) {\r\n    return message.error(t('msg_input_similarity'))\r\n  }\r\n  if (!formState.size) {\r\n    return message.error(t('msg_input_size'))\r\n  }\r\n  if (!formState.question) {\r\n    return message.error(t('msg_input_question'))\r\n  }\r\n  let parmas = {\r\n    id: formState.id,\r\n    question: formState.question,\r\n    size: formState.size,\r\n    similarity: formState.similarity,\r\n    search_type: formState.search_type,\r\n    rrf_weight: JSON.stringify(formState.rrf_weight),\r\n  }\r\n  if (formState.rerank_status == 1) {\r\n    parmas.rerank_model_config_id = formState.rerank_model_config_id\r\n    parmas.rerank_use_model = formState.rerank_use_model\r\n  }\r\n  loading.value = true\r\n  emit('load');\r\n  libraryRecallTest(parmas)\r\n    .then((res) => {\r\n      emit('save', res.data)\r\n    })\r\n    .catch(() => {\r\n      emit('save', [])\r\n    })\r\n    .finally(() => {\r\n      loading.value = false\r\n    })\r\n}\r\n\r\nonMounted(() => {\r\n  getDefaultRrfWeight().then((res) => {\r\n    formState.rrf_weight = res.data || {\r\n      vector: 0,\r\n      search: 0,\r\n      graph: 0\r\n    }\r\n  })\r\n})\r\ndefineExpose({\r\n  open\r\n})\r\n</script>\r\n","<template>\r\n  <div class=\"recall-testing-box\">\r\n    <div class=\"recall-from-box\">\r\n      <cu-scroll>\r\n        <RrcallTestingForm @load=\"handleLoading\" @save=\"handleRecallTest\"></RrcallTestingForm>\r\n      </cu-scroll>\r\n    </div>\r\n    <div class=\"content-list-box\" ref=\"contRef\">\r\n      <div class=\"empty-box\" v-if=\"isEmpty || lists.length === 0\">\r\n        <img src=\"@/assets/img/library/detail/empty.png\" alt=\"\" />\r\n        <div class=\"title\">{{ t('empty_no_results') }}</div>\r\n      </div>\r\n      <cu-scroll v-else>\r\n        <div class=\"list-item\" v-for=\"item in lists\" :key=\"item.id\">\r\n          <div class=\"top-block\">\r\n            <div class=\"title\">\r\n              {{ t('label_id') }}{{ item.id }}\r\n              <div v-if=\"item.title\" class=\"ml4\">{{ item.title }}</div>\r\n              <span>{{ t('text_total_chars', { count: item.word_total }) }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"info-block\">\r\n            <span class=\"gray-text\">{{ t('label_from') }}</span>\r\n            <div class=\"link-text\" @click=\"handlePreview(item)\">\r\n              <LinkOutlined />\r\n              {{ item.file_name }}\r\n              <span v-if=\"!item.file_name\">{{ item.library_name }}{{ t('text_selected') }}</span>\r\n            </div>\r\n            <span class=\"v-line\"></span>\r\n            <span class=\"gray-text\"\r\n              >{{ t('label_similarity') }}\r\n              <svg-icon name=\"similarity\" style=\"font-size: 16px\"></svg-icon>\r\n              {{ item.similarity }}\r\n            </span>\r\n          </div>\r\n          <template v-if=\"libraryType == 2\">\r\n            <div class=\"content-box\" v-if=\"item.question\">{{ t('label_question') }}{{ item.question }}</div>\r\n            <div class=\"content-box similar-questions-box\" v-if=\"item.similar_questions && item.similar_questions.length\">\r\n              <span>{{ t('label_similar_questions') }}</span>\r\n              <ul class=\"similar-questions-list\">\r\n                <li v-for=\"(value, index) in item.similar_questions\" :key=\"index\">{{ value }}</li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"content-box\" v-if=\"item.answer\">{{ t('label_answer') }}{{ item.answer }}</div>\r\n          </template>\r\n          <div class=\"content-box\" v-html=\"item.content\" v-else></div>\r\n        </div>\r\n      </cu-scroll>\r\n      <div v-if=\"loading\" class=\"loading-box\"><a-spin /></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { useLibraryStore } from '@/stores/modules/library'\r\nimport { LinkOutlined } from '@ant-design/icons-vue'\r\nimport RrcallTestingForm from './components/recall-testing-form.vue'\r\nimport {useMathJax} from \"@/composables/useMathJax.js\";\r\n\r\nconst { t } = useI18n('views.library.library-details.recall-testing')\r\n\r\nconst route = useRoute()\r\nconst router = useRouter()\r\nconst libraryStore = useLibraryStore()\r\nconst { renderMath } = useMathJax()\r\n\r\nconst contRef = ref(null)\r\nconst isEmpty = ref(false)\r\nconst loading = ref(false)\r\nconst lists = ref([])\r\n\r\n\r\nconst libraryType = computed(() => libraryStore.type)\r\n\r\nconst handleRecallTest = (data = []) => {\r\n  loading.value = false;\r\n\r\n  data.forEach((item) => {\r\n    if(item.similar_questions){\r\n      item.similar_questions = JSON.parse(item.similar_questions)\r\n    }\r\n  })\r\n\r\n  lists.value = data || []\r\n  renderMath(contRef.value)\r\n}\r\nconst handleLoading = () => {\r\n  loading.value = true;\r\n}\r\nconst handlePreview = (record) => {\r\n  if(!record.file_name){\r\n    window.open(`/#/library/details/categary-manage?id=${record.library_id}`)\r\n    return\r\n  }\r\n  window.open(`/#/library/preview?id=${record.file_id}`)\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.recall-testing-box {\r\n  background: #f2f4f7;\r\n  height: 100%;\r\n  display: flex;\r\n  padding: 16px;\r\n  padding-bottom: 0;\r\n  .recall-from-box {\r\n    width: 368px;\r\n    height: 100%;\r\n    border-radius: 2px;\r\n    background: #fff;\r\n    padding: 16px 0;\r\n  }\r\n  .content-list-box {\r\n    flex: 1;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    background: #f2f4f7;\r\n    margin-left: 16px;\r\n    position: relative;\r\n    .list-item {\r\n      margin-top: 8px;\r\n      width: 100%;\r\n      background: #fff;\r\n      border-radius: 2px;\r\n      padding: 16px;\r\n      .top-block {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        .title {\r\n          display: flex;\r\n          align-items: center;\r\n          font-size: 14px;\r\n          line-height: 22px;\r\n          font-weight: 600;\r\n          color: #000000;\r\n          .mr4 {\r\n            margin-right: 4px;\r\n          }\r\n          .ml4 {\r\n            margin-left: 4px;\r\n          }\r\n          span {\r\n            color: #8c8c8c;\r\n            font-weight: 400;\r\n            margin-left: 8px;\r\n          }\r\n        }\r\n      }\r\n      .info-block {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-top: 4px;\r\n        font-size: 14px;\r\n        font-weight: 400;\r\n        line-height: 22px;\r\n        .gray-text {\r\n          color: #8c8c8c;\r\n          display: flex;\r\n          .svg-action {\r\n            margin-right: 4px;\r\n          }\r\n        }\r\n        .link-text {\r\n          display: flex;\r\n          align-items: center;\r\n          color: #164799;\r\n          cursor: pointer;\r\n        }\r\n        .v-line {\r\n          width: 1px;\r\n          height: 12px;\r\n          background: #d9d9d9;\r\n          margin: 0 8px;\r\n        }\r\n      }\r\n      .content-box {\r\n        color: #595959;\r\n        font-size: 14px;\r\n        font-weight: 400;\r\n        line-height: 22px;\r\n        margin-top: 8px;\r\n        white-space: pre-wrap;\r\n        word-wrap: break-word;\r\n      }\r\n      .similar-questions-box {\r\n        display: flex;\r\n        .similar-questions-list{\r\n          list-style: none;\r\n          margin: 0;\r\n          padding-left: 0;\r\n          flex: 1;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .loading-box {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 40%;\r\n  }\r\n  .empty-box {\r\n    text-align: center;\r\n    height: 100%;\r\n    padding-top: 148px;\r\n    img {\r\n      width: 200px;\r\n      height: 200px;\r\n    }\r\n    .title {\r\n      font-size: 16px;\r\n      font-style: normal;\r\n      font-weight: 600;\r\n      line-height: 24px;\r\n      color: #262626;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["t","useI18n","route","useRoute","loading","ref","emit","__emit","isHide","retrievalModeList","formState","reactive","showRetrievalModeList","computed","item","handleSelectRetrievalMode","val","handleRecallTest","message","parmas","libraryRecallTest","res","onMounted","getDefaultRrfWeight","__expose","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","_unref","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_a_textarea","_cache","$event","_hoisted_6","_component_a_button","_hoisted_7","_hoisted_8","_createTextVNode","_createBlock","DownOutlined","UpOutlined","_hoisted_9","_hoisted_10","_Fragment","_renderList","_normalizeClass","_component_svg_icon","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","WeightSelect","_hoisted_17","_hoisted_18","_component_a_tooltip","QuestionCircleOutlined","_hoisted_19","_hoisted_20","_hoisted_21","_component_a_slider","_hoisted_22","_component_a_input_number","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_component_a_switch","_hoisted_31","ModelSelect","useRouter","libraryStore","useLibraryStore","renderMath","useMathJax","contRef","isEmpty","lists","libraryType","data","handleLoading","handlePreview","record","_component_cu_scroll","RrcallTestingForm","_imports_0","LinkOutlined","_hoisted_11","value","index","_component_a_spin"],"mappings":"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"}