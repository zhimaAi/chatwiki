import{_ as W,bP as ze,c as He,bS as Q,bT as G,bO as ce,c5 as je,b$ as Ne,d as Fe,bU as Ye}from"../../index-C5-B0r5-.js";import{b as H,I as ee,a0 as fe,ae as We,a9 as de,ai as ue,B as Ve,al as qe,d as X,j as Ae,M as Je}from"./ui-antd-B11sc9DP.js";import{r as Z,o as V,j as me,ac as p,as as n,ai as Y,ad as d,f,w as we,k as l,e as L,ae as z,ar as h,ak as Ke,B as Qe,az as $,u as U,F as _e,ax as ye,at as D,y as he,aw as Ge,av as Xe}from"./vue-chunks-CGLjTDrY.js";import{u as Ze}from"./useCopyShareUrl-CAEUjr_s.js";import{Q as pe}from"./editor-cherry-B3JfEPOy.js";import{u as et}from"./index-GO4nEZEO.js";import{W as tt,S as ot}from"./wiki-dropdown-CEO7Umjg.js";import"./neo4j-Bk0ySkcX.js";import"./utils-BH-4gQMj.js";import"./other-BrZCAsTs.js";import"./index-DqhUrknF.js";function nt(b,m){et({file:b,category:"library_doc_image"}).then(i=>{if(i.res!=0)return H.error(i.msg);let r=i.data.link;/video/i.test(b.type)?m(r,{name:`${b.name.replace(/\.[^.]+$/,"")}`,isBorder:!1,isShadow:!1,isRadius:!1}):/image/i.test(b.type)?m(r,{name:`${b.name.replace(/\.[^.]+$/,"")}`,isBorder:!1,isShadow:!1,isRadius:!1}):m(r)}).catch(i=>{H.error("å›¾ç‰‡ä¸Šä¼ å¤±è´¥")})}const ve={fileUpload:nt,externals:{echarts:!1,katex:!1,MathJax:!1},isPreviewOnly:!1,engine:{global:{},syntax:{image:{videoWrapper:(b,m,i)=>i},link:{target:"_blank",rel:""},autoLink:{target:"_blank",rel:"",enableShortLink:!1,shortLinkLength:20},header:{anchorStyle:"none"},codeBlock:{theme:"twilight",lineNumber:!0,expandCode:!0,copyCode:!0,editCode:!0,changeLang:!0,customBtns:[]},table:{enableChart:!1},fontEmphasis:{allowWhitespace:!1},strikethrough:{needWhitespace:!1}}},multipleFileSelection:{video:!1,audio:!1,image:!1,word:!1,pdf:!1,file:!1},toolbars:{toolbar:["bold","italic",{strikethrough:["strikethrough","underline","sub","sup","ruby","customMenuAName"]},"size","|","color","header","|","ol","ul","checklist","panel","justify","detail","|","formula",{insert:["image","audio","video","link","hr","br","code","inlineCode","formula","toc","table","pdf","word","file"]},"graph","togglePreview","shortcutKey"],toolbarRight:["fullScreen","|","export","changeLocale","wordCount"],bubble:["bold","italic","underline","strikethrough","sub","sup","quote","ruby","|","size","color","theme"],sidebar:["mobilePreview","copy"],toc:{updateLocationHash:!1,defaultModel:"full"}},editor:{autoSave2Textarea:!0,defaultModel:"edit&preview",showFullWidthMark:!0,showSuggestList:!0},themeSettings:{mainTheme:"ant-design",themeList:[{className:"ant-design",label:"ant-design"}],codeBlockTheme:"one-light"}},st={class:"md-editor-body"},at={__name:"md-editor",emits:["inited","input","blur"],setup(b,{expose:m,emit:i}){const r=i;let y=null;const _=Z({type:"editor",content:""}),C=()=>{y=new pe({...ve,id:"md-editor",value:_.content,editor:{defaultModel:"previewOnly",keepDocumentScrollAfterInit:!0},previewer:{enablePreviewerBubble:!1,floatWhenClosePreviewer:!1},toolbars:{toolbar:!1,toc:{updateLocationHash:!0,defaultModel:"full",position:"fixed",cssText:"right: 20px;"}}}),y.setTheme("ant-design")},a=()=>{let s={...ve,id:"md-editor",value:_.content,event:{afterInit(){r("inited")},afterChange(k){o(k)},blur:()=>{x()}}};y=new pe(s),y.setTheme("ant-design")},g=(s,k=!1)=>{y.setValue(s,k)},u=()=>y.getMarkdown(),I=s=>{g(s.content)},w=()=>({content:u()}),c=()=>{g("",!0)},o=s=>{r("input",s)},x=s=>{r("blur",s)},v=(s,k)=>{_.type=s,_.content=k,y&&y.destroy(),s==="editor"?a():s==="preview"&&C()};return V(()=>{}),me(()=>{y&&y.destroy()}),m({init:v,setContent:g,getContent:u,setDoc:I,getDoc:w,clearDoc:c}),(s,k)=>(d(),p("div",{class:Y(["md-editor-wrapper",["is-"+_.type]])},[n("div",st,[n("div",{class:Y([_.type+"-box"]),id:"md-editor"},null,2)])],2))}},it=W(at,[["__scopeId","data-v-c4933dea"]]),lt={class:"doc-title-input-wrapper"},rt={__name:"doc-title-input",props:{title:{type:String,default:""},isHighlight:{type:Boolean,default:!1}},emits:["update:title","input","blur","titleClick"],setup(b,{emit:m}){const i=m,r=f(null),y=b,_=f(y.title),C=()=>{i("blur",_.value)},a=()=>{i("input",_.value),i("update:title",_.value)};return we(()=>y.title,()=>{_.value=y.title}),V(()=>{}),(g,u)=>{const I=ee;return d(),p("div",lt,[l(I,{class:"doc-title-input",value:_.value,"onUpdate:value":u[0]||(u[0]=w=>_.value=w),valueModifiers:{trim:!0},type:"text",placeholder:"",maxlength:100,onInput:a,onBlur:C,ref_key:"inputRef",ref:r},null,8,["value"])])}}},ct=W(rt,[["__scopeId","data-v-eafb1830"]]),ke=[{content:"ðŸ¥‡",keywords:["ç¬¬ä¸€æ­¥","ç¬¬ä¸€å","ä¼˜å…ˆ","é¦–é€‰"]},{content:"ðŸ¥ˆ",keywords:["ç¬¬äºŒæ­¥","ç¬¬äºŒå","æ¬¡é€‰"]},{content:"ðŸ¥‰",keywords:["ç¬¬ä¸‰æ­¥","ç¬¬ä¸‰å"]},{content:"ðŸ”¹",keywords:["å°èŠ‚æ ‡é¢˜","åˆ—è¡¨å‰ç¼€"]},{content:"ðŸ”¸",keywords:["å°èŠ‚æ ‡é¢˜","é‡ç‚¹æç¤º"]},{content:"ðŸ“Œ",keywords:["å›ºå®š","å…³é”®ç‚¹","é‡è¦"]},{content:"ðŸ“",keywords:["å†™ä½œ","ç¬”è®°","è®°å½•"]},{content:"âœ…",keywords:["æˆåŠŸ","å®Œæˆ","æŽ¨è","æ­£ç¡®"]},{content:"âŒ",keywords:["å¤±è´¥","ç¦æ­¢","ä¸è¦åš","é”™è¯¯"]},{content:"âš ï¸",keywords:["è­¦å‘Š","æ³¨æ„äº‹é¡¹"]},{content:"â›”",keywords:["ä¸¥é‡è­¦å‘Š","ç¦ç”¨"]},{content:"â—",keywords:["å¼ºæé†’","é«˜äº®æç¤º","é‡è¦"]},{content:"ðŸ””",keywords:["é€šçŸ¥","æé†’æ“ä½œ"]},{content:"ðŸ”•",keywords:["å…³é—­æé†’","é™éŸ³çŠ¶æ€"]},{content:"ðŸ’¡",keywords:["å»ºè®®","çµæ„Ÿ","ç»éªŒåˆ†äº«","æƒ³æ³•"]},{content:"ðŸ”„",keywords:["æ›´æ–°","åˆ·æ–°","ä¿®æ”¹"]},{content:"ðŸ”§",keywords:["é…ç½®","è°ƒè¯•","è®¾ç½®"]},{content:"ðŸ› ï¸",keywords:["å·¥å…·","ç»´æŠ¤","æ‰‹åŠ¨æ“ä½œ"]},{content:"ðŸ“",keywords:["æ–‡ä»¶å¤¹","è·¯å¾„","ç›®å½•"]},{content:"ðŸ“„",keywords:["æ–‡ä»¶","æ–‡æ¡£","å†…å®¹"]},{content:"ðŸ“‚",keywords:["å±•å¼€æ–‡ä»¶å¤¹","æ‰“å¼€"]},{content:"ðŸ“‹",keywords:["å¤åˆ¶å†…å®¹","å‰ªè´´æ¿"]},{content:"ðŸ—‘ï¸",keywords:["åˆ é™¤æ“ä½œ","æ¸…ç†"]},{content:"ðŸ’¾",keywords:["ä¿å­˜","å­˜å‚¨"]},{content:"ðŸ—‚ï¸",keywords:["åˆ†ç±»","å½’æ¡£","æ•´ç†"]},{content:"ðŸ’»",keywords:["ç¼–ç¨‹","å¼€å‘","ä»£ç "]},{content:"ðŸ–¥ï¸",keywords:["æ¡Œé¢","ç³»ç»Ÿæ“ä½œ"]},{content:"ðŸ“Ÿ",keywords:["å‘½ä»¤è¡Œ","ç»ˆç«¯"]},{content:"ðŸ“¦",keywords:["å®‰è£…åŒ…","ä¾èµ–","ç»„ä»¶"]},{content:"ðŸ§°",keywords:["å·¥å…·é›†","å¼€å‘è€…å·¥å…·ç®±"]},{content:"ðŸ§ª",keywords:["æµ‹è¯•","å®žéªŒ"]},{content:"ðŸš€",keywords:["å‘å¸ƒ","å¯åŠ¨","ä¸Šçº¿"]},{content:"ðŸ§±",keywords:["æž„å»º","æ¨¡å—","ç»„ä»¶"]},{content:"ðŸš¨",keywords:["ç´§æ€¥æç¤º","è­¦æŠ¥"]},{content:"ðŸ”¥",keywords:["é«˜äº®","çƒ­åº¦é«˜","é‡ç‚¹","çƒ­é—¨"]},{content:"ðŸ“£",keywords:["å…¬å‘Š","æé†’","é€šçŸ¥"]},{content:"ðŸ“¢",keywords:["å¼ºè°ƒ","æç¤º","å®£å‘Š"]},{content:"ðŸ‘€",keywords:["æ³¨æ„","æŸ¥çœ‹","æ˜“é”™ç‚¹"]},{content:"ðŸ”œ",keywords:["æŽ¥ä¸‹æ¥","ä¸‹ä¸€æ­¥"]},{content:"ðŸ”™",keywords:["è¿”å›ž","æ’¤é”€"]},{content:"ðŸ”›",keywords:["æ¿€æ´»ä¸­","å½“å‰"]},{content:"â©",keywords:["å¿«è¿›","ä¸‹ä¸€æ­¥"]},{content:"âª",keywords:["ä¸Šä¸€æ­¥","å›žé€€"]},{content:"ðŸ”",keywords:["å¾ªçŽ¯","é‡å¤"]},{content:"ðŸ§­",keywords:["æŒ‡å¼•","å¯¼èˆª","å¼•å¯¼æ–‡æ¡£"]},{content:"âš™ï¸",keywords:["é«˜çº§è®¾ç½®","å‚æ•°è°ƒæ•´"]},{content:"ðŸŽ›ï¸",keywords:["é¢æ¿è®¾ç½®","å¯è§†åŒ–é…ç½®"]},{content:"ðŸ›‘",keywords:["å¼ºåˆ¶åœæ­¢","ç«‹å³ç»ˆæ­¢"]},{content:"ðŸš«",keywords:["æ‹’ç»","é˜»æ­¢æ“ä½œ"]},{content:"ðŸ§¯",keywords:["ç†„ç«","å†·å¤„ç†","å–æ¶ˆè®¡åˆ’"]},{content:"ðŸ“š",keywords:["æ–‡æ¡£é›†åˆ","æ•™ç¨‹"]},{content:"ðŸ“°",keywords:["å…¬å‘Š","èµ„è®¯","æ›´æ–°è¯´æ˜Ž"]},{content:"âœï¸",keywords:["ç¼–è¾‘","ä¿®æ”¹","è‰ç¨¿"]},{content:"ðŸ·ï¸",keywords:["æ ‡ç­¾åˆ†ç±»"]},{content:"ðŸ§¾",keywords:["åˆ—è¡¨","æ•°æ®æ˜Žç»†"]},{content:"ðŸ—ƒï¸",keywords:["å½’æ¡£å†…å®¹"]},{content:"â±ï¸",keywords:["è®¡æ—¶","æ•ˆçŽ‡å·¥å…·"]},{content:"â³",keywords:["ç­‰å¾…ä¸­","å»¶è¿Ÿ"]},{content:"ðŸ“…",keywords:["æ—¥æœŸ","è®¡åˆ’å®‰æŽ’"]},{content:"ðŸ•’",keywords:["æ—¶é—´è¯´æ˜Ž"]},{content:"ðŸ“†",keywords:["æ—¥åŽ†è§†å›¾","æŒ‰æ—¥åˆ†ç±»"]},{content:"ðŸŽ¯",keywords:["ç›®æ ‡","ä»»åŠ¡å®Œæˆ"]},{content:"ðŸŽ–ï¸",keywords:["å¥–åŠ±","æˆå°±"]},{content:"ðŸ“ˆ",keywords:["è¿›åº¦ä¸Šå‡","ä¼˜åŒ–æ•ˆæžœ"]},{content:"ðŸ“‰",keywords:["é—®é¢˜å›žé€€","å¼‚å¸¸æ³¢åŠ¨"]},{content:"1ï¸âƒ£",keywords:["æ•°å­—ä¸€","ç¬¬ä¸€æ­¥"]},{content:"2ï¸âƒ£",keywords:["æ•°å­—äºŒ","ç¬¬äºŒæ­¥"]},{content:"3ï¸âƒ£",keywords:["æ•°å­—ä¸‰","ç¬¬ä¸‰æ­¥"]},{content:"4ï¸âƒ£",keywords:["æ•°å­—å››"]},{content:"5ï¸âƒ£",keywords:["æ•°å­—äº”"]},{content:"6ï¸âƒ£",keywords:["æ•°å­—å…­"]},{content:"7ï¸âƒ£",keywords:["æ•°å­—ä¸ƒ"]},{content:"8ï¸âƒ£",keywords:["æ•°å­—å…«"]},{content:"9ï¸âƒ£",keywords:["æ•°å­—ä¹"]},{content:"ðŸ”Ÿ",keywords:["æ•°å­—å"]}],dt={class:"icon-selector-container"},ut={class:"search-box"},_t={key:0,class:"recent-section"},yt={class:"icon-list"},pt=["title","onClick"],vt={class:"icon-list-label"},kt={class:"icon-list"},ft=["title","onClick"],mt={key:0,class:"no-result"},wt={__name:"icon-selector",emits:["select"],setup(b,{emit:m}){const i=f(""),r=f([]),y=c=>{c&&he(()=>{i.value=""})},_=()=>{try{const c=localStorage.getItem("recent-icons");c&&(r.value=JSON.parse(c))}catch(c){console.warn("åŠ è½½æœ€è¿‘ä½¿ç”¨å›¾æ ‡å¤±è´¥:",c),r.value=[]}},C=()=>{try{localStorage.setItem("recent-icons",JSON.stringify(r.value))}catch(c){console.warn("ä¿å­˜æœ€è¿‘ä½¿ç”¨å›¾æ ‡å¤±è´¥:",c)}},a=c=>{const o=r.value.findIndex(x=>x.content===c.content);o>-1&&r.value.splice(o,1),r.value.unshift({...c,lastUsed:Date.now()}),r.value.length>10&&(r.value=r.value.slice(0,10)),C()},g=L(()=>{if(!i.value.trim())return ke;const c=i.value.toLowerCase().trim();return ke.filter(o=>o.keywords.some(x=>x.toLowerCase().includes(c)))}),u=()=>{},I=m,w=c=>{a(c),I("select",c)};return V(()=>{_()}),(c,o)=>{const x=ee,v=We;return d(),z(v,{class:"icon-selector",placement:"bottomLeft",arrow:!1,onOpenChange:y},{content:h(()=>[n("div",dt,[n("div",ut,[l(x,{placeholder:"è¯·è¾“å…¥å›¾æ ‡åç§°",value:i.value,"onUpdate:value":o[0]||(o[0]=s=>i.value=s),onPressEnter:u,allowClear:""},{suffix:h(()=>[l(U(fe),{style:{color:"rgba(0, 0, 0, 0.45)"}})]),_:1},8,["value"])]),r.value.length>0&&!i.value?(d(),p("div",_t,[o[2]||(o[2]=n("div",{class:"icon-list-label"},"æœ€è¿‘ä½¿ç”¨",-1)),n("div",yt,[(d(!0),p(_e,null,ye(r.value,(s,k)=>(d(),p("div",{class:"icon-item",key:`recent-${k}`,title:s.keywords.join(", "),onClick:q=>w(s)},D(s.content),9,pt))),128))])])):$("",!0),n("div",vt,D(i.value?"æœç´¢ç»“æžœ":"è¡¨æƒ…ä¸Žè§’è‰²"),1),n("div",kt,[(d(!0),p(_e,null,ye(g.value,(s,k)=>(d(),p("div",{class:"icon-item",key:k,title:s.keywords.join(", "),onClick:q=>w(s)},D(s.content),9,ft))),128)),g.value.length===0?(d(),p("div",mt," æš‚æ— åŒ¹é…çš„å›¾æ ‡ ")):$("",!0)])])]),default:h(()=>[n("span",{class:"icon-selector-handler",onClick:o[1]||(o[1]=Qe(()=>{},["prevent"]))},[Ke(c.$slots,"default",{},void 0,!0)])]),_:3})}}},ht=W(wt,[["__scopeId","data-v-d41e5338"]]),bt={class:"toolbar-wrapper"},gt={class:"toolbar-left"},St={class:"library-info"},Ct={class:"library-info-content"},xt={key:0,class:"publish-status"},Dt={key:1,class:"publish-status is-publish"},It={class:"toolbar-right"},Lt={class:"action-item"},$t={class:"action-item"},Mt={class:"action-item"},Tt={class:"action-item"},Bt={class:"action-item"},Ut={key:0,class:"loading-wrapper"},Et={class:"editor-page-header"},Rt={class:"header-left"},Ot={key:0,class:"title-wrapper"},Pt={class:"doc-icon"},zt={class:"doc-title"},Ht={key:1,class:"title-wrapper"},jt={class:"doc-icon"},Nt={class:"doc-title"},Ft={class:"doc-last-update"},Yt={class:"header-right"},Wt={class:"last-save-time"},Vt={key:0,class:"edit-user"},qt=["src"],At={class:"user-name"},Jt={key:1,class:"action-box"},Kt={key:2,class:"action-box"},Qt={class:"editor-page-body"},Gt=1e3*15,Xt={__name:"index",emits:["changeDoc"],setup(b,{emit:m}){const i=m,r=Ge(),y=Xe(),_=ze(),{user_id:C}=He(),a=L(()=>_.libraryInfo),g=L(()=>_.docTreeStateMap),u=L(()=>r.query.doc_id),I=L(()=>g.value[u.value]&&g.value[u.value].doc_icon||""),w=f(!1),c=f(""),o=Z({library_key:"",doc_id:u.value,doc_key:"",doc_icon:"",title:"",content:"",update_time_str:"",is_draft:"",pid:"",seo_title:"",seo_desc:"",seo_keywords:""}),x=L(()=>o.seo_title||o.seo_desc||o.seo_keywords),v=Z({show:!1,user_name:"",avatar:"",nick_name:""}),s=e=>{o.doc_icon=e.content,O()},k=L(()=>a.value.share_url!=""&&a.value.access_rights==1),q=()=>{if(!k.value)return;const e=a.value.share_url+G+"/doc/"+o.doc_key;window.open(e)},{copyShareUrl:be}=Ze(),ge=async()=>{const e=G+"/doc/"+o.doc_key;await be(e)},te=f(null),Se=()=>{te.value.open({...o})},Ce=e=>{o.seo_title=e.seo_title,o.seo_desc=e.seo_desc,o.seo_keywords=e.seo_keywords,$e()};let M=null;const A=()=>{M&&(clearTimeout(M),M=null),M=setTimeout(()=>{E.value&&O()},Gt)},oe=()=>{M&&(clearTimeout(M),M=null)},R=f(!0),E=f(!1),xe=e=>{o.title=e,E.value=!0,A()},De=()=>{E.value&&O()},Ie=()=>{E.value=!0,A()},Le=()=>{E.value&&O()},j=f(null),ne=f(""),J=()=>{ne.value=X().format("HH:mm")},$e=()=>{Q({library_key:a.value.library_key,doc_id:u.value}).then(e=>{e.data.library_key=a.value.library_key,e.data.doc_id=u.value,e.data.update_time_str=X(e.data.update_time*1e3).format("YYYY-MM-DD HH:mm:ss"),Object.assign(o,e.data)})},N=e=>{w.value=e,j.value.init(e?"editor":"preview",o.content)},se=()=>{R.value=!0,v.show=!1,Q({library_key:a.value.library_key,doc_id:u.value}).then(e=>{e.data.library_key=a.value.library_key,e.data.doc_id=u.value,e.data.update_time_str=X(e.data.update_time*1e3).format("YYYY-MM-DD HH:mm:ss"),Object.assign(o,e.data);let t=e.data.edit_user&&e.data.edit_user!=0;t&&e.data.edit_user!=C&&(v.show=!0,ie(e.data.edit_user)),t&&e.data.edit_user==C?N(!0):N(!1),J(e.data.update_time*1e3),R.value=!1}).catch(()=>{R.value=!1})},K=f(!1),ae=e=>{oe();let t=j.value.getDoc();o.content=t.content,t.title=o.title;let T={library_key:a.value.library_key,pid:o.pid,doc_id:u.value,title:t.title,content:t.content,doc_icon:o.doc_icon,doc_type:4};e&&(K.value=!0),ce(T).then(()=>{e&&(K.value=!1,H.success("ä¿å­˜æˆåŠŸ")),J(),o.is_draft=1,E.value=!1,i("changeDoc",{...T,id:T.doc_id,is_draft:1})}).catch(()=>{K.value=!1,A()})},ie=async e=>{let t=await Ne({id:e});return v.avatar=t.data.avatar,v.user_name=t.data.user_name,v.nick_name=t.data.nick_name,t},Me=async()=>{try{let e=await Q({doc_id:u.value,library_key:a.value.library_key});if(e.data.edit_user&&e.data.edit_user!=0&&e.data.edit_user!=C){let S=await ie(e.data.edit_user),B=S.data.nick_name||S.data.user_name;v.show=!0,Je.warning({title:B+"æ­£åœ¨ç¼–è¾‘æ­¤æ–‡æ¡£",content:"éœ€è¦å…¶ä»–åä½œè€…ç»“æŸç¼–è¾‘å¹¶å‘å¸ƒåŽæ‰å¯ä»¥ç»§ç»­ç¼–è¾‘",okText:"çŸ¥é“äº†"});return}v.show=!1;let T={library_key:a.value.library_key,pid:o.pid,doc_id:u.value,title:o.title,content:o.content,doc_type:4,doc_icon:o.doc_icon};ce(T),N(!0)}catch(e){return}},F=f(!1),Te=()=>{let e=j.value.getDoc();o.content=e.content,e.title=o.title;let t={library_key:a.value.library_key,pid:o.pid,doc_id:u.value,title:e.title,doc_type:4,content:e.content,doc_icon:o.doc_icon};F.value=!0,Ye(t).then(()=>{F.value=!1,H.success("å‘å¸ƒæˆåŠŸ"),J(),o.is_draft=0,N(!1),i("changeDoc",{...t,id:t.doc_id,is_draft:0})}).catch(()=>{F.value=!1})},O=(e,t)=>{ae(t==="manuallySave")},le=e=>{e.ctrlKey&&e.key==="s"&&(e.preventDefault(),O())},Be=()=>{je({library_key:a.value.library_key,doc_id:u.value}).then(e=>{window.open(`${a.value.share_url}${G}/doc/${o.doc_key}?preview=${e.data.preview_key}`,"_blank")})},Ue=()=>{a.value,y.push({path:"/public-library/config",query:{library_id:a.value.id,library_key:a.value.library_key}})},Ee=L(()=>_.libraryList),Re=()=>{_.getLibraryList()},Oe=async e=>{await y.replace({path:"/public-library/home",query:{library_id:e.id,library_key:e.library_key}}),window.location.reload()},re=()=>{H.warn("ç¼–è¾‘æ¨¡å¼ä¸æ”¯æŒæœç´¢åŠŸèƒ½")};return we(u,()=>{he(()=>{se()})}),V(()=>{document.addEventListener("keydown",le),Re(),se()}),me(()=>{oe(),document.removeEventListener("keydown",le)}),(e,t)=>{const T=ee,S=Ve,B=Fe,Pe=qe;return d(),p("div",{class:Y(["editor-page",{"is-loading":R.value}])},[n("div",bt,[n("div",gt,[n("div",St,[n("div",Ct,[l(tt,{libraryInfo:a.value,libraryList:Ee.value,onChange:Oe},null,8,["libraryInfo","libraryList"]),a.value.access_rights==0?(d(),p("div",xt,[l(U(de),{class:"status-icon"}),t[4]||(t[4]=n("span",{class:"status-name"},"æœªå…¬å¼€",-1))])):$("",!0),a.value.access_rights==1?(d(),p("div",Dt,[l(U(ue),{class:"status-icon"}),t[5]||(t[5]=n("span",{class:"status-name"},"å·²å…¬å¼€",-1))])):$("",!0)])])]),n("div",It,[n("div",Lt,[l(T,{placeholder:"çŸ¥è¯†æœç´¢",value:c.value,"onUpdate:value":t[0]||(t[0]=P=>c.value=P),onPressEnter:re,allowClear:""},{suffix:h(()=>[l(U(fe),{style:{color:"rgba(0, 0, 0, 0.45)"},onClick:re})]),_:1},8,["value"])]),n("div",$t,[w.value?(d(),z(S,{key:0,type:"primary",loading:F.value,onClick:Te},{default:h(()=>[l(U(Ae)),t[6]||(t[6]=n("span",{class:"action-name"},"å‘å¸ƒ",-1))]),_:1},8,["loading"])):(d(),z(S,{key:1,type:"primary",onClick:Me},{default:h(()=>[l(B,{class:"action-icon",name:"edit",style:{"font-size":"16px",color:"#fff"}}),t[7]||(t[7]=n("span",{class:"action-name"},"ç¼–è¾‘",-1))]),_:1}))]),n("div",Mt,[l(S,{onClick:ge},{default:h(()=>[l(B,{class:"action-icon",name:"link-left",style:{"font-size":"16px"}}),t[8]||(t[8]=n("span",{class:"action-name"},"å¤åˆ¶é“¾æŽ¥",-1))]),_:1})]),n("div",Tt,[l(S,{onClick:Se},{default:h(()=>[x.value?(d(),z(U(ue),{key:0,style:{color:"#21a665","font-size":"14px"},class:"status-icon actin-icon"})):(d(),z(U(de),{key:1,style:{color:"#ccc","font-size":"14px"},class:"status-icon actin-icon"})),t[9]||(t[9]=n("span",{class:"action-name"},"SEO",-1))]),_:1})]),n("div",Bt,[l(S,{onClick:Ue},{default:h(()=>[l(B,{class:"actin-icon",name:"jibenpeizhi",style:{"font-size":"14px",color:"#595959"}}),t[10]||(t[10]=n("span",{class:"action-name"},"è®¾ç½®",-1))]),_:1})])])]),R.value?(d(),p("div",Ut,[l(Pe,{tip:"Loading..."})])):$("",!0),n("div",Et,[n("div",Rt,[w.value?(d(),p("div",Ot,[l(ht,{onSelect:s},{default:h(()=>[n("span",Pt,D(o.doc_icon||I.value),1)]),_:1}),n("div",zt,[l(ct,{title:o.title,"onUpdate:title":t[1]||(t[1]=P=>o.title=P),onBlur:De,onInput:xe},null,8,["title"])])])):(d(),p("div",Ht,[n("span",jt,D(o.doc_icon||I.value),1),n("div",Nt,[n("div",{class:Y(["doc-title-text",{"title-highlight":k.value}]),onClick:q},D(o.title),3)])])),n("div",Ft,"æœ€è¿‘æ›´æ–°æ—¶é—´ï¼š"+D(o.update_time_str),1)]),n("div",Yt,[n("span",Wt,D(ne.value)+" è‡ªåŠ¨ä¿å­˜è‰ç¨¿",1),v.show&&v.user_name?(d(),p("div",Vt,[t[11]||(t[11]=n("i",{class:"line"},null,-1)),n("img",{class:"user-avatar",src:v.avatar,alt:""},null,8,qt),n("span",At,D(v.nick_name||v.user_name),1),t[12]||(t[12]=n("span",{class:"edit-status-text"},"ç¼–è¾‘ä¸­...",-1))])):$("",!0),w.value?(d(),p("div",Jt,[l(S,{class:"action-btn",onClick:t[2]||(t[2]=P=>ae(!0))},{default:h(()=>[l(B,{class:"action-icon",name:"save-draft",style:{"font-size":"16px"}}),t[13]||(t[13]=n("span",null,"å­˜è‰ç¨¿",-1))]),_:1})])):$("",!0),w.value?(d(),p("div",Kt,[l(S,{class:"action-btn",onClick:t[3]||(t[3]=P=>Be())},{default:h(()=>[l(B,{class:"action-icon",name:"eye-open",style:{"font-size":"16px"}}),t[14]||(t[14]=n("span",null,"é¢„è§ˆ",-1))]),_:1})])):$("",!0)])]),n("div",Qt,[l(it,{ref_key:"MdDitorRef",ref:j,onInput:Ie,onBlur:Le},null,512)]),l(ot,{ref_key:"seoSettingRef",ref:te,onOk:Ce},null,512)],2)}}},uo=W(Xt,[["__scopeId","data-v-ba3b9425"]]);export{uo as default};
