{"version":3,"file":"pull-up.esm-DIiTC7VE.js","sources":["../../../../front-end/chat-ai-admin-vue/node_modules/@better-scroll/core/dist/core.esm.js","../../../../front-end/chat-ai-admin-vue/node_modules/@better-scroll/scroll-bar/dist/scroll-bar.esm.js","../../../../front-end/chat-ai-admin-vue/node_modules/@better-scroll/mouse-wheel/dist/mouse-wheel.esm.js","../../../../front-end/chat-ai-admin-vue/node_modules/@better-scroll/pull-up/dist/pull-up.esm.js"],"sourcesContent":["/*!\n * better-scroll / core\n * (c) 2016-2023 ustbhuangyi\n * Released under the MIT License.\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nvar propertiesConfig = [\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.currentPos',\r\n        key: 'x'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.currentPos',\r\n        key: 'y'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.hasScroll',\r\n        key: 'hasHorizontalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.hasScroll',\r\n        key: 'hasVerticalScroll'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.contentSize',\r\n        key: 'scrollerWidth'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.contentSize',\r\n        key: 'scrollerHeight'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.maxScrollPos',\r\n        key: 'maxScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.maxScrollPos',\r\n        key: 'maxScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.minScrollPos',\r\n        key: 'minScrollX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.minScrollPos',\r\n        key: 'minScrollY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.movingDirection',\r\n        key: 'movingDirectionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.movingDirection',\r\n        key: 'movingDirectionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorX.direction',\r\n        key: 'directionX'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBehaviorY.direction',\r\n        key: 'directionY'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.actions.enabled',\r\n        key: 'enabled'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.pending',\r\n        key: 'pending'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.animater.stop',\r\n        key: 'stop'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollTo',\r\n        key: 'scrollTo'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollBy',\r\n        key: 'scrollBy'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.scrollToElement',\r\n        key: 'scrollToElement'\r\n    },\r\n    {\r\n        sourceKey: 'scroller.resetPosition',\r\n        key: 'resetPosition'\r\n    }\r\n];\n\nfunction warn(msg) {\r\n    console.error(\"[BScroll warn]: \" + msg);\r\n}\n\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\nvar isWeChatDevTools = !!(ua && /wechatdevtools/.test(ua));\r\nvar isAndroid = ua && ua.indexOf('android') > 0;\r\n/* istanbul ignore next */\r\nvar isIOSBadVersion = (function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] === 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n})();\r\n/* istanbul ignore next */\r\nvar supportsPassive = false;\r\n/* istanbul ignore next */\r\nif (inBrowser) {\r\n    var EventName = 'test-passive';\r\n    try {\r\n        var opts = {};\r\n        Object.defineProperty(opts, 'passive', {\r\n            get: function () {\r\n                supportsPassive = true;\r\n            },\r\n        }); // https://github.com/facebook/flow/issues/285\r\n        window.addEventListener(EventName, function () { }, opts);\r\n    }\r\n    catch (e) { }\r\n}\n\nfunction getNow() {\r\n    return window.performance &&\r\n        window.performance.now &&\r\n        window.performance.timing\r\n        ? window.performance.now() + window.performance.timing.navigationStart\r\n        : +new Date();\r\n}\r\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\r\nfunction isUndef(v) {\r\n    return v === undefined || v === null;\r\n}\r\nfunction between(x, min, max) {\r\n    if (x < min) {\r\n        return min;\r\n    }\r\n    if (x > max) {\r\n        return max;\r\n    }\r\n    return x;\r\n}\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    /* istanbul ignore next  */\r\n    return false;\r\n})();\r\n/* istanbul ignore next  */\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nfunction getElement(el) {\r\n    return (typeof el === 'string' ? document.querySelector(el) : el);\r\n}\r\nfunction addEvent(el, type, fn, capture) {\r\n    var useCapture = supportsPassive\r\n        ? {\r\n            passive: false,\r\n            capture: !!capture,\r\n        }\r\n        : !!capture;\r\n    el.addEventListener(type, fn, useCapture);\r\n}\r\nfunction removeEvent(el, type, fn, capture) {\r\n    el.removeEventListener(type, fn, {\r\n        capture: !!capture,\r\n    });\r\n}\r\nfunction maybePrevent(e) {\r\n    if (e.cancelable) {\r\n        e.preventDefault();\r\n    }\r\n}\r\nfunction offset(el) {\r\n    var left = 0;\r\n    var top = 0;\r\n    while (el) {\r\n        left -= el.offsetLeft;\r\n        top -= el.offsetTop;\r\n        el = el.offsetParent;\r\n    }\r\n    return {\r\n        left: left,\r\n        top: top,\r\n    };\r\n}\r\nvendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\nvar hasPerspective = inBrowser && prefixStyle('perspective') in elementStyle;\r\n// fix issue #361\r\nvar hasTouch = inBrowser && ('ontouchstart' in window || isWeChatDevTools);\r\nvar hasTransition = inBrowser && transition in elementStyle;\r\nvar style = {\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n};\r\nvar eventTypeMap = {\r\n    touchstart: 1,\r\n    touchmove: 1,\r\n    touchend: 1,\r\n    touchcancel: 1,\r\n    mousedown: 2,\r\n    mousemove: 2,\r\n    mouseup: 2,\r\n};\r\nfunction getRect(el) {\r\n    /* istanbul ignore if  */\r\n    if (el instanceof window.SVGElement) {\r\n        var rect = el.getBoundingClientRect();\r\n        return {\r\n            top: rect.top,\r\n            left: rect.left,\r\n            width: rect.width,\r\n            height: rect.height,\r\n        };\r\n    }\r\n    else {\r\n        return {\r\n            top: el.offsetTop,\r\n            left: el.offsetLeft,\r\n            width: el.offsetWidth,\r\n            height: el.offsetHeight,\r\n        };\r\n    }\r\n}\r\nfunction preventDefaultExceptionFn(el, exceptions) {\r\n    for (var i in exceptions) {\r\n        if (exceptions[i].test(el[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nvar tagExceptionFn = preventDefaultExceptionFn;\r\nfunction tap(e, eventName) {\r\n    var ev = document.createEvent('Event');\r\n    ev.initEvent(eventName, true, true);\r\n    ev.pageX = e.pageX;\r\n    ev.pageY = e.pageY;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction click(e, event) {\r\n    if (event === void 0) { event = 'click'; }\r\n    var eventSource;\r\n    if (e.type === 'mouseup') {\r\n        eventSource = e;\r\n    }\r\n    else if (e.type === 'touchend' || e.type === 'touchcancel') {\r\n        eventSource = e.changedTouches[0];\r\n    }\r\n    var posSrc = {};\r\n    if (eventSource) {\r\n        posSrc.screenX = eventSource.screenX || 0;\r\n        posSrc.screenY = eventSource.screenY || 0;\r\n        posSrc.clientX = eventSource.clientX || 0;\r\n        posSrc.clientY = eventSource.clientY || 0;\r\n    }\r\n    var ev;\r\n    var bubbles = true;\r\n    var cancelable = true;\r\n    var ctrlKey = e.ctrlKey, shiftKey = e.shiftKey, altKey = e.altKey, metaKey = e.metaKey;\r\n    var pressedKeysMap = {\r\n        ctrlKey: ctrlKey,\r\n        shiftKey: shiftKey,\r\n        altKey: altKey,\r\n        metaKey: metaKey,\r\n    };\r\n    if (typeof MouseEvent !== 'undefined') {\r\n        try {\r\n            ev = new MouseEvent(event, extend(__assign({ bubbles: bubbles,\r\n                cancelable: cancelable }, pressedKeysMap), posSrc));\r\n        }\r\n        catch (e) {\r\n            /* istanbul ignore next */\r\n            createEvent();\r\n        }\r\n    }\r\n    else {\r\n        createEvent();\r\n    }\r\n    function createEvent() {\r\n        ev = document.createEvent('Event');\r\n        ev.initEvent(event, bubbles, cancelable);\r\n        extend(ev, posSrc);\r\n    }\r\n    // forwardedTouchEvent set to true in case of the conflict with fastclick\r\n    ev.forwardedTouchEvent = true;\r\n    ev._constructed = true;\r\n    e.target.dispatchEvent(ev);\r\n}\r\nfunction dblclick(e) {\r\n    click(e, 'dblclick');\r\n}\n\nvar ease = {\r\n    // easeOutQuint\r\n    swipe: {\r\n        style: 'cubic-bezier(0.23, 1, 0.32, 1)',\r\n        fn: function (t) {\r\n            return 1 + --t * t * t * t * t;\r\n        }\r\n    },\r\n    // easeOutQuard\r\n    swipeBounce: {\r\n        style: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\r\n        fn: function (t) {\r\n            return t * (2 - t);\r\n        }\r\n    },\r\n    // easeOutQuart\r\n    bounce: {\r\n        style: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\r\n        fn: function (t) {\r\n            return 1 - --t * t * t * t;\r\n        }\r\n    }\r\n};\n\nvar DEFAULT_INTERVAL = 1000 / 60;\r\nvar windowCompat = inBrowser && window;\r\n/* istanbul ignore next */\r\nfunction noop$1() { }\r\nvar requestAnimationFrame = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return noop$1;\r\n    }\r\n    return (windowCompat.requestAnimationFrame ||\r\n        windowCompat.webkitRequestAnimationFrame ||\r\n        windowCompat.mozRequestAnimationFrame ||\r\n        windowCompat.oRequestAnimationFrame ||\r\n        // if all else fails, use setTimeout\r\n        function (callback) {\r\n            return window.setTimeout(callback, callback.interval || DEFAULT_INTERVAL); // make interval as precise as possible.\r\n        });\r\n})();\r\nvar cancelAnimationFrame = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return noop$1;\r\n    }\r\n    return (windowCompat.cancelAnimationFrame ||\r\n        windowCompat.webkitCancelAnimationFrame ||\r\n        windowCompat.mozCancelAnimationFrame ||\r\n        windowCompat.oCancelAnimationFrame ||\r\n        function (id) {\r\n            window.clearTimeout(id);\r\n        });\r\n})();\n\n/* istanbul ignore next */\r\nvar noop = function (val) { };\r\nvar sharedPropertyDefinition = {\r\n    enumerable: true,\r\n    configurable: true,\r\n    get: noop,\r\n    set: noop,\r\n};\r\nvar getProperty = function (obj, key) {\r\n    var keys = key.split('.');\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        obj = obj[keys[i]];\r\n        if (typeof obj !== 'object' || !obj)\r\n            return;\r\n    }\r\n    var lastKey = keys.pop();\r\n    if (typeof obj[lastKey] === 'function') {\r\n        return function () {\r\n            return obj[lastKey].apply(obj, arguments);\r\n        };\r\n    }\r\n    else {\r\n        return obj[lastKey];\r\n    }\r\n};\r\nvar setProperty = function (obj, key, value) {\r\n    var keys = key.split('.');\r\n    var temp;\r\n    for (var i = 0; i < keys.length - 1; i++) {\r\n        temp = keys[i];\r\n        if (!obj[temp])\r\n            obj[temp] = {};\r\n        obj = obj[temp];\r\n    }\r\n    obj[keys.pop()] = value;\r\n};\r\nfunction propertiesProxy(target, sourceKey, key) {\r\n    sharedPropertyDefinition.get = function proxyGetter() {\r\n        return getProperty(this, sourceKey);\r\n    };\r\n    sharedPropertyDefinition.set = function proxySetter(val) {\r\n        setProperty(this, sourceKey, val);\r\n    };\r\n    Object.defineProperty(target, key, sharedPropertyDefinition);\r\n}\n\nvar EventEmitter = /** @class */ (function () {\r\n    function EventEmitter(names) {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n        this.registerType(names);\r\n    }\r\n    EventEmitter.prototype.on = function (type, fn, context) {\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push([fn, context]);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.once = function (type, fn, context) {\r\n        var _this = this;\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        var magic = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            _this.off(type, magic);\r\n            var ret = fn.apply(context, args);\r\n            if (ret === true) {\r\n                return ret;\r\n            }\r\n        };\r\n        magic.fn = fn;\r\n        this.on(type, magic);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.off = function (type, fn) {\r\n        if (!type && !fn) {\r\n            this.events = {};\r\n            return this;\r\n        }\r\n        if (type) {\r\n            this.hasType(type);\r\n            if (!fn) {\r\n                this.events[type] = [];\r\n                return this;\r\n            }\r\n            var events = this.events[type];\r\n            if (!events) {\r\n                return this;\r\n            }\r\n            var count = events.length;\r\n            while (count--) {\r\n                if (events[count][0] === fn ||\r\n                    (events[count][0] && events[count][0].fn === fn)) {\r\n                    events.splice(count, 1);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n    EventEmitter.prototype.trigger = function (type) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        this.hasType(type);\r\n        var events = this.events[type];\r\n        if (!events) {\r\n            return;\r\n        }\r\n        var len = events.length;\r\n        var eventsCopy = __spreadArrays(events);\r\n        var ret;\r\n        for (var i = 0; i < len; i++) {\r\n            var event_1 = eventsCopy[i];\r\n            var fn = event_1[0], context = event_1[1];\r\n            if (fn) {\r\n                ret = fn.apply(context, args);\r\n                if (ret === true) {\r\n                    return ret;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EventEmitter.prototype.registerType = function (names) {\r\n        var _this = this;\r\n        names.forEach(function (type) {\r\n            _this.eventTypes[type] = type;\r\n        });\r\n    };\r\n    EventEmitter.prototype.destroy = function () {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n    };\r\n    EventEmitter.prototype.hasType = function (type) {\r\n        var types = this.eventTypes;\r\n        var isType = types[type] === type;\r\n        if (!isType) {\r\n            warn(\"EventEmitter has used unknown event type: \\\"\" + type + \"\\\", should be oneof [\" +\r\n                (\"\" + Object.keys(types).map(function (_) { return JSON.stringify(_); })) +\r\n                \"]\");\r\n        }\r\n    };\r\n    return EventEmitter;\r\n}());\r\nvar EventRegister = /** @class */ (function () {\r\n    function EventRegister(wrapper, events) {\r\n        this.wrapper = wrapper;\r\n        this.events = events;\r\n        this.addDOMEvents();\r\n    }\r\n    EventRegister.prototype.destroy = function () {\r\n        this.removeDOMEvents();\r\n        this.events = [];\r\n    };\r\n    EventRegister.prototype.addDOMEvents = function () {\r\n        this.handleDOMEvents(addEvent);\r\n    };\r\n    EventRegister.prototype.removeDOMEvents = function () {\r\n        this.handleDOMEvents(removeEvent);\r\n    };\r\n    EventRegister.prototype.handleDOMEvents = function (eventOperation) {\r\n        var _this = this;\r\n        var wrapper = this.wrapper;\r\n        this.events.forEach(function (event) {\r\n            eventOperation(wrapper, event.name, _this, !!event.capture);\r\n        });\r\n    };\r\n    EventRegister.prototype.handleEvent = function (e) {\r\n        var eventType = e.type;\r\n        this.events.some(function (event) {\r\n            if (event.name === eventType) {\r\n                event.handler(e);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    };\r\n    return EventRegister;\r\n}());\n\nvar CustomOptions = /** @class */ (function () {\r\n    function CustomOptions() {\r\n    }\r\n    return CustomOptions;\r\n}());\r\nvar OptionsConstructor = /** @class */ (function (_super) {\r\n    __extends(OptionsConstructor, _super);\r\n    function OptionsConstructor() {\r\n        var _this = _super.call(this) || this;\r\n        _this.startX = 0;\r\n        _this.startY = 0;\r\n        _this.scrollX = false;\r\n        _this.scrollY = true;\r\n        _this.freeScroll = false;\r\n        _this.directionLockThreshold = 0;\r\n        _this.eventPassthrough = \"\" /* None */;\r\n        _this.click = false;\r\n        _this.dblclick = false;\r\n        _this.tap = '';\r\n        _this.bounce = {\r\n            top: true,\r\n            bottom: true,\r\n            left: true,\r\n            right: true,\r\n        };\r\n        _this.bounceTime = 800;\r\n        _this.momentum = true;\r\n        _this.momentumLimitTime = 300;\r\n        _this.momentumLimitDistance = 15;\r\n        _this.swipeTime = 2500;\r\n        _this.swipeBounceTime = 500;\r\n        _this.deceleration = 0.0015;\r\n        _this.flickLimitTime = 200;\r\n        _this.flickLimitDistance = 100;\r\n        _this.resizePolling = 60;\r\n        _this.probeType = 0 /* Default */;\r\n        _this.stopPropagation = false;\r\n        _this.preventDefault = true;\r\n        _this.preventDefaultException = {\r\n            tagName: /^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/,\r\n        };\r\n        _this.tagException = {\r\n            tagName: /^TEXTAREA$/,\r\n        };\r\n        _this.HWCompositing = true;\r\n        _this.useTransition = true;\r\n        _this.bindToWrapper = false;\r\n        _this.bindToTarget = false;\r\n        _this.disableMouse = hasTouch;\r\n        _this.disableTouch = !hasTouch;\r\n        _this.autoBlur = true;\r\n        _this.autoEndDistance = 5;\r\n        _this.outOfBoundaryDampingFactor = 1 / 3;\r\n        _this.specifiedIndexAsContent = 0;\r\n        _this.quadrant = 1 /* First */;\r\n        return _this;\r\n    }\r\n    OptionsConstructor.prototype.merge = function (options) {\r\n        if (!options)\r\n            return this;\r\n        for (var key in options) {\r\n            if (key === 'bounce') {\r\n                this.bounce = this.resolveBounce(options[key]);\r\n                continue;\r\n            }\r\n            this[key] = options[key];\r\n        }\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.process = function () {\r\n        this.translateZ =\r\n            this.HWCompositing && hasPerspective ? ' translateZ(1px)' : '';\r\n        this.useTransition = this.useTransition && hasTransition;\r\n        this.preventDefault = !this.eventPassthrough && this.preventDefault;\r\n        // If you want eventPassthrough I have to lock one of the axes\r\n        this.scrollX =\r\n            this.eventPassthrough === \"horizontal\" /* Horizontal */\r\n                ? false\r\n                : this.scrollX;\r\n        this.scrollY =\r\n            this.eventPassthrough === \"vertical\" /* Vertical */ ? false : this.scrollY;\r\n        // With eventPassthrough we also need lockDirection mechanism\r\n        this.freeScroll = this.freeScroll && !this.eventPassthrough;\r\n        // force true when freeScroll is true\r\n        this.scrollX = this.freeScroll ? true : this.scrollX;\r\n        this.scrollY = this.freeScroll ? true : this.scrollY;\r\n        this.directionLockThreshold = this.eventPassthrough\r\n            ? 0\r\n            : this.directionLockThreshold;\r\n        return this;\r\n    };\r\n    OptionsConstructor.prototype.resolveBounce = function (bounceOptions) {\r\n        var DEFAULT_BOUNCE = {\r\n            top: true,\r\n            right: true,\r\n            bottom: true,\r\n            left: true,\r\n        };\r\n        var NEGATED_BOUNCE = {\r\n            top: false,\r\n            right: false,\r\n            bottom: false,\r\n            left: false,\r\n        };\r\n        var ret;\r\n        if (typeof bounceOptions === 'object') {\r\n            ret = extend(DEFAULT_BOUNCE, bounceOptions);\r\n        }\r\n        else {\r\n            ret = bounceOptions ? DEFAULT_BOUNCE : NEGATED_BOUNCE;\r\n        }\r\n        return ret;\r\n    };\r\n    return OptionsConstructor;\r\n}(CustomOptions));\n\nvar ActionsHandler = /** @class */ (function () {\r\n    function ActionsHandler(wrapper, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'start',\r\n            'move',\r\n            'end',\r\n            'click',\r\n        ]);\r\n        this.handleDOMEvents();\r\n    }\r\n    ActionsHandler.prototype.handleDOMEvents = function () {\r\n        var _a = this.options, bindToWrapper = _a.bindToWrapper, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch, click = _a.click;\r\n        var wrapper = this.wrapper;\r\n        var target = bindToWrapper ? wrapper : window;\r\n        var wrapperEvents = [];\r\n        var targetEvents = [];\r\n        var shouldRegisterTouch = !disableTouch;\r\n        var shouldRegisterMouse = !disableMouse;\r\n        if (click) {\r\n            wrapperEvents.push({\r\n                name: 'click',\r\n                handler: this.click.bind(this),\r\n                capture: true,\r\n            });\r\n        }\r\n        if (shouldRegisterTouch) {\r\n            wrapperEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (shouldRegisterMouse) {\r\n            wrapperEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            targetEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            }, {\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.wrapperEventRegister = new EventRegister(wrapper, wrapperEvents);\r\n        this.targetEventRegister = new EventRegister(target, targetEvents);\r\n    };\r\n    ActionsHandler.prototype.beforeHandler = function (e, type) {\r\n        var _a = this.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        var preventDefaultConditions = {\r\n            start: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            end: function () {\r\n                return (preventDefault &&\r\n                    !preventDefaultExceptionFn(e.target, preventDefaultException));\r\n            },\r\n            move: function () {\r\n                return preventDefault;\r\n            },\r\n        };\r\n        if (preventDefaultConditions[type]()) {\r\n            e.preventDefault();\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.setInitiated = function (type) {\r\n        if (type === void 0) { type = 0; }\r\n        this.initiated = type;\r\n    };\r\n    ActionsHandler.prototype.start = function (e) {\r\n        var _eventType = eventTypeMap[e.type];\r\n        if (this.initiated && this.initiated !== _eventType) {\r\n            return;\r\n        }\r\n        this.setInitiated(_eventType);\r\n        // if textarea or other html tags in options.tagException is manipulated\r\n        // do not make bs scroll\r\n        if (tagExceptionFn(e.target, this.options.tagException)) {\r\n            this.setInitiated();\r\n            return;\r\n        }\r\n        // only allow mouse left button\r\n        if (_eventType === 2 /* Mouse */ && e.button !== 0 /* Left */)\r\n            return;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeStart, e)) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'start');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ActionsHandler.prototype.move = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e, 'move');\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var deltaX = point.pageX - this.pointX;\r\n        var deltaY = point.pageY - this.pointY;\r\n        this.pointX = point.pageX;\r\n        this.pointY = point.pageY;\r\n        if (this.hooks.trigger(this.hooks.eventTypes.move, {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY,\r\n            e: e,\r\n        })) {\r\n            return;\r\n        }\r\n        // auto end when out of viewport\r\n        var scrollLeft = document.documentElement.scrollLeft ||\r\n            window.pageXOffset ||\r\n            document.body.scrollLeft;\r\n        var scrollTop = document.documentElement.scrollTop ||\r\n            window.pageYOffset ||\r\n            document.body.scrollTop;\r\n        var pX = this.pointX - scrollLeft;\r\n        var pY = this.pointY - scrollTop;\r\n        var autoEndDistance = this.options.autoEndDistance;\r\n        if (pX > document.documentElement.clientWidth - autoEndDistance ||\r\n            pY > document.documentElement.clientHeight - autoEndDistance ||\r\n            pX < autoEndDistance ||\r\n            pY < autoEndDistance) {\r\n            this.end(e);\r\n        }\r\n    };\r\n    ActionsHandler.prototype.end = function (e) {\r\n        if (eventTypeMap[e.type] !== this.initiated) {\r\n            return;\r\n        }\r\n        this.setInitiated();\r\n        this.beforeHandler(e, 'end');\r\n        this.hooks.trigger(this.hooks.eventTypes.end, e);\r\n    };\r\n    ActionsHandler.prototype.click = function (e) {\r\n        this.hooks.trigger(this.hooks.eventTypes.click, e);\r\n    };\r\n    ActionsHandler.prototype.setContent = function (content) {\r\n        if (content !== this.wrapper) {\r\n            this.wrapper = content;\r\n            this.rebindDOMEvents();\r\n        }\r\n    };\r\n    ActionsHandler.prototype.rebindDOMEvents = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.handleDOMEvents();\r\n    };\r\n    ActionsHandler.prototype.destroy = function () {\r\n        this.wrapperEventRegister.destroy();\r\n        this.targetEventRegister.destroy();\r\n        this.hooks.destroy();\r\n    };\r\n    return ActionsHandler;\r\n}());\n\nvar translaterMetaData = {\r\n    x: ['translateX', 'px'],\r\n    y: ['translateY', 'px'],\r\n};\r\nvar Translater = /** @class */ (function () {\r\n    function Translater(content) {\r\n        this.setContent(content);\r\n        this.hooks = new EventEmitter(['beforeTranslate', 'translate']);\r\n    }\r\n    Translater.prototype.getComputedPosition = function () {\r\n        var cssStyle = window.getComputedStyle(this.content, null);\r\n        var matrix = cssStyle[style.transform].split(')')[0].split(', ');\r\n        var x = +(matrix[12] || matrix[4]) || 0;\r\n        var y = +(matrix[13] || matrix[5]) || 0;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    Translater.prototype.translate = function (point) {\r\n        var transformStyle = [];\r\n        Object.keys(point).forEach(function (key) {\r\n            if (!translaterMetaData[key]) {\r\n                return;\r\n            }\r\n            var transformFnName = translaterMetaData[key][0];\r\n            if (transformFnName) {\r\n                var transformFnArgUnit = translaterMetaData[key][1];\r\n                var transformFnArg = point[key];\r\n                transformStyle.push(transformFnName + \"(\" + transformFnArg + transformFnArgUnit + \")\");\r\n            }\r\n        });\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeTranslate, transformStyle, point);\r\n        this.style[style.transform] = transformStyle.join(' ');\r\n        this.hooks.trigger(this.hooks.eventTypes.translate, point);\r\n    };\r\n    Translater.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n        }\r\n    };\r\n    Translater.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Translater;\r\n}());\n\nvar Base = /** @class */ (function () {\r\n    function Base(content, translater, options) {\r\n        this.translater = translater;\r\n        this.options = options;\r\n        this.timer = 0;\r\n        this.hooks = new EventEmitter([\r\n            'move',\r\n            'end',\r\n            'beforeForceStop',\r\n            'forceStop',\r\n            'callStop',\r\n            'time',\r\n            'timeFunction',\r\n        ]);\r\n        this.setContent(content);\r\n    }\r\n    Base.prototype.translate = function (endPoint) {\r\n        this.translater.translate(endPoint);\r\n    };\r\n    Base.prototype.setPending = function (pending) {\r\n        this.pending = pending;\r\n    };\r\n    Base.prototype.setForceStopped = function (forceStopped) {\r\n        this.forceStopped = forceStopped;\r\n    };\r\n    Base.prototype.setCallStop = function (called) {\r\n        this.callStopWhenPending = called;\r\n    };\r\n    Base.prototype.setContent = function (content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this.style = content.style;\r\n            this.stop();\r\n        }\r\n    };\r\n    Base.prototype.clearTimer = function () {\r\n        if (this.timer) {\r\n            cancelAnimationFrame(this.timer);\r\n            this.timer = 0;\r\n        }\r\n    };\r\n    Base.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n        cancelAnimationFrame(this.timer);\r\n    };\r\n    return Base;\r\n}());\n\n// iOS 13.6 - 14.x, window.getComputedStyle sometimes will get wrong transform value\r\n// when bs use transition mode\r\n// eg: translateY -100px -> -200px, when the last frame which is about to scroll to -200px\r\n// window.getComputedStyle(this.content) will calculate transformY to be -100px(startPoint)\r\n// it is weird\r\n// so we should validate position caculated by 'window.getComputedStyle'\r\nvar isValidPostion = function (startPoint, endPoint, currentPos, prePos) {\r\n    var computeDirection = function (endValue, startValue) {\r\n        var delta = endValue - startValue;\r\n        var direction = delta > 0\r\n            ? -1 /* Negative */\r\n            : delta < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        return direction;\r\n    };\r\n    var directionX = computeDirection(endPoint.x, startPoint.x);\r\n    var directionY = computeDirection(endPoint.y, startPoint.y);\r\n    var deltaX = currentPos.x - prePos.x;\r\n    var deltaY = currentPos.y - prePos.y;\r\n    return directionX * deltaX <= 0 && directionY * deltaY <= 0;\r\n};\n\nvar Transition = /** @class */ (function (_super) {\r\n    __extends(Transition, _super);\r\n    function Transition() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Transition.prototype.startProbe = function (startPoint, endPoint) {\r\n        var _this = this;\r\n        var prePos = startPoint;\r\n        var probe = function () {\r\n            var pos = _this.translater.getComputedPosition();\r\n            if (isValidPostion(startPoint, endPoint, pos, prePos)) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, pos);\r\n            }\r\n            // call bs.stop() should not dispatch end hook again.\r\n            // forceStop hook will do this.\r\n            /* istanbul ignore if  */\r\n            if (!_this.pending) {\r\n                if (_this.callStopWhenPending) {\r\n                    _this.callStopWhenPending = false;\r\n                }\r\n                else {\r\n                    // transition ends should dispatch end hook.\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.end, pos);\r\n                }\r\n            }\r\n            prePos = pos;\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(probe);\r\n            }\r\n        };\r\n        // when manually call bs.stop(), then bs.scrollTo()\r\n        // we should reset callStopWhenPending to dispatch end hook\r\n        if (this.callStopWhenPending) {\r\n            this.setCallStop(false);\r\n        }\r\n        cancelAnimationFrame(this.timer);\r\n        probe();\r\n    };\r\n    Transition.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.style[style.transitionDuration] = time + 'ms';\r\n        this.hooks.trigger(this.hooks.eventTypes.time, time);\r\n    };\r\n    Transition.prototype.transitionTimingFunction = function (easing) {\r\n        this.style[style.transitionTimingFunction] = easing;\r\n        this.hooks.trigger(this.hooks.eventTypes.timeFunction, easing);\r\n    };\r\n    Transition.prototype.transitionProperty = function () {\r\n        this.style[style.transitionProperty] = style.transform;\r\n    };\r\n    Transition.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        this.setPending(time > 0);\r\n        this.transitionTimingFunction(easingFn);\r\n        this.transitionProperty();\r\n        this.transitionTime(time);\r\n        this.translate(endPoint);\r\n        var isRealtimeProbeType = this.options.probeType === 3 /* Realtime */;\r\n        if (time && isRealtimeProbeType) {\r\n            this.startProbe(startPoint, endPoint);\r\n        }\r\n        // if we change content's transformY in a tick\r\n        // such as: 0 -> 50px -> 0\r\n        // transitionend will not be triggered\r\n        // so we forceupdate by reflow\r\n        if (!time) {\r\n            this._reflow = this.content.offsetHeight;\r\n            if (isRealtimeProbeType) {\r\n                this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n        }\r\n    };\r\n    Transition.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        this.setCallStop(false);\r\n        // still in transition\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var _a = this.translater.getComputedPosition(), x = _a.x, y = _a.y;\r\n            this.transitionTime();\r\n            this.translate({ x: x, y: y });\r\n            this.setForceStopped(true);\r\n            this.setCallStop(true);\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, { x: x, y: y });\r\n        }\r\n        return pending;\r\n    };\r\n    Transition.prototype.stop = function () {\r\n        var stopFromTransition = this.doStop();\r\n        if (stopFromTransition) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n        }\r\n    };\r\n    return Transition;\r\n}(Base));\n\nvar Animation = /** @class */ (function (_super) {\r\n    __extends(Animation, _super);\r\n    function Animation() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Animation.prototype.move = function (startPoint, endPoint, time, easingFn) {\r\n        // time is 0\r\n        if (!time) {\r\n            this.translate(endPoint);\r\n            if (this.options.probeType === 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.move, endPoint);\r\n            }\r\n            this.hooks.trigger(this.hooks.eventTypes.end, endPoint);\r\n            return;\r\n        }\r\n        this.animate(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Animation.prototype.animate = function (startPoint, endPoint, duration, easingFn) {\r\n        var _this = this;\r\n        var startTime = getNow();\r\n        var destTime = startTime + duration;\r\n        var isRealtimeProbeType = this.options.probeType === 3 /* Realtime */;\r\n        var step = function () {\r\n            var now = getNow();\r\n            // js animation end\r\n            if (now >= destTime) {\r\n                _this.translate(endPoint);\r\n                if (isRealtimeProbeType) {\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.move, endPoint);\r\n                }\r\n                _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                return;\r\n            }\r\n            now = (now - startTime) / duration;\r\n            var easing = easingFn(now);\r\n            var newPoint = {};\r\n            Object.keys(endPoint).forEach(function (key) {\r\n                var startValue = startPoint[key];\r\n                var endValue = endPoint[key];\r\n                newPoint[key] = (endValue - startValue) * easing + startValue;\r\n            });\r\n            _this.translate(newPoint);\r\n            if (isRealtimeProbeType) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.move, newPoint);\r\n            }\r\n            if (_this.pending) {\r\n                _this.timer = requestAnimationFrame(step);\r\n            }\r\n            // call bs.stop() should not dispatch end hook again.\r\n            // forceStop hook will do this.\r\n            /* istanbul ignore if  */\r\n            if (!_this.pending) {\r\n                if (_this.callStopWhenPending) {\r\n                    _this.callStopWhenPending = false;\r\n                }\r\n                else {\r\n                    // raf ends should dispatch end hook.\r\n                    _this.hooks.trigger(_this.hooks.eventTypes.end, endPoint);\r\n                }\r\n            }\r\n        };\r\n        this.setPending(true);\r\n        // when manually call bs.stop(), then bs.scrollTo()\r\n        // we should reset callStopWhenPending to dispatch end hook\r\n        if (this.callStopWhenPending) {\r\n            this.setCallStop(false);\r\n        }\r\n        cancelAnimationFrame(this.timer);\r\n        step();\r\n    };\r\n    Animation.prototype.doStop = function () {\r\n        var pending = this.pending;\r\n        this.setForceStopped(false);\r\n        this.setCallStop(false);\r\n        // still in requestFrameAnimation\r\n        if (pending) {\r\n            this.setPending(false);\r\n            cancelAnimationFrame(this.timer);\r\n            var pos = this.translater.getComputedPosition();\r\n            this.setForceStopped(true);\r\n            this.setCallStop(true);\r\n            this.hooks.trigger(this.hooks.eventTypes.forceStop, pos);\r\n        }\r\n        return pending;\r\n    };\r\n    Animation.prototype.stop = function () {\r\n        var stopFromAnimation = this.doStop();\r\n        if (stopFromAnimation) {\r\n            this.hooks.trigger(this.hooks.eventTypes.callStop);\r\n        }\r\n    };\r\n    return Animation;\r\n}(Base));\n\nfunction createAnimater(element, translater, options) {\r\n    var useTransition = options.useTransition;\r\n    var animaterOptions = {};\r\n    Object.defineProperty(animaterOptions, 'probeType', {\r\n        enumerable: true,\r\n        configurable: false,\r\n        get: function () {\r\n            return options.probeType;\r\n        },\r\n    });\r\n    if (useTransition) {\r\n        return new Transition(element, translater, animaterOptions);\r\n    }\r\n    else {\r\n        return new Animation(element, translater, animaterOptions);\r\n    }\r\n}\n\nvar Behavior = /** @class */ (function () {\r\n    function Behavior(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter([\r\n            'beforeComputeBoundary',\r\n            'computeBoundary',\r\n            'momentum',\r\n            'end',\r\n            'ignoreHasScroll'\r\n        ]);\r\n        this.refresh(content);\r\n    }\r\n    Behavior.prototype.start = function () {\r\n        this.dist = 0;\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.move = function (delta) {\r\n        delta = this.hasScroll ? delta : 0;\r\n        this.setMovingDirection(delta);\r\n        return this.performDampingAlgorithm(delta, this.options.outOfBoundaryDampingFactor);\r\n    };\r\n    Behavior.prototype.setMovingDirection = function (delta) {\r\n        this.movingDirection =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.setDirection = function (delta) {\r\n        this.direction =\r\n            delta > 0\r\n                ? -1 /* Negative */\r\n                : delta < 0\r\n                    ? 1 /* Positive */\r\n                    : 0 /* Default */;\r\n    };\r\n    Behavior.prototype.performDampingAlgorithm = function (delta, dampingFactor) {\r\n        var newPos = this.currentPos + delta;\r\n        // Slow down or stop if outside of the boundaries\r\n        if (newPos > this.minScrollPos || newPos < this.maxScrollPos) {\r\n            if ((newPos > this.minScrollPos && this.options.bounces[0]) ||\r\n                (newPos < this.maxScrollPos && this.options.bounces[1])) {\r\n                newPos = this.currentPos + delta * dampingFactor;\r\n            }\r\n            else {\r\n                newPos =\r\n                    newPos > this.minScrollPos ? this.minScrollPos : this.maxScrollPos;\r\n            }\r\n        }\r\n        return newPos;\r\n    };\r\n    Behavior.prototype.end = function (duration) {\r\n        var momentumInfo = {\r\n            duration: 0\r\n        };\r\n        var absDist = Math.abs(this.currentPos - this.startPos);\r\n        // start momentum animation if needed\r\n        if (this.options.momentum &&\r\n            duration < this.options.momentumLimitTime &&\r\n            absDist > this.options.momentumLimitDistance) {\r\n            var wrapperSize = (this.direction === -1 /* Negative */ && this.options.bounces[0]) ||\r\n                (this.direction === 1 /* Positive */ && this.options.bounces[1])\r\n                ? this.wrapperSize\r\n                : 0;\r\n            momentumInfo = this.hasScroll\r\n                ? this.momentum(this.currentPos, this.startPos, duration, this.maxScrollPos, this.minScrollPos, wrapperSize, this.options)\r\n                : { destination: this.currentPos, duration: 0 };\r\n        }\r\n        else {\r\n            this.hooks.trigger(this.hooks.eventTypes.end, momentumInfo);\r\n        }\r\n        return momentumInfo;\r\n    };\r\n    Behavior.prototype.momentum = function (current, start, time, lowerMargin, upperMargin, wrapperSize, options) {\r\n        if (options === void 0) { options = this.options; }\r\n        var distance = current - start;\r\n        var speed = Math.abs(distance) / time;\r\n        var deceleration = options.deceleration, swipeBounceTime = options.swipeBounceTime, swipeTime = options.swipeTime;\r\n        var duration = Math.min(swipeTime, (speed * 2) / deceleration);\r\n        var momentumData = {\r\n            destination: current + ((speed * speed) / deceleration) * (distance < 0 ? -1 : 1),\r\n            duration: duration,\r\n            rate: 15\r\n        };\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, momentumData, distance);\r\n        if (momentumData.destination < lowerMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.max(lowerMargin - wrapperSize / 4, lowerMargin - (wrapperSize / momentumData.rate) * speed)\r\n                : lowerMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        else if (momentumData.destination > upperMargin) {\r\n            momentumData.destination = wrapperSize\r\n                ? Math.min(upperMargin + wrapperSize / 4, upperMargin + (wrapperSize / momentumData.rate) * speed)\r\n                : upperMargin;\r\n            momentumData.duration = swipeBounceTime;\r\n        }\r\n        momentumData.destination = Math.round(momentumData.destination);\r\n        return momentumData;\r\n    };\r\n    Behavior.prototype.updateDirection = function () {\r\n        var absDist = this.currentPos - this.absStartPos;\r\n        this.setDirection(absDist);\r\n    };\r\n    Behavior.prototype.refresh = function (content) {\r\n        var _a = this.options.rect, size = _a.size, position = _a.position;\r\n        var isWrapperStatic = window.getComputedStyle(this.wrapper, null).position === 'static';\r\n        // Force reflow\r\n        var wrapperRect = getRect(this.wrapper);\r\n        // use client is more fair than offset\r\n        this.wrapperSize = this.wrapper[size === 'width' ? 'clientWidth' : 'clientHeight'];\r\n        this.setContent(content);\r\n        var contentRect = getRect(this.content);\r\n        this.contentSize = contentRect[size];\r\n        this.relativeOffset = contentRect[position];\r\n        /* istanbul ignore if  */\r\n        if (isWrapperStatic) {\r\n            this.relativeOffset -= wrapperRect[position];\r\n        }\r\n        this.computeBoundary();\r\n        this.setDirection(0 /* Default */);\r\n    };\r\n    Behavior.prototype.setContent = function (content) {\r\n        if (content !== this.content) {\r\n            this.content = content;\r\n            this.resetState();\r\n        }\r\n    };\r\n    Behavior.prototype.resetState = function () {\r\n        this.currentPos = 0;\r\n        this.startPos = 0;\r\n        this.dist = 0;\r\n        this.setDirection(0 /* Default */);\r\n        this.setMovingDirection(0 /* Default */);\r\n        this.resetStartPos();\r\n    };\r\n    Behavior.prototype.computeBoundary = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);\r\n        var boundary = {\r\n            minScrollPos: 0,\r\n            maxScrollPos: this.wrapperSize - this.contentSize\r\n        };\r\n        if (boundary.maxScrollPos < 0) {\r\n            boundary.maxScrollPos -= this.relativeOffset;\r\n            if (this.options.specifiedIndexAsContent === 0) {\r\n                boundary.minScrollPos = -this.relativeOffset;\r\n            }\r\n        }\r\n        this.hooks.trigger(this.hooks.eventTypes.computeBoundary, boundary);\r\n        this.minScrollPos = boundary.minScrollPos;\r\n        this.maxScrollPos = boundary.maxScrollPos;\r\n        this.hasScroll =\r\n            this.options.scrollable && this.maxScrollPos < this.minScrollPos;\r\n        if (!this.hasScroll && this.minScrollPos < this.maxScrollPos) {\r\n            this.maxScrollPos = this.minScrollPos;\r\n            this.contentSize = this.wrapperSize;\r\n        }\r\n    };\r\n    Behavior.prototype.updatePosition = function (pos) {\r\n        this.currentPos = pos;\r\n    };\r\n    Behavior.prototype.getCurrentPos = function () {\r\n        return this.currentPos;\r\n    };\r\n    Behavior.prototype.checkInBoundary = function () {\r\n        var position = this.adjustPosition(this.currentPos);\r\n        var inBoundary = position === this.getCurrentPos();\r\n        return {\r\n            position: position,\r\n            inBoundary: inBoundary\r\n        };\r\n    };\r\n    // adjust position when out of boundary\r\n    Behavior.prototype.adjustPosition = function (pos) {\r\n        if (!this.hasScroll &&\r\n            !this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)) {\r\n            pos = this.minScrollPos;\r\n        }\r\n        else if (pos > this.minScrollPos) {\r\n            pos = this.minScrollPos;\r\n        }\r\n        else if (pos < this.maxScrollPos) {\r\n            pos = this.maxScrollPos;\r\n        }\r\n        return pos;\r\n    };\r\n    Behavior.prototype.updateStartPos = function () {\r\n        this.startPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.updateAbsStartPos = function () {\r\n        this.absStartPos = this.currentPos;\r\n    };\r\n    Behavior.prototype.resetStartPos = function () {\r\n        this.updateStartPos();\r\n        this.updateAbsStartPos();\r\n    };\r\n    Behavior.prototype.getAbsDist = function (delta) {\r\n        this.dist += delta;\r\n        return Math.abs(this.dist);\r\n    };\r\n    Behavior.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return Behavior;\r\n}());\n\nvar _a, _b, _c, _d;\r\nvar PassthroughHandlers = (_a = {},\r\n    _a[\"yes\" /* Yes */] = function (e) {\r\n        return true;\r\n    },\r\n    _a[\"no\" /* No */] = function (e) {\r\n        maybePrevent(e);\r\n        return false;\r\n    },\r\n    _a);\r\nvar DirectionMap = (_b = {},\r\n    _b[\"horizontal\" /* Horizontal */] = (_c = {},\r\n        _c[\"yes\" /* Yes */] = \"horizontal\" /* Horizontal */,\r\n        _c[\"no\" /* No */] = \"vertical\" /* Vertical */,\r\n        _c),\r\n    _b[\"vertical\" /* Vertical */] = (_d = {},\r\n        _d[\"yes\" /* Yes */] = \"vertical\" /* Vertical */,\r\n        _d[\"no\" /* No */] = \"horizontal\" /* Horizontal */,\r\n        _d),\r\n    _b);\r\nvar DirectionLockAction = /** @class */ (function () {\r\n    function DirectionLockAction(directionLockThreshold, freeScroll, eventPassthrough) {\r\n        this.directionLockThreshold = directionLockThreshold;\r\n        this.freeScroll = freeScroll;\r\n        this.eventPassthrough = eventPassthrough;\r\n        this.reset();\r\n    }\r\n    DirectionLockAction.prototype.reset = function () {\r\n        this.directionLocked = \"\" /* Default */;\r\n    };\r\n    DirectionLockAction.prototype.checkMovingDirection = function (absDistX, absDistY, e) {\r\n        this.computeDirectionLock(absDistX, absDistY);\r\n        return this.handleEventPassthrough(e);\r\n    };\r\n    DirectionLockAction.prototype.adjustDelta = function (deltaX, deltaY) {\r\n        if (this.directionLocked === \"horizontal\" /* Horizontal */) {\r\n            deltaY = 0;\r\n        }\r\n        else if (this.directionLocked === \"vertical\" /* Vertical */) {\r\n            deltaX = 0;\r\n        }\r\n        return {\r\n            deltaX: deltaX,\r\n            deltaY: deltaY,\r\n        };\r\n    };\r\n    DirectionLockAction.prototype.computeDirectionLock = function (absDistX, absDistY) {\r\n        // If you are scrolling in one direction, lock it\r\n        if (this.directionLocked === \"\" /* Default */ && !this.freeScroll) {\r\n            if (absDistX > absDistY + this.directionLockThreshold) {\r\n                this.directionLocked = \"horizontal\" /* Horizontal */; // lock horizontally\r\n            }\r\n            else if (absDistY >= absDistX + this.directionLockThreshold) {\r\n                this.directionLocked = \"vertical\" /* Vertical */; // lock vertically\r\n            }\r\n            else {\r\n                this.directionLocked = \"none\" /* None */; // no lock\r\n            }\r\n        }\r\n    };\r\n    DirectionLockAction.prototype.handleEventPassthrough = function (e) {\r\n        var handleMap = DirectionMap[this.directionLocked];\r\n        if (handleMap) {\r\n            if (this.eventPassthrough === handleMap[\"yes\" /* Yes */]) {\r\n                return PassthroughHandlers[\"yes\" /* Yes */](e);\r\n            }\r\n            else if (this.eventPassthrough === handleMap[\"no\" /* No */]) {\r\n                return PassthroughHandlers[\"no\" /* No */](e);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return DirectionLockAction;\r\n}());\n\nvar applyQuadrantTransformation = function (deltaX, deltaY, quadrant) {\r\n    if (quadrant === 2 /* Second */) {\r\n        return [deltaY, -deltaX];\r\n    }\r\n    else if (quadrant === 3 /* Third */) {\r\n        return [-deltaX, -deltaY];\r\n    }\r\n    else if (quadrant === 4 /* Forth */) {\r\n        return [-deltaY, deltaX];\r\n    }\r\n    else {\r\n        return [deltaX, deltaY];\r\n    }\r\n};\r\nvar ScrollerActions = /** @class */ (function () {\r\n    function ScrollerActions(scrollBehaviorX, scrollBehaviorY, actionsHandler, animater, options) {\r\n        this.hooks = new EventEmitter([\r\n            'start',\r\n            'beforeMove',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'end',\r\n            'scrollEnd',\r\n            'contentNotMoved',\r\n            'detectMovingDirection',\r\n            'coordinateTransformation',\r\n        ]);\r\n        this.scrollBehaviorX = scrollBehaviorX;\r\n        this.scrollBehaviorY = scrollBehaviorY;\r\n        this.actionsHandler = actionsHandler;\r\n        this.animater = animater;\r\n        this.options = options;\r\n        this.directionLockAction = new DirectionLockAction(options.directionLockThreshold, options.freeScroll, options.eventPassthrough);\r\n        this.enabled = true;\r\n        this.bindActionsHandler();\r\n    }\r\n    ScrollerActions.prototype.bindActionsHandler = function () {\r\n        var _this = this;\r\n        // [mouse|touch]start event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleStart(e);\r\n        });\r\n        // [mouse|touch]move event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move, function (_a) {\r\n            var deltaX = _a.deltaX, deltaY = _a.deltaY, e = _a.e;\r\n            if (!_this.enabled)\r\n                return true;\r\n            var _b = applyQuadrantTransformation(deltaX, deltaY, _this.options.quadrant), transformateDeltaX = _b[0], transformateDeltaY = _b[1];\r\n            var transformateDeltaData = {\r\n                deltaX: transformateDeltaX,\r\n                deltaY: transformateDeltaY,\r\n            };\r\n            _this.hooks.trigger(_this.hooks.eventTypes.coordinateTransformation, transformateDeltaData);\r\n            return _this.handleMove(transformateDeltaData.deltaX, transformateDeltaData.deltaY, e);\r\n        });\r\n        // [mouse|touch]end event\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end, function (e) {\r\n            if (!_this.enabled)\r\n                return true;\r\n            return _this.handleEnd(e);\r\n        });\r\n        // click\r\n        this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click, function (e) {\r\n            // handle native click event\r\n            if (_this.enabled && !e._constructed) {\r\n                _this.handleClick(e);\r\n            }\r\n        });\r\n    };\r\n    ScrollerActions.prototype.handleStart = function (e) {\r\n        var timestamp = getNow();\r\n        this.fingerMoved = false;\r\n        this.contentMoved = false;\r\n        this.startTime = timestamp;\r\n        this.directionLockAction.reset();\r\n        this.scrollBehaviorX.start();\r\n        this.scrollBehaviorY.start();\r\n        // force stopping last transition or animation\r\n        this.animater.doStop();\r\n        this.scrollBehaviorX.resetStartPos();\r\n        this.scrollBehaviorY.resetStartPos();\r\n        this.hooks.trigger(this.hooks.eventTypes.start, e);\r\n    };\r\n    ScrollerActions.prototype.handleMove = function (deltaX, deltaY, e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeMove, e)) {\r\n            return;\r\n        }\r\n        var absDistX = this.scrollBehaviorX.getAbsDist(deltaX);\r\n        var absDistY = this.scrollBehaviorY.getAbsDist(deltaY);\r\n        var timestamp = getNow();\r\n        // We need to move at least momentumLimitDistance pixels\r\n        // for the scrolling to initiate\r\n        if (this.checkMomentum(absDistX, absDistY, timestamp)) {\r\n            return true;\r\n        }\r\n        if (this.directionLockAction.checkMovingDirection(absDistX, absDistY, e)) {\r\n            this.actionsHandler.setInitiated();\r\n            return true;\r\n        }\r\n        var delta = this.directionLockAction.adjustDelta(deltaX, deltaY);\r\n        var prevX = this.scrollBehaviorX.getCurrentPos();\r\n        var newX = this.scrollBehaviorX.move(delta.deltaX);\r\n        var prevY = this.scrollBehaviorY.getCurrentPos();\r\n        var newY = this.scrollBehaviorY.move(delta.deltaY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)) {\r\n            return;\r\n        }\r\n        if (!this.fingerMoved) {\r\n            this.fingerMoved = true;\r\n        }\r\n        var positionChanged = newX !== prevX || newY !== prevY;\r\n        if (!this.contentMoved && !positionChanged) {\r\n            this.hooks.trigger(this.hooks.eventTypes.contentNotMoved);\r\n        }\r\n        if (!this.contentMoved && positionChanged) {\r\n            this.contentMoved = true;\r\n            this.hooks.trigger(this.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.contentMoved && positionChanged) {\r\n            this.animater.translate({\r\n                x: newX,\r\n                y: newY,\r\n            });\r\n            this.dispatchScroll(timestamp);\r\n        }\r\n    };\r\n    ScrollerActions.prototype.dispatchScroll = function (timestamp) {\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > this.options.momentumLimitTime) {\r\n            // refresh time and starting position to initiate a momentum\r\n            this.startTime = timestamp;\r\n            this.scrollBehaviorX.updateStartPos();\r\n            this.scrollBehaviorY.updateStartPos();\r\n            if (this.options.probeType === 1 /* Throttle */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (this.options.probeType > 1 /* Throttle */) {\r\n            this.hooks.trigger(this.hooks.eventTypes.scroll, this.getCurrentPos());\r\n        }\r\n    };\r\n    ScrollerActions.prototype.checkMomentum = function (absDistX, absDistY, timestamp) {\r\n        return (timestamp - this.endTime > this.options.momentumLimitTime &&\r\n            absDistY < this.options.momentumLimitDistance &&\r\n            absDistX < this.options.momentumLimitDistance);\r\n    };\r\n    ScrollerActions.prototype.handleEnd = function (e) {\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeEnd, e)) {\r\n            return;\r\n        }\r\n        var currentPos = this.getCurrentPos();\r\n        this.scrollBehaviorX.updateDirection();\r\n        this.scrollBehaviorY.updateDirection();\r\n        if (this.hooks.trigger(this.hooks.eventTypes.end, e, currentPos)) {\r\n            return true;\r\n        }\r\n        currentPos = this.ensureIntegerPos(currentPos);\r\n        this.animater.translate(currentPos);\r\n        this.endTime = getNow();\r\n        var duration = this.endTime - this.startTime;\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollEnd, currentPos, duration);\r\n    };\r\n    ScrollerActions.prototype.ensureIntegerPos = function (currentPos) {\r\n        this.ensuringInteger = true;\r\n        var x = currentPos.x, y = currentPos.y;\r\n        var _a = this.scrollBehaviorX, minScrollPosX = _a.minScrollPos, maxScrollPosX = _a.maxScrollPos;\r\n        var _b = this.scrollBehaviorY, minScrollPosY = _b.minScrollPos, maxScrollPosY = _b.maxScrollPos;\r\n        x = x > 0 ? Math.ceil(x) : Math.floor(x);\r\n        y = y > 0 ? Math.ceil(y) : Math.floor(y);\r\n        x = between(x, maxScrollPosX, minScrollPosX);\r\n        y = between(y, maxScrollPosY, minScrollPosY);\r\n        return { x: x, y: y };\r\n    };\r\n    ScrollerActions.prototype.handleClick = function (e) {\r\n        if (!preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n            maybePrevent(e);\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    ScrollerActions.prototype.getCurrentPos = function () {\r\n        return {\r\n            x: this.scrollBehaviorX.getCurrentPos(),\r\n            y: this.scrollBehaviorY.getCurrentPos(),\r\n        };\r\n    };\r\n    ScrollerActions.prototype.refresh = function () {\r\n        this.endTime = 0;\r\n    };\r\n    ScrollerActions.prototype.destroy = function () {\r\n        this.hooks.destroy();\r\n    };\r\n    return ScrollerActions;\r\n}());\n\nfunction createActionsHandlerOptions(bsOptions) {\r\n    var options = [\r\n        'click',\r\n        'bindToWrapper',\r\n        'disableMouse',\r\n        'disableTouch',\r\n        'preventDefault',\r\n        'stopPropagation',\r\n        'tagException',\r\n        'preventDefaultException',\r\n        'autoEndDistance',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    return options;\r\n}\r\nfunction createBehaviorOptions(bsOptions, extraProp, bounces, rect) {\r\n    var options = [\r\n        'momentum',\r\n        'momentumLimitTime',\r\n        'momentumLimitDistance',\r\n        'deceleration',\r\n        'swipeBounceTime',\r\n        'swipeTime',\r\n        'outOfBoundaryDampingFactor',\r\n        'specifiedIndexAsContent',\r\n    ].reduce(function (prev, cur) {\r\n        prev[cur] = bsOptions[cur];\r\n        return prev;\r\n    }, {});\r\n    // add extra property\r\n    options.scrollable = !!bsOptions[extraProp];\r\n    options.bounces = bounces;\r\n    options.rect = rect;\r\n    return options;\r\n}\n\nfunction bubbling(source, target, events) {\r\n    events.forEach(function (event) {\r\n        var sourceEvent;\r\n        var targetEvent;\r\n        if (typeof event === 'string') {\r\n            sourceEvent = targetEvent = event;\r\n        }\r\n        else {\r\n            sourceEvent = event.source;\r\n            targetEvent = event.target;\r\n        }\r\n        source.on(sourceEvent, function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return target.trigger.apply(target, __spreadArrays([targetEvent], args));\r\n        });\r\n    });\r\n}\n\nfunction isSamePoint(startPoint, endPoint) {\r\n    // keys of startPoint and endPoint should be equal\r\n    var keys = Object.keys(startPoint);\r\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\r\n        var key = keys_1[_i];\r\n        if (startPoint[key] !== endPoint[key])\r\n            return false;\r\n    }\r\n    return true;\r\n}\n\nvar MIN_SCROLL_DISTANCE = 1;\r\nvar Scroller = /** @class */ (function () {\r\n    function Scroller(wrapper, content, options) {\r\n        this.wrapper = wrapper;\r\n        this.content = content;\r\n        this.resizeTimeout = 0;\r\n        this.hooks = new EventEmitter([\r\n            'beforeStart',\r\n            'beforeMove',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'beforeEnd',\r\n            'scrollEnd',\r\n            'resize',\r\n            'touchEnd',\r\n            'end',\r\n            'flick',\r\n            'scrollCancel',\r\n            'momentum',\r\n            'scrollTo',\r\n            'minDistanceScroll',\r\n            'scrollToElement',\r\n            'beforeRefresh',\r\n        ]);\r\n        this.options = options;\r\n        var _a = this.options.bounce, left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\r\n        // direction X\r\n        this.scrollBehaviorX = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollX', [left, right], {\r\n            size: 'width',\r\n            position: 'left',\r\n        }));\r\n        // direction Y\r\n        this.scrollBehaviorY = new Behavior(wrapper, content, createBehaviorOptions(options, 'scrollY', [top, bottom], {\r\n            size: 'height',\r\n            position: 'top',\r\n        }));\r\n        this.translater = new Translater(this.content);\r\n        this.animater = createAnimater(this.content, this.translater, this.options);\r\n        this.actionsHandler = new ActionsHandler(this.options.bindToTarget ? this.content : wrapper, createActionsHandlerOptions(this.options));\r\n        this.actions = new ScrollerActions(this.scrollBehaviorX, this.scrollBehaviorY, this.actionsHandler, this.animater, this.options);\r\n        var resizeHandler = this.resize.bind(this);\r\n        this.resizeRegister = new EventRegister(window, [\r\n            {\r\n                name: 'orientationchange',\r\n                handler: resizeHandler,\r\n            },\r\n            {\r\n                name: 'resize',\r\n                handler: resizeHandler,\r\n            },\r\n        ]);\r\n        this.registerTransitionEnd();\r\n        this.init();\r\n    }\r\n    Scroller.prototype.init = function () {\r\n        var _this = this;\r\n        this.bindTranslater();\r\n        this.bindAnimater();\r\n        this.bindActions();\r\n        // enable pointer events when scrolling ends\r\n        this.hooks.on(this.hooks.eventTypes.scrollEnd, function () {\r\n            _this.togglePointerEvents(true);\r\n        });\r\n    };\r\n    Scroller.prototype.registerTransitionEnd = function () {\r\n        this.transitionEndRegister = new EventRegister(this.content, [\r\n            {\r\n                name: style.transitionEnd,\r\n                handler: this.transitionEnd.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindTranslater = function () {\r\n        var _this = this;\r\n        var hooks = this.translater.hooks;\r\n        hooks.on(hooks.eventTypes.beforeTranslate, function (transformStyle) {\r\n            if (_this.options.translateZ) {\r\n                transformStyle.push(_this.options.translateZ);\r\n            }\r\n        });\r\n        // disable pointer events when scrolling\r\n        hooks.on(hooks.eventTypes.translate, function (pos) {\r\n            var prevPos = _this.getCurrentPos();\r\n            _this.updatePositions(pos);\r\n            // scrollEnd will dispatch when scroll is force stopping in touchstart handler\r\n            // so in touchend handler, don't toggle pointer-events\r\n            if (_this.actions.ensuringInteger === true) {\r\n                _this.actions.ensuringInteger = false;\r\n                return;\r\n            }\r\n            // a valid translate\r\n            if (pos.x !== prevPos.x || pos.y !== prevPos.y) {\r\n                _this.togglePointerEvents(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.bindAnimater = function () {\r\n        var _this = this;\r\n        // reset position\r\n        this.animater.hooks.on(this.animater.hooks.eventTypes.end, function (pos) {\r\n            if (!_this.resetPosition(_this.options.bounceTime)) {\r\n                _this.animater.setPending(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n        });\r\n        bubbling(this.animater.hooks, this.hooks, [\r\n            {\r\n                source: this.animater.hooks.eventTypes.move,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: this.animater.hooks.eventTypes.forceStop,\r\n                target: this.hooks.eventTypes.scrollEnd,\r\n            },\r\n        ]);\r\n    };\r\n    Scroller.prototype.bindActions = function () {\r\n        var _this = this;\r\n        var actions = this.actions;\r\n        bubbling(actions.hooks, this.hooks, [\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.start,\r\n                target: this.hooks.eventTypes.beforeScrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeMove,\r\n                target: this.hooks.eventTypes.beforeMove,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scrollStart,\r\n                target: this.hooks.eventTypes.scrollStart,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.scroll,\r\n                target: this.hooks.eventTypes.scroll,\r\n            },\r\n            {\r\n                source: actions.hooks.eventTypes.beforeEnd,\r\n                target: this.hooks.eventTypes.beforeEnd,\r\n            },\r\n        ]);\r\n        actions.hooks.on(actions.hooks.eventTypes.end, function (e, pos) {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.touchEnd, pos);\r\n            if (_this.hooks.trigger(_this.hooks.eventTypes.end, pos)) {\r\n                return true;\r\n            }\r\n            // check if it is a click operation\r\n            if (!actions.fingerMoved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollCancel);\r\n                if (_this.checkClick(e)) {\r\n                    return true;\r\n                }\r\n            }\r\n            // reset if we are outside of the boundaries\r\n            if (_this.resetPosition(_this.options.bounceTime, ease.bounce)) {\r\n                _this.animater.setForceStopped(false);\r\n                return true;\r\n            }\r\n        });\r\n        actions.hooks.on(actions.hooks.eventTypes.scrollEnd, function (pos, duration) {\r\n            var deltaX = Math.abs(pos.x - _this.scrollBehaviorX.startPos);\r\n            var deltaY = Math.abs(pos.y - _this.scrollBehaviorY.startPos);\r\n            if (_this.checkFlick(duration, deltaX, deltaY)) {\r\n                _this.animater.setForceStopped(false);\r\n                _this.hooks.trigger(_this.hooks.eventTypes.flick);\r\n                return;\r\n            }\r\n            if (_this.momentum(pos, duration)) {\r\n                _this.animater.setForceStopped(false);\r\n                return;\r\n            }\r\n            if (actions.contentMoved) {\r\n                _this.hooks.trigger(_this.hooks.eventTypes.scrollEnd, pos);\r\n            }\r\n            if (_this.animater.forceStopped) {\r\n                _this.animater.setForceStopped(false);\r\n            }\r\n        });\r\n    };\r\n    Scroller.prototype.checkFlick = function (duration, deltaX, deltaY) {\r\n        var flickMinMovingDistance = 1; // distinguish flick from click\r\n        if (this.hooks.events.flick.length > 1 &&\r\n            duration < this.options.flickLimitTime &&\r\n            deltaX < this.options.flickLimitDistance &&\r\n            deltaY < this.options.flickLimitDistance &&\r\n            (deltaY > flickMinMovingDistance || deltaX > flickMinMovingDistance)) {\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.momentum = function (pos, duration) {\r\n        var meta = {\r\n            time: 0,\r\n            easing: ease.swiper,\r\n            newX: pos.x,\r\n            newY: pos.y,\r\n        };\r\n        // start momentum animation if needed\r\n        var momentumX = this.scrollBehaviorX.end(duration);\r\n        var momentumY = this.scrollBehaviorY.end(duration);\r\n        meta.newX = isUndef(momentumX.destination)\r\n            ? meta.newX\r\n            : momentumX.destination;\r\n        meta.newY = isUndef(momentumY.destination)\r\n            ? meta.newY\r\n            : momentumY.destination;\r\n        meta.time = Math.max(momentumX.duration, momentumY.duration);\r\n        this.hooks.trigger(this.hooks.eventTypes.momentum, meta, this);\r\n        // when x or y changed, do momentum animation now!\r\n        if (meta.newX !== pos.x || meta.newY !== pos.y) {\r\n            // change easing function when scroller goes out of the boundaries\r\n            if (meta.newX > this.scrollBehaviorX.minScrollPos ||\r\n                meta.newX < this.scrollBehaviorX.maxScrollPos ||\r\n                meta.newY > this.scrollBehaviorY.minScrollPos ||\r\n                meta.newY < this.scrollBehaviorY.maxScrollPos) {\r\n                meta.easing = ease.swipeBounce;\r\n            }\r\n            this.scrollTo(meta.newX, meta.newY, meta.time, meta.easing);\r\n            return true;\r\n        }\r\n    };\r\n    Scroller.prototype.checkClick = function (e) {\r\n        var cancelable = {\r\n            preventClick: this.animater.forceStopped,\r\n        };\r\n        // we scrolled less than momentumLimitDistance pixels\r\n        if (this.hooks.trigger(this.hooks.eventTypes.checkClick)) {\r\n            this.animater.setForceStopped(false);\r\n            return true;\r\n        }\r\n        if (!cancelable.preventClick) {\r\n            var _dblclick = this.options.dblclick;\r\n            var dblclickTrigged = false;\r\n            if (_dblclick && this.lastClickTime) {\r\n                var _a = _dblclick.delay, delay = _a === void 0 ? 300 : _a;\r\n                if (getNow() - this.lastClickTime < delay) {\r\n                    dblclickTrigged = true;\r\n                    dblclick(e);\r\n                }\r\n            }\r\n            if (this.options.tap) {\r\n                tap(e, this.options.tap);\r\n            }\r\n            if (this.options.click &&\r\n                !preventDefaultExceptionFn(e.target, this.options.preventDefaultException)) {\r\n                click(e);\r\n            }\r\n            this.lastClickTime = dblclickTrigged ? null : getNow();\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Scroller.prototype.resize = function () {\r\n        var _this = this;\r\n        if (!this.actions.enabled) {\r\n            return;\r\n        }\r\n        // fix a scroll problem under Android condition\r\n        /* istanbul ignore if  */\r\n        if (isAndroid) {\r\n            this.wrapper.scrollTop = 0;\r\n        }\r\n        clearTimeout(this.resizeTimeout);\r\n        this.resizeTimeout = window.setTimeout(function () {\r\n            _this.hooks.trigger(_this.hooks.eventTypes.resize);\r\n        }, this.options.resizePolling);\r\n    };\r\n    /* istanbul ignore next */\r\n    Scroller.prototype.transitionEnd = function (e) {\r\n        if (e.target !== this.content || !this.animater.pending) {\r\n            return;\r\n        }\r\n        var animater = this.animater;\r\n        animater.transitionTime();\r\n        if (!this.resetPosition(this.options.bounceTime, ease.bounce)) {\r\n            this.animater.setPending(false);\r\n            if (this.options.probeType !== 3 /* Realtime */) {\r\n                this.hooks.trigger(this.hooks.eventTypes.scrollEnd, this.getCurrentPos());\r\n            }\r\n        }\r\n    };\r\n    Scroller.prototype.togglePointerEvents = function (enabled) {\r\n        if (enabled === void 0) { enabled = true; }\r\n        var el = this.content.children.length\r\n            ? this.content.children\r\n            : [this.content];\r\n        var pointerEvents = enabled ? 'auto' : 'none';\r\n        for (var i = 0; i < el.length; i++) {\r\n            var node = el[i];\r\n            // ignore BetterScroll instance's wrapper DOM\r\n            /* istanbul ignore if  */\r\n            if (node.isBScrollContainer) {\r\n                continue;\r\n            }\r\n            node.style.pointerEvents = pointerEvents;\r\n        }\r\n    };\r\n    Scroller.prototype.refresh = function (content) {\r\n        var contentChanged = this.setContent(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.beforeRefresh);\r\n        this.scrollBehaviorX.refresh(content);\r\n        this.scrollBehaviorY.refresh(content);\r\n        if (contentChanged) {\r\n            this.translater.setContent(content);\r\n            this.animater.setContent(content);\r\n            this.transitionEndRegister.destroy();\r\n            this.registerTransitionEnd();\r\n            if (this.options.bindToTarget) {\r\n                this.actionsHandler.setContent(content);\r\n            }\r\n        }\r\n        this.actions.refresh();\r\n        this.wrapperOffset = offset(this.wrapper);\r\n    };\r\n    Scroller.prototype.setContent = function (content) {\r\n        var contentChanged = content !== this.content;\r\n        if (contentChanged) {\r\n            this.content = content;\r\n        }\r\n        return contentChanged;\r\n    };\r\n    Scroller.prototype.scrollBy = function (deltaX, deltaY, time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        var _a = this.getCurrentPos(), x = _a.x, y = _a.y;\r\n        easing = !easing ? ease.bounce : easing;\r\n        deltaX += x;\r\n        deltaY += y;\r\n        this.scrollTo(deltaX, deltaY, time, easing);\r\n    };\r\n    Scroller.prototype.scrollTo = function (x, y, time, easing, extraTransform) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        if (extraTransform === void 0) { extraTransform = {\r\n            start: {},\r\n            end: {},\r\n        }; }\r\n        var easingFn = this.options.useTransition ? easing.style : easing.fn;\r\n        var currentPos = this.getCurrentPos();\r\n        var startPoint = __assign({ x: currentPos.x, y: currentPos.y }, extraTransform.start);\r\n        var endPoint = __assign({ x: x,\r\n            y: y }, extraTransform.end);\r\n        this.hooks.trigger(this.hooks.eventTypes.scrollTo, endPoint);\r\n        // it is an useless move\r\n        if (isSamePoint(startPoint, endPoint))\r\n            return;\r\n        var deltaX = Math.abs(endPoint.x - startPoint.x);\r\n        var deltaY = Math.abs(endPoint.y - startPoint.y);\r\n        // considering of browser compatibility for decimal transform value\r\n        // force translating immediately\r\n        if (deltaX < MIN_SCROLL_DISTANCE && deltaY < MIN_SCROLL_DISTANCE) {\r\n            time = 0;\r\n            this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll);\r\n        }\r\n        this.animater.move(startPoint, endPoint, time, easingFn);\r\n    };\r\n    Scroller.prototype.scrollToElement = function (el, time, offsetX, offsetY, easing) {\r\n        var targetEle = getElement(el);\r\n        var pos = offset(targetEle);\r\n        var getOffset = function (offset, size, wrapperSize) {\r\n            if (typeof offset === 'number') {\r\n                return offset;\r\n            }\r\n            // if offsetX/Y are true we center the element to the screen\r\n            return offset ? Math.round(size / 2 - wrapperSize / 2) : 0;\r\n        };\r\n        offsetX = getOffset(offsetX, targetEle.offsetWidth, this.wrapper.offsetWidth);\r\n        offsetY = getOffset(offsetY, targetEle.offsetHeight, this.wrapper.offsetHeight);\r\n        var getPos = function (pos, wrapperPos, offset, scrollBehavior) {\r\n            pos -= wrapperPos;\r\n            pos = scrollBehavior.adjustPosition(pos - offset);\r\n            return pos;\r\n        };\r\n        pos.left = getPos(pos.left, this.wrapperOffset.left, offsetX, this.scrollBehaviorX);\r\n        pos.top = getPos(pos.top, this.wrapperOffset.top, offsetY, this.scrollBehaviorY);\r\n        if (this.hooks.trigger(this.hooks.eventTypes.scrollToElement, targetEle, pos)) {\r\n            return;\r\n        }\r\n        this.scrollTo(pos.left, pos.top, time, easing);\r\n    };\r\n    Scroller.prototype.resetPosition = function (time, easing) {\r\n        if (time === void 0) { time = 0; }\r\n        if (easing === void 0) { easing = ease.bounce; }\r\n        var _a = this.scrollBehaviorX.checkInBoundary(), x = _a.position, xInBoundary = _a.inBoundary;\r\n        var _b = this.scrollBehaviorY.checkInBoundary(), y = _b.position, yInBoundary = _b.inBoundary;\r\n        if (xInBoundary && yInBoundary) {\r\n            return false;\r\n        }\r\n        /* istanbul ignore if  */\r\n        if (isIOSBadVersion) {\r\n            // fix ios 13.4 bouncing\r\n            // see it in issues 982\r\n            this.reflow();\r\n        }\r\n        // out of boundary\r\n        this.scrollTo(x, y, time, easing);\r\n        return true;\r\n    };\r\n    /* istanbul ignore next */\r\n    Scroller.prototype.reflow = function () {\r\n        this._reflow = this.content.offsetHeight;\r\n    };\r\n    Scroller.prototype.updatePositions = function (pos) {\r\n        this.scrollBehaviorX.updatePosition(pos.x);\r\n        this.scrollBehaviorY.updatePosition(pos.y);\r\n    };\r\n    Scroller.prototype.getCurrentPos = function () {\r\n        return this.actions.getCurrentPos();\r\n    };\r\n    Scroller.prototype.enable = function () {\r\n        this.actions.enabled = true;\r\n    };\r\n    Scroller.prototype.disable = function () {\r\n        cancelAnimationFrame(this.animater.timer);\r\n        this.actions.enabled = false;\r\n    };\r\n    Scroller.prototype.destroy = function () {\r\n        var _this = this;\r\n        var keys = [\r\n            'resizeRegister',\r\n            'transitionEndRegister',\r\n            'actionsHandler',\r\n            'actions',\r\n            'hooks',\r\n            'animater',\r\n            'translater',\r\n            'scrollBehaviorX',\r\n            'scrollBehaviorY',\r\n        ];\r\n        keys.forEach(function (key) { return _this[key].destroy(); });\r\n    };\r\n    return Scroller;\r\n}());\n\nvar BScrollConstructor = /** @class */ (function (_super) {\r\n    __extends(BScrollConstructor, _super);\r\n    function BScrollConstructor(el, options) {\r\n        var _this = _super.call(this, [\r\n            'refresh',\r\n            'contentChanged',\r\n            'enable',\r\n            'disable',\r\n            'beforeScrollStart',\r\n            'scrollStart',\r\n            'scroll',\r\n            'scrollEnd',\r\n            'scrollCancel',\r\n            'touchEnd',\r\n            'flick',\r\n            'destroy'\r\n        ]) || this;\r\n        var wrapper = getElement(el);\r\n        if (!wrapper) {\r\n            warn('Can not resolve the wrapper DOM.');\r\n            return _this;\r\n        }\r\n        _this.plugins = {};\r\n        _this.options = new OptionsConstructor().merge(options).process();\r\n        if (!_this.setContent(wrapper).valid) {\r\n            return _this;\r\n        }\r\n        _this.hooks = new EventEmitter([\r\n            'refresh',\r\n            'enable',\r\n            'disable',\r\n            'destroy',\r\n            'beforeInitialScrollTo',\r\n            'contentChanged'\r\n        ]);\r\n        _this.init(wrapper);\r\n        return _this;\r\n    }\r\n    BScrollConstructor.use = function (ctor) {\r\n        var name = ctor.pluginName;\r\n        var installed = BScrollConstructor.plugins.some(function (plugin) { return ctor === plugin.ctor; });\r\n        if (installed)\r\n            return BScrollConstructor;\r\n        if (isUndef(name)) {\r\n            warn(\"Plugin Class must specify plugin's name in static property by 'pluginName' field.\");\r\n            return BScrollConstructor;\r\n        }\r\n        BScrollConstructor.pluginsMap[name] = true;\r\n        BScrollConstructor.plugins.push({\r\n            name: name,\r\n            applyOrder: ctor.applyOrder,\r\n            ctor: ctor\r\n        });\r\n        return BScrollConstructor;\r\n    };\r\n    BScrollConstructor.prototype.setContent = function (wrapper) {\r\n        var contentChanged = false;\r\n        var valid = true;\r\n        var content = wrapper.children[this.options.specifiedIndexAsContent];\r\n        if (!content) {\r\n            warn('The wrapper need at least one child element to be content element to scroll.');\r\n            valid = false;\r\n        }\r\n        else {\r\n            contentChanged = this.content !== content;\r\n            if (contentChanged) {\r\n                this.content = content;\r\n            }\r\n        }\r\n        return {\r\n            valid: valid,\r\n            contentChanged: contentChanged\r\n        };\r\n    };\r\n    BScrollConstructor.prototype.init = function (wrapper) {\r\n        var _this = this;\r\n        this.wrapper = wrapper;\r\n        // mark wrapper to recognize bs instance by DOM attribute\r\n        wrapper.isBScrollContainer = true;\r\n        this.scroller = new Scroller(wrapper, this.content, this.options);\r\n        this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize, function () {\r\n            _this.refresh();\r\n        });\r\n        this.eventBubbling();\r\n        this.handleAutoBlur();\r\n        this.enable();\r\n        this.proxy(propertiesConfig);\r\n        this.applyPlugins();\r\n        // maybe boundary has changed, should refresh\r\n        this.refreshWithoutReset(this.content);\r\n        var _a = this.options, startX = _a.startX, startY = _a.startY;\r\n        var position = {\r\n            x: startX,\r\n            y: startY\r\n        };\r\n        // maybe plugins want to control scroll position\r\n        if (this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo, position)) {\r\n            return;\r\n        }\r\n        this.scroller.scrollTo(position.x, position.y);\r\n    };\r\n    BScrollConstructor.prototype.applyPlugins = function () {\r\n        var _this = this;\r\n        var options = this.options;\r\n        BScrollConstructor.plugins\r\n            .sort(function (a, b) {\r\n            var _a;\r\n            var applyOrderMap = (_a = {},\r\n                _a[\"pre\" /* Pre */] = -1,\r\n                _a[\"post\" /* Post */] = 1,\r\n                _a);\r\n            var aOrder = a.applyOrder ? applyOrderMap[a.applyOrder] : 0;\r\n            var bOrder = b.applyOrder ? applyOrderMap[b.applyOrder] : 0;\r\n            return aOrder - bOrder;\r\n        })\r\n            .forEach(function (item) {\r\n            var ctor = item.ctor;\r\n            if (options[item.name] && typeof ctor === 'function') {\r\n                _this.plugins[item.name] = new ctor(_this);\r\n            }\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.handleAutoBlur = function () {\r\n        /* istanbul ignore if  */\r\n        if (this.options.autoBlur) {\r\n            this.on(this.eventTypes.beforeScrollStart, function () {\r\n                var activeElement = document.activeElement;\r\n                if (activeElement &&\r\n                    (activeElement.tagName === 'INPUT' ||\r\n                        activeElement.tagName === 'TEXTAREA')) {\r\n                    activeElement.blur();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.eventBubbling = function () {\r\n        bubbling(this.scroller.hooks, this, [\r\n            this.eventTypes.beforeScrollStart,\r\n            this.eventTypes.scrollStart,\r\n            this.eventTypes.scroll,\r\n            this.eventTypes.scrollEnd,\r\n            this.eventTypes.scrollCancel,\r\n            this.eventTypes.touchEnd,\r\n            this.eventTypes.flick\r\n        ]);\r\n    };\r\n    BScrollConstructor.prototype.refreshWithoutReset = function (content) {\r\n        this.scroller.refresh(content);\r\n        this.hooks.trigger(this.hooks.eventTypes.refresh, content);\r\n        this.trigger(this.eventTypes.refresh, content);\r\n    };\r\n    BScrollConstructor.prototype.proxy = function (propertiesConfig) {\r\n        var _this = this;\r\n        propertiesConfig.forEach(function (_a) {\r\n            var key = _a.key, sourceKey = _a.sourceKey;\r\n            propertiesProxy(_this, sourceKey, key);\r\n        });\r\n    };\r\n    BScrollConstructor.prototype.refresh = function () {\r\n        var _a = this.setContent(this.wrapper), contentChanged = _a.contentChanged, valid = _a.valid;\r\n        if (valid) {\r\n            var content = this.content;\r\n            this.refreshWithoutReset(content);\r\n            if (contentChanged) {\r\n                this.hooks.trigger(this.hooks.eventTypes.contentChanged, content);\r\n                this.trigger(this.eventTypes.contentChanged, content);\r\n            }\r\n            this.scroller.resetPosition();\r\n        }\r\n    };\r\n    BScrollConstructor.prototype.enable = function () {\r\n        this.scroller.enable();\r\n        this.hooks.trigger(this.hooks.eventTypes.enable);\r\n        this.trigger(this.eventTypes.enable);\r\n    };\r\n    BScrollConstructor.prototype.disable = function () {\r\n        this.scroller.disable();\r\n        this.hooks.trigger(this.hooks.eventTypes.disable);\r\n        this.trigger(this.eventTypes.disable);\r\n    };\r\n    BScrollConstructor.prototype.destroy = function () {\r\n        this.hooks.trigger(this.hooks.eventTypes.destroy);\r\n        this.trigger(this.eventTypes.destroy);\r\n        this.scroller.destroy();\r\n    };\r\n    BScrollConstructor.prototype.eventRegister = function (names) {\r\n        this.registerType(names);\r\n    };\r\n    BScrollConstructor.plugins = [];\r\n    BScrollConstructor.pluginsMap = {};\r\n    return BScrollConstructor;\r\n}(EventEmitter));\r\nfunction createBScroll(el, options) {\r\n    var bs = new BScrollConstructor(el, options);\r\n    return bs;\r\n}\r\ncreateBScroll.use = BScrollConstructor.use;\r\ncreateBScroll.plugins = BScrollConstructor.plugins;\r\ncreateBScroll.pluginsMap = BScrollConstructor.pluginsMap;\r\nvar BScroll = createBScroll;\n\nexport { Behavior, CustomOptions, createBScroll, BScroll as default };\n","/*!\n * better-scroll / scroll-bar\n * (c) 2016-2023 ustbhuangyi\n * Released under the MIT License.\n */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nfunction warn(msg) {\r\n    console.error(\"[BScroll warn]: \" + msg);\r\n}\n\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\n!!(ua && /wechatdevtools/.test(ua));\r\nua && ua.indexOf('android') > 0;\r\n/* istanbul ignore next */\r\n((function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] === 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n}))();\r\n/* istanbul ignore next */\r\nvar supportsPassive = false;\r\n/* istanbul ignore next */\r\nif (inBrowser) {\r\n    var EventName = 'test-passive';\r\n    try {\r\n        var opts = {};\r\n        Object.defineProperty(opts, 'passive', {\r\n            get: function () {\r\n                supportsPassive = true;\r\n            },\r\n        }); // https://github.com/facebook/flow/issues/285\r\n        window.addEventListener(EventName, function () { }, opts);\r\n    }\r\n    catch (e) { }\r\n}\n\nfunction getNow() {\r\n    return window.performance &&\r\n        window.performance.now &&\r\n        window.performance.timing\r\n        ? window.performance.now() + window.performance.timing.navigationStart\r\n        : +new Date();\r\n}\r\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\r\nfunction between(x, min, max) {\r\n    if (x < min) {\r\n        return min;\r\n    }\r\n    if (x > max) {\r\n        return max;\r\n    }\r\n    return x;\r\n}\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    /* istanbul ignore next  */\r\n    return false;\r\n})();\r\n/* istanbul ignore next  */\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nfunction addEvent(el, type, fn, capture) {\r\n    var useCapture = supportsPassive\r\n        ? {\r\n            passive: false,\r\n            capture: !!capture,\r\n        }\r\n        : !!capture;\r\n    el.addEventListener(type, fn, useCapture);\r\n}\r\nfunction removeEvent(el, type, fn, capture) {\r\n    el.removeEventListener(type, fn, {\r\n        capture: !!capture,\r\n    });\r\n}\r\nfunction maybePrevent(e) {\r\n    if (e.cancelable) {\r\n        e.preventDefault();\r\n    }\r\n}\r\nvendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\ninBrowser && prefixStyle('perspective') in elementStyle;\r\nvar style = {\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n};\n\nvar EventEmitter = /** @class */ (function () {\r\n    function EventEmitter(names) {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n        this.registerType(names);\r\n    }\r\n    EventEmitter.prototype.on = function (type, fn, context) {\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        if (!this.events[type]) {\r\n            this.events[type] = [];\r\n        }\r\n        this.events[type].push([fn, context]);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.once = function (type, fn, context) {\r\n        var _this = this;\r\n        if (context === void 0) { context = this; }\r\n        this.hasType(type);\r\n        var magic = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            _this.off(type, magic);\r\n            var ret = fn.apply(context, args);\r\n            if (ret === true) {\r\n                return ret;\r\n            }\r\n        };\r\n        magic.fn = fn;\r\n        this.on(type, magic);\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.off = function (type, fn) {\r\n        if (!type && !fn) {\r\n            this.events = {};\r\n            return this;\r\n        }\r\n        if (type) {\r\n            this.hasType(type);\r\n            if (!fn) {\r\n                this.events[type] = [];\r\n                return this;\r\n            }\r\n            var events = this.events[type];\r\n            if (!events) {\r\n                return this;\r\n            }\r\n            var count = events.length;\r\n            while (count--) {\r\n                if (events[count][0] === fn ||\r\n                    (events[count][0] && events[count][0].fn === fn)) {\r\n                    events.splice(count, 1);\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n    EventEmitter.prototype.trigger = function (type) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        this.hasType(type);\r\n        var events = this.events[type];\r\n        if (!events) {\r\n            return;\r\n        }\r\n        var len = events.length;\r\n        var eventsCopy = __spreadArrays(events);\r\n        var ret;\r\n        for (var i = 0; i < len; i++) {\r\n            var event_1 = eventsCopy[i];\r\n            var fn = event_1[0], context = event_1[1];\r\n            if (fn) {\r\n                ret = fn.apply(context, args);\r\n                if (ret === true) {\r\n                    return ret;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EventEmitter.prototype.registerType = function (names) {\r\n        var _this = this;\r\n        names.forEach(function (type) {\r\n            _this.eventTypes[type] = type;\r\n        });\r\n    };\r\n    EventEmitter.prototype.destroy = function () {\r\n        this.events = {};\r\n        this.eventTypes = {};\r\n    };\r\n    EventEmitter.prototype.hasType = function (type) {\r\n        var types = this.eventTypes;\r\n        var isType = types[type] === type;\r\n        if (!isType) {\r\n            warn(\"EventEmitter has used unknown event type: \\\"\" + type + \"\\\", should be oneof [\" +\r\n                (\"\" + Object.keys(types).map(function (_) { return JSON.stringify(_); })) +\r\n                \"]\");\r\n        }\r\n    };\r\n    return EventEmitter;\r\n}());\r\nvar EventRegister = /** @class */ (function () {\r\n    function EventRegister(wrapper, events) {\r\n        this.wrapper = wrapper;\r\n        this.events = events;\r\n        this.addDOMEvents();\r\n    }\r\n    EventRegister.prototype.destroy = function () {\r\n        this.removeDOMEvents();\r\n        this.events = [];\r\n    };\r\n    EventRegister.prototype.addDOMEvents = function () {\r\n        this.handleDOMEvents(addEvent);\r\n    };\r\n    EventRegister.prototype.removeDOMEvents = function () {\r\n        this.handleDOMEvents(removeEvent);\r\n    };\r\n    EventRegister.prototype.handleDOMEvents = function (eventOperation) {\r\n        var _this = this;\r\n        var wrapper = this.wrapper;\r\n        this.events.forEach(function (event) {\r\n            eventOperation(wrapper, event.name, _this, !!event.capture);\r\n        });\r\n    };\r\n    EventRegister.prototype.handleEvent = function (e) {\r\n        var eventType = e.type;\r\n        this.events.some(function (event) {\r\n            if (event.name === eventType) {\r\n                event.handler(e);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    };\r\n    return EventRegister;\r\n}());\n\nvar EventHandler = /** @class */ (function () {\r\n    function EventHandler(indicator, options) {\r\n        this.indicator = indicator;\r\n        this.options = options;\r\n        this.hooks = new EventEmitter(['touchStart', 'touchMove', 'touchEnd']);\r\n        this.registerEvents();\r\n    }\r\n    EventHandler.prototype.registerEvents = function () {\r\n        var _a = this.options, disableMouse = _a.disableMouse, disableTouch = _a.disableTouch;\r\n        var startEvents = [];\r\n        var moveEvents = [];\r\n        var endEvents = [];\r\n        if (!disableMouse) {\r\n            startEvents.push({\r\n                name: 'mousedown',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'mousemove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'mouseup',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        if (!disableTouch) {\r\n            startEvents.push({\r\n                name: 'touchstart',\r\n                handler: this.start.bind(this),\r\n            });\r\n            moveEvents.push({\r\n                name: 'touchmove',\r\n                handler: this.move.bind(this),\r\n            });\r\n            endEvents.push({\r\n                name: 'touchend',\r\n                handler: this.end.bind(this),\r\n            }, {\r\n                name: 'touchcancel',\r\n                handler: this.end.bind(this),\r\n            });\r\n        }\r\n        this.startEventRegister = new EventRegister(this.indicator.indicatorEl, startEvents);\r\n        this.moveEventRegister = new EventRegister(window, moveEvents);\r\n        this.endEventRegister = new EventRegister(window, endEvents);\r\n    };\r\n    EventHandler.prototype.BScrollIsDisabled = function () {\r\n        return !this.indicator.scroll.enabled;\r\n    };\r\n    EventHandler.prototype.start = function (e) {\r\n        if (this.BScrollIsDisabled()) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        maybePrevent(e);\r\n        e.stopPropagation();\r\n        this.initiated = true;\r\n        this.lastPoint = point[this.indicator.keysMap.point];\r\n        this.hooks.trigger(this.hooks.eventTypes.touchStart);\r\n    };\r\n    EventHandler.prototype.move = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        var point = (e.touches ? e.touches[0] : e);\r\n        var pointPos = point[this.indicator.keysMap.point];\r\n        maybePrevent(e);\r\n        e.stopPropagation();\r\n        var delta = pointPos - this.lastPoint;\r\n        this.lastPoint = pointPos;\r\n        this.hooks.trigger(this.hooks.eventTypes.touchMove, delta);\r\n    };\r\n    EventHandler.prototype.end = function (e) {\r\n        if (!this.initiated) {\r\n            return;\r\n        }\r\n        this.initiated = false;\r\n        maybePrevent(e);\r\n        e.stopPropagation();\r\n        this.hooks.trigger(this.hooks.eventTypes.touchEnd);\r\n    };\r\n    EventHandler.prototype.destroy = function () {\r\n        this.startEventRegister.destroy();\r\n        this.moveEventRegister.destroy();\r\n        this.endEventRegister.destroy();\r\n    };\r\n    return EventHandler;\r\n}());\n\nvar Indicator = /** @class */ (function () {\r\n    function Indicator(scroll, options) {\r\n        this.scroll = scroll;\r\n        this.options = options;\r\n        this.hooksFn = [];\r\n        this.wrapper = options.wrapper;\r\n        this.direction = options.direction;\r\n        this.indicatorEl = this.wrapper.children[0];\r\n        this.keysMap = this.getKeysMap();\r\n        this.handleFade();\r\n        this.handleHooks();\r\n    }\r\n    Indicator.prototype.handleFade = function () {\r\n        if (this.options.fade) {\r\n            this.wrapper.style.opacity = '0';\r\n        }\r\n    };\r\n    Indicator.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var _a = this.options, fade = _a.fade, interactive = _a.interactive, scrollbarTrackClickable = _a.scrollbarTrackClickable;\r\n        var scroll = this.scroll;\r\n        var scrollHooks = scroll.hooks;\r\n        var translaterHooks = scroll.scroller.translater.hooks;\r\n        var animaterHooks = scroll.scroller.animater.hooks;\r\n        this.registerHooks(scrollHooks, scrollHooks.eventTypes.refresh, this.refresh);\r\n        this.registerHooks(translaterHooks, translaterHooks.eventTypes.translate, function (pos) {\r\n            var hasScrollKey = _this.keysMap.hasScroll;\r\n            if (_this.scroll[hasScrollKey]) {\r\n                _this.updatePosition(pos);\r\n            }\r\n        });\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.time, this.transitionTime);\r\n        this.registerHooks(animaterHooks, animaterHooks.eventTypes.timeFunction, this.transitionTimingFunction);\r\n        if (fade) {\r\n            this.registerHooks(scroll, scroll.eventTypes.scrollEnd, function () {\r\n                _this.fade();\r\n            });\r\n            this.registerHooks(scroll, scroll.eventTypes.scrollStart, function () {\r\n                _this.fade(true);\r\n            });\r\n            // for mousewheel event\r\n            if (scroll.eventTypes.mousewheelStart &&\r\n                scroll.eventTypes.mousewheelEnd) {\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelStart, function () {\r\n                    _this.fade(true);\r\n                });\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelMove, function () {\r\n                    _this.fade(true);\r\n                });\r\n                this.registerHooks(scroll, scroll.eventTypes.mousewheelEnd, function () {\r\n                    _this.fade();\r\n                });\r\n            }\r\n        }\r\n        if (interactive) {\r\n            var _b = this.scroll.options, disableMouse = _b.disableMouse, disableTouch = _b.disableTouch;\r\n            this.eventHandler = new EventHandler(this, {\r\n                disableMouse: disableMouse,\r\n                disableTouch: disableTouch,\r\n            });\r\n            var eventHandlerHooks = this.eventHandler.hooks;\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchStart, this.startHandler);\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchMove, this.moveHandler);\r\n            this.registerHooks(eventHandlerHooks, eventHandlerHooks.eventTypes.touchEnd, this.endHandler);\r\n        }\r\n        if (scrollbarTrackClickable) {\r\n            this.bindClick();\r\n        }\r\n    };\r\n    Indicator.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    Indicator.prototype.bindClick = function () {\r\n        var wrapper = this.wrapper;\r\n        this.clickEventRegister = new EventRegister(wrapper, [\r\n            {\r\n                name: 'click',\r\n                handler: this.handleClick.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    Indicator.prototype.handleClick = function (e) {\r\n        var newPos = this.calculateclickOffsetPos(e);\r\n        var _a = this.scroll, x = _a.x, y = _a.y;\r\n        x = this.direction === \"horizontal\" /* Horizontal */ ? newPos : x;\r\n        y = this.direction === \"vertical\" /* Vertical */ ? newPos : y;\r\n        this.scroll.scrollTo(x, y, this.options.scrollbarTrackOffsetTime);\r\n    };\r\n    Indicator.prototype.calculateclickOffsetPos = function (e) {\r\n        var _a = this.keysMap, poinKey = _a.point, domRectKey = _a.domRect;\r\n        var scrollbarTrackOffsetType = this.options.scrollbarTrackOffsetType;\r\n        var clickPointOffset = e[poinKey] - this.wrapperRect[domRectKey];\r\n        var scrollToWhere = clickPointOffset < this.currentPos ? -1 /* Up */ : 1 /* Down */;\r\n        var delta = 0;\r\n        var currentPos = this.currentPos;\r\n        if (scrollbarTrackOffsetType === \"step\" /* Step */) {\r\n            delta = this.scrollInfo.baseSize * scrollToWhere;\r\n        }\r\n        else {\r\n            delta = 0;\r\n            currentPos = clickPointOffset;\r\n        }\r\n        return this.newPos(currentPos, delta, this.scrollInfo);\r\n    };\r\n    Indicator.prototype.getKeysMap = function () {\r\n        if (this.direction === \"vertical\" /* Vertical */) {\r\n            return {\r\n                hasScroll: 'hasVerticalScroll',\r\n                size: 'height',\r\n                wrapperSize: 'clientHeight',\r\n                scrollerSize: 'scrollerHeight',\r\n                maxScrollPos: 'maxScrollY',\r\n                pos: 'y',\r\n                point: 'pageY',\r\n                translateProperty: 'translateY',\r\n                domRect: 'top',\r\n            };\r\n        }\r\n        return {\r\n            hasScroll: 'hasHorizontalScroll',\r\n            size: 'width',\r\n            wrapperSize: 'clientWidth',\r\n            scrollerSize: 'scrollerWidth',\r\n            maxScrollPos: 'maxScrollX',\r\n            pos: 'x',\r\n            point: 'pageX',\r\n            translateProperty: 'translateX',\r\n            domRect: 'left',\r\n        };\r\n    };\r\n    Indicator.prototype.fade = function (visible) {\r\n        var _a = this.options, fadeInTime = _a.fadeInTime, fadeOutTime = _a.fadeOutTime;\r\n        var time = visible ? fadeInTime : fadeOutTime;\r\n        var wrapper = this.wrapper;\r\n        wrapper.style[style.transitionDuration] = time + 'ms';\r\n        wrapper.style.opacity = visible ? '1' : '0';\r\n    };\r\n    Indicator.prototype.refresh = function () {\r\n        var hasScrollKey = this.keysMap.hasScroll;\r\n        var scroll = this.scroll;\r\n        var x = scroll.x, y = scroll.y;\r\n        this.wrapperRect = this.wrapper.getBoundingClientRect();\r\n        if (this.canScroll(scroll[hasScrollKey])) {\r\n            var _a = this.keysMap, wrapperSizeKey = _a.wrapperSize, scrollerSizeKey = _a.scrollerSize, maxScrollPosKey = _a.maxScrollPos;\r\n            this.scrollInfo = this.refreshScrollInfo(this.wrapper[wrapperSizeKey], scroll[scrollerSizeKey], scroll[maxScrollPosKey], this.indicatorEl[wrapperSizeKey]);\r\n            this.updatePosition({\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.transitionTime = function (time) {\r\n        if (time === void 0) { time = 0; }\r\n        this.indicatorEl.style[style.transitionDuration] = time + 'ms';\r\n    };\r\n    Indicator.prototype.transitionTimingFunction = function (easing) {\r\n        this.indicatorEl.style[style.transitionTimingFunction] = easing;\r\n    };\r\n    Indicator.prototype.canScroll = function (hasScroll) {\r\n        this.wrapper.style.display = hasScroll ? 'block' : 'none';\r\n        return hasScroll;\r\n    };\r\n    Indicator.prototype.refreshScrollInfo = function (wrapperSize, scrollerSize, maxScrollPos, indicatorElSize) {\r\n        var baseSize = Math.max(Math.round((wrapperSize * wrapperSize) / (scrollerSize || wrapperSize || 1)), this.options.minSize);\r\n        if (this.options.isCustom) {\r\n            baseSize = indicatorElSize;\r\n        }\r\n        var maxIndicatorScrollPos = wrapperSize - baseSize;\r\n        // sizeRatio is negative\r\n        var sizeRatio = maxIndicatorScrollPos / maxScrollPos;\r\n        return {\r\n            baseSize: baseSize,\r\n            maxScrollPos: maxIndicatorScrollPos,\r\n            minScrollPos: 0,\r\n            sizeRatio: sizeRatio,\r\n        };\r\n    };\r\n    Indicator.prototype.updatePosition = function (point) {\r\n        var _a = this.caculatePosAndSize(point, this.scrollInfo), pos = _a.pos, size = _a.size;\r\n        this.refreshStyle(size, pos);\r\n        this.currentPos = pos;\r\n    };\r\n    Indicator.prototype.caculatePosAndSize = function (point, scrollInfo) {\r\n        var posKey = this.keysMap.pos;\r\n        var sizeRatio = scrollInfo.sizeRatio, baseSize = scrollInfo.baseSize, maxScrollPos = scrollInfo.maxScrollPos, minScrollPos = scrollInfo.minScrollPos;\r\n        var minSize = this.options.minSize;\r\n        var pos = Math.round(sizeRatio * point[posKey]);\r\n        var size;\r\n        // when out of boundary, slow down size reduction\r\n        if (pos < minScrollPos) {\r\n            size = Math.max(baseSize + pos * 3, minSize);\r\n            pos = minScrollPos;\r\n        }\r\n        else if (pos > maxScrollPos) {\r\n            size = Math.max(baseSize - (pos - maxScrollPos) * 3, minSize);\r\n            pos = maxScrollPos + baseSize - size;\r\n        }\r\n        else {\r\n            size = baseSize;\r\n        }\r\n        return {\r\n            pos: pos,\r\n            size: size,\r\n        };\r\n    };\r\n    Indicator.prototype.refreshStyle = function (size, pos) {\r\n        var _a = this.keysMap, translatePropertyKey = _a.translateProperty, sizeKey = _a.size;\r\n        var translateZ = this.scroll.options.translateZ;\r\n        this.indicatorEl.style[sizeKey] = size + \"px\";\r\n        this.indicatorEl.style[style.transform] = translatePropertyKey + \"(\" + pos + \"px)\" + translateZ;\r\n    };\r\n    Indicator.prototype.startHandler = function () {\r\n        this.moved = false;\r\n        this.startTime = getNow();\r\n        this.transitionTime();\r\n        this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart);\r\n    };\r\n    Indicator.prototype.moveHandler = function (delta) {\r\n        if (!this.moved && !this.indicatorNotMoved(delta)) {\r\n            this.moved = true;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart);\r\n        }\r\n        if (this.moved) {\r\n            var newPos = this.newPos(this.currentPos, delta, this.scrollInfo);\r\n            this.syncBScroll(newPos);\r\n        }\r\n    };\r\n    Indicator.prototype.endHandler = function () {\r\n        if (this.moved) {\r\n            var _a = this.scroll, x = _a.x, y = _a.y;\r\n            this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd, {\r\n                x: x,\r\n                y: y,\r\n            });\r\n        }\r\n    };\r\n    Indicator.prototype.indicatorNotMoved = function (delta) {\r\n        var currentPos = this.currentPos;\r\n        var _a = this.scrollInfo, maxScrollPos = _a.maxScrollPos, minScrollPos = _a.minScrollPos;\r\n        var notMoved = (currentPos === minScrollPos && delta <= 0) ||\r\n            (currentPos === maxScrollPos && delta >= 0);\r\n        return notMoved;\r\n    };\r\n    Indicator.prototype.syncBScroll = function (newPos) {\r\n        var timestamp = getNow();\r\n        var _a = this.scroll, x = _a.x, y = _a.y, options = _a.options, scroller = _a.scroller, maxScrollY = _a.maxScrollY, minScrollY = _a.minScrollY, maxScrollX = _a.maxScrollX, minScrollX = _a.minScrollX;\r\n        var probeType = options.probeType, momentumLimitTime = options.momentumLimitTime;\r\n        var position = { x: x, y: y };\r\n        if (this.direction === \"vertical\" /* Vertical */) {\r\n            position.y = between(newPos, maxScrollY, minScrollY);\r\n        }\r\n        else {\r\n            position.x = between(newPos, maxScrollX, minScrollX);\r\n        }\r\n        scroller.translater.translate(position);\r\n        // dispatch scroll in interval time\r\n        if (timestamp - this.startTime > momentumLimitTime) {\r\n            this.startTime = timestamp;\r\n            if (probeType === 1 /* Throttle */) {\r\n                scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, position);\r\n            }\r\n        }\r\n        // dispatch scroll all the time\r\n        if (probeType > 1 /* Throttle */) {\r\n            scroller.hooks.trigger(scroller.hooks.eventTypes.scroll, position);\r\n        }\r\n    };\r\n    Indicator.prototype.newPos = function (currentPos, delta, scrollInfo) {\r\n        var maxScrollPos = scrollInfo.maxScrollPos, sizeRatio = scrollInfo.sizeRatio, minScrollPos = scrollInfo.minScrollPos;\r\n        var newPos = currentPos + delta;\r\n        newPos = between(newPos, minScrollPos, maxScrollPos);\r\n        return Math.round(newPos / sizeRatio);\r\n    };\r\n    Indicator.prototype.destroy = function () {\r\n        var _a = this.options, interactive = _a.interactive, scrollbarTrackClickable = _a.scrollbarTrackClickable, isCustom = _a.isCustom;\r\n        if (interactive) {\r\n            this.eventHandler.destroy();\r\n        }\r\n        if (scrollbarTrackClickable) {\r\n            this.clickEventRegister.destroy();\r\n        }\r\n        if (!isCustom) {\r\n            this.wrapper.parentNode.removeChild(this.wrapper);\r\n        }\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n        this.hooksFn.length = 0;\r\n    };\r\n    return Indicator;\r\n}());\n\nvar ScrollBar = /** @class */ (function () {\r\n    function ScrollBar(scroll) {\r\n        this.scroll = scroll;\r\n        this.handleOptions();\r\n        this.createIndicators();\r\n        this.handleHooks();\r\n    }\r\n    ScrollBar.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        var scroll = this.scroll;\r\n        scroll.hooks.on(scroll.hooks.eventTypes.destroy, function () {\r\n            for (var _i = 0, _a = _this.indicators; _i < _a.length; _i++) {\r\n                var indicator = _a[_i];\r\n                indicator.destroy();\r\n            }\r\n        });\r\n    };\r\n    ScrollBar.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.scrollbar === true\r\n            ? {}\r\n            : this.scroll.options.scrollbar);\r\n        var defaultOptions = {\r\n            fade: true,\r\n            fadeInTime: 250,\r\n            fadeOutTime: 500,\r\n            interactive: false,\r\n            customElements: [],\r\n            minSize: 8,\r\n            scrollbarTrackClickable: false,\r\n            scrollbarTrackOffsetType: \"step\" /* Step */,\r\n            scrollbarTrackOffsetTime: 300,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n    };\r\n    ScrollBar.prototype.createIndicators = function () {\r\n        var indicatorOptions;\r\n        var scroll = this.scroll;\r\n        var indicators = [];\r\n        var scrollDirectionConfigKeys = ['scrollX', 'scrollY'];\r\n        var indicatorDirections = [\r\n            \"horizontal\" /* Horizontal */,\r\n            \"vertical\" /* Vertical */,\r\n        ];\r\n        var customScrollbarEls = this.options.customElements;\r\n        for (var i = 0; i < scrollDirectionConfigKeys.length; i++) {\r\n            var key = scrollDirectionConfigKeys[i];\r\n            // wanna scroll in specified direction\r\n            if (scroll.options[key]) {\r\n                var customElement = customScrollbarEls.shift();\r\n                var direction = indicatorDirections[i];\r\n                var isCustom = false;\r\n                var scrollbarWrapper = customElement\r\n                    ? customElement\r\n                    : this.createScrollbarElement(direction);\r\n                // internal scrollbar\r\n                if (scrollbarWrapper !== customElement) {\r\n                    scroll.wrapper.appendChild(scrollbarWrapper);\r\n                }\r\n                else {\r\n                    // custom scrollbar passed by users\r\n                    isCustom = true;\r\n                }\r\n                indicatorOptions = __assign(__assign({ wrapper: scrollbarWrapper, direction: direction }, this.options), { isCustom: isCustom });\r\n                indicators.push(new Indicator(scroll, indicatorOptions));\r\n            }\r\n        }\r\n        this.indicators = indicators;\r\n    };\r\n    ScrollBar.prototype.createScrollbarElement = function (direction, scrollbarTrackClickable) {\r\n        if (scrollbarTrackClickable === void 0) { scrollbarTrackClickable = this.options.scrollbarTrackClickable; }\r\n        var scrollbarWrapperEl = document.createElement('div');\r\n        var scrollbarIndicatorEl = document.createElement('div');\r\n        scrollbarWrapperEl.style.cssText =\r\n            'position:absolute;z-index:9999;overflow:hidden;';\r\n        scrollbarIndicatorEl.style.cssText =\r\n            'box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;';\r\n        scrollbarIndicatorEl.className = 'bscroll-indicator';\r\n        if (direction === \"horizontal\" /* Horizontal */) {\r\n            scrollbarWrapperEl.style.cssText +=\r\n                'height:7px;left:2px;right:2px;bottom:0;';\r\n            scrollbarIndicatorEl.style.height = '100%';\r\n            scrollbarWrapperEl.className = 'bscroll-horizontal-scrollbar';\r\n        }\r\n        else {\r\n            scrollbarWrapperEl.style.cssText +=\r\n                'width:7px;bottom:2px;top:2px;right:1px;';\r\n            scrollbarIndicatorEl.style.width = '100%';\r\n            scrollbarWrapperEl.className = 'bscroll-vertical-scrollbar';\r\n        }\r\n        if (!scrollbarTrackClickable) {\r\n            scrollbarWrapperEl.style.cssText += 'pointer-events:none;';\r\n        }\r\n        scrollbarWrapperEl.appendChild(scrollbarIndicatorEl);\r\n        return scrollbarWrapperEl;\r\n    };\r\n    ScrollBar.pluginName = 'scrollbar';\r\n    return ScrollBar;\r\n}());\n\nexport { ScrollBar as default };\n","/*!\n * better-scroll / mouse-wheel\n * (c) 2016-2023 ustbhuangyi\n * Released under the MIT License.\n */\nfunction warn(msg) {\r\n    console.error(\"[BScroll warn]: \" + msg);\r\n}\n\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\n!!(ua && /wechatdevtools/.test(ua));\r\nua && ua.indexOf('android') > 0;\r\n/* istanbul ignore next */\r\n((function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] === 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n}))();\r\n/* istanbul ignore next */\r\nvar supportsPassive = false;\r\n/* istanbul ignore next */\r\nif (inBrowser) {\r\n    var EventName = 'test-passive';\r\n    try {\r\n        var opts = {};\r\n        Object.defineProperty(opts, 'passive', {\r\n            get: function () {\r\n                supportsPassive = true;\r\n            },\r\n        }); // https://github.com/facebook/flow/issues/285\r\n        window.addEventListener(EventName, function () { }, opts);\r\n    }\r\n    catch (e) { }\r\n}\n\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    /* istanbul ignore next  */\r\n    return false;\r\n})();\r\n/* istanbul ignore next  */\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nfunction addEvent(el, type, fn, capture) {\r\n    var useCapture = supportsPassive\r\n        ? {\r\n            passive: false,\r\n            capture: !!capture,\r\n        }\r\n        : !!capture;\r\n    el.addEventListener(type, fn, useCapture);\r\n}\r\nfunction removeEvent(el, type, fn, capture) {\r\n    el.removeEventListener(type, fn, {\r\n        capture: !!capture,\r\n    });\r\n}\r\nfunction maybePrevent(e) {\r\n    if (e.cancelable) {\r\n        e.preventDefault();\r\n    }\r\n}\r\nvendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\ninBrowser && prefixStyle('perspective') in elementStyle;\r\n({\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n});\r\nfunction preventDefaultExceptionFn(el, exceptions) {\r\n    for (var i in exceptions) {\r\n        if (exceptions[i].test(el[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\n\nvar EventRegister = /** @class */ (function () {\r\n    function EventRegister(wrapper, events) {\r\n        this.wrapper = wrapper;\r\n        this.events = events;\r\n        this.addDOMEvents();\r\n    }\r\n    EventRegister.prototype.destroy = function () {\r\n        this.removeDOMEvents();\r\n        this.events = [];\r\n    };\r\n    EventRegister.prototype.addDOMEvents = function () {\r\n        this.handleDOMEvents(addEvent);\r\n    };\r\n    EventRegister.prototype.removeDOMEvents = function () {\r\n        this.handleDOMEvents(removeEvent);\r\n    };\r\n    EventRegister.prototype.handleDOMEvents = function (eventOperation) {\r\n        var _this = this;\r\n        var wrapper = this.wrapper;\r\n        this.events.forEach(function (event) {\r\n            eventOperation(wrapper, event.name, _this, !!event.capture);\r\n        });\r\n    };\r\n    EventRegister.prototype.handleEvent = function (e) {\r\n        var eventType = e.type;\r\n        this.events.some(function (event) {\r\n            if (event.name === eventType) {\r\n                event.handler(e);\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n    };\r\n    return EventRegister;\r\n}());\n\nvar MouseWheel = /** @class */ (function () {\r\n    function MouseWheel(scroll) {\r\n        this.scroll = scroll;\r\n        this.wheelEndTimer = 0;\r\n        this.wheelMoveTimer = 0;\r\n        this.wheelStart = false;\r\n        this.init();\r\n    }\r\n    MouseWheel.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions();\r\n        this.handleHooks();\r\n        this.registerEvent();\r\n    };\r\n    MouseWheel.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([\r\n            'alterOptions',\r\n            'mousewheelStart',\r\n            'mousewheelMove',\r\n            'mousewheelEnd',\r\n        ]);\r\n    };\r\n    MouseWheel.prototype.handleOptions = function () {\r\n        var userOptions = (this.scroll.options.mouseWheel === true\r\n            ? {}\r\n            : this.scroll.options.mouseWheel);\r\n        var defaultOptions = {\r\n            speed: 20,\r\n            invert: false,\r\n            easeTime: 300,\r\n            discreteTime: 400,\r\n            throttleTime: 0,\r\n            dampingFactor: 0.1,\r\n        };\r\n        this.mouseWheelOpt = extend(defaultOptions, userOptions);\r\n    };\r\n    MouseWheel.prototype.handleHooks = function () {\r\n        this.hooksFn = [];\r\n        this.registerHooks(this.scroll.hooks, 'destroy', this.destroy);\r\n    };\r\n    MouseWheel.prototype.registerEvent = function () {\r\n        this.eventRegister = new EventRegister(this.scroll.scroller.wrapper, [\r\n            {\r\n                name: 'wheel',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n            {\r\n                name: 'mousewheel',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n            {\r\n                name: 'DOMMouseScroll',\r\n                handler: this.wheelHandler.bind(this),\r\n            },\r\n        ]);\r\n    };\r\n    MouseWheel.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    MouseWheel.prototype.wheelHandler = function (e) {\r\n        if (!this.scroll.enabled) {\r\n            return;\r\n        }\r\n        this.beforeHandler(e);\r\n        // start\r\n        if (!this.wheelStart) {\r\n            this.wheelStartHandler(e);\r\n            this.wheelStart = true;\r\n        }\r\n        // move\r\n        var delta = this.getWheelDelta(e);\r\n        this.wheelMoveHandler(delta);\r\n        // end\r\n        this.wheelEndDetector(delta);\r\n    };\r\n    MouseWheel.prototype.wheelStartHandler = function (e) {\r\n        this.cleanCache();\r\n        var _a = this.scroll.scroller, scrollBehaviorX = _a.scrollBehaviorX, scrollBehaviorY = _a.scrollBehaviorY;\r\n        scrollBehaviorX.setMovingDirection(0 /* Default */);\r\n        scrollBehaviorY.setMovingDirection(0 /* Default */);\r\n        scrollBehaviorX.setDirection(0 /* Default */);\r\n        scrollBehaviorY.setDirection(0 /* Default */);\r\n        this.scroll.trigger(this.scroll.eventTypes.alterOptions, this.mouseWheelOpt);\r\n        this.scroll.trigger(this.scroll.eventTypes.mousewheelStart);\r\n    };\r\n    MouseWheel.prototype.cleanCache = function () {\r\n        this.deltaCache = [];\r\n    };\r\n    MouseWheel.prototype.wheelMoveHandler = function (delta) {\r\n        var _this = this;\r\n        var _a = this.mouseWheelOpt, throttleTime = _a.throttleTime, dampingFactor = _a.dampingFactor;\r\n        if (throttleTime && this.wheelMoveTimer) {\r\n            this.deltaCache.push(delta);\r\n        }\r\n        else {\r\n            var cachedDelta = this.deltaCache.reduce(function (prev, current) {\r\n                return {\r\n                    x: prev.x + current.x,\r\n                    y: prev.y + current.y,\r\n                };\r\n            }, { x: 0, y: 0 });\r\n            this.cleanCache();\r\n            var _b = this.scroll.scroller, scrollBehaviorX = _b.scrollBehaviorX, scrollBehaviorY = _b.scrollBehaviorY;\r\n            scrollBehaviorX.setMovingDirection(-delta.directionX);\r\n            scrollBehaviorY.setMovingDirection(-delta.directionY);\r\n            scrollBehaviorX.setDirection(delta.x);\r\n            scrollBehaviorY.setDirection(delta.y);\r\n            // when out of boundary, perform a damping scroll\r\n            var newX = scrollBehaviorX.performDampingAlgorithm(Math.round(delta.x) + cachedDelta.x, dampingFactor);\r\n            var newY = scrollBehaviorY.performDampingAlgorithm(Math.round(delta.y) + cachedDelta.x, dampingFactor);\r\n            if (!this.scroll.trigger(this.scroll.eventTypes.mousewheelMove, {\r\n                x: newX,\r\n                y: newY,\r\n            })) {\r\n                var easeTime = this.getEaseTime();\r\n                if (newX !== this.scroll.x || newY !== this.scroll.y) {\r\n                    this.scroll.scrollTo(newX, newY, easeTime);\r\n                }\r\n            }\r\n            if (throttleTime) {\r\n                this.wheelMoveTimer = window.setTimeout(function () {\r\n                    _this.wheelMoveTimer = 0;\r\n                }, throttleTime);\r\n            }\r\n        }\r\n    };\r\n    MouseWheel.prototype.wheelEndDetector = function (delta) {\r\n        var _this = this;\r\n        window.clearTimeout(this.wheelEndTimer);\r\n        this.wheelEndTimer = window.setTimeout(function () {\r\n            _this.wheelStart = false;\r\n            window.clearTimeout(_this.wheelMoveTimer);\r\n            _this.wheelMoveTimer = 0;\r\n            _this.scroll.trigger(_this.scroll.eventTypes.mousewheelEnd, delta);\r\n        }, this.mouseWheelOpt.discreteTime);\r\n    };\r\n    MouseWheel.prototype.getWheelDelta = function (e) {\r\n        var _a = this.mouseWheelOpt, speed = _a.speed, invert = _a.invert;\r\n        var wheelDeltaX = 0;\r\n        var wheelDeltaY = 0;\r\n        var direction = invert ? -1 /* Negative */ : 1 /* Positive */;\r\n        switch (true) {\r\n            case 'deltaX' in e:\r\n                if (e.deltaMode === 1) {\r\n                    wheelDeltaX = -e.deltaX * speed;\r\n                    wheelDeltaY = -e.deltaY * speed;\r\n                }\r\n                else {\r\n                    wheelDeltaX = -e.deltaX;\r\n                    wheelDeltaY = -e.deltaY;\r\n                }\r\n                break;\r\n            case 'wheelDeltaX' in e:\r\n                wheelDeltaX = (e.wheelDeltaX / 120) * speed;\r\n                wheelDeltaY = (e.wheelDeltaY / 120) * speed;\r\n                break;\r\n            case 'wheelDelta' in e:\r\n                wheelDeltaX = wheelDeltaY = (e.wheelDelta / 120) * speed;\r\n                break;\r\n            case 'detail' in e:\r\n                wheelDeltaX = wheelDeltaY = (-e.detail / 3) * speed;\r\n                break;\r\n        }\r\n        wheelDeltaX *= direction;\r\n        wheelDeltaY *= direction;\r\n        if (!this.scroll.hasVerticalScroll) {\r\n            if (Math.abs(wheelDeltaY) > Math.abs(wheelDeltaX)) {\r\n                wheelDeltaX = wheelDeltaY;\r\n            }\r\n            wheelDeltaY = 0;\r\n        }\r\n        if (!this.scroll.hasHorizontalScroll) {\r\n            wheelDeltaX = 0;\r\n        }\r\n        var directionX = wheelDeltaX > 0\r\n            ? -1 /* Negative */\r\n            : wheelDeltaX < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        var directionY = wheelDeltaY > 0\r\n            ? -1 /* Negative */\r\n            : wheelDeltaY < 0\r\n                ? 1 /* Positive */\r\n                : 0 /* Default */;\r\n        return {\r\n            x: wheelDeltaX,\r\n            y: wheelDeltaY,\r\n            directionX: directionX,\r\n            directionY: directionY,\r\n        };\r\n    };\r\n    MouseWheel.prototype.beforeHandler = function (e) {\r\n        var _a = this.scroll.options, preventDefault = _a.preventDefault, stopPropagation = _a.stopPropagation, preventDefaultException = _a.preventDefaultException;\r\n        if (preventDefault &&\r\n            !preventDefaultExceptionFn(e.target, preventDefaultException)) {\r\n            maybePrevent(e);\r\n        }\r\n        if (stopPropagation) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n    MouseWheel.prototype.getEaseTime = function () {\r\n        var SAFE_EASETIME = 100;\r\n        var easeTime = this.mouseWheelOpt.easeTime;\r\n        // scrollEnd event will be triggered in every calling of scrollTo when easeTime is too small\r\n        // easeTime needs to be greater than 100\r\n        if (easeTime < SAFE_EASETIME) {\r\n            warn(\"easeTime should be greater than 100.\" +\r\n                \"If mouseWheel easeTime is too small,\" +\r\n                \"scrollEnd will be triggered many times.\");\r\n        }\r\n        return Math.max(easeTime, SAFE_EASETIME);\r\n    };\r\n    MouseWheel.prototype.destroy = function () {\r\n        this.eventRegister.destroy();\r\n        window.clearTimeout(this.wheelEndTimer);\r\n        window.clearTimeout(this.wheelMoveTimer);\r\n        this.hooksFn.forEach(function (item) {\r\n            var hooks = item[0];\r\n            var hooksName = item[1];\r\n            var handlerFn = item[2];\r\n            hooks.off(hooksName, handlerFn);\r\n        });\r\n    };\r\n    MouseWheel.pluginName = 'mouseWheel';\r\n    MouseWheel.applyOrder = \"pre\" /* Pre */;\r\n    return MouseWheel;\r\n}());\n\nexport { MouseWheel as default };\n","/*!\n * better-scroll / pull-up\n * (c) 2016-2023 ustbhuangyi\n * Released under the MIT License.\n */\n// ssr support\r\nvar inBrowser = typeof window !== 'undefined';\r\nvar ua = inBrowser && navigator.userAgent.toLowerCase();\r\n!!(ua && /wechatdevtools/.test(ua));\r\nua && ua.indexOf('android') > 0;\r\n/* istanbul ignore next */\r\n((function () {\r\n    if (typeof ua === 'string') {\r\n        var regex = /os (\\d\\d?_\\d(_\\d)?)/;\r\n        var matches = regex.exec(ua);\r\n        if (!matches)\r\n            return false;\r\n        var parts = matches[1].split('_').map(function (item) {\r\n            return parseInt(item, 10);\r\n        });\r\n        // ios version >= 13.4 issue 982\r\n        return !!(parts[0] === 13 && parts[1] >= 4);\r\n    }\r\n    return false;\r\n}))();\r\n/* istanbul ignore next */\r\nvar supportsPassive = false;\r\n/* istanbul ignore next */\r\nif (inBrowser) {\r\n    var EventName = 'test-passive';\r\n    try {\r\n        var opts = {};\r\n        Object.defineProperty(opts, 'passive', {\r\n            get: function () {\r\n                supportsPassive = true;\r\n            },\r\n        }); // https://github.com/facebook/flow/issues/285\r\n        window.addEventListener(EventName, function () { }, opts);\r\n    }\r\n    catch (e) { }\r\n}\n\nvar extend = function (target, source) {\r\n    for (var key in source) {\r\n        target[key] = source[key];\r\n    }\r\n    return target;\r\n};\n\nvar elementStyle = (inBrowser &&\r\n    document.createElement('div').style);\r\nvar vendor = (function () {\r\n    /* istanbul ignore if  */\r\n    if (!inBrowser) {\r\n        return false;\r\n    }\r\n    var transformNames = [\r\n        {\r\n            key: 'standard',\r\n            value: 'transform',\r\n        },\r\n        {\r\n            key: 'webkit',\r\n            value: 'webkitTransform',\r\n        },\r\n        {\r\n            key: 'Moz',\r\n            value: 'MozTransform',\r\n        },\r\n        {\r\n            key: 'O',\r\n            value: 'OTransform',\r\n        },\r\n        {\r\n            key: 'ms',\r\n            value: 'msTransform',\r\n        },\r\n    ];\r\n    for (var _i = 0, transformNames_1 = transformNames; _i < transformNames_1.length; _i++) {\r\n        var obj = transformNames_1[_i];\r\n        if (elementStyle[obj.value] !== undefined) {\r\n            return obj.key;\r\n        }\r\n    }\r\n    /* istanbul ignore next  */\r\n    return false;\r\n})();\r\n/* istanbul ignore next  */\r\nfunction prefixStyle(style) {\r\n    if (vendor === false) {\r\n        return style;\r\n    }\r\n    if (vendor === 'standard') {\r\n        if (style === 'transitionEnd') {\r\n            return 'transitionend';\r\n        }\r\n        return style;\r\n    }\r\n    return vendor + style.charAt(0).toUpperCase() + style.substr(1);\r\n}\r\nvendor && vendor !== 'standard' ? '-' + vendor.toLowerCase() + '-' : '';\r\nvar transform = prefixStyle('transform');\r\nvar transition = prefixStyle('transition');\r\ninBrowser && prefixStyle('perspective') in elementStyle;\r\n({\r\n    transform: transform,\r\n    transition: transition,\r\n    transitionTimingFunction: prefixStyle('transitionTimingFunction'),\r\n    transitionDuration: prefixStyle('transitionDuration'),\r\n    transitionDelay: prefixStyle('transitionDelay'),\r\n    transformOrigin: prefixStyle('transformOrigin'),\r\n    transitionEnd: prefixStyle('transitionEnd'),\r\n    transitionProperty: prefixStyle('transitionProperty'),\r\n});\n\nvar sourcePrefix = 'plugins.pullUpLoad';\r\nvar propertiesMap = [\r\n    {\r\n        key: 'finishPullUp',\r\n        name: 'finishPullUp'\r\n    },\r\n    {\r\n        key: 'openPullUp',\r\n        name: 'openPullUp'\r\n    },\r\n    {\r\n        key: 'closePullUp',\r\n        name: 'closePullUp'\r\n    },\r\n    {\r\n        key: 'autoPullUpLoad',\r\n        name: 'autoPullUpLoad'\r\n    }\r\n];\r\nvar propertiesConfig = propertiesMap.map(function (item) {\r\n    return {\r\n        key: item.key,\r\n        sourceKey: sourcePrefix + \".\" + item.name\r\n    };\r\n});\n\nvar PULL_UP_HOOKS_NAME = 'pullingUp';\r\nvar PullUp = /** @class */ (function () {\r\n    function PullUp(scroll) {\r\n        this.scroll = scroll;\r\n        this.pulling = false;\r\n        this.watching = false;\r\n        this.init();\r\n    }\r\n    PullUp.prototype.init = function () {\r\n        this.handleBScroll();\r\n        this.handleOptions(this.scroll.options.pullUpLoad);\r\n        this.handleHooks();\r\n        this.watch();\r\n    };\r\n    PullUp.prototype.handleBScroll = function () {\r\n        this.scroll.registerType([PULL_UP_HOOKS_NAME]);\r\n        this.scroll.proxy(propertiesConfig);\r\n    };\r\n    PullUp.prototype.handleOptions = function (userOptions) {\r\n        if (userOptions === void 0) { userOptions = {}; }\r\n        userOptions = (userOptions === true ? {} : userOptions);\r\n        var defaultOptions = {\r\n            threshold: 0,\r\n        };\r\n        this.options = extend(defaultOptions, userOptions);\r\n        this.scroll.options.probeType = 3 /* Realtime */;\r\n    };\r\n    PullUp.prototype.handleHooks = function () {\r\n        var _this = this;\r\n        this.hooksFn = [];\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        this.registerHooks(this.scroll.hooks, this.scroll.hooks.eventTypes.contentChanged, function () {\r\n            _this.finishPullUp();\r\n        });\r\n        this.registerHooks(scrollBehaviorY.hooks, scrollBehaviorY.hooks.eventTypes.computeBoundary, function (boundary) {\r\n            // content is smaller than wrapper\r\n            if (boundary.maxScrollPos > 0) {\r\n                // allow scrolling when content is not full of wrapper\r\n                boundary.maxScrollPos = -1;\r\n            }\r\n        });\r\n    };\r\n    PullUp.prototype.registerHooks = function (hooks, name, handler) {\r\n        hooks.on(name, handler, this);\r\n        this.hooksFn.push([hooks, name, handler]);\r\n    };\r\n    PullUp.prototype.watch = function () {\r\n        if (this.watching) {\r\n            return;\r\n        }\r\n        this.watching = true;\r\n        this.registerHooks(this.scroll, this.scroll.eventTypes.scroll, this.checkPullUp);\r\n    };\r\n    PullUp.prototype.unwatch = function () {\r\n        this.watching = false;\r\n        this.scroll.off(this.scroll.eventTypes.scroll, this.checkPullUp);\r\n    };\r\n    PullUp.prototype.checkPullUp = function (pos) {\r\n        var _this = this;\r\n        var threshold = this.options.threshold;\r\n        if (this.scroll.movingDirectionY === 1 /* Positive */ &&\r\n            pos.y <= this.scroll.maxScrollY + threshold) {\r\n            this.pulling = true;\r\n            // must reset pulling after scrollEnd\r\n            this.scroll.once(this.scroll.eventTypes.scrollEnd, function () {\r\n                _this.pulling = false;\r\n            });\r\n            this.unwatch();\r\n            this.scroll.trigger(PULL_UP_HOOKS_NAME);\r\n        }\r\n    };\r\n    PullUp.prototype.finishPullUp = function () {\r\n        var _this = this;\r\n        // reset Direction, fix #936\r\n        this.scroll.scroller.scrollBehaviorY.setMovingDirection(0 /* Default */);\r\n        if (this.pulling) {\r\n            this.scroll.once(this.scroll.eventTypes.scrollEnd, function () {\r\n                _this.watch();\r\n            });\r\n        }\r\n        else {\r\n            this.watch();\r\n        }\r\n    };\r\n    // allow 'true' type is compat for beta version implements\r\n    PullUp.prototype.openPullUp = function (config) {\r\n        if (config === void 0) { config = {}; }\r\n        this.handleOptions(config);\r\n        this.watch();\r\n    };\r\n    PullUp.prototype.closePullUp = function () {\r\n        this.unwatch();\r\n    };\r\n    PullUp.prototype.autoPullUpLoad = function () {\r\n        var threshold = this.options.threshold;\r\n        var scrollBehaviorY = this.scroll.scroller.scrollBehaviorY;\r\n        if (this.pulling || !this.watching) {\r\n            return;\r\n        }\r\n        // simulate a pullUp action\r\n        var NEGATIVE_VALUE = -1;\r\n        var outOfBoundaryPos = scrollBehaviorY.maxScrollPos + threshold + NEGATIVE_VALUE;\r\n        this.scroll.scroller.scrollBehaviorY.setMovingDirection(NEGATIVE_VALUE);\r\n        this.scroll.scrollTo(this.scroll.x, outOfBoundaryPos, this.scroll.options.bounceTime);\r\n    };\r\n    PullUp.pluginName = 'pullUpLoad';\r\n    return PullUp;\r\n}());\n\nexport { PullUp as default };\n"],"names":["extendStatics","d","b","p","__extends","__","__assign","s","i","n","__spreadArrays","il","r","k","a","j","jl","propertiesConfig","warn","msg","inBrowser","ua","isWeChatDevTools","isAndroid","isIOSBadVersion","regex","matches","parts","item","supportsPassive","EventName","opts","getNow","extend","target","source","key","isUndef","v","between","x","min","max","elementStyle","vendor","transformNames","_i","transformNames_1","obj","prefixStyle","style","getElement","el","addEvent","type","fn","capture","useCapture","removeEvent","maybePrevent","e","offset","left","top","transform","transition","hasPerspective","hasTouch","hasTransition","eventTypeMap","getRect","rect","preventDefaultExceptionFn","exceptions","tagExceptionFn","tap","eventName","ev","click","event","eventSource","posSrc","bubbles","cancelable","ctrlKey","shiftKey","altKey","metaKey","pressedKeysMap","createEvent","dblclick","ease","t","DEFAULT_INTERVAL","windowCompat","noop$1","requestAnimationFrame","callback","cancelAnimationFrame","id","noop","val","sharedPropertyDefinition","getProperty","keys","lastKey","setProperty","value","temp","propertiesProxy","sourceKey","EventEmitter","names","context","_this","magic","args","ret","events","count","len","eventsCopy","event_1","types","isType","_","EventRegister","wrapper","eventOperation","eventType","CustomOptions","OptionsConstructor","_super","options","bounceOptions","DEFAULT_BOUNCE","NEGATED_BOUNCE","ActionsHandler","_a","bindToWrapper","disableMouse","disableTouch","wrapperEvents","targetEvents","shouldRegisterTouch","shouldRegisterMouse","preventDefault","stopPropagation","preventDefaultException","preventDefaultConditions","_eventType","point","deltaX","deltaY","scrollLeft","scrollTop","pX","pY","autoEndDistance","content","translaterMetaData","Translater","cssStyle","matrix","y","transformStyle","transformFnName","transformFnArgUnit","transformFnArg","Base","translater","endPoint","pending","forceStopped","called","isValidPostion","startPoint","currentPos","prePos","computeDirection","endValue","startValue","delta","direction","directionX","directionY","Transition","probe","pos","time","easing","easingFn","isRealtimeProbeType","stopFromTransition","Animation","duration","startTime","destTime","step","now","newPoint","stopFromAnimation","createAnimater","element","useTransition","animaterOptions","Behavior","dampingFactor","newPos","momentumInfo","absDist","wrapperSize","current","start","lowerMargin","upperMargin","distance","speed","deceleration","swipeBounceTime","swipeTime","momentumData","size","position","isWrapperStatic","wrapperRect","contentRect","boundary","inBoundary","_b","_c","_d","PassthroughHandlers","DirectionMap","DirectionLockAction","directionLockThreshold","freeScroll","eventPassthrough","absDistX","absDistY","handleMap","applyQuadrantTransformation","quadrant","ScrollerActions","scrollBehaviorX","scrollBehaviorY","actionsHandler","animater","transformateDeltaX","transformateDeltaY","transformateDeltaData","timestamp","prevX","newX","prevY","newY","positionChanged","minScrollPosX","maxScrollPosX","minScrollPosY","maxScrollPosY","createActionsHandlerOptions","bsOptions","prev","cur","createBehaviorOptions","extraProp","bounces","bubbling","sourceEvent","targetEvent","isSamePoint","keys_1","MIN_SCROLL_DISTANCE","Scroller","right","bottom","resizeHandler","hooks","prevPos","actions","flickMinMovingDistance","meta","momentumX","momentumY","_dblclick","dblclickTrigged","delay","enabled","pointerEvents","node","contentChanged","extraTransform","offsetX","offsetY","targetEle","getOffset","getPos","wrapperPos","scrollBehavior","xInBoundary","yInBoundary","BScrollConstructor","ctor","name","installed","plugin","valid","startX","startY","applyOrderMap","aOrder","bOrder","activeElement","createBScroll","bs","BScroll","EventHandler","indicator","startEvents","moveEvents","endEvents","pointPos","Indicator","scroll","fade","interactive","scrollbarTrackClickable","scrollHooks","translaterHooks","animaterHooks","hasScrollKey","eventHandlerHooks","handler","poinKey","domRectKey","scrollbarTrackOffsetType","clickPointOffset","scrollToWhere","visible","fadeInTime","fadeOutTime","wrapperSizeKey","scrollerSizeKey","maxScrollPosKey","hasScroll","scrollerSize","maxScrollPos","indicatorElSize","baseSize","maxIndicatorScrollPos","sizeRatio","scrollInfo","posKey","minScrollPos","minSize","translatePropertyKey","sizeKey","translateZ","notMoved","scroller","maxScrollY","minScrollY","maxScrollX","minScrollX","probeType","momentumLimitTime","isCustom","hooksName","handlerFn","ScrollBar","userOptions","defaultOptions","indicatorOptions","indicators","scrollDirectionConfigKeys","indicatorDirections","customScrollbarEls","customElement","scrollbarWrapper","scrollbarWrapperEl","scrollbarIndicatorEl","MouseWheel","throttleTime","cachedDelta","easeTime","invert","wheelDeltaX","wheelDeltaY","SAFE_EASETIME","sourcePrefix","propertiesMap","PULL_UP_HOOKS_NAME","PullUp","threshold","config","NEGATIVE_VALUE","outOfBoundaryPos"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}