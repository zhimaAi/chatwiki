import{e as E,a as N}from"./index-D_HTFkeU.js";import{$ as Q,r as d,A as m,L as B,M as H,j as a,Q as r,U as u,u as w,a3 as R,a4 as V,V as _}from"./vue-chunks-BakLQ6XW.js";import{_ as q,e as G,M as j}from"../../index-CKV2YGM_.js";import{F as g,_ as x}from"./index-DyndV1dy.js";import"./index-4xT1NJxe.js";import{I as M}from"./Input-BvBM5brR.js";import{_ as X}from"./TextArea-BsOCOTVd.js";const te="data:image/png;base64,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",Z=n=>(R("data-v-01d3ec5e"),n=n(),V(),n),b={class:"add-data-sheet"},z=Z(()=>_("div",{class:"form-tip"},"必须以英文字母开头，只能包含小写字母、数字、下划线",-1)),K={__name:"add-data-sheet",emits:["ok"],setup(n,{expose:h,emit:v}){const k=Q(),F=v,p=d(!1),A=d("新建数据表"),e=m({name:"",description:"",id:""}),C=(t={})=>{p.value=!0,L(),e.name=t.name||"",e.description=t.description||"",e.id=t.id||"",A.value=t.id?"编辑数据表":"新建数据表"},f=m({name:[{required:!0,validator:async(t,o)=>/^[a-z][a-z0-9_]*$/.test(o)?Promise.resolve():Promise.reject("必须以英文字母开头，只能包含小写字母、数字、下划线")}],description:[{required:!0,message:"请输入数据表描述"}]}),I=g.useForm,{resetFields:L,validate:U,validateInfos:i}=I(e,f),W=()=>{U().then(t=>{e.id?E(e).then(()=>{l("编辑成功")}):N(e).then(o=>{l("创建成功"),k.push({path:"/database/details/field-manage",query:{form_id:o.data.id}})})})};function l(t){G.success(t),p.value=!1,F("ok")}return h({show:C}),(t,o)=>{const Y=M,c=x,O=X,S=g,D=j;return B(),H("div",b,[a(D,{open:p.value,"onUpdate:open":o[2]||(o[2]=s=>p.value=s),title:A.value,onOk:W,width:540},{default:r(()=>[a(S,{layout:"vertical"},{default:r(()=>[a(c,u({label:"数据表名称"},w(i).name),{default:r(()=>[a(Y,{maxLength:64,value:e.name,"onUpdate:value":o[0]||(o[0]=s=>e.name=s),placeholder:"请输入数据表名称"},null,8,["value"]),z]),_:1},16),a(c,u({label:"数据表描述"},w(i).description),{default:r(()=>[a(O,{maxLength:500,style:{height:"80px"},value:e.description,"onUpdate:value":o[1]||(o[1]=s=>e.description=s),placeholder:"请输入数据表主要用途，让大模型更加深入理解此表功能"},null,8,["value"])]),_:1},16)]),_:1})]),_:1},8,["open","title"])])}}},ae=q(K,[["__scopeId","data-v-01d3ec5e"]]);export{ae as A,te as _};
