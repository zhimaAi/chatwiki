var ro=Object.defineProperty;var lo=(c,l,i)=>l in c?ro(c,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[l]=i;var le=(c,l,i)=>lo(c,typeof l!="symbol"?l+"":l,i);import{f as W,l as He,Y as G,_ as q,k as u,a2 as g,G as j,K as Rn,a5 as r,ae as ee,a3 as Ve,a7 as ae,o as Re,ab as co,ag as ze,w as Ie,r as ce,u as ne,a4 as Qt,a1 as X,J as he,e as ve,aa as Pn,F as pe,a9 as Ce,ad as at,af as Pt,c as ge,p as uo,ah as po}from"./vue-chunks-CXJTX1FC.js";import{u as Ke}from"./robot-L7DXN4U8.js";import{b as se,a8 as _o,d as Mt,a9 as Pe,j as fo}from"../../index-0TFHdij1.js";import{b as Tn,I as ye,F as me,aa as ho,ap as mo,Y as Mn,B as _e,a9 as go,ac as Nn,e as ke,q as Nt,R as Ut,T as Lt,M as ue,a as oe,H as Te,p as Un,u as Dt,v as qt,E as Ft,Q as Ot,aE as Ln,ay as vo,a1 as Vt,bi as yo,ad as wo,a4 as bo,an as ko,c as Co,D as $o,k as we,G as Ao,ai as So,bj as xo}from"./ui-antd-D3ZAJ1Vq.js";import{K as Eo,L as Io,M as Bo,N as Ro,O as Po,P as Dn,Q as To,e as Me,R as qn,r as jt,c as We,f as Je}from"./index-DvPlhmYy.js";import{u as Fn}from"./index-BAHM4xhG.js";import{C as On}from"./cu-upload-0KpYYFPb.js";import{i as Mo}from"./validate-8MtiUsxW.js";import{d as No}from"./vuedraggable.umd-BsLO8JSn.js";import{L as Vn}from"./loading-box-Byi3P3v0.js";import{E as jn}from"./empty-box-AEAhR8OF.js";import"./utils-yZpnICoG.js";import"./empty-BFmzY9bl.js";const Uo={class:"top-menu-box"},Lo={__name:"top-meun",props:{value:{type:String,default:""}},emits:["change","update:value"],setup(c,{emit:l}){const i=l,e=W([c.value]),t=W([{key:"WebAPP",id:"WebAPP",label:"WebAPP",title:"WebAPP"},{key:"EmbedWebsite",id:"EmbedWebsite",label:"嵌入网站",title:"嵌入网站"},{key:"WeChatOfficialAccount",id:"WeChatOfficialAccount",label:He("div",{class:"tag-text-box"},[He("span",{},"微信公众号"),He("span",{class:"text-xs"},"支持未认证")])},{key:"WeChatMiniProgram",id:"WeChatMiniProgram",label:"微信小程序",title:"微信小程序"},{key:"WeChatCustomerService",id:"WeChatCustomerService",label:"微信客服",title:"微信客服"},{key:"FeishuRobot",id:"FeishuRobot",label:"飞书机器人",title:"飞书机器人"},{key:"DingDingRobot",id:"DingDingRobot",label:"钉钉机器人",title:"钉钉机器人"}]),o=({item:d})=>{e.value.includes(d.id)||(i("update:value",d.id),i("change",d))};return(d,a)=>{const _=Tn;return q(),G("div",Uo,[u(_,{class:"top-menu",items:t.value,selectedKeys:e.value,"onUpdate:selectedKeys":a[0]||(a[0]=f=>e.value=f),mode:"horizontal",onClick:o},{title:g(()=>a[1]||(a[1]=[j(" 11 ")])),_:1},8,["items","selectedKeys"])])}}},Do=se(Lo,[["__scopeId","data-v-774edbe3"]]);var Ee={},st,Yt;function qo(){return Yt||(Yt=1,st=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),st}var it={},be={},Xt;function $e(){if(Xt)return be;Xt=1;let c;const l=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return be.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},be.getSymbolTotalCodewords=function(n){return l[n]},be.getBCHDigit=function(i){let n=0;for(;i!==0;)n++,i>>>=1;return n},be.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');c=n},be.isKanjiModeEnabled=function(){return typeof c<"u"},be.toSJIS=function(n){return c(n)},be}var rt={},Zt;function Ht(){return Zt||(Zt=1,function(c){c.L={bit:1},c.M={bit:0},c.Q={bit:3},c.H={bit:2};function l(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return c.L;case"m":case"medium":return c.M;case"q":case"quartile":return c.Q;case"h":case"high":return c.H;default:throw new Error("Unknown EC Level: "+i)}}c.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},c.from=function(n,e){if(c.isValid(n))return n;try{return l(n)}catch{return e}}}(rt)),rt}var lt,en;function Fo(){if(en)return lt;en=1;function c(){this.buffer=[],this.length=0}return c.prototype={get:function(l){const i=Math.floor(l/8);return(this.buffer[i]>>>7-l%8&1)===1},put:function(l,i){for(let n=0;n<i;n++)this.putBit((l>>>i-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(l){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),l&&(this.buffer[i]|=128>>>this.length%8),this.length++}},lt=c,lt}var ct,tn;function Oo(){if(tn)return ct;tn=1;function c(l){if(!l||l<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=l,this.data=new Uint8Array(l*l),this.reservedBit=new Uint8Array(l*l)}return c.prototype.set=function(l,i,n,e){const t=l*this.size+i;this.data[t]=n,e&&(this.reservedBit[t]=!0)},c.prototype.get=function(l,i){return this.data[l*this.size+i]},c.prototype.xor=function(l,i,n){this.data[l*this.size+i]^=n},c.prototype.isReserved=function(l,i){return this.reservedBit[l*this.size+i]},ct=c,ct}var ut={},nn;function Vo(){return nn||(nn=1,function(c){const l=$e().getSymbolSize;c.getRowColCoords=function(n){if(n===1)return[];const e=Math.floor(n/7)+2,t=l(n),o=t===145?26:Math.ceil((t-13)/(2*e-2))*2,d=[t-7];for(let a=1;a<e-1;a++)d[a]=d[a-1]-o;return d.push(6),d.reverse()},c.getPositions=function(n){const e=[],t=c.getRowColCoords(n),o=t.length;for(let d=0;d<o;d++)for(let a=0;a<o;a++)d===0&&a===0||d===0&&a===o-1||d===o-1&&a===0||e.push([t[d],t[a]]);return e}}(ut)),ut}var dt={},on;function jo(){if(on)return dt;on=1;const c=$e().getSymbolSize,l=7;return dt.getPositions=function(n){const e=c(n);return[[0,0],[e-l,0],[0,e-l]]},dt}var pt={},an;function Ho(){return an||(an=1,function(c){c.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const l={N1:3,N2:3,N3:40,N4:10};c.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},c.from=function(e){return c.isValid(e)?parseInt(e,10):void 0},c.getPenaltyN1=function(e){const t=e.size;let o=0,d=0,a=0,_=null,f=null;for(let v=0;v<t;v++){d=a=0,_=f=null;for(let w=0;w<t;w++){let k=e.get(v,w);k===_?d++:(d>=5&&(o+=l.N1+(d-5)),_=k,d=1),k=e.get(w,v),k===f?a++:(a>=5&&(o+=l.N1+(a-5)),f=k,a=1)}d>=5&&(o+=l.N1+(d-5)),a>=5&&(o+=l.N1+(a-5))}return o},c.getPenaltyN2=function(e){const t=e.size;let o=0;for(let d=0;d<t-1;d++)for(let a=0;a<t-1;a++){const _=e.get(d,a)+e.get(d,a+1)+e.get(d+1,a)+e.get(d+1,a+1);(_===4||_===0)&&o++}return o*l.N2},c.getPenaltyN3=function(e){const t=e.size;let o=0,d=0,a=0;for(let _=0;_<t;_++){d=a=0;for(let f=0;f<t;f++)d=d<<1&2047|e.get(_,f),f>=10&&(d===1488||d===93)&&o++,a=a<<1&2047|e.get(f,_),f>=10&&(a===1488||a===93)&&o++}return o*l.N3},c.getPenaltyN4=function(e){let t=0;const o=e.data.length;for(let a=0;a<o;a++)t+=e.data[a];return Math.abs(Math.ceil(t*100/o/5)-10)*l.N4};function i(n,e,t){switch(n){case c.Patterns.PATTERN000:return(e+t)%2===0;case c.Patterns.PATTERN001:return e%2===0;case c.Patterns.PATTERN010:return t%3===0;case c.Patterns.PATTERN011:return(e+t)%3===0;case c.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case c.Patterns.PATTERN101:return e*t%2+e*t%3===0;case c.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case c.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}c.applyMask=function(e,t){const o=t.size;for(let d=0;d<o;d++)for(let a=0;a<o;a++)t.isReserved(a,d)||t.xor(a,d,i(e,a,d))},c.getBestMask=function(e,t){const o=Object.keys(c.Patterns).length;let d=0,a=1/0;for(let _=0;_<o;_++){t(_),c.applyMask(_,e);const f=c.getPenaltyN1(e)+c.getPenaltyN2(e)+c.getPenaltyN3(e)+c.getPenaltyN4(e);c.applyMask(_,e),f<a&&(a=f,d=_)}return d}}(pt)),pt}var je={},sn;function Hn(){if(sn)return je;sn=1;const c=Ht(),l=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return je.getBlocksCount=function(e,t){switch(t){case c.L:return l[(e-1)*4+0];case c.M:return l[(e-1)*4+1];case c.Q:return l[(e-1)*4+2];case c.H:return l[(e-1)*4+3];default:return}},je.getTotalCodewordsCount=function(e,t){switch(t){case c.L:return i[(e-1)*4+0];case c.M:return i[(e-1)*4+1];case c.Q:return i[(e-1)*4+2];case c.H:return i[(e-1)*4+3];default:return}},je}var _t={},qe={},rn;function zo(){if(rn)return qe;rn=1;const c=new Uint8Array(512),l=new Uint8Array(256);return function(){let n=1;for(let e=0;e<255;e++)c[e]=n,l[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)c[e]=c[e-255]}(),qe.log=function(n){if(n<1)throw new Error("log("+n+")");return l[n]},qe.exp=function(n){return c[n]},qe.mul=function(n,e){return n===0||e===0?0:c[l[n]+l[e]]},qe}var ln;function Ko(){return ln||(ln=1,function(c){const l=zo();c.mul=function(n,e){const t=new Uint8Array(n.length+e.length-1);for(let o=0;o<n.length;o++)for(let d=0;d<e.length;d++)t[o+d]^=l.mul(n[o],e[d]);return t},c.mod=function(n,e){let t=new Uint8Array(n);for(;t.length-e.length>=0;){const o=t[0];for(let a=0;a<e.length;a++)t[a]^=l.mul(e[a],o);let d=0;for(;d<t.length&&t[d]===0;)d++;t=t.slice(d)}return t},c.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let t=0;t<n;t++)e=c.mul(e,new Uint8Array([1,l.exp(t)]));return e}}(_t)),_t}var ft,cn;function Wo(){if(cn)return ft;cn=1;const c=Ko();function l(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return l.prototype.initialize=function(n){this.degree=n,this.genPoly=c.generateECPolynomial(this.degree)},l.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(n.length+this.degree);e.set(n);const t=c.mod(e,this.genPoly),o=this.degree-t.length;if(o>0){const d=new Uint8Array(this.degree);return d.set(t,o),d}return t},ft=l,ft}var ht={},mt={},gt={},un;function zn(){return un||(un=1,gt.isValid=function(l){return!isNaN(l)&&l>=1&&l<=40}),gt}var fe={},dn;function Kn(){if(dn)return fe;dn=1;const c="[0-9]+",l="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;fe.KANJI=new RegExp(i,"g"),fe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),fe.BYTE=new RegExp(n,"g"),fe.NUMERIC=new RegExp(c,"g"),fe.ALPHANUMERIC=new RegExp(l,"g");const e=new RegExp("^"+i+"$"),t=new RegExp("^"+c+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return fe.testKanji=function(a){return e.test(a)},fe.testNumeric=function(a){return t.test(a)},fe.testAlphanumeric=function(a){return o.test(a)},fe}var pn;function Ae(){return pn||(pn=1,function(c){const l=zn(),i=Kn();c.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},c.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},c.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},c.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},c.MIXED={bit:-1},c.getCharCountIndicator=function(t,o){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!l.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?t.ccBits[0]:o<27?t.ccBits[1]:t.ccBits[2]},c.getBestModeForData=function(t){return i.testNumeric(t)?c.NUMERIC:i.testAlphanumeric(t)?c.ALPHANUMERIC:i.testKanji(t)?c.KANJI:c.BYTE},c.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},c.isValid=function(t){return t&&t.bit&&t.ccBits};function n(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return c.NUMERIC;case"alphanumeric":return c.ALPHANUMERIC;case"kanji":return c.KANJI;case"byte":return c.BYTE;default:throw new Error("Unknown mode: "+e)}}c.from=function(t,o){if(c.isValid(t))return t;try{return n(t)}catch{return o}}}(mt)),mt}var _n;function Jo(){return _n||(_n=1,function(c){const l=$e(),i=Hn(),n=Ht(),e=Ae(),t=zn(),o=7973,d=l.getBCHDigit(o);function a(w,k,T){for(let L=1;L<=40;L++)if(k<=c.getCapacity(L,T,w))return L}function _(w,k){return e.getCharCountIndicator(w,k)+4}function f(w,k){let T=0;return w.forEach(function(L){const A=_(L.mode,k);T+=A+L.getBitsLength()}),T}function v(w,k){for(let T=1;T<=40;T++)if(f(w,T)<=c.getCapacity(T,k,e.MIXED))return T}c.from=function(k,T){return t.isValid(k)?parseInt(k,10):T},c.getCapacity=function(k,T,L){if(!t.isValid(k))throw new Error("Invalid QR Code version");typeof L>"u"&&(L=e.BYTE);const A=l.getSymbolTotalCodewords(k),C=i.getTotalCodewordsCount(k,T),H=(A-C)*8;if(L===e.MIXED)return H;const U=H-_(L,k);switch(L){case e.NUMERIC:return Math.floor(U/10*3);case e.ALPHANUMERIC:return Math.floor(U/11*2);case e.KANJI:return Math.floor(U/13);case e.BYTE:default:return Math.floor(U/8)}},c.getBestVersionForData=function(k,T){let L;const A=n.from(T,n.M);if(Array.isArray(k)){if(k.length>1)return v(k,A);if(k.length===0)return 1;L=k[0]}else L=k;return a(L.mode,L.getLength(),A)},c.getEncodedBits=function(k){if(!t.isValid(k)||k<7)throw new Error("Invalid QR Code version");let T=k<<12;for(;l.getBCHDigit(T)-d>=0;)T^=o<<l.getBCHDigit(T)-d;return k<<12|T}}(ht)),ht}var vt={},fn;function Go(){if(fn)return vt;fn=1;const c=$e(),l=1335,i=21522,n=c.getBCHDigit(l);return vt.getEncodedBits=function(t,o){const d=t.bit<<3|o;let a=d<<10;for(;c.getBCHDigit(a)-n>=0;)a^=l<<c.getBCHDigit(a)-n;return(d<<10|a)^i},vt}var yt={},wt,hn;function Qo(){if(hn)return wt;hn=1;const c=Ae();function l(i){this.mode=c.NUMERIC,this.data=i.toString()}return l.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(n){let e,t,o;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),o=parseInt(t,10),n.put(o,10);const d=this.data.length-e;d>0&&(t=this.data.substr(e),o=parseInt(t,10),n.put(o,d*3+1))},wt=l,wt}var bt,mn;function Yo(){if(mn)return bt;mn=1;const c=Ae(),l=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(n){this.mode=c.ALPHANUMERIC,this.data=n}return i.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let o=l.indexOf(this.data[t])*45;o+=l.indexOf(this.data[t+1]),e.put(o,11)}this.data.length%2&&e.put(l.indexOf(this.data[t]),6)},bt=i,bt}var kt,gn;function Xo(){if(gn)return kt;gn=1;const c=Ae();function l(i){this.mode=c.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return l.getBitsLength=function(n){return n*8},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(i){for(let n=0,e=this.data.length;n<e;n++)i.put(this.data[n],8)},kt=l,kt}var Ct,vn;function Zo(){if(vn)return Ct;vn=1;const c=Ae(),l=$e();function i(n){this.mode=c.KANJI,this.data=n}return i.getBitsLength=function(e){return e*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=l.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}},Ct=i,Ct}var $t={exports:{}},yn;function ea(){return yn||(yn=1,function(c){var l={single_source_shortest_paths:function(i,n,e){var t={},o={};o[n]=0;var d=l.PriorityQueue.make();d.push(n,0);for(var a,_,f,v,w,k,T,L,A;!d.empty();){a=d.pop(),_=a.value,v=a.cost,w=i[_]||{};for(f in w)w.hasOwnProperty(f)&&(k=w[f],T=v+k,L=o[f],A=typeof o[f]>"u",(A||L>T)&&(o[f]=T,d.push(f,T),t[f]=_))}if(typeof e<"u"&&typeof o[e]>"u"){var C=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(C)}return t},extract_shortest_path_from_predecessor_list:function(i,n){for(var e=[],t=n;t;)e.push(t),i[t],t=i[t];return e.reverse(),e},find_path:function(i,n,e){var t=l.single_source_shortest_paths(i,n,e);return l.extract_shortest_path_from_predecessor_list(t,e)},PriorityQueue:{make:function(i){var n=l.PriorityQueue,e={},t;i=i||{};for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e.queue=[],e.sorter=i.sorter||n.default_sorter,e},default_sorter:function(i,n){return i.cost-n.cost},push:function(i,n){var e={value:i,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};c.exports=l}($t)),$t.exports}var wn;function ta(){return wn||(wn=1,function(c){const l=Ae(),i=Qo(),n=Yo(),e=Xo(),t=Zo(),o=Kn(),d=$e(),a=ea();function _(C){return unescape(encodeURIComponent(C)).length}function f(C,H,U){const b=[];let x;for(;(x=C.exec(U))!==null;)b.push({data:x[0],index:x.index,mode:H,length:x[0].length});return b}function v(C){const H=f(o.NUMERIC,l.NUMERIC,C),U=f(o.ALPHANUMERIC,l.ALPHANUMERIC,C);let b,x;return d.isKanjiModeEnabled()?(b=f(o.BYTE,l.BYTE,C),x=f(o.KANJI,l.KANJI,C)):(b=f(o.BYTE_KANJI,l.BYTE,C),x=[]),H.concat(U,b,x).sort(function(O,N){return O.index-N.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function w(C,H){switch(H){case l.NUMERIC:return i.getBitsLength(C);case l.ALPHANUMERIC:return n.getBitsLength(C);case l.KANJI:return t.getBitsLength(C);case l.BYTE:return e.getBitsLength(C)}}function k(C){return C.reduce(function(H,U){const b=H.length-1>=0?H[H.length-1]:null;return b&&b.mode===U.mode?(H[H.length-1].data+=U.data,H):(H.push(U),H)},[])}function T(C){const H=[];for(let U=0;U<C.length;U++){const b=C[U];switch(b.mode){case l.NUMERIC:H.push([b,{data:b.data,mode:l.ALPHANUMERIC,length:b.length},{data:b.data,mode:l.BYTE,length:b.length}]);break;case l.ALPHANUMERIC:H.push([b,{data:b.data,mode:l.BYTE,length:b.length}]);break;case l.KANJI:H.push([b,{data:b.data,mode:l.BYTE,length:_(b.data)}]);break;case l.BYTE:H.push([{data:b.data,mode:l.BYTE,length:_(b.data)}])}}return H}function L(C,H){const U={},b={start:{}};let x=["start"];for(let S=0;S<C.length;S++){const O=C[S],N=[];for(let D=0;D<O.length;D++){const B=O[D],p=""+S+D;N.push(p),U[p]={node:B,lastCount:0},b[p]={};for(let F=0;F<x.length;F++){const M=x[F];U[M]&&U[M].node.mode===B.mode?(b[M][p]=w(U[M].lastCount+B.length,B.mode)-w(U[M].lastCount,B.mode),U[M].lastCount+=B.length):(U[M]&&(U[M].lastCount=B.length),b[M][p]=w(B.length,B.mode)+4+l.getCharCountIndicator(B.mode,H))}}x=N}for(let S=0;S<x.length;S++)b[x[S]].end=0;return{map:b,table:U}}function A(C,H){let U;const b=l.getBestModeForData(C);if(U=l.from(H,b),U!==l.BYTE&&U.bit<b.bit)throw new Error('"'+C+'" cannot be encoded with mode '+l.toString(U)+`.
 Suggested mode is: `+l.toString(b));switch(U===l.KANJI&&!d.isKanjiModeEnabled()&&(U=l.BYTE),U){case l.NUMERIC:return new i(C);case l.ALPHANUMERIC:return new n(C);case l.KANJI:return new t(C);case l.BYTE:return new e(C)}}c.fromArray=function(H){return H.reduce(function(U,b){return typeof b=="string"?U.push(A(b,null)):b.data&&U.push(A(b.data,b.mode)),U},[])},c.fromString=function(H,U){const b=v(H,d.isKanjiModeEnabled()),x=T(b),S=L(x,U),O=a.find_path(S.map,"start","end"),N=[];for(let D=1;D<O.length-1;D++)N.push(S.table[O[D]].node);return c.fromArray(k(N))},c.rawSplit=function(H){return c.fromArray(v(H,d.isKanjiModeEnabled()))}}(yt)),yt}var bn;function na(){if(bn)return it;bn=1;const c=$e(),l=Ht(),i=Fo(),n=Oo(),e=Vo(),t=jo(),o=Ho(),d=Hn(),a=Wo(),_=Jo(),f=Go(),v=Ae(),w=ta();function k(S,O){const N=S.size,D=t.getPositions(O);for(let B=0;B<D.length;B++){const p=D[B][0],F=D[B][1];for(let M=-1;M<=7;M++)if(!(p+M<=-1||N<=p+M))for(let J=-1;J<=7;J++)F+J<=-1||N<=F+J||(M>=0&&M<=6&&(J===0||J===6)||J>=0&&J<=6&&(M===0||M===6)||M>=2&&M<=4&&J>=2&&J<=4?S.set(p+M,F+J,!0,!0):S.set(p+M,F+J,!1,!0))}}function T(S){const O=S.size;for(let N=8;N<O-8;N++){const D=N%2===0;S.set(N,6,D,!0),S.set(6,N,D,!0)}}function L(S,O){const N=e.getPositions(O);for(let D=0;D<N.length;D++){const B=N[D][0],p=N[D][1];for(let F=-2;F<=2;F++)for(let M=-2;M<=2;M++)F===-2||F===2||M===-2||M===2||F===0&&M===0?S.set(B+F,p+M,!0,!0):S.set(B+F,p+M,!1,!0)}}function A(S,O){const N=S.size,D=_.getEncodedBits(O);let B,p,F;for(let M=0;M<18;M++)B=Math.floor(M/3),p=M%3+N-8-3,F=(D>>M&1)===1,S.set(B,p,F,!0),S.set(p,B,F,!0)}function C(S,O,N){const D=S.size,B=f.getEncodedBits(O,N);let p,F;for(p=0;p<15;p++)F=(B>>p&1)===1,p<6?S.set(p,8,F,!0):p<8?S.set(p+1,8,F,!0):S.set(D-15+p,8,F,!0),p<8?S.set(8,D-p-1,F,!0):p<9?S.set(8,15-p-1+1,F,!0):S.set(8,15-p-1,F,!0);S.set(D-8,8,1,!0)}function H(S,O){const N=S.size;let D=-1,B=N-1,p=7,F=0;for(let M=N-1;M>0;M-=2)for(M===6&&M--;;){for(let J=0;J<2;J++)if(!S.isReserved(B,M-J)){let te=!1;F<O.length&&(te=(O[F]>>>p&1)===1),S.set(B,M-J,te),p--,p===-1&&(F++,p=7)}if(B+=D,B<0||N<=B){B-=D,D=-D;break}}}function U(S,O,N){const D=new i;N.forEach(function(J){D.put(J.mode.bit,4),D.put(J.getLength(),v.getCharCountIndicator(J.mode,S)),J.write(D)});const B=c.getSymbolTotalCodewords(S),p=d.getTotalCodewordsCount(S,O),F=(B-p)*8;for(D.getLengthInBits()+4<=F&&D.put(0,4);D.getLengthInBits()%8!==0;)D.putBit(0);const M=(F-D.getLengthInBits())/8;for(let J=0;J<M;J++)D.put(J%2?17:236,8);return b(D,S,O)}function b(S,O,N){const D=c.getSymbolTotalCodewords(O),B=d.getTotalCodewordsCount(O,N),p=D-B,F=d.getBlocksCount(O,N),M=D%F,J=F-M,te=Math.floor(D/F),R=Math.floor(p/F),s=R+1,h=te-R,y=new a(h);let P=0;const m=new Array(F),E=new Array(F);let I=0;const $=new Uint8Array(S.buffer);for(let Y=0;Y<F;Y++){const Z=Y<J?R:s;m[Y]=$.slice(P,P+Z),E[Y]=y.encode(m[Y]),P+=Z,I=Math.max(I,Z)}const V=new Uint8Array(D);let z=0,K,Q;for(K=0;K<I;K++)for(Q=0;Q<F;Q++)K<m[Q].length&&(V[z++]=m[Q][K]);for(K=0;K<h;K++)for(Q=0;Q<F;Q++)V[z++]=E[Q][K];return V}function x(S,O,N,D){let B;if(Array.isArray(S))B=w.fromArray(S);else if(typeof S=="string"){let te=O;if(!te){const R=w.rawSplit(S);te=_.getBestVersionForData(R,N)}B=w.fromString(S,te||40)}else throw new Error("Invalid data");const p=_.getBestVersionForData(B,N);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(!O)O=p;else if(O<p)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+p+`.
`);const F=U(O,N,B),M=c.getSymbolSize(O),J=new n(M);return k(J,O),T(J),L(J,O),C(J,N,0),O>=7&&A(J,O),H(J,F),isNaN(D)&&(D=o.getBestMask(J,C.bind(null,J,N))),o.applyMask(D,J),C(J,N,D),{modules:J,version:O,errorCorrectionLevel:N,maskPattern:D,segments:B}}return it.create=function(O,N){if(typeof O>"u"||O==="")throw new Error("No input text");let D=l.M,B,p;return typeof N<"u"&&(D=l.from(N.errorCorrectionLevel,l.M),B=_.from(N.version),p=o.from(N.maskPattern),N.toSJISFunc&&c.setToSJISFunction(N.toSJISFunc)),x(O,B,D,p)},it}var At={},St={},kn;function Wn(){return kn||(kn=1,function(c){function l(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let n=i.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+i);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(t){return[t,t]}))),n.length===6&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}c.getOptions=function(n){n||(n={}),n.color||(n.color={});const e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,t=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:t,scale:t?4:o,margin:e,color:{dark:l(n.color.dark||"#000000ff"),light:l(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},c.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale},c.getImageWidth=function(n,e){const t=c.getScale(n,e);return Math.floor((n+e.margin*2)*t)},c.qrToImageData=function(n,e,t){const o=e.modules.size,d=e.modules.data,a=c.getScale(o,t),_=Math.floor((o+t.margin*2)*a),f=t.margin*a,v=[t.color.light,t.color.dark];for(let w=0;w<_;w++)for(let k=0;k<_;k++){let T=(w*_+k)*4,L=t.color.light;if(w>=f&&k>=f&&w<_-f&&k<_-f){const A=Math.floor((w-f)/a),C=Math.floor((k-f)/a);L=v[d[A*o+C]?1:0]}n[T++]=L.r,n[T++]=L.g,n[T++]=L.b,n[T]=L.a}}}(St)),St}var Cn;function oa(){return Cn||(Cn=1,function(c){const l=Wn();function i(e,t,o){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=o,t.width=o,t.style.height=o+"px",t.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}c.render=function(t,o,d){let a=d,_=o;typeof a>"u"&&(!o||!o.getContext)&&(a=o,o=void 0),o||(_=n()),a=l.getOptions(a);const f=l.getImageWidth(t.modules.size,a),v=_.getContext("2d"),w=v.createImageData(f,f);return l.qrToImageData(w.data,t,a),i(v,_,f),v.putImageData(w,0,0),_},c.renderToDataURL=function(t,o,d){let a=d;typeof a>"u"&&(!o||!o.getContext)&&(a=o,o=void 0),a||(a={});const _=c.render(t,o,a),f=a.type||"image/png",v=a.rendererOpts||{};return _.toDataURL(f,v.quality)}}(At)),At}var xt={},$n;function aa(){if($n)return xt;$n=1;const c=Wn();function l(e,t){const o=e.a/255,d=t+'="'+e.hex+'"';return o<1?d+" "+t+'-opacity="'+o.toFixed(2).slice(1)+'"':d}function i(e,t,o){let d=e+t;return typeof o<"u"&&(d+=" "+o),d}function n(e,t,o){let d="",a=0,_=!1,f=0;for(let v=0;v<e.length;v++){const w=Math.floor(v%t),k=Math.floor(v/t);!w&&!_&&(_=!0),e[v]?(f++,v>0&&w>0&&e[v-1]||(d+=_?i("M",w+o,.5+k+o):i("m",a,0),a=0,_=!1),w+1<t&&e[v+1]||(d+=i("h",f),f=0)):a++}return d}return xt.render=function(t,o,d){const a=c.getOptions(o),_=t.modules.size,f=t.modules.data,v=_+a.margin*2,w=a.color.light.a?"<path "+l(a.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",k="<path "+l(a.color.dark,"stroke")+' d="'+n(f,_,a.margin)+'"/>',T='viewBox="0 0 '+v+" "+v+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+T+' shape-rendering="crispEdges">'+w+k+`</svg>
`;return typeof d=="function"&&d(null,A),A},xt}var An;function sa(){if(An)return Ee;An=1;const c=qo(),l=na(),i=oa(),n=aa();function e(t,o,d,a,_){const f=[].slice.call(arguments,1),v=f.length,w=typeof f[v-1]=="function";if(!w&&!c())throw new Error("Callback required as last argument");if(w){if(v<2)throw new Error("Too few arguments provided");v===2?(_=d,d=o,o=a=void 0):v===3&&(o.getContext&&typeof _>"u"?(_=a,a=void 0):(_=a,a=d,d=o,o=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(d=o,o=a=void 0):v===2&&!o.getContext&&(a=d,d=o,o=void 0),new Promise(function(k,T){try{const L=l.create(d,a);k(t(L,o,a))}catch(L){T(L)}})}try{const k=l.create(d,a);_(null,t(k,o,a))}catch(k){_(k)}}return Ee.create=l.create,Ee.toCanvas=e.bind(null,i.render),Ee.toDataURL=e.bind(null,i.renderToDataURL),Ee.toString=e.bind(null,function(t,o,d){return n.render(t,d)}),Ee}var ia=sa();const Sn=Rn(ia),ra={class:"card-box"},la={class:"card-box-header"},ca={class:"card-title"},ua={key:0,class:"card-icon"},da={class:"title-text"},pa={class:"title-text"},_a={class:"action"},fa={class:"card-box-body"},ha={__name:"card-box",props:{title:{type:String,default:""}},setup(c){const l=c;return(i,n)=>(q(),G("div",ra,[r("div",la,[r("div",ca,[i.$slots.icon?(q(),G("span",ua,[Ve(i.$slots,"icon",{},void 0,!0)])):ee("",!0),r("span",da,ae(l.title),1),r("span",pa,[Ve(i.$slots,"title",{},void 0,!0)])]),r("div",_a,[Ve(i.$slots,"action",{},void 0,!0)])]),r("div",fa,[Ve(i.$slots,"default",{},void 0,!0)])]))}},Be=se(ha,[["__scopeId","data-v-13417dcd"]]),ma={class:"page-title-input"},ga={class:"upload-logo"},va=["src"],ya={__name:"page-title-input",props:{avatar:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:"请输入标题"},autoUpload:{type:Boolean,default:!0}},emits:["update:value","update:avatar","changeAvatar"],setup(c,{emit:l}){const i=l,n=c,e=o=>{i("update:value",o.srcElement.value)},t=o=>{let d={file:o[0],category:"icon"};n.autoUpload&&Fn(d).then(a=>{i("update:avatar",a.data.link)}),_o(o[0]).then(a=>{i("changeAvatar",{file:o[0],url:a})})};return(o,d)=>{const a=ye;return q(),G("div",ma,[r("div",ga,[u(On,{onChange:t},{default:g(()=>[r("img",{class:"avatar",src:n.avatar},null,8,va)]),_:1})]),u(a,{size:"large",value:n.value,placeholder:c.placeholder,onInput:e},null,8,["value","placeholder"])])}}},Ne=se(ya,[["__scopeId","data-v-1a1bdb06"]]);var Et={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */var xn;function wa(){return xn||(xn=1,function(c,l){(function(i,n){c.exports=n()})(self,()=>(()=>{var i={d:(R,s)=>{for(var h in s)i.o(s,h)&&!i.o(R,h)&&Object.defineProperty(R,h,{enumerable:!0,get:s[h]})},o:(R,s)=>Object.prototype.hasOwnProperty.call(R,s),r:R=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})}},n={};i.d(n,{default:()=>J});var e={};function t(R,s,h,y,P={}){s instanceof HTMLCollection||s instanceof NodeList?s=Array.from(s):Array.isArray(s)||(s=[s]),Array.isArray(h)||(h=[h]);for(const m of s)for(const E of h)m[R](E,y,{capture:!1,...P});return Array.prototype.slice.call(arguments,1)}i.r(e),i.d(e,{adjustableInputNumbers:()=>w,createElementFromString:()=>a,createFromTemplate:()=>_,eventPath:()=>f,off:()=>d,on:()=>o,resolveElement:()=>v});const o=t.bind(null,"addEventListener"),d=t.bind(null,"removeEventListener");function a(R){const s=document.createElement("div");return s.innerHTML=R.trim(),s.firstElementChild}function _(R){const s=(y,P)=>{const m=y.getAttribute(P);return y.removeAttribute(P),m},h=(y,P={})=>{const m=s(y,":obj"),E=s(y,":ref"),I=m?P[m]={}:P;E&&(P[E]=y);for(const $ of Array.from(y.children)){const V=s($,":arr"),z=h($,V?{}:I);V&&(I[V]||(I[V]=[])).push(Object.keys(z).length?z:$)}return P};return h(a(R))}function f(R){let s=R.path||R.composedPath&&R.composedPath();if(s)return s;let h=R.target.parentElement;for(s=[R.target,h];h=h.parentElement;)s.push(h);return s.push(document,window),s}function v(R){return R instanceof Element?R:typeof R=="string"?R.split(/>>/g).reduce((s,h,y,P)=>(s=s.querySelector(h),y<P.length-1?s.shadowRoot:s),document):null}function w(R,s=h=>h){function h(y){const P=[.001,.01,.1][Number(y.shiftKey||2*y.ctrlKey)]*(y.deltaY<0?1:-1);let m=0,E=R.selectionStart;R.value=R.value.replace(/[\d.]+/g,(I,$)=>$<=E&&$+I.length>=E?(E=$,s(Number(I),P,m)):(m++,I)),R.focus(),R.setSelectionRange(E,E),y.preventDefault(),R.dispatchEvent(new Event("input"))}o(R,"focus",()=>o(window,"wheel",h,{passive:!1})),o(R,"blur",()=>d(window,"wheel",h))}const{min:k,max:T,floor:L,round:A}=Math;function C(R,s,h){s/=100,h/=100;const y=L(R=R/360*6),P=R-y,m=h*(1-s),E=h*(1-P*s),I=h*(1-(1-P)*s),$=y%6;return[255*[h,E,m,m,I,h][$],255*[I,h,h,E,m,m][$],255*[m,m,I,h,h,E][$]]}function H(R,s,h){const y=(2-(s/=100))*(h/=100)/2;return y!==0&&(s=y===1?0:y<.5?s*h/(2*y):s*h/(2-2*y)),[R,100*s,100*y]}function U(R,s,h){const y=k(R/=255,s/=255,h/=255),P=T(R,s,h),m=P-y;let E,I;if(m===0)E=I=0;else{I=m/P;const $=((P-R)/6+m/2)/m,V=((P-s)/6+m/2)/m,z=((P-h)/6+m/2)/m;R===P?E=z-V:s===P?E=1/3+$-z:h===P&&(E=2/3+V-$),E<0?E+=1:E>1&&(E-=1)}return[360*E,100*I,100*P]}function b(R,s,h,y){return s/=100,h/=100,[...U(255*(1-k(1,(R/=100)*(1-(y/=100))+y)),255*(1-k(1,s*(1-y)+y)),255*(1-k(1,h*(1-y)+y)))]}function x(R,s,h){s/=100;const y=2*(s*=(h/=100)<.5?h:1-h)/(h+s)*100,P=100*(h+s);return[R,isNaN(y)?0:y,P]}function S(R){return U(...R.match(/.{2}/g).map(s=>parseInt(s,16)))}function O(R){R=R.match(/^[a-zA-Z]+$/)?function(P){if(P.toLowerCase()==="black")return"#000";const m=document.createElement("canvas").getContext("2d");return m.fillStyle=P,m.fillStyle==="#000"?null:m.fillStyle}(R):R;const s={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},h=P=>P.map(m=>/^(|\d+)\.\d+|\d+$/.test(m)?Number(m):void 0);let y;e:for(const P in s)if(y=s[P].exec(R))switch(P){case"cmyk":{const[,m,E,I,$]=h(y);if(m>100||E>100||I>100||$>100)break e;return{values:b(m,E,I,$),type:P}}case"rgba":{let[,m,,E,,I,,,$]=h(y);if(m=y[2]==="%"?m/100*255:m,E=y[4]==="%"?E/100*255:E,I=y[6]==="%"?I/100*255:I,$=y[9]==="%"?$/100:$,m>255||E>255||I>255||$<0||$>1)break e;return{values:[...U(m,E,I),$],a:$,type:P}}case"hexa":{let[,m]=y;m.length!==4&&m.length!==3||(m=m.split("").map($=>$+$).join(""));const E=m.substring(0,6);let I=m.substring(6);return I=I?parseInt(I,16)/255:void 0,{values:[...S(E),I],a:I,type:P}}case"hsla":{let[,m,E,I,,$]=h(y);if($=y[6]==="%"?$/100:$,m>360||E>100||I>100||$<0||$>1)break e;return{values:[...x(m,E,I),$],a:$,type:P}}case"hsva":{let[,m,E,I,,$]=h(y);if($=y[6]==="%"?$/100:$,m>360||E>100||I>100||$<0||$>1)break e;return{values:[m,E,I,$],a:$,type:P}}}return{values:null,type:null}}function N(R=0,s=0,h=0,y=1){const P=(E,I)=>($=-1)=>I(~$?E.map(V=>Number(V.toFixed($))):E),m={h:R,s,v:h,a:y,toHSVA(){const E=[m.h,m.s,m.v,m.a];return E.toString=P(E,I=>`hsva(${I[0]}, ${I[1]}%, ${I[2]}%, ${m.a})`),E},toHSLA(){const E=[...H(m.h,m.s,m.v),m.a];return E.toString=P(E,I=>`hsla(${I[0]}, ${I[1]}%, ${I[2]}%, ${m.a})`),E},toRGBA(){const E=[...C(m.h,m.s,m.v),m.a];return E.toString=P(E,I=>`rgba(${I[0]}, ${I[1]}, ${I[2]}, ${m.a})`),E},toCMYK(){const E=function(I,$,V){const z=C(I,$,V),K=z[0]/255,Q=z[1]/255,Y=z[2]/255,Z=k(1-K,1-Q,1-Y);return[100*(Z===1?0:(1-K-Z)/(1-Z)),100*(Z===1?0:(1-Q-Z)/(1-Z)),100*(Z===1?0:(1-Y-Z)/(1-Z)),100*Z]}(m.h,m.s,m.v);return E.toString=P(E,I=>`cmyk(${I[0]}%, ${I[1]}%, ${I[2]}%, ${I[3]}%)`),E},toHEXA(){const E=function($,V,z){return C($,V,z).map(K=>A(K).toString(16).padStart(2,"0"))}(m.h,m.s,m.v),I=m.a>=1?"":Number((255*m.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return I&&E.push(I),E.toString=()=>`#${E.join("").toUpperCase()}`,E},clone:()=>N(m.h,m.s,m.v,m.a)};return m}const D=R=>Math.max(Math.min(R,1),0);function B(R){const s={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},R),_keyboard(m){const{options:E}=s,{type:I,key:$}=m;if(document.activeElement===E.wrapper){const{lock:V}=s.options,z=$==="ArrowUp",K=$==="ArrowRight",Q=$==="ArrowDown",Y=$==="ArrowLeft";if(I==="keydown"&&(z||K||Q||Y)){let Z=0,ie=0;V==="v"?Z=z||K?1:-1:V==="h"?Z=z||K?-1:1:(ie=z?-1:Q?1:0,Z=Y?-1:K?1:0),s.update(D(s.cache.x+.01*Z),D(s.cache.y+.01*ie)),m.preventDefault()}else $.startsWith("Arrow")&&(s.options.onstop(),m.preventDefault())}},_tapstart(m){o(document,["mouseup","touchend","touchcancel"],s._tapstop),o(document,["mousemove","touchmove"],s._tapmove),m.cancelable&&m.preventDefault(),s._tapmove(m)},_tapmove(m){const{options:E,cache:I}=s,{lock:$,element:V,wrapper:z}=E,K=z.getBoundingClientRect();let Q=0,Y=0;if(m){const Se=m&&m.touches&&m.touches[0];Q=m?(Se||m).clientX:0,Y=m?(Se||m).clientY:0,Q<K.left?Q=K.left:Q>K.left+K.width&&(Q=K.left+K.width),Y<K.top?Y=K.top:Y>K.top+K.height&&(Y=K.top+K.height),Q-=K.left,Y-=K.top}else I&&(Q=I.x*K.width,Y=I.y*K.height);$!=="h"&&(V.style.left=`calc(${Q/K.width*100}% - ${V.offsetWidth/2}px)`),$!=="v"&&(V.style.top=`calc(${Y/K.height*100}% - ${V.offsetHeight/2}px)`),s.cache={x:Q/K.width,y:Y/K.height};const Z=D(Q/K.width),ie=D(Y/K.height);switch($){case"v":return E.onchange(Z);case"h":return E.onchange(ie);default:return E.onchange(Z,ie)}},_tapstop(){s.options.onstop(),d(document,["mouseup","touchend","touchcancel"],s._tapstop),d(document,["mousemove","touchmove"],s._tapmove)},trigger(){s._tapmove()},update(m=0,E=0){const{left:I,top:$,width:V,height:z}=s.options.wrapper.getBoundingClientRect();s.options.lock==="h"&&(E=m),s._tapmove({clientX:I+V*m,clientY:$+z*E})},destroy(){const{options:m,_tapstart:E,_keyboard:I}=s;d(document,["keydown","keyup"],I),d([m.wrapper,m.element],"mousedown",E),d([m.wrapper,m.element],"touchstart",E,{passive:!1})}},{options:h,_tapstart:y,_keyboard:P}=s;return o([h.wrapper,h.element],"mousedown",y),o([h.wrapper,h.element],"touchstart",y,{passive:!1}),o(document,["keydown","keyup"],P),s}function p(R={}){R=Object.assign({onchange:()=>0,className:"",elements:[]},R);const s=o(R.elements,"click",h=>{R.elements.forEach(y=>y.classList[h.target===y?"add":"remove"](R.className)),R.onchange(h),h.stopPropagation()});return{destroy:()=>d(...s)}}const F={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},M=(R,s,h)=>{const y=typeof R!="object"||R instanceof HTMLElement?{reference:R,popper:s,...h}:R;return{update(P=y){const{reference:m,popper:E}=Object.assign(y,P);if(!E||!m)throw new Error("Popper- or reference-element missing.");return((I,$,V)=>{const{container:z,arrow:K,margin:Q,padding:Y,position:Z,variantFlipOrder:ie,positionFlipOrder:Se}={container:document.documentElement.getBoundingClientRect(),...F,...V},{left:Qe,top:Ye}=$.style;$.style.left="0",$.style.top="0";const re=I.getBoundingClientRect(),de=$.getBoundingClientRect(),Gn={t:re.top-de.height-Q,b:re.bottom+Q,r:re.right+Q,l:re.left-de.width-Q},Qn={vs:re.left,vm:re.left+re.width/2-de.width/2,ve:re.left+re.width-de.width,hs:re.top,hm:re.bottom-re.height/2-de.height/2,he:re.bottom-de.height},[Yn,Xn="middle"]=Z.split("-"),Zn=Se[Yn],eo=ie[Xn],{top:zt,left:Kt,bottom:Wt,right:Jt}=z;for(const Ue of Zn){const xe=Ue==="t"||Ue==="b";let Le=Gn[Ue];const[Xe,Ze]=xe?["top","left"]:["left","top"],[et,tt]=xe?[de.height,de.width]:[de.width,de.height],[to,no]=xe?[Wt,Jt]:[Jt,Wt],[oo,ao]=xe?[zt,Kt]:[Kt,zt];if(!(Le<oo||Le+et+Y>to))for(const nt of eo){let De=Qn[(xe?"v":"h")+nt];if(!(De<ao||De+tt+Y>no)){if(De-=de[Ze],Le-=de[Xe],$.style[Ze]=`${De}px`,$.style[Xe]=`${Le}px`,K){const ot=xe?re.width/2:re.height/2,Oe=tt/2,Gt=ot>Oe,so=De+{s:Gt?Oe:ot,m:Oe,e:Gt?Oe:tt-ot}[nt],io=Le+{t:et,b:0,r:0,l:et}[Ue];K.style[Ze]=`${so}px`,K.style[Xe]=`${io}px`}return Ue+nt}}}return $.style.left=Qe,$.style.top=Ye,null})(m,E,y)}}},te=class te{constructor(s){le(this,"_initializingActive",!0);le(this,"_recalc",!0);le(this,"_nanopop",null);le(this,"_root",null);le(this,"_color",N());le(this,"_lastColor",N());le(this,"_swatchColors",[]);le(this,"_setupAnimationFrame",null);le(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]});this.options=s=Object.assign({...te.DEFAULT_OPTIONS},s);const{swatches:h,components:y,theme:P,sliders:m,lockOpacity:E,padding:I}=s;["nano","monolith"].includes(P)&&!m&&(s.sliders="h"),y.interaction||(y.interaction={});const{preview:$,opacity:V,hue:z,palette:K}=y;y.opacity=!E&&V,y.palette=K||$||V||z,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),h&&h.length&&h.forEach(ie=>this.addSwatch(ie));const{button:Q,app:Y}=this._root;this._nanopop=M(Q,Y,{margin:I}),Q.setAttribute("role","button"),Q.setAttribute("aria-label",this._t("btn:toggle"));const Z=this;this._setupAnimationFrame=requestAnimationFrame(function ie(){if(!Y.offsetWidth)return requestAnimationFrame(ie);Z.setColor(s.default),Z._rePositioningPicker(),s.defaultRepresentation&&(Z._representation=s.defaultRepresentation,Z.setColorRepresentation(Z._representation)),s.showAlways&&Z.show(),Z._initializingActive=!1,Z._emit("init")})}_preBuild(){const{options:s}=this;for(const h of["el","container"])s[h]=v(s[h]);this._root=(h=>{const{components:y,useAsButton:P,inline:m,appClass:E,theme:I,lockOpacity:$}=h.options,V=Y=>Y?"":'style="display:none" hidden',z=Y=>h._t(Y),K=_(`
      <div :ref="root" class="pickr">

        ${P?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${E||""}" data-theme="${I}" ${m?'style="position: unset"':""} aria-label="${z("ui:dialog")}" role="window">
          <div class="pcr-selection" ${V(y.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${V(y.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${z("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${z("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${V(y.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${z("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${V(y.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${z("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${y.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${V(Object.keys(y.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${V(y.interaction.input)} aria-label="${z("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${$?"HEX":"HEXA"}" type="button" ${V(y.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${$?"RGB":"RGBA"}" type="button" ${V(y.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${$?"HSL":"HSLA"}" type="button" ${V(y.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${$?"HSV":"HSVA"}" type="button" ${V(y.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${V(y.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${z("btn:save")}" type="button" ${V(y.interaction.save)} aria-label="${z("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${z("btn:cancel")}" type="button" ${V(y.interaction.cancel)} aria-label="${z("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${z("btn:clear")}" type="button" ${V(y.interaction.clear)} aria-label="${z("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),Q=K.interaction;return Q.options.find(Y=>!Y.hidden&&!Y.classList.add("active")),Q.type=()=>Q.options.find(Y=>Y.classList.contains("active")),K})(this),s.useAsButton&&(this._root.button=s.el),s.container.appendChild(this._root.root)}_finalBuild(){const s=this.options,h=this._root;if(s.container.removeChild(h.root),s.inline){const y=s.el.parentElement;s.el.nextSibling?y.insertBefore(h.app,s.el.nextSibling):y.appendChild(h.app)}else s.container.appendChild(h.app);s.useAsButton?s.inline&&s.el.remove():s.el.parentNode.replaceChild(h.root,s.el),s.disabled&&this.disable(),s.comparison||(h.button.style.transition="none",s.useAsButton||(h.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const s=this,h=this.options.components,y=(s.options.sliders||"v").repeat(2),[P,m]=y.match(/^[vh]+$/g)?y:[],E=()=>this._color||(this._color=this._lastColor.clone()),I={palette:B({element:s._root.palette.picker,wrapper:s._root.palette.palette,onstop:()=>s._emit("changestop","slider",s),onchange($,V){if(!h.palette)return;const z=E(),{_root:K,options:Q}=s,{lastColor:Y,currentColor:Z}=K.preview;s._recalc&&(z.s=100*$,z.v=100-100*V,z.v<0&&(z.v=0),s._updateOutput("slider"));const ie=z.toRGBA().toString(0);this.element.style.background=ie,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${z.a}), transparent),
                        linear-gradient(to left, hsla(${z.h}, 100%, 50%, ${z.a}), rgba(255, 255, 255, ${z.a}))
                    `,Q.comparison?Q.useAsButton||s._lastColor||Y.style.setProperty("--pcr-color",ie):(K.button.style.setProperty("--pcr-color",ie),K.button.classList.remove("clear"));const Se=z.toHEXA().toString();for(const{el:Qe,color:Ye}of s._swatchColors)Qe.classList[Se===Ye.toHEXA().toString()?"add":"remove"]("pcr-active");Z.style.setProperty("--pcr-color",ie)}}),hue:B({lock:m==="v"?"h":"v",element:s._root.hue.picker,wrapper:s._root.hue.slider,onstop:()=>s._emit("changestop","slider",s),onchange($){if(!h.hue||!h.palette)return;const V=E();s._recalc&&(V.h=360*$),this.element.style.backgroundColor=`hsl(${V.h}, 100%, 50%)`,I.palette.trigger()}}),opacity:B({lock:P==="v"?"h":"v",element:s._root.opacity.picker,wrapper:s._root.opacity.slider,onstop:()=>s._emit("changestop","slider",s),onchange($){if(!h.opacity||!h.palette)return;const V=E();s._recalc&&(V.a=Math.round(100*$)/100),this.element.style.background=`rgba(0, 0, 0, ${V.a})`,I.palette.trigger()}}),selectable:p({elements:s._root.interaction.options,className:"active",onchange($){s._representation=$.target.getAttribute("data-type").toUpperCase(),s._recalc&&s._updateOutput("swatch")}})};this._components=I}_bindEvents(){const{_root:s,options:h}=this,y=[o(s.interaction.clear,"click",()=>this._clearColor()),o([s.interaction.cancel,s.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),o(s.interaction.save,"click",()=>{!this.applyColor()&&!h.showAlways&&this.hide()}),o(s.interaction.result,["keyup","input"],P=>{this.setColor(P.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),P.stopImmediatePropagation()}),o(s.interaction.result,["focus","blur"],P=>{this._recalc=P.type==="blur",this._recalc&&this._updateOutput(null)}),o([s.palette.palette,s.palette.picker,s.hue.slider,s.hue.picker,s.opacity.slider,s.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!h.showAlways){const P=h.closeWithKey;y.push(o(s.button,"click",()=>this.isOpen()?this.hide():this.show()),o(document,"keyup",m=>this.isOpen()&&(m.key===P||m.code===P)&&this.hide()),o(document,["touchstart","mousedown"],m=>{this.isOpen()&&!f(m).some(E=>E===s.app||E===s.button)&&this.hide()},{capture:!0}))}if(h.adjustableNumbers){const P={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};w(s.interaction.result,(m,E,I)=>{const $=P[this.getColorRepresentation().toLowerCase()];if($){const V=$[I],z=m+(V>=100?1e3*E:E);return z<=0?0:Number((z<V?z:V).toPrecision(3))}return m})}if(h.autoReposition&&!h.inline){let P=null;const m=this;y.push(o(window,["scroll","resize"],()=>{m.isOpen()&&(h.closeOnScroll&&m.hide(),P===null?(P=setTimeout(()=>P=null,100),requestAnimationFrame(function E(){m._rePositioningPicker(),P!==null&&requestAnimationFrame(E)})):(clearTimeout(P),P=setTimeout(()=>P=null,100)))},{capture:!0}))}this._eventBindings=y}_rePositioningPicker(){const{options:s}=this;if(!s.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:s.position})){const h=this._root.app,y=h.getBoundingClientRect();h.style.top=(window.innerHeight-y.height)/2+"px",h.style.left=(window.innerWidth-y.width)/2+"px"}}_updateOutput(s){const{_root:h,_color:y,options:P}=this;if(h.interaction.type()){const m=`to${h.interaction.type().getAttribute("data-type")}`;h.interaction.result.value=typeof y[m]=="function"?y[m]().toString(P.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",y,s,this)}_clearColor(s=!1){const{_root:h,options:y}=this;y.useAsButton||h.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),h.button.classList.add("clear"),y.showAlways||this.hide(),this._lastColor=null,this._initializingActive||s||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(s){const{values:h,type:y,a:P}=O(s),{lockOpacity:m}=this.options,E=P!==void 0&&P!==1;return h&&h.length===3&&(h[3]=void 0),{values:!h||m&&E?null:h,type:y}}_t(s){return this.options.i18n[s]||te.I18N_DEFAULTS[s]}_emit(s,...h){this._eventListener[s].forEach(y=>y(...h,this))}on(s,h){return this._eventListener[s].push(h),this}off(s,h){const y=this._eventListener[s]||[],P=y.indexOf(h);return~P&&y.splice(P,1),this}addSwatch(s){const{values:h}=this._parseLocalColor(s);if(h){const{_swatchColors:y,_root:P}=this,m=N(...h),E=a(`<button type="button" style="--pcr-color: ${m.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return P.swatches.appendChild(E),y.push({el:E,color:m}),this._eventBindings.push(o(E,"click",()=>{this.setHSVA(...m.toHSVA(),!0),this._emit("swatchselect",m),this._emit("change",m,"swatch",this)})),!0}return!1}removeSwatch(s){const h=this._swatchColors[s];if(h){const{el:y}=h;return this._root.swatches.removeChild(y),this._swatchColors.splice(s,1),!0}return!1}applyColor(s=!1){const{preview:h,button:y}=this._root,P=this._color.toRGBA().toString(0);return h.lastColor.style.setProperty("--pcr-color",P),this.options.useAsButton||y.style.setProperty("--pcr-color",P),y.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||s||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(s=>d(...s)),Object.keys(this._components).forEach(s=>this._components[s].destroy())}destroyAndRemove(){this.destroy();const{root:s,app:h}=this._root;s.parentElement&&s.parentElement.removeChild(s),h.parentElement.removeChild(h),Object.keys(this).forEach(y=>this[y]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(s=360,h=0,y=0,P=1,m=!1){const E=this._recalc;if(this._recalc=!1,s<0||s>360||h<0||h>100||y<0||y>100||P<0||P>1)return!1;this._color=N(s,h,y,P);const{hue:I,opacity:$,palette:V}=this._components;return I.update(s/360),$.update(P),V.update(h/100,1-y/100),m||this.applyColor(),E&&this._updateOutput(),this._recalc=E,!0}setColor(s,h=!1){if(s===null)return this._clearColor(h),!0;const{values:y,type:P}=this._parseLocalColor(s);if(y){const m=P.toUpperCase(),{options:E}=this._root.interaction,I=E.find($=>$.getAttribute("data-type")===m);if(I&&!I.hidden)for(const $ of E)$.classList[$===I?"add":"remove"]("active");return!!this.setHSVA(...y,h)&&this.setColorRepresentation(m)}return!1}setColorRepresentation(s){return s=s.toUpperCase(),!!this._root.interaction.options.find(h=>h.getAttribute("data-type").startsWith(s)&&!h.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};le(te,"utils",e),le(te,"version","1.9.1"),le(te,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),le(te,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),le(te,"create",s=>new te(s));let J=te;return n=n.default})())}(Et)),Et.exports}var ba=wa();const ka=Rn(ba),Ca={class:"color-picker-wrapper"},$a={class:"color-picker-action"},Aa={__name:"index",props:{value:{type:String,default:"#000000"}},emits:["update:value","change"],setup(c,{emit:l}){const i=l,n=c,e=W(null);return Re(()=>{const t=ka.create({el:e.value,container:"body",theme:"nano",default:n.value,defaultRepresentation:"HEX",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!0}}});t.on("save",(o,d)=>{let a=o.toHEXA().toString();i("update:value",a),i("change",a),d.hide()}),t.on("show",()=>{const o=document.querySelectorAll(".pcr-save");o&&o.length&&o.forEach(function(d){d.tagName.toLowerCase()==="input"&&(d.value="保存")})})}),(t,o)=>{const d=ye;return q(),G("div",Ca,[u(d,{value:n.value,readonly:!0,placeholder:"Basic usage"},null,8,["value"]),r("span",$a,[r("span",{ref_key:"colorPicker",ref:e},null,512)])])}}},Tt=se(Aa,[["__scopeId","data-v-f2a9e7d0"]]),Sa="/assets/img/quick-help-BZ3Cu-IE.png",xa={class:"quick-instructions-box"},Ea={class:"quick-action-right"},Ia={class:"quick-list-box"},Ba={class:"list-box-wrap"},Ra={class:"drag-btn"},Pa={class:"left-box"},Ta={class:"title"},Ma={class:"content"},Na={class:"opration-box"},Ua={class:"form-box"},La={__name:"quick-instruction",props:{type:{type:Number,default:void 0}},emits:["updata"],setup(c,{emit:l}){const i=c,n=l,e=co(),t=Ke(),{robotInfo:o}=ze(t),{getRobot:d}=t,a=W([]),_=W(parseInt(i.type==-1?o.value.fast_command_switch:o.value.yunpc_fast_command_switch)||0);Ie(a,B=>{n("updata",{comand_list:B,fast_command_switch:_.value})});const f=()=>{Eo({robot_key:o.value.robot_key,app_id:i.type}).then(B=>{a.value=B.data||[],t.setQuickCommand(B.data)})};f();const v=me.useForm,w=W(!1),k=W("添加快捷指令"),T=ce({robot_id:e.query.id,app_id:i.type,title:"",typ:1,content:"",id:""}),L=B=>{const{id:p}=o.value;Ro({robot_key:o.value.robot_key,app_id:i.type}).then(F=>{_.value=B,n("updata",{comand_list:a.value,fast_command_switch:_.value}),d(p),oe.success("修改成功")}).catch(F=>{_.value=!_.value})},A=()=>{T.content="",x(["content"])},C=B=>{w.value=!0,U(),k.value=B.id?"编辑快捷指令":"添加快捷指令",T.title=B.title||"",T.content=B.content||"",T.id=B.id||"",T.typ=+B.typ||1},H=ce({title:[{message:"请输入指令标题",required:!0}],content:[{message:"",required:!0},{validator:async(B,p)=>p==""?Promise.reject(new Error(`请输入${T.typ==1?"内容":"网址"}`)):T.typ==1||Mo(p)?Promise.resolve():Promise.reject(new Error("请输入合法网页链接"))}]}),{resetFields:U,validate:b,clearValidate:x,validateInfos:S}=v(T,H),O=()=>{b().then(()=>{Po({...he(T)}).then(B=>{oe.success("修改成功"),w.value=!1,f()})})},N=B=>{ue.confirm({title:"提醒",icon:u(Te),content:"确定要删除该快捷指令吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk(){Bo({id:B}).then(p=>{oe.success("删除成功"),f()})},onCancel(){}})},D=B=>{let p=a.value.map((F,M)=>({id:+F.id,sort:M+1}));Io({data:p}).then(F=>{oe.success("保存成功"),f()})};return(B,p)=>{const F=go,M=Mt,J=Mn,te=_e,R=ye,s=ke,h=Ut,y=Nt,P=Lt,m=me,E=ue;return q(),G("div",xa,[u(Be,null,{title:g(()=>[p[9]||(p[9]=j(" 快捷指令设置 ")),u(F,{placement:"top"},{content:g(()=>p[8]||(p[8]=[r("div",{class:"help-box"},[r("div",null,"快捷指令是对话输入框上方的按钮,配置完成后,用户可以快速发起预设对话"),r("img",{src:Sa,alt:""})],-1)])),default:g(()=>[u(ne(Nn),{class:"help-icon"})]),_:1})]),icon:g(()=>[u(M,{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),action:g(()=>[r("div",Ea,[u(J,{onChange:L,class:"switch-item",checkedValue:1,unCheckedValue:0,checked:_.value,"onUpdate:checked":p[0]||(p[0]=I=>_.value=I),"checked-children":"开","un-checked-children":"关"},null,8,["checked"]),u(te,{onClick:C,size:"small",type:"primary"},{default:g(()=>p[10]||(p[10]=[j("添加")])),_:1,__:[10]})])]),default:g(()=>[r("div",Ia,[u(ne(No),{modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=I=>a.value=I),"item-key":"id",onEnd:p[2]||(p[2]=I=>D(I)),handle:".drag-btn"},{item:g(({element:I,index:$})=>[r("div",Ba,[(q(),G("div",{class:"list-item",key:I.id},[r("div",Ra,[u(M,{name:"drag"})]),r("div",Pa,[r("div",Ta,ae(I.title),1),r("div",Ma,ae(I.content),1)]),r("div",Na,[u(ne(ho),{onClick:V=>C(I)},null,8,["onClick"]),u(ne(mo),{onClick:V=>N(I.id)},null,8,["onClick"])])]))])]),_:1},8,["modelValue"])])]),_:1}),u(E,{open:w.value,"onUpdate:open":p[7]||(p[7]=I=>w.value=I),title:k.value,onOk:O,width:"576px"},{default:g(()=>[r("div",Ua,[u(m,{layout:"vertical"},{default:g(()=>[u(s,Qt({label:"指令标题"},ne(S).title),{default:g(()=>[u(R,{placeholder:"请输入指令标题",maxLength:20,value:T.title,"onUpdate:value":p[3]||(p[3]=I=>T.title=I)},null,8,["value"])]),_:1},16),u(s,{label:"指令类型",required:""},{default:g(()=>[u(y,{value:T.typ,"onUpdate:value":p[4]||(p[4]=I=>T.typ=I),onChange:A},{default:g(()=>[u(h,{value:1},{default:g(()=>p[11]||(p[11]=[j("输入内容")])),_:1,__:[11]}),u(h,{value:2},{default:g(()=>p[12]||(p[12]=[j("跳转网页")])),_:1,__:[12]})]),_:1},8,["value"])]),_:1}),u(s,Qt({label:T.typ==1?"指令内容":"网页链接",required:""},ne(S).content),{default:g(()=>[T.typ==1?(q(),X(P,{key:0,style:{height:"100px"},value:T.content,"onUpdate:value":p[5]||(p[5]=I=>T.content=I),placeholder:"请输入指令内容"},null,8,["value"])):(q(),X(R,{key:1,placeholder:"请输入网页链接",value:T.content,"onUpdate:value":p[6]||(p[6]=I=>T.content=I)},null,8,["value"]))]),_:1},16,["label"])]),_:1})])]),_:1},8,["open","title"])])}}},Jn=se(La,[["__scopeId","data-v-9444f65b"]]),Da={class:"web-app-box"},qa={class:"box-left"},Fa={class:"box-wrapper"},Oa={class:"web-app-info"},Va={class:"web-app-link"},ja=["href"],Ha={class:"link-action"},za=["src"],Ka={class:"card-title"},Wa={class:"web-app-link"},Ja=["href"],Ga={class:"link-action"},Qa=["src"],Ya={class:"access-restrictions form-box"},Xa={class:"form-item"},Za={class:"form-item-body"},es={class:"box-wrapper"},ts={class:"web-app-style form-box"},ns={class:"window-size-box"},os={class:"box-wrapper"},as={class:"box-right"},ss={class:"demo-box"},is=["src"],rs={__name:"web-app",setup(c){const l=Pn(),i=Ke(),{robotInfo:n,external_config_h5:e}=ze(i),{h5_website:t,h5_domain:o,robot_key:d}=n.value,{getRobot:a}=i,_=W(""),f=W(""),v=W(),w=ce({logo:e.value.logo,pageTitle:e.value.pageTitle,navbarShow:e.value.navbarShow,lang:e.value.lang,pageStyle:e.value.pageStyle,open_type:e.value.open_type,window_width:e.value.window_width,window_height:e.value.window_height}),k=ve(()=>`${o}/#/chat/pc?robot_key=${d}`),T=ve(()=>`${o}/#/chat/h5?robot_key=${d}`),L=ve(()=>t);Ie(w,B=>{C(B)});const A=B=>{C(B,"updataQuickComand")},C=(B,p)=>{document.getElementById("mobile-preview").contentWindow.postMessage({type:p||"onPreview",data:JSON.parse(JSON.stringify(B))},"*")},H={lang:[{required:!0,message:"请选择语言",trigger:"change"}],pageTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>w.logo?Promise.resolve():Promise.reject("请上传logo")}],navbarShow:[{required:!0,message:"请选择是否显示标题栏",trigger:"change"}],pageStyle:{navbarBackgroundColor:[{required:!0,message:"请选择标题栏颜色",trigger:"change"}]}},U=W(e.value.accessRestrictionsType||1),b=()=>{let B={...he(e.value)};B.accessRestrictionsType=U.value,x(B)},x=B=>{const{id:p}=n.value;Dn({id:p,external_config_h5:JSON.stringify(B)}).then(()=>{a(p),oe.success("保存成功"),l.go(0)})},S=()=>{v.value.validate().then(()=>{let B={...he(w)};B.window_width=+B.window_width||1200,B.window_height=+B.window_height||650,B.accessRestrictionsType=U.value,x(B)}).catch(B=>{})},O=B=>{window.open(B)},N=B=>{Pe(B),oe.success("复制成功")},D=async()=>{try{_.value=await Sn.toDataURL(k.value),f.value=await Sn.toDataURL(T.value)}catch(B){console.error(B)}};return setTimeout(()=>{D()},300),(B,p)=>{const F=Mt,M=_e,J=Un,te=Ut,R=Nt,s=ke,h=qt,y=Dt,P=Ot,m=Ft,E=Ln,I=me;return q(),G("div",Da,[r("div",qa,[r("div",Fa,[u(Be,{title:"H5链接"},{icon:g(()=>[u(F,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),default:g(()=>[r("div",Oa,[r("div",Va,[r("a",{href:T.value,target:"_blank"},ae(T.value),9,ja)]),r("div",Ha,[u(M,{class:"action-btn",type:"primary",ghost:"",onClick:p[0]||(p[0]=$=>N(T.value))},{default:g(()=>p[13]||(p[13]=[j("复 制")])),_:1,__:[13]}),u(M,{class:"action-btn",onClick:p[1]||(p[1]=$=>O(T.value))},{default:g(()=>p[14]||(p[14]=[j("预 览")])),_:1,__:[14]}),u(J,{color:"#fff",placement:"top"},{title:g(()=>[r("img",{style:{width:"180px"},src:f.value,alt:""},null,8,za)]),default:g(()=>[u(M,{class:"action-btn"},{default:g(()=>p[15]||(p[15]=[j("二维码")])),_:1,__:[15]})]),_:1})]),r("div",Ka,[u(F,{name:"circularNeedle",style:{"font-size":"16px",color:"#262626"}}),p[16]||(p[16]=r("div",{class:"title-text"},"pc网页链接",-1))]),r("div",Wa,[r("a",{href:k.value,target:"_blank"},ae(k.value),9,Ja)]),r("div",Ga,[u(M,{class:"action-btn",type:"primary",ghost:"",onClick:p[2]||(p[2]=$=>N(k.value))},{default:g(()=>p[17]||(p[17]=[j("复 制")])),_:1,__:[17]}),u(M,{class:"action-btn",onClick:p[3]||(p[3]=$=>O(k.value))},{default:g(()=>p[18]||(p[18]=[j("预 览")])),_:1,__:[18]}),u(J,{color:"#fff",placement:"top"},{title:g(()=>[r("img",{style:{width:"180px"},src:_.value,alt:""},null,8,Qa)]),default:g(()=>[u(M,{class:"action-btn"},{default:g(()=>p[19]||(p[19]=[j("二维码")])),_:1,__:[19]})]),_:1})]),r("div",Ya,[r("div",Xa,[p[23]||(p[23]=r("div",{class:"form-item-label"},"访问限制",-1)),r("div",Za,[u(R,{value:U.value,"onUpdate:value":p[4]||(p[4]=$=>U.value=$),onChange:b},{default:g(()=>[u(te,{value:1},{default:g(()=>p[20]||(p[20]=[r("span",{class:"default-text-color"},"无限制",-1)])),_:1,__:[20]}),u(te,{value:2},{default:g(()=>p[21]||(p[21]=[r("span",{class:"default-text-color"},"登录后才可访问",-1)])),_:1,__:[21]}),ee("",!0)]),_:1},8,["value"])])])])])]),_:1})]),r("div",es,[u(Be,{title:"样式设置"},{icon:g(()=>[u(F,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),action:g(()=>[u(M,{onClick:S,size:"small",type:"primary"},{default:g(()=>p[24]||(p[24]=[j("保存")])),_:1,__:[24]})]),default:g(()=>[r("div",ts,[u(I,{ref_key:"formRef",ref:v,layout:"vertical",model:w,rules:H},{default:g(()=>[u(s,{class:"form-item",label:"是否显示标题栏",name:"navbarShow"},{default:g(()=>[u(R,{value:w.navbarShow,"onUpdate:value":p[5]||(p[5]=$=>w.navbarShow=$),name:"navbarShow"},{default:g(()=>[u(te,{value:1},{default:g(()=>p[25]||(p[25]=[j("显示")])),_:1,__:[25]}),u(te,{value:2},{default:g(()=>p[26]||(p[26]=[j("不显示")])),_:1,__:[26]})]),_:1},8,["value"])]),_:1}),u(s,{class:"form-item",label:"页面标题",name:"pageTitle"},{default:g(()=>[u(Ne,{avatar:w.logo,"onUpdate:avatar":p[6]||(p[6]=$=>w.logo=$),value:w.pageTitle,"onUpdate:value":p[7]||(p[7]=$=>w.pageTitle=$)},null,8,["avatar","value"])]),_:1}),u(s,{class:"form-item",label:"标题栏颜色",name:["pageStyle","navbarBackgroundColor"]},{default:g(()=>[u(Tt,{value:w.pageStyle.navbarBackgroundColor,"onUpdate:value":p[8]||(p[8]=$=>w.pageStyle.navbarBackgroundColor=$)},null,8,["value"])]),_:1}),u(s,{class:"form-item",label:"语言",name:"lang"},{default:g(()=>[u(y,{style:{width:"180px"},value:w.lang,"onUpdate:value":p[9]||(p[9]=$=>w.lang=$),placeholder:"请选择语言"},{default:g(()=>[u(h,{value:"zh-CN"},{default:g(()=>p[27]||(p[27]=[j("简体中文")])),_:1,__:[27]}),u(h,{value:"en-US"},{default:g(()=>p[28]||(p[28]=[j("English")])),_:1,__:[28]})]),_:1},8,["value"])]),_:1}),u(s,{class:"form-item",label:"网址打开方式",name:"open_type",required:""},{default:g(()=>[u(R,{value:w.open_type,"onUpdate:value":p[10]||(p[10]=$=>w.open_type=$)},{default:g(()=>[u(te,{value:1},{default:g(()=>p[29]||(p[29]=[j("新标签页打开")])),_:1,__:[29]}),u(te,{value:2},{default:g(()=>[p[31]||(p[31]=j("新窗口弹窗打开 ")),u(J,{title:"仅管控PC端新窗口打开,移动端依然用新标签页打开"},{title:g(()=>p[30]||(p[30]=[j("prompt text")])),default:g(()=>[u(ne(Nn))]),_:1})]),_:1,__:[31]})]),_:1},8,["value"]),w.open_type==2?(q(),X(E,{key:0},{default:g(()=>[r("div",ns,[u(m,{align:"center",gap:8},{default:g(()=>[p[32]||(p[32]=r("div",null,"弹窗高度",-1)),u(P,{value:w.window_height,"onUpdate:value":p[11]||(p[11]=$=>w.window_height=$),min:500,max:2e3},null,8,["value"]),p[33]||(p[33]=j(" PX "))]),_:1,__:[32,33]}),u(m,{align:"center",gap:8},{default:g(()=>[p[34]||(p[34]=r("div",null,"弹窗宽度",-1)),u(P,{value:w.window_width,"onUpdate:value":p[12]||(p[12]=$=>w.window_width=$),min:500,max:2e3},null,8,["value"]),p[35]||(p[35]=j(" PX "))]),_:1,__:[34,35]})])]),_:1})):ee("",!0)]),_:1})]),_:1},8,["model"])])]),_:1})]),r("div",os,[u(Jn,{type:ne(n).app_id,onUpdata:A},null,8,["type"])])]),r("div",as,[r("div",ss,[r("iframe",{id:"mobile-preview",src:L.value,frameborder:"0"},null,8,is)])])])}}},ls=se(rs,[["__scopeId","data-v-5a1a978d"]]);function cs({pc_domain:c,robot_key:l}){var i=`<script>
  (function (z, h, i, m, a, j, s) {
    z[m] = z[m] || function () {
      (z[m].a = z[m].a || []).push(arguments);
    };
    (j = h.createElement(i)), (s = h.getElementsByTagName(i)[0]);
    j.async = true;
    j.charset = "UTF-8";
    j.setAttribute(
      "data-json",
      JSON.stringify({
        robot_key: "${l}",
        language: "zh-CN",
      })
    );
    j.id = "ai_chat_js";
    j.src = '${c}/sdk/ai-chat-sdk.umd.cjs';
    s.parentNode.insertBefore(j, s);
  })(window, document, "script", "_ai_chat");
<\/script>`;return i}const us={class:"gradient-color-picker"},ds={class:"color-picker-box"},ps={class:"gradient-type-select"},_s={class:"color-item"},fs={class:"right-arrow"},hs={class:"color-item"},ms={__name:"gradient-color-picker",props:{value:{type:String,default:""}},emits:["update:value"],setup(c,{emit:l}){const i=l,n=c,e=me.useInjectFormItemContext(),t=W([{key:1,label:"单色",value:"color",type:"color"},{key:2,label:"线性渐变（横向）",value:"to right",type:"linear-gradient"},{key:3,label:"线性渐变（竖向）",value:"to bottom",type:"linear-gradient"},{key:4,label:"径向渐变",value:"circle",type:"radial-gradient"}]),o=W("linear-gradient"),d=W("to right"),a=W("#2435E7"),_=W("#01A0FB"),f=ve(()=>o.value=="color"?a.value:`${o.value}(${d.value}, ${a.value}, ${_.value})`);Ie(()=>f.value,()=>{let w=[o.value,d.value,a.value,_.value].join(",");i("update:value",w),e.onFieldChange()}),Ie(()=>n.value,()=>{const w=n.value.split(","),[k,T,L,A]=w;o.value=k,d.value=T,a.value=L,_.value=A},{immediate:!0});const v=(w,k)=>{o.value=k.type,d.value=w,e.onFieldChange()};return(w,k)=>{const T=qt,L=Dt;return q(),G("div",us,[r("div",ds,[r("div",ps,[u(L,{value:d.value,style:{width:"180px"},onChange:v},{default:g(()=>[(q(!0),G(pe,null,Ce(t.value,A=>(q(),X(T,{value:A.value,type:A.type,key:A.key},{default:g(()=>[j(ae(A.label),1)]),_:2},1032,["value","type"]))),128))]),_:1},8,["value"])]),r("div",_s,[u(Tt,{value:a.value,"onUpdate:value":k[0]||(k[0]=A=>a.value=A)},null,8,["value"])]),o.value!="color"?(q(),G(pe,{key:0},[r("div",fs,[u(ne(vo))]),r("div",hs,[u(Tt,{value:_.value,"onUpdate:value":k[1]||(k[1]=A=>_.value=A)},null,8,["value"])])],64)):ee("",!0)])])}}},gs=se(ms,[["__scopeId","data-v-dfea777d"]]),vs="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20x='14'%20y='14'%20width='28'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3crect%20x='14.5'%20y='14.5'%20width='27'%20height='27'%20rx='13.5'%20stroke='black'%20stroke-opacity='0.04'/%3e%3cg%20clip-path='url(%23clip0_2269_42995)'%3e%3cpath%20d='M31.5%2030.3385C32.7887%2030.3385%2033.8333%2029.2939%2033.8333%2028.0052C33.8333%2026.7165%2032.7887%2025.6719%2031.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5013%2025.6719C23.2126%2025.6719%2022.168%2026.7165%2022.168%2028.0052C22.168%2029.2939%2023.2126%2030.3385%2024.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5%2030.3385V30.1927V29.4635V28.0052V25.6719C24.5%2023.7389%2026.067%2022.1719%2028%2022.1719C29.933%2022.1719%2031.5%2023.7389%2031.5%2025.6719V30.3385C31.5%2032.2715%2029.933%2033.8385%2028%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42995'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(21%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ys="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20y='14'%20width='56'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3cg%20clip-path='url(%23clip0_2269_42985)'%3e%3cpath%20d='M19.5%2030.3385C20.7887%2030.3385%2021.8333%2029.2939%2021.8333%2028.0052C21.8333%2026.7165%2020.7887%2025.6719%2019.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5013%2025.6719C11.2126%2025.6719%2010.168%2026.7165%2010.168%2028.0052C10.168%2029.2939%2011.2126%2030.3385%2012.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5%2030.3385V30.1927V29.4635V28.0052V25.6719C12.5%2023.7389%2014.067%2022.1719%2016%2022.1719C17.933%2022.1719%2019.5%2023.7389%2019.5%2025.6719V30.3385C19.5%2032.2715%2017.933%2033.8385%2016%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cpath%20d='M24.5414%2024.224V25.088H26.3894C26.9294%2026.936%2027.8894%2028.544%2029.2814%2029.912C27.9854%2031.088%2026.3294%2031.94%2024.3134%2032.48L24.7694%2033.236C26.8094%2032.648%2028.5134%2031.724%2029.8814%2030.464C31.1774%2031.58%2032.8094%2032.504%2034.8014%2033.248L35.2694%2032.528C33.3494%2031.82%2031.7534%2030.932%2030.4814%2029.852C31.6574%2028.58%2032.5454%2026.984%2033.1334%2025.088H35.0054V24.224H30.4214C30.0374%2023.396%2029.6294%2022.688%2029.1734%2022.112L28.3094%2022.424C28.7894%2022.988%2029.1854%2023.588%2029.5094%2024.224H24.5414ZM27.2414%2025.088H32.2334C31.7294%2026.744%2030.9494%2028.148%2029.8814%2029.312C28.6334%2028.112%2027.7574%2026.708%2027.2414%2025.088ZM40.9574%2024.116C40.7174%2024.452%2040.4534%2024.8%2040.1774%2025.148H37.0094V25.844H39.6134C39.3254%2026.18%2039.0254%2026.516%2038.7134%2026.876C39.5414%2027.032%2040.3694%2027.212%2041.2094%2027.428C40.1534%2027.764%2038.7134%2027.932%2036.8894%2027.932L37.3574%2028.64C39.3974%2028.616%2041.0414%2028.304%2042.3014%2027.716C43.5134%2028.04%2044.7254%2028.412%2045.9254%2028.844L46.4294%2028.184C45.3134%2027.812%2044.2214%2027.488%2043.1654%2027.224C43.6574%2026.864%2044.1134%2026.408%2044.5454%2025.844H46.5614V25.148H41.1254C41.3174%2024.896%2041.5214%2024.632%2041.7374%2024.344L40.9574%2024.116ZM42.2054%2026.984C41.4494%2026.792%2040.7054%2026.636%2039.9734%2026.516C40.1534%2026.324%2040.3574%2026.096%2040.5734%2025.844H43.6214C43.2614%2026.276%2042.7814%2026.648%2042.2054%2026.984ZM46.5974%2023.144H42.2414C42.0974%2022.784%2041.9534%2022.448%2041.7854%2022.148L40.8854%2022.292C41.0654%2022.556%2041.2334%2022.832%2041.3894%2023.144H36.9494V24.836H37.7654V23.876H45.7814V24.836H46.5974V23.144ZM36.6374%2029.336V30.104H40.5854C39.8414%2030.872%2038.4734%2031.556%2036.4814%2032.156L36.9614%2032.924C39.1214%2032.132%2040.5854%2031.196%2041.3534%2030.116V33.176H42.2414V30.152C43.1294%2031.256%2044.6174%2032.156%2046.7054%2032.84L47.0774%2032.084C45.2414%2031.592%2043.8854%2030.932%2043.0214%2030.104H46.9214V29.336H42.2414V28.4H41.3534V29.336H36.6374Z'%20fill='white'/%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42985'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(9%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ws={class:"float-icon-setting"},bs={class:"form-box"},ks={class:"form-item"},Cs={class:"form-content"},$s={class:"display-types"},As={class:"type-icon"},Ss=["src"],xs={key:1,class:"display-type"},Es={class:"type-icon"},Is={class:"type-name"},Bs={key:0,class:"form-item"},Rs={class:"form-content"},Ps={class:"form-item"},Ts={class:"form-content"},Ms={class:"number-input"},Ns={class:"form-item"},Us={class:"form-content"},Ls={class:"number-input"},Ds={class:"form-item"},qs={class:"form-content"},Fs={class:"form-item"},Os={class:"form-content"},Vs={class:"form-item"},js={class:"form-content"},Hs={__name:"float-icon-setting",props:{saveLoading:{type:Boolean,default:!1},form:{type:Object,default:()=>{}}},emits:["save"],setup(c,{expose:l,emit:i}){const n=c,e=i,t=ce({displayType:1,buttonText:"快来聊聊吧~",buttonIcon:"",bottomMargin:32,rightMargin:32,showUnreadCount:1,showNewMessageTip:1}),o=f=>{t.displayType=f},d=ve(()=>t.buttonIcon?t.displayType==3:!0),a=f=>{let v=f[0];o(3),Fn({file:v,category:"icon"}).then(w=>{t.buttonIcon=w.data.link})},_=()=>{t.rightMargin,(t.rightMargin==""||t.rightMargin==null)&&(t.rightMargin=0),(t.bottomMargin==""||t.rightMargin==null)&&(t.bottomMargin=0),e("save",he(t))};return Ie(()=>n.form,f=>{Object.assign(t,f.floatBtn)},{immediate:!0}),l({handleSubmit:_}),(f,v)=>{const w=ye,k=Ot,T=Mn,L=_e;return q(),X(Be,{title:"悬浮图标设置"},{icon:g(()=>[u(ne(yo),{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),default:g(()=>[r("div",ws,[j(ae(n.title)+" ",1),r("div",bs,[r("div",ks,[v[11]||(v[11]=r("div",{class:"form-item-label"},"展示形式：",-1)),r("div",Cs,[r("div",$s,[r("div",{class:at(["display-type",{"is-checked":t.displayType==1}]),onClick:v[0]||(v[0]=A=>o(1))},v[8]||(v[8]=[r("div",{class:"type-icon"},[r("img",{src:vs,alt:""})],-1),r("div",{class:"type-name"},"简洁",-1)]),2),r("div",{class:at(["display-type",{"is-checked":t.displayType==2}]),onClick:v[1]||(v[1]=A=>o(2))},v[9]||(v[9]=[r("div",{class:"type-icon"},[r("img",{src:ys,alt:""})],-1),r("div",{class:"type-name"},"加文案",-1)]),2),t.buttonIcon?(q(),G("div",{key:0,class:at(["display-type",{"is-checked":t.displayType==3}]),onClick:v[2]||(v[2]=A=>o(3))},[r("div",As,[r("img",{src:t.buttonIcon,alt:"",title:""},null,8,Ss)]),v[10]||(v[10]=r("div",{class:"type-name"},"自定义",-1))],2)):ee("",!0),d.value?(q(),G("div",xs,[u(On,{onChange:a},{default:g(()=>[r("div",Es,[u(ne(Vt),{style:{"font-size":"20px"}})])]),_:1}),r("div",Is,ae(t.buttonIcon?"上传图片":"自定义"),1)])):ee("",!0)])])]),t.displayType==2?(q(),G("div",Bs,[v[12]||(v[12]=r("div",{class:"form-item-label"},"按钮文案：",-1)),r("div",Rs,[u(w,{placeholder:"请输入按钮文案",maxlength:15,style:{width:"315px"},value:t.buttonText,"onUpdate:value":v[3]||(v[3]=A=>t.buttonText=A)},null,8,["value"])])])):ee("",!0),r("div",Ps,[v[14]||(v[14]=r("div",{class:"form-item-label"},"底边距：",-1)),r("div",Ts,[r("div",Ms,[u(k,{class:"input",value:t.bottomMargin,"onUpdate:value":v[4]||(v[4]=A=>t.bottomMargin=A)},null,8,["value"]),v[13]||(v[13]=r("span",{class:"unit"},"PX",-1))])])]),r("div",Ns,[v[16]||(v[16]=r("div",{class:"form-item-label"},"右边距：",-1)),r("div",Us,[r("div",Ls,[u(k,{class:"input",value:t.rightMargin,"onUpdate:value":v[5]||(v[5]=A=>t.rightMargin=A)},null,8,["value"]),v[15]||(v[15]=r("span",{class:"unit"},"PX",-1))])])]),r("div",Ds,[v[17]||(v[17]=r("div",{class:"form-item-label"},"显示未读消息数：",-1)),r("div",qs,[u(T,{checked:t.showUnreadCount,"onUpdate:checked":v[6]||(v[6]=A=>t.showUnreadCount=A),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),r("div",Fs,[v[18]||(v[18]=r("div",{class:"form-item-label"},"显示新消息提示：",-1)),r("div",Os,[u(T,{checked:t.showNewMessageTip,"onUpdate:checked":v[7]||(v[7]=A=>t.showNewMessageTip=A),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),r("div",Vs,[v[20]||(v[20]=r("div",{class:"form-item-label"},null,-1)),r("div",js,[u(L,{type:"primary",loading:n.saveLoading,onClick:_},{default:g(()=>v[19]||(v[19]=[j("保存")])),_:1,__:[19]},8,["loading"])])])])])]),_:1})}}},zs=se(Hs,[["__scopeId","data-v-a4615484"]]),Ks={class:"web-app-box"},Ws={class:"box-left"},Js={class:"box-wrapper"},Gs={class:"web-app-style form-box"},Qs={class:"window-size-box"},Ys={class:"box-wrapper"},Xs={class:"sdk-code"},Zs={class:"box-wrapper"},ei={class:"box-wrapper"},ti={class:"box-right"},ni={class:"demo-box"},oi=["src"],ai={__name:"embed-website",setup(c){const l=Ke(),{robotInfo:i,external_config_pc:n}=ze(l),{getRobot:e}=l,t=cs(i.value),o=()=>{Pe(t),oe.success("复制成功")},d=W(),a=ce({headTitle:n.value.headTitle,headSubTitle:n.value.headSubTitle,headImage:n.value.headImage,lang:n.value.lang,pageStyle:n.value.pageStyle,floatBtn:n.value.floatBtn,open_type:n.value.open_type,window_width:n.value.window_width,window_height:n.value.window_height}),_=ve(()=>{let{pc_domain:A,robot_key:C}=i.value;return`${A}/web/#/chat?robot_key=${C}&language=zh-CN`});Ie(a,A=>{v(A)});const f=A=>{v(A,"updataQuickComand")},v=(A,C)=>{document.getElementById("web-preview").contentWindow.postMessage({type:C||"onPreview",data:JSON.parse(JSON.stringify(A))},"*")},w={lang:[{required:!0,message:"请选择语言",trigger:"change"}],headTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>a.headImage?Promise.resolve():Promise.reject("请上传logo")}],pageStyle:{headBackgroundColor:[{required:!0,message:"请选择颜色",trigger:"change"}]}},k=()=>{const{id:A}=i.value;a.window_width=+a.window_width||1200,a.window_height=+a.window_height||650;let C={...he(a)};Dn({id:A,external_config_pc:JSON.stringify(C)}).then(()=>{e(A),oe.success("保存成功")})},T=()=>{d.value.validate().then(()=>{k()}).catch(A=>{})},L=A=>{a.floatBtn={...A},T()};return(A,C)=>{const H=Mt,U=_e,b=ke,x=Lt,S=qt,O=Dt,N=Ut,D=Pt("QuestionCircleOutlined"),B=Un,p=Nt,F=Ot,M=Ft,J=Ln,te=me;return q(),G("div",Ks,[r("div",Ws,[r("div",Js,[u(Be,{title:"样式设置"},{icon:g(()=>[u(H,{name:"pc",style:{"font-size":"16px",color:"#262626"}})]),action:g(()=>[u(U,{onClick:T,size:"small",type:"primary"},{default:g(()=>C[8]||(C[8]=[j("保存")])),_:1,__:[8]})]),default:g(()=>[r("div",Gs,[u(te,{ref_key:"formRef",ref:d,layout:"vertical",model:a,rules:w},{default:g(()=>[u(b,{class:"form-item",label:"页面标题",name:"headTitle"},{default:g(()=>[u(Ne,{avatar:a.headImage,"onUpdate:avatar":C[0]||(C[0]=R=>a.headImage=R),value:a.headTitle,"onUpdate:value":C[1]||(C[1]=R=>a.headTitle=R)},null,8,["avatar","value"])]),_:1}),u(b,{class:"form-item",label:"简介",name:"headSubTitle"},{default:g(()=>[u(x,{value:a.headSubTitle,"onUpdate:value":C[2]||(C[2]=R=>a.headSubTitle=R),placeholder:"简介将展示在客户端，不超过100个字符"},null,8,["value"])]),_:1}),u(b,{class:"form-item",label:"颜色",name:["pageStyle","headBackgroundColor"]},{default:g(()=>[u(gs,{value:a.pageStyle.headBackgroundColor,"onUpdate:value":C[3]||(C[3]=R=>a.pageStyle.headBackgroundColor=R)},null,8,["value"])]),_:1}),u(b,{class:"form-item",label:"语言",name:"lang"},{default:g(()=>[u(O,{style:{width:"180px"},value:a.lang,"onUpdate:value":C[4]||(C[4]=R=>a.lang=R),placeholder:"请选择语言"},{default:g(()=>[u(S,{value:"zh-CN"},{default:g(()=>C[9]||(C[9]=[j("简体中文")])),_:1,__:[9]}),u(S,{value:"en-US"},{default:g(()=>C[10]||(C[10]=[j("English")])),_:1,__:[10]})]),_:1},8,["value"])]),_:1}),u(b,{class:"form-item",label:"网址打开方式",name:"open_type",required:""},{default:g(()=>[u(p,{value:a.open_type,"onUpdate:value":C[5]||(C[5]=R=>a.open_type=R)},{default:g(()=>[u(N,{value:1},{default:g(()=>C[11]||(C[11]=[j("新标签页打开")])),_:1,__:[11]}),u(N,{value:2},{default:g(()=>[C[13]||(C[13]=j("新窗口弹窗打开 ")),u(B,{title:"仅管控PC端新窗口打开,移动端依然用新标签页打开"},{title:g(()=>C[12]||(C[12]=[j("prompt text")])),default:g(()=>[u(D)]),_:1})]),_:1,__:[13]})]),_:1},8,["value"]),a.open_type==2?(q(),X(J,{key:0},{default:g(()=>[r("div",Qs,[u(M,{align:"center",gap:8},{default:g(()=>[C[14]||(C[14]=r("div",null,"弹窗高度",-1)),u(F,{value:a.window_height,"onUpdate:value":C[6]||(C[6]=R=>a.window_height=R),min:500,max:2e3},null,8,["value"]),C[15]||(C[15]=j(" PX "))]),_:1,__:[14,15]}),u(M,{align:"center",gap:8},{default:g(()=>[C[16]||(C[16]=r("div",null,"弹窗宽度",-1)),u(F,{value:a.window_width,"onUpdate:value":C[7]||(C[7]=R=>a.window_width=R),min:500,max:2e3},null,8,["value"]),C[17]||(C[17]=j(" PX "))]),_:1,__:[16,17]})])]),_:1})):ee("",!0)]),_:1})]),_:1},8,["model"])])]),_:1})]),r("div",Ys,[u(Be,{title:"将以下代码复制到网站代码的< /body>标签之前"},{icon:g(()=>[u(H,{name:"sdk",style:{"font-size":"16px",color:"#262626"}})]),action:g(()=>[u(U,{onClick:o,size:"small"},{default:g(()=>C[18]||(C[18]=[j("复制")])),_:1,__:[18]})]),default:g(()=>[r("div",Xs,[r("pre",null,[r("code",null,ae(ne(t)),1)])])]),_:1})]),r("div",Zs,[u(Jn,{type:ne(i).app_id_embed,onUpdata:f},null,8,["type"])]),r("div",ei,[u(zs,{form:a,onSave:L},null,8,["form"])])]),r("div",ti,[r("div",ni,[r("iframe",{id:"web-preview",src:_.value,frameborder:"0"},null,8,oi)])])])}}},si=se(ai,[["__scopeId","data-v-865c21d8"]]),ii={class:"wechat-app-item"},ri={class:"item-body"},li=["src"],ci={class:"app-info"},ui={class:"app-name"},di={class:"app-desc"},pi={class:"ext-info-list"},_i={class:"ext-content"},fi={class:"ext-info-list"},hi={key:0,class:"status-block status-success"},mi={class:"status-block status-warning"},gi={class:"btn-wrapper-box"},vi={__name:"wechat-app-item",props:{item:{type:Object,default:()=>({})},app_type:{type:String,default:""},showMenu:{type:Array,default:["edit","del"]}},emits:["edit","delete","refresh"],setup(c,{emit:l}){const i=l,n=["mini_program","official_account"],e=c;function t(){i("edit",{...e.item})}function o(){i("delete",{...e.item})}function d(){i("refresh",{...e.item})}return(a,_)=>{const f=Ft,v=Co,w=Tn,k=$o;return q(),G("div",ii,[r("div",ri,[r("img",{class:"app-avatar",src:c.item.app_avatar,alt:""},null,8,li),r("div",ci,[r("div",ui,ae(c.item.app_name),1),r("div",di,"Appid："+ae(c.item.app_id),1)])]),n.includes(e.app_type)?(q(),G(pe,{key:0},[r("div",pi,[r("div",_i,ae(c.item.wechat_reply_type),1)]),r("div",fi,[c.item.account_is_verify=="true"?(q(),G("div",hi,[u(ne(wo)),_[0]||(_[0]=j(" 已认证 "))])):(q(),X(f,{key:1,gap:8},{default:g(()=>[r("div",mi,[u(ne(bo)),_[1]||(_[1]=j(" 未认证 "))]),r("a",{onClick:d},"刷新状态")]),_:1}))])],64)):ee("",!0),c.showMenu&&c.showMenu.length?(q(),X(k,{key:1},{overlay:g(()=>[u(w,null,{default:g(()=>[c.showMenu.includes("edit")?(q(),X(v,{key:0,onClick:t},{default:g(()=>_[2]||(_[2]=[r("a",null,"编 辑",-1)])),_:1,__:[2]})):ee("",!0),c.showMenu.includes("del")?(q(),X(v,{key:1,onClick:o},{default:g(()=>_[3]||(_[3]=[r("a",{style:{color:"#fb363f"}},"删 除",-1)])),_:1,__:[3]})):ee("",!0)]),_:1})]),default:g(()=>[r("div",gi,[u(ne(ko))])]),_:1})):ee("",!0)])}}},Fe=se(vi,[["__scopeId","data-v-663452b6"]]),yi={class:"form-content-box"},wi={class:"left-box"},bi={class:"form-body"},ki={class:"footer-box"},It=`正在思考中，请稍后点击下方蓝字\r
获取回复👇👇👇`,Bt="👉👉点我获取回复👈👈",Rt="内容较多，点此查看下文",Ci={__name:"add-unverified-alert",emits:["ok"],setup(c,{expose:l,emit:i}){const n=i,{robotInfo:e,getRobot:t}=ge("robotInfo"),o=W(!1),d=W(),a=ce({id:e.id,wechat_not_verify_hand_get_reply:It,wechat_not_verify_hand_get_word:Bt,wechat_not_verify_hand_get_next:Rt}),_=()=>{a.wechat_not_verify_hand_get_reply=a.wechat_not_verify_hand_get_reply||It,a.wechat_not_verify_hand_get_word=a.wechat_not_verify_hand_get_word||Bt,a.wechat_not_verify_hand_get_next=a.wechat_not_verify_hand_get_next||Rt,d.value.clearValidate()},f={wechat_not_verify_hand_get_reply:[{required:!0,message:"请输入手动获取回复提示语",trigger:"change"}],wechat_not_verify_hand_get_word:[{required:!0,message:"请输入手动获取回复蓝字文案",trigger:"change"}],wechat_not_verify_hand_get_next:[{required:!0,message:"请输入内容超500字截断，获取下文蓝字文案",trigger:"change"}]},v=()=>{let L={...he(a)};To(L).then(A=>{oe.success("保存成功"),k(),t(e.id),n("ok")})},w=()=>{d.value.validate().then(()=>{v()}).catch(L=>{})},k=()=>{d.value.clearValidate(),d.value.resetFields(),o.value=!1};return l({open:()=>{a.wechat_not_verify_hand_get_reply=e.wechat_not_verify_hand_get_reply||It,a.wechat_not_verify_hand_get_word=e.wechat_not_verify_hand_get_word||Bt,a.wechat_not_verify_hand_get_next=e.wechat_not_verify_hand_get_next||Rt,o.value=!0}}),(L,A)=>{const C=we,H=Lt,U=ke,b=ye,x=me,S=_e,O=ue;return q(),X(O,{width:749,open:o.value,"onUpdate:open":A[3]||(A[3]=N=>o.value=N),title:null,wrapClassName:"remove-model-padding",footer:null},{default:g(()=>[r("div",yi,[r("div",wi,[r("div",bi,[A[4]||(A[4]=r("div",{class:"model-title"},"未认证公众号回复设置",-1)),u(C,{class:"zm-alert-info",message:"由于微信接口限制,未认证公众号只能在用户提问后立即回复答案。若答案生成较慢,系统将提示用户手动获取回复",type:"info"}),u(x,{style:{"margin-top":"24px"},ref_key:"formRef",ref:d,layout:"vertical",model:a,rules:f},{default:g(()=>[u(U,{label:"手动获取回复提示语",name:"wechat_not_verify_hand_get_reply"},{default:g(()=>[u(H,{value:a.wechat_not_verify_hand_get_reply,"onUpdate:value":A[0]||(A[0]=N=>a.wechat_not_verify_hand_get_reply=N),placeholder:"请输入",maxLength:100,onBlur:_,"auto-size":{minRows:3,maxRows:3}},null,8,["value"])]),_:1}),u(U,{label:"手动获取回复蓝字文案",name:"wechat_not_verify_hand_get_word"},{default:g(()=>[u(b,{maxLength:100,onBlur:_,value:a.wechat_not_verify_hand_get_word,"onUpdate:value":A[1]||(A[1]=N=>a.wechat_not_verify_hand_get_word=N),placeholder:"请输入"},null,8,["value"])]),_:1}),u(U,{label:"内容超500字截断，获取下文蓝字文案",name:"wechat_not_verify_hand_get_next"},{default:g(()=>[u(b,{maxLength:100,onBlur:_,value:a.wechat_not_verify_hand_get_next,"onUpdate:value":A[2]||(A[2]=N=>a.wechat_not_verify_hand_get_next=N),placeholder:"请输入"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),r("div",ki,[u(S,{onClick:k},{default:g(()=>A[5]||(A[5]=[j("取 消")])),_:1,__:[5]}),u(S,{type:"primary",onClick:w},{default:g(()=>A[6]||(A[6]=[j("确 定")])),_:1,__:[6]})])]),A[7]||(A[7]=r("div",{class:"preview-box"},[r("img",{src:"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/wechat-app/guide1.png",alt:""})],-1))])]),_:1},8,["open"])}}},$i=se(Ci,[["__scopeId","data-v-9f9ceef9"]]),Ai={__name:"demo-preview-modal",setup(c,{expose:l}){const i=W(!1);return l({show:()=>{i.value=!0}}),(e,t)=>{const o=ue;return q(),G("div",null,[u(o,{open:i.value,"onUpdate:open":t[0]||(t[0]=d=>i.value=d),width:746,title:"未认证公众号回复效果示例",footer:null},{default:g(()=>t[1]||(t[1]=[r("div",{class:"content-block"},[r("div",{class:"img-wrapper-box"},[r("div",{class:"title"},"用户咨询自动回复效果示例"),r("img",{src:"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/wechat-app/guide1.png",alt:""})]),r("div",{class:"img-wrapper-box"},[r("div",{class:"title"},"回复内容超长自动分段效果示例"),r("img",{src:"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/wechat-app/guide2.png",alt:""})])],-1)])),_:1,__:[1]},8,["open"])])}}},Si=se(Ai,[["__scopeId","data-v-dc6850a3"]]),xi={class:"action-box"},Ei={class:"wechat-app-list"},Ii={class:"item-body"},Bi=["src"],Ri={class:"app-info"},Pi={class:"app-name"},Ti={class:"app-desc"},Mi={class:"ext-info-list"},Ni={key:0,class:"status-block status-success"},Ui={key:1,class:"status-block status-warning"},Li={__name:"select-wechat-app",emits:["change"],setup(c,{expose:l,emit:i}){const n=i,e=Pn(),t=fo(),o=W(!1),d=W(!1),a=W(!1),_=W({}),f=W([]);ve(()=>{let{role_permission:L,role_type:A}=t;return A==1||L.includes("OfficialAccountMange")});function v(L,A){_.value=L,w(A),o.value=!0}function w(L){L=Array.isArray(L)?L:[],d.value=!0,Me({app_type:"official_account",app_name:""}).then(A=>{let C=A.data||[];C.forEach(H=>{H.checked=L.includes(H.app_id)}),f.value=C}).finally(()=>{d.value=!1})}function k(){a.value=!0;let L=f.value.filter(C=>C.checked),A=L.map(C=>C.app_id).toString();qn({robot_id:_.value.id,app_id_list:A}).then(()=>{o.value=!1,n("change",L,A)}).finally(()=>{a.value=!1})}function T(){const L=e.resolve({path:"/user/official-account"});window.open(L.href,"_blank")}return l({open:v}),(L,A)=>{const C=_e,H=Pt("CheckCircleFilled"),U=Pt("ExclamationCircleFilled"),b=Ao,x=ue;return q(),X(x,{open:o.value,"onUpdate:open":A[0]||(A[0]=S=>o.value=S),title:"关联公众号","confirm-loading":a.value,width:"626px",onOk:k},{default:g(()=>[d.value?(q(),X(Vn,{key:0,style:{margin:"10vh 0"}})):f.value.length?(q(),G(pe,{key:1},[r("div",xi,[u(C,{type:"primary",ghost:"",icon:He(ne(Vt)),onClick:T},{default:g(()=>A[1]||(A[1]=[j("添加公众号")])),_:1,__:[1]},8,["icon"])]),r("div",Ei,[(q(!0),G(pe,null,Ce(f.value,S=>(q(),G("div",{key:S.id,class:"wechat-app-item"},[r("div",Ii,[r("img",{class:"app-avatar",src:S.app_avatar,alt:""},null,8,Bi),r("div",Ri,[r("div",Pi,ae(S.app_name),1),r("div",Ti,"Appid："+ae(S.app_id),1)])]),r("div",Mi,[S.account_is_verify=="true"?(q(),G("div",Ni,[u(H),A[2]||(A[2]=j(" 已认证 "))])):(q(),G("div",Ui,[u(U),A[3]||(A[3]=j(" 未认证 "))])),u(b,{checked:S.checked,"onUpdate:checked":O=>S.checked=O},null,8,["checked","onUpdate:checked"])])]))),128))])],64)):(q(),X(jn,{key:2,title:"暂未绑定公众号"},{desc:g(()=>[u(C,{type:"primary",onClick:T},{default:g(()=>A[4]||(A[4]=[j("绑定公众号")])),_:1,__:[4]})]),_:1}))]),_:1},8,["open","confirm-loading"])}}},Di=se(Li,[["__scopeId","data-v-9bf110ee"]]),qi={class:"add-btn-block"},Fi={class:"wechat-app-list"},Oi={__name:"wechat-official-account",setup(c){const{robotInfo:l}=ge("robotInfo"),i=W(),n=W(!0),e=W([]);Re(()=>{t()});const t=()=>{Me({robot_id:l.id,app_type:"official_account",app_name:""}).then(k=>{e.value=k.data}).finally(()=>{n.value=!1})},o=()=>{i.value.open(l,e.value.map(k=>k.app_id))},d=k=>{jt({id:k.id}).then(()=>{oe.success("刷新成功"),t()})},a=k=>{ue.confirm({title:`确定移除${k.app_name}吗?`,icon:u(Te),content:"移除后，机器人无法继续回复用户消息。",okText:"确定",cancelText:"取消",onOk(){let L=e.value.filter(A=>A.app_id!=k.app_id).map(A=>A.app_id).toString();qn({robot_id:l.id,app_id_list:L}).then(()=>{t(),oe.success("删除成功")})}})},_=W(null),f=()=>{_.value.open()},v=W(null),w=()=>{v.value.show()};return(k,T)=>{const L=we,A=_e;return q(),G("div",null,[u(L,{banner:""},{message:g(()=>[T[0]||(T[0]=j(" 支持接入未认证公众号，")),r("a",{onClick:w},"查看效果示例")]),_:1}),n.value?(q(),X(Vn,{key:0})):e.value.length?(q(),G(pe,{key:1},[r("div",qi,[u(A,{onClick:o,type:"primary"},{default:g(()=>T[1]||(T[1]=[j("关联公众号")])),_:1,__:[1]}),u(A,{onClick:f,icon:u(ne(So))},{default:g(()=>T[2]||(T[2]=[j("未认证公众号回复设置")])),_:1,__:[2]},8,["icon"])]),r("div",Fi,[(q(!0),G(pe,null,Ce(e.value,C=>(q(),X(Fe,{key:C.id,item:C,showMenu:["del"],app_type:"official_account",onDelete:a,onRefresh:d},null,8,["item"]))),128))])],64)):(q(),X(jn,{key:2,style:{"margin-top":"20vh"},title:"暂未关联公众号"},{desc:g(()=>[u(A,{onClick:o,type:"primary"},{default:g(()=>T[3]||(T[3]=[j("关联公众号")])),_:1,__:[3]})]),_:1})),u(Di,{ref_key:"selectAppRef",ref:i,onChange:t},null,512),u($i,{ref_key:"addUnverifiedAlertRef",ref:_},null,512),u(Si,{ref_key:"demoPreviewModalRef",ref:v},null,512)])}}},Vi=se(Oi,[["__scopeId","data-v-40e4fd10"]]),ji={class:"add-label"},Hi={__name:"add-wechat-app",props:{label:{type:String,default:""}},emits:["click"],setup(c,{emit:l}){const i=l,n=c,e=()=>{i("click")};return(t,o)=>(q(),G("div",{class:"add-wechat-app",onClick:e},[u(ne(Vt),{class:"add-icon"}),r("span",ji,ae(n.label),1)]))}},Ge=se(Hi,[["__scopeId","data-v-e5fa0910"]]),zi="/assets/img/preview_02-5R4OUtDh.png",Ki="/assets/img/config_preview_02-D7tQWjG-.png",Wi={key:0,class:"add-wechat-app-alert"},Ji={class:"alert-body"},Gi={class:"form-box"},Qi={class:"my-ip"},Yi={class:"ip-text"},Xi={key:1,class:"add-wechat-app-alert"},Zi={class:"config-preview-box"},er={class:"config-items"},tr={class:"config-item"},nr={class:"config-value"},or={class:"config-item"},ar={class:"config-value"},sr={class:"config-item"},ir={class:"config-value"},En="/upload/default/mini_program_avatar.png",rr={__name:"add-wechat-mini-program-alert",emits:["ok"],setup(c,{expose:l,emit:i}){const n=i,{robotInfo:e}=ge("robotInfo"),t=W(!1),o=W(1),d=W(!1),a=W(),_=ce({id:void 0,robot_id:e.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:En,app_type:"mini_program"}),f={app_name:[{required:!0,message:"请输入您的公众号名称",trigger:"change"},{trigger:"change",validator:()=>_.app_avatar_url?Promise.resolve():Promise.reject("请上传公众号头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的AppSecret",trigger:"change"}]},v=ve(()=>{let x=_.id?"编辑微信小程序":"添加微信小程序",S=o.value==1?"-填写小程序开发信息":"-服务器配置";return x+S}),w=({file:x,url:S})=>{_.app_avatar=x,_.app_avatar_url=S},k=ce({push_aeskey:"",push_token:"",push_url:""}),T=()=>{let x={...he(_)};delete x.app_avatar_url,We(x).then(S=>{Object.assign(k,S.data),o.value=2,oe.success("保存成功"),n("ok")})},L=()=>{a.value.validate().then(()=>{T()}).catch(x=>{})},A=()=>{t.value=!1},C=()=>{a.value.clearValidate(),a.value.resetFields(),t.value=!1},H=x=>{Pe(x),oe.success("复制成功")},U=()=>{H(e.wechat_ip)};return l({open:x=>{x?(x.app_avatar_url=x.app_avatar,x.app_avatar=""):x={id:void 0,robot_id:e.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:En,app_type:"mini_program",wechat_ip:e.wechat_ip},o.value=1,Object.assign(_,x),t.value=!0}}),(x,S)=>{const O=_e,N=we,D=ke,B=ye,p=me,F=ue;return q(),X(F,{width:"1168px",open:t.value,"onUpdate:open":S[7]||(S[7]=M=>t.value=M),title:v.value,onCancel:C},{footer:g(()=>[o.value===1?(q(),X(O,{key:"back",onClick:C},{default:g(()=>S[8]||(S[8]=[j("取 消")])),_:1,__:[8]})):ee("",!0),o.value===1?(q(),X(O,{key:"submit",type:"primary",loading:d.value,onClick:L},{default:g(()=>S[9]||(S[9]=[j("保存并进入下一步")])),_:1,__:[9]},8,["loading"])):ee("",!0),o.value===2?(q(),X(O,{key:"submit",type:"primary",loading:d.value,onClick:A},{default:g(()=>S[10]||(S[10]=[j("已完成配置")])),_:1,__:[10]},8,["loading"])):ee("",!0)]),default:g(()=>[o.value===1?(q(),G("div",Wi,[u(N,{class:"tip-alert",message:"进入微信公众号后台（https://developers.weixin.qq.com/console/product），左上角“我的业务和服务”选择”小程序“后在【基础信息中】获取开发者信息",type:"info","show-icon":""}),r("div",Ji,[r("div",Gi,[u(p,{ref_key:"formRef",ref:a,layout:"vertical",model:_,rules:f},{default:g(()=>[u(D,{label:"小程序头像/名称",name:"app_name"},{default:g(()=>[u(Ne,{autoUpload:!1,avatar:_.app_avatar_url,"onUpdate:avatar":S[0]||(S[0]=M=>_.app_avatar_url=M),value:_.app_name,"onUpdate:value":S[1]||(S[1]=M=>_.app_name=M),valueModifiers:{trim:!0},placeholder:"请输入您的小程序名称",onChangeAvatar:w},null,8,["avatar","value"])]),_:1}),u(D,{label:"AppId",name:"app_id"},{default:g(()=>[u(B,{value:_.app_id,"onUpdate:value":S[2]||(S[2]=M=>_.app_id=M),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),u(D,{label:"AppSecret",name:"app_secret"},{default:g(()=>[u(B,{value:_.app_secret,"onUpdate:value":S[3]||(S[3]=M=>_.app_secret=M),valueModifiers:{trim:!0},placeholder:"请输入您的AppSecret"},null,8,["value"])]),_:1}),u(D,{label:"将以下IP添加到小程序IP白名单中，如未开启ip白名单保护可不添加",name:"wechat_ip",required:""},{default:g(()=>[r("div",Qi,[r("span",Yi,ae(ne(e).wechat_ip),1),r("a",{class:"copy-btn",onClick:U},"复 制")])]),_:1})]),_:1},8,["model"])]),S[11]||(S[11]=r("div",{class:"preview-box"},[r("img",{class:"preview-img",src:zi})],-1))])])):ee("",!0),o.value===2?(q(),G("div",Xi,[u(N,{class:"tip-alert",message:"进入微信公众号后台（https://developers.weixin.qq.com/console/product），在【基础信息-域名与消息推送配置-消息推送】中配置并启用服务器配置。请按照下图配置",type:"info","show-icon":""}),r("div",Zi,[r("div",er,[r("div",tr,[r("span",nr,ae(k.push_url),1),r("span",{class:"copy-btn",onClick:S[4]||(S[4]=M=>H(k.push_url))},"复制")]),r("div",or,[r("span",ar,ae(k.push_token),1),r("span",{class:"copy-btn",onClick:S[5]||(S[5]=M=>H(k.push_token))},"复制")]),r("div",sr,[r("span",ir,ae(k.push_aeskey),1),r("span",{class:"copy-btn",onClick:S[6]||(S[6]=M=>H(k.push_aeskey))},"复制")])]),S[12]||(S[12]=r("img",{class:"config-preview-img",src:Ki},null,-1))])])):ee("",!0)]),_:1},8,["open","title"])}}},lr=se(rr,[["__scopeId","data-v-69ff396c"]]),cr={class:""},ur={class:"wechat-app-list"},dr={__name:"wechat-mini-program",setup(c){const{robotInfo:l}=ge("robotInfo"),i=W(),n=W([]),e=()=>{Me({robot_id:l.id,app_type:"mini_program",app_name:""}).then(f=>{n.value=f.data})},t=()=>{i.value.open()},o=f=>{let v=3;const w=ue.confirm({title:`确定移除${f.app_name}吗?`,icon:u(Te),content:"移除后，机器人无法继续回复用户消息。",okText:v+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Je({id:f.id}).then(()=>{e(),oe.success("删除成功")})},onCancel(){}});let k=setInterval(()=>{v==1?(w.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(k),k=void 0):(v-=1,w.update({okText:v+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},d=f=>{f.wechat_ip=l.wechat_ip,i.value.open({...f})},a=f=>{jt({id:f.id}).then(()=>{oe.success("刷新成功"),e()})},_=()=>{e()};return Re(()=>{e()}),(f,v)=>(q(),G("div",cr,[r("div",ur,[u(Ge,{label:"绑定微信小程序",onClick:t}),(q(!0),G(pe,null,Ce(n.value,w=>(q(),X(Fe,{key:w.id,app_type:"mini_program",item:w,onEdit:d,onDelete:o,onRefresh:a},null,8,["item"]))),128))]),u(lr,{ref_key:"addAppAlertRef",ref:i,onOk:_},null,512)]))}},pr=se(dr,[["__scopeId","data-v-2a1a93ca"]]),_r="/assets/img/preview_03-DXz9-3qW.png",fr="/assets/img/config_preview_03-DN1fPWUm.png",hr={key:0,class:"add-wechat-app-alert"},mr={class:"alert-body"},gr={class:"form-box"},vr={key:1,class:"add-wechat-app-alert"},yr={class:"config-preview-box"},wr={class:"config-items"},br={class:"config-item"},kr={class:"config-value"},Cr={class:"config-item"},$r={class:"config-value"},Ar={class:"config-item"},Sr={class:"config-value"},In="/upload/default/wechat_kefu_avatar.png",xr={__name:"add-wechat-customer-service-alert",emits:["ok"],setup(c,{expose:l,emit:i}){const n=i,{robotInfo:e}=ge("robotInfo"),t=W(!1),o=W(1),d=W(!1),a=W(),_=ce({id:void 0,robot_id:e.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:In,app_type:"wechat_kefu"}),f={app_name:[{required:!0,message:"请输入您的公众号名称",trigger:"change"},{trigger:"change",validator:()=>_.app_avatar_url?Promise.resolve():Promise.reject("请上传公众号头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的AppSecret",trigger:"change"}]},v=ve(()=>{let U=_.id?"编辑微信客服":"添加微信客服",b=o.value==1?"-服务器配置":"-填写微信客服开发信息";return U+b}),w=({file:U,url:b})=>{_.app_avatar=U,_.app_avatar_url=b},k=ce({push_aeskey:"",push_token:"",push_url:""}),T=()=>{let U={...he(_)};delete U.app_avatar_url,We(U).then(b=>{Object.assign(k,b.data),o.value=2,oe.success("保存成功"),n("ok"),t.value=!1})},L=()=>{a.value.validate().then(()=>{T()}).catch(U=>{})},A=()=>{a.value&&(a.value.clearValidate(),a.value.resetFields()),t.value=!1},C=U=>{Pe(U),oe.success("复制成功")};return l({open:U=>{U?(U.app_avatar_url=U.app_avatar,U.app_avatar=""):U={id:void 0,robot_id:e.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:In,app_type:"wechat_kefu",wechat_ip:e.wechat_ip},o.value=1,Object.assign(_,U),t.value=!0}}),(U,b)=>{const x=_e,S=we,O=ke,N=ye,D=me,B=ue;return q(),X(B,{width:"1168px",open:t.value,"onUpdate:open":b[8]||(b[8]=p=>t.value=p),title:v.value,onCancel:A},{footer:g(()=>[u(x,{key:"back",onClick:A},{default:g(()=>b[9]||(b[9]=[j("取 消")])),_:1,__:[9]}),o.value===1?(q(),X(x,{key:"submit",type:"primary",loading:d.value,onClick:b[0]||(b[0]=p=>o.value=2)},{default:g(()=>b[10]||(b[10]=[j("保存并进入下一步")])),_:1,__:[10]},8,["loading"])):ee("",!0),o.value===2?(q(),X(x,{key:"submit",type:"primary",loading:d.value,onClick:L},{default:g(()=>b[11]||(b[11]=[j("已完成配置")])),_:1,__:[11]},8,["loading"])):ee("",!0)]),default:g(()=>[o.value===2?(q(),G("div",hr,[u(S,{class:"tip-alert",message:"进入微信客服后台（kf.weixin.qq.com），在【开发配置】中启用企业内部接入后获取开发者信息",type:"info","show-icon":""}),r("div",mr,[r("div",gr,[u(D,{ref_key:"formRef",ref:a,layout:"vertical",model:_,rules:f},{default:g(()=>[u(O,{label:"企业头像/名称",name:"app_name"},{default:g(()=>[u(Ne,{autoUpload:!1,avatar:_.app_avatar_url,"onUpdate:avatar":b[1]||(b[1]=p=>_.app_avatar_url=p),value:_.app_name,"onUpdate:value":b[2]||(b[2]=p=>_.app_name=p),valueModifiers:{trim:!0},placeholder:"请输入您的企业名称",onChangeAvatar:w},null,8,["avatar","value"])]),_:1}),u(O,{label:"企业id",name:"app_id"},{default:g(()=>[u(N,{value:_.app_id,"onUpdate:value":b[3]||(b[3]=p=>_.app_id=p),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),u(O,{label:"企业Secret",name:"app_secret"},{default:g(()=>[u(N,{value:_.app_secret,"onUpdate:value":b[4]||(b[4]=p=>_.app_secret=p),valueModifiers:{trim:!0},placeholder:"请输入您的AppSecret"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),b[12]||(b[12]=r("div",{class:"preview-box"},[r("img",{class:"preview-img",src:_r})],-1))])])):ee("",!0),o.value===1?(q(),G("div",vr,[u(S,{class:"tip-alert",message:"进入微信客服后台（kf.weixin.qq.com），在【开发配置】中启用企业内部接入。请按照下图配置",type:"info","show-icon":""}),r("div",yr,[r("div",wr,[r("div",br,[r("span",kr,ae(ne(e).push_wechat_kefu),1),r("span",{class:"copy-btn",onClick:b[5]||(b[5]=p=>C(ne(e).push_wechat_kefu))},"复制")]),r("div",Cr,[r("span",$r,ae(ne(e).push_token),1),r("span",{class:"copy-btn",onClick:b[6]||(b[6]=p=>C(ne(e).push_token))},"复制")]),r("div",Ar,[r("span",Sr,ae(ne(e).push_aeskey),1),r("span",{class:"copy-btn",onClick:b[7]||(b[7]=p=>C(ne(e).push_aeskey))},"复制")])]),b[13]||(b[13]=r("img",{class:"config-preview-img",src:fr},null,-1))])])):ee("",!0)]),_:1},8,["open","title"])}}},Er=se(xr,[["__scopeId","data-v-732d0ea4"]]),Ir={class:""},Br={class:"wechat-app-list"},Rr={__name:"wechat-customer-service",setup(c){const{robotInfo:l}=ge("robotInfo"),i=W(),n=W([]),e=()=>{Me({robot_id:l.id,app_type:"wechat_kefu",app_name:""}).then(f=>{n.value=f.data})},t=()=>{i.value.open()},o=f=>{let v=3;const w=ue.confirm({title:`确定移除${f.app_name}吗?`,icon:u(Te),content:"移除后，机器人无法继续回复用户消息。",okText:v+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Je({id:f.id}).then(()=>{e(),oe.success("删除成功")})},onCancel(){}});let k=setInterval(()=>{v==1?(w.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(k),k=void 0):(v-=1,w.update({okText:v+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},d=f=>{f.wechat_ip=l.wechat_ip,i.value.open({...f})},a=f=>{jt({id:f.id}).then(()=>{oe.success("刷新成功"),e()})},_=()=>{e()};return Re(()=>{e()}),(f,v)=>{const w=we;return q(),G("div",Ir,[u(w,{class:"tip-alert",message:"绑定微信客服，用户通过微信客服咨询时由机器人自动回复",type:"info","show-icon":""}),r("div",Br,[u(Ge,{label:"绑定微信客服",onClick:t}),(q(!0),G(pe,null,Ce(n.value,k=>(q(),X(Fe,{key:k.id,item:k,app_type:"wechat_kefu",onEdit:d,onDelete:o,onRefresh:a},null,8,["item"]))),128))]),u(Er,{ref_key:"addAppAlertRef",ref:i,onOk:_},null,512)])}}},Pr=se(Rr,[["__scopeId","data-v-f5702e86"]]),Tr="/assets/img/feishu-example01-B-07FRqg.png",Mr="/assets/img/feishu-example02-CpOIEbAr.png",Nr="/assets/img/feishu-example03--Ub5FK6L.png",Ur={key:0,class:"add-wechat-app-alert"},Lr={class:"alert-body"},Dr={class:"form-box"},qr={class:"preview-box"},Fr={key:1,class:"add-wechat-app-alert"},Or={class:"config-items"},Vr={class:"config-item"},jr={class:"config-value"},Hr="/upload/default/feishu_robot_avatar.png",zr={__name:"add-feishu-alert",emits:["ok"],setup(c,{expose:l,emit:i}){const n=i,{robotInfo:e}=ge("robotInfo"),t=W(!1),o=W(1),d=W(!1),a=W(),_={id:void 0,robot_id:e.id,app_type:"feishu_robot",app_avatar:"",app_avatar_url:Hr,app_name:"",app_id:"",app_secret:"",encrypt_key:"",verification_token:""},f=ce({}),v={app_name:[{required:!0,message:"请输入您的机器人名称",trigger:"change"},{trigger:"change",validator:()=>f.app_avatar_url?Promise.resolve():Promise.reject("请上传机器人头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的Api Secret",trigger:"change"}],encrypt_key:[{required:!0,message:"请输入您的Encrypt Key",trigger:"change"}],verification_token:[{required:!0,message:"请输入您的Verification Token",trigger:"change"}]},w=({file:b,url:x})=>{f.app_avatar=b,f.app_avatar_url=x},k=ce({push_aeskey:"",push_token:"",push_url:""}),T=()=>{let b={...he(f)};delete b.app_avatar_url,We(b).then(x=>{Object.assign(k,x.data),o.value=2,oe.success("保存成功"),n("ok")})},L=()=>{a.value.validate().then(()=>{T()}).catch(b=>{})},A=()=>{t.value=!1},C=()=>{a.value.clearValidate(),a.value.resetFields(),t.value=!1},H=b=>{Pe(b),oe.success("复制成功")};return l({open:b=>{b?(b.app_avatar_url=b.app_avatar,b.app_avatar=""):b=JSON.parse(JSON.stringify(_)),o.value=1,Object.assign(f,b),t.value=!0}}),(b,x)=>{const S=_e,O=we,N=ke,D=ye,B=me,p=xo,F=ue;return q(),X(F,{width:"1000px",open:t.value,"onUpdate:open":x[7]||(x[7]=M=>t.value=M),title:"配置飞书机器人",onCancel:C},{footer:g(()=>[o.value===1?(q(),X(S,{key:"back",onClick:C},{default:g(()=>x[8]||(x[8]=[j("取 消")])),_:1,__:[8]})):ee("",!0),o.value===1?(q(),X(S,{key:"submit",type:"primary",loading:d.value,onClick:L},{default:g(()=>x[9]||(x[9]=[j("保存并进入下一步 ")])),_:1,__:[9]},8,["loading"])):ee("",!0),o.value===2?(q(),X(S,{key:"submit",type:"primary",loading:d.value,onClick:A},{default:g(()=>x[10]||(x[10]=[j("已完成配置")])),_:1,__:[10]},8,["loading"])):ee("",!0)]),default:g(()=>[o.value===1?(q(),G("div",Ur,[u(O,{class:"tip-alert",type:"info","show-icon":""},{message:g(()=>x[11]||(x[11]=[r("div",null,[j("登录飞书开放后台，按照文档完成配置井发布应用 "),r("a",{href:"https://open.feishu.cn",target:"_blank"},"登录后台"),j("，"),r("a",{href:"https://www.yuque.com/zhimaxiaoshiwangluo/pggco1/cpoq2kmobhgap70p?singleDoc#",target:"_blank"},"如何配置？")],-1),r("div",null,"应用添加完成后，复制APPID 和API sercet,加密信息：Encrypt Key , Verification Token，填写到以下配置中",-1)])),_:1}),r("div",Lr,[r("div",Dr,[u(B,{ref_key:"formRef",ref:a,layout:"vertical",model:f,rules:v},{default:g(()=>[u(N,{label:"机器人头像/名称",name:"app_name"},{default:g(()=>[u(Ne,{autoUpload:!1,avatar:f.app_avatar_url,"onUpdate:avatar":x[0]||(x[0]=M=>f.app_avatar_url=M),value:f.app_name,"onUpdate:value":x[1]||(x[1]=M=>f.app_name=M),valueModifiers:{trim:!0},placeholder:"请输入您的机器人名称",onChangeAvatar:w},null,8,["avatar","value"])]),_:1}),u(N,{label:"APPID",name:"app_id"},{default:g(()=>[u(D,{value:f.app_id,"onUpdate:value":x[2]||(x[2]=M=>f.app_id=M),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),u(N,{label:"API Secret",name:"app_secret"},{default:g(()=>[u(D,{value:f.app_secret,"onUpdate:value":x[3]||(x[3]=M=>f.app_secret=M),valueModifiers:{trim:!0},placeholder:"请输入您的APP Secret"},null,8,["value"])]),_:1}),u(N,{label:"Encrypt Key",name:"encrypt_key"},{default:g(()=>[u(D,{value:f.encrypt_key,"onUpdate:value":x[4]||(x[4]=M=>f.encrypt_key=M),valueModifiers:{trim:!0},placeholder:"请输入您的Encrypt Key"},null,8,["value"])]),_:1}),u(N,{label:"Verification Token",name:"verification_token"},{default:g(()=>[u(D,{value:f.verification_token,"onUpdate:value":x[5]||(x[5]=M=>f.verification_token=M),valueModifiers:{trim:!0},placeholder:"请输入您的Verification Token"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),r("div",qr,[u(p,null,{default:g(()=>x[12]||(x[12]=[r("div",null,[r("img",{class:"preview-img",src:Tr})],-1),r("div",null,[r("img",{class:"preview-img",src:Mr})],-1)])),_:1,__:[12]})])])])):ee("",!0),o.value===2?(q(),G("div",Fr,[u(O,{class:"tip-alert",message:"复制以下htp地址到应用-事件与回调>订阅方式-选择梅事件发送开发者服务器的请求地址中",type:"info","show-icon":""}),r("div",Or,[r("div",Vr,[r("span",jr,ae(k.push_url),1),r("span",{class:"copy-btn",onClick:x[6]||(x[6]=M=>H(k.push_url))},"复制")])]),x[13]||(x[13]=r("div",{class:"config-preview-box"},[r("img",{class:"config-preview-img",src:Nr})],-1))])):ee("",!0)]),_:1},8,["open"])}}},Kr=se(zr,[["__scopeId","data-v-1a967884"]]),Wr={class:""},Jr={class:"wechat-app-list"},Gr={__name:"feishu-robot",setup(c){const{robotInfo:l}=ge("robotInfo"),i=W(),n=W([]),e=()=>{Me({robot_id:l.id,app_type:"feishu_robot",app_name:""}).then(_=>{n.value=_.data})},t=()=>{i.value.open()},o=_=>{let f=3;const v=ue.confirm({title:`确定移除${_.app_name}吗?`,icon:u(Te),content:"移除后，机器人无法继续回复用户消息。",okText:f+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Je({id:_.id}).then(()=>{e(),oe.success("删除成功")})},onCancel(){}});let w=setInterval(()=>{f==1?(v.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(w),w=void 0):(f-=1,v.update({okText:f+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},d=_=>{_.wechat_ip=l.wechat_ip,i.value.open({..._})},a=()=>{e()};return Re(()=>{e()}),(_,f)=>{const v=we;return q(),G("div",Wr,[u(v,{class:"tip-alert",type:"info","show-icon":""},{message:g(()=>f[0]||(f[0]=[j("绑定飞书智能机器人，员工可在飞书单聊或者群聊给飞书机器人发送消息时由机器人自动回复")])),_:1}),r("div",Jr,[u(Ge,{label:"绑定飞书智能机器人",onClick:t}),(q(!0),G(pe,null,Ce(n.value,w=>(q(),X(Fe,{key:w.id,item:w,onEdit:d,onDelete:o},null,8,["item"]))),128))]),u(Kr,{ref_key:"addAppAlertRef",ref:i,onOk:a},null,512)])}}},Qr=se(Gr,[["__scopeId","data-v-a5805f01"]]),Yr="/assets/img/ding-example01-DNWGJGuL.png",Xr="/assets/img/ding-example02-CveyoALn.png",Zr={key:0,class:"add-wechat-app-alert"},el={class:"alert-body"},tl={class:"form-box"},nl={key:1,class:"add-wechat-app-alert"},ol={class:"config-items"},al={class:"config-item"},sl={class:"config-value"},il="/upload/default/dingtalk_robot_avatar.png",rl={__name:"add-dingding-alert",emits:["ok"],setup(c,{expose:l,emit:i}){const n=i,{robotInfo:e}=ge("robotInfo"),t=W(!1),o=W(1),d=W(!1),a=W(),_={id:void 0,robot_id:e.id,app_type:"dingtalk_robot",app_avatar:"",app_avatar_url:il,app_name:"",app_id:"",app_secret:""},f=ce({}),v={app_name:[{required:!0,message:"请输入您的机器人名称",trigger:"change"},{trigger:"change",validator:()=>f.app_avatar_url?Promise.resolve():Promise.reject("请上传机器人头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的Api Secret",trigger:"change"}]},w=({file:b,url:x})=>{f.app_avatar=b,f.app_avatar_url=x},k=ce({push_aeskey:"",push_token:"",push_url:""}),T=()=>{let b={...he(f)};delete b.app_avatar_url,We(b).then(x=>{Object.assign(k,x.data),o.value=2,oe.success("保存成功"),n("ok")})},L=()=>{a.value.validate().then(()=>{T()}).catch(b=>{})},A=()=>{t.value=!1},C=()=>{a.value.clearValidate(),a.value.resetFields(),t.value=!1},H=b=>{Pe(b),oe.success("复制成功")};return l({open:b=>{b?(b.app_avatar_url=b.app_avatar,b.app_avatar=""):b=JSON.parse(JSON.stringify(_)),o.value=1,Object.assign(f,b),t.value=!0}}),(b,x)=>{const S=_e,O=we,N=ke,D=ye,B=me,p=ue;return q(),X(p,{width:"1000px",open:t.value,"onUpdate:open":x[5]||(x[5]=F=>t.value=F),title:"配置钉钉机器人",onCancel:C},{footer:g(()=>[o.value===1?(q(),X(S,{key:"back",onClick:C},{default:g(()=>x[6]||(x[6]=[j("取 消")])),_:1,__:[6]})):ee("",!0),o.value===1?(q(),X(S,{key:"submit",type:"primary",loading:d.value,onClick:L},{default:g(()=>x[7]||(x[7]=[j("保存并进入下一步 ")])),_:1,__:[7]},8,["loading"])):ee("",!0),o.value===2?(q(),X(S,{key:"submit",type:"primary",loading:d.value,onClick:A},{default:g(()=>x[8]||(x[8]=[j("已完成配置")])),_:1,__:[8]},8,["loading"])):ee("",!0)]),default:g(()=>[o.value===1?(q(),G("div",Zr,[u(O,{class:"tip-alert",type:"info","show-icon":""},{message:g(()=>x[9]||(x[9]=[r("div",null,[j("登录钉钉开放后台，按照文档完成配置井发布应用 "),r("a",{href:"https://open.dingtalk.com/",target:"_blank"},"登录后台"),j("，"),r("a",{href:"https://www.yuque.com/zhimaxiaoshiwangluo/pggco1/cou9iaitt0v2pe5v?singleDoc#",target:"_blank"},"如何配置？")],-1),r("div",null,"应用添加完成后，复制Client ID 和API Client Secret填写到以下配置中",-1)])),_:1}),r("div",el,[r("div",tl,[u(B,{ref_key:"formRef",ref:a,layout:"vertical",model:f,rules:v},{default:g(()=>[u(N,{label:"机器人头像/名称",name:"app_name"},{default:g(()=>[u(Ne,{autoUpload:!1,avatar:f.app_avatar_url,"onUpdate:avatar":x[0]||(x[0]=F=>f.app_avatar_url=F),value:f.app_name,"onUpdate:value":x[1]||(x[1]=F=>f.app_name=F),valueModifiers:{trim:!0},placeholder:"请输入您的机器人名称",onChangeAvatar:w},null,8,["avatar","value"])]),_:1}),u(N,{label:"Client ID",name:"app_id"},{default:g(()=>[u(D,{value:f.app_id,"onUpdate:value":x[2]||(x[2]=F=>f.app_id=F),valueModifiers:{trim:!0},placeholder:"请输入您的Client ID"},null,8,["value"])]),_:1}),u(N,{label:"Client Secret",name:"app_secret"},{default:g(()=>[u(D,{value:f.app_secret,"onUpdate:value":x[3]||(x[3]=F=>f.app_secret=F),valueModifiers:{trim:!0},placeholder:"请输入您的Client Secret"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),x[10]||(x[10]=r("div",{class:"preview-box"},[r("img",{class:"preview-img",src:Yr})],-1))])])):ee("",!0),o.value===2?(q(),G("div",nl,[u(O,{class:"tip-alert",message:"复制以下http地址，填写钉钉应用详情>应用能力>机器人配置中的消息接收模式-选择HTTP模式的消息接收地址",type:"info","show-icon":""}),r("div",ol,[r("div",al,[r("span",sl,ae(k.push_url),1),r("span",{class:"copy-btn",onClick:x[4]||(x[4]=F=>H(k.push_url))},"复制")])]),x[11]||(x[11]=r("div",{class:"config-preview-box"},[r("img",{class:"config-preview-img",src:Xr})],-1))])):ee("",!0)]),_:1},8,["open"])}}},ll=se(rl,[["__scopeId","data-v-22893492"]]),cl={class:""},ul={class:"wechat-app-list"},dl={__name:"dingding-robot",setup(c){const{robotInfo:l}=ge("robotInfo"),i=W(),n=W([]),e=()=>{Me({robot_id:l.id,app_type:"dingtalk_robot",app_name:""}).then(_=>{n.value=_.data})},t=()=>{i.value.open()},o=_=>{let f=3;const v=ue.confirm({title:`确定移除${_.app_name}吗?`,icon:u(Te),content:"移除后，机器人无法继续回复用户消息。",okText:f+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Je({id:_.id}).then(()=>{e(),oe.success("删除成功")})},onCancel(){}});let w=setInterval(()=>{f==1?(v.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(w),w=void 0):(f-=1,v.update({okText:f+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},d=_=>{_.wechat_ip=l.wechat_ip,i.value.open({..._})},a=()=>{e()};return Re(()=>{e()}),(_,f)=>{const v=we;return q(),G("div",cl,[u(v,{class:"tip-alert",type:"info","show-icon":""},{message:g(()=>f[0]||(f[0]=[j("绑定钉钉机器人后，客户通过单聊或者群聊和钉钉机器人聊天，可使用当前机器人回答的内容自动回复")])),_:1}),r("div",ul,[u(Ge,{label:"绑定钉钉机器人",onClick:t}),(q(!0),G(pe,null,Ce(n.value,w=>(q(),X(Fe,{key:w.id,item:w,onEdit:d,onDelete:o},null,8,["item"]))),128))]),u(ll,{ref_key:"addAppAlertRef",ref:i,onOk:a},null,512)])}}},pl=se(dl,[["__scopeId","data-v-b8c3d6d6"]]),_l={class:"external-services-page"},fl={class:"page-header"},hl={class:"page-body"},ml={class:"scroll-box"},Bn="/robot/config/external-services/activeKey",gl={__name:"index",setup(c){const l=Ke(),{robotInfo:i}=ze(l),{getRobot:n}=l,e={WebAPP:ls,EmbedWebsite:si,WeChatOfficialAccount:Vi,WeChatMiniProgram:pr,WeChatCustomerService:Pr,FeishuRobot:Qr,DingDingRobot:pl},t=W(localStorage.getItem(Bn)||"WebAPP"),o=d=>{t.value=d.id,localStorage.setItem(Bn,t.value)};return uo("robotInfo",{robotInfo:i.value,getRobot:n}),(d,a)=>(q(),G("div",_l,[r("div",fl,[u(Do,{onChange:o,value:t.value,"onUpdate:value":a[0]||(a[0]=_=>t.value=_)},null,8,["value"])]),r("div",hl,[r("div",ml,[(q(),X(po(e[t.value])))])])]))}},Pl=se(gl,[["__scopeId","data-v-b148fd84"]]);export{Pl as default};
