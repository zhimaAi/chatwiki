import{e as V,b as D}from"./index-p9HhDhmV.js";import{ag as P,r as u,E as m,a as U,b as q,y as l,t as n,m as f,u as o,p as A,v as E}from"./vue-chunks-BdaA73Wf.js";import{u as H}from"../../index-DSFcP5NQ.js";import{_ as O}from"./emoji-mart-BBMRoEa3.js";import{F as h,c as Z,I as z,V as G,M as R,b as N}from"./ui-antd-Dl1wwwCD.js";const e0="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2062%2062'%20class='design-iconfont'%3e%3cpath%20d='M0%2014.5882C0%206.53137%206.53137%200%2014.5882%200H47.4118C55.4686%200%2062%206.53137%2062%2014.5882V47.4118C62%2055.4686%2055.4686%2062%2047.4118%2062H14.5882C6.53137%2062%200%2055.4686%200%2047.4118V14.5882Z'%20fill='%234876FF'/%3e%3cg%20clip-path='url(%23yi8ty4pxs__clip0_7802_38770)'%20filter='url(%23yi8ty4pxs__filter0_d_7802_38770)'%3e%3cpath%20d='M30.4027%2033.1084C30.7927%2032.9941%2031.2073%2032.9941%2031.5973%2033.1084L46.079%2037.35C48.1159%2037.9466%2048.1159%2040.832%2046.079%2041.4286L31.5973%2045.6702C31.2073%2045.7844%2030.7927%2045.7844%2030.4027%2045.6702L15.921%2041.4286C13.8841%2040.832%2013.8841%2037.9466%2015.921%2037.35L30.4027%2033.1084Z'%20fill='%23C2D1FF'/%3e%3cpath%20d='M30.4027%2024.4677C30.7927%2024.3535%2031.2073%2024.3535%2031.5973%2024.4677L46.079%2028.7093C48.1159%2029.3059%2048.1159%2032.1914%2046.079%2032.788L31.5973%2037.0296C31.2073%2037.1438%2030.7927%2037.1438%2030.4027%2037.0296L15.921%2032.788C13.8841%2032.1914%2013.8841%2029.3059%2015.921%2028.7093L30.4027%2024.4677Z'%20fill='%23D6E0FF'/%3e%3cpath%20d='M30.4027%2016.3271C30.7927%2016.2129%2031.2073%2016.2129%2031.5973%2016.3271L46.079%2020.5687C48.1159%2021.1653%2048.1159%2024.0508%2046.079%2024.6474L31.5973%2028.889C31.2073%2029.0032%2030.7927%2029.0032%2030.4027%2028.889L15.921%2024.6474C13.8841%2024.0508%2013.8841%2021.1653%2015.921%2020.5687L30.4027%2016.3271Z'%20fill='%23EBF0FF'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='yi8ty4pxs__clip0_7802_38770'%3e%3cpath%20fill='%23fff'%20transform='translate(14%2014)'%20d='M0%200H34V34H0z'/%3e%3c/clipPath%3e%3cfilter%20id='yi8ty4pxs__filter0_d_7802_38770'%20x='9.75'%20y='14'%20width='42.5'%20height='42.5'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='4.25'/%3e%3cfeGaussianBlur%20stdDeviation='2.125'/%3e%3cfeColorMatrix%20values='0%200%200%200%200.0886636%200%200%200%200%200.388241%200%200%200%200%200.413084%200%200%200%200.14%200'/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_7802_38770'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_7802_38770'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",j={class:"add-data-sheet"},T={class:"form-tip"},$={__name:"add-data-sheet",emits:["ok"],setup(J,{expose:v,emit:g}){const{t}=H("views.database.database-list.components.add-data-sheet"),b=P(),x=g,r=u(!1),d=u("create_data_table"),e=m({name:"",description:"",id:""}),C=(s={})=>{r.value=!0,L(),e.name=s.name||"",e.description=s.description||"",e.id=s.id||"",d.value=s.id?"edit_data_table":"create_data_table"},F=m({name:[{required:!0,validator:async(s,a)=>/^[a-z][a-z0-9_]*$/.test(a)?Promise.resolve():Promise.reject(t("name_validation_error"))}],description:[{required:!0,message:t("description_required_error")}]}),y=h.useForm,{resetFields:L,validate:w,validateInfos:c}=y(e,F),B=()=>{w().then(s=>{e.id?V(e).then(()=>{_(t("edit_success"))}):D(e).then(a=>{_(t("create_success")),b.push({path:"/database/details/field-manage",query:{form_id:a.data.id}})})})};function _(s){N.success(s),r.value=!1,x("ok")}return v({show:C}),(s,a)=>{const k=z,p=Z,M=G,S=h,I=R;return q(),U("div",j,[l(I,{open:r.value,"onUpdate:open":a[2]||(a[2]=i=>r.value=i),title:o(t)(d.value),onOk:B,width:540},{default:n(()=>[l(S,{layout:"vertical"},{default:n(()=>[l(p,f({label:o(t)("data_table_name_label")},o(c).name),{default:n(()=>[l(k,{maxLength:64,value:e.name,"onUpdate:value":a[0]||(a[0]=i=>e.name=i),placeholder:o(t)("data_table_name_placeholder")},null,8,["value","placeholder"]),A("div",T,E(o(t)("data_table_name_tip")),1)]),_:1},16,["label"]),l(p,f({label:o(t)("data_table_description_label")},o(c).description),{default:n(()=>[l(M,{maxLength:500,style:{height:"80px"},value:e.description,"onUpdate:value":a[1]||(a[1]=i=>e.description=i),placeholder:o(t)("data_table_description_placeholder")},null,8,["value","placeholder"])]),_:1},16,["label"])]),_:1})]),_:1},8,["open","title"])])}}},t0=O($,[["__scopeId","data-v-0d10863d"]]);export{t0 as A,e0 as _};
//# sourceMappingURL=add-data-sheet-B3OukkAC.js.map
