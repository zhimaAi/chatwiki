import{bf as L,N as S,q as z,y as Q,t as k,G as xe,H as ge,J as Ce,bs as he,c3 as te}from"../../index-Bo1NSLpy.js";import{u as be,F as we,N as ne}from"./FormItemContext-Cv3f2sEj.js";import{B as ye,g as $e,u as Ie,a as J}from"./index-CuPJUS8f.js";import{b as _e,h as Z,a as U,i as Ne,f as oe,t as Se,r as se,c as Be}from"./inputProps--_pnbyjO.js";import{e as ee,d as X,j as d,s as D,w as ue,b as Y,q as ie,F as de,x as re,ah as Oe,o as Ae}from"./vue-chunks-BRsu9_To.js";const Fe=ee({name:"BaseInput",inheritAttrs:!1,props:_e(),setup(a,$){let{slots:l,attrs:n}=$;const i=X(),h=f=>{var u;if(!((u=i.value)===null||u===void 0)&&u.contains(f.target)){const{triggerFocus:g}=a;g==null||g()}},r=()=>{var f;const{allowClear:u,value:g,disabled:x,readonly:B,handleReset:O,suffix:F=l.suffix,prefixCls:I}=a;if(!u)return null;const b=!x&&!B&&g,c=`${I}-clear-icon`,_=((f=l.clearIcon)===null||f===void 0?void 0:f.call(l))||"*";return d("span",{onClick:O,onMousedown:C=>C.preventDefault(),class:S({[`${c}-hidden`]:!b,[`${c}-has-suffix`]:!!F},c),role:"button",tabindex:-1},[_])};return()=>{var f,u;const{focused:g,value:x,disabled:B,allowClear:O,readonly:F,hidden:I,prefixCls:b,prefix:c=(f=l.prefix)===null||f===void 0?void 0:f.call(l),suffix:_=(u=l.suffix)===null||u===void 0?void 0:u.call(l),addonAfter:C=l.addonAfter,addonBefore:A=l.addonBefore,inputElement:E,affixWrapperClassName:T,wrapperClassName:W,groupClassName:e}=a;let s=L(E,{value:x,hidden:I});if(Z({prefix:c,suffix:_,allowClear:O})){const o=`${b}-affix-wrapper`,v=S(o,{[`${o}-disabled`]:B,[`${o}-focused`]:g,[`${o}-readonly`]:F,[`${o}-input-with-clear-btn`]:_&&O&&x},!U({addonAfter:C,addonBefore:A})&&n.class,T),N=(_||O)&&d("span",{class:`${b}-suffix`},[r(),_]);s=d("span",{class:v,style:n.style,hidden:!U({addonAfter:C,addonBefore:A})&&I,onMousedown:h,ref:i},[c&&d("span",{class:`${b}-prefix`},[c]),L(E,{style:null,value:x,hidden:null}),N])}if(U({addonAfter:C,addonBefore:A})){const o=`${b}-group`,v=`${o}-addon`,N=S(`${b}-wrapper`,o,W),P=S(`${b}-group-wrapper`,n.class,e);return d("span",{class:P,style:n.style,hidden:I},[d("span",{class:N},[A&&d("span",{class:v},[A]),L(s,{style:null,hidden:null}),C&&d("span",{class:v},[C])])])}return s}}});var Pe=function(a,$){var l={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&$.indexOf(n)<0&&(l[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(a);i<n.length;i++)$.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(a,n[i])&&(l[n[i]]=a[n[i]]);return l};const je=ee({name:"VCInput",inheritAttrs:!1,props:Ne(),setup(a,$){let{slots:l,attrs:n,expose:i,emit:h}=$;const r=D(a.value===void 0?a.defaultValue:a.value),f=D(!1),u=D(),g=D();ue(()=>a.value,()=>{r.value=a.value}),ue(()=>a.disabled,()=>{a.disabled&&(f.value=!1)});const x=e=>{u.value&&Se(u.value.input,e)},B=()=>{var e;(e=u.value.input)===null||e===void 0||e.blur()},O=(e,s,o)=>{var v;(v=u.value.input)===null||v===void 0||v.setSelectionRange(e,s,o)},F=()=>{var e;(e=u.value.input)===null||e===void 0||e.select()};i({focus:x,blur:B,input:Y(()=>{var e;return(e=u.value.input)===null||e===void 0?void 0:e.input}),stateValue:r,setSelectionRange:O,select:F});const I=e=>{h("change",e)},b=(e,s)=>{r.value!==e&&(a.value===void 0?r.value=e:re(()=>{var o;u.value.input.value!==r.value&&((o=g.value)===null||o===void 0||o.$forceUpdate())}),re(()=>{s&&s()}))},c=e=>{const{value:s}=e.target;if(r.value===s)return;const o=e.target.value;se(u.value.input,e,I),b(o)},_=e=>{e.keyCode===13&&h("pressEnter",e),h("keydown",e)},C=e=>{f.value=!0,h("focus",e)},A=e=>{f.value=!1,h("blur",e)},E=e=>{se(u.value.input,e,I),b("",()=>{x()})},T=()=>{var e,s;const{addonBefore:o=l.addonBefore,addonAfter:v=l.addonAfter,disabled:N,valueModifiers:P={},htmlSize:t,autocomplete:p,prefixCls:y,inputClassName:w,prefix:V=(e=l.prefix)===null||e===void 0?void 0:e.call(l),suffix:M=(s=l.suffix)===null||s===void 0?void 0:s.call(l),allowClear:j,type:q="text"}=a,G=Q(a,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName"]),R=k(k(k({},G),n),{autocomplete:p,onChange:c,onInput:c,onFocus:C,onBlur:A,onKeydown:_,class:S(y,{[`${y}-disabled`]:N},w,!U({addonAfter:v,addonBefore:o})&&!Z({prefix:V,suffix:M,allowClear:j})&&n.class),ref:u,key:"ant-input",size:t,type:q,lazy:a.lazy});return P.lazy&&delete R.onInput,R.autofocus||delete R.autofocus,d(ye,Q(R,["size"]),null)},W=()=>{var e;const{maxlength:s,suffix:o=(e=l.suffix)===null||e===void 0?void 0:e.call(l),showCount:v,prefixCls:N}=a,P=Number(s)>0;if(o||v){const t=[...oe(r.value)].length,p=typeof v=="object"?v.formatter({count:t,maxlength:s}):`${t}${P?` / ${s}`:""}`;return d(de,null,[!!v&&d("span",{class:S(`${N}-show-count-suffix`,{[`${N}-show-count-has-suffix`]:!!o})},[p]),o])}return null};return ie(()=>{}),()=>{const{prefixCls:e,disabled:s}=a,o=Pe(a,["prefixCls","disabled"]);return d(Fe,z(z(z({},o),n),{},{ref:g,prefixCls:e,inputElement:T(),handleReset:E,value:oe(r.value),focused:f.value,triggerFocus:x,suffix:W(),disabled:s}),l)}}});var Re=function(a,$){var l={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&$.indexOf(n)<0&&(l[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(a);i<n.length;i++)$.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(a,n[i])&&(l[n[i]]=a[n[i]]);return l};const Te=ee({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:Be(),setup(a,$){let{slots:l,attrs:n,expose:i,emit:h}=$;const r=X(),f=be(),u=we.useInject(),g=Y(()=>$e(u.status,a.status)),{direction:x,prefixCls:B,size:O,autocomplete:F}=xe("input",a),{compactSize:I,compactItemClassnames:b}=ge(B,x),c=Y(()=>I.value||O.value),[_,C]=Ie(B),A=Ce();i({focus:t=>{var p;(p=r.value)===null||p===void 0||p.focus(t)},blur:()=>{var t;(t=r.value)===null||t===void 0||t.blur()},input:r,setSelectionRange:(t,p,y)=>{var w;(w=r.value)===null||w===void 0||w.setSelectionRange(t,p,y)},select:()=>{var t;(t=r.value)===null||t===void 0||t.select()}});const s=X([]),o=()=>{s.value.push(setTimeout(()=>{var t,p,y,w;!((t=r.value)===null||t===void 0)&&t.input&&((p=r.value)===null||p===void 0?void 0:p.input.getAttribute("type"))==="password"&&(!((y=r.value)===null||y===void 0)&&y.input.hasAttribute("value"))&&((w=r.value)===null||w===void 0||w.input.removeAttribute("value"))}))};ie(()=>{o()}),Oe(()=>{s.value.forEach(t=>clearTimeout(t))}),Ae(()=>{s.value.forEach(t=>clearTimeout(t))});const v=t=>{o(),h("blur",t),f.onFieldBlur()},N=t=>{o(),h("focus",t)},P=t=>{h("update:value",t.target.value),h("change",t),h("input",t),f.onFieldChange()};return()=>{var t,p,y,w,V,M;const{hasFeedback:j,feedbackIcon:q}=u,{allowClear:G,bordered:R=!0,prefix:H=(t=l.prefix)===null||t===void 0?void 0:t.call(l),suffix:K=(p=l.suffix)===null||p===void 0?void 0:p.call(l),addonAfter:ae=(y=l.addonAfter)===null||y===void 0?void 0:y.call(l),addonBefore:le=(w=l.addonBefore)===null||w===void 0?void 0:w.call(l),id:fe=(V=f.id)===null||V===void 0?void 0:V.value}=a,ce=Re(a,["allowClear","bordered","prefix","suffix","addonAfter","addonBefore","id"]),ve=(j||K)&&d(de,null,[K,j&&q]),m=B.value,pe=Z({prefix:H,suffix:K})||!!j,me=l.clearIcon||(()=>d(he,null,null));return _(d(je,z(z(z({},n),Q(ce,["onUpdate:value","onChange","onInput"])),{},{onChange:P,id:fe,disabled:(M=a.disabled)!==null&&M!==void 0?M:A.value,ref:r,prefixCls:m,autocomplete:F.value,onBlur:v,onFocus:N,prefix:H,suffix:ve,allowClear:G,addonAfter:ae&&d(te,null,{default:()=>[d(ne,null,{default:()=>[ae]})]}),addonBefore:le&&d(te,null,{default:()=>[d(ne,null,{default:()=>[le]})]}),class:[n.class,b.value],inputClassName:S({[`${m}-sm`]:c.value==="small",[`${m}-lg`]:c.value==="large",[`${m}-rtl`]:x.value==="rtl",[`${m}-borderless`]:!R},!pe&&J(m,g.value),C.value),affixWrapperClassName:S({[`${m}-affix-wrapper-sm`]:c.value==="small",[`${m}-affix-wrapper-lg`]:c.value==="large",[`${m}-affix-wrapper-rtl`]:x.value==="rtl",[`${m}-affix-wrapper-borderless`]:!R},J(`${m}-affix-wrapper`,g.value,j),C.value),wrapperClassName:S({[`${m}-group-rtl`]:x.value==="rtl"},C.value),groupClassName:S({[`${m}-group-wrapper-sm`]:c.value==="small",[`${m}-group-wrapper-lg`]:c.value==="large",[`${m}-group-wrapper-rtl`]:x.value==="rtl"},J(`${m}-group-wrapper`,g.value,j),C.value)}),k(k({},l),{clearIcon:me})))}}});export{Te as I};
