{"version":3,"file":"guide-fGvKwZr_.js","sources":["../../../../front-end/chat-ai-admin-vue/src/api/guide/index.js","../../../../front-end/chat-ai-admin-vue/src/stores/modules/guide.js"],"sourcesContent":["import request from '@/utils/http/axios'\r\n\r\nexport const useGuideProcess = (params = {}) => {\r\n  return request.get({\r\n    url: '/manage/useGuideProcess',\r\n    params: params\r\n  })\r\n}\r\n\r\nexport const requestNotStream = (data) => {\r\n  return request.post({\r\n    url: '/chat/requestNotStream',\r\n    data: data\r\n  })\r\n}\r\n","import { defineStore } from 'pinia'\r\nimport { useGuideProcess } from '@/api/guide/index'\r\n\r\nfunction getGuideProcessVal(list) {\r\n  let finish_num = 0\r\n  let total_num = 0\r\n  list.forEach((item) => {\r\n    item.steps.forEach((it) => {\r\n      total_num++\r\n      if (it.is_finish == 1) {\r\n        finish_num++\r\n      }\r\n    })\r\n  })\r\n\r\n  return ((finish_num / total_num) * 100).toFixed()\r\n}\r\nexport const useGuideStore = defineStore('guide', {\r\n  state: () => {\r\n    return {\r\n      process_list: [],\r\n      total_process: 0\r\n    }\r\n  },\r\n  getters: {},\r\n  actions: {\r\n    async getUseGuideProcess() {\r\n      try {\r\n        const res = await useGuideProcess()\r\n        this.process_list = res.data.process_list || []\r\n        this.total_process = getGuideProcessVal(this.process_list)\r\n        return res.data\r\n      } catch (error) {\r\n        return Promise.reject(error)\r\n      }\r\n    }\r\n  }\r\n})\r\n"],"names":["useGuideProcess","params","request","requestNotStream","data","getGuideProcessVal","list","finish_num","total_num","item","it","useGuideStore","defineStore","res","error"],"mappings":"2FAEO,MAAMA,EAAkB,CAACC,EAAS,KAChCC,EAAQ,IAAI,CACjB,IAAK,0BACL,OAAQD,CACZ,CAAG,EAGUE,EAAoBC,GACxBF,EAAQ,KAAK,CAClB,IAAK,yBACL,KAAME,CACV,CAAG,ECVH,SAASC,EAAmBC,EAAM,CAChC,IAAIC,EAAa,EACbC,EAAY,EAChB,OAAAF,EAAK,QAASG,GAAS,CACrBA,EAAK,MAAM,QAASC,GAAO,CACzBF,IACIE,EAAG,WAAa,GAClBH,GAEJ,CAAC,CACH,CAAC,GAEQA,EAAaC,EAAa,KAAK,QAAO,CACjD,CACY,MAACG,EAAgBC,EAAY,QAAS,CAChD,MAAO,KACE,CACL,aAAc,CAAA,EACd,cAAe,CACrB,GAEE,QAAS,CAAA,EACT,QAAS,CACP,MAAM,oBAAqB,CACzB,GAAI,CACF,MAAMC,EAAM,MAAMb,EAAe,EACjC,YAAK,aAAea,EAAI,KAAK,cAAgB,CAAA,EAC7C,KAAK,cAAgBR,EAAmB,KAAK,YAAY,EAClDQ,EAAI,IACb,OAASC,EAAO,CACd,OAAO,QAAQ,OAAOA,CAAK,CAC7B,CACF,CACJ,CACA,CAAC"}