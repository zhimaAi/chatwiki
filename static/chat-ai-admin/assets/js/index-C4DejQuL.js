import{b as I,l as M,B as F,M as N,E as O,k as V,d as A}from"../../index-CAb1tT-W.js";import{a4 as L,e as u,b as R,M as d,N as f,W as t,k as e,S as i,Z as n,Q as j,a7 as q,F as x,$ as z,u as G,Y as J,a0 as p,a1 as Q,a2 as W}from"./vue-chunks-DWnFCQSz.js";import{A as Y,_ as Z}from"./add-data-sheet-Dau_6XDG.js";import{g as H,d as K}from"./index-SFtmeSFR.js";import{P as U}from"./page-tabs-COlFOfJd.js";import{_ as X}from"./page-alert-ASihR4_m.js";import{_ as tt,M as ot}from"./index-Zgzt-QK_.js";import"./index-DtmDjxy7.js";import{D as st}from"./dropdown-ClFVyE-h.js";import{P as et}from"./PlusOutlined-lz80p0a0.js";import"./axios-Cm0UX6qg.js";import"./qs-De-rn6vz.js";import"./crypto-js-U6t3rvpm.js";import"./dayjs-BI1HIvBC.js";import"./index-BwLqZyOz.js";import"./Trigger-JKklW7kX.js";import"./isPlainObject-BZk97rKt.js";import"./responsiveObserve-9b93vBMn.js";import"./collapseMotion-DNnsVK8G.js";import"./index-DgLE2dBi.js";import"./colors-DIkUhcQM.js";import"./QuestionCircleOutlined-OoMpIVY2.js";import"./FormItemContext-8D78_qVD.js";import"./index-ZqzVpCxK.js";import"./Input-DuH7dn02.js";import"./statusUtils-DZGhn0Kh.js";import"./inputProps-C93oOyRv.js";import"./index-CviHPZsF.js";import"./Search-DXRfWhTX.js";import"./SearchOutlined-ARjgS9_W.js";import"./TextArea-CYqPccpO.js";import"./index-B3zCNJkU.js";import"./Password-CS7ye1e2.js";import"./shallowequal-C0Ji8tJB.js";import"./slide-DfWuJDbJ.js";import"./Dropdown-DKZymAyI.js";import"./RightOutlined-BUprEUSn.js";import"./move-nlQWRDsj.js";const y=l=>(Q("data-v-bf26f5c1"),l=l(),W(),l),at={class:"library-page"},it=y(()=>t("div",null,[t("p",null," 1、数据库可以关联到问答机器人，从对话中提取信息存储到指定数据表中，也可以利用数据表中已有数据回复用户咨询。创建机器人之前请先创建知识库，然后去机器人设置中关联。 "),t("p",null,"2、支持Excel模版和Json模版导入已有数据，也支持将存储的数据导出Excel表。")],-1)),nt={class:"library-page-body"},lt={class:"list-toolbar"},rt={class:"toolbar-box"},ct={class:"list-total"},dt={class:"toolbar-box"},pt={class:"list-box"},_t=["onClick"],mt={class:"library-info"},ut=y(()=>t("img",{class:"library-icon",src:Z,alt:""},null,-1)),ft={class:"library-info-content"},vt={class:"library-title"},bt={class:"item-body"},ht={class:"library-desc"},kt={class:"item-footer"},xt={class:"library-size"},yt={class:"text-item"},gt={class:"text-item"},Ct=["onClick"],St=["onClick"],Bt={__name:"index",setup(l){const g=L(),C=u([{title:"知识库",path:"/library/list"},{title:"数据库",path:"/database/list"}]),S=M();let{role_permission:B}=S;const T=R(()=>B.includes("FormCreate")),_=u([]),m=()=>{H({}).then(o=>{_.value=o.data||[]})};m();const v=u(null),b=(o={})=>{v.value.show(o)},D=o=>{g.push({path:"/database/details",query:{form_id:o.id,name:o.name}})},P=o=>{let s=3,r=N.confirm({title:"删除确认",icon:e(O),content:`删除数据表后，表中所有数据将一并被删除，不可恢复。确认删除数据表${o.name}吗?`,okText:s+" 确 定",okType:"danger",okButtonProps:{disabled:!0},cancelText:"取 消",onOk(){w(o)},onCancel(){}}),c=setInterval(()=>{s==1?(r.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(c),c=void 0):(s-=1,r.update({okText:s+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},w=({id:o})=>{K({id:o}).then(()=>{V.success("删除成功"),m()})};return(o,s)=>{const r=F,c=A,h=tt,$=ot,E=st;return d(),f(x,null,[t("div",at,[e(U,{class:"mb-16",tabs:C.value,active:"/database/list"},null,8,["tabs"]),e(X,{style:{"margin-bottom":"16px"},title:"使用说明"},{default:i(()=>[it]),_:1}),t("div",nt,[t("div",lt,[t("div",rt,[t("h3",ct,"全部 ("+n(_.value.length)+")",1)]),t("div",dt,[T.value?(d(),j(r,{key:0,type:"primary",onClick:s[0]||(s[0]=a=>b())},{icon:i(()=>[e(G(et))]),default:i(()=>[J(" 新建数据库 ")]),_:1})):q("",!0)])]),t("div",pt,[(d(!0),f(x,null,z(_.value,a=>(d(),f("div",{class:"list-item-wrapper",key:a.id},[t("div",{class:"list-item",onClick:p(k=>D(a),["stop"])},[t("div",mt,[ut,t("div",ft,[t("div",vt,n(a.name),1)])]),t("div",bt,[t("div",ht,n(a.description),1)]),t("div",kt,[t("div",xt,[t("span",yt,"数据数："+n(a.entry_count)+"条",1),t("span",gt,"关联应用："+n(a.robot_nums||0),1)]),t("div",{class:"action-box",onClick:s[2]||(s[2]=p(()=>{},["stop"]))},[e(E,null,{overlay:i(()=>[e($,null,{default:i(()=>[e(h,null,{default:i(()=>[t("a",{href:"javascript:;",onClick:p(k=>b(a),["stop"])},"编 辑",8,Ct)]),_:2},1024),e(h,null,{default:i(()=>[t("a",{class:"delete-text-color",href:"javascript:;",onClick:k=>P(a)},"删 除",8,St)]),_:2},1024)]),_:2},1024)]),default:i(()=>[t("div",{class:"action-item",onClick:s[1]||(s[1]=p(()=>{},["stop"]))},[e(c,{class:"action-icon",name:"point-h"})])]),_:2},1024)])])],8,_t)]))),128))])])]),e(Y,{onOk:m,ref_key:"addDataSheetRef",ref:v},null,512)],64)}}},po=I(Bt,[["__scopeId","data-v-bf26f5c1"]]);export{po as default};
