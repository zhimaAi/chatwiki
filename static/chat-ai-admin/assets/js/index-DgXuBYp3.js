import{_ as U,b as B,a as I,d as O,K as V,L as T}from"../../index-C1Xsov4S.js";import{J as Y,ai as q,aj as z,I as F,B as G,a as u,M as N,Q as Z}from"./ui-antd-D64OvTpt.js";import{f as m,r as A,o as E,Y as J,a5 as o,k as n,a7 as t,u as c,a2 as k,_ as L,G as g}from"./vue-chunks-DCKTEHpB.js";import"./utils-D9NMMoMR.js";const j={class:"aliocr-main"},D={class:"aliocr-title"},H={class:"aliocr-switch-box"},K={class:"aliocr-switch-nav-box"},Q={class:"aliocr-switch-nav-title"},$={class:"aliocr-info"},P={class:"aliocr-switch-btn-box"},R={class:"aliocr-config-box"},W={class:"aliocr-config-nav"},X={class:"aliocr-config-nav-title"},ee={class:"aliocr-config-form"},oe={class:"aliocr-config-form-item"},ce={class:"aliocr-config-form-label"},se={class:"aliocr-config-form-item"},ae={class:"aliocr-config-form-label"},ie={class:"aliocr-config-form-item"},te={class:"aliocr-config-form-label"},ne={__name:"index",setup(le){const{t:e}=B("views.user.aliocr.index"),r=m(!1),a=A({ali_ocr_key:"",ali_ocr_secret:""}),d=m(!1),l=I(),p=async()=>{await l.getCompanyInfo()};function f(){if(!a.ali_ocr_key)return e("accesskey_id_required");if(!a.ali_ocr_secret)return e("accesskey_secret_required")}const y=i=>{i&&f()?(r.value=!r.value,N.confirm({title:e("modal_title"),icon:n(Z),content:e("modal_content"),okText:e("modal_ok"),cancelText:null,okCancel:!1,onOk(){},onCancel(){}})):h()},w=()=>{const i=f();if(i)return u.error(i);d.value=!0,V({...a}).then(s=>{u.success(e("test_success"))}).finally(()=>{d.value=!1})},h=()=>{const i=f();if(i)return u.error(i);d.value=!0,T({ali_ocr_switch:r.value?1:2,...a}).then(s=>{u.success(e("save_success")),p()}).finally(()=>{d.value=!1})},x=i=>{window.open(i)};return E(async()=>{await p(),l.ali_ocr_key&&(a.ali_ocr_key=l.ali_ocr_key),l.ali_ocr_secret&&(a.ali_ocr_secret=l.ali_ocr_secret),l.ali_ocr_switch&&(r.value=l.ali_ocr_switch==1)}),(i,s)=>{const b=O,C=Y,v=F,S=G,M=q;return L(),J("div",j,[o("div",D,t(c(e)("title")),1),o("div",H,[o("div",K,[n(b,{name:"ali-ocr",style:{"font-size":"24px",color:"#FF5915"}}),o("div",Q,t(c(e)("switch_title")),1)]),o("div",$,t(c(e)("switch_info")),1),o("div",P,[n(C,{onChange:y,checked:r.value,"onUpdate:checked":s[0]||(s[0]=_=>r.value=_),"checked-children":c(e)("switch_on"),"un-checked-children":c(e)("switch_off"),checkedValue:!0,unCheckedValue:!1},null,8,["checked","checked-children","un-checked-children"])])]),n(M,{tip:c(e)("loading"),spinning:d.value},{default:k(()=>[o("div",R,[o("div",W,[n(c(z),{style:{"font-size":"16px"}}),o("div",X,t(c(e)("config_title")),1),s[4]||(s[4]=o("div",{class:"aliocr-config-nav-line"},null,-1)),o("div",{class:"alicor-config-nav-url",onClick:s[1]||(s[1]=_=>x("https://www.aliyun.com/product/ai/docmind?spm=5176.28536895.J_kUfM_yzYYqU72woCZLHoY.6.28bd586cZUeowZ"))},t(c(e)("config_help_link")),1)]),o("div",ee,[o("div",oe,[o("div",ce,t(c(e)("accesskey_id_label")),1),n(v,{value:a.ali_ocr_key,"onUpdate:value":s[2]||(s[2]=_=>a.ali_ocr_key=_),placeholder:c(e)("accesskey_id_placeholder")},null,8,["value","placeholder"])]),o("div",se,[o("div",ae,t(c(e)("accesskey_secret_label")),1),n(v,{value:a.ali_ocr_secret,"onUpdate:value":s[3]||(s[3]=_=>a.ali_ocr_secret=_),placeholder:c(e)("accesskey_secret_placeholder")},null,8,["value","placeholder"])]),o("div",ie,[o("div",te,[g(t(c(e)("after_config"))+" ",1),o("div",{class:"alicor-config-nav-url",onClick:w},t(c(e)("test_btn")),1)]),n(S,{type:"primary",onClick:h},{default:k(()=>[g(t(c(e)("save_btn")),1)]),_:1})])])])]),_:1},8,["tip","spinning"])])}}},fe=U(ne,[["__scopeId","data-v-5ccdec6e"]]);export{fe as default};
