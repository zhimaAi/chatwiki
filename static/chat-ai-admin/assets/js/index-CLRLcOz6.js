import{b as ye,bO as Ce,d as Re,bP as Ye,am as je,bQ as Ge,bR as Se,bS as Qe,bN as ve,bT as we,bU as Ze,bV as Ne}from"../../index-0TFHdij1.js";import{Y as R,F as ne,a9 as xe,_ as m,ae as de,u as J,ad as V,a5 as i,k as d,a7 as Y,f as g,e as te,o as Me,a1 as re,a2 as r,J as et,G as ee,B as O,y as me,ab as tt,w as fe,n as nt,A as lt,a6 as De,af as at,aa as ot,p as st}from"./vue-chunks-CXJTX1FC.js";import{d as it}from"./utils-yZpnICoG.js";import{u as ct}from"./useCopyShareUrl-BTDZ-Qr8.js";import{af as dt,ag as rt,R as ut,M as Ae,a1 as Ee,b as pt,c as _t,D as vt,p as ft,I as mt,a6 as yt,a7 as ht,a8 as bt,a as ce,H as gt}from"./ui-antd-D3ZAJ1Vq.js";import"./index-CQ5MKUsU.js";var kt=it();const Dt={class:"side-meuns"},xt=["onClick"],Ct={class:"meun-item-body"},Rt={class:"menu-name"},$t={__name:"side-menus",props:{menus:{type:Array,default:()=>[]},active:{type:String,default:""}},emits:["menuClick"],setup(A,{emit:U}){const S=U,f=Ce(),T=A,{checkPermission:w}=f,y=k=>{S("menuClick",k)};return(k,h)=>{const u=Re;return m(),R("div",Dt,[(m(!0),R(ne,null,xe(T.menus,D=>(m(),R(ne,{key:D.key},[J(w)(D.permissions)?(m(),R("div",{key:0,class:V(["side-meun-item",{active:D.key===T.active}]),onClick:K=>y(D)},[i("div",Ct,[d(u,{class:"menu-icon",name:D.icon},null,8,["name"]),i("span",Rt,Y(D.name),1)]),h[0]||(h[0]=i("div",{class:"actions-box"},null,-1))],10,xt)):de("",!0)],64))),128))])}}},Lt=ye($t,[["__scopeId","data-v-629786e2"]]),St={__name:"upload-doc",emits:["file-loaded"],setup(A,{expose:U,emit:S}){const f=S,T=g(null);let w={};const y=h=>{w=h||{},T.value.click()},k=h=>{const u=h.target.files[0];if(!u)return;if(!u.name.endsWith(".md")){alert("请选择.md文件");return}const D=new FileReader;D.onload=K=>{f("file-loaded",{content:K.target.result,title:u.name,file:u,...w})},D.readAsText(u),h.target.value=null};return U({triggerUpload:y}),(h,u)=>(m(),R("input",{type:"file",style:{opacity:"0",position:"fixed",bottom:"-9999px",left:"-9999px"},ref_key:"fileInput",ref:T,onChange:k,accept:".md"},null,544))}},wt={class:"icon-template-content"},Et={class:"template-options"},Tt=["onClick"],It={class:"folder-icon"},Kt={class:"template-footer"},Mt={class:"template-name"},At={__name:"icon-template",emits:["update:open","ok","cancel"],setup(A,{expose:U,emit:S}){const f=S,T=Ce(),{saveEditLibrary:w}=T,y=te(()=>T.libraryInfo),k=g(!1),h=g(!1),u=g([]),D=g("1"),K=()=>{D.value=y.value.icon_template_config_id,k.value=!0},L=E=>{D.value=E},p=()=>{k.value=!1,f("cancel")},F=()=>{let E=et(y.value);E.icon_template_config_id=D.value,h.value=!0,w(E).then(()=>{k.value=!1}).finally(()=>{h.value=!1,f("ok",D.value)})};return U({open:K}),Me(()=>{u.value=Ye()}),(E,I)=>{const H=ut,j=rt,G=dt,B=Ae;return m(),re(B,{open:k.value,"onUpdate:open":I[0]||(I[0]=b=>k.value=b),title:"图标模板",width:760,onCancel:p,onOk:F,"confirm-loading":h.value},{default:r(()=>[i("div",wt,[i("div",Et,[d(G,{gutter:16},{default:r(()=>[(m(!0),R(ne,null,xe(u.value,b=>(m(),re(j,{span:8,key:b.id},{default:r(()=>[i("div",{class:V(["template-card",{active:D.value==b.id}])},[i("div",{class:"template-preview",onClick:P=>L(b.id)},[(m(!0),R(ne,null,xe(b.preview,P=>(m(),R("div",{class:V(["folder-item",["level-"+P.level]]),key:P.level},[i("span",It,Y(P.icon),1),i("span",null,Y(P.text),1)],2))),128))],8,Tt),i("div",Kt,[d(H,{checked:D.value==b.id,onClick:P=>L(b.id)},{default:r(()=>[i("span",Mt,Y(b.name),1)]),_:2},1032,["checked","onClick"])])],2)]),_:2},1024))),128))]),_:1})])])]),_:1},8,["open","confirm-loading"])}}},Pt=ye(At,[["__scopeId","data-v-4381de58"]]),Ot={class:"side-directory"},Bt={class:"directory-header"},Ut={class:"action-box"},Wt={class:"action-btn"},qt={class:"directory-body"},Ft={class:"directory-content"},zt={style:{"margin-right":"4px"}},Vt={class:"action-btn toggle-btn"},Ht=["data-level"],Xt={key:0,class:"doc-icon"},Jt={key:1,class:"doc-icon"},Yt={class:"doc-title"},jt={key:0,class:"doc-title-text"},Gt={key:2,class:"doc-action-box"},Qt={__name:"side-directory",props:{list:{type:Array,default:()=>[]},loadData:{type:Function,default:()=>{}},selectedKeys:{type:Array,default:()=>[]},iconTemplateConfig:{type:Object,default:()=>({})},draggable:{type:Boolean,default:!0}},emits:["addDoc","importDoc","copyLink","copyDoc","deleteDoc","exportDoc","dragenter","drop","select","renameDoc","saveName"],setup(A,{expose:U,emit:S}){const f=S,T=A,w=(s,n)=>{let x=null;return function(...$){x&&clearTimeout(x),x=setTimeout(()=>{s.apply(this,$)},n)}},y=g([]),k=g([]),h=s=>{k.value.includes(s)||k.value.push(s)},u=(s,n)=>{const x=y.value.indexOf(s);typeof n=="boolean"?x>-1&&n===!1?y.value.splice(x,1):y.value.push(s):x>-1?y.value.splice(x,1):y.value.push(s)},D=s=>{y.value=[]},K=g(null),L=(s,n)=>{f("addDoc",s,n)};let p=null;const F=s=>{p=s,K.value.triggerUpload()},E=g(null),I=()=>{E.value.open()},H=s=>{f("selectTemplate",s)},j=s=>{f("importDoc",p,s)},G=s=>{f("copyLink",s)},B=s=>{f("copyDoc",s)},b=s=>{f("exportDoc",s)},P=s=>{f("renameDoc",s),me(()=>{let n=document.querySelector(".rename-input-"+s.data.id);n&&(n.focus(),n.select())})},le=w(s=>{let n=document.querySelector(".rename-input-"+s.data.id);if(!n)return;let x=n.value.trim();f("saveName",s,x)},200),z=s=>{f("deleteDoc",s)},he=({dropNode:s,dragNode:n,dropPosition:x})=>s.is_dir==0&&n.is_dir==0&&x==0?!1:!(s.is_dir==0&&n.is_dir==1&&x==0),ue=s=>{f("dragenter",s)},be=s=>{f("drop",s)},ge=(s,n)=>{f("select",n.node.dataRef)};return U({toggleExpand:u,addLoadedKey:h}),(s,n)=>{const x=Re,$=_t,ae=pt,oe=vt,pe=ft,ke=mt,se=bt;return m(),R("div",Ot,[i("div",Bt,[d(x,{name:"doc-directory",style:{"font-size":"16px",color:"#595959"}}),n[12]||(n[12]=i("div",{class:"label-text"},"文档目录",-1)),i("div",Ut,[d(oe,null,{overlay:r(()=>[d(ae,null,{default:r(()=>[d($,{key:"addDir",onClick:n[0]||(n[0]=c=>L(null,0))},{default:r(()=>n[7]||(n[7]=[ee(" 添加文档 ")])),_:1,__:[7]}),d($,{key:"importDoc",onClick:n[1]||(n[1]=c=>F())},{default:r(()=>n[8]||(n[8]=[ee(" 导入文档 ")])),_:1,__:[8]}),d($,{key:"addDoc",onClick:n[2]||(n[2]=c=>L(null,1))},{default:r(()=>n[9]||(n[9]=[ee(" 添加文件夹 ")])),_:1,__:[9]})]),_:1})]),default:r(()=>[i("span",Wt,[d(J(Ee),{style:{color:"#595959"}})])]),_:1}),d(pe,null,{title:r(()=>n[10]||(n[10]=[ee("收起全部文档")])),default:r(()=>[i("span",{class:"action-btn",onClick:n[3]||(n[3]=c=>D(!1))},[d(x,{name:"menu-expand",style:{"font-size":"16px",color:"#595959"}})])]),_:1}),d(pe,null,{title:r(()=>n[11]||(n[11]=[ee("图标模板设置")])),default:r(()=>[i("span",{class:"action-btn",onClick:I},[d(x,{name:"system-setting",style:{"font-size":"16px",color:"#595959"}})])]),_:1})])]),i("div",qt,[i("div",Ft,[d(se,{class:"directory-tree","block-node":"",expandedKeys:y.value,"onUpdate:expandedKeys":n[6]||(n[6]=c=>y.value=c),draggable:A.draggable,"selected-keys":A.selectedKeys,loadedKeys:k.value,"tree-data":T.list,"load-data":A.loadData,"field-names":{key:"id",title:"title",children:"children"},allowDrop:he,onDragenter:ue,onDrop:be,onSelect:ge},{switcherIcon:r(({switcherCls:c})=>[i("div",zt,[i("span",Vt,[d(J(ht),{style:{"font-size":"12px"},class:V(c)},null,8,["class"])])])]),title:r(c=>[i("div",{class:V(["doc-item",[{"is-leaf":c.dataRef.isLeaf},c.dataRef.isEdit?"is-edit":"no-edit"]]),"data-level":c.level},[c.data.doc_icon?(m(),R("span",Xt,Y(c.data.doc_icon),1)):(m(),R("span",Jt,Y(c.data.is_dir==1?A.iconTemplateConfig.levels[c.level].folder_icon:A.iconTemplateConfig.levels[c.level].doc_icon),1)),i("div",Yt,[c.dataRef.isEdit?(m(),re(ke,{key:1,class:V([`rename-input-${c.dataRef.id}`]),name:"rename",defaultValue:c.dataRef.title,placeholder:"请输入标题",onBlur:M=>J(le)(c),onPressEnter:M=>J(le)(c)},null,8,["class","defaultValue","onBlur","onPressEnter"])):(m(),R("span",jt,Y(c.dataRef.title),1))]),c.dataRef.isEdit?de("",!0):(m(),R("div",Gt,[c.dataRef.is_dir==1?(m(),re(oe,{key:0},{overlay:r(()=>[d(ae,null,{default:r(()=>[d($,{key:"addDir",onClick:O(M=>L(c,0),["stop","prevent"])},{default:r(()=>n[13]||(n[13]=[i("span",{class:"menu-name"},"添加文档",-1)])),_:2,__:[13]},1032,["onClick"]),d($,{key:"importDoc",onClick:O(M=>F(c),["stop","prevent"])},{default:r(()=>n[14]||(n[14]=[i("span",{class:"menu-name"},"导入文档",-1)])),_:2,__:[14]},1032,["onClick"]),d($,{key:"addDoc",onClick:O(M=>L(c,1),["stop","prevent"])},{default:r(()=>n[15]||(n[15]=[i("span",{class:"menu-name"},"添加文件夹",-1)])),_:2,__:[15]},1032,["onClick"])]),_:2},1024)]),default:r(()=>[i("span",{class:"action-btn",onClick:n[4]||(n[4]=O(()=>{},["stop"]))},[d(J(Ee))])]),_:2},1024)):de("",!0),d(oe,null,{overlay:r(()=>[d(ae,null,{default:r(()=>[c.dataRef.is_dir==1?(m(),R(ne,{key:0},[d($,{key:"rename",onClick:O(M=>P(c),["stop","prevent"])},{default:r(()=>n[16]||(n[16]=[i("span",{class:"menu-name"},"重命名",-1)])),_:2,__:[16]},1032,["onClick"]),d($,{key:"deleteDoc",onClick:O(M=>z(c),["stop","prevent"])},{default:r(()=>n[17]||(n[17]=[i("span",{class:"menu-name"},"删除",-1)])),_:2,__:[17]},1032,["onClick"])],64)):(m(),R(ne,{key:1},[d($,{key:"copyLink",onClick:O(M=>G(c),["stop","prevent"])},{default:r(()=>n[18]||(n[18]=[ee(" 复制链接"),i("span",{class:"menu-name"},null,-1)])),_:2,__:[18]},1032,["onClick"]),d($,{key:"copyDoc",onClick:O(M=>B(c),["stop","prevent"])},{default:r(()=>n[19]||(n[19]=[i("span",{class:"menu-name"},"复制文档",-1)])),_:2,__:[19]},1032,["onClick"]),d($,{key:"exportDoc",onClick:O(M=>b(c),["stop","prevent"])},{default:r(()=>n[20]||(n[20]=[i("span",{class:"menu-name"},"导出文档",-1)])),_:2,__:[20]},1032,["onClick"]),d($,{key:"deleteDoc",onClick:O(M=>z(c),["stop","prevent"])},{default:r(()=>n[21]||(n[21]=[i("span",{class:"menu-name"},"删除文档",-1)])),_:2,__:[21]},1032,["onClick"])],64))]),_:2},1024)]),default:r(()=>[i("span",{class:"action-btn",onClick:n[5]||(n[5]=O(()=>{},["stop"]))},[d(J(yt))])]),_:2},1024)]))],10,Ht)]),_:1},8,["expandedKeys","draggable","selected-keys","loadedKeys","tree-data","load-data"])])]),d(St,{ref_key:"uploadDocRef",ref:K,onFileLoaded:j},null,512),d(Pt,{ref_key:"iconTemplateRef",ref:E,onSelect:H},null,512)])}}},Zt=ye(Qt,[["__scopeId","data-v-de41f716"]]),Nt={class:"public-library-layout"},en={class:"layout-left-wrapper"},tn={class:"layout-left-content"},nn={key:1,class:"side-directory-wrapper"},ln={class:"layout-body"},Te="public-library-sidebar-width",Ie="public-library-sidebar-collapsed",Ke=0,an={__name:"index",setup(A){const U=(e,t)=>{const a=new Blob([e],{type:"text/markdown;charset=utf-8"});kt.saveAs(a,t)},S=(e,t)=>{{for(let a=0;a<e.length;a++){const l=e[a];if(l.id==t)return l;if(l.children){const o=S(l.children,t);if(o)return o}}return null}},f=(e,t,a=null)=>{for(let l=0;l<e.length;l++){const o=e[l];if(o.id==t)return a;if(o.children){const _=f(o.children,t,o);if(_)return _}}return null};function T(e="无标题文档",t=[]){const a=new Set(t.map(_=>_.title));let l=1,o=`${e}(${l})`;for(;a.has(o);)l++,o=`${e}(${l})`;return o}const w=Ce(),y=ot(),k=tt(),h=te(()=>w.library_id),u=te(()=>w.library_key),D=te(()=>w.iconTemplateConfig),K=te(()=>k.query.doc_id),L=g(null),p=g([]),F=g(!0),E=g([]),I=g(null),H=te(()=>k.meta.subActiveMenu||""),{setStorage:j,getStorage:G}=je("localStorage"),B=g(G(Te)||256),b=g(G(Ie)||!1),P=g(0),le=g(0),z=g(!1);st("isDragging",z);const he=[{name:"首页",key:"home",icon:"ai",path:"/public-library/home",permissions:["*"]}],ue=e=>{y.push({path:e.path,query:{library_id:h.value,library_key:u.value}})},be=(e,t)=>{e==="homePreviewStyle"&&ge(t)},ge=e=>{w.changeHomePreviewStyle(),k.path!=="/public-library/home"&&ue(e)},s=e=>{let t={library_key:u.value,pid:e?e.id:0};return Ge(t).then(a=>{let l=a.data||[];l.forEach(o=>{o.id=o.id*1,o.pid=o.pid*1,o.key=o.id,o.level=e?e.level+1:0,o.sort=o.sort*1,o.children_num=o.children_num*1,o.children=[],o.hasLoaded=!1,o.isLeaf=o.children_num==0}),e?(e.hasLoaded=!0,e.children=l,p.value=[...p.value]):p.value=l})},n=e=>new Promise(t=>{if(e.dataRef.hasLoaded){t();return}s(e.dataRef).then(()=>{t()})}),x=()=>{E.value=[]},{copyShareUrl:$}=ct(),ae=async e=>{const t=Qe+"/doc/"+e.doc_key;await $(t)},oe=(e,t)=>{let a=0,l=t.title,o=e?e.dataRef.id:0;l.endsWith(".md")&&(l=l.replace(/\.md$/i,""));let _={library_key:u.value,doc_id:"",doc_type:"4",doc_icon:"",pid:o,title:l,content:t.content,sort:0,is_dir:a};ve(_).then(v=>{ce.success("导入成功"),_.id=v.data.doc_id,_.sort=v.data.sort;let X=e?e.dataRef:null;se(X,_)})},pe=(e,t)=>{let a=t==1?"新建文件夹":"无标题文档",l=e?e.dataRef.id:0;t==0&&(e?a=T("无标题文档",e.dataRef.children):a=T("无标题文档",p.value));let o={library_key:u.value,doc_id:"",doc_type:"4",doc_icon:"",pid:l,title:a,content:"# 无标题文档",sort:0,is_dir:t};(t==1?we:ve)(o).then(v=>{ce.success("添加成功"),o.id=v.data.doc_id,o.sort=v.data.sort;let X=e?e.dataRef:null;se(X,o)})},ke=e=>{Se({library_key:u.value,doc_id:e.dataRef.id}).then(t=>{let a={library_key:u.value,doc_id:"",doc_type:"4",pid:t.data.pid*1,title:t.data.title+"(副本)",content:t.data.content,doc_icon:t.data.doc_icon||"",sort:0,is_dir:0};ve(a).then(l=>{ce.success("复制成功"),a.id=l.data.doc_id,a.sort=l.data.sort;let o=S(p.value,a.pid);se(o,a)})})},se=(e,t)=>{t.children_num=0,t.children=[],t.hasLoaded=!1,t.key=t.id,t.isLeaf=!0,t.level=0,e?(t.level=e.level+1,e.children_num++,e.isLeaf=!1,e.hasLoaded?(e.children.unshift(t),me(()=>{L.value.toggleExpand(e.id,!0)})):(e.hasLoaded=!1,me(()=>{L.value.toggleExpand(e.id,!0)}))):(t.level=0,p.value.unshift(t)),ie(t)},c=e=>{let t=S(p.value,e.dataRef.id);F.value=!1,t.isEdit=!0},M=(e,t)=>{let a=S(p.value,e.dataRef.id);a.title=t,a.isEdit=!1,setTimeout(()=>{F.value=!0},100);let l={library_key:u.value,doc_id:a.id,doc_type:"4",pid:a.pid,title:t,content:a.content,is_dir:a.is_dir};(a.is_dir==1?we:ve)(l).then(()=>{ce.success("修改成功")})},Pe=e=>{Ae.confirm({title:"删除文档",icon:d(gt),content:`确定删除文档 ${e.dataRef.title} 吗？`,onOk(){Oe(e)},onCancel(){}})},Oe=e=>{let t=e.dataRef.id,a=e.dataRef.pid;Ne({library_key:u.value,doc_id:e.dataRef.id}).then(()=>{ce.success("删除成功");let l=S(p.value,a);if(l){let o=l.children.findIndex(v=>v.id==t);if(l.children_num--,l.isLeaf=l.children_num==0,l.children.splice(o,1),H.value!="doc"||I.value.id!=t)return;let _=l.children.filter(v=>v.is_dir!=1);if(_.length>0)ie(_[0]);else{let v=p.value.filter(X=>X.is_dir!=1);v.length>0?ie(v[0]):(I.value=null,y.replace({path:"/public-library/home",query:{library_id:h.value,library_key:u.value}}))}}else{let o=p.value.findIndex(v=>v.id==t);if(p.value.splice(o,1),H.value!="doc"||I.value.id!=t)return;let _=p.value.filter(v=>v.is_dir!=1);_.length>0?ie(_[0]):(I.value=null,y.replace({path:"/public-library/home",query:{library_id:h.value,library_key:u.value}}))}})},Be=e=>{Se({library_key:u.value,doc_id:e.dataRef.id}).then(t=>{let{content:a,title:l}=t.data;l.endsWith(".md")||(l+=".md"),U(a,l)})},ie=e=>{if(e.is_dir==1){L.value.toggleExpand(e.id);return}I.value=e,E.value=[e.id],k.path=="/public-library/editor"?y.replace({path:"/public-library/editor",query:{library_id:h.value,library_key:u.value,doc_id:e.id}}):y.push({path:"/public-library/editor",query:{library_id:h.value,library_key:u.value,doc_id:e.id}})},Ue=()=>{},We=e=>{const t=[...p.value],a=e.node,l=e.dragNode,o=a.key,_=l.key,v=a.pos.split("-"),X=e.dropPosition-Number(v[v.length-1]),_e=(C,W,Z=0,N)=>{for(let q=0;q<C.length;q++){if(C[q].key===W){N(C[q],q,Z,C);return}C[q].children&&_e(C[q].children,W,Z+1,N)}};let Q;if(_e(t,_,0,(C,W,Z,N)=>{Q={...C},N.splice(W,1)}),l.parent&&l.parent.node.children_num>0&&(l.parent.node.children_num--,l.parent.node.isLeaf=l.parent.node.children_num==0),!e.dropToGap)_e(t,o,0,(C,W,Z)=>{C.children=C.children||[],C.children_num++,C.isLeaf=!1,Q.level=Z+1,C.children.unshift(Q)});else{let C=[],W=0;_e(t,o,0,(Z,N,q,Je)=>{C=Je,W=N,Q.level=q}),X===-1?C.splice(W,0,Q):C.splice(W+1,0,Q)}p.value=t,qe(l,a)},qe=(e,t)=>{let a=f(p.value,e.dataRef.id);e.dataRef.pid=a?a.id:0;let l={library_key:u.value,doc_id:e.dataRef.id,pid:e.dataRef.pid,level:a?a.level+1:0,sort:0},o=a?a.children:p.value,_=-1;o.length>1&&(_=o.findIndex(v=>v.id==e.dataRef.id),_===0?(l.top=1,l.sort=o[_+1].sort):l.sort=o[_-1].sort),Ze(l).then(v=>{e.dataRef.sort=v.data.sort,e.dataRef.level=l.level,t.pid!=l.pid&&(t.dataRef.children.length>=t.dataRef.children_num?(t.dataRef.hasLoaded=!0,L.value.addLoadedKey(t.id),L.value.toggleExpand(t.id,!0)):s(t.dataRef).then(()=>{o[_]=e.dataRef,me(()=>{t.dataRef.hasLoaded=!0,L.value.toggleExpand(t.id,!0)})}))})},Fe=e=>{let t=S(p.value,e.id);t.title=e.title,t.is_draft=e.is_draft,t.doc_icon=e.doc_icon,I.value=t},ze=e=>{z.value=!0,P.value=e.clientX,le.value=B.value,document.addEventListener("mousemove",$e),document.addEventListener("mouseup",Le),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},Ve=g(800),He=g(220),$e=e=>{if(!z.value)return;const t=e.clientX-P.value,a=le.value+t;a>=He.value&&a<=Ve.value&&(B.value=a)},Le=()=>{z.value=!1,document.removeEventListener("mousemove",$e),document.removeEventListener("mouseup",Le),document.body.style.cursor="",document.body.style.userSelect="",j(Te,B.value)},Xe=()=>{b.value=!b.value,j(Ie,b.value)};return fe(()=>k.path,e=>{e!=="/public-library/editor"&&(x(),I.value=null)}),fe(()=>p.value,e=>{w.setDocTreeState(JSON.parse(JSON.stringify(e)))},{deep:!0}),fe(K,e=>{e&&(E.value=[Number(K.value)])}),fe(h,()=>{x(),I.value=null,s()}),Me(()=>{s(),K.value&&(E.value=[Number(K.value)])}),(e,t)=>{const a=Re,l=at("router-view");return m(),R("div",Nt,[nt(i("div",{class:V(["drag-line",{dragging:z.value}]),style:De({left:`${B.value}px`}),onMousedown:ze},null,38),[[lt,!b.value]]),i("div",en,[i("span",{class:V(["sidebar-toggle-btn",{"is-open":!b.value}]),style:De({left:`${b.value?Ke:B.value}px`}),onClick:Xe},[d(a,{name:"arrow-left",class:"toggle-icon"})],6),i("div",{class:"layout-left",style:De({width:`${b.value?Ke:B.value}px`})},[i("div",tn,[b.value?de("",!0):(m(),re(Lt,{key:0,menus:he,active:H.value,onMenuClick:ue,onHandleAction:be},null,8,["active"])),b.value?de("",!0):(m(),R("div",nn,[d(Zt,{ref_key:"docTreeRef",ref:L,list:p.value,"load-data":n,draggable:F.value,selectedKeys:E.value,iconTemplateConfig:D.value,onImportDoc:oe,onAddDoc:pe,onRenameDoc:c,onSaveName:M,onDeleteDoc:Pe,onCopyDoc:ke,onCopyLink:ae,onExportDoc:Be,onDragenter:Ue,onDrop:We,onSelect:ie},null,8,["list","draggable","selectedKeys","iconTemplateConfig"])]))])],4)]),i("div",ln,[d(l,{onChangeDoc:Fe})])])}}},pn=ye(an,[["__scopeId","data-v-d4e0e4d3"]]);export{pn as default};
