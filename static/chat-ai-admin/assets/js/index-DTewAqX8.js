import{g as L,t as A}from"./index-BNO9ztvM.js";import{aw as D,aB as E,f as k,r as N,e as O,h as V,ac as _,as as e,k as a,ar as r,l as q,u as G,ad as c,G as i,at as b,J as I}from"./vue-chunks-CGLjTDrY.js";import{R as T}from"./robot-select-alert-Dnl5Nuhz.js";import{u as $}from"./robot-CbQxxX9E.js";import{_ as j}from"../../index-DxV-PNCd.js";import{o as F,a6 as J,B as P,G as W,E as z,b as H}from"./ui-antd-AfNpv4wx.js";import"./empty-CzGZrENG.js";import"./neo4j-L2Hgpmga.js";import"./utils-COBjqVvs.js";import"./other-BrZCAsTs.js";const K={class:"user-model-page"},M={class:"list-wrapper"},Q={class:"content-wrapper"},U={class:"actions-box"},X={class:"avatar-box"},Y=["src"],Z={key:0,class:"status-block"},tt={key:1,class:"status-block success"},ot=["onClick"],et={__name:"index",setup(st){const d=D().query,u=$(),{robotInfo:w}=E(u),{getRobot:v}=u,p=k([]),n=N({work_flow_ids:[]}),f=k(null),y=O(()=>p.value.filter(o=>n.work_flow_ids.includes(o.id))),g=o=>{let t=n.work_flow_ids.indexOf(o.id);n.work_flow_ids.splice(t,1),m()},R=o=>{n.work_flow_ids=[...o],m()},h=()=>{f.value.open([...n.work_flow_ids])},m=()=>{let o={...I(n)};o.work_flow_ids=o.work_flow_ids.join(","),A({id:d.id,...o}).then(t=>{H.success("保存成功"),v(d.id)})};function x(){L().then(o=>{p.value=o.data||[]})}return x(),V(()=>{n.work_flow_ids=w.value.work_flow_ids.split(",")}),(o,t)=>{const S=F,C=P,l=z,B=W;return c(),_("div",K,[t[4]||(t[4]=e("div",{class:"page-title"},"工作流",-1)),e("div",M,[e("div",Q,[a(S,{"show-icon":"",style:{"align-items":"baseline"}},{message:r(()=>[...t[0]||(t[0]=[e("div",null," 关联工作流后，大语言模型会根据用户问题自主决定是否调用工作流。这需要利用大模型的工具调用能力，请确保您选择的大语言模型知识工具调用。 ",-1),e("div",null,"支持关联未发布的工作流，但是未发布的工作流并不会被实际调用。",-1)])]),_:1}),e("div",U,[a(C,{type:"primary",icon:q(G(J)),onClick:h},{default:r(()=>[...t[1]||(t[1]=[i("添加技能",-1)])]),_:1},8,["icon"])]),a(B,{"data-source":y.value},{default:r(()=>[a(l,{key:"robot_name",title:"工作流"},{default:r(({record:s})=>[e("div",X,[e("img",{src:s.robot_avatar,alt:""},null,8,Y),e("div",null,b(s.robot_name),1)])]),_:1}),a(l,{key:"robot_intro","data-index":"robot_intro",title:"工作流描述"},{default:r(({record:s})=>[i(b(s.robot_intro||"--"),1)]),_:1}),a(l,{key:"start_node_key",title:"状态"},{default:r(({record:s})=>[s.start_node_key?(c(),_("div",tt,[...t[3]||(t[3]=[e("span",null,null,-1),i("已发布",-1)])])):(c(),_("div",Z,[...t[2]||(t[2]=[e("span",null,null,-1),i("未发布",-1)])]))]),_:1}),a(l,{key:"start_node_key",title:"操作"},{default:r(({record:s})=>[e("a",{onClick:at=>g(s)},"移除",8,ot)]),_:1})]),_:1},8,["data-source"])])]),a(T,{ref_key:"robotSelectAlertRef",ref:f,onChange:R},null,512)])}}},mt=j(et,[["__scopeId","data-v-f2c48779"]]);export{mt as default};
