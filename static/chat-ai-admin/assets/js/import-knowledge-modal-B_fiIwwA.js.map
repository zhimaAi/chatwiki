{"version":3,"file":"import-knowledge-modal-B_fiIwwA.js","sources":["../../../../front-end/chat-ai-admin-vue/src/views/ai-extract-faq/list/components/avatar-input.vue","../../../../front-end/chat-ai-admin-vue/src/views/ai-extract-faq/list/components/add-qa-library.vue","../../../../front-end/chat-ai-admin-vue/src/views/ai-extract-faq/list/components/import-knowledge-modal.vue"],"sourcesContent":["<template>\r\n  <div class=\"avatar-uploader\">\r\n    <a-upload\r\n      class=\"upload-upload\"\r\n      v-model:file-list=\"fileList\"\r\n      list-type=\"picture-card\"\r\n      :show-upload-list=\"false\"\r\n      :before-upload=\"beforeUpload\"\r\n      accept=\".jpg,.png,.jpeg\"\r\n      @preview=\"handlePreview\"\r\n    >\r\n      <img class=\"avatar\" v-if=\"value\" :src=\"value\" alt=\"avatar\" />\r\n      <div v-else>\r\n        <loading-outlined v-if=\"loading\"></loading-outlined>\r\n        <plus-outlined v-else></plus-outlined>\r\n        <div class=\"ant-upload-text\">{{ t('upload_photo') }}</div>\r\n      </div>\r\n    </a-upload>\r\n\r\n    <a-modal :open=\"previewVisible\" :title=\"previewTitle\" :footer=\"null\" @cancel=\"handleCancel\">\r\n      <img alt=\"example\" style=\"width: 100%\" :src=\"previewImage\" />\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch } from 'vue'\r\nimport { message, Form } from 'ant-design-vue'\r\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons-vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nfunction getBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader()\r\n    reader.readAsDataURL(file)\r\n    reader.onload = () => resolve(reader.result)\r\n    reader.onerror = (error) => reject(error)\r\n  })\r\n}\r\n\r\nconst { t } = useI18n('views.ai-extract-faq.list.components.avatar-input')\r\n\r\nconst emit = defineEmits(['update:value', 'change'])\r\nconst props = defineProps({\r\n  value: {\r\n    type: String,\r\n    default: ''\r\n  }\r\n})\r\n\r\nconst fileList = ref([])\r\nconst loading = ref(false)\r\nconst imageUrl = ref('')\r\n\r\nwatch(\r\n  () => props.value,\r\n  (val) => {\r\n    imageUrl.value = val\r\n  },\r\n  {\r\n    immediate: true\r\n  }\r\n)\r\n\r\nconst formItemContext = Form.useInjectFormItemContext()\r\n\r\nconst triggerChange = () => {\r\n  let data = {\r\n    imageUrl: imageUrl.value,\r\n    file: fileList.value[0].originFileObj\r\n  }\r\n\r\n  emit('change', data)\r\n  emit('update:value', data.imageUrl)\r\n\r\n  formItemContext.onFieldChange()\r\n}\r\n\r\nconst beforeUpload = (file) => {\r\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png'\r\n\r\n  if (!isJpgOrPng) {\r\n    message.error(t('image_format_error'))\r\n    return false\r\n  }\r\n\r\n  const isLt2M = file.size / 1024 < 100\r\n\r\n  if (!isLt2M) {\r\n    message.error(t('image_size_error'))\r\n    return false\r\n  }\r\n\r\n  fileList.value = [file]\r\n\r\n  getBase64(file).then((base64Url) => {\r\n    imageUrl.value = base64Url\r\n    loading.value = false\r\n\r\n    triggerChange()\r\n  })\r\n\r\n  return false\r\n}\r\n\r\nconst previewVisible = ref(false)\r\nconst previewImage = ref('')\r\nconst previewTitle = ref('')\r\n\r\nconst handleCancel = () => {\r\n  previewVisible.value = false\r\n  previewTitle.value = ''\r\n}\r\nconst handlePreview = async (file) => {\r\n  if (!file.url && !file.preview) {\r\n    file.preview = await getBase64(file.originFileObj)\r\n  }\r\n  previewImage.value = file.url || file.preview\r\n  previewVisible.value = true\r\n  previewTitle.value = file.name || file.url.substring(file.url.lastIndexOf('/') + 1)\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.avatar-uploader{\r\n  text-align: center;\r\n}\r\n.avatar-uploader::v-deep(.ant-upload) {\r\n  margin: 0 !important;\r\n  border: none !important;\r\n  background-color: unset !important;\r\n  width: 62px !important;\r\n  height: 62px !important;\r\n}\r\n\r\n.ant-upload-select-picture-card i {\r\n  font-size: 32px;\r\n  color: #999;\r\n}\r\n\r\n.ant-upload-select-picture-card .ant-upload-text {\r\n  margin-top: 8px;\r\n  color: #666;\r\n}\r\n\r\n.avatar-uploader {\r\n  display: flex;\r\n}\r\n\r\n.avatar-uploader .avatar {\r\n  border-radius: 7px;\r\n  width: 62px;\r\n  height: 62px;\r\n}\r\n</style>\r\n","<style lang=\"less\" scoped>\r\n.form-box {\r\n  margin-top: 32px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.form-item-tip {\r\n  color: #999;\r\n  color: #8c8c8c;\r\n  margin-top: 8px;\r\n  text-align: center;\r\n}\r\n\r\n.form-alert-tip {\r\n  color: #8c8c8c;\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  line-height: 14px;\r\n  margin: 2px 0 6px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.hight-set-text {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 16px;\r\n  justify-content: space-between;\r\n  height: 56px;\r\n  border-radius: 4px;\r\n  background-color: #f2f4f7;\r\n  padding: 0 16px;\r\n  .title-block {\r\n    display: flex;\r\n    gap: 8px;\r\n    color: #262626;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n  }\r\n  .right-btn-box {\r\n    display: flex;\r\n    gap: 4px;\r\n    border-radius: 6px;\r\n    font-size: 14px;\r\n    padding: 0 8px;\r\n    cursor: pointer;\r\n    transition: all 0.3s ease-in-out;\r\n    &:hover {\r\n      background: var(--07, #e4e6eb);\r\n      color: #2475fc;\r\n    }\r\n  }\r\n}\r\n.ml4 {\r\n  margin-left: 4px;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"form-box\">\r\n    <a-form layout=\"vertical\">\r\n      <a-form-item ref=\"name\" :label=\"false\" v-bind=\"validateInfos.avatar\">\r\n        <AvatarInput v-model:value=\"formState.avatar\" @change=\"onAvatarChange\" />\r\n        <div class=\"form-item-tip\">{{ t('avatar_tip') }}</div>\r\n      </a-form-item>\r\n      <a-form-item ref=\"name\" :label=\"t('library_name_label')\" v-bind=\"validateInfos.library_name\">\r\n        <a-input\r\n          v-model:value=\"formState.library_name\"\r\n          :placeholder=\"t('library_name_placeholder')\"\r\n          :maxlength=\"20\"\r\n        />\r\n      </a-form-item>\r\n\r\n      <a-form-item :label=\"t('library_intro_label')\" v-bind=\"validateInfos.library_intro\">\r\n        <a-textarea\r\n          :maxlength=\"1000\"\r\n          v-model:value=\"formState.library_intro\"\r\n          :placeholder=\"t('library_intro_placeholder')\"\r\n        />\r\n      </a-form-item>\r\n\r\n      <div class=\"hight-set-text\">\r\n        <div class=\"title-block\"><SettingOutlined />{{ t('advanced_settings') }}</div>\r\n        <div class=\"right-btn-box\" @click=\"isHide = !isHide\">\r\n          <template v-if=\"isHide\">\r\n            {{ t('expand') }}\r\n            <DownOutlined />\r\n          </template>\r\n          <template v-else>\r\n            {{ t('collapse') }}\r\n            <UpOutlined />\r\n          </template>\r\n        </div>\r\n      </div>\r\n      <a-form-item v-show=\"!isHide\">\r\n        <template #label\r\n          >{{ t('document_vector_model') }}\r\n          <a-tooltip>\r\n            <template #title\r\n              >{{ t('vector_model_tooltip') }}</template\r\n            >\r\n            <QuestionCircleOutlined class=\"ml4\" />\r\n          </a-tooltip>\r\n        </template>\r\n        <ModelSelect\r\n          modelType=\"TEXT EMBEDDING\"\r\n          v-model:modeName=\"formState.use_model\"\r\n          v-model:modeId=\"formState.model_config_id\"\r\n          @loaded=\"onTextModelLoaded\"\r\n          style=\"width: 100%\"\r\n        />\r\n      </a-form-item>\r\n    </a-form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, onMounted } from 'vue'\r\nimport { Form, message } from 'ant-design-vue'\r\nimport { createLibrary, getSeparatorsList } from '@/api/library/index'\r\nimport AvatarInput from './avatar-input.vue'\r\nimport { LIBRARY_QA_AVATAR } from '@/constants/index'\r\nimport { transformUrlData } from '@/utils/validate.js'\r\nimport {\r\n  SettingOutlined,\r\n  QuestionCircleOutlined,\r\n  DownOutlined,\r\n  UpOutlined\r\n} from '@ant-design/icons-vue'\r\nimport ModelSelect from '@/components/model-select/model-select.vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nconst { t } = useI18n('views.ai-extract-faq.list.components.add-qa-library')\r\nconst emit = defineEmits('ok')\r\n\r\nconst isHide = ref(true)\r\n\r\nconst useForm = Form.useForm\r\nconst default_ai_chunk_prumpt = t('ai_chunk_prumpt_default')\r\nconst formState = reactive({\r\n  type: '0',\r\n  access_rights: 0,\r\n  library_name: '',\r\n  library_intro: '',\r\n  use_model: '',\r\n  model_config_id: '',\r\n  library_files: undefined,\r\n  avatar: '',\r\n  avatar_file: undefined,\r\n  is_offline: false,\r\n  urls: '',\r\n  doc_type: 1,\r\n  file_name: '',\r\n  is_qa_doc: 0, // 0 普通文档 1QA文档\r\n  qa_index_type: 1, // 1问题与答案一起生成索引 2仅对问题生成索引\r\n  doc_auto_renew_frequency: 1,\r\n  chunk_type: 1,\r\n  normal_chunk_default_separators_no: [12, 11],\r\n  normal_chunk_default_not_merged_text: 0,\r\n  normal_chunk_default_chunk_size: 512,\r\n  normal_chunk_default_chunk_overlap: 50,\r\n  semantic_chunk_default_chunk_size: 512,\r\n  semantic_chunk_default_chunk_overlap: 50,\r\n  semantic_chunk_default_threshold: 90,\r\n  graph_switch: false,\r\n  graph_model_config_id: void 0,\r\n  graph_use_model: '',\r\n  ai_chunk_size: 5000, // ai大模型分段最大字符数\r\n  ai_chunk_model: '', // ai大模型分段模型名称\r\n  ai_chunk_model_config_id: '', // ai大模型分段模型配置id\r\n  ai_chunk_prumpt: default_ai_chunk_prumpt // ai大模型分段提示词设置\r\n})\r\n\r\nconst rules = reactive({\r\n  library_name: [{ required: true, message: t('library_name_required'), trigger: 'change' }]\r\n})\r\n\r\nconst { validate, validateInfos } = useForm(formState, rules)\r\n\r\nconst onAvatarChange = (data) => {\r\n  formState.avatar = data.imageUrl\r\n  formState.avatar_file = data.file\r\n}\r\n\r\nconst segmentationTags = ref([])\r\ngetSeparatorsList().then((res) => {\r\n  segmentationTags.value = res.data.map((item) => {\r\n    return {\r\n      label: item.name,\r\n      value: item.no\r\n    }\r\n  })\r\n})\r\n\r\nconst onTextModelLoaded = (list) => {\r\n  if (list.length) {\r\n    formState.use_model = list[0].children[0].name\r\n    formState.model_config_id = list[0].model_config_id\r\n  }\r\n}\r\n\r\nconst handleOk = () => {\r\n  validate()\r\n    .then(() => {\r\n      saveForm()\r\n    })\r\n    .catch((err) => {\r\n      console.log(err, 'err')\r\n    })\r\n}\r\n\r\nconst saveForm = () => {\r\n  let formData = new FormData()\r\n\r\n  let newFormState = JSON.parse(JSON.stringify(formState)) // 深拷贝，不能改变原对象\r\n\r\n  formData.append('type', formState.type)\r\n  formData.append('access_rights', formState.access_rights)\r\n  formData.append('library_name', formState.library_name)\r\n  formData.append('library_intro', formState.library_intro)\r\n  formData.append('use_model', newFormState.use_model)\r\n  formData.append('model_config_id', formState.model_config_id)\r\n  formData.append('avatar', formState.avatar_file ? formState.avatar_file : '')\r\n  formData.append('is_offline', formState.is_offline)\r\n  formData.append('urls', JSON.stringify(transformUrlData(formState.urls)))\r\n  formData.append('doc_type', formState.doc_type)\r\n  formData.append('file_name', formState.file_name)\r\n  formData.append('is_qa_doc', formState.is_qa_doc)\r\n  formData.append('qa_index_type', formState.qa_index_type)\r\n  formData.append('doc_auto_renew_frequency', formState.doc_auto_renew_frequency)\r\n  formData.append('chunk_type', formState.chunk_type)\r\n  formData.append(\r\n    'normal_chunk_default_separators_no',\r\n    formState.normal_chunk_default_separators_no.join(',')\r\n  )\r\n  formData.append('normal_chunk_default_chunk_size', formState.normal_chunk_default_chunk_size)\r\n  formData.append('normal_chunk_default_not_merged_text', formState.normal_chunk_default_not_merged_text)\r\n  formData.append(\r\n    'normal_chunk_default_chunk_overlap',\r\n    formState.normal_chunk_default_chunk_overlap\r\n  )\r\n  formData.append('semantic_chunk_default_chunk_size', formState.semantic_chunk_default_chunk_size)\r\n  formData.append(\r\n    'semantic_chunk_default_chunk_overlap',\r\n    formState.semantic_chunk_default_chunk_overlap\r\n  )\r\n  formData.append('semantic_chunk_default_threshold', formState.semantic_chunk_default_threshold)\r\n  formData.append('graph_switch', formState.graph_switch ? 1 : 0)\r\n  formData.append('graph_model_config_id', formState.graph_model_config_id)\r\n  formData.append('graph_use_model', formState.graph_use_model)\r\n\r\n  formData.append('ai_chunk_size', formState.ai_chunk_size)\r\n  formData.append('ai_chunk_model', formState.ai_chunk_model)\r\n  formData.append('ai_chunk_model_config_id', formState.ai_chunk_model_config_id)\r\n  formData.append('ai_chunk_prumpt', formState.ai_chunk_prumpt)\r\n  formData.append('is_default', 2)\r\n\r\n  createLibrary(formData).then((res) => {\r\n    message.success(t('create_success'))\r\n    // res.data.id\r\n    emit('ok', res.data.id)\r\n  })\r\n}\r\n\r\nconst show = () => {\r\n  formState.type = 2\r\n  formState.avatar = LIBRARY_QA_AVATAR\r\n  formState.avatar_file = LIBRARY_QA_AVATAR\r\n  formState.library_name = ''\r\n  formState.library_intro = ''\r\n  formState.chunk_type = 1\r\n  formState.normal_chunk_default_separators_no = [12, 11]\r\n  formState.normal_chunk_default_not_merged_text = 0\r\n  formState.normal_chunk_default_chunk_size = 512\r\n  formState.normal_chunk_default_chunk_overlap = 50\r\n  formState.semantic_chunk_default_chunk_size = 512\r\n  formState.semantic_chunk_default_chunk_overlap = 50\r\n  formState.semantic_chunk_default_threshold = 50\r\n  formState.graph_switch = false\r\n\r\n  formState.ai_chunk_size = 5000\r\n  formState.ai_chunk_model = ''\r\n  formState.ai_chunk_model_config_id = ''\r\n  formState.ai_chunk_prumpt = default_ai_chunk_prumpt\r\n}\r\n\r\ndefineExpose({\r\n  show,\r\n  handleOk\r\n})\r\n\r\nonMounted(() => {})\r\n</script>\r\n","<template>\r\n  <div>\r\n    <a-modal\r\n      v-model:open=\"open\"\r\n      :confirm-loading=\"confirmLoading\"\r\n      :title=\"t('modal_title')\"\r\n      width=\"746px\"\r\n      wrapClassName=\"no-padding-modal\"\r\n      :bodyStyle=\"{ 'padding-right': '24px', 'max-height': '540px', 'overflow-y': 'auto' }\"\r\n      @ok=\"handleSave\"\r\n    >\r\n      <div class=\"modal-box\">\r\n        <a-radio-group v-model:value=\"tabs\" @change=\"handleChangeTabs\">\r\n          <a-radio-button :value=\"1\">{{ t('import_to_existing_library') }}</a-radio-button>\r\n          <a-radio-button :value=\"2\">{{ t('create_and_import_library') }}</a-radio-button>\r\n        </a-radio-group>\r\n        <template v-if=\"tabs == 1\">\r\n          <a-divider\r\n            style=\"font-size: 14px; color: #8c8c8c; font-weight: 400\"\r\n            orientation=\"left\"\r\n            orientation-margin=\"0px\"\r\n          >\r\n            {{ t('select_library_title') }}\r\n          </a-divider>\r\n          <div class=\"filter-block\">\r\n            <a-input-search\r\n              v-model:value=\"library_name\"\r\n              :placeholder=\"t('search_library_placeholder')\"\r\n              style=\"width: 240px\"\r\n              @search=\"getLibraryData()\"\r\n            />\r\n            <a-button @click=\"getLibraryData(true)\" :icon=\"createVNode(SyncOutlined)\">{{ t('refresh_button') }}</a-button>\r\n          </div>\r\n          <div class=\"empty-block\" v-if=\"libraryLists.length == 0\">\r\n            <a-empty>{{ t('no_data') }}</a-empty>\r\n          </div>\r\n          <div class=\"list-box\">\r\n            <div\r\n              class=\"list-item\"\r\n              @click=\"handleClickItem(item)\"\r\n              v-for=\"item in libraryLists\"\r\n              :key=\"item.id\"\r\n            >\r\n              <a-radio :checked=\"selectIds == item.id\"></a-radio>\r\n              <div class=\"info-block\">\r\n                <div class=\"title\">{{ item.library_name }}</div>\r\n                <div class=\"desc\">{{ item.library_intro }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <AddQaLibrary ref=\"addQaLibraryRef\" @ok=\"createLibrary\" v-else />\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, createVNode, nextTick } from 'vue'\r\nimport { getLibraryList, importParagraph } from '@/api/library/index'\r\nimport { SyncOutlined } from '@ant-design/icons-vue'\r\nimport AddQaLibrary from './add-qa-library.vue'\r\nimport { message } from 'ant-design-vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\n\r\nconst { t } = useI18n('views.ai-extract-faq.list.components.import-knowledge-modal')\r\n\r\nconst emit = defineEmits(['ok'])\r\nconst formState = reactive({})\r\n\r\nconst open = ref(false)\r\nconst tabs = ref(1)\r\nconst library_name = ref('')\r\nconst selectIds = ref('')\r\n\r\nconst file_id = ref('')\r\nconst ids = ref('')\r\nconst show = (data) => {\r\n  file_id.value = data.id\r\n  ids.value = data.ids || ''\r\n  tabs.value = 1\r\n  library_name.value = ''\r\n  selectIds.value = ''\r\n  open.value = true\r\n  getLibraryData()\r\n}\r\nconst confirmLoading = ref(false)\r\n\r\nconst handleSave = () => {\r\n  if (tabs.value == 1) {\r\n    importLibrary()\r\n  } else {\r\n    addQaLibraryRef.value.handleOk()\r\n  }\r\n}\r\n\r\nconst handleSaveForm = (library_id) => {\r\n  confirmLoading.value = true\r\n  importParagraph({\r\n    library_id,\r\n    file_id: file_id.value,\r\n    ids: ids.value,\r\n  })\r\n    .then((res) => {\r\n      message.success(t('import_success'))\r\n      open.value = false\r\n      emit('ok')\r\n    })\r\n    .finally(() => {\r\n      confirmLoading.value = false\r\n    })\r\n}\r\nconst importLibrary = () => {\r\n  if (!selectIds.value) {\r\n    return message.error(t('select_library_error'))\r\n  }\r\n  handleSaveForm(selectIds.value)\r\n}\r\nconst createLibrary = (id) => {\r\n  handleSaveForm(id)\r\n}\r\n\r\nconst libraryLists = ref([])\r\nconst getLibraryData = (isResh) => {\r\n  getLibraryList({\r\n    library_name: library_name.value,\r\n    show_open_docs: 1\r\n  }).then((res) => {\r\n    libraryLists.value = res.data.filter(item => item.type == 2)\r\n    isResh && message.success(t('refresh_success'))\r\n  })\r\n}\r\n\r\nconst handleClickItem = (item) => {\r\n  selectIds.value = item.id\r\n}\r\n\r\nconst addQaLibraryRef = ref(null)\r\nconst handleChangeTabs = () => {\r\n  if (tabs.value == 2) {\r\n    nextTick(() => {\r\n      addQaLibraryRef.value && addQaLibraryRef.value.show()\r\n    })\r\n  }\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.modal-box {\r\n  margin-top: 40px;\r\n}\r\n.filter-block {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.empty-block {\r\n  margin: 32px 0;\r\n}\r\n.list-box {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n  margin-top: 8px;\r\n  .list-item {\r\n    width: calc(50% - 8px);\r\n    border: 1px solid var(--07, #e4e6eb);\r\n    padding: 14px 16px;\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    cursor: pointer;\r\n    border-radius: 6px;\r\n    transition: all 0.3s ease;\r\n    &:hover {\r\n      border: 1px solid var(---, #2475fc);\r\n      box-shadow: 0 4px 16px 0 #1b3a6929;\r\n    }\r\n    .info-block {\r\n      flex: 1;\r\n      .title {\r\n        color: #262626;\r\n        font-weight: 600;\r\n      }\r\n      .desc {\r\n        color: #8c8c8c;\r\n        font-size: 12px;\r\n        font-weight: 400;\r\n        line-height: 20px;\r\n        margin-top: 2px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.mt8 {\r\n  margin-top: 8px;\r\n}\r\n</style>\r\n"],"names":["getBase64","file","resolve","reject","reader","error","useI18n","emit","__emit","props","__props","fileList","ref","loading","imageUrl","watch","val","formItemContext","Form","triggerChange","data","beforeUpload","base64Url","message","previewVisible","previewImage","previewTitle","handleCancel","handlePreview","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_a_upload","$event","_hoisted_3","_createBlock","_unref","LoadingOutlined","PlusOutlined","_createElementVNode","_hoisted_4","_toDisplayString","_component_a_modal","isHide","useForm","default_ai_chunk_prumpt","formState","reactive","rules","validate","validateInfos","onAvatarChange","segmentationTags","getSeparatorsList","res","item","onTextModelLoaded","list","handleOk","saveForm","err","formData","newFormState","transformUrlData","createLibrary","__expose","LIBRARY_QA_AVATAR","onMounted","_component_a_form","_component_a_form_item","_mergeProps","AvatarInput","_cache","_hoisted_2","_component_a_input","_component_a_textarea","SettingOutlined","_Fragment","_createTextVNode","DownOutlined","UpOutlined","_component_a_tooltip","QuestionCircleOutlined","ModelSelect","open","tabs","library_name","selectIds","file_id","ids","show","getLibraryData","confirmLoading","handleSave","importLibrary","addQaLibraryRef","handleSaveForm","library_id","importParagraph","id","libraryLists","isResh","getLibraryList","handleClickItem","handleChangeTabs","nextTick","_component_a_radio_group","_component_a_radio_button","_component_a_divider","_component_a_input_search","_component_a_button","createVNode","SyncOutlined","_component_a_empty","_renderList","_component_a_radio","_hoisted_6","_hoisted_7","_hoisted_8","AddQaLibrary"],"mappings":"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"}