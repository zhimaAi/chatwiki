import{_ as x,f as C,b as y,U as D,V as L,W as B,X as V}from"../../index-C1Xsov4S.js";import{J as q,am as N,a as u}from"./ui-antd-D64OvTpt.js";import{f as l,Y as p,ae as T,a5 as n,u as a,k as w,a7 as d,ac as z,_ as m}from"./vue-chunks-DCKTEHpB.js";import"./utils-D9NMMoMR.js";const E="/assets/img/client-download-pic-D_c9zEa_.png",F={class:"client-download-page"},I={key:0,class:"login-required-switch"},R={class:"need-login"},U={class:"page-title"},W={class:"page-body"},A={class:"app-info"},J={class:"app-name"},P={class:"banner"},X={__name:"index",setup(Y){const h=C();let{role_type:f}=h;const{t:s}=y("views.user.client-download.index"),o=l(!1),g=()=>{V({client_side_login_switch:o.value?1:0}).then(()=>{u.success(s("common.saveSuccess"))})},v=l(""),c=l(s("windows_download")),t=l(!1);let _=null;const r=()=>B({domain:""}).then(e=>(e.data.file_url?(t.value=!1,c.value=s("windows_download"),v.value=e.data.file_url,clearTimeout(_),_=null):(c.value=s("packaging"),t.value=!0,_=setTimeout(()=>{r()},5e3)),e)),k=()=>{t.value||r().then(e=>{e.data.file_url?L("",e.data.file_url):u.error(s("download_not_ready"))})};return(()=>{D().then(e=>{o.value=e.data.client_side_login_switch==1})})(),(e,i)=>{const S=q;return m(),p("div",F,[a(f)!="3"?(m(),p("div",I,[n("span",R,d(a(s)("need_login")),1),w(S,{checked:o.value,"onUpdate:checked":i[0]||(i[0]=b=>o.value=b),onChange:g},null,8,["checked"])])):T("",!0),n("h3",U,d(a(s)("client_download")),1),n("div",W,[n("div",A,[n("div",J,d(a(s)("chat_wiki_pc_client")),1),n("div",P,[i[1]||(i[1]=n("img",{src:E,alt:""},null,-1)),n("div",{class:z(["download-btn",{disabled:t.value}]),onClick:k},[w(a(N),{class:"windows-icon"}),n("span",null,d(c.value),1)],2)])])])])}}},O=x(X,[["__scopeId","data-v-8cba6e0b"]]);export{O as default};
