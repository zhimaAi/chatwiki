import{b as J,d as L}from"../../index-0TFHdij1.js";import{e as y,ab as Q,f as _,w as W,o as X,aa as Z,Y as i,ae as B,a5 as n,k as a,F as M,a2 as u,af as ee,_ as c,G as r,u as te}from"./vue-chunks-CXJTX1FC.js";import{a as T,x as E}from"./index-lMQ5W3Uj.js";import{Y as ne,k as oe,y as ae,M as I,G as se,B as le,a4 as ie,a as N}from"./ui-antd-D3ZAJ1Vq.js";import"./utils-yZpnICoG.js";const ce={key:0,class:"ability-banner"},re={class:"user-model-page"},ue={class:"breadcrumb-wrap"},me={key:0,class:"tabs-box"},pe={class:"list-wrapper"},de={class:"content-wrapper"},_e={class:"enable-tip-footer"},fe={class:"footer-actions"},D="ai_comment_management_batch_send_tip_until",ve={__name:"index",setup(ge){const s=Q(),m=Z(),k=y(()=>s.name==="exploreAiCommentManagementCreateCustomRule"),x=y(()=>s.name==="exploreAiCommentManagementCreateCustomRule"&&s.query.copy==="1"),h=y(()=>s.name==="exploreAiCommentManagementCreateCustomRule"&&s.query.id),O=[{label:"默认规则",value:"default-rule"},{label:"自定义规则",value:"custom-rule"},{label:"评论处理记录",value:"comment-processing-record"}],w=()=>s.name==="exploreAiCommentManagementCustomRule"?"custom-rule":s.name==="exploreAiCommentManagementCommentProcessingRecord"?"comment-processing-record":"default-rule",p=()=>{m.back()},U=()=>{const t=m.resolve({path:"/explore/index/article-group-send"});window.open(t.href,"_blank")},g=_(w()),f=_(!1),V=()=>{T({ability_type:"official_account_ai_comment"}).then(t=>{var l;const e=t.data,o=(l=e==null?void 0:e.user_config)==null?void 0:l.switch_status;f.value=String(o||"0")=="1"})},b=_(!0),F=()=>{T({ability_type:"official_account_batch_send"}).then(t=>{var o,l;const e=(l=(o=t==null?void 0:t.data)==null?void 0:o.user_config)==null?void 0:l.switch_status;b.value=String(e||"0")==="1",j()})},G=t=>{const e=t?"1":"0";if(e==="0"){I.confirm({title:"提示",content:"关闭后，该功能默认关闭不再支持使用，确认关闭？",onOk:()=>{E({ability_type:"official_account_ai_comment",switch_status:e}).then(o=>{o&&o.res==0&&(f.value=!1,N.success("操作成功"))})}});return}E({ability_type:"official_account_ai_comment",switch_status:e}).then(o=>{o&&o.res==0&&(f.value=!0,N.success("操作成功"))})};W(()=>s.name,()=>{g.value=w()});const Y=t=>{const e={"default-rule":"/explore/index/ai-comment-management/default-rule","custom-rule":"/explore/index/ai-comment-management/custom-rule","comment-processing-record":"/explore/index/ai-comment-management/comment-processing-record"};m.replace(e[t])};X(()=>{s.name==="exploreAiCommentManagement"&&m.replace("/explore/index/ai-comment-management/default-rule"),V(),F()});const A=async()=>{S();const t=m.resolve({path:"/explore/index"});window.open(t.href,"_blank")},v=_(!1),C=_(!1),j=()=>{const t=Number(localStorage.getItem(D)||0),e=Date.now();!b.value&&t<=e&&(v.value=!0)},S=()=>{if(C.value){const t=Date.now()+2592e5;localStorage.setItem(D,String(t))}},q=()=>{S(),v.value=!1};return(t,e)=>{const o=L,l=ne,z=oe,K=ae,P=ee("router-view"),$=se,R=le,H=I;return c(),i(M,null,[b.value?B("",!0):(c(),i("div",ce,[a(o,{name:"tip-icon",style:{"font-size":"16px",color:"white"}}),e[3]||(e[3]=n("span",null,"文章群发功能暂未开启，您可到探索 > 功能 > 文章群发开启",-1)),n("a",{class:"go-enable",href:"javascript:void(0);",onClick:A},"去开启")])),n("div",re,[n("div",ue,[a(o,{name:"back",style:{"font-size":"20px"},onClick:p}),x.value?(c(),i("div",{key:0,class:"breadcrumb-title",onClick:p},"复制自定义规则")):h.value?(c(),i("div",{key:1,class:"breadcrumb-title",onClick:p},"编辑自定义规则")):k.value?(c(),i("div",{key:2,class:"breadcrumb-title",onClick:p},"新建自定义规则")):(c(),i(M,{key:3},[n("span",{class:"breadcrumb-title",onClick:p},"AI评论精选"),a(l,{checked:f.value,"checked-children":"开","un-checked-children":"关",onChange:G},null,8,["checked"]),e[4]||(e[4]=n("span",{class:"switch-desc"},"开启后，可设置规则对系统内发布的群发使用AI自动精选功能，自动删评，回复，精选评论。",-1))],64))]),a(z,{class:"alert-box","show-icon":"",style:{margin:"16px 48px 0"}},{message:u(()=>[n("div",null,[e[5]||(e[5]=r("仅支持通过当前系统群发的文章做Al评论管理，按照设置的规则自动删评 ")),e[6]||(e[6]=n("br",null,null,-1)),e[7]||(e[7]=r(" 自动回复评论需开启文章群发功能并创建文章群发，")),n("a",{onClick:U,href:"javascript:void(0);"},"去创建")])]),_:1}),!h.value&&!x.value&&!k.value?(c(),i("div",me,[a(K,{value:g.value,"onUpdate:value":e[0]||(e[0]=d=>g.value=d),options:O,onChange:Y},null,8,["value"])])):B("",!0),n("div",pe,[n("div",de,[a(P)])])]),a(H,{open:v.value,"onUpdate:open":e[2]||(e[2]=d=>v.value=d),footer:null},{title:u(()=>[n("span",null,[a(te(ie),{style:{color:"#faad14","margin-right":"8px"}}),e[8]||(e[8]=r("未开启文章群发"))])]),default:u(()=>[e[12]||(e[12]=n("div",null,[n("span",{style:{color:"red"}},"文章群发功能暂未开启"),r("，您可到探索 > 功能 > 文章群发开启")],-1)),n("div",_e,[a($,{checked:C.value,"onUpdate:checked":e[1]||(e[1]=d=>C.value=d)},{default:u(()=>e[9]||(e[9]=[r("3天内不在提示")])),_:1,__:[9]},8,["checked"]),n("div",fe,[a(R,{onClick:q},{default:u(()=>e[10]||(e[10]=[r("取消")])),_:1,__:[10]}),a(R,{type:"primary",onClick:A},{default:u(()=>e[11]||(e[11]=[r("去开启")])),_:1,__:[11]})])])]),_:1,__:[12]},8,["open"])],64)}}},he=J(ve,[["__scopeId","data-v-443f1fd9"]]);export{he as default};
