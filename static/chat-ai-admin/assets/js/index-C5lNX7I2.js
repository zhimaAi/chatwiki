import{b as $,e as D,ac as I,ad as B,k as E,f as G,M as O,ae as T}from"../../index-CzPebXix.js";import{d as A}from"./vuedraggable.umd-CIIT_a56.js";import{Q as M}from"./QuestionCircleOutlined-DTfTQPH4.js";import{d as V,b as C,w as F,N as _,O as c,X as e,S as L,a6 as P,j as o,U as l,u as a,Z as w,_ as m,z as Q}from"./vue-chunks-BRsu9_To.js";import{_ as j}from"./index-BwqnaIPU.js";import{_ as z}from"./index-Bpi-EtQQ.js";import{F as H,_ as J}from"./index-BgVvqN-n.js";import"./index-BFhVTGQQ.js";import{I as R}from"./Input-DFtZp9vk.js";import{_ as X}from"./index-BhUXTHsq.js";import{_ as q}from"./index-Bd3BpNCC.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./Trigger-Bvakuge0.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./colors-DfoziJR7.js";import"./FormItemContext-B2RmG14m.js";import"./isPlainObject-OEy0Jz8l.js";import"./Col-CFxRRwN8.js";import"./responsiveObserve-DqAe0rZk.js";import"./collapseMotion-Brd6xpAT.js";import"./index-Bxqtz4sn.js";import"./Search-Cf7bcOZJ.js";import"./SearchOutlined-a_gTycfl.js";import"./inputProps-jdR54afw.js";import"./TextArea-DrgXbuSS.js";import"./index-Bhf8G0AA.js";import"./Password-fnCqxsm2.js";const K="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2016%2016'%3e%3cpath%20fill='currentColor'%20d='M5%204.667A1.333%201.333%200%201%200%205%202a1.333%201.333%200%200%200%200%202.667ZM6.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM6.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM11%204.667A1.333%201.333%200%201%200%2011%202a1.333%201.333%200%200%200%200%202.667ZM12.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM12.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200Z'%20data-follow-fill='%23000'/%3e%3c/svg%3e",W={class:"content-box"},Y={class:"custom-table"},ee={class:"t-head"},te={class:"td"},oe={class:"td"},se={class:"t-body"},ne={class:"t-item"},ae={key:0},ie={key:1},le={class:"t-item flex-center"},re={__name:"nav-setting",emits:["handleGetCompany"],setup(Z,{emit:i}){const r=D(),S=I.PRESENTED_IMAGE_SIMPLE,v=i,d=V([]),g=C(()=>r.top_navigate);let u=r.topNavigateDefaultData;F(()=>g.value,f=>{let s=f||[];d.value=s.map(t=>({...u.find(y=>y.id==t.id),...t}))},{deep:!0,immediate:!0});const p=()=>{x()},x=()=>{B({id:r.id,top_navigate:JSON.stringify(d.value)}).then(f=>{E.success("保存成功"),v("handleGetCompany")})};return(f,s)=>{const t=j,h=z,y=I;return c(),_("div",W,[e("div",Y,[e("div",ee,[e("div",te,[s[1]||(s[1]=e("span",{style:{"padding-left":"22px"}},"排序",-1)),o(t,{title:"长按图标拖动调整排序"},{default:l(()=>[o(a(M),{style:{"margin-left":"4px"}})]),_:1})]),e("div",oe,[s[2]||(s[2]=w(" 是否在顶部显示 ")),o(t,{title:"关闭后，将不显示在顶部导航栏。你依然可以点击右上角账号，在下拉菜单里面找到"},{default:l(()=>[o(a(M),{style:{"margin-left":"4px"}})]),_:1})])]),e("div",se,[o(a(A),{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=n=>d.value=n),"item-key":"id",onEnd:p,group:"table-rows",handle:".drag-btn"},{item:l(({element:n,index:N})=>[(c(),_("div",{key:n.id,class:"t-row"},[e("div",ne,[s[3]||(s[3]=e("span",{class:"drag-btn"},[e("img",{src:K,alt:""})],-1)),n.name.length>30?(c(),_("span",ae,[o(t,null,{title:l(()=>[w(m(n.name),1)]),default:l(()=>[w(" "+m(n.name.slice(0,30)+"..."),1)]),_:2},1024)])):(c(),_("span",ie,m(n.name),1))]),e("div",le,[o(h,{disabled:n.isDisabled,onChange:x,checked:n.open,"onUpdate:checked":b=>n.open=b,"checked-children":"开","un-checked-children":"关"},null,8,["disabled","checked","onUpdate:checked"])])]))]),_:1},8,["modelValue"])])]),d.value.length==0?(c(),L(y,{key:0,style:{margin:"108px 0 24px 0"},image:a(S)},null,8,["image"])):P("",!0)])}}},pe=$(re,[["__scopeId","data-v-b34a0c00"]]),ce={class:"enterprise-set"},me={class:"page-title"},de={class:"enterprise-box"},_e={class:"content-label"},ue={class:"content-name"},ve={key:0},ge={key:1,class:"gray-text"},fe={class:"enterprise-box"},he={__name:"index",setup(Z){const{t:i}=G(),r=D(),{companyInfo:S}=r,v=C(()=>r.name),d=C(()=>r.id),g=()=>{r.getCompanyInfo()};g();const u=V(!1),p=Q({name:"",id:""}),x=()=>{p.name=v.value,p.id=d.value,u.value=!0},f=()=>{T({...p}).then(s=>{E.success(i("common.saveSuccess")),g();let t=document.title.split("Chatwiki");document.title=t[0]+"Chatwiki "+p.name,u.value=!1})};return(s,t)=>{const h=X,y=q,n=R,N=J,b=H,U=O;return c(),_("div",ce,[e("div",me,m(a(i)("views.user.enterprise.enterpriseSettings")),1),e("div",de,[o(h,{align:"center"},{default:l(()=>[e("div",_e,m(a(i)("views.user.enterprise.systemName"))+"：",1),e("div",ue,[v.value?(c(),_("span",ve,m(v.value),1)):(c(),_("span",ge,m(a(i)("views.user.enterprise.notSetTip")),1))]),e("a",{class:"edit-btn",onClick:x},m(a(i)("common.change")),1)]),_:1})]),o(y),e("div",fe,[o(h,null,{default:l(()=>[t[2]||(t[2]=e("div",{class:"content-label",style:{"line-height":"32px"}},"顶部导航设置：",-1)),o(pe,{onHandleGetCompany:g})]),_:1,__:[2]})]),o(U,{open:u.value,"onUpdate:open":t[1]||(t[1]=k=>u.value=k),title:a(i)("views.user.enterprise.SetSystemName"),onOk:f},{default:l(()=>[o(b,{class:"form-box"},{default:l(()=>[o(N,{label:a(i)("views.user.enterprise.systemName")},{default:l(()=>[o(n,{maxlength:15,value:p.name,"onUpdate:value":t[0]||(t[0]=k=>p.name=k),placeholder:a(i)("views.user.enterprise.enterName")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1},8,["open","title"])])}}},Xe=$(he,[["__scopeId","data-v-3a701a2b"]]);export{Xe as default};
