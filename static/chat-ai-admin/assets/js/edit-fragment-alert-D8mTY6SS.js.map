{"version":3,"file":"edit-fragment-alert-D8mTY6SS.js","sources":["../../../../front-end/chat-ai-admin-vue/src/views/library/document-segmentation/components/empty.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/document-segmentation/components/ai-generate-modal.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/document-segmentation/components/segmentation-setting.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/document-segmentation/components/document-fragment.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/document-segmentation/components/edit-fragment-alert.vue"],"sourcesContent":["<template>\r\n  <div class=\"empty-box\">\r\n    <img src=\"../../../../assets/img/library/preview/empty.png\" alt=\"\" />\r\n    <div class=\"title\">{{ t('title') }}</div>\r\n    <div class=\"info\">{{ t('info') }}</div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.document-segmentation.components.empty')\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.empty-box {\r\n  padding-top: 70px;\r\n  width: 100%;\r\n  height: calc(100% - 20px);\r\n  background: #f2f4f7;\r\n  text-align: center;\r\n  img {\r\n    width: 200px;\r\n    height: 200px;\r\n  }\r\n  .title {\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    line-height: 24px;\r\n    color: #595959;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  .info {\r\n    color: rgba(0, 0, 0, 0.45);\r\n  }\r\n}\r\n</style>","<template>\r\n  <div>\r\n    <a-modal\r\n      v-model:open=\"open\"\r\n      @ok=\"handleOk\"\r\n      :maskClosable=\"false\"\r\n      :width=\"isGenerate ? '944px' : '472px'\"\r\n      :ok-button-props=\"{ style: { display: 'none' } }\"\r\n    >\r\n      <!-- 自定义标题 -->\r\n      <template #title>\r\n        <div class=\"custom-modal-header\">\r\n          <span>{{ t('title') }}</span>\r\n        </div>\r\n      </template>\r\n      <!-- AI生成表单 -->\r\n      <div class=\"ai-generate-wrapper\">\r\n        <div class=\"form-box-wrapper ai-generate-wrapper-box\" :class=\"{ 'show-generate': isGenerate }\">\r\n          <div class=\"ai-generate-wrapper-left\">\r\n            <a-alert class=\"alert-box\" :message=\"t('alert_message')\" type=\"info\" />\r\n            <!-- 模型选择 -->\r\n            <div class=\"form-box-wrapper-options\">\r\n              <div class=\"form-item flex1\">\r\n                <div class=\"form-label required\">{{ t('label_select_model') }}</div>\r\n                <div class=\"form-content\">\r\n                  <!-- 自定义选择器 -->\r\n                  <ModelSelect\r\n                    modelType=\"LLM\"\r\n                    v-model:modeName=\"formState.use_model\"\r\n                    v-model:modeId=\"formState.model_config_id\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <!-- 根据文档内容前和生成按钮 -->\r\n              <div class=\"form-item flex1\">\r\n                <div class=\"form-content dual-inputs\">\r\n                  <div class=\"input-group\">\r\n                    <div class=\"form-label required\">{{ t('label_content_prefix') }}</div>\r\n                    <div class=\"form-label-input-box\">\r\n                      <a-input-number\r\n                        v-model:value=\"formState.count\"\r\n                        :min=\"1\"\r\n                        :max=\"10000\"\r\n                        style=\"width: 137px;\"\r\n                      />{{ t('label_count_suffix') }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-item generate-btn-box\">\r\n              <a-button\r\n                @click=\"handleGenerate\"\r\n                :loading=\"generating\"\r\n                class=\"generate-btn\"\r\n              >\r\n                <svg-icon name=\"ai-generate-white\" style=\"font-size: 16px;\"></svg-icon>\r\n                {{ t('btn_generate') }}\r\n              </a-button>\r\n            </div>\r\n          </div>\r\n          <div class=\"ai-generate-wrapper-right\" :class=\"{ 'show-result': isGenerate }\">\r\n            <!-- 生成结果区域 -->\r\n            <div class=\"result-nav\">\r\n              <svg-icon name=\"generate-icon\" style=\"font-size: 14px;\"></svg-icon>\r\n              <span class=\"tip\" v-if=\"generating\">{{ t('tip_generating') }}</span>\r\n              <div class=\"result-nav-text\" v-else>{{ t('tip_completed') }}</div>\r\n            </div>\r\n\r\n            <div class=\"container\" v-if=\"!messageObj.content && generating && !isError\">\r\n              <div class=\"rect-container rect1\">\r\n                <div class=\"rect\"></div>\r\n              </div>\r\n              <div class=\"rect-container rect2\">\r\n                <div class=\"rect\"></div>\r\n              </div>\r\n              <div class=\"rect-container rect3\">\r\n                <div class=\"rect\"></div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"result-container\">\r\n              <div class=\"dialog-content\" v-html=\"renderedMarkdown\"></div>\r\n            </div>\r\n            <div class=\"result-footer\">\r\n              <a-button class=\"result-footer-btn\" :disabled=\"aiResult == ''\" type=\"primary\" @click=\"handleOk\">{{ t('btn_use_prompt') }}</a-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 底部自定义footer处理步骤切换 -->\r\n      <template #footer>\r\n      </template>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, reactive, nextTick, watch, computed } from 'vue'\r\nimport { message } from 'ant-design-vue'\r\nimport { generateAiPrompt } from '@/api/library'\r\nimport ModelSelect from '@/components/model-select/model-select.vue'\r\nimport MarkdownIt from 'markdown-it';\r\nimport { useLibraryStore } from '@/stores/modules/library'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.document-segmentation.components.ai-generate-modal')\r\n\r\nconst libraryStore = useLibraryStore()\r\nconst props = defineProps({\r\n  detailsInfo: {\r\n    type: Object\r\n  }\r\n})\r\n// 新增状态\r\nconst isError = ref(false)\r\nconst showResult = ref(false)\r\nconst generating = ref(false)\r\nconst isGenerate = ref(false)\r\nconst formState = reactive({\r\n  use_model: '',\r\n  use_model_icon: '', // 新增图标字段\r\n  use_model_name: '', // 新增系统名称\r\n  is_offline: '',\r\n  model_config_id: '',\r\n  count: 1000\r\n})\r\nconst md = new MarkdownIt({\r\n  html: true,        // 启用 HTML 标签\r\n  linkify: true,     // 自动转换 URL 为链接\r\n  typographer: true // 启用一些排版替换\r\n});\r\nconst renderedMarkdown = ref('');\r\nconst messageObj = reactive({\r\n  content: '',\r\n})\r\nconst documentFragmentList = computed(() => libraryStore.initDocumentFragmentList)\r\nwatch(() => messageObj.content, () => {\r\n  renderedMarkdown.value = md.render(messageObj.content);\r\n})\r\n\r\nconst emit = defineEmits(['handleEdit'])\r\nconst currentModelDefine = ref('')\r\nconst modelDefine = ['azure', 'ollama', 'xinference', 'openaiAgent']\r\nconst open = ref(false)\r\nconst showModal = () => {\r\n  // 重置AI生成状态\r\n  showResult.value = false\r\n  isGenerate.value = false\r\n  open.value = true\r\n}\r\n\r\nconst handleOk = () => {\r\n  message.success(t('message_success'))\r\n  showResult.value = false\r\n  isGenerate.value = false\r\n  open.value = false\r\n  emit('handleEdit', aiResult.value)\r\n}\r\n\r\nconst aiResult = ref('')\r\n\r\n// JS实现数组内容拼接并截取\r\nfunction concatContentsByLength(arr, maxLength) {\r\n  let result = '';\r\n  let currentLength = 0;\r\n  for (const item of arr) {\r\n      if (currentLength >= maxLength) break;\r\n      const content = item.content.trim() || '';\r\n      const remaining = maxLength - currentLength;\r\n      if (content.length <= remaining) {\r\n          result += content;\r\n          currentLength += content.length;\r\n      } else {\r\n          result += content.slice(0, remaining);\r\n          currentLength = maxLength;\r\n          break;\r\n      }\r\n  }\r\n  return result;\r\n}\r\n// 处理生成请求\r\nconst handleGenerate = async () => {\r\n  messageObj.content = ''\r\n  aiResult.value = ''\r\n  generating.value = true\r\n  isGenerate.value = true\r\n  try {\r\n    const ai_prompt_question = await concatContentsByLength(documentFragmentList.value, formState.count)\r\n    let params = {\r\n      ai_prompt_model_config_id: formState.model_config_id,\r\n      ai_prompt_model: formState.use_model,\r\n      ai_prompt_question: ai_prompt_question\r\n    }\r\n    const res = await generateAiPrompt(params)\r\n    // 接口调用\r\n    aiResult.value = res.data\r\n    messageObj.content = `<div class=\"dialog-message\">${ res.data }</div>`\r\n    showResult.value = true\r\n  } finally {\r\n    generating.value = false\r\n  }\r\n}\r\n\r\ndefineExpose({ showModal })\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.custom-modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n\r\n  span {\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n  }\r\n}\r\n\r\n.dual-inputs {\r\n  display: flex;\r\n  gap: 16px;\r\n  align-items: flex-end;\r\n  \r\n  .input-group {\r\n    flex: 1;\r\n  }\r\n\r\n  .form-label-input-box {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 4px;\r\n  }\r\n}\r\n\r\n.result-container {\r\n  position: relative;\r\n  padding-bottom: 50px;\r\n\r\n  .dialog-content {\r\n    margin-top: 16px;\r\n    max-height: 400px;\r\n    overflow-y: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 16px;\r\n    color: #262626;\r\n    text-align: left;\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: 22px;\r\n  }\r\n}\r\n\r\n.ai-generate-wrapper {\r\n  :deep(.ant-modal-body) {\r\n    padding: 24px;\r\n  }\r\n}\r\n\r\n.flex1 {\r\n  flex: 1;\r\n}\r\n\r\n.form-box-wrapper {\r\n  .form-box-wrapper-options {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 16px;\r\n    align-items: center;\r\n    width: 408px;\r\n    margin-top: 16px;\r\n  }\r\n  .form-item {\r\n    width: 100%;\r\n  }\r\n\r\n  .form-label {\r\n    color: #262626;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    &.required::before {\r\n      content: '*';\r\n      display: inline-block;\r\n      color: #fb363f;\r\n      margin-right: 2px;\r\n    }\r\n  }\r\n  .form-content {\r\n    margin-top: 4px;\r\n\r\n    .form-content-tip {\r\n      align-self: stretch;\r\n      color: #8c8c8c;\r\n      font-size: 14px;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      line-height: 22px;\r\n    }\r\n  }\r\n}\r\n\r\n.generate-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  background: var(---ai, linear-gradient(94deg, #2475FC 0.65%, #3C01FF 53.2%, #C20CFF 100%));\r\n  color: #ffffff;\r\n  font-size: 14px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: 32px;\r\n  width: 160px;\r\n\r\n  &:hover {\r\n    color: white !important;\r\n  }\r\n}\r\n\r\n.ai-generate-wrapper-box {\r\n  display: flex;\r\n  min-height: 274px;\r\n  // min-height: 534px;\r\n\r\n  .ai-generate-wrapper-left {\r\n    position: relative;\r\n    flex: 1;\r\n    padding-right: 12px;\r\n\r\n    .generate-btn-box {\r\n      display: flex;\r\n      justify-content: center;\r\n      position: absolute;\r\n      left: 50%;\r\n      bottom: 0px;\r\n      transform: translateX(-50%);\r\n    }\r\n  }\r\n\r\n  .ai-generate-wrapper-right {\r\n    position: relative;\r\n    flex: 1;\r\n    // border-left: 1px solid #f0f0f0;\r\n    padding: 0 32px;\r\n    max-height: 0;\r\n    overflow: hidden;\r\n    transition: all 0.3s ease;\r\n\r\n    &.show-result {\r\n      max-height: 534px;\r\n    }\r\n\r\n    .result-nav {\r\n      width: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n\r\n      .result-nav-text {\r\n        color: #6524fc;\r\n        font-size: 14px;\r\n        font-style: normal;\r\n        font-weight: 400;\r\n        line-height: 22px;\r\n      }\r\n    }\r\n\r\n    .result-footer {\r\n      position: absolute;\r\n      left: 50%;\r\n      bottom: 0px;\r\n      transform: translateX(-50%);\r\n\r\n      .result-footer-btn {\r\n        width: 160px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.show-generate {\r\n  min-height: 534px;\r\n}\r\n\r\n.container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  margin-top: 12px;\r\n}\r\n\r\n.rect-container {\r\n  overflow: hidden;\r\n  height: 20px;\r\n\r\n  &.rect1 {\r\n    width: 206px;\r\n  }\r\n\r\n  &.rect2,\r\n  &.rect3 {\r\n    width: 408px;\r\n  }\r\n}\r\n\r\n.rect {\r\n  height: 100%;\r\n  width: 100%;\r\n  border-radius: 24px;\r\n  background: linear-gradient(94deg, #00BFFF 2.9%, #C1C4FF 63.43%, #FFF 98.28%);\r\n  transform-origin: left;\r\n  animation: slide 1s infinite;\r\n\r\n  .rect2 & {\r\n    animation-delay: 0.1s;\r\n  }\r\n\r\n  .rect3 & {\r\n    animation-delay: 0.2s;\r\n  }\r\n}\r\n\r\n@keyframes slide {\r\n  from {\r\n    transform: scaleX(0);\r\n  }\r\n\r\n  to {\r\n    transform: scaleX(1);\r\n  }\r\n}\r\n</style>\r\n","<style lang=\"less\" scoped>\r\n.segmentation-setting {\r\n  .setting-item {\r\n    margin-bottom: 16px;\r\n    transition: all 0.2s;\r\n    border: 1px solid #fff;\r\n\r\n    .setting-item-header {\r\n      display: flex;\r\n      align-items: center;\r\n      height: 72px;\r\n      padding-left: 16px;\r\n      border-radius: 2px;\r\n      background-color: #f5f5f5;\r\n      transition: all 0.2s;\r\n      cursor: pointer;\r\n\r\n      .setting-item-icon {\r\n        width: 40px;\r\n        height: 40px;\r\n        background-repeat: no-repeat;\r\n        background-size: cover;\r\n      }\r\n\r\n      .setting-item-info {\r\n        padding-left: 8px;\r\n      }\r\n\r\n      .setting-item-name {\r\n        line-height: 22px;\r\n        font-size: 14px;\r\n        font-weight: 600;\r\n        color: #242933;\r\n      }\r\n\r\n      .setting-item-desc {\r\n        line-height: 20px;\r\n        padding-top: 2px;\r\n        font-size: 12px;\r\n        font-weight: 400;\r\n        color: #3a4559;\r\n      }\r\n    }\r\n\r\n    &:hover {\r\n      border-radius: 4px;\r\n      overflow: hidden;\r\n\r\n      .setting-item-header {\r\n        background: #e5efff;\r\n      }\r\n    }\r\n\r\n    &.active {\r\n      border-radius: 4px;\r\n      overflow: hidden;\r\n\r\n      .setting-item-header {\r\n        background: #e5efff;\r\n      }\r\n    }\r\n\r\n    .intelligent-icon {\r\n      background-image: url('@/assets/img/library/document-segmentation/intelligent.svg');\r\n    }\r\n\r\n    .intelligent-icon.active {\r\n      background-image: url('@/assets/img/library/document-segmentation/intelligent_active.svg');\r\n    }\r\n\r\n    .custom-icon {\r\n      background-image: url('@/assets/img/library/document-segmentation/custom.svg');\r\n    }\r\n\r\n    .custom-icon.active {\r\n      background-image: url('@/assets/img/library/document-segmentation/custom_active.svg');\r\n    }\r\n  }\r\n\r\n  .sub-setting-item-name {\r\n    height: 30px;\r\n    line-height: 30px;\r\n    padding-left: 8px;\r\n    margin-bottom: 16px;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    color: #242933;\r\n    background-color: #f2f4f7;\r\n  }\r\n\r\n  .document-types {\r\n    display: flex;\r\n    margin-bottom: 16px;\r\n\r\n    .document-type {\r\n      display: inline-flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      border-radius: 2px;\r\n      padding: 5px 16px;\r\n      margin-right: 8px;\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n      color: #595959;\r\n      background: #fff;\r\n      border: 1px solid #d9d9d9;\r\n      cursor: pointer;\r\n      transition: all 0.2s;\r\n\r\n      &:last-child {\r\n        margin-right: 0;\r\n      }\r\n\r\n      &.active {\r\n        color: #2475fc;\r\n        background: #f5f9ff;\r\n        border: 1px solid #2475fc;\r\n      }\r\n    }\r\n  }\r\n\r\n  .custom-setting-form {\r\n    .form-item {\r\n      margin-bottom: 16px;\r\n      flex: 1;\r\n    }\r\n    .flex {\r\n      display: flex;\r\n      gap: 16px;\r\n\r\n      .form-item-box {\r\n        flex: 1;\r\n      }\r\n    }\r\n\r\n    .form-item-label-box {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n\r\n      .ai-generate {\r\n        cursor: pointer;\r\n        display: inline-flex;\r\n        align-items: center;\r\n        padding: 1px 8px;\r\n        justify-content: center;\r\n        align-items: center;\r\n        gap: 4px;\r\n        border-radius: 6px;\r\n        margin-bottom: 3px;\r\n\r\n        &:hover {\r\n          background: #E4E6EB;\r\n        }\r\n\r\n        .ai-generate-text {\r\n          color: #6524fc;\r\n          font-size: 14px;\r\n          font-style: normal;\r\n          font-weight: 400;\r\n          line-height: 22px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .form-item-label {\r\n      line-height: 22px;\r\n      margin-bottom: 4px;\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n      color: #262626;\r\n      &.not-required {\r\n        &::before {\r\n          content: '';\r\n        }\r\n      }\r\n      &::before {\r\n        content: '*';\r\n        font-size: 14px;\r\n        line-height: 22px;\r\n        padding-right: 2px;\r\n        color: #fb363f;\r\n      }\r\n    }\r\n\r\n    .unit-text {\r\n      font-size: 14px;\r\n      color: #595959;\r\n    }\r\n    .form-tip {\r\n      color: #8c8c8c;\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n      line-height: 22px;\r\n      margin-top: 2px;\r\n    }\r\n\r\n    .form-item-tip {\r\n      color: #8c8c8c;\r\n      font-size: 12px;\r\n      font-weight: 400;\r\n      line-height: 14px;\r\n      margin: 2px 0 6px;\r\n    }\r\n\r\n    .form-item-title {\r\n      color: #262626;\r\n      font-size: 14px;\r\n      font-style: normal;\r\n      font-weight: 600;\r\n      line-height: 22px;\r\n      margin-bottom: 8px;\r\n    }\r\n  }\r\n  .excel-qa-form {\r\n    .form-item {\r\n      flex-wrap: wrap;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px 16px;\r\n      .form-item-box {\r\n        width: calc(50% - 8px);\r\n      }\r\n      .form-item-label {\r\n        padding-top: 5px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .indexing-methods-box {\r\n    .list-item {\r\n      margin-top: 8px;\r\n      padding: 16px;\r\n      border: 1px solid #d9d9d9;\r\n      position: relative;\r\n      cursor: pointer;\r\n      &.active {\r\n        border: 2px solid #2475fc;\r\n        .list-title-block {\r\n          color: #2475fc;\r\n          .svg-action {\r\n            font-size: 16px;\r\n            color: #2475fc;\r\n          }\r\n        }\r\n        .check-icon {\r\n          display: block;\r\n        }\r\n      }\r\n      .check-icon {\r\n        position: absolute;\r\n        right: 0;\r\n        bottom: 0;\r\n        font-size: 18px;\r\n        color: #fff;\r\n        display: none;\r\n      }\r\n      .list-title-block {\r\n        display: flex;\r\n        align-items: center;\r\n        font-size: 14px;\r\n        font-weight: 600;\r\n        line-height: 22px;\r\n        color: #262626;\r\n        .svg-action {\r\n          font-size: 16px;\r\n          margin-right: 4px;\r\n          color: #262626;\r\n        }\r\n      }\r\n      .list-content {\r\n        margin-top: 4px;\r\n        color: #595959;\r\n        font-size: 14px;\r\n        line-height: 22px;\r\n      }\r\n    }\r\n  }\r\n  .btn-box-block {\r\n    margin-top: 16px;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 12px;\r\n  }\r\n  .select-card-box {\r\n    display: flex;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    width: 100%;\r\n    .select-card-item {\r\n      width: 100%;\r\n      position: relative;\r\n      padding: 16px;\r\n      border-radius: 6px;\r\n      border: 1px solid #d9d9d9;\r\n      cursor: pointer;\r\n      .check-arrow {\r\n        position: absolute;\r\n        display: block;\r\n        right: -1px;\r\n        bottom: -1px;\r\n        width: 24px;\r\n        height: 24px;\r\n        font-size: 24px;\r\n        color: #fff;\r\n        opacity: 0;\r\n        transition: all 0.2s cubic-bezier(0.8, 0, 1, 1);\r\n      }\r\n      .card-title {\r\n        display: flex;\r\n        align-items: center;\r\n        line-height: 22px;\r\n        margin-bottom: 4px;\r\n        color: #262626;\r\n        font-weight: 600;\r\n        font-size: 14px;\r\n      }\r\n      .title-icon {\r\n        margin-right: 4px;\r\n        font-size: 16px;\r\n      }\r\n      .card-desc {\r\n        min-height: 44px;\r\n        line-height: 22px;\r\n        font-size: 14px;\r\n        color: #595959;\r\n      }\r\n\r\n      &.active {\r\n        background: var(--01-, #e5efff);\r\n        border: 2px solid #2475fc;\r\n        .check-arrow {\r\n          opacity: 1;\r\n        }\r\n        .card-title {\r\n          color: #2475fc;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.form-item-inptu-numbner-box {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.form-item-inptu-numbner {\r\n  flex: 1;\r\n  margin-right: 5px;\r\n}\r\n\r\n.main-title-block{\r\n  margin: 16px 0;\r\n  padding-bottom: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  border-bottom: 1px solid #d9d9d9;\r\n}\r\n\r\n</style>\r\n\r\n<template>\r\n  <div class=\"segmentation-setting\">\r\n    <div class=\"setting-items\">\r\n      <div class=\"setting-item intelligent-setting active\">\r\n        <div class=\"setting-item-body\">\r\n          <!-- <div class=\"sub-setting-item-name\">文档类型</div> -->\r\n\r\n          <div class=\"document-types\" v-if=\"false\">\r\n            <div\r\n              class=\"document-type\"\r\n              :class=\"{ active: formState.is_qa_doc == 0 }\"\r\n              @click=\"changeDocumentType(0)\"\r\n            >\r\n              {{ t('document_type_normal') }}\r\n            </div>\r\n            <div\r\n              class=\"document-type\"\r\n              :class=\"{ active: formState.is_qa_doc == 1 }\"\r\n              @click=\"changeDocumentType(1)\"\r\n            >\r\n              {{ t('document_type_qa') }}\r\n            </div>\r\n          </div>\r\n          <!-- <a-space class=\"custom-setting-form\" v-if=\"isHtmlOrDocx\">\r\n            <div class=\"form-item\">\r\n              <div class=\"form-item-label\">提取图片</div>\r\n              <div class=\"form-item-body\">\r\n                <a-switch\r\n                  @change=\"onChange\"\r\n                  v-model:checked=\"formState.enable_extract_image\"\r\n                ></a-switch>\r\n                <div class=\"form-tip\">\r\n                  开启提取图片功能，将自动从文档中提取图片，作为图片上方文本分段的附件。仅支持.docx文件和网页\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </a-space> -->\r\n          <template v-if=\"formState.is_qa_doc == 1\">\r\n            <div class=\"sub-setting-item-name\">{{ t('file_split') }}</div>\r\n            <!-- 表格类型的QA文档 -->\r\n            <div class=\"custom-setting-form excel-qa-form\" v-if=\"props.mode == 1\">\r\n              <div class=\"form-item\">\r\n                <div class=\"form-item-box\">\r\n                  <div class=\"form-item-label\">{{ t('question_column') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-select\r\n                      v-model:value=\"formState.question_column\"\r\n                      @change=\"onChagneFormInput\"\r\n                      :placeholder=\"t('ph_select_column')\"\r\n                      style=\"width: 100%\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"item in props.excellQaLists\"\r\n                        :value=\"item.value\"\r\n                        :key=\"item.value\"\r\n                        >{{ item.lable }}</a-select-option\r\n                      >\r\n                    </a-select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-item-box\">\r\n                  <div class=\"form-item-label not-required\">{{ t('similar_question_column') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-select\r\n                      allowClear\r\n                      v-model:value=\"formState.similar_column\"\r\n                      @change=\"onChagneFormInput\"\r\n                      :placeholder=\"t('ph_select_similar_column')\"\r\n                      style=\"width: 100%\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"item in props.excellQaLists\"\r\n                        :value=\"item.value\"\r\n                        :key=\"item.value\"\r\n                        >{{ item.lable }}</a-select-option\r\n                      >\r\n                    </a-select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-item-box\">\r\n                  <div class=\"form-item-label\">{{ t('answer_column') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-select\r\n                      v-model:value=\"formState.answer_column\"\r\n                      @change=\"onChagneFormInput\"\r\n                      :placeholder=\"t('ph_select_answer_column')\"\r\n                      style=\"width: 100%\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"item in props.excellQaLists\"\r\n                        :value=\"item.value\"\r\n                        :key=\"item.value\"\r\n                        >{{ item.lable }}</a-select-option\r\n                      >\r\n                    </a-select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"sub-setting-item-name\">{{ t('indexing_method') }}</div>\r\n              <div class=\"indexing-methods-box\">\r\n                <div\r\n                  class=\"list-item\"\r\n                  :class=\"{ active: formState.qa_index_type == 1 }\"\r\n                  @click=\"handleChangeQaIndexType(1)\"\r\n                >\r\n                  <svg-icon class=\"check-icon\" name=\"check-arrow-filled\"></svg-icon>\r\n                  <div class=\"list-title-block\">\r\n                    <svg-icon name=\"file-search\"></svg-icon>\r\n                    {{ t('qa_index_with_answer') }}\r\n                  </div>\r\n                  <div class=\"list-content\">\r\n                    {{ t('qa_index_with_answer_desc') }}\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  class=\"list-item\"\r\n                  :class=\"{ active: formState.qa_index_type == 2 }\"\r\n                  @click=\"handleChangeQaIndexType(2)\"\r\n                >\r\n                  <svg-icon class=\"check-icon\" name=\"check-arrow-filled\"></svg-icon>\r\n                  <div class=\"list-title-block\">\r\n                    <svg-icon name=\"comment-search\"></svg-icon>\r\n                    {{ t('qa_index_question_only') }}\r\n                  </div>\r\n                  <div class=\"list-content\">\r\n                    {{ t('qa_index_question_only_desc') }}\r\n                  </div>\r\n                </div>\r\n                <!-- 新增的操作按钮 -->\r\n                <div class=\"btn-box-block\">\r\n                  <!-- <a-button\r\n                    @click=\"reChange\"\r\n                    :loading=\"reLoading\"\r\n                    style=\"flex: 1\"\r\n                    type=\"primary\"\r\n                    ghost\r\n                    >{{ t('btn_generate_segment_preview') }}</a-button\r\n                  > -->\r\n                </div>\r\n                <div class=\"btn-box-block\">\r\n                  <a-button type=\"primary\" block @click=\"onSave\">{{ t('btn_save') }}</a-button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"custom-setting-form excel-qa-form\" v-else>\r\n              <div class=\"form-item\">\r\n                <div class=\"form-item-box\">\r\n                  <div class=\"form-item-label\">{{ t('question_start_label') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-input\r\n                      :placeholder=\"t('ph_input_label')\"\r\n                      v-model:value=\"formState.question_lable\"\r\n                      @change=\"onChagneFormInput\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-item-box\">\r\n                  <div class=\"form-item-label not-required\">{{ t('similar_question_start_label') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-input\r\n                      :placeholder=\"t('ph_input_label')\"\r\n                      v-model:value=\"formState.similar_label\"\r\n                      @change=\"onChagneFormInput\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-item-box\">\r\n                  <div class=\"form-item-label\">{{ t('answer_start_label') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-input\r\n                      :placeholder=\"t('ph_input_label')\"\r\n                      v-model:value=\"formState.answer_lable\"\r\n                      @change=\"onChagneFormInput\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"sub-setting-item-name\">{{ t('indexing_method') }}</div>\r\n              <div class=\"indexing-methods-box\">\r\n                <div\r\n                  class=\"list-item\"\r\n                  :class=\"{ active: formState.qa_index_type == 1 }\"\r\n                  @click=\"handleChangeQaIndexType(1)\"\r\n                >\r\n                  <svg-icon class=\"check-icon\" name=\"check-arrow-filled\"></svg-icon>\r\n                  <div class=\"list-title-block\">\r\n                    <svg-icon name=\"file-search\"></svg-icon>\r\n                    {{ t('qa_index_with_answer') }}\r\n                  </div>\r\n                  <div class=\"list-content\">\r\n                    {{ t('qa_index_with_answer_desc') }}\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  class=\"list-item\"\r\n                  :class=\"{ active: formState.qa_index_type == 2 }\"\r\n                  @click=\"handleChangeQaIndexType(2)\"\r\n                >\r\n                  <svg-icon class=\"check-icon\" name=\"check-arrow-filled\"></svg-icon>\r\n                  <div class=\"list-title-block\">\r\n                    <svg-icon name=\"comment-search\"></svg-icon>\r\n                    {{ t('qa_index_question_only') }}\r\n                  </div>\r\n                  <div class=\"list-content\">\r\n                    {{ t('qa_index_question_only_desc') }}\r\n                  </div>\r\n                </div>\r\n                <!-- 新增的操作按钮 -->\r\n                <div class=\"btn-box-block\">\r\n                  <!-- <a-button\r\n                    @click=\"reChange\"\r\n                    :loading=\"reLoading\"\r\n                    style=\"flex: 1\"\r\n                    type=\"primary\"\r\n                    ghost\r\n                    >{{ t('btn_generate_segment_preview') }}</a-button\r\n                  > -->\r\n                </div>\r\n                <div class=\"btn-box-block\">\r\n                  <a-button type=\"primary\" block @click=\"onSave\">{{ t('btn_save') }}</a-button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <template v-else>\r\n            <div class=\"custom-setting-form subsection-form\" v-if=\"props.mode != 1\">\r\n              <div class=\"form-item\">\r\n                <div class=\"form-item-title\" v-if=\"status === 'paragraphsSegmented'\">{{ t('segmentation_cleaning_rules') }}</div>\r\n                <div class=\"form-item-label\">{{ t('segmentation_method') }}</div>\r\n                <div class=\"form-item-body\">\r\n                  <div class=\"form-item-tip\">\r\n                    {{ t('segmentation_method_tip') }}\r\n                  </div>\r\n                  <div class=\"select-card-box\">\r\n                    <div\r\n                      class=\"select-card-item\"\r\n                      @click=\"formState.chunk_type = 1\"\r\n                      :class=\"{ active: formState.chunk_type == 1 }\"\r\n                    >\r\n                      <svg-icon class=\"check-arrow\" name=\"check-arrow-filled\"></svg-icon>\r\n                      <div class=\"card-title\">\r\n                        <svg-icon name=\"ordinary-segmentation\" class=\"title-icon\"></svg-icon>\r\n                        {{ t('ordinary_segmentation') }}\r\n                      </div>\r\n                      <div class=\"card-desc\">\r\n                        {{ t('ordinary_segmentation_desc') }}\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      class=\"select-card-item\"\r\n                      @click=\"formState.chunk_type = 2\"\r\n                      :class=\"{ active: formState.chunk_type == 2 }\"\r\n                    >\r\n                      <svg-icon class=\"check-arrow\" name=\"check-arrow-filled\"></svg-icon>\r\n                      <div class=\"card-title\">\r\n                        <svg-icon name=\"semantic-segmentation\" class=\"title-icon\"></svg-icon>\r\n                        {{ t('semantic_segmentation') }}\r\n                      </div>\r\n                      <div class=\"card-desc\">\r\n                        {{ t('semantic_segmentation_desc') }}\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      v-if=\"props.library_type == 0\"\r\n                      class=\"select-card-item\"\r\n                      @click=\"formState.chunk_type = 4\"\r\n                      :class=\"{ active: formState.chunk_type == 4 }\"\r\n                    >\r\n                      <svg-icon class=\"check-arrow\" name=\"check-arrow-filled\"></svg-icon>\r\n                      <div class=\"card-title\">\r\n                        <svg-icon name=\"semantic-segmentation\" class=\"title-icon\"></svg-icon>\r\n                        {{ t('parent_child_segmentation') }}\r\n                      </div>\r\n                      <div class=\"card-desc\">\r\n                        {{ t('parent_child_segmentation_desc') }}\r\n                      </div>\r\n                    </div>\r\n                    <div\r\n                      class=\"select-card-item\"\r\n                      @click=\"formState.chunk_type = 3\"\r\n                      :class=\"{ active: formState.chunk_type == 3 }\"\r\n                    >\r\n                      <svg-icon class=\"check-arrow\" name=\"check-arrow-filled\"></svg-icon>\r\n                      <div class=\"card-title\">\r\n                        <svg-icon name=\"semantic-segmentation\" class=\"title-icon\"></svg-icon>\r\n                        {{ t('ai_segmentation') }}\r\n                      </div>\r\n                      <div class=\"card-desc\">\r\n                        {{ t('ai_segmentation_desc') }}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <template v-if=\"formState.chunk_type == 1\">\r\n                <div class=\"form-item\" style=\"margin-bottom: 18px\">\r\n                  <div class=\"form-item-label\">{{ t('segmentation_separator') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-select\r\n                      :placeholder=\"t('ph_select')\"\r\n                      style=\"width: 100%\"\r\n                      mode=\"tags\"\r\n                      v-model:value=\"formState.separators_no\"\r\n                    >\r\n                      <a-select-option\r\n                        :value=\"item.no\"\r\n                        v-for=\"item in separatorsOptions\"\r\n                        :key=\"item.no\"\r\n                        >{{ item.name }}</a-select-option\r\n                      >\r\n                    </a-select>\r\n                  </div>\r\n                </div>\r\n                <a-flex :gap=\"16\">\r\n                  <div class=\"form-item\">\r\n                    <div class=\"form-item-label\">{{ t('segmentation_max_length') }}</div>\r\n                    <div class=\"form-item-body\">\r\n                      <a-flex align=\"center\" :gap=\"8\">\r\n                        <a-input-number\r\n                          style=\"flex: 1\"\r\n                          v-model:value=\"formState.chunk_size\"\r\n                          :placeholder=\"t('ph_segmentation_max_length')\"\r\n                          :min=\"200\"\r\n                          :max=\"10000\"\r\n                          :precision=\"0\"\r\n                          :formatter=\"(value) => parseInt(value)\"\r\n                          :parser=\"(value) => parseInt(value)\"\r\n                        /><span class=\"unit-text\">{{ t('unit_characters') }}</span>\r\n                      </a-flex>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-item\">\r\n                    <div class=\"form-item-label not-required\">{{ t('segmentation_overlap_length') }}</div>\r\n                    <div class=\"form-item-body\">\r\n                      <a-flex align=\"center\" :gap=\"8\">\r\n                        <a-input-number\r\n                          style=\"flex: 1\"\r\n                          v-model:value=\"formState.chunk_overlap\"\r\n                          :placeholder=\"t('ph_segmentation_overlap_length')\"\r\n                          :min=\"0\"\r\n                          :formatter=\"(value) => parseInt(value)\"\r\n                          :parser=\"(value) => parseInt(value)\"\r\n                        /><span class=\"unit-text\">{{ t('unit_characters') }}</span>\r\n                      </a-flex>\r\n                    </div>\r\n                  </div>\r\n                </a-flex>\r\n                <div class=\"form-item\">\r\n                  <div class=\"form-item-body\">\r\n                    <a-flex align=\"center\">\r\n                      <div>{{ t('auto_merge_small_segments') }}\r\n                        <a-tooltip :title=\"t('auto_merge_small_segments_tooltip')\">\r\n                           <QuestionCircleOutlined />\r\n                        </a-tooltip>\r\n                       ：</div>\r\n                      <a-switch\r\n                        :checkedValue=\"false\"\r\n                        :unCheckedValue=\"true\"\r\n                        v-model:checked=\"formState.not_merged_text\"\r\n                        :checked-children=\"t('switch_on')\"\r\n                        :un-checked-children=\"t('switch_off')\"\r\n                      />\r\n                    </a-flex>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n              <div v-show=\"formState.chunk_type == 2\">\r\n                <div class=\"form-item\" style=\"margin-bottom: 16px\">\r\n                  <div class=\"form-item-label\">{{ t('embedding_model') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <ModelSelect\r\n                      modelType=\"TEXT EMBEDDING\"\r\n                      v-model:modeName=\"formState.semantic_chunk_use_model\"\r\n                      v-model:modeId=\"formState.semantic_chunk_model_config_id\"\r\n                      style=\"width: 100%\"\r\n                      @loaded=\"onVectorModelLoaded\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-item\" style=\"margin-bottom: 16px\">\r\n                  <div class=\"form-item-label\">\r\n                    {{ t('segmentation_threshold') }}\r\n                    <a-tooltip>\r\n                      <template #title\r\n                        >{{ t('segmentation_threshold_tooltip') }}</template\r\n                      >\r\n                      <QuestionCircleOutlined\r\n                        style=\"cursor: pointer; margin-left: 2px\"\r\n                      /> </a-tooltip\r\n                    >：\r\n                  </div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-input-number\r\n                      style=\"width: 100%\"\r\n                      v-model:value=\"formState.semantic_chunk_threshold\"\r\n                      :placeholder=\"t('ph_input_segmentation_threshold')\"\r\n                      :precision=\"0\"\r\n                      :min=\"0\"\r\n                      :max=\"100\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <a-flex :gap=\"16\">\r\n                  <div class=\"form-item\">\r\n                    <div class=\"form-item-label\">{{ t('segmentation_max_length') }}</div>\r\n                    <div class=\"form-item-body\">\r\n                      <a-flex align=\"center\" :gap=\"8\">\r\n                        <a-input-number\r\n                          style=\"flex: 1\"\r\n                          v-model:value=\"formState.semantic_chunk_size\"\r\n                          :placeholder=\"t('ph_segmentation_max_length')\"\r\n                          :min=\"200\"\r\n                          :max=\"10000\"\r\n                          :precision=\"0\"\r\n                          :formatter=\"(value) => parseInt(value)\"\r\n                          :parser=\"(value) => parseInt(value)\"\r\n                        /><span class=\"unit-text\">{{ t('unit_characters') }}</span>\r\n                      </a-flex>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"form-item\">\r\n                    <div class=\"form-item-label not-required\">{{ t('segmentation_overlap_length') }}</div>\r\n                    <div class=\"form-item-body\">\r\n                      <a-flex align=\"center\" :gap=\"8\">\r\n                        <a-input-number\r\n                          style=\"flex: 1\"\r\n                          v-model:value=\"formState.semantic_chunk_overlap\"\r\n                          :placeholder=\"t('ph_segmentation_overlap_length')\"\r\n                          :min=\"0\"\r\n                          :formatter=\"(value) => parseInt(value)\"\r\n                          :parser=\"(value) => parseInt(value)\"\r\n                        /><span class=\"unit-text\">{{ t('unit_characters') }}</span>\r\n                      </a-flex>\r\n                    </div>\r\n                  </div>\r\n                </a-flex>\r\n              </div>\r\n              <!-- AI分段 -->\r\n              <div v-show=\"formState.chunk_type == 3\">\r\n                <div class=\"form-item\" style=\"margin-bottom: 16px\">\r\n                  <div class=\"form-item-label\">{{ t('ai_llm') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <ModelSelect\r\n                      modelType=\"LLM\"\r\n                      :placeholder=\"t('ph_select_ai_llm')\"\r\n                      v-model:modeName=\"formState.ai_chunk_model\"\r\n                      v-model:modeId=\"formState.ai_chunk_model_config_id\"\r\n                      :modeName=\"formState.ai_chunk_model\"\r\n                      :modeId=\"formState.ai_chunk_model_config_id\"\r\n                      style=\"width: 100%\"\r\n                      @loaded=\"onVectorModelLoaded\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-item\" style=\"margin-bottom: 16px\">\r\n                  <div class=\"form-item-label-box\">\r\n                    <div class=\"form-item-label\">{{ t('prompt_setting') }}</div>\r\n                  </div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-textarea\r\n                      :maxLength=\"500\"\r\n                      style=\"height: 80px\"\r\n                      v-model:value=\"formState.ai_chunk_prumpt\"\r\n                      :placeholder=\"defaultAiChunkPrumpt\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"form-item\" style=\"margin-bottom: 16px\">\r\n                  <div class=\"form-item-label\">\r\n                    {{ t('max_characters_per_time') }}\r\n                    <a-tooltip>\r\n                      <template #title\r\n                        >{{ t('max_characters_per_time_tooltip') }}</template\r\n                      >\r\n                      <QuestionCircleOutlined\r\n                        style=\"cursor: pointer; margin-left: 2px\"\r\n                      /> </a-tooltip\r\n                    >：\r\n                  </div>\r\n                  <div class=\"form-item-body form-item-inptu-numbner-box\">\r\n                    <a-input-number\r\n                      class=\"form-item-inptu-numbner\"\r\n                      v-model:value=\"formState.ai_chunk_size\"\r\n                      :placeholder=\"t('ph_input_max_characters')\"\r\n                      :precision=\"0\"\r\n                      :min=\"0\"\r\n                      :formatter=\"(value) => parseInt(value)\"\r\n                      :parser=\"(value) => parseInt(value)\"\r\n                    />\r\n                    {{ t('unit_characters') }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <template v-if=\"formState.chunk_type == 4 && props.library_type == 0\">\r\n                <div class=\"main-title-block\">{{ t('parent_block_context') }}</div>\r\n                <div class=\"form-item\">\r\n                  <div class=\"form-item-label\">{{ t('segmentation_type') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-radio-group v-model:value=\"formState.father_chunk_paragraph_type\">\r\n                      <a-radio :value=\"1\">{{ t('segmentation_type_full_text') }}\r\n                        <a-tooltip :title=\"t('segmentation_type_full_text_tooltip')\">\r\n                          <QuestionCircleOutlined />\r\n                        </a-tooltip>\r\n                      </a-radio>\r\n                      <a-radio :value=\"2\">{{ t('segmentation_type_paragraph') }}\r\n                        <a-tooltip :title=\"t('segmentation_type_paragraph_tooltip')\">\r\n                          <QuestionCircleOutlined />\r\n                        </a-tooltip>\r\n                      </a-radio>\r\n                    </a-radio-group>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-item\" v-if=\"formState.father_chunk_paragraph_type == 2\">\r\n                  <div class=\"form-item-label\">{{ t('segmentation_separator') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-select\r\n                      :placeholder=\"t('ph_select')\"\r\n                      style=\"width: 100%\"\r\n                      mode=\"tags\"\r\n                      v-model:value=\"formState.father_chunk_separators_no\"\r\n                    >\r\n                      <a-select-option\r\n                        :value=\"item.no\"\r\n                        v-for=\"item in separatorsOptions\"\r\n                        :key=\"item.no\"\r\n                        >{{ item.name }}</a-select-option\r\n                      >\r\n                    </a-select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-item\" v-if=\"formState.father_chunk_paragraph_type == 2\">\r\n                  <div class=\"form-item-label\">{{ t('segmentation_max_length') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-flex align=\"center\" :gap=\"8\">\r\n                      <a-input-number\r\n                        style=\"flex: 1\"\r\n                        v-model:value=\"formState.father_chunk_chunk_size\"\r\n                        :placeholder=\"t('ph_segmentation_max_length')\"\r\n                        :min=\"200\"\r\n                        :max=\"10000\"\r\n                        :precision=\"0\"\r\n                        :formatter=\"(value) => parseInt(value)\"\r\n                        :parser=\"(value) => parseInt(value)\"\r\n                      /><span class=\"unit-text\">{{ t('unit_characters') }}</span>\r\n                    </a-flex>\r\n                  </div>\r\n                </div>\r\n                <div class=\"main-title-block\">{{ t('child_block_retrieval') }}</div>\r\n                <div class=\"form-item\">\r\n                  <div class=\"form-item-label\">{{ t('segmentation_separator') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-select\r\n                      :placeholder=\"t('ph_select')\"\r\n                      style=\"width: 100%\"\r\n                      mode=\"tags\"\r\n                      v-model:value=\"formState.son_chunk_separators_no\"\r\n                    >\r\n                      <a-select-option\r\n                        :value=\"item.no\"\r\n                        v-for=\"item in separatorsOptions\"\r\n                        :key=\"item.no\"\r\n                        >{{ item.name }}</a-select-option\r\n                      >\r\n                    </a-select>\r\n                  </div>\r\n                </div>\r\n                <div class=\"form-item\">\r\n                  <div class=\"form-item-label\">{{ t('segmentation_max_length') }}</div>\r\n                  <div class=\"form-item-body\">\r\n                    <a-flex align=\"center\" :gap=\"8\">\r\n                      <a-input-number\r\n                        style=\"flex: 1\"\r\n                        v-model:value=\"formState.son_chunk_chunk_size\"\r\n                        :placeholder=\"t('ph_segmentation_max_length')\"\r\n                        :min=\"200\"\r\n                        :max=\"10000\"\r\n                        :precision=\"0\"\r\n                        :formatter=\"(value) => parseInt(value)\"\r\n                        :parser=\"(value) => parseInt(value)\"\r\n                      /><span class=\"unit-text\">{{ t('unit_characters') }}</span>\r\n                    </a-flex>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n\r\n              <div class=\"btn-box-block\">\r\n                <a-button @click=\"handleReset\" style=\"flex: 1\">{{ t('btn_reset') }}</a-button>\r\n                <a-button\r\n                  @click=\"reChange\"\r\n                  :loading=\"reLoading\"\r\n                  style=\"flex: 1\"\r\n                  type=\"primary\"\r\n                  ghost\r\n                  >{{ t('btn_generate_segment_preview') }}</a-button\r\n                >\r\n              </div>\r\n              <div class=\"btn-box-block\">\r\n                <a-button type=\"primary\" v-if=\"!props.hideSave\" block :disabled=\"saveLoading\" @click=\"onSave\"\r\n                  >{{ t('btn_save') }}</a-button\r\n                >\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <AiGenerate ref=\"aiGenerateRef\" @handleEdit=\"handleEdit\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { getSeparatorsList } from '@/api/library/index'\r\nimport { QuestionCircleOutlined } from '@ant-design/icons-vue'\r\nimport { reactive, ref, toRaw, computed, watch, nextTick } from 'vue'\r\nimport ModelSelect from '@/components/model-select/model-select.vue'\r\nimport { Form } from 'ant-design-vue'\r\nimport { message } from 'ant-design-vue'\r\nimport AiGenerate from './ai-generate-modal.vue'\r\nimport { formatSeparatorsNo } from '@/utils/index'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.document-segmentation.components.segmentation-setting')\r\n\r\nconst useForm = Form.useForm\r\nconst emit = defineEmits(['change', 'validate', 'save', 'changeChunkType'])\r\n\r\nconst props = defineProps({\r\n  mode: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  excellQaLists: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n  libFileInfo: {\r\n    type: Object,\r\n    default: () => {}\r\n  },\r\n  library_type: {\r\n    default: 0\r\n  },\r\n  hideSave: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  status: {\r\n    type: String,\r\n    default: ''\r\n  }\r\n})\r\n\r\nconst isHtmlOrDocx = computed(() => {\r\n  return (\r\n    props.libFileInfo.doc_type == '1' &&\r\n    (props.libFileInfo.file_ext == 'docx' || props.libFileInfo.file_ext == 'html')\r\n  )\r\n})\r\n\r\nconst defaultAiChunkPrumpt = t('default_ai_chunk_prompt')\r\n\r\nwatch(props, (val) => {\r\n  let libFileInfo = val.libFileInfo\r\n  formState.separators_no = formatSeparatorsNo(libFileInfo.separators_no, [12, 11])\r\n  formState.chunk_size = +libFileInfo.chunk_size || 512\r\n  formState.not_merged_text = libFileInfo.not_merged_text == 'true'\r\n  formState.ai_chunk_size = +libFileInfo.ai_chunk_size || 5000\r\n  formState.chunk_overlap = +libFileInfo.chunk_overlap || 50\r\n  // formState.is_qa_doc = +libFileInfo.is_qa_doc\r\n  formState.question_lable = libFileInfo.question_lable\r\n  formState.similar_label = libFileInfo.similar_label\r\n  formState.answer_lable = libFileInfo.answer_lable\r\n  formState.question_column = libFileInfo.question_column || void 0\r\n  formState.answer_column = libFileInfo.answer_column || void 0\r\n  formState.similar_column = libFileInfo.similar_column || void 0\r\n  formState.qa_index_type = +libFileInfo.qa_index_type\r\n  formState.enable_extract_image = libFileInfo.enable_extract_image == 'true'\r\n\r\n  formState.chunk_type = +libFileInfo.chunk_type\r\n  formState.semantic_chunk_size = +libFileInfo.semantic_chunk_size || 512\r\n  formState.semantic_chunk_overlap = +libFileInfo.semantic_chunk_overlap || 50\r\n  formState.semantic_chunk_threshold = +libFileInfo.semantic_chunk_threshold || 90\r\n  formState.semantic_chunk_use_model = libFileInfo.semantic_chunk_use_model || ''\r\n  formState.ai_chunk_prumpt = libFileInfo.ai_chunk_prumpt || defaultAiChunkPrumpt\r\n  formState.ai_chunk_model = libFileInfo.ai_chunk_model || ''\r\n  formState.semantic_chunk_model_config_id =\r\n    libFileInfo.semantic_chunk_model_config_id > 0 ? libFileInfo.semantic_chunk_model_config_id : ''\r\n  formState.ai_chunk_model_config_id =\r\n    libFileInfo.ai_chunk_model_config_id > 0 ? libFileInfo.ai_chunk_model_config_id : ''\r\n\r\n  formState.father_chunk_paragraph_type = +libFileInfo.father_chunk_paragraph_type || 2\r\n  formState.father_chunk_separators_no = formatSeparatorsNo(libFileInfo.father_chunk_separators_no, [12, 11])\r\n  formState.father_chunk_chunk_size = +libFileInfo.father_chunk_chunk_size || 1024\r\n  formState.son_chunk_separators_no = formatSeparatorsNo(libFileInfo.son_chunk_separators_no, [8, 10])\r\n  formState.son_chunk_chunk_size = +libFileInfo.son_chunk_chunk_size || 512\r\n\r\n  setTimeout(() => {\r\n    formState.semantic_chunk_use_model = libFileInfo.semantic_chunk_use_model || ''\r\n    formState.semantic_chunk_model_config_id =\r\n      libFileInfo.semantic_chunk_model_config_id > 0\r\n        ? libFileInfo.semantic_chunk_model_config_id\r\n        : ''\r\n  }, 200)\r\n  if (libFileInfo.chunk_type == 0) {\r\n    formState.separators_no = formatSeparatorsNo(libFileInfo.normal_chunk_default_separators_no, [12, 11])\r\n    formState.chunk_size = +libFileInfo.normal_chunk_default_chunk_size || 512\r\n    formState.not_merged_text = libFileInfo.normal_chunk_default_not_merged_text == 'true'\r\n    formState.chunk_overlap = +libFileInfo.normal_chunk_default_chunk_overlap || 50\r\n    formState.chunk_type = +libFileInfo.default_chunk_type\r\n    formState.semantic_chunk_size = +libFileInfo.semantic_chunk_default_chunk_size || 512\r\n    formState.semantic_chunk_overlap = +libFileInfo.semantic_chunk_default_chunk_overlap || 50\r\n    formState.semantic_chunk_threshold = +libFileInfo.semantic_chunk_default_threshold || 90\r\n    setTimeout(() => {\r\n      formState.semantic_chunk_use_model = libFileInfo.default_use_model\r\n      formState.semantic_chunk_model_config_id =\r\n        libFileInfo.default_model_config_id > 0 ? libFileInfo.default_model_config_id : ''\r\n    }, 100)\r\n  }\r\n\r\n  formState.is_qa_doc = props.library_type == 2 ? 1 : 0\r\n})\r\n\r\nconst formState = reactive({\r\n  separators_no: [], // 自定义分段-分隔符序号集\r\n  not_merged_text: false,\r\n  chunk_size: 512, // 自定义分段-分段最大长度 默认512，最大值不得超过2000\r\n  chunk_overlap: 50, // 自定义分段-分段重叠长度 默认为50，最小不得低于10，最大不得超过最大分段长度的50%\r\n  is_qa_doc: 0, // 0 普通文档 1 QA文档\r\n  question_lable: '', // QA文档-问题开始标识符\r\n  similar_label: '', // QA文档-相似度标识符\r\n  answer_lable: '', // QA文档-答案开始标识符\r\n  question_column: void 0, // excel QA文档 问题所在列\r\n  answer_column: void 0, // excel QA文档 答案所在列\r\n  similar_column: void 0, // excel QA文档 相似度所在列\r\n  qa_index_type: 1, // excel QA文档 索引方式\r\n  enable_extract_image: true,\r\n  chunk_type: 1,\r\n  semantic_chunk_size: 512, // 语义分段最大长度\r\n  semantic_chunk_overlap: 50, // 语义分段重叠长度\r\n  semantic_chunk_threshold: 90, // 语义分段阈值\r\n  semantic_chunk_use_model: '',\r\n  semantic_chunk_model_config_id: '',\r\n  ai_chunk_size: 5000, // ai大模型分段最大字符数\r\n  ai_chunk_model:'', // ai大模型分段模型名称\r\n  ai_chunk_model_config_id: '', // ai大模型分段模型配置id\r\n  ai_chunk_prumpt: defaultAiChunkPrumpt, // ai大模型分段提示词设置\r\n\r\n  father_chunk_paragraph_type: 2,\r\n  father_chunk_separators_no: [],\r\n  father_chunk_chunk_size: 1024,\r\n  son_chunk_separators_no: [],\r\n  son_chunk_chunk_size: 512,\r\n})\r\n\r\nlet baseFormState = {}\r\nsetTimeout(() => {\r\n  baseFormState = JSON.parse(JSON.stringify(formState))\r\n}, 500)\r\n\r\nconst vectorModelList = ref([])\r\nconst aiGenerateRef = ref(null)\r\n// 处理AI生成按钮点击\r\nconst handleAIGenerate = () => {\r\n  if (aiGenerateRef.value) {\r\n    aiGenerateRef.value.showModal()\r\n  }\r\n}\r\nconst onVectorModelLoaded = (list) => {\r\n  vectorModelList.value = list\r\n\r\n  nextTick(() => {\r\n    if (!formState.ai_chunk_model || !Number(formState.ai_chunk_model_config_id)) {\r\n      setDefaultModel()\r\n    }\r\n  })\r\n}\r\n\r\nconst setDefaultModel = () => {\r\n  if (vectorModelList.value.length > 0) {\r\n    // 遍历查找chatwiki模型\r\n    let modelConfig = null\r\n    let model = null\r\n\r\n    // 云版默认选中qwen-max\r\n    for (let item of vectorModelList.value) {\r\n      if (item.model_define === 'tongyi') {\r\n        modelConfig = item\r\n        for (let child of modelConfig.children) {\r\n          if (child.name === 'qwen-max') {\r\n            model = child\r\n            break\r\n          }\r\n        }\r\n        break\r\n      }\r\n    }\r\n\r\n    if (!modelConfig) {\r\n      modelConfig = vectorModelList.value[0]\r\n      model = modelConfig.children[0]\r\n    }\r\n\r\n    if (modelConfig && model) {\r\n      formState.ai_chunk_model = model.name\r\n      formState.ai_chunk_model_config_id = model.model_config_id\r\n    }\r\n  }\r\n}\r\n\r\nconst handleReset = () => {\r\n  Object.assign(formState, baseFormState)\r\n}\r\n\r\nconst onSave = () => {\r\n  emit('save')\r\n}\r\n\r\nconst formRules = reactive({\r\n  question_lable: [\r\n    {\r\n      message: t('validation_error_question_label'),\r\n      validator: async (rule, value) => {\r\n        if (formState.is_qa_doc == 1 && props.mode == 0) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_error_question_label'))\r\n          }\r\n\r\n          return Promise.resolve()\r\n        }\r\n\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  semantic_chunk_model_config_id: [\r\n    {\r\n      message: t('validation_error_embedding_model'),\r\n      validator: async (rule, value) => {\r\n        if (formState.is_qa_doc == 0 && formState.chunk_type == 2) {\r\n          console.log(value, '==')\r\n          if (!value) {\r\n            return Promise.reject(t('validation_error_embedding_model'))\r\n          }\r\n\r\n          return Promise.resolve()\r\n        }\r\n\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  ai_chunk_model_config_id: [\r\n    {\r\n      message: t('validation_error_ai_llm'),\r\n      validator: async (rule, value) => {\r\n        if (formState.is_qa_doc == 0 && formState.chunk_type == 3) {\r\n          console.log(value, '==')\r\n          if (!value) {\r\n            return Promise.reject(t('validation_error_ai_llm'))\r\n          }\r\n\r\n          return Promise.resolve()\r\n        }\r\n\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  answer_lable: [\r\n    {\r\n      message: t('validation_error_answer_label'),\r\n      validator: async (rule, value) => {\r\n        if (formState.is_qa_doc == 1 && props.mode == 0) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_error_answer_label'))\r\n          }\r\n\r\n          return Promise.resolve()\r\n        }\r\n\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  separators_no: [\r\n    {\r\n      message: t('validation_error_separator'),\r\n      validator: async (rule, value) => {\r\n        if (\r\n          props.mode != 1 &&\r\n          formState.is_qa_doc == 0 &&\r\n          value.length == 0 &&\r\n          formState.chunk_type == 1\r\n        ) {\r\n          return Promise.reject(t('validation_error_separator'))\r\n        }\r\n\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  chunk_size: [\r\n    {\r\n      validator: async (rule, value) => {\r\n        if (props.mode != 1 && formState.chunk_type == 1) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_error_max_length'))\r\n          } else if (value > 10000) {\r\n            return Promise.reject(t('validation_error_max_length_exceeded'))\r\n          }\r\n        } else if (formState.chunk_type == 3) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_error_max_characters'))\r\n          }\r\n        }\r\n\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  ai_chunk_size: [\r\n    {\r\n      validator: async (rule, value) => {\r\n        if (formState.chunk_type == 3) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_error_max_characters'))\r\n          }\r\n        }\r\n\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  ai_chunk_prumpt: [\r\n    {\r\n      validator: async (rule, value) => {\r\n        if (!formState.ai_chunk_prumpt) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_error_prompt'))\r\n          }\r\n        }\r\n\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  chunk_overlap: [\r\n    {\r\n      validator: async (rule, value) => {\r\n        if (props.mode != 1 && formState.chunk_type == 1) {\r\n          if (value > parseInt(formState.chunk_size / 2)) {\r\n            return Promise.reject(t('validation_error_overlap_exceeded'))\r\n          }\r\n        }\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  question_column: [\r\n    {\r\n      message: t('validation_error_question_column'),\r\n      validator: async (rule, value) => {\r\n        if (props.mode == 1 && formState.is_qa_doc == 1) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_error_question_column'))\r\n          }\r\n\r\n          return Promise.resolve()\r\n        }\r\n\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  answer_column: [\r\n    {\r\n      message: t('validation_error_answer_column'),\r\n      validator: async (rule, value) => {\r\n        if (props.mode == 1 && formState.is_qa_doc == 1) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_error_answer_column'))\r\n          }\r\n\r\n          return Promise.resolve()\r\n        }\r\n\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ]\r\n})\r\n\r\nconst { resetFields, validate, validateInfos } = useForm(formState, formRules)\r\n\r\n// 切换文档类型\r\nconst changeDocumentType = (val) => {\r\n  formState.is_qa_doc = val\r\n  onChange()\r\n}\r\n\r\nconst reLoading = ref(false)\r\nconst saveLoading = ref(false)\r\nconst reChange = () => {\r\n  reLoading.value = true\r\n  if (formState.chunk_type != 3) {\r\n    saveLoading.value = true\r\n  }\r\n  onChange()\r\n}\r\n\r\nconst onChange = (showErrorAlert = true) => {\r\n  let form = toRaw(formState)\r\n  validate()\r\n    .then(() => {\r\n      emit('change', { ...form })\r\n      emit('validate', '')\r\n    })\r\n    .catch((err) => {\r\n      const { errorFields } = err\r\n      if (errorFields.length > 0) {\r\n        // console.log('error', err)\r\n        if (showErrorAlert) {\r\n          let errorName = errorFields[0].name\r\n          // if (errorName == 'chunk_overlap') {\r\n          //   message.error(errorFields[0]['errors'][0])\r\n          // }\r\n        }\r\n        message.error(errorFields[0]['errors'][0])\r\n        emit('validate', errorFields[0]['errors'][0])\r\n        reLoading.value = false\r\n        saveLoading.value = false\r\n        return\r\n      }\r\n      emit('validate', '')\r\n      emit('change', { ...form })\r\n    })\r\n}\r\n\r\n// 查询分段节流\r\nlet formInEditTimer = null\r\nconst onChagneFormInput = () => {\r\n  if (formInEditTimer) {\r\n    clearTimeout(formInEditTimer)\r\n    formInEditTimer = null\r\n  }\r\n  formInEditTimer = setTimeout(() => {\r\n    onChange()\r\n  }, 500)\r\n}\r\n\r\n// 分段标识符列表\r\nconst separatorsOptions = ref([])\r\n\r\nconst getSeparatorsOptions = () => {\r\n  getSeparatorsList().then((res) => {\r\n    separatorsOptions.value = res.data || []\r\n  })\r\n}\r\n\r\ngetSeparatorsOptions()\r\n\r\nconst handleChangeQaIndexType = (type) => {\r\n  if (type == formState.qa_index_type) {\r\n    return\r\n  }\r\n  formState.qa_index_type = type\r\n  onChange()\r\n}\r\n\r\nconst handleEdit = (val) => {\r\n  formState.ai_chunk_prumpt = val\r\n  // if (!formState.ai_chunk_prumpt) {\r\n  //   formState.ai_chunk_prumpt += val\r\n  // } else {\r\n  //   formState.ai_chunk_prumpt += `\\n${val}`\r\n  // }\r\n}\r\n\r\nwatch(() => formState.chunk_type, (val) => {\r\n  emit('changeChunkType', val)\r\n})\r\n\r\nwatch(() => reLoading.value, (val) => {\r\n})\r\n\r\ndefineExpose({\r\n  formState,\r\n  reLoading,\r\n  saveLoading,\r\n  reChange\r\n})\r\n</script>\r\n","<style lang=\"less\" scoped>\r\n.document-fragment {\r\n  padding: 16px;\r\n  border-radius: 2px;\r\n  background-color: #ffffff;\r\n  &.mt8{\r\n    margin-top: 8px;\r\n  }\r\n  &.dashed-line{\r\n    border-top: 2px dashed #d9d9d9;\r\n  }\r\n\r\n  .fragment-header {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    height: 22px;\r\n    line-height: 22px;\r\n    font-size: 14px;\r\n\r\n    .fragment-number,\r\n    .fragment-title {\r\n      font-weight: 600;\r\n      color: #000000;\r\n    }\r\n\r\n    .fragment-title {\r\n      padding-left: 4px;\r\n    }\r\n\r\n    .fragment-content-lenght {\r\n      padding-left: 8px;\r\n      color: #8c8c8c;\r\n    }\r\n\r\n    .fragment-content-status {\r\n      padding-left: 8px;\r\n      color: #8c8c8c;\r\n    }\r\n  }\r\n\r\n  .fragment-content {\r\n    margin-top: 8px;\r\n    line-height: 22px;\r\n    font-size: 14px;\r\n    color: #595959;\r\n  }\r\n  .fragment-img {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 8px;\r\n    margin-top: 8px;\r\n    img {\r\n      width: 80px;\r\n      height: 80px;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n\r\n  <div class=\"document-fragment\" :class=\"{'dashed-line': props.isNeedDashedLine, 'mt8': props.chunk_type == 4 && !props.isNeedDashedLine}\">\r\n\r\n    <div class=\"fragment-header\">\r\n\r\n      <div class=\"fragment-info\">\r\n\r\n        <span class=\"fragment-number\">#<span v-if=\"props.chunk_type == 4\">{{ props.father_chunk_paragraph_number }}-</span>{{ props.number }}</span>\r\n\r\n        <span class=\"fragment-title\" v-if=\"props.title\">{{ props.title }}</span>\r\n\r\n        <span class=\"fragment-content-lenght\">{{ t('total_characters', { total: props.total }) }}</span>\r\n\r\n        <span class=\"fragment-content-status\" v-if=\"props.status === 'paragraphsSegmented'\">\r\n\r\n          {{ props.currentData?.status_text || '-' }}<LoadingOutlined v-if=\"props.currentData?.status == 3\" />\r\n\r\n          <a-tooltip v-if=\"props.currentData?.status == 2 && props.currentData.errmsg\" :title=\"props.currentData.errmsg\">\r\n\r\n            <strong class=\"cfb363f\"\r\n\r\n              >原因<ExclamationCircleOutlined class=\"err-icon cfb363f\"\r\n\r\n            /></strong>\r\n\r\n          </a-tooltip>\r\n\r\n        </span>\r\n\r\n      </div>\r\n\r\n\r\n\r\n      <div class=\"fragment-action\">\r\n\r\n        <a @click=\"handleEdit\">{{ t('edit') }}</a>\r\n\r\n        <a-divider type=\"vertical\" />\r\n\r\n        <a @click=\"handleDelete\">{{ t('delete') }}</a>\r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n\r\n\r\n    <div class=\"fragment-content\">{{ props.content }}</div>\r\n\r\n    <div class=\"fragment-content\" v-if=\"props.question\">Q：{{ props.question }}</div>\r\n\r\n    <div\r\n\r\n      class=\"fragment-content\"\r\n\r\n      v-if=\"props.similar_question_list && props.similar_question_list.join('')\"\r\n\r\n    >\r\n\r\n      {{ t('similar_questions') }}{{ props.similar_question_list.join('/') }}\r\n\r\n    </div>\r\n\r\n    <div class=\"fragment-content\" v-if=\"props.answer\">A：{{ props.answer }}</div>\r\n\r\n    <div class=\"fragment-img\" v-viewer>\r\n\r\n      <img v-for=\"(item, index) in props.images\" :key=\"index\" :src=\"item\" alt=\"\" />\r\n\r\n    </div>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport {\r\n\r\n  ExclamationCircleOutlined,\r\n\r\n  LoadingOutlined,\r\n\r\n} from '@ant-design/icons-vue'\r\n\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.document-segmentation.components.document-fragment')\r\n\r\nconst emit = defineEmits(['edit', 'delete'])\r\nconst props = defineProps({\r\n  number: {\r\n    type: [Number, String]\r\n  },\r\n  father_chunk_paragraph_number: {\r\n    type: [Number, String]\r\n  },\r\n  chunk_type:{\r\n    type: [Number, String]\r\n  },\r\n  total: {\r\n    type: [Number, String]\r\n  },\r\n  title: {\r\n    type: [Number, String]\r\n  },\r\n  content: {\r\n    type: [Number, String]\r\n  },\r\n  question: {\r\n    type: [Number, String]\r\n  },\r\n  answer: {\r\n    type: [Number, String]\r\n  },\r\n  images: {\r\n    type: [Array, String]\r\n  },\r\n  similar_question_list: {\r\n    type: [Array, String]\r\n  },\r\n  status: {\r\n    type: String,\r\n    default: ''\r\n  },\r\n  currentData: {\r\n    type: Object,\r\n    default: () => {}\r\n  },\r\n  isNeedDashedLine:{\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n\r\nconst handleEdit = () => {\r\n  emit('edit')\r\n}\r\n\r\nconst handleDelete = () => {\r\n  emit('delete')\r\n}\r\n</script>\r\n","<template>\r\n  <div>\r\n    <a-modal v-model:open=\"show\" :title=\"t('title')\" @ok=\"handleOk\" width=\"746px\">\r\n      <a-form layout=\"vertical\">\r\n        <a-form-item :label=\"t('label_title')\">\r\n          <a-input\r\n            type=\"text\"\r\n            :placeholder=\"t('ph_title')\"\r\n            v-model:value=\"formState.title\"\r\n          ></a-input>\r\n        </a-form-item>\r\n        <template v-if=\"isExcelQa\">\r\n          <a-form-item :label=\"t('label_question')\" v-bind=\"validateInfos.question\">\r\n            <a-textarea\r\n              :placeholder=\"t('ph_question')\"\r\n              v-model:value=\"formState.question\"\r\n              style=\"height: 100px\"\r\n            ></a-textarea>\r\n          </a-form-item>\r\n          <a-form-item :label=\"t('label_similar')\">\r\n            <a-textarea\r\n              :placeholder=\"t('ph_similar')\"\r\n              v-model:value=\"formState.similar_question_list\"\r\n              style=\"height: 100px\"\r\n            ></a-textarea>\r\n          </a-form-item>\r\n          <a-form-item :label=\"t('label_answer')\" v-bind=\"validateInfos.answer\">\r\n            <a-textarea\r\n              :placeholder=\"t('ph_answer')\"\r\n              v-model:value=\"formState.answer\"\r\n              style=\"height: 140px\"\r\n            ></a-textarea>\r\n          </a-form-item>\r\n        </template>\r\n        <a-form-item v-else :label=\"t('label_content')\" v-bind=\"validateInfos.content\">\r\n          <a-textarea\r\n            :placeholder=\"t('ph_content')\"\r\n            v-model:value=\"formState.content\"\r\n            style=\"height: 150px\"\r\n          ></a-textarea>\r\n        </a-form-item>\r\n        <a-form-item :label=\"t('label_attachment')\">\r\n          <div class=\"upload-box-wrapper\">\r\n            <a-tabs v-model:activeKey=\"activeKey\" size=\"small\">\r\n              <a-tab-pane key=\"1\">\r\n                <template #tab>\r\n                  <span>\r\n                    <svg-icon name=\"img-icon\" style=\"font-size: 14px; color: #2475fc\"></svg-icon>\r\n                    {{ t('tab_images') }}\r\n                    <span v-if=\"formState.images.length\">({{ formState.images.length }})</span>\r\n                  </span>\r\n                </template>\r\n              </a-tab-pane>\r\n            </a-tabs>\r\n            <UploadImg v-model:value=\"formState.images\"></UploadImg>\r\n          </div>\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, reactive, toRaw } from 'vue'\r\nimport { Form } from 'ant-design-vue'\r\nimport UploadImg from '@/components/upload-img/index.vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.document-segmentation.components.edit-fragment-alert')\r\nconst emit = defineEmits(['ok'])\r\n\r\nconst activeKey = ref('1')\r\nconst useForm = Form.useForm\r\nconst show = ref(false)\r\n\r\nconst formState = reactive({\r\n  title: '',\r\n  content: '',\r\n  question: '',\r\n  answer: '',\r\n  similar_question_list: '',\r\n  images: []\r\n})\r\n\r\nconst formRules = reactive({\r\n  content: [\r\n    {\r\n      message: t('validation_content'),\r\n      validator: async (rule, value) => {\r\n        if (!isExcelQa.value) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_content'))\r\n          }\r\n          return Promise.resolve()\r\n        }\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  question: [\r\n    {\r\n      message: t('validation_question'),\r\n      validator: async (rule, value) => {\r\n        if (isExcelQa.value) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_question'))\r\n          }\r\n          return Promise.resolve()\r\n        }\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ],\r\n  answer: [\r\n    {\r\n      message: t('validation_answer'),\r\n      validator: async (rule, value) => {\r\n        if (isExcelQa.value) {\r\n          if (!value) {\r\n            return Promise.reject(t('validation_answer'))\r\n          }\r\n          return Promise.resolve()\r\n        }\r\n        return Promise.resolve()\r\n      }\r\n    }\r\n  ]\r\n})\r\n\r\nconst { resetFields, validate, validateInfos } = useForm(formState, formRules)\r\nconst isExcelQa = ref(false)\r\n\r\nconst open = ({ title, content, question, answer, images, similar_question_list }) => {\r\n  formState.title = title\r\n  formState.content = content\r\n  formState.question = question\r\n  formState.answer = answer\r\n  formState.images = images || []\r\n  formState.similar_question_list = similar_question_list? similar_question_list.join('\\n') : ''\r\n  isExcelQa.value = question != ''\r\n\r\n  show.value = true\r\n}\r\n\r\nconst handleOk = () => {\r\n  validate().then(() => {\r\n    show.value = false\r\n    emit('ok', toRaw(formState))\r\n  })\r\n}\r\n\r\ndefineExpose({\r\n  open\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.upload-box-wrapper {\r\n  background: #f2f4f7;\r\n  border-radius: 6px;\r\n  &::v-deep(.ant-tabs-nav::before) {\r\n    border-color: #f2f4f7;\r\n  }\r\n  &::v-deep(.ant-tabs-nav) {\r\n    margin: 0;\r\n    margin-left: 16px;\r\n  }\r\n}\r\n</style>\r\n"],"names":["t","useI18n","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_imports_0","_hoisted_2","_toDisplayString","_unref","_hoisted_3","libraryStore","useLibraryStore","isError","ref","showResult","generating","isGenerate","formState","reactive","md","MarkdownIt","renderedMarkdown","messageObj","documentFragmentList","computed","watch","emit","__emit","open","showModal","handleOk","message","aiResult","concatContentsByLength","arr","maxLength","result","currentLength","item","content","remaining","handleGenerate","ai_prompt_question","params","res","generateAiPrompt","__expose","_createVNode","_component_a_modal","$event","_cache","_normalizeClass","_component_a_alert","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","ModelSelect","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_component_a_input_number","_hoisted_13","_component_a_button","_component_svg_icon","_createTextVNode","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_20","useForm","Form","props","__props","defaultAiChunkPrumpt","val","libFileInfo","formatSeparatorsNo","baseFormState","vectorModelList","aiGenerateRef","onVectorModelLoaded","list","nextTick","setDefaultModel","modelConfig","model","child","handleReset","onSave","formRules","rule","value","resetFields","validate","validateInfos","reLoading","saveLoading","reChange","onChange","showErrorAlert","form","toRaw","err","errorFields","formInEditTimer","onChagneFormInput","separatorsOptions","getSeparatorsList","handleChangeQaIndexType","type","handleEdit","_Fragment","_component_a_select","_renderList","_createBlock","_component_a_select_option","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_component_a_input","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_component_a_flex","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_component_a_tooltip","QuestionCircleOutlined","_component_a_switch","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_vShow","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_component_a_textarea","_hoisted_92","_hoisted_93","_hoisted_94","_hoisted_95","_hoisted_96","_hoisted_97","_hoisted_98","_component_a_radio_group","_component_a_radio","_hoisted_99","_hoisted_100","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","_hoisted_108","_hoisted_109","_hoisted_110","_hoisted_111","_hoisted_112","_hoisted_113","_hoisted_114","_hoisted_115","AiGenerate","handleDelete","_a","_b","LoadingOutlined","_c","ExclamationCircleOutlined","_component_a_divider","_withDirectives","index","activeKey","show","isExcelQa","title","question","answer","images","similar_question_list","_component_a_form","_component_a_form_item","_mergeProps","_component_a_tabs","_component_a_tab_pane","UploadImg"],"mappings":"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"}