var Xn=Object.defineProperty;var Zn=(c,l,r)=>l in c?Xn(c,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):c[l]=r;var le=(c,l,r)=>Zn(c,typeof l!="symbol"?l+"":l,r);import{f as W,l as nt,Y as Q,_ as j,k as d,a2 as b,G as J,K as En,a5 as i,ae as te,a3 as Fe,a7 as oe,o as Ue,ab as eo,ag as Ve,w as xe,r as ce,u as ee,a4 as zt,a1 as ne,J as fe,e as me,aa as to,F as ke,a9 as Le,ad as ot,c as ge,p as no,ah as oo}from"./vue-chunks-Ci-XTWEs.js";import{u as je}from"./robot-ChheCicf.js";import{b as se,af as ao,d as Pt,am as Ie}from"../../index-BZRrEp3V.js";import{b as xn,I as ve,F as _e,a9 as so,ap as ro,X as Bn,B as he,a8 as io,ab as lo,e as be,q as In,R as Rn,Q as Tt,M as de,a as ae,H as qe,p as co,u as Mt,v as Nt,ay as uo,z as Ut,O as po,bf as fo,ac as _o,a3 as ho,E as mo,an as go,c as vo,D as yo,k as we,ai as bo,bg as wo}from"./ui-antd-BWf8LxGy.js";import{A as ko,B as Co,C as $o,D as Ao,E as So,F as Pn,G as He,H as Eo,I as ze,J as Lt,K as Ke}from"./index-BOvAmdHY.js";import{u as Tn}from"./index-BpTkDq9_.js";import{C as Mn}from"./cu-upload-CQ6vMq3L.js";import{i as xo}from"./validate-8MtiUsxW.js";import{d as Bo}from"./vuedraggable.umd-DJBjom-v.js";import"./utils-ChQO-_r6.js";const Io={class:"top-menu-box"},Ro={__name:"top-meun",props:{value:{type:String,default:""}},emits:["change","update:value"],setup(c,{emit:l}){const r=l,e=W([c.value]),t=W([{key:"WebAPP",id:"WebAPP",label:"WebAPP",title:"WebAPP"},{key:"EmbedWebsite",id:"EmbedWebsite",label:"嵌入网站",title:"嵌入网站"},{key:"WeChatOfficialAccount",id:"WeChatOfficialAccount",label:nt("div",{class:"tag-text-box"},[nt("span",{},"微信公众号"),nt("span",{class:"text-xs"},"支持未认证")])},{key:"WeChatMiniProgram",id:"WeChatMiniProgram",label:"微信小程序",title:"微信小程序"},{key:"WeChatCustomerService",id:"WeChatCustomerService",label:"微信客服",title:"微信客服"},{key:"FeishuRobot",id:"FeishuRobot",label:"飞书机器人",title:"飞书机器人"}]),o=({item:u})=>{e.value.includes(u.id)||(r("update:value",u.id),r("change",u))};return(u,s)=>{const p=xn;return j(),Q("div",Io,[d(p,{class:"top-menu",items:t.value,selectedKeys:e.value,"onUpdate:selectedKeys":s[0]||(s[0]=g=>e.value=g),mode:"horizontal",onClick:o},{title:b(()=>s[1]||(s[1]=[J(" 11 ")])),_:1},8,["items","selectedKeys"])])}}},Po=se(Ro,[["__scopeId","data-v-e10b6e95"]]);var Ee={},at,Kt;function To(){return Kt||(Kt=1,at=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),at}var st={},ye={},Wt;function Ce(){if(Wt)return ye;Wt=1;let c;const l=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ye.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},ye.getSymbolTotalCodewords=function(n){return l[n]},ye.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},ye.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');c=n},ye.isKanjiModeEnabled=function(){return typeof c<"u"},ye.toSJIS=function(n){return c(n)},ye}var rt={},Jt;function qt(){return Jt||(Jt=1,function(c){c.L={bit:1},c.M={bit:0},c.Q={bit:3},c.H={bit:2};function l(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return c.L;case"m":case"medium":return c.M;case"q":case"quartile":return c.Q;case"h":case"high":return c.H;default:throw new Error("Unknown EC Level: "+r)}}c.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},c.from=function(n,e){if(c.isValid(n))return n;try{return l(n)}catch{return e}}}(rt)),rt}var it,Gt;function Mo(){if(Gt)return it;Gt=1;function c(){this.buffer=[],this.length=0}return c.prototype={get:function(l){const r=Math.floor(l/8);return(this.buffer[r]>>>7-l%8&1)===1},put:function(l,r){for(let n=0;n<r;n++)this.putBit((l>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(l){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),l&&(this.buffer[r]|=128>>>this.length%8),this.length++}},it=c,it}var lt,Yt;function No(){if(Yt)return lt;Yt=1;function c(l){if(!l||l<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=l,this.data=new Uint8Array(l*l),this.reservedBit=new Uint8Array(l*l)}return c.prototype.set=function(l,r,n,e){const t=l*this.size+r;this.data[t]=n,e&&(this.reservedBit[t]=!0)},c.prototype.get=function(l,r){return this.data[l*this.size+r]},c.prototype.xor=function(l,r,n){this.data[l*this.size+r]^=n},c.prototype.isReserved=function(l,r){return this.reservedBit[l*this.size+r]},lt=c,lt}var ct={},Qt;function Uo(){return Qt||(Qt=1,function(c){const l=Ce().getSymbolSize;c.getRowColCoords=function(n){if(n===1)return[];const e=Math.floor(n/7)+2,t=l(n),o=t===145?26:Math.ceil((t-13)/(2*e-2))*2,u=[t-7];for(let s=1;s<e-1;s++)u[s]=u[s-1]-o;return u.push(6),u.reverse()},c.getPositions=function(n){const e=[],t=c.getRowColCoords(n),o=t.length;for(let u=0;u<o;u++)for(let s=0;s<o;s++)u===0&&s===0||u===0&&s===o-1||u===o-1&&s===0||e.push([t[u],t[s]]);return e}}(ct)),ct}var ut={},Xt;function Lo(){if(Xt)return ut;Xt=1;const c=Ce().getSymbolSize,l=7;return ut.getPositions=function(n){const e=c(n);return[[0,0],[e-l,0],[0,e-l]]},ut}var dt={},Zt;function qo(){return Zt||(Zt=1,function(c){c.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const l={N1:3,N2:3,N3:40,N4:10};c.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7},c.from=function(e){return c.isValid(e)?parseInt(e,10):void 0},c.getPenaltyN1=function(e){const t=e.size;let o=0,u=0,s=0,p=null,g=null;for(let v=0;v<t;v++){u=s=0,p=g=null;for(let k=0;k<t;k++){let w=e.get(v,k);w===p?u++:(u>=5&&(o+=l.N1+(u-5)),p=w,u=1),w=e.get(k,v),w===g?s++:(s>=5&&(o+=l.N1+(s-5)),g=w,s=1)}u>=5&&(o+=l.N1+(u-5)),s>=5&&(o+=l.N1+(s-5))}return o},c.getPenaltyN2=function(e){const t=e.size;let o=0;for(let u=0;u<t-1;u++)for(let s=0;s<t-1;s++){const p=e.get(u,s)+e.get(u,s+1)+e.get(u+1,s)+e.get(u+1,s+1);(p===4||p===0)&&o++}return o*l.N2},c.getPenaltyN3=function(e){const t=e.size;let o=0,u=0,s=0;for(let p=0;p<t;p++){u=s=0;for(let g=0;g<t;g++)u=u<<1&2047|e.get(p,g),g>=10&&(u===1488||u===93)&&o++,s=s<<1&2047|e.get(g,p),g>=10&&(s===1488||s===93)&&o++}return o*l.N3},c.getPenaltyN4=function(e){let t=0;const o=e.data.length;for(let s=0;s<o;s++)t+=e.data[s];return Math.abs(Math.ceil(t*100/o/5)-10)*l.N4};function r(n,e,t){switch(n){case c.Patterns.PATTERN000:return(e+t)%2===0;case c.Patterns.PATTERN001:return e%2===0;case c.Patterns.PATTERN010:return t%3===0;case c.Patterns.PATTERN011:return(e+t)%3===0;case c.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(t/3))%2===0;case c.Patterns.PATTERN101:return e*t%2+e*t%3===0;case c.Patterns.PATTERN110:return(e*t%2+e*t%3)%2===0;case c.Patterns.PATTERN111:return(e*t%3+(e+t)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}c.applyMask=function(e,t){const o=t.size;for(let u=0;u<o;u++)for(let s=0;s<o;s++)t.isReserved(s,u)||t.xor(s,u,r(e,s,u))},c.getBestMask=function(e,t){const o=Object.keys(c.Patterns).length;let u=0,s=1/0;for(let p=0;p<o;p++){t(p),c.applyMask(p,e);const g=c.getPenaltyN1(e)+c.getPenaltyN2(e)+c.getPenaltyN3(e)+c.getPenaltyN4(e);c.applyMask(p,e),g<s&&(s=g,u=p)}return u}}(dt)),dt}var Oe={},en;function Nn(){if(en)return Oe;en=1;const c=qt(),l=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Oe.getBlocksCount=function(e,t){switch(t){case c.L:return l[(e-1)*4+0];case c.M:return l[(e-1)*4+1];case c.Q:return l[(e-1)*4+2];case c.H:return l[(e-1)*4+3];default:return}},Oe.getTotalCodewordsCount=function(e,t){switch(t){case c.L:return r[(e-1)*4+0];case c.M:return r[(e-1)*4+1];case c.Q:return r[(e-1)*4+2];case c.H:return r[(e-1)*4+3];default:return}},Oe}var pt={},Ne={},tn;function Do(){if(tn)return Ne;tn=1;const c=new Uint8Array(512),l=new Uint8Array(256);return function(){let n=1;for(let e=0;e<255;e++)c[e]=n,l[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)c[e]=c[e-255]}(),Ne.log=function(n){if(n<1)throw new Error("log("+n+")");return l[n]},Ne.exp=function(n){return c[n]},Ne.mul=function(n,e){return n===0||e===0?0:c[l[n]+l[e]]},Ne}var nn;function Fo(){return nn||(nn=1,function(c){const l=Do();c.mul=function(n,e){const t=new Uint8Array(n.length+e.length-1);for(let o=0;o<n.length;o++)for(let u=0;u<e.length;u++)t[o+u]^=l.mul(n[o],e[u]);return t},c.mod=function(n,e){let t=new Uint8Array(n);for(;t.length-e.length>=0;){const o=t[0];for(let s=0;s<e.length;s++)t[s]^=l.mul(e[s],o);let u=0;for(;u<t.length&&t[u]===0;)u++;t=t.slice(u)}return t},c.generateECPolynomial=function(n){let e=new Uint8Array([1]);for(let t=0;t<n;t++)e=c.mul(e,new Uint8Array([1,l.exp(t)]));return e}}(pt)),pt}var ft,on;function Oo(){if(on)return ft;on=1;const c=Fo();function l(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return l.prototype.initialize=function(n){this.degree=n,this.genPoly=c.generateECPolynomial(this.degree)},l.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(n.length+this.degree);e.set(n);const t=c.mod(e,this.genPoly),o=this.degree-t.length;if(o>0){const u=new Uint8Array(this.degree);return u.set(t,o),u}return t},ft=l,ft}var _t={},ht={},mt={},an;function Un(){return an||(an=1,mt.isValid=function(l){return!isNaN(l)&&l>=1&&l<=40}),mt}var pe={},sn;function Ln(){if(sn)return pe;sn=1;const c="[0-9]+",l="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;pe.KANJI=new RegExp(r,"g"),pe.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),pe.BYTE=new RegExp(n,"g"),pe.NUMERIC=new RegExp(c,"g"),pe.ALPHANUMERIC=new RegExp(l,"g");const e=new RegExp("^"+r+"$"),t=new RegExp("^"+c+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return pe.testKanji=function(s){return e.test(s)},pe.testNumeric=function(s){return t.test(s)},pe.testAlphanumeric=function(s){return o.test(s)},pe}var rn;function $e(){return rn||(rn=1,function(c){const l=Un(),r=Ln();c.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},c.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},c.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},c.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},c.MIXED={bit:-1},c.getCharCountIndicator=function(t,o){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!l.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?t.ccBits[0]:o<27?t.ccBits[1]:t.ccBits[2]},c.getBestModeForData=function(t){return r.testNumeric(t)?c.NUMERIC:r.testAlphanumeric(t)?c.ALPHANUMERIC:r.testKanji(t)?c.KANJI:c.BYTE},c.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},c.isValid=function(t){return t&&t.bit&&t.ccBits};function n(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return c.NUMERIC;case"alphanumeric":return c.ALPHANUMERIC;case"kanji":return c.KANJI;case"byte":return c.BYTE;default:throw new Error("Unknown mode: "+e)}}c.from=function(t,o){if(c.isValid(t))return t;try{return n(t)}catch{return o}}}(ht)),ht}var ln;function Vo(){return ln||(ln=1,function(c){const l=Ce(),r=Nn(),n=qt(),e=$e(),t=Un(),o=7973,u=l.getBCHDigit(o);function s(k,w,T){for(let q=1;q<=40;q++)if(w<=c.getCapacity(q,T,k))return q}function p(k,w){return e.getCharCountIndicator(k,w)+4}function g(k,w){let T=0;return k.forEach(function(q){const R=p(q.mode,w);T+=R+q.getBitsLength()}),T}function v(k,w){for(let T=1;T<=40;T++)if(g(k,T)<=c.getCapacity(T,w,e.MIXED))return T}c.from=function(w,T){return t.isValid(w)?parseInt(w,10):T},c.getCapacity=function(w,T,q){if(!t.isValid(w))throw new Error("Invalid QR Code version");typeof q>"u"&&(q=e.BYTE);const R=l.getSymbolTotalCodewords(w),P=r.getTotalCodewordsCount(w,T),O=(R-P)*8;if(q===e.MIXED)return O;const U=O-p(q,w);switch(q){case e.NUMERIC:return Math.floor(U/10*3);case e.ALPHANUMERIC:return Math.floor(U/11*2);case e.KANJI:return Math.floor(U/13);case e.BYTE:default:return Math.floor(U/8)}},c.getBestVersionForData=function(w,T){let q;const R=n.from(T,n.M);if(Array.isArray(w)){if(w.length>1)return v(w,R);if(w.length===0)return 1;q=w[0]}else q=w;return s(q.mode,q.getLength(),R)},c.getEncodedBits=function(w){if(!t.isValid(w)||w<7)throw new Error("Invalid QR Code version");let T=w<<12;for(;l.getBCHDigit(T)-u>=0;)T^=o<<l.getBCHDigit(T)-u;return w<<12|T}}(_t)),_t}var gt={},cn;function jo(){if(cn)return gt;cn=1;const c=Ce(),l=1335,r=21522,n=c.getBCHDigit(l);return gt.getEncodedBits=function(t,o){const u=t.bit<<3|o;let s=u<<10;for(;c.getBCHDigit(s)-n>=0;)s^=l<<c.getBCHDigit(s)-n;return(u<<10|s)^r},gt}var vt={},yt,un;function Ho(){if(un)return yt;un=1;const c=$e();function l(r){this.mode=c.NUMERIC,this.data=r.toString()}return l.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(n){let e,t,o;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),o=parseInt(t,10),n.put(o,10);const u=this.data.length-e;u>0&&(t=this.data.substr(e),o=parseInt(t,10),n.put(o,u*3+1))},yt=l,yt}var bt,dn;function zo(){if(dn)return bt;dn=1;const c=$e(),l=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=c.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let o=l.indexOf(this.data[t])*45;o+=l.indexOf(this.data[t+1]),e.put(o,11)}this.data.length%2&&e.put(l.indexOf(this.data[t]),6)},bt=r,bt}var wt,pn;function Ko(){if(pn)return wt;pn=1;const c=$e();function l(r){this.mode=c.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return l.getBitsLength=function(n){return n*8},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(r){for(let n=0,e=this.data.length;n<e;n++)r.put(this.data[n],8)},wt=l,wt}var kt,fn;function Wo(){if(fn)return kt;fn=1;const c=$e(),l=Ce();function r(n){this.mode=c.KANJI,this.data=n}return r.getBitsLength=function(e){return e*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=l.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}},kt=r,kt}var Ct={exports:{}},_n;function Jo(){return _n||(_n=1,function(c){var l={single_source_shortest_paths:function(r,n,e){var t={},o={};o[n]=0;var u=l.PriorityQueue.make();u.push(n,0);for(var s,p,g,v,k,w,T,q,R;!u.empty();){s=u.pop(),p=s.value,v=s.cost,k=r[p]||{};for(g in k)k.hasOwnProperty(g)&&(w=k[g],T=v+w,q=o[g],R=typeof o[g]>"u",(R||q>T)&&(o[g]=T,u.push(g,T),t[g]=p))}if(typeof e<"u"&&typeof o[e]>"u"){var P=["Could not find a path from ",n," to ",e,"."].join("");throw new Error(P)}return t},extract_shortest_path_from_predecessor_list:function(r,n){for(var e=[],t=n;t;)e.push(t),r[t],t=r[t];return e.reverse(),e},find_path:function(r,n,e){var t=l.single_source_shortest_paths(r,n,e);return l.extract_shortest_path_from_predecessor_list(t,e)},PriorityQueue:{make:function(r){var n=l.PriorityQueue,e={},t;r=r||{};for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e.queue=[],e.sorter=r.sorter||n.default_sorter,e},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var e={value:r,cost:n};this.queue.push(e),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};c.exports=l}(Ct)),Ct.exports}var hn;function Go(){return hn||(hn=1,function(c){const l=$e(),r=Ho(),n=zo(),e=Ko(),t=Wo(),o=Ln(),u=Ce(),s=Jo();function p(P){return unescape(encodeURIComponent(P)).length}function g(P,O,U){const A=[];let E;for(;(E=P.exec(U))!==null;)A.push({data:E[0],index:E.index,mode:O,length:E[0].length});return A}function v(P){const O=g(o.NUMERIC,l.NUMERIC,P),U=g(o.ALPHANUMERIC,l.ALPHANUMERIC,P);let A,E;return u.isKanjiModeEnabled()?(A=g(o.BYTE,l.BYTE,P),E=g(o.KANJI,l.KANJI,P)):(A=g(o.BYTE_KANJI,l.BYTE,P),E=[]),O.concat(U,A,E).sort(function(D,L){return D.index-L.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function k(P,O){switch(O){case l.NUMERIC:return r.getBitsLength(P);case l.ALPHANUMERIC:return n.getBitsLength(P);case l.KANJI:return t.getBitsLength(P);case l.BYTE:return e.getBitsLength(P)}}function w(P){return P.reduce(function(O,U){const A=O.length-1>=0?O[O.length-1]:null;return A&&A.mode===U.mode?(O[O.length-1].data+=U.data,O):(O.push(U),O)},[])}function T(P){const O=[];for(let U=0;U<P.length;U++){const A=P[U];switch(A.mode){case l.NUMERIC:O.push([A,{data:A.data,mode:l.ALPHANUMERIC,length:A.length},{data:A.data,mode:l.BYTE,length:A.length}]);break;case l.ALPHANUMERIC:O.push([A,{data:A.data,mode:l.BYTE,length:A.length}]);break;case l.KANJI:O.push([A,{data:A.data,mode:l.BYTE,length:p(A.data)}]);break;case l.BYTE:O.push([{data:A.data,mode:l.BYTE,length:p(A.data)}])}}return O}function q(P,O){const U={},A={start:{}};let E=["start"];for(let m=0;m<P.length;m++){const D=P[m],L=[];for(let M=0;M<D.length;M++){const B=D[M],_=""+m+M;L.push(_),U[_]={node:B,lastCount:0},A[_]={};for(let F=0;F<E.length;F++){const S=E[F];U[S]&&U[S].node.mode===B.mode?(A[S][_]=k(U[S].lastCount+B.length,B.mode)-k(U[S].lastCount,B.mode),U[S].lastCount+=B.length):(U[S]&&(U[S].lastCount=B.length),A[S][_]=k(B.length,B.mode)+4+l.getCharCountIndicator(B.mode,O))}}E=L}for(let m=0;m<E.length;m++)A[E[m]].end=0;return{map:A,table:U}}function R(P,O){let U;const A=l.getBestModeForData(P);if(U=l.from(O,A),U!==l.BYTE&&U.bit<A.bit)throw new Error('"'+P+'" cannot be encoded with mode '+l.toString(U)+`.
 Suggested mode is: `+l.toString(A));switch(U===l.KANJI&&!u.isKanjiModeEnabled()&&(U=l.BYTE),U){case l.NUMERIC:return new r(P);case l.ALPHANUMERIC:return new n(P);case l.KANJI:return new t(P);case l.BYTE:return new e(P)}}c.fromArray=function(O){return O.reduce(function(U,A){return typeof A=="string"?U.push(R(A,null)):A.data&&U.push(R(A.data,A.mode)),U},[])},c.fromString=function(O,U){const A=v(O,u.isKanjiModeEnabled()),E=T(A),m=q(E,U),D=s.find_path(m.map,"start","end"),L=[];for(let M=1;M<D.length-1;M++)L.push(m.table[D[M]].node);return c.fromArray(w(L))},c.rawSplit=function(O){return c.fromArray(v(O,u.isKanjiModeEnabled()))}}(vt)),vt}var mn;function Yo(){if(mn)return st;mn=1;const c=Ce(),l=qt(),r=Mo(),n=No(),e=Uo(),t=Lo(),o=qo(),u=Nn(),s=Oo(),p=Vo(),g=jo(),v=$e(),k=Go();function w(m,D){const L=m.size,M=t.getPositions(D);for(let B=0;B<M.length;B++){const _=M[B][0],F=M[B][1];for(let S=-1;S<=7;S++)if(!(_+S<=-1||L<=_+S))for(let K=-1;K<=7;K++)F+K<=-1||L<=F+K||(S>=0&&S<=6&&(K===0||K===6)||K>=0&&K<=6&&(S===0||S===6)||S>=2&&S<=4&&K>=2&&K<=4?m.set(_+S,F+K,!0,!0):m.set(_+S,F+K,!1,!0))}}function T(m){const D=m.size;for(let L=8;L<D-8;L++){const M=L%2===0;m.set(L,6,M,!0),m.set(6,L,M,!0)}}function q(m,D){const L=e.getPositions(D);for(let M=0;M<L.length;M++){const B=L[M][0],_=L[M][1];for(let F=-2;F<=2;F++)for(let S=-2;S<=2;S++)F===-2||F===2||S===-2||S===2||F===0&&S===0?m.set(B+F,_+S,!0,!0):m.set(B+F,_+S,!1,!0)}}function R(m,D){const L=m.size,M=p.getEncodedBits(D);let B,_,F;for(let S=0;S<18;S++)B=Math.floor(S/3),_=S%3+L-8-3,F=(M>>S&1)===1,m.set(B,_,F,!0),m.set(_,B,F,!0)}function P(m,D,L){const M=m.size,B=g.getEncodedBits(D,L);let _,F;for(_=0;_<15;_++)F=(B>>_&1)===1,_<6?m.set(_,8,F,!0):_<8?m.set(_+1,8,F,!0):m.set(M-15+_,8,F,!0),_<8?m.set(8,M-_-1,F,!0):_<9?m.set(8,15-_-1+1,F,!0):m.set(8,15-_-1,F,!0);m.set(M-8,8,1,!0)}function O(m,D){const L=m.size;let M=-1,B=L-1,_=7,F=0;for(let S=L-1;S>0;S-=2)for(S===6&&S--;;){for(let K=0;K<2;K++)if(!m.isReserved(B,S-K)){let Z=!1;F<D.length&&(Z=(D[F]>>>_&1)===1),m.set(B,S-K,Z),_--,_===-1&&(F++,_=7)}if(B+=M,B<0||L<=B){B-=M,M=-M;break}}}function U(m,D,L){const M=new r;L.forEach(function(K){M.put(K.mode.bit,4),M.put(K.getLength(),v.getCharCountIndicator(K.mode,m)),K.write(M)});const B=c.getSymbolTotalCodewords(m),_=u.getTotalCodewordsCount(m,D),F=(B-_)*8;for(M.getLengthInBits()+4<=F&&M.put(0,4);M.getLengthInBits()%8!==0;)M.putBit(0);const S=(F-M.getLengthInBits())/8;for(let K=0;K<S;K++)M.put(K%2?17:236,8);return A(M,m,D)}function A(m,D,L){const M=c.getSymbolTotalCodewords(D),B=u.getTotalCodewordsCount(D,L),_=M-B,F=u.getBlocksCount(D,L),S=M%F,K=F-S,Z=Math.floor(M/F),N=Math.floor(_/F),a=N+1,h=Z-N,y=new s(h);let x=0;const f=new Array(F),C=new Array(F);let $=0;const I=new Uint8Array(m.buffer);for(let Y=0;Y<F;Y++){const X=Y<K?N:a;f[Y]=I.slice(x,x+X),C[Y]=y.encode(f[Y]),x+=X,$=Math.max($,X)}const V=new Uint8Array(M);let H=0,z,G;for(z=0;z<$;z++)for(G=0;G<F;G++)z<f[G].length&&(V[H++]=f[G][z]);for(z=0;z<h;z++)for(G=0;G<F;G++)V[H++]=C[G][z];return V}function E(m,D,L,M){let B;if(Array.isArray(m))B=k.fromArray(m);else if(typeof m=="string"){let Z=D;if(!Z){const N=k.rawSplit(m);Z=p.getBestVersionForData(N,L)}B=k.fromString(m,Z||40)}else throw new Error("Invalid data");const _=p.getBestVersionForData(B,L);if(!_)throw new Error("The amount of data is too big to be stored in a QR Code");if(!D)D=_;else if(D<_)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+_+`.
`);const F=U(D,L,B),S=c.getSymbolSize(D),K=new n(S);return w(K,D),T(K),q(K,D),P(K,L,0),D>=7&&R(K,D),O(K,F),isNaN(M)&&(M=o.getBestMask(K,P.bind(null,K,L))),o.applyMask(M,K),P(K,L,M),{modules:K,version:D,errorCorrectionLevel:L,maskPattern:M,segments:B}}return st.create=function(D,L){if(typeof D>"u"||D==="")throw new Error("No input text");let M=l.M,B,_;return typeof L<"u"&&(M=l.from(L.errorCorrectionLevel,l.M),B=p.from(L.version),_=o.from(L.maskPattern),L.toSJISFunc&&c.setToSJISFunction(L.toSJISFunc)),E(D,B,M,_)},st}var $t={},At={},gn;function qn(){return gn||(gn=1,function(c){function l(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(t){return[t,t]}))),n.length===6&&n.push("F","F");const e=parseInt(n.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:e&255,hex:"#"+n.slice(0,6).join("")}}c.getOptions=function(n){n||(n={}),n.color||(n.color={});const e=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,t=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:t,scale:t?4:o,margin:e,color:{dark:l(n.color.dark||"#000000ff"),light:l(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},c.getScale=function(n,e){return e.width&&e.width>=n+e.margin*2?e.width/(n+e.margin*2):e.scale},c.getImageWidth=function(n,e){const t=c.getScale(n,e);return Math.floor((n+e.margin*2)*t)},c.qrToImageData=function(n,e,t){const o=e.modules.size,u=e.modules.data,s=c.getScale(o,t),p=Math.floor((o+t.margin*2)*s),g=t.margin*s,v=[t.color.light,t.color.dark];for(let k=0;k<p;k++)for(let w=0;w<p;w++){let T=(k*p+w)*4,q=t.color.light;if(k>=g&&w>=g&&k<p-g&&w<p-g){const R=Math.floor((k-g)/s),P=Math.floor((w-g)/s);q=v[u[R*o+P]?1:0]}n[T++]=q.r,n[T++]=q.g,n[T++]=q.b,n[T]=q.a}}}(At)),At}var vn;function Qo(){return vn||(vn=1,function(c){const l=qn();function r(e,t,o){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=o,t.width=o,t.style.height=o+"px",t.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}c.render=function(t,o,u){let s=u,p=o;typeof s>"u"&&(!o||!o.getContext)&&(s=o,o=void 0),o||(p=n()),s=l.getOptions(s);const g=l.getImageWidth(t.modules.size,s),v=p.getContext("2d"),k=v.createImageData(g,g);return l.qrToImageData(k.data,t,s),r(v,p,g),v.putImageData(k,0,0),p},c.renderToDataURL=function(t,o,u){let s=u;typeof s>"u"&&(!o||!o.getContext)&&(s=o,o=void 0),s||(s={});const p=c.render(t,o,s),g=s.type||"image/png",v=s.rendererOpts||{};return p.toDataURL(g,v.quality)}}($t)),$t}var St={},yn;function Xo(){if(yn)return St;yn=1;const c=qn();function l(e,t){const o=e.a/255,u=t+'="'+e.hex+'"';return o<1?u+" "+t+'-opacity="'+o.toFixed(2).slice(1)+'"':u}function r(e,t,o){let u=e+t;return typeof o<"u"&&(u+=" "+o),u}function n(e,t,o){let u="",s=0,p=!1,g=0;for(let v=0;v<e.length;v++){const k=Math.floor(v%t),w=Math.floor(v/t);!k&&!p&&(p=!0),e[v]?(g++,v>0&&k>0&&e[v-1]||(u+=p?r("M",k+o,.5+w+o):r("m",s,0),s=0,p=!1),k+1<t&&e[v+1]||(u+=r("h",g),g=0)):s++}return u}return St.render=function(t,o,u){const s=c.getOptions(o),p=t.modules.size,g=t.modules.data,v=p+s.margin*2,k=s.color.light.a?"<path "+l(s.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",w="<path "+l(s.color.dark,"stroke")+' d="'+n(g,p,s.margin)+'"/>',T='viewBox="0 0 '+v+" "+v+'"',R='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+T+' shape-rendering="crispEdges">'+k+w+`</svg>
`;return typeof u=="function"&&u(null,R),R},St}var bn;function Zo(){if(bn)return Ee;bn=1;const c=To(),l=Yo(),r=Qo(),n=Xo();function e(t,o,u,s,p){const g=[].slice.call(arguments,1),v=g.length,k=typeof g[v-1]=="function";if(!k&&!c())throw new Error("Callback required as last argument");if(k){if(v<2)throw new Error("Too few arguments provided");v===2?(p=u,u=o,o=s=void 0):v===3&&(o.getContext&&typeof p>"u"?(p=s,s=void 0):(p=s,s=u,u=o,o=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(u=o,o=s=void 0):v===2&&!o.getContext&&(s=u,u=o,o=void 0),new Promise(function(w,T){try{const q=l.create(u,s);w(t(q,o,s))}catch(q){T(q)}})}try{const w=l.create(u,s);p(null,t(w,o,s))}catch(w){p(w)}}return Ee.create=l.create,Ee.toCanvas=e.bind(null,r.render),Ee.toDataURL=e.bind(null,r.renderToDataURL),Ee.toString=e.bind(null,function(t,o,u){return n.render(t,u)}),Ee}var ea=Zo();const wn=En(ea),ta={class:"card-box"},na={class:"card-box-header"},oa={class:"card-title"},aa={key:0,class:"card-icon"},sa={class:"title-text"},ra={class:"title-text"},ia={class:"action"},la={class:"card-box-body"},ca={__name:"card-box",props:{title:{type:String,default:""}},setup(c){const l=c;return(r,n)=>(j(),Q("div",ta,[i("div",na,[i("div",oa,[r.$slots.icon?(j(),Q("span",aa,[Fe(r.$slots,"icon",{},void 0,!0)])):te("",!0),i("span",sa,oe(l.title),1),i("span",ra,[Fe(r.$slots,"title",{},void 0,!0)])]),i("div",ia,[Fe(r.$slots,"action",{},void 0,!0)])]),i("div",la,[Fe(r.$slots,"default",{},void 0,!0)])]))}},Be=se(ca,[["__scopeId","data-v-3163046b"]]),ua={class:"page-title-input"},da={class:"upload-logo"},pa=["src"],fa={__name:"page-title-input",props:{avatar:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:"请输入标题"},autoUpload:{type:Boolean,default:!0}},emits:["update:value","update:avatar","changeAvatar"],setup(c,{emit:l}){const r=l,n=c,e=o=>{r("update:value",o.srcElement.value)},t=o=>{let u={file:o[0],category:"icon"};n.autoUpload&&Tn(u).then(s=>{r("update:avatar",s.data.link)}),ao(o[0]).then(s=>{r("changeAvatar",{file:o[0],url:s})})};return(o,u)=>{const s=ve;return j(),Q("div",ua,[i("div",da,[d(Mn,{onChange:t},{default:b(()=>[i("img",{class:"avatar",src:n.avatar},null,8,pa)]),_:1})]),d(s,{size:"large",value:n.value,placeholder:c.placeholder,onInput:e},null,8,["value","placeholder"])])}}},Re=se(fa,[["__scopeId","data-v-33c7eb3d"]]);var Et={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */var kn;function _a(){return kn||(kn=1,function(c,l){(function(r,n){c.exports=n()})(self,()=>(()=>{var r={d:(N,a)=>{for(var h in a)r.o(a,h)&&!r.o(N,h)&&Object.defineProperty(N,h,{enumerable:!0,get:a[h]})},o:(N,a)=>Object.prototype.hasOwnProperty.call(N,a),r:N=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})}},n={};r.d(n,{default:()=>K});var e={};function t(N,a,h,y,x={}){a instanceof HTMLCollection||a instanceof NodeList?a=Array.from(a):Array.isArray(a)||(a=[a]),Array.isArray(h)||(h=[h]);for(const f of a)for(const C of h)f[N](C,y,{capture:!1,...x});return Array.prototype.slice.call(arguments,1)}r.r(e),r.d(e,{adjustableInputNumbers:()=>k,createElementFromString:()=>s,createFromTemplate:()=>p,eventPath:()=>g,off:()=>u,on:()=>o,resolveElement:()=>v});const o=t.bind(null,"addEventListener"),u=t.bind(null,"removeEventListener");function s(N){const a=document.createElement("div");return a.innerHTML=N.trim(),a.firstElementChild}function p(N){const a=(y,x)=>{const f=y.getAttribute(x);return y.removeAttribute(x),f},h=(y,x={})=>{const f=a(y,":obj"),C=a(y,":ref"),$=f?x[f]={}:x;C&&(x[C]=y);for(const I of Array.from(y.children)){const V=a(I,":arr"),H=h(I,V?{}:$);V&&($[V]||($[V]=[])).push(Object.keys(H).length?H:I)}return x};return h(s(N))}function g(N){let a=N.path||N.composedPath&&N.composedPath();if(a)return a;let h=N.target.parentElement;for(a=[N.target,h];h=h.parentElement;)a.push(h);return a.push(document,window),a}function v(N){return N instanceof Element?N:typeof N=="string"?N.split(/>>/g).reduce((a,h,y,x)=>(a=a.querySelector(h),y<x.length-1?a.shadowRoot:a),document):null}function k(N,a=h=>h){function h(y){const x=[.001,.01,.1][Number(y.shiftKey||2*y.ctrlKey)]*(y.deltaY<0?1:-1);let f=0,C=N.selectionStart;N.value=N.value.replace(/[\d.]+/g,($,I)=>I<=C&&I+$.length>=C?(C=I,a(Number($),x,f)):(f++,$)),N.focus(),N.setSelectionRange(C,C),y.preventDefault(),N.dispatchEvent(new Event("input"))}o(N,"focus",()=>o(window,"wheel",h,{passive:!1})),o(N,"blur",()=>u(window,"wheel",h))}const{min:w,max:T,floor:q,round:R}=Math;function P(N,a,h){a/=100,h/=100;const y=q(N=N/360*6),x=N-y,f=h*(1-a),C=h*(1-x*a),$=h*(1-(1-x)*a),I=y%6;return[255*[h,C,f,f,$,h][I],255*[$,h,h,C,f,f][I],255*[f,f,$,h,h,C][I]]}function O(N,a,h){const y=(2-(a/=100))*(h/=100)/2;return y!==0&&(a=y===1?0:y<.5?a*h/(2*y):a*h/(2-2*y)),[N,100*a,100*y]}function U(N,a,h){const y=w(N/=255,a/=255,h/=255),x=T(N,a,h),f=x-y;let C,$;if(f===0)C=$=0;else{$=f/x;const I=((x-N)/6+f/2)/f,V=((x-a)/6+f/2)/f,H=((x-h)/6+f/2)/f;N===x?C=H-V:a===x?C=1/3+I-H:h===x&&(C=2/3+V-I),C<0?C+=1:C>1&&(C-=1)}return[360*C,100*$,100*x]}function A(N,a,h,y){return a/=100,h/=100,[...U(255*(1-w(1,(N/=100)*(1-(y/=100))+y)),255*(1-w(1,a*(1-y)+y)),255*(1-w(1,h*(1-y)+y)))]}function E(N,a,h){a/=100;const y=2*(a*=(h/=100)<.5?h:1-h)/(h+a)*100,x=100*(h+a);return[N,isNaN(y)?0:y,x]}function m(N){return U(...N.match(/.{2}/g).map(a=>parseInt(a,16)))}function D(N){N=N.match(/^[a-zA-Z]+$/)?function(x){if(x.toLowerCase()==="black")return"#000";const f=document.createElement("canvas").getContext("2d");return f.fillStyle=x,f.fillStyle==="#000"?null:f.fillStyle}(N):N;const a={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},h=x=>x.map(f=>/^(|\d+)\.\d+|\d+$/.test(f)?Number(f):void 0);let y;e:for(const x in a)if(y=a[x].exec(N))switch(x){case"cmyk":{const[,f,C,$,I]=h(y);if(f>100||C>100||$>100||I>100)break e;return{values:A(f,C,$,I),type:x}}case"rgba":{let[,f,,C,,$,,,I]=h(y);if(f=y[2]==="%"?f/100*255:f,C=y[4]==="%"?C/100*255:C,$=y[6]==="%"?$/100*255:$,I=y[9]==="%"?I/100:I,f>255||C>255||$>255||I<0||I>1)break e;return{values:[...U(f,C,$),I],a:I,type:x}}case"hexa":{let[,f]=y;f.length!==4&&f.length!==3||(f=f.split("").map(I=>I+I).join(""));const C=f.substring(0,6);let $=f.substring(6);return $=$?parseInt($,16)/255:void 0,{values:[...m(C),$],a:$,type:x}}case"hsla":{let[,f,C,$,,I]=h(y);if(I=y[6]==="%"?I/100:I,f>360||C>100||$>100||I<0||I>1)break e;return{values:[...E(f,C,$),I],a:I,type:x}}case"hsva":{let[,f,C,$,,I]=h(y);if(I=y[6]==="%"?I/100:I,f>360||C>100||$>100||I<0||I>1)break e;return{values:[f,C,$,I],a:I,type:x}}}return{values:null,type:null}}function L(N=0,a=0,h=0,y=1){const x=(C,$)=>(I=-1)=>$(~I?C.map(V=>Number(V.toFixed(I))):C),f={h:N,s:a,v:h,a:y,toHSVA(){const C=[f.h,f.s,f.v,f.a];return C.toString=x(C,$=>`hsva(${$[0]}, ${$[1]}%, ${$[2]}%, ${f.a})`),C},toHSLA(){const C=[...O(f.h,f.s,f.v),f.a];return C.toString=x(C,$=>`hsla(${$[0]}, ${$[1]}%, ${$[2]}%, ${f.a})`),C},toRGBA(){const C=[...P(f.h,f.s,f.v),f.a];return C.toString=x(C,$=>`rgba(${$[0]}, ${$[1]}, ${$[2]}, ${f.a})`),C},toCMYK(){const C=function($,I,V){const H=P($,I,V),z=H[0]/255,G=H[1]/255,Y=H[2]/255,X=w(1-z,1-G,1-Y);return[100*(X===1?0:(1-z-X)/(1-X)),100*(X===1?0:(1-G-X)/(1-X)),100*(X===1?0:(1-Y-X)/(1-X)),100*X]}(f.h,f.s,f.v);return C.toString=x(C,$=>`cmyk(${$[0]}%, ${$[1]}%, ${$[2]}%, ${$[3]}%)`),C},toHEXA(){const C=function(I,V,H){return P(I,V,H).map(z=>R(z).toString(16).padStart(2,"0"))}(f.h,f.s,f.v),$=f.a>=1?"":Number((255*f.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return $&&C.push($),C.toString=()=>`#${C.join("").toUpperCase()}`,C},clone:()=>L(f.h,f.s,f.v,f.a)};return f}const M=N=>Math.max(Math.min(N,1),0);function B(N){const a={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},N),_keyboard(f){const{options:C}=a,{type:$,key:I}=f;if(document.activeElement===C.wrapper){const{lock:V}=a.options,H=I==="ArrowUp",z=I==="ArrowRight",G=I==="ArrowDown",Y=I==="ArrowLeft";if($==="keydown"&&(H||z||G||Y)){let X=0,re=0;V==="v"?X=H||z?1:-1:V==="h"?X=H||z?-1:1:(re=H?-1:G?1:0,X=Y?-1:z?1:0),a.update(M(a.cache.x+.01*X),M(a.cache.y+.01*re)),f.preventDefault()}else I.startsWith("Arrow")&&(a.options.onstop(),f.preventDefault())}},_tapstart(f){o(document,["mouseup","touchend","touchcancel"],a._tapstop),o(document,["mousemove","touchmove"],a._tapmove),f.cancelable&&f.preventDefault(),a._tapmove(f)},_tapmove(f){const{options:C,cache:$}=a,{lock:I,element:V,wrapper:H}=C,z=H.getBoundingClientRect();let G=0,Y=0;if(f){const Ae=f&&f.touches&&f.touches[0];G=f?(Ae||f).clientX:0,Y=f?(Ae||f).clientY:0,G<z.left?G=z.left:G>z.left+z.width&&(G=z.left+z.width),Y<z.top?Y=z.top:Y>z.top+z.height&&(Y=z.top+z.height),G-=z.left,Y-=z.top}else $&&(G=$.x*z.width,Y=$.y*z.height);I!=="h"&&(V.style.left=`calc(${G/z.width*100}% - ${V.offsetWidth/2}px)`),I!=="v"&&(V.style.top=`calc(${Y/z.height*100}% - ${V.offsetHeight/2}px)`),a.cache={x:G/z.width,y:Y/z.height};const X=M(G/z.width),re=M(Y/z.height);switch(I){case"v":return C.onchange(X);case"h":return C.onchange(re);default:return C.onchange(X,re)}},_tapstop(){a.options.onstop(),u(document,["mouseup","touchend","touchcancel"],a._tapstop),u(document,["mousemove","touchmove"],a._tapmove)},trigger(){a._tapmove()},update(f=0,C=0){const{left:$,top:I,width:V,height:H}=a.options.wrapper.getBoundingClientRect();a.options.lock==="h"&&(C=f),a._tapmove({clientX:$+V*f,clientY:I+H*C})},destroy(){const{options:f,_tapstart:C,_keyboard:$}=a;u(document,["keydown","keyup"],$),u([f.wrapper,f.element],"mousedown",C),u([f.wrapper,f.element],"touchstart",C,{passive:!1})}},{options:h,_tapstart:y,_keyboard:x}=a;return o([h.wrapper,h.element],"mousedown",y),o([h.wrapper,h.element],"touchstart",y,{passive:!1}),o(document,["keydown","keyup"],x),a}function _(N={}){N=Object.assign({onchange:()=>0,className:"",elements:[]},N);const a=o(N.elements,"click",h=>{N.elements.forEach(y=>y.classList[h.target===y?"add":"remove"](N.className)),N.onchange(h),h.stopPropagation()});return{destroy:()=>u(...a)}}const F={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},S=(N,a,h)=>{const y=typeof N!="object"||N instanceof HTMLElement?{reference:N,popper:a,...h}:N;return{update(x=y){const{reference:f,popper:C}=Object.assign(y,x);if(!C||!f)throw new Error("Popper- or reference-element missing.");return(($,I,V)=>{const{container:H,arrow:z,margin:G,padding:Y,position:X,variantFlipOrder:re,positionFlipOrder:Ae}={container:document.documentElement.getBoundingClientRect(),...F,...V},{left:Je,top:Ge}=I.style;I.style.left="0",I.style.top="0";const ie=$.getBoundingClientRect(),ue=I.getBoundingClientRect(),Fn={t:ie.top-ue.height-G,b:ie.bottom+G,r:ie.right+G,l:ie.left-ue.width-G},On={vs:ie.left,vm:ie.left+ie.width/2-ue.width/2,ve:ie.left+ie.width-ue.width,hs:ie.top,hm:ie.bottom-ie.height/2-ue.height/2,he:ie.bottom-ue.height},[Vn,jn="middle"]=X.split("-"),Hn=Ae[Vn],zn=re[jn],{top:Ft,left:Ot,bottom:Vt,right:jt}=H;for(const Pe of Hn){const Se=Pe==="t"||Pe==="b";let Te=Fn[Pe];const[Ye,Qe]=Se?["top","left"]:["left","top"],[Xe,Ze]=Se?[ue.height,ue.width]:[ue.width,ue.height],[Kn,Wn]=Se?[Vt,jt]:[jt,Vt],[Jn,Gn]=Se?[Ft,Ot]:[Ot,Ft];if(!(Te<Jn||Te+Xe+Y>Kn))for(const et of zn){let Me=On[(Se?"v":"h")+et];if(!(Me<Gn||Me+Ze+Y>Wn)){if(Me-=ue[Qe],Te-=ue[Ye],I.style[Qe]=`${Me}px`,I.style[Ye]=`${Te}px`,z){const tt=Se?ie.width/2:ie.height/2,De=Ze/2,Ht=tt>De,Yn=Me+{s:Ht?De:tt,m:De,e:Ht?De:Ze-tt}[et],Qn=Te+{t:Xe,b:0,r:0,l:Xe}[Pe];z.style[Qe]=`${Yn}px`,z.style[Ye]=`${Qn}px`}return Pe+et}}}return I.style.left=Je,I.style.top=Ge,null})(f,C,y)}}},Z=class Z{constructor(a){le(this,"_initializingActive",!0);le(this,"_recalc",!0);le(this,"_nanopop",null);le(this,"_root",null);le(this,"_color",L());le(this,"_lastColor",L());le(this,"_swatchColors",[]);le(this,"_setupAnimationFrame",null);le(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]});this.options=a=Object.assign({...Z.DEFAULT_OPTIONS},a);const{swatches:h,components:y,theme:x,sliders:f,lockOpacity:C,padding:$}=a;["nano","monolith"].includes(x)&&!f&&(a.sliders="h"),y.interaction||(y.interaction={});const{preview:I,opacity:V,hue:H,palette:z}=y;y.opacity=!C&&V,y.palette=z||I||V||H,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),h&&h.length&&h.forEach(re=>this.addSwatch(re));const{button:G,app:Y}=this._root;this._nanopop=S(G,Y,{margin:$}),G.setAttribute("role","button"),G.setAttribute("aria-label",this._t("btn:toggle"));const X=this;this._setupAnimationFrame=requestAnimationFrame(function re(){if(!Y.offsetWidth)return requestAnimationFrame(re);X.setColor(a.default),X._rePositioningPicker(),a.defaultRepresentation&&(X._representation=a.defaultRepresentation,X.setColorRepresentation(X._representation)),a.showAlways&&X.show(),X._initializingActive=!1,X._emit("init")})}_preBuild(){const{options:a}=this;for(const h of["el","container"])a[h]=v(a[h]);this._root=(h=>{const{components:y,useAsButton:x,inline:f,appClass:C,theme:$,lockOpacity:I}=h.options,V=Y=>Y?"":'style="display:none" hidden',H=Y=>h._t(Y),z=p(`
      <div :ref="root" class="pickr">

        ${x?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${C||""}" data-theme="${$}" ${f?'style="position: unset"':""} aria-label="${H("ui:dialog")}" role="window">
          <div class="pcr-selection" ${V(y.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${V(y.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${H("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${H("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${V(y.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${H("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${V(y.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${H("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${y.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${V(Object.keys(y.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${V(y.interaction.input)} aria-label="${H("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${I?"HEX":"HEXA"}" type="button" ${V(y.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${I?"RGB":"RGBA"}" type="button" ${V(y.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${I?"HSL":"HSLA"}" type="button" ${V(y.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${I?"HSV":"HSVA"}" type="button" ${V(y.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${V(y.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${H("btn:save")}" type="button" ${V(y.interaction.save)} aria-label="${H("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${H("btn:cancel")}" type="button" ${V(y.interaction.cancel)} aria-label="${H("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${H("btn:clear")}" type="button" ${V(y.interaction.clear)} aria-label="${H("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),G=z.interaction;return G.options.find(Y=>!Y.hidden&&!Y.classList.add("active")),G.type=()=>G.options.find(Y=>Y.classList.contains("active")),z})(this),a.useAsButton&&(this._root.button=a.el),a.container.appendChild(this._root.root)}_finalBuild(){const a=this.options,h=this._root;if(a.container.removeChild(h.root),a.inline){const y=a.el.parentElement;a.el.nextSibling?y.insertBefore(h.app,a.el.nextSibling):y.appendChild(h.app)}else a.container.appendChild(h.app);a.useAsButton?a.inline&&a.el.remove():a.el.parentNode.replaceChild(h.root,a.el),a.disabled&&this.disable(),a.comparison||(h.button.style.transition="none",a.useAsButton||(h.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const a=this,h=this.options.components,y=(a.options.sliders||"v").repeat(2),[x,f]=y.match(/^[vh]+$/g)?y:[],C=()=>this._color||(this._color=this._lastColor.clone()),$={palette:B({element:a._root.palette.picker,wrapper:a._root.palette.palette,onstop:()=>a._emit("changestop","slider",a),onchange(I,V){if(!h.palette)return;const H=C(),{_root:z,options:G}=a,{lastColor:Y,currentColor:X}=z.preview;a._recalc&&(H.s=100*I,H.v=100-100*V,H.v<0&&(H.v=0),a._updateOutput("slider"));const re=H.toRGBA().toString(0);this.element.style.background=re,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${H.a}), transparent),
                        linear-gradient(to left, hsla(${H.h}, 100%, 50%, ${H.a}), rgba(255, 255, 255, ${H.a}))
                    `,G.comparison?G.useAsButton||a._lastColor||Y.style.setProperty("--pcr-color",re):(z.button.style.setProperty("--pcr-color",re),z.button.classList.remove("clear"));const Ae=H.toHEXA().toString();for(const{el:Je,color:Ge}of a._swatchColors)Je.classList[Ae===Ge.toHEXA().toString()?"add":"remove"]("pcr-active");X.style.setProperty("--pcr-color",re)}}),hue:B({lock:f==="v"?"h":"v",element:a._root.hue.picker,wrapper:a._root.hue.slider,onstop:()=>a._emit("changestop","slider",a),onchange(I){if(!h.hue||!h.palette)return;const V=C();a._recalc&&(V.h=360*I),this.element.style.backgroundColor=`hsl(${V.h}, 100%, 50%)`,$.palette.trigger()}}),opacity:B({lock:x==="v"?"h":"v",element:a._root.opacity.picker,wrapper:a._root.opacity.slider,onstop:()=>a._emit("changestop","slider",a),onchange(I){if(!h.opacity||!h.palette)return;const V=C();a._recalc&&(V.a=Math.round(100*I)/100),this.element.style.background=`rgba(0, 0, 0, ${V.a})`,$.palette.trigger()}}),selectable:_({elements:a._root.interaction.options,className:"active",onchange(I){a._representation=I.target.getAttribute("data-type").toUpperCase(),a._recalc&&a._updateOutput("swatch")}})};this._components=$}_bindEvents(){const{_root:a,options:h}=this,y=[o(a.interaction.clear,"click",()=>this._clearColor()),o([a.interaction.cancel,a.preview.lastColor],"click",()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")}),o(a.interaction.save,"click",()=>{!this.applyColor()&&!h.showAlways&&this.hide()}),o(a.interaction.result,["keyup","input"],x=>{this.setColor(x.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),x.stopImmediatePropagation()}),o(a.interaction.result,["focus","blur"],x=>{this._recalc=x.type==="blur",this._recalc&&this._updateOutput(null)}),o([a.palette.palette,a.palette.picker,a.hue.slider,a.hue.picker,a.opacity.slider,a.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!h.showAlways){const x=h.closeWithKey;y.push(o(a.button,"click",()=>this.isOpen()?this.hide():this.show()),o(document,"keyup",f=>this.isOpen()&&(f.key===x||f.code===x)&&this.hide()),o(document,["touchstart","mousedown"],f=>{this.isOpen()&&!g(f).some(C=>C===a.app||C===a.button)&&this.hide()},{capture:!0}))}if(h.adjustableNumbers){const x={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};k(a.interaction.result,(f,C,$)=>{const I=x[this.getColorRepresentation().toLowerCase()];if(I){const V=I[$],H=f+(V>=100?1e3*C:C);return H<=0?0:Number((H<V?H:V).toPrecision(3))}return f})}if(h.autoReposition&&!h.inline){let x=null;const f=this;y.push(o(window,["scroll","resize"],()=>{f.isOpen()&&(h.closeOnScroll&&f.hide(),x===null?(x=setTimeout(()=>x=null,100),requestAnimationFrame(function C(){f._rePositioningPicker(),x!==null&&requestAnimationFrame(C)})):(clearTimeout(x),x=setTimeout(()=>x=null,100)))},{capture:!0}))}this._eventBindings=y}_rePositioningPicker(){const{options:a}=this;if(!a.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:a.position})){const h=this._root.app,y=h.getBoundingClientRect();h.style.top=(window.innerHeight-y.height)/2+"px",h.style.left=(window.innerWidth-y.width)/2+"px"}}_updateOutput(a){const{_root:h,_color:y,options:x}=this;if(h.interaction.type()){const f=`to${h.interaction.type().getAttribute("data-type")}`;h.interaction.result.value=typeof y[f]=="function"?y[f]().toString(x.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",y,a,this)}_clearColor(a=!1){const{_root:h,options:y}=this;y.useAsButton||h.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),h.button.classList.add("clear"),y.showAlways||this.hide(),this._lastColor=null,this._initializingActive||a||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(a){const{values:h,type:y,a:x}=D(a),{lockOpacity:f}=this.options,C=x!==void 0&&x!==1;return h&&h.length===3&&(h[3]=void 0),{values:!h||f&&C?null:h,type:y}}_t(a){return this.options.i18n[a]||Z.I18N_DEFAULTS[a]}_emit(a,...h){this._eventListener[a].forEach(y=>y(...h,this))}on(a,h){return this._eventListener[a].push(h),this}off(a,h){const y=this._eventListener[a]||[],x=y.indexOf(h);return~x&&y.splice(x,1),this}addSwatch(a){const{values:h}=this._parseLocalColor(a);if(h){const{_swatchColors:y,_root:x}=this,f=L(...h),C=s(`<button type="button" style="--pcr-color: ${f.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return x.swatches.appendChild(C),y.push({el:C,color:f}),this._eventBindings.push(o(C,"click",()=>{this.setHSVA(...f.toHSVA(),!0),this._emit("swatchselect",f),this._emit("change",f,"swatch",this)})),!0}return!1}removeSwatch(a){const h=this._swatchColors[a];if(h){const{el:y}=h;return this._root.swatches.removeChild(y),this._swatchColors.splice(a,1),!0}return!1}applyColor(a=!1){const{preview:h,button:y}=this._root,x=this._color.toRGBA().toString(0);return h.lastColor.style.setProperty("--pcr-color",x),this.options.useAsButton||y.style.setProperty("--pcr-color",x),y.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||a||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(a=>u(...a)),Object.keys(this._components).forEach(a=>this._components[a].destroy())}destroyAndRemove(){this.destroy();const{root:a,app:h}=this._root;a.parentElement&&a.parentElement.removeChild(a),h.parentElement.removeChild(h),Object.keys(this).forEach(y=>this[y]=null)}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(a=360,h=0,y=0,x=1,f=!1){const C=this._recalc;if(this._recalc=!1,a<0||a>360||h<0||h>100||y<0||y>100||x<0||x>1)return!1;this._color=L(a,h,y,x);const{hue:$,opacity:I,palette:V}=this._components;return $.update(a/360),I.update(x),V.update(h/100,1-y/100),f||this.applyColor(),C&&this._updateOutput(),this._recalc=C,!0}setColor(a,h=!1){if(a===null)return this._clearColor(h),!0;const{values:y,type:x}=this._parseLocalColor(a);if(y){const f=x.toUpperCase(),{options:C}=this._root.interaction,$=C.find(I=>I.getAttribute("data-type")===f);if($&&!$.hidden)for(const I of C)I.classList[I===$?"add":"remove"]("active");return!!this.setHSVA(...y,h)&&this.setColorRepresentation(f)}return!1}setColorRepresentation(a){return a=a.toUpperCase(),!!this._root.interaction.options.find(h=>h.getAttribute("data-type").startsWith(a)&&!h.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};le(Z,"utils",e),le(Z,"version","1.9.1"),le(Z,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),le(Z,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),le(Z,"create",a=>new Z(a));let K=Z;return n=n.default})())}(Et)),Et.exports}var ha=_a();const ma=En(ha),ga={class:"color-picker-wrapper"},va={class:"color-picker-action"},ya={__name:"index",props:{value:{type:String,default:"#000000"}},emits:["update:value","change"],setup(c,{emit:l}){const r=l,n=c,e=W(null);return Ue(()=>{const t=ma.create({el:e.value,container:"body",theme:"nano",default:n.value,defaultRepresentation:"HEX",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!0}}});t.on("save",(o,u)=>{let s=o.toHEXA().toString();r("update:value",s),r("change",s),u.hide()}),t.on("show",()=>{const o=document.querySelectorAll(".pcr-save");o&&o.length&&o.forEach(function(u){u.tagName.toLowerCase()==="input"&&(u.value="保存")})})}),(t,o)=>{const u=ve;return j(),Q("div",ga,[d(u,{value:n.value,readonly:!0,placeholder:"Basic usage"},null,8,["value"]),i("span",va,[i("span",{ref_key:"colorPicker",ref:e},null,512)])])}}},Rt=se(ya,[["__scopeId","data-v-ad5f6f69"]]),ba="/assets/img/quick-help-BZ3Cu-IE.png",wa={class:"quick-instructions-box"},ka={class:"quick-action-right"},Ca={class:"quick-list-box"},$a={class:"list-box-wrap"},Aa={class:"drag-btn"},Sa={class:"left-box"},Ea={class:"title"},xa={class:"content"},Ba={class:"opration-box"},Ia={class:"form-box"},Ra={__name:"quick-instruction",props:{type:{type:Number,default:void 0}},emits:["updata"],setup(c,{emit:l}){const r=c,n=l,e=eo(),t=je(),{robotInfo:o}=Ve(t),{getRobot:u}=t,s=W([]),p=W(parseInt(r.type==-1?o.value.fast_command_switch:o.value.yunpc_fast_command_switch)||0);xe(s,B=>{n("updata",{comand_list:B,fast_command_switch:p.value})});const g=()=>{ko({robot_key:o.value.robot_key,app_id:r.type}).then(B=>{s.value=B.data||[],t.setQuickCommand(B.data)})};g();const v=_e.useForm,k=W(!1),w=W("添加快捷指令"),T=ce({robot_id:e.query.id,app_id:r.type,title:"",typ:1,content:"",id:""}),q=B=>{const{id:_}=o.value;Ao({robot_key:o.value.robot_key,app_id:r.type}).then(F=>{p.value=B,n("updata",{comand_list:s.value,fast_command_switch:p.value}),u(_),ae.success("修改成功")}).catch(F=>{p.value=!p.value})},R=()=>{T.content="",E(["content"])},P=B=>{k.value=!0,U(),w.value=B.id?"编辑快捷指令":"添加快捷指令",T.title=B.title||"",T.content=B.content||"",T.id=B.id||"",T.typ=+B.typ||1},O=ce({title:[{message:"请输入指令标题",required:!0}],content:[{message:"",required:!0},{validator:async(B,_)=>_==""?Promise.reject(new Error(`请输入${T.typ==1?"内容":"网址"}`)):T.typ==1||xo(_)?Promise.resolve():Promise.reject(new Error("请输入合法网页链接"))}]}),{resetFields:U,validate:A,clearValidate:E,validateInfos:m}=v(T,O),D=()=>{A().then(()=>{So({...fe(T)}).then(B=>{ae.success("修改成功"),k.value=!1,g()})})},L=B=>{de.confirm({title:"提醒",icon:d(qe),content:"确定要删除该快捷指令吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk(){$o({id:B}).then(_=>{ae.success("删除成功"),g()})},onCancel(){}})},M=B=>{let _=s.value.map((F,S)=>({id:+F.id,sort:S+1}));Co({data:_}).then(F=>{ae.success("保存成功"),g()})};return(B,_)=>{const F=io,S=Pt,K=Bn,Z=he,N=ve,a=be,h=Rn,y=In,x=Tt,f=_e,C=de;return j(),Q("div",wa,[d(Be,null,{title:b(()=>[_[9]||(_[9]=J(" 快捷指令设置 ")),d(F,{placement:"top"},{content:b(()=>_[8]||(_[8]=[i("div",{class:"help-box"},[i("div",null,"快捷指令是对话输入框上方的按钮,配置完成后,用户可以快速发起预设对话"),i("img",{src:ba,alt:""})],-1)])),default:b(()=>[d(ee(lo),{class:"help-icon"})]),_:1})]),icon:b(()=>[d(S,{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),action:b(()=>[i("div",ka,[d(K,{onChange:q,class:"switch-item",checkedValue:1,unCheckedValue:0,checked:p.value,"onUpdate:checked":_[0]||(_[0]=$=>p.value=$),"checked-children":"开","un-checked-children":"关"},null,8,["checked"]),d(Z,{onClick:P,size:"small",type:"primary"},{default:b(()=>_[10]||(_[10]=[J("添加")])),_:1,__:[10]})])]),default:b(()=>[i("div",Ca,[d(ee(Bo),{modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=$=>s.value=$),"item-key":"id",onEnd:_[2]||(_[2]=$=>M($)),handle:".drag-btn"},{item:b(({element:$,index:I})=>[i("div",$a,[(j(),Q("div",{class:"list-item",key:$.id},[i("div",Aa,[d(S,{name:"drag"})]),i("div",Sa,[i("div",Ea,oe($.title),1),i("div",xa,oe($.content),1)]),i("div",Ba,[d(ee(so),{onClick:V=>P($)},null,8,["onClick"]),d(ee(ro),{onClick:V=>L($.id)},null,8,["onClick"])])]))])]),_:1},8,["modelValue"])])]),_:1}),d(C,{open:k.value,"onUpdate:open":_[7]||(_[7]=$=>k.value=$),title:w.value,onOk:D,width:"576px"},{default:b(()=>[i("div",Ia,[d(f,{layout:"vertical"},{default:b(()=>[d(a,zt({label:"指令标题"},ee(m).title),{default:b(()=>[d(N,{placeholder:"请输入指令标题",maxLength:20,value:T.title,"onUpdate:value":_[3]||(_[3]=$=>T.title=$)},null,8,["value"])]),_:1},16),d(a,{label:"指令类型",required:""},{default:b(()=>[d(y,{value:T.typ,"onUpdate:value":_[4]||(_[4]=$=>T.typ=$),onChange:R},{default:b(()=>[d(h,{value:1},{default:b(()=>_[11]||(_[11]=[J("输入内容")])),_:1,__:[11]}),d(h,{value:2},{default:b(()=>_[12]||(_[12]=[J("跳转网页")])),_:1,__:[12]})]),_:1},8,["value"])]),_:1}),d(a,zt({label:T.typ==1?"指令内容":"网页链接",required:""},ee(m).content),{default:b(()=>[T.typ==1?(j(),ne(x,{key:0,style:{height:"100px"},value:T.content,"onUpdate:value":_[5]||(_[5]=$=>T.content=$),placeholder:"请输入指令内容"},null,8,["value"])):(j(),ne(N,{key:1,placeholder:"请输入网页链接",value:T.content,"onUpdate:value":_[6]||(_[6]=$=>T.content=$)},null,8,["value"]))]),_:1},16,["label"])]),_:1})])]),_:1},8,["open","title"])])}}},Dn=se(Ra,[["__scopeId","data-v-78636562"]]),Pa={class:"web-app-box"},Ta={class:"box-left"},Ma={class:"box-wrapper"},Na={class:"web-app-info"},Ua={class:"web-app-link"},La=["href"],qa={class:"link-action"},Da=["src"],Fa={class:"card-title"},Oa={class:"web-app-link"},Va=["href"],ja={class:"link-action"},Ha=["src"],za={class:"access-restrictions form-box"},Ka={class:"form-item"},Wa={class:"form-item-body"},Ja={class:"box-wrapper"},Ga={class:"web-app-style form-box"},Ya={class:"box-wrapper"},Qa={class:"box-right"},Xa={class:"demo-box"},Za=["src"],es={__name:"web-app",setup(c){const l=to(),r=je(),{robotInfo:n,external_config_h5:e}=Ve(r),{h5_website:t,h5_domain:o,robot_key:u}=n.value,{getRobot:s}=r,p=W(""),g=W(""),v=W(),k=ce({logo:e.value.logo,pageTitle:e.value.pageTitle,navbarShow:e.value.navbarShow,lang:e.value.lang,pageStyle:e.value.pageStyle}),w=me(()=>`${o}/#/chat/pc?robot_key=${u}`),T=me(()=>`${o}/#/chat/h5?robot_key=${u}`),q=me(()=>t);xe(k,B=>{P(B)});const R=B=>{P(B,"updataQuickComand")},P=(B,_)=>{document.getElementById("mobile-preview").contentWindow.postMessage({type:_||"onPreview",data:JSON.parse(JSON.stringify(B))},"*")},O={lang:[{required:!0,message:"请选择语言",trigger:"change"}],pageTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>k.logo?Promise.resolve():Promise.reject("请上传logo")}],navbarShow:[{required:!0,message:"请选择是否显示标题栏",trigger:"change"}],pageStyle:{navbarBackgroundColor:[{required:!0,message:"请选择标题栏颜色",trigger:"change"}]}},U=W(e.value.accessRestrictionsType||1),A=()=>{let B={...fe(e.value)};B.accessRestrictionsType=U.value,E(B)},E=B=>{const{id:_}=n.value;Pn({id:_,external_config_h5:JSON.stringify(B)}).then(()=>{s(_),ae.success("保存成功"),l.go(0)})},m=()=>{v.value.validate().then(()=>{let B={...fe(k)};B.accessRestrictionsType=U.value,E(B)}).catch(B=>{})},D=B=>{window.open(B)},L=B=>{Ie(B),ae.success("复制成功")},M=async()=>{try{p.value=await wn.toDataURL(w.value),g.value=await wn.toDataURL(T.value)}catch(B){console.error(B)}};return setTimeout(()=>{M()},300),(B,_)=>{const F=Pt,S=he,K=co,Z=Rn,N=In,a=be,h=Nt,y=Mt,x=_e;return j(),Q("div",Pa,[i("div",Ta,[i("div",Ma,[d(Be,{title:"H5链接"},{icon:b(()=>[d(F,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),default:b(()=>[i("div",Na,[i("div",Ua,[i("a",{href:T.value,target:"_blank"},oe(T.value),9,La)]),i("div",qa,[d(S,{class:"action-btn",type:"primary",ghost:"",onClick:_[0]||(_[0]=f=>L(T.value))},{default:b(()=>_[10]||(_[10]=[J("复 制")])),_:1,__:[10]}),d(S,{class:"action-btn",onClick:_[1]||(_[1]=f=>D(T.value))},{default:b(()=>_[11]||(_[11]=[J("预 览")])),_:1,__:[11]}),d(K,{color:"#fff",placement:"top"},{title:b(()=>[i("img",{style:{width:"180px"},src:g.value,alt:""},null,8,Da)]),default:b(()=>[d(S,{class:"action-btn"},{default:b(()=>_[12]||(_[12]=[J("二维码")])),_:1,__:[12]})]),_:1})]),i("div",Fa,[d(F,{name:"circularNeedle",style:{"font-size":"16px",color:"#262626"}}),_[13]||(_[13]=i("div",{class:"title-text"},"pc网页链接",-1))]),i("div",Oa,[i("a",{href:w.value,target:"_blank"},oe(w.value),9,Va)]),i("div",ja,[d(S,{class:"action-btn",type:"primary",ghost:"",onClick:_[2]||(_[2]=f=>L(w.value))},{default:b(()=>_[14]||(_[14]=[J("复 制")])),_:1,__:[14]}),d(S,{class:"action-btn",onClick:_[3]||(_[3]=f=>D(w.value))},{default:b(()=>_[15]||(_[15]=[J("预 览")])),_:1,__:[15]}),d(K,{color:"#fff",placement:"top"},{title:b(()=>[i("img",{style:{width:"180px"},src:p.value,alt:""},null,8,Ha)]),default:b(()=>[d(S,{class:"action-btn"},{default:b(()=>_[16]||(_[16]=[J("二维码")])),_:1,__:[16]})]),_:1})]),i("div",za,[i("div",Ka,[_[20]||(_[20]=i("div",{class:"form-item-label"},"访问限制",-1)),i("div",Wa,[d(N,{value:U.value,"onUpdate:value":_[4]||(_[4]=f=>U.value=f),onChange:A},{default:b(()=>[d(Z,{value:1},{default:b(()=>_[17]||(_[17]=[i("span",{class:"default-text-color"},"无限制",-1)])),_:1,__:[17]}),d(Z,{value:2},{default:b(()=>_[18]||(_[18]=[i("span",{class:"default-text-color"},"登录后才可访问",-1)])),_:1,__:[18]}),te("",!0)]),_:1},8,["value"])])])])])]),_:1})]),i("div",Ja,[d(Be,{title:"样式设置"},{icon:b(()=>[d(F,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),action:b(()=>[d(S,{onClick:m,size:"small",type:"primary"},{default:b(()=>_[21]||(_[21]=[J("保存")])),_:1,__:[21]})]),default:b(()=>[i("div",Ga,[d(x,{ref_key:"formRef",ref:v,layout:"vertical",model:k,rules:O},{default:b(()=>[d(a,{class:"form-item",label:"是否显示标题栏",name:"navbarShow"},{default:b(()=>[d(N,{value:k.navbarShow,"onUpdate:value":_[5]||(_[5]=f=>k.navbarShow=f),name:"navbarShow"},{default:b(()=>[d(Z,{value:1},{default:b(()=>_[22]||(_[22]=[J("显示")])),_:1,__:[22]}),d(Z,{value:2},{default:b(()=>_[23]||(_[23]=[J("不显示")])),_:1,__:[23]})]),_:1},8,["value"])]),_:1}),d(a,{class:"form-item",label:"页面标题",name:"pageTitle"},{default:b(()=>[d(Re,{avatar:k.logo,"onUpdate:avatar":_[6]||(_[6]=f=>k.logo=f),value:k.pageTitle,"onUpdate:value":_[7]||(_[7]=f=>k.pageTitle=f)},null,8,["avatar","value"])]),_:1}),d(a,{class:"form-item",label:"标题栏颜色",name:["pageStyle","navbarBackgroundColor"]},{default:b(()=>[d(Rt,{value:k.pageStyle.navbarBackgroundColor,"onUpdate:value":_[8]||(_[8]=f=>k.pageStyle.navbarBackgroundColor=f)},null,8,["value"])]),_:1}),d(a,{class:"form-item",label:"语言",name:"lang"},{default:b(()=>[d(y,{style:{width:"180px"},value:k.lang,"onUpdate:value":_[9]||(_[9]=f=>k.lang=f),placeholder:"请选择语言"},{default:b(()=>[d(h,{value:"zh-CN"},{default:b(()=>_[24]||(_[24]=[J("简体中文")])),_:1,__:[24]}),d(h,{value:"en-US"},{default:b(()=>_[25]||(_[25]=[J("English")])),_:1,__:[25]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})]),i("div",Ya,[d(Dn,{type:ee(n).app_id,onUpdata:R},null,8,["type"])])]),i("div",Qa,[i("div",Xa,[i("iframe",{id:"mobile-preview",src:q.value,frameborder:"0"},null,8,Za)])])])}}},ts=se(es,[["__scopeId","data-v-77539933"]]);function ns({pc_domain:c,robot_key:l}){var r=`<script>
  (function (z, h, i, m, a, j, s) {
    z[m] = z[m] || function () {
      (z[m].a = z[m].a || []).push(arguments);
    };
    (j = h.createElement(i)), (s = h.getElementsByTagName(i)[0]);
    j.async = true;
    j.charset = "UTF-8";
    j.setAttribute(
      "data-json",
      JSON.stringify({
        robot_key: "${l}",
        language: "zh-CN",
      })
    );
    j.id = "ai_chat_js";
    j.src = '${c}/sdk/ai-chat-sdk.umd.cjs';
    s.parentNode.insertBefore(j, s);
  })(window, document, "script", "_ai_chat");
<\/script>`;return r}const os={class:"gradient-color-picker"},as={class:"color-picker-box"},ss={class:"gradient-type-select"},rs={class:"color-item"},is={class:"right-arrow"},ls={class:"color-item"},cs={__name:"gradient-color-picker",props:{value:{type:String,default:""}},emits:["update:value"],setup(c,{emit:l}){const r=l,n=c,e=_e.useInjectFormItemContext(),t=W([{key:1,label:"单色",value:"color",type:"color"},{key:2,label:"线性渐变（横向）",value:"to right",type:"linear-gradient"},{key:3,label:"线性渐变（竖向）",value:"to bottom",type:"linear-gradient"},{key:4,label:"径向渐变",value:"circle",type:"radial-gradient"}]),o=W("linear-gradient"),u=W("to right"),s=W("#2435E7"),p=W("#01A0FB"),g=me(()=>o.value=="color"?s.value:`${o.value}(${u.value}, ${s.value}, ${p.value})`);xe(()=>g.value,()=>{let k=[o.value,u.value,s.value,p.value].join(",");r("update:value",k),e.onFieldChange()}),xe(()=>n.value,()=>{const k=n.value.split(","),[w,T,q,R]=k;o.value=w,u.value=T,s.value=q,p.value=R},{immediate:!0});const v=(k,w)=>{o.value=w.type,u.value=k,e.onFieldChange()};return(k,w)=>{const T=Nt,q=Mt;return j(),Q("div",os,[i("div",as,[i("div",ss,[d(q,{value:u.value,style:{width:"180px"},onChange:v},{default:b(()=>[(j(!0),Q(ke,null,Le(t.value,R=>(j(),ne(T,{value:R.value,type:R.type,key:R.key},{default:b(()=>[J(oe(R.label),1)]),_:2},1032,["value","type"]))),128))]),_:1},8,["value"])]),i("div",rs,[d(Rt,{value:s.value,"onUpdate:value":w[0]||(w[0]=R=>s.value=R)},null,8,["value"])]),o.value!="color"?(j(),Q(ke,{key:0},[i("div",is,[d(ee(uo))]),i("div",ls,[d(Rt,{value:p.value,"onUpdate:value":w[1]||(w[1]=R=>p.value=R)},null,8,["value"])])],64)):te("",!0)])])}}},us=se(cs,[["__scopeId","data-v-1666f400"]]),ds="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20x='14'%20y='14'%20width='28'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3crect%20x='14.5'%20y='14.5'%20width='27'%20height='27'%20rx='13.5'%20stroke='black'%20stroke-opacity='0.04'/%3e%3cg%20clip-path='url(%23clip0_2269_42995)'%3e%3cpath%20d='M31.5%2030.3385C32.7887%2030.3385%2033.8333%2029.2939%2033.8333%2028.0052C33.8333%2026.7165%2032.7887%2025.6719%2031.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5013%2025.6719C23.2126%2025.6719%2022.168%2026.7165%2022.168%2028.0052C22.168%2029.2939%2023.2126%2030.3385%2024.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5%2030.3385V30.1927V29.4635V28.0052V25.6719C24.5%2023.7389%2026.067%2022.1719%2028%2022.1719C29.933%2022.1719%2031.5%2023.7389%2031.5%2025.6719V30.3385C31.5%2032.2715%2029.933%2033.8385%2028%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42995'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(21%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ps="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20y='14'%20width='56'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3cg%20clip-path='url(%23clip0_2269_42985)'%3e%3cpath%20d='M19.5%2030.3385C20.7887%2030.3385%2021.8333%2029.2939%2021.8333%2028.0052C21.8333%2026.7165%2020.7887%2025.6719%2019.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5013%2025.6719C11.2126%2025.6719%2010.168%2026.7165%2010.168%2028.0052C10.168%2029.2939%2011.2126%2030.3385%2012.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5%2030.3385V30.1927V29.4635V28.0052V25.6719C12.5%2023.7389%2014.067%2022.1719%2016%2022.1719C17.933%2022.1719%2019.5%2023.7389%2019.5%2025.6719V30.3385C19.5%2032.2715%2017.933%2033.8385%2016%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cpath%20d='M24.5414%2024.224V25.088H26.3894C26.9294%2026.936%2027.8894%2028.544%2029.2814%2029.912C27.9854%2031.088%2026.3294%2031.94%2024.3134%2032.48L24.7694%2033.236C26.8094%2032.648%2028.5134%2031.724%2029.8814%2030.464C31.1774%2031.58%2032.8094%2032.504%2034.8014%2033.248L35.2694%2032.528C33.3494%2031.82%2031.7534%2030.932%2030.4814%2029.852C31.6574%2028.58%2032.5454%2026.984%2033.1334%2025.088H35.0054V24.224H30.4214C30.0374%2023.396%2029.6294%2022.688%2029.1734%2022.112L28.3094%2022.424C28.7894%2022.988%2029.1854%2023.588%2029.5094%2024.224H24.5414ZM27.2414%2025.088H32.2334C31.7294%2026.744%2030.9494%2028.148%2029.8814%2029.312C28.6334%2028.112%2027.7574%2026.708%2027.2414%2025.088ZM40.9574%2024.116C40.7174%2024.452%2040.4534%2024.8%2040.1774%2025.148H37.0094V25.844H39.6134C39.3254%2026.18%2039.0254%2026.516%2038.7134%2026.876C39.5414%2027.032%2040.3694%2027.212%2041.2094%2027.428C40.1534%2027.764%2038.7134%2027.932%2036.8894%2027.932L37.3574%2028.64C39.3974%2028.616%2041.0414%2028.304%2042.3014%2027.716C43.5134%2028.04%2044.7254%2028.412%2045.9254%2028.844L46.4294%2028.184C45.3134%2027.812%2044.2214%2027.488%2043.1654%2027.224C43.6574%2026.864%2044.1134%2026.408%2044.5454%2025.844H46.5614V25.148H41.1254C41.3174%2024.896%2041.5214%2024.632%2041.7374%2024.344L40.9574%2024.116ZM42.2054%2026.984C41.4494%2026.792%2040.7054%2026.636%2039.9734%2026.516C40.1534%2026.324%2040.3574%2026.096%2040.5734%2025.844H43.6214C43.2614%2026.276%2042.7814%2026.648%2042.2054%2026.984ZM46.5974%2023.144H42.2414C42.0974%2022.784%2041.9534%2022.448%2041.7854%2022.148L40.8854%2022.292C41.0654%2022.556%2041.2334%2022.832%2041.3894%2023.144H36.9494V24.836H37.7654V23.876H45.7814V24.836H46.5974V23.144ZM36.6374%2029.336V30.104H40.5854C39.8414%2030.872%2038.4734%2031.556%2036.4814%2032.156L36.9614%2032.924C39.1214%2032.132%2040.5854%2031.196%2041.3534%2030.116V33.176H42.2414V30.152C43.1294%2031.256%2044.6174%2032.156%2046.7054%2032.84L47.0774%2032.084C45.2414%2031.592%2043.8854%2030.932%2043.0214%2030.104H46.9214V29.336H42.2414V28.4H41.3534V29.336H36.6374Z'%20fill='white'/%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42985'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(9%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",fs={class:"float-icon-setting"},_s={class:"form-box"},hs={class:"form-item"},ms={class:"form-content"},gs={class:"display-types"},vs={class:"type-icon"},ys=["src"],bs={key:1,class:"display-type"},ws={class:"type-icon"},ks={class:"type-name"},Cs={key:0,class:"form-item"},$s={class:"form-content"},As={class:"form-item"},Ss={class:"form-content"},Es={class:"number-input"},xs={class:"form-item"},Bs={class:"form-content"},Is={class:"number-input"},Rs={class:"form-item"},Ps={class:"form-content"},Ts={class:"form-item"},Ms={class:"form-content"},Ns={class:"form-item"},Us={class:"form-content"},Ls={__name:"float-icon-setting",props:{saveLoading:{type:Boolean,default:!1},form:{type:Object,default:()=>{}}},emits:["save"],setup(c,{expose:l,emit:r}){const n=c,e=r,t=ce({displayType:1,buttonText:"快来聊聊吧~",buttonIcon:"",bottomMargin:32,rightMargin:32,showUnreadCount:1,showNewMessageTip:1}),o=g=>{t.displayType=g},u=me(()=>t.buttonIcon?t.displayType==3:!0),s=g=>{let v=g[0];o(3),Tn({file:v,category:"icon"}).then(k=>{t.buttonIcon=k.data.link})},p=()=>{t.rightMargin,(t.rightMargin==""||t.rightMargin==null)&&(t.rightMargin=0),(t.bottomMargin==""||t.rightMargin==null)&&(t.bottomMargin=0),e("save",fe(t))};return xe(()=>n.form,g=>{Object.assign(t,g.floatBtn)},{immediate:!0}),l({handleSubmit:p}),(g,v)=>{const k=ve,w=po,T=Bn,q=he;return j(),ne(Be,{title:"悬浮图标设置"},{icon:b(()=>[d(ee(fo),{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),default:b(()=>[i("div",fs,[J(oe(n.title)+" ",1),i("div",_s,[i("div",hs,[v[11]||(v[11]=i("div",{class:"form-item-label"},"展示形式：",-1)),i("div",ms,[i("div",gs,[i("div",{class:ot(["display-type",{"is-checked":t.displayType==1}]),onClick:v[0]||(v[0]=R=>o(1))},v[8]||(v[8]=[i("div",{class:"type-icon"},[i("img",{src:ds,alt:""})],-1),i("div",{class:"type-name"},"简洁",-1)]),2),i("div",{class:ot(["display-type",{"is-checked":t.displayType==2}]),onClick:v[1]||(v[1]=R=>o(2))},v[9]||(v[9]=[i("div",{class:"type-icon"},[i("img",{src:ps,alt:""})],-1),i("div",{class:"type-name"},"加文案",-1)]),2),t.buttonIcon?(j(),Q("div",{key:0,class:ot(["display-type",{"is-checked":t.displayType==3}]),onClick:v[2]||(v[2]=R=>o(3))},[i("div",vs,[i("img",{src:t.buttonIcon,alt:"",title:""},null,8,ys)]),v[10]||(v[10]=i("div",{class:"type-name"},"自定义",-1))],2)):te("",!0),u.value?(j(),Q("div",bs,[d(Mn,{onChange:s},{default:b(()=>[i("div",ws,[d(ee(Ut),{style:{"font-size":"20px"}})])]),_:1}),i("div",ks,oe(t.buttonIcon?"上传图片":"自定义"),1)])):te("",!0)])])]),t.displayType==2?(j(),Q("div",Cs,[v[12]||(v[12]=i("div",{class:"form-item-label"},"按钮文案：",-1)),i("div",$s,[d(k,{placeholder:"请输入按钮文案",maxlength:15,style:{width:"315px"},value:t.buttonText,"onUpdate:value":v[3]||(v[3]=R=>t.buttonText=R)},null,8,["value"])])])):te("",!0),i("div",As,[v[14]||(v[14]=i("div",{class:"form-item-label"},"底边距：",-1)),i("div",Ss,[i("div",Es,[d(w,{class:"input",value:t.bottomMargin,"onUpdate:value":v[4]||(v[4]=R=>t.bottomMargin=R)},null,8,["value"]),v[13]||(v[13]=i("span",{class:"unit"},"PX",-1))])])]),i("div",xs,[v[16]||(v[16]=i("div",{class:"form-item-label"},"右边距：",-1)),i("div",Bs,[i("div",Is,[d(w,{class:"input",value:t.rightMargin,"onUpdate:value":v[5]||(v[5]=R=>t.rightMargin=R)},null,8,["value"]),v[15]||(v[15]=i("span",{class:"unit"},"PX",-1))])])]),i("div",Rs,[v[17]||(v[17]=i("div",{class:"form-item-label"},"显示未读消息数：",-1)),i("div",Ps,[d(T,{checked:t.showUnreadCount,"onUpdate:checked":v[6]||(v[6]=R=>t.showUnreadCount=R),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),i("div",Ts,[v[18]||(v[18]=i("div",{class:"form-item-label"},"显示新消息提示：",-1)),i("div",Ms,[d(T,{checked:t.showNewMessageTip,"onUpdate:checked":v[7]||(v[7]=R=>t.showNewMessageTip=R),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),i("div",Ns,[v[20]||(v[20]=i("div",{class:"form-item-label"},null,-1)),i("div",Us,[d(q,{type:"primary",loading:n.saveLoading,onClick:p},{default:b(()=>v[19]||(v[19]=[J("保存")])),_:1,__:[19]},8,["loading"])])])])])]),_:1})}}},qs=se(Ls,[["__scopeId","data-v-0b0f6a28"]]),Ds={class:"web-app-box"},Fs={class:"box-left"},Os={class:"box-wrapper"},Vs={class:"web-app-style form-box"},js={class:"box-wrapper"},Hs={class:"sdk-code"},zs={class:"box-wrapper"},Ks={class:"box-wrapper"},Ws={class:"box-right"},Js={class:"demo-box"},Gs=["src"],Ys={__name:"embed-website",setup(c){const l=je(),{robotInfo:r,external_config_pc:n}=Ve(l),{getRobot:e}=l,t=ns(r.value),o=()=>{Ie(t),ae.success("复制成功")},u=W(),s=ce({headTitle:n.value.headTitle,headSubTitle:n.value.headSubTitle,headImage:n.value.headImage,lang:n.value.lang,pageStyle:n.value.pageStyle,floatBtn:n.value.floatBtn}),p=me(()=>{let{pc_domain:R,robot_key:P}=r.value;return`${R}/web/#/chat?robot_key=${P}&language=zh-CN`});xe(s,R=>{v(R)});const g=R=>{v(R,"updataQuickComand")},v=(R,P)=>{document.getElementById("web-preview").contentWindow.postMessage({type:P||"onPreview",data:JSON.parse(JSON.stringify(R))},"*")},k={lang:[{required:!0,message:"请选择语言",trigger:"change"}],headTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>s.headImage?Promise.resolve():Promise.reject("请上传logo")}],pageStyle:{headBackgroundColor:[{required:!0,message:"请选择颜色",trigger:"change"}]}},w=()=>{const{id:R}=r.value;let P={...fe(s)};Pn({id:R,external_config_pc:JSON.stringify(P)}).then(()=>{e(R),ae.success("保存成功")})},T=()=>{u.value.validate().then(()=>{w()}).catch(R=>{})},q=R=>{s.floatBtn={...R},T()};return(R,P)=>{const O=Pt,U=he,A=be,E=Tt,m=Nt,D=Mt,L=_e;return j(),Q("div",Ds,[i("div",Fs,[i("div",Os,[d(Be,{title:"样式设置"},{icon:b(()=>[d(O,{name:"pc",style:{"font-size":"16px",color:"#262626"}})]),action:b(()=>[d(U,{onClick:T,size:"small",type:"primary"},{default:b(()=>P[5]||(P[5]=[J("保存")])),_:1,__:[5]})]),default:b(()=>[i("div",Vs,[d(L,{ref_key:"formRef",ref:u,layout:"vertical",model:s,rules:k},{default:b(()=>[d(A,{class:"form-item",label:"页面标题",name:"headTitle"},{default:b(()=>[d(Re,{avatar:s.headImage,"onUpdate:avatar":P[0]||(P[0]=M=>s.headImage=M),value:s.headTitle,"onUpdate:value":P[1]||(P[1]=M=>s.headTitle=M)},null,8,["avatar","value"])]),_:1}),d(A,{class:"form-item",label:"简介",name:"headSubTitle"},{default:b(()=>[d(E,{value:s.headSubTitle,"onUpdate:value":P[2]||(P[2]=M=>s.headSubTitle=M),placeholder:"简介将展示在客户端，不超过100个字符"},null,8,["value"])]),_:1}),d(A,{class:"form-item",label:"颜色",name:["pageStyle","headBackgroundColor"]},{default:b(()=>[d(us,{value:s.pageStyle.headBackgroundColor,"onUpdate:value":P[3]||(P[3]=M=>s.pageStyle.headBackgroundColor=M)},null,8,["value"])]),_:1}),d(A,{class:"form-item",label:"语言",name:"lang"},{default:b(()=>[d(D,{style:{width:"180px"},value:s.lang,"onUpdate:value":P[4]||(P[4]=M=>s.lang=M),placeholder:"请选择语言"},{default:b(()=>[d(m,{value:"zh-CN"},{default:b(()=>P[6]||(P[6]=[J("简体中文")])),_:1,__:[6]}),d(m,{value:"en-US"},{default:b(()=>P[7]||(P[7]=[J("English")])),_:1,__:[7]})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})]),i("div",js,[d(Be,{title:"将以下代码复制到网站代码的< /body>标签之前"},{icon:b(()=>[d(O,{name:"sdk",style:{"font-size":"16px",color:"#262626"}})]),action:b(()=>[d(U,{onClick:o,size:"small"},{default:b(()=>P[8]||(P[8]=[J("复制")])),_:1,__:[8]})]),default:b(()=>[i("div",Hs,[i("pre",null,[i("code",null,oe(ee(t)),1)])])]),_:1})]),i("div",zs,[d(Dn,{type:ee(r).app_id_embed,onUpdata:g},null,8,["type"])]),i("div",Ks,[d(qs,{form:s,onSave:q},null,8,["form"])])]),i("div",Ws,[i("div",Js,[i("iframe",{id:"web-preview",src:p.value,frameborder:"0"},null,8,Gs)])])])}}},Qs=se(Ys,[["__scopeId","data-v-c00d0ee4"]]),Xs={class:"wechat-app-item"},Zs={class:"item-body"},er=["src"],tr={class:"app-info"},nr={class:"app-name"},or={class:"app-desc"},ar={class:"ext-info-list"},sr={class:"ext-content"},rr={class:"ext-info-list"},ir={key:0,class:"status-block status-success"},lr={class:"status-block status-warning"},cr={class:"btn-wrapper-box"},ur={__name:"wechat-app-item",props:{item:{type:Object,default:()=>({})},app_type:{type:String,default:""}},emits:["edit","delete","refresh"],setup(c,{emit:l}){const r=l,n=["mini_program","official_account"],e=c;function t(){r("edit",{...e.item})}function o(){r("delete",{...e.item})}function u(){r("refresh",{...e.item})}return(s,p)=>{const g=mo,v=vo,k=xn,w=yo;return j(),Q("div",Xs,[i("div",Zs,[i("img",{class:"app-avatar",src:c.item.app_avatar,alt:""},null,8,er),i("div",tr,[i("div",nr,oe(c.item.app_name),1),i("div",or,"Appid："+oe(c.item.app_id),1)])]),n.includes(e.app_type)?(j(),Q(ke,{key:0},[i("div",ar,[i("div",sr,oe(c.item.wechat_reply_type),1)]),i("div",rr,[c.item.account_is_verify=="true"?(j(),Q("div",ir,[d(ee(_o)),p[0]||(p[0]=J(" 已认证 "))])):(j(),ne(g,{key:1,gap:8},{default:b(()=>[i("div",lr,[d(ee(ho)),p[1]||(p[1]=J(" 未认证 "))]),i("a",{onClick:u},"刷新状态")]),_:1}))])],64)):te("",!0),d(w,null,{overlay:b(()=>[d(k,null,{default:b(()=>[d(v,{onClick:t},{default:b(()=>p[2]||(p[2]=[i("a",null,"编 辑",-1)])),_:1,__:[2]}),d(v,{onClick:o},{default:b(()=>p[3]||(p[3]=[i("a",{style:{color:"#fb363f"}},"删 除",-1)])),_:1,__:[3]})]),_:1})]),default:b(()=>[i("div",cr,[d(ee(go))])]),_:1})])}}},We=se(ur,[["__scopeId","data-v-fa322691"]]),dr={class:"add-label"},pr={__name:"add-wechat-app",props:{label:{type:String,default:""}},emits:["click"],setup(c,{emit:l}){const r=l,n=c,e=()=>{r("click")};return(t,o)=>(j(),Q("div",{class:"add-wechat-app",onClick:e},[d(ee(Ut),{class:"add-icon"}),i("span",dr,oe(n.label),1)]))}},Dt=se(pr,[["__scopeId","data-v-b15657ef"]]),fr="/assets/img/preview_01-MRp2-MBv.png",_r="/assets/img/config_preview_01-BKZKQ3Os.png",hr={key:0,class:"add-wechat-app-alert"},mr={class:"alert-body"},gr={class:"form-box"},vr={class:"my-ip"},yr={class:"ip-text"},br={key:1,class:"add-wechat-app-alert"},wr={class:"config-preview-box"},kr={class:"config-items"},Cr={class:"config-item"},$r={class:"config-value"},Ar={class:"config-item"},Sr={class:"config-value"},Er={class:"config-item"},xr={class:"config-value"},Cn="/upload/default/official_account_avatar.png",Br={__name:"add-wechat-official-account-alert",emits:["ok"],setup(c,{expose:l,emit:r}){const n=r,{robotInfo:e}=ge("robotInfo"),t=W(!1),o=W(1),u=W(!1),s=W(),p=ce({id:void 0,robot_id:e.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Cn,app_type:"official_account"}),g={app_name:[{required:!0,message:"请输入您的公众号名称",trigger:"change"},{trigger:"change",validator:()=>p.app_avatar_url?Promise.resolve():Promise.reject("请上传公众号头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的AppSecret",trigger:"change"}]},v=me(()=>{let E=p.id?"编辑微信公众号":"添加微信公众号",m=o.value==1?"-填写公众号开发信息":"-服务器配置";return E+m}),k=({file:E,url:m})=>{p.app_avatar=E,p.app_avatar_url=m},w=ce({push_aeskey:"",push_token:"",push_url:""}),T=()=>{let E={...fe(p)};delete E.app_avatar_url,He(E).then(m=>{Object.assign(w,m.data),o.value=2,ae.success("保存成功"),n("ok")})},q=()=>{s.value.validate().then(()=>{T()}).catch(E=>{})},R=()=>{t.value=!1},P=()=>{s.value.clearValidate(),s.value.resetFields(),t.value=!1},O=E=>{Ie(E),ae.success("复制成功")},U=()=>{O(e.wechat_ip)};return l({open:E=>{E?(E.app_avatar_url=E.app_avatar,E.app_avatar=""):E={id:void 0,robot_id:e.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Cn,app_type:"official_account",wechat_ip:e.wechat_ip},o.value=1,Object.assign(p,E),t.value=!0}}),(E,m)=>{const D=he,L=we,M=be,B=ve,_=_e,F=de;return j(),ne(F,{width:"1168px",open:t.value,"onUpdate:open":m[7]||(m[7]=S=>t.value=S),title:v.value,onCancel:P},{footer:b(()=>[o.value===1?(j(),ne(D,{key:"back",onClick:P},{default:b(()=>m[8]||(m[8]=[J("取 消")])),_:1,__:[8]})):te("",!0),o.value===1?(j(),ne(D,{key:"submit",type:"primary",loading:u.value,onClick:q},{default:b(()=>m[9]||(m[9]=[J("保存并进入下一步")])),_:1,__:[9]},8,["loading"])):te("",!0),o.value===2?(j(),ne(D,{key:"submit",type:"primary",loading:u.value,onClick:R},{default:b(()=>m[10]||(m[10]=[J("已完成配置")])),_:1,__:[10]},8,["loading"])):te("",!0)]),default:b(()=>[o.value===1?(j(),Q("div",hr,[d(L,{class:"tip-alert",message:"进入微信公众号后台（mp.weixin.qq.com），在【设置与开发-基本配置】获取开发者信息。",type:"info","show-icon":""}),i("div",mr,[i("div",gr,[d(_,{ref_key:"formRef",ref:s,layout:"vertical",model:p,rules:g},{default:b(()=>[d(M,{label:"公众号头像/名称",name:"app_name"},{default:b(()=>[d(Re,{autoUpload:!1,avatar:p.app_avatar_url,"onUpdate:avatar":m[0]||(m[0]=S=>p.app_avatar_url=S),value:p.app_name,"onUpdate:value":m[1]||(m[1]=S=>p.app_name=S),valueModifiers:{trim:!0},placeholder:"请输入您的公众号名称",onChangeAvatar:k},null,8,["avatar","value"])]),_:1}),d(M,{label:"AppId",name:"app_id"},{default:b(()=>[d(B,{value:p.app_id,"onUpdate:value":m[2]||(m[2]=S=>p.app_id=S),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),d(M,{label:"AppSecret",name:"app_secret"},{default:b(()=>[d(B,{value:p.app_secret,"onUpdate:value":m[3]||(m[3]=S=>p.app_secret=S),valueModifiers:{trim:!0},placeholder:"请输入您的AppSecret"},null,8,["value"])]),_:1}),d(M,{label:"将以下IP添加到公众号IP白名单中",name:"wechat_ip",required:""},{default:b(()=>[i("div",vr,[i("span",yr,oe(ee(e).wechat_ip),1),i("a",{class:"copy-btn",onClick:U},"复 制")])]),_:1})]),_:1},8,["model"])]),m[11]||(m[11]=i("div",{class:"preview-box"},[i("img",{class:"preview-img",src:fr})],-1))])])):te("",!0),o.value===2?(j(),Q("div",br,[d(L,{class:"tip-alert",message:"进入微信公众号后台（mp.weixin.qq.com），在【设置与开发-基本配置】中配置并启用服务器配置。请按照下图配置",type:"info","show-icon":""}),i("div",wr,[i("div",kr,[i("div",Cr,[i("span",$r,oe(w.push_url),1),i("span",{class:"copy-btn",onClick:m[4]||(m[4]=S=>O(w.push_url))},"复制")]),i("div",Ar,[i("span",Sr,oe(w.push_token),1),i("span",{class:"copy-btn",onClick:m[5]||(m[5]=S=>O(w.push_token))},"复制")]),i("div",Er,[i("span",xr,oe(w.push_aeskey),1),i("span",{class:"copy-btn",onClick:m[6]||(m[6]=S=>O(w.push_aeskey))},"复制")])]),m[12]||(m[12]=i("img",{class:"config-preview-img",src:_r},null,-1))])])):te("",!0)]),_:1},8,["open","title"])}}},Ir=se(Br,[["__scopeId","data-v-bd0b5ce3"]]),Rr={class:"form-content-box"},Pr={class:"left-box"},Tr={class:"form-body"},Mr={class:"footer-box"},xt=`正在思考中，请稍后点击下方蓝字\r
获取回复👇👇👇`,Bt="👉👉点我获取回复👈👈",It="内容较多，点此查看下文",Nr={__name:"add-unverified-alert",emits:["ok"],setup(c,{expose:l,emit:r}){const n=r,{robotInfo:e,getRobot:t}=ge("robotInfo"),o=W(!1),u=W(),s=ce({id:e.id,wechat_not_verify_hand_get_reply:xt,wechat_not_verify_hand_get_word:Bt,wechat_not_verify_hand_get_next:It}),p=()=>{s.wechat_not_verify_hand_get_reply=s.wechat_not_verify_hand_get_reply||xt,s.wechat_not_verify_hand_get_word=s.wechat_not_verify_hand_get_word||Bt,s.wechat_not_verify_hand_get_next=s.wechat_not_verify_hand_get_next||It,u.value.clearValidate()},g={wechat_not_verify_hand_get_reply:[{required:!0,message:"请输入手动获取回复提示语",trigger:"change"}],wechat_not_verify_hand_get_word:[{required:!0,message:"请输入手动获取回复蓝字文案",trigger:"change"}],wechat_not_verify_hand_get_next:[{required:!0,message:"请输入内容超500字截断，获取下文蓝字文案",trigger:"change"}]},v=()=>{let q={...fe(s)};Eo(q).then(R=>{ae.success("保存成功"),w(),t(e.id),n("ok")})},k=()=>{u.value.validate().then(()=>{v()}).catch(q=>{})},w=()=>{u.value.clearValidate(),u.value.resetFields(),o.value=!1};return l({open:()=>{s.wechat_not_verify_hand_get_reply=e.wechat_not_verify_hand_get_reply||xt,s.wechat_not_verify_hand_get_word=e.wechat_not_verify_hand_get_word||Bt,s.wechat_not_verify_hand_get_next=e.wechat_not_verify_hand_get_next||It,o.value=!0}}),(q,R)=>{const P=we,O=Tt,U=be,A=ve,E=_e,m=he,D=de;return j(),ne(D,{width:749,open:o.value,"onUpdate:open":R[3]||(R[3]=L=>o.value=L),title:null,wrapClassName:"remove-model-padding",footer:null},{default:b(()=>[i("div",Rr,[i("div",Pr,[i("div",Tr,[R[4]||(R[4]=i("div",{class:"model-title"},"未认证公众号回复设置",-1)),d(P,{class:"zm-alert-info",message:"由于微信接口限制,未认证公众号只能在用户提问后立即回复答案。若答案生成较慢,系统将提示用户手动获取回复",type:"info"}),d(E,{style:{"margin-top":"24px"},ref_key:"formRef",ref:u,layout:"vertical",model:s,rules:g},{default:b(()=>[d(U,{label:"手动获取回复提示语",name:"wechat_not_verify_hand_get_reply"},{default:b(()=>[d(O,{value:s.wechat_not_verify_hand_get_reply,"onUpdate:value":R[0]||(R[0]=L=>s.wechat_not_verify_hand_get_reply=L),placeholder:"请输入",maxLength:100,onBlur:p,"auto-size":{minRows:3,maxRows:3}},null,8,["value"])]),_:1}),d(U,{label:"手动获取回复蓝字文案",name:"wechat_not_verify_hand_get_word"},{default:b(()=>[d(A,{maxLength:100,onBlur:p,value:s.wechat_not_verify_hand_get_word,"onUpdate:value":R[1]||(R[1]=L=>s.wechat_not_verify_hand_get_word=L),placeholder:"请输入"},null,8,["value"])]),_:1}),d(U,{label:"内容超500字截断，获取下文蓝字文案",name:"wechat_not_verify_hand_get_next"},{default:b(()=>[d(A,{maxLength:100,onBlur:p,value:s.wechat_not_verify_hand_get_next,"onUpdate:value":R[2]||(R[2]=L=>s.wechat_not_verify_hand_get_next=L),placeholder:"请输入"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),i("div",Mr,[d(m,{onClick:w},{default:b(()=>R[5]||(R[5]=[J("取 消")])),_:1,__:[5]}),d(m,{type:"primary",onClick:k},{default:b(()=>R[6]||(R[6]=[J("确 定")])),_:1,__:[6]})])]),R[7]||(R[7]=i("div",{class:"preview-box"},[i("img",{src:"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/wechat-app/guide1.png",alt:""})],-1))])]),_:1},8,["open"])}}},Ur=se(Nr,[["__scopeId","data-v-f2b442db"]]),Lr={__name:"demo-preview-modal",setup(c,{expose:l}){const r=W(!1);return l({show:()=>{r.value=!0}}),(e,t)=>{const o=de;return j(),Q("div",null,[d(o,{open:r.value,"onUpdate:open":t[0]||(t[0]=u=>r.value=u),width:746,title:"未认证公众号回复效果示例",footer:null},{default:b(()=>t[1]||(t[1]=[i("div",{class:"content-block"},[i("div",{class:"img-wrapper-box"},[i("div",{class:"title"},"用户咨询自动回复效果示例"),i("img",{src:"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/wechat-app/guide1.png",alt:""})]),i("div",{class:"img-wrapper-box"},[i("div",{class:"title"},"回复内容超长自动分段效果示例"),i("img",{src:"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/wechat-app/guide2.png",alt:""})])],-1)])),_:1,__:[1]},8,["open"])])}}},qr=se(Lr,[["__scopeId","data-v-e393985d"]]),Dr={class:"add-btn-block"},Fr={class:"wechat-app-list"},Or={__name:"wechat-official-account",setup(c){const{robotInfo:l}=ge("robotInfo"),r=W(),n=W([]),e=()=>{ze({robot_id:l.id,app_type:"official_account",app_name:""}).then(T=>{n.value=T.data})},t=()=>{r.value.open()},o=T=>{let q=3;const R=de.confirm({title:`确定移除${T.app_name}吗?`,icon:d(qe),content:"移除后，机器人无法继续回复用户消息。",okText:q+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Ke({id:T.id}).then(()=>{e(),ae.success("删除成功")})},onCancel(){}});let P=setInterval(()=>{q==1?(R.update({okText:"确定",okButtonProps:{disabled:!1}}),clearInterval(P),P=void 0):(q-=1,R.update({okText:q+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},u=T=>{T.wechat_ip=l.wechat_ip,r.value.open({...T})},s=T=>{Lt({id:T.id}).then(()=>{ae.success("刷新成功"),e()})},p=W(null),g=()=>{p.value.open()},v=W(null),k=()=>{v.value.show()},w=()=>{e()};return Ue(()=>{e()}),(T,q)=>{const R=we,P=he;return j(),Q("div",null,[d(R,{banner:""},{message:b(()=>[q[0]||(q[0]=J(" 支持接入未认证公众号，")),i("a",{onClick:k},"查看效果示例")]),_:1}),i("div",Dr,[d(P,{onClick:t,icon:d(ee(Ut)),type:"primary"},{default:b(()=>q[1]||(q[1]=[J("绑定公众号")])),_:1,__:[1]},8,["icon"]),d(P,{onClick:g,icon:d(ee(bo))},{default:b(()=>q[2]||(q[2]=[J("未认证公众号回复设置")])),_:1,__:[2]},8,["icon"])]),i("div",Fr,[(j(!0),Q(ke,null,Le(n.value,O=>(j(),ne(We,{key:O.id,item:O,app_type:"official_account",onEdit:u,onDelete:o,onRefresh:s},null,8,["item"]))),128))]),d(Ir,{ref_key:"addAppAlertRef",ref:r,onOk:w},null,512),d(Ur,{ref_key:"addUnverifiedAlertRef",ref:p},null,512),d(qr,{ref_key:"demoPreviewModalRef",ref:v},null,512)])}}},Vr=se(Or,[["__scopeId","data-v-4ea8b6cc"]]),jr="/assets/img/preview_02-B1rWR-NK.png",Hr="/assets/img/config_preview_02-BdpKevei.png",zr={key:0,class:"add-wechat-app-alert"},Kr={class:"alert-body"},Wr={class:"form-box"},Jr={class:"my-ip"},Gr={class:"ip-text"},Yr={key:1,class:"add-wechat-app-alert"},Qr={class:"config-preview-box"},Xr={class:"config-items"},Zr={class:"config-item"},ei={class:"config-value"},ti={class:"config-item"},ni={class:"config-value"},oi={class:"config-item"},ai={class:"config-value"},$n="/upload/default/mini_program_avatar.png",si={__name:"add-wechat-mini-program-alert",emits:["ok"],setup(c,{expose:l,emit:r}){const n=r,{robotInfo:e}=ge("robotInfo"),t=W(!1),o=W(1),u=W(!1),s=W(),p=ce({id:void 0,robot_id:e.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:$n,app_type:"mini_program"}),g={app_name:[{required:!0,message:"请输入您的公众号名称",trigger:"change"},{trigger:"change",validator:()=>p.app_avatar_url?Promise.resolve():Promise.reject("请上传公众号头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的AppSecret",trigger:"change"}]},v=me(()=>{let E=p.id?"编辑微信小程序":"添加微信小程序",m=o.value==1?"-填写小程序开发信息":"-服务器配置";return E+m}),k=({file:E,url:m})=>{p.app_avatar=E,p.app_avatar_url=m},w=ce({push_aeskey:"",push_token:"",push_url:""}),T=()=>{let E={...fe(p)};delete E.app_avatar_url,He(E).then(m=>{Object.assign(w,m.data),o.value=2,ae.success("保存成功"),n("ok")})},q=()=>{s.value.validate().then(()=>{T()}).catch(E=>{})},R=()=>{t.value=!1},P=()=>{s.value.clearValidate(),s.value.resetFields(),t.value=!1},O=E=>{Ie(E),ae.success("复制成功")},U=()=>{O(e.wechat_ip)};return l({open:E=>{E?(E.app_avatar_url=E.app_avatar,E.app_avatar=""):E={id:void 0,robot_id:e.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:$n,app_type:"mini_program",wechat_ip:e.wechat_ip},o.value=1,Object.assign(p,E),t.value=!0}}),(E,m)=>{const D=he,L=we,M=be,B=ve,_=_e,F=de;return j(),ne(F,{width:"1168px",open:t.value,"onUpdate:open":m[7]||(m[7]=S=>t.value=S),title:v.value,onCancel:P},{footer:b(()=>[o.value===1?(j(),ne(D,{key:"back",onClick:P},{default:b(()=>m[8]||(m[8]=[J("取 消")])),_:1,__:[8]})):te("",!0),o.value===1?(j(),ne(D,{key:"submit",type:"primary",loading:u.value,onClick:q},{default:b(()=>m[9]||(m[9]=[J("保存并进入下一步")])),_:1,__:[9]},8,["loading"])):te("",!0),o.value===2?(j(),ne(D,{key:"submit",type:"primary",loading:u.value,onClick:R},{default:b(()=>m[10]||(m[10]=[J("已完成配置")])),_:1,__:[10]},8,["loading"])):te("",!0)]),default:b(()=>[o.value===1?(j(),Q("div",zr,[d(L,{class:"tip-alert",message:"进入微信小程序后台（mp.weixin.qq.com），在【开发-开发管理-开发设置】中获取开发者信息",type:"info","show-icon":""}),i("div",Kr,[i("div",Wr,[d(_,{ref_key:"formRef",ref:s,layout:"vertical",model:p,rules:g},{default:b(()=>[d(M,{label:"小程序头像/名称",name:"app_name"},{default:b(()=>[d(Re,{autoUpload:!1,avatar:p.app_avatar_url,"onUpdate:avatar":m[0]||(m[0]=S=>p.app_avatar_url=S),value:p.app_name,"onUpdate:value":m[1]||(m[1]=S=>p.app_name=S),valueModifiers:{trim:!0},placeholder:"请输入您的小程序名称",onChangeAvatar:k},null,8,["avatar","value"])]),_:1}),d(M,{label:"AppId",name:"app_id"},{default:b(()=>[d(B,{value:p.app_id,"onUpdate:value":m[2]||(m[2]=S=>p.app_id=S),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),d(M,{label:"AppSecret",name:"app_secret"},{default:b(()=>[d(B,{value:p.app_secret,"onUpdate:value":m[3]||(m[3]=S=>p.app_secret=S),valueModifiers:{trim:!0},placeholder:"请输入您的AppSecret"},null,8,["value"])]),_:1}),d(M,{label:"将以下IP添加到小程序IP白名单中，如未开启ip白名单保护可不添加",name:"wechat_ip",required:""},{default:b(()=>[i("div",Jr,[i("span",Gr,oe(ee(e).wechat_ip),1),i("a",{class:"copy-btn",onClick:U},"复 制")])]),_:1})]),_:1},8,["model"])]),m[11]||(m[11]=i("div",{class:"preview-box"},[i("img",{class:"preview-img",src:jr})],-1))])])):te("",!0),o.value===2?(j(),Q("div",Yr,[d(L,{class:"tip-alert",message:"进入微信小程序后台（mp.weixin.qq.com），在【开发-开发管理-开发设置】中配置并启用消息推送。请按照下图配置。",type:"info","show-icon":""}),i("div",Qr,[i("div",Xr,[i("div",Zr,[i("span",ei,oe(w.push_url),1),i("span",{class:"copy-btn",onClick:m[4]||(m[4]=S=>O(w.push_url))},"复制")]),i("div",ti,[i("span",ni,oe(w.push_token),1),i("span",{class:"copy-btn",onClick:m[5]||(m[5]=S=>O(w.push_token))},"复制")]),i("div",oi,[i("span",ai,oe(w.push_aeskey),1),i("span",{class:"copy-btn",onClick:m[6]||(m[6]=S=>O(w.push_aeskey))},"复制")])]),m[12]||(m[12]=i("img",{class:"config-preview-img",src:Hr},null,-1))])])):te("",!0)]),_:1},8,["open","title"])}}},ri=se(si,[["__scopeId","data-v-5024809e"]]),ii={class:""},li={class:"wechat-app-list"},ci={__name:"wechat-mini-program",setup(c){const{robotInfo:l}=ge("robotInfo"),r=W(),n=W([]),e=()=>{ze({robot_id:l.id,app_type:"mini_program",app_name:""}).then(g=>{n.value=g.data})},t=()=>{r.value.open()},o=g=>{let v=3;const k=de.confirm({title:`确定移除${g.app_name}吗?`,icon:d(qe),content:"移除后，机器人无法继续回复用户消息。",okText:v+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Ke({id:g.id}).then(()=>{e(),ae.success("删除成功")})},onCancel(){}});let w=setInterval(()=>{v==1?(k.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(w),w=void 0):(v-=1,k.update({okText:v+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},u=g=>{g.wechat_ip=l.wechat_ip,r.value.open({...g})},s=g=>{Lt({id:g.id}).then(()=>{ae.success("刷新成功"),e()})},p=()=>{e()};return Ue(()=>{e()}),(g,v)=>(j(),Q("div",ii,[i("div",li,[d(Dt,{label:"绑定微信小程序",onClick:t}),(j(!0),Q(ke,null,Le(n.value,k=>(j(),ne(We,{key:k.id,app_type:"mini_program",item:k,onEdit:u,onDelete:o,onRefresh:s},null,8,["item"]))),128))]),d(ri,{ref_key:"addAppAlertRef",ref:r,onOk:p},null,512)]))}},ui=se(ci,[["__scopeId","data-v-28f65a0d"]]),di="/assets/img/preview_03-DXz9-3qW.png",pi="/assets/img/config_preview_03-DN1fPWUm.png",fi={key:0,class:"add-wechat-app-alert"},_i={class:"alert-body"},hi={class:"form-box"},mi={key:1,class:"add-wechat-app-alert"},gi={class:"config-preview-box"},vi={class:"config-items"},yi={class:"config-item"},bi={class:"config-value"},wi={class:"config-item"},ki={class:"config-value"},Ci={class:"config-item"},$i={class:"config-value"},An="/upload/default/wechat_kefu_avatar.png",Ai={__name:"add-wechat-customer-service-alert",emits:["ok"],setup(c,{expose:l,emit:r}){const n=r,{robotInfo:e}=ge("robotInfo"),t=W(!1),o=W(1),u=W(!1),s=W(),p=ce({id:void 0,robot_id:e.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:An,app_type:"wechat_kefu"}),g={app_name:[{required:!0,message:"请输入您的公众号名称",trigger:"change"},{trigger:"change",validator:()=>p.app_avatar_url?Promise.resolve():Promise.reject("请上传公众号头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的AppSecret",trigger:"change"}]},v=me(()=>{let U=p.id?"编辑微信客服":"添加微信客服",A=o.value==1?"-服务器配置":"-填写微信客服开发信息";return U+A}),k=({file:U,url:A})=>{p.app_avatar=U,p.app_avatar_url=A},w=ce({push_aeskey:"",push_token:"",push_url:""}),T=()=>{let U={...fe(p)};delete U.app_avatar_url,He(U).then(A=>{Object.assign(w,A.data),o.value=2,ae.success("保存成功"),n("ok"),t.value=!1})},q=()=>{s.value.validate().then(()=>{T()}).catch(U=>{})},R=()=>{s.value&&(s.value.clearValidate(),s.value.resetFields()),t.value=!1},P=U=>{Ie(U),ae.success("复制成功")};return l({open:U=>{U?(U.app_avatar_url=U.app_avatar,U.app_avatar=""):U={id:void 0,robot_id:e.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:An,app_type:"wechat_kefu",wechat_ip:e.wechat_ip},o.value=1,Object.assign(p,U),t.value=!0}}),(U,A)=>{const E=he,m=we,D=be,L=ve,M=_e,B=de;return j(),ne(B,{width:"1168px",open:t.value,"onUpdate:open":A[8]||(A[8]=_=>t.value=_),title:v.value,onCancel:R},{footer:b(()=>[d(E,{key:"back",onClick:R},{default:b(()=>A[9]||(A[9]=[J("取 消")])),_:1,__:[9]}),o.value===1?(j(),ne(E,{key:"submit",type:"primary",loading:u.value,onClick:A[0]||(A[0]=_=>o.value=2)},{default:b(()=>A[10]||(A[10]=[J("保存并进入下一步")])),_:1,__:[10]},8,["loading"])):te("",!0),o.value===2?(j(),ne(E,{key:"submit",type:"primary",loading:u.value,onClick:q},{default:b(()=>A[11]||(A[11]=[J("已完成配置")])),_:1,__:[11]},8,["loading"])):te("",!0)]),default:b(()=>[o.value===2?(j(),Q("div",fi,[d(m,{class:"tip-alert",message:"进入微信客服后台（kf.weixin.qq.com），在【开发配置】中启用企业内部接入后获取开发者信息",type:"info","show-icon":""}),i("div",_i,[i("div",hi,[d(M,{ref_key:"formRef",ref:s,layout:"vertical",model:p,rules:g},{default:b(()=>[d(D,{label:"企业头像/名称",name:"app_name"},{default:b(()=>[d(Re,{autoUpload:!1,avatar:p.app_avatar_url,"onUpdate:avatar":A[1]||(A[1]=_=>p.app_avatar_url=_),value:p.app_name,"onUpdate:value":A[2]||(A[2]=_=>p.app_name=_),valueModifiers:{trim:!0},placeholder:"请输入您的企业名称",onChangeAvatar:k},null,8,["avatar","value"])]),_:1}),d(D,{label:"企业id",name:"app_id"},{default:b(()=>[d(L,{value:p.app_id,"onUpdate:value":A[3]||(A[3]=_=>p.app_id=_),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),d(D,{label:"企业Secret",name:"app_secret"},{default:b(()=>[d(L,{value:p.app_secret,"onUpdate:value":A[4]||(A[4]=_=>p.app_secret=_),valueModifiers:{trim:!0},placeholder:"请输入您的AppSecret"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),A[12]||(A[12]=i("div",{class:"preview-box"},[i("img",{class:"preview-img",src:di})],-1))])])):te("",!0),o.value===1?(j(),Q("div",mi,[d(m,{class:"tip-alert",message:"进入微信客服后台（kf.weixin.qq.com），在【开发配置】中启用企业内部接入。请按照下图配置",type:"info","show-icon":""}),i("div",gi,[i("div",vi,[i("div",yi,[i("span",bi,oe(ee(e).push_wechat_kefu),1),i("span",{class:"copy-btn",onClick:A[5]||(A[5]=_=>P(ee(e).push_wechat_kefu))},"复制")]),i("div",wi,[i("span",ki,oe(ee(e).push_token),1),i("span",{class:"copy-btn",onClick:A[6]||(A[6]=_=>P(ee(e).push_token))},"复制")]),i("div",Ci,[i("span",$i,oe(ee(e).push_aeskey),1),i("span",{class:"copy-btn",onClick:A[7]||(A[7]=_=>P(ee(e).push_aeskey))},"复制")])]),A[13]||(A[13]=i("img",{class:"config-preview-img",src:pi},null,-1))])])):te("",!0)]),_:1},8,["open","title"])}}},Si=se(Ai,[["__scopeId","data-v-96e34196"]]),Ei={class:""},xi={class:"wechat-app-list"},Bi={__name:"wechat-customer-service",setup(c){const{robotInfo:l}=ge("robotInfo"),r=W(),n=W([]),e=()=>{ze({robot_id:l.id,app_type:"wechat_kefu",app_name:""}).then(g=>{n.value=g.data})},t=()=>{r.value.open()},o=g=>{let v=3;const k=de.confirm({title:`确定移除${g.app_name}吗?`,icon:d(qe),content:"移除后，机器人无法继续回复用户消息。",okText:v+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Ke({id:g.id}).then(()=>{e(),ae.success("删除成功")})},onCancel(){}});let w=setInterval(()=>{v==1?(k.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(w),w=void 0):(v-=1,k.update({okText:v+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},u=g=>{g.wechat_ip=l.wechat_ip,r.value.open({...g})},s=g=>{Lt({id:g.id}).then(()=>{ae.success("刷新成功"),e()})},p=()=>{e()};return Ue(()=>{e()}),(g,v)=>{const k=we;return j(),Q("div",Ei,[d(k,{class:"tip-alert",message:"绑定微信客服，用户通过微信客服咨询时由机器人自动回复",type:"info","show-icon":""}),i("div",xi,[d(Dt,{label:"绑定微信客服",onClick:t}),(j(!0),Q(ke,null,Le(n.value,w=>(j(),ne(We,{key:w.id,item:w,app_type:"wechat_kefu",onEdit:u,onDelete:o,onRefresh:s},null,8,["item"]))),128))]),d(Si,{ref_key:"addAppAlertRef",ref:r,onOk:p},null,512)])}}},Ii=se(Bi,[["__scopeId","data-v-6b252e9f"]]),Ri="/assets/img/feishu-example01-B-07FRqg.png",Pi="/assets/img/feishu-example02-CpOIEbAr.png",Ti="/assets/img/feishu-example03--Ub5FK6L.png",Mi={key:0,class:"add-wechat-app-alert"},Ni={class:"alert-body"},Ui={class:"form-box"},Li={class:"preview-box"},qi={key:1,class:"add-wechat-app-alert"},Di={class:"config-items"},Fi={class:"config-item"},Oi={class:"config-value"},Vi="/upload/default/feishu_robot_avatar.png",ji={__name:"add-feishu-alert",emits:["ok"],setup(c,{expose:l,emit:r}){const n=r,{robotInfo:e}=ge("robotInfo"),t=W(!1),o=W(1),u=W(!1),s=W(),p={id:void 0,robot_id:e.id,app_type:"feishu_robot",app_avatar:"",app_avatar_url:Vi,app_name:"",app_id:"",app_secret:"",encrypt_key:"",verification_token:""},g=ce({}),v={app_name:[{required:!0,message:"请输入您的机器人名称",trigger:"change"},{trigger:"change",validator:()=>g.app_avatar_url?Promise.resolve():Promise.reject("请上传机器人头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的Api Secret",trigger:"change"}],encrypt_key:[{required:!0,message:"请输入您的Encrypt Key",trigger:"change"}],verification_token:[{required:!0,message:"请输入您的Verification Token",trigger:"change"}]},k=({file:A,url:E})=>{g.app_avatar=A,g.app_avatar_url=E},w=ce({push_aeskey:"",push_token:"",push_url:""}),T=()=>{let A={...fe(g)};delete A.app_avatar_url,He(A).then(E=>{Object.assign(w,E.data),o.value=2,ae.success("保存成功"),n("ok")})},q=()=>{s.value.validate().then(()=>{T()}).catch(A=>{})},R=()=>{t.value=!1},P=()=>{s.value.clearValidate(),s.value.resetFields(),t.value=!1},O=A=>{Ie(A),ae.success("复制成功")};return l({open:A=>{A?(A.app_avatar_url=A.app_avatar,A.app_avatar=""):A=JSON.parse(JSON.stringify(p)),o.value=1,Object.assign(g,A),t.value=!0}}),(A,E)=>{const m=he,D=we,L=be,M=ve,B=_e,_=wo,F=de;return j(),ne(F,{width:"1000px",open:t.value,"onUpdate:open":E[7]||(E[7]=S=>t.value=S),title:"配置飞书机器人",onCancel:P},{footer:b(()=>[o.value===1?(j(),ne(m,{key:"back",onClick:P},{default:b(()=>E[8]||(E[8]=[J("取 消")])),_:1,__:[8]})):te("",!0),o.value===1?(j(),ne(m,{key:"submit",type:"primary",loading:u.value,onClick:q},{default:b(()=>E[9]||(E[9]=[J("保存并进入下一步 ")])),_:1,__:[9]},8,["loading"])):te("",!0),o.value===2?(j(),ne(m,{key:"submit",type:"primary",loading:u.value,onClick:R},{default:b(()=>E[10]||(E[10]=[J("已完成配置")])),_:1,__:[10]},8,["loading"])):te("",!0)]),default:b(()=>[o.value===1?(j(),Q("div",Mi,[d(D,{class:"tip-alert",type:"info","show-icon":""},{message:b(()=>E[11]||(E[11]=[i("div",null,[J("登录飞书开放后台，按照文档完成配置井发布应用 "),i("a",{href:"https://open.feishu.cn",target:"_blank"},"登录后台"),J("，"),i("a",{href:"https://www.yuque.com/zhimaxiaoshiwangluo/pggco1/cpoq2kmobhgap70p?singleDoc#",target:"_blank"},"如何配置？")],-1),i("div",null,"应用添加完成后，复制APPID 和API sercet,加密信息：Encrypt Key , Verification Token，填写到以下配置中",-1)])),_:1}),i("div",Ni,[i("div",Ui,[d(B,{ref_key:"formRef",ref:s,layout:"vertical",model:g,rules:v},{default:b(()=>[d(L,{label:"机器人头像/名称",name:"app_name"},{default:b(()=>[d(Re,{autoUpload:!1,avatar:g.app_avatar_url,"onUpdate:avatar":E[0]||(E[0]=S=>g.app_avatar_url=S),value:g.app_name,"onUpdate:value":E[1]||(E[1]=S=>g.app_name=S),valueModifiers:{trim:!0},placeholder:"请输入您的机器人名称",onChangeAvatar:k},null,8,["avatar","value"])]),_:1}),d(L,{label:"APPID",name:"app_id"},{default:b(()=>[d(M,{value:g.app_id,"onUpdate:value":E[2]||(E[2]=S=>g.app_id=S),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),d(L,{label:"API Secret",name:"app_secret"},{default:b(()=>[d(M,{value:g.app_secret,"onUpdate:value":E[3]||(E[3]=S=>g.app_secret=S),valueModifiers:{trim:!0},placeholder:"请输入您的APP Secret"},null,8,["value"])]),_:1}),d(L,{label:"Encrypt Key",name:"encrypt_key"},{default:b(()=>[d(M,{value:g.encrypt_key,"onUpdate:value":E[4]||(E[4]=S=>g.encrypt_key=S),valueModifiers:{trim:!0},placeholder:"请输入您的Encrypt Key"},null,8,["value"])]),_:1}),d(L,{label:"Verification Token",name:"verification_token"},{default:b(()=>[d(M,{value:g.verification_token,"onUpdate:value":E[5]||(E[5]=S=>g.verification_token=S),valueModifiers:{trim:!0},placeholder:"请输入您的Verification Token"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),i("div",Li,[d(_,null,{default:b(()=>E[12]||(E[12]=[i("div",null,[i("img",{class:"preview-img",src:Ri})],-1),i("div",null,[i("img",{class:"preview-img",src:Pi})],-1)])),_:1,__:[12]})])])])):te("",!0),o.value===2?(j(),Q("div",qi,[d(D,{class:"tip-alert",message:"复制以下htp地址到应用-事件与回调>订阅方式-选择梅事件发送开发者服务器的请求地址中",type:"info","show-icon":""}),i("div",Di,[i("div",Fi,[i("span",Oi,oe(w.push_url),1),i("span",{class:"copy-btn",onClick:E[6]||(E[6]=S=>O(w.push_url))},"复制")])]),E[13]||(E[13]=i("div",{class:"config-preview-box"},[i("img",{class:"config-preview-img",src:Ti})],-1))])):te("",!0)]),_:1},8,["open"])}}},Hi=se(ji,[["__scopeId","data-v-9b6dbe3f"]]),zi={class:""},Ki={class:"wechat-app-list"},Wi={__name:"feishu-robot",setup(c){const{robotInfo:l}=ge("robotInfo"),r=W(),n=W([]),e=()=>{ze({robot_id:l.id,app_type:"feishu_robot",app_name:""}).then(p=>{n.value=p.data})},t=()=>{r.value.open()},o=p=>{let g=3;const v=de.confirm({title:`确定移除${p.app_name}吗?`,icon:d(qe),content:"移除后，机器人无法继续回复用户消息。",okText:g+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Ke({id:p.id}).then(()=>{e(),ae.success("删除成功")})},onCancel(){}});let k=setInterval(()=>{g==1?(v.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(k),k=void 0):(g-=1,v.update({okText:g+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},u=p=>{p.wechat_ip=l.wechat_ip,r.value.open({...p})},s=()=>{e()};return Ue(()=>{e()}),(p,g)=>{const v=we;return j(),Q("div",zi,[d(v,{class:"tip-alert",type:"info","show-icon":""},{message:b(()=>g[0]||(g[0]=[J("绑定飞书智能机器人，员工可在飞书单聊或者群聊给飞书机器人发送消息时由机器人自动回复")])),_:1}),i("div",Ki,[d(Dt,{label:"绑定飞书智能机器人",onClick:t}),(j(!0),Q(ke,null,Le(n.value,k=>(j(),ne(We,{key:k.id,item:k,onEdit:u,onDelete:o},null,8,["item"]))),128))]),d(Hi,{ref_key:"addAppAlertRef",ref:r,onOk:s},null,512)])}}},Ji=se(Wi,[["__scopeId","data-v-b5ebb615"]]),Gi={class:"external-services-page"},Yi={class:"page-header"},Qi={class:"page-body"},Xi={class:"scroll-box"},Sn="/robot/config/external-services/activeKey",Zi={__name:"index",setup(c){const l=je(),{robotInfo:r}=Ve(l),{getRobot:n}=l,e={WebAPP:ts,EmbedWebsite:Qs,WeChatOfficialAccount:Vr,WeChatMiniProgram:ui,WeChatCustomerService:Ii,FeishuRobot:Ji},t=W(localStorage.getItem(Sn)||"WebAPP"),o=u=>{t.value=u.id,localStorage.setItem(Sn,t.value)};return no("robotInfo",{robotInfo:r.value,getRobot:n}),(u,s)=>(j(),Q("div",Gi,[i("div",Yi,[d(Po,{onChange:o,value:t.value,"onUpdate:value":s[0]||(s[0]=p=>t.value=p)},null,8,["value"])]),i("div",Qi,[i("div",Xi,[(j(),ne(oo(e[t.value])))])])]))}},dl=se(Zi,[["__scopeId","data-v-c4ad2e40"]]);export{dl as default};
