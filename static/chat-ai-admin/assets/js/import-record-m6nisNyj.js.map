{"version":3,"file":"import-record-m6nisNyj.js","sources":["../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/import-record.vue"],"sourcesContent":["<template>\r\n  <div class=\"details-library-page\">\r\n    <cu-scroll :scrollbar=\"false\">\r\n      <a-alert\r\n        show-icon\r\n        :message=\"t('alert_message')\"\r\n      ></a-alert>\r\n      <div class=\"list-tools\">\r\n        <div class=\"tools-items\">\r\n          <a-input\r\n            style=\"width: 282px\"\r\n            v-model:value=\"queryParams.file_name\"\r\n            :placeholder=\"t('search_placeholder')\"\r\n            @change=\"onSearch\"\r\n          >\r\n            <template #suffix>\r\n              <SearchOutlined @click=\"onSearch\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n            </template>\r\n          </a-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"list-content\">\r\n        <a-table\r\n          :columns=\"columns\"\r\n          :data-source=\"fileList\"\r\n          :scroll=\"{ x: 1000 }\"\r\n          row-key=\"id\"\r\n          :pagination=\"{\r\n            current: queryParams.page,\r\n            total: queryParams.total,\r\n            pageSize: queryParams.size,\r\n            showQuickJumper: true,\r\n            showSizeChanger: true,\r\n            pageSizeOptions: ['10', '20', '50', '100']\r\n          }\"\r\n          @change=\"onTableChange\"\r\n        >\r\n          <template #bodyCell=\"{ column, record }\">\r\n            <template v-if=\"column.key === 'file_name'\">\r\n              <div class=\"doc-name-td\">\r\n                <a-popover :title=\"null\" v-if=\"record.doc_type == 2\">\r\n                  <template #content>\r\n                    {{ t('original_link') }}：<a :href=\"record.doc_url\" target=\"_blank\">{{ record.doc_url }} </a>\r\n                    <CopyOutlined\r\n                      v-copy=\"`${record.doc_url}`\"\r\n                      style=\"margin-left: 4px; cursor: pointer\"\r\n                    />\r\n                  </template>\r\n                  <span>\r\n                    <span v-if=\"['5', '6', '7'].includes(record.status)\">{{ record.doc_url }}</span>\r\n                    <span v-else>{{ record.file_name }}</span>\r\n                  </span>\r\n                </a-popover>\r\n                <span v-else>\r\n                  <span v-if=\"['5', '6', '7'].includes(record.status)\">{{ record.doc_url }}</span>\r\n                  <span v-else>{{ record.file_name }}</span>\r\n                  <a style=\"margin-left: 2px;\" @click=\"handleSyncDownload(record)\">{{ t('download') }}</a>\r\n                </span>\r\n                <div v-if=\"record.doc_type == 2 && record.remark\" class=\"url-remark\">\r\n                  {{ t('remark') }}：{{ record.remark }}\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <template v-if=\"column.key === 'status'\">\r\n              <template v-if=\"record.file_ext == 'pdf' && record.pdf_parse_type >= 2\">\r\n                <div class=\"pdf-progress-box\" v-if=\"record.status == 0\">\r\n                  <div class=\"progress-title\">\r\n                    <span class=\"status-box\"><LoadingOutlined />{{ t('status_parsing') }}</span>\r\n                    <a @click=\"handleCancelOcrPdf(record)\">{{ t('cancel') }}</a>\r\n                  </div>\r\n                  <div class=\"progress-bar\">\r\n                    <a-progress\r\n                      size=\"small\"\r\n                      class=\"progress-bar-box\"\r\n                      :percent=\"parseInt((record.ocr_pdf_index / record.ocr_pdf_total) * 100)\"\r\n                      :show-info=\"false\"\r\n                    />\r\n                    <div class=\"num-box\">\r\n                      {{ record.ocr_pdf_index }} / {{ record.ocr_pdf_total }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n              <template v-else>\r\n                <span class=\"status-tag running\" v-if=\"record.status == 0\"\r\n                  ><a-spin size=\"small\" /> {{ t('status_converting') }}</span\r\n                >\r\n              </template>\r\n\r\n              <span class=\"status-tag running\" v-if=\"record.status == 1\"\r\n                ><a-spin size=\"small\" /> {{ t('status_learning') }}</span\r\n              >\r\n\r\n              <span class=\"status-tag complete\" v-if=\"record.status == 2\"\r\n                ><CheckCircleFilled /> {{ t('status_learning_complete') }}</span\r\n              >\r\n\r\n              <a-tooltip placement=\"top\" v-if=\"record.status == 3\">\r\n                <template #title>\r\n                  <span>{{ record.errmsg }}</span>\r\n                </template>\r\n                <span>\r\n                  <span class=\"status-tag status-error\"><CloseCircleFilled /> {{ t('status_conversion_failed') }}</span>\r\n                  <a class=\"ml8\" v-if=\"libraryInfo.type == 2\" @click=\"handlePreview(record)\"\r\n                    >{{ t('status_learn') }}</a\r\n                  >\r\n                </span>\r\n              </a-tooltip>\r\n              <a-tooltip placement=\"top\" v-if=\"record.status == 8\">\r\n                <template #title>\r\n                  <span>{{ record.errmsg }}</span>\r\n                </template>\r\n                <span>\r\n                  <span class=\"status-tag status-error\"><CloseCircleFilled /> {{ t('status_conversion_error') }}</span>\r\n                </span>\r\n              </a-tooltip>\r\n              <template v-if=\"record.status == 4\">\r\n                <span class=\"status-tag\"><ClockCircleFilled /> {{ t('status_wait_learning') }}</span>\r\n                <a class=\"ml8\" @click=\"handlePreview(record)\">{{ t('status_learn') }}</a>\r\n              </template>\r\n              <template v-if=\"record.status == 5\">\r\n                <span class=\"status-tag\"><ClockCircleFilled /> {{ t('status_wait_fetch') }}</span>\r\n              </template>\r\n              <span class=\"status-tag running\" v-if=\"record.status == 6\"\r\n                ><a-spin size=\"small\" /> {{ t('status_fetching') }}</span\r\n              >\r\n              <a-tooltip placement=\"top\" v-if=\"record.status == 7\">\r\n                <template #title>\r\n                  <span>{{ record.errmsg }}</span>\r\n                </template>\r\n                <span class=\"status-tag error\"><CloseCircleFilled /> {{ t('status_fetch_failed') }}</span>\r\n              </a-tooltip>\r\n              <template v-if=\"record.status == 9\">\r\n                <span class=\"status-tag cancel\"><ExclamationCircleOutlined /> {{ t('status_cancel_parsing') }}</span>\r\n              </template>\r\n\r\n              <span class=\"status-tag subning\" v-if=\"record.status == 10\">\r\n                <a-spin size=\"small\" />\r\n                {{ t('status_segmenting') }}\r\n              </span>\r\n            </template>\r\n            <template v-if=\"column.key === 'file_size'\">\r\n              <span v-if=\"record.doc_type == 3\">-</span>\r\n              <span v-else>{{ record.file_size_str }}</span>\r\n            </template>\r\n            <template v-if=\"column.key === 'paragraph_count'\">\r\n              <span v-if=\"record.status == 0 || record.status == 1\">-</span>\r\n              <span v-else>{{ record.paragraph_count }}</span>\r\n            </template>\r\n          </template>\r\n        </a-table>\r\n      </div>\r\n    </cu-scroll>\r\n    <a-modal v-model:open=\"downLoadModalOpen\" :title=\"null\" :footer=\"null\" :width=\"640\">\r\n      <a-result\r\n        status=\"success\"\r\n        :title=\"t('modal_export_success_title')\"\r\n        :sub-title=\"t('modal_export_success_subtitle')\"\r\n      >\r\n        <template #extra>\r\n          <a-button style=\"margin-right: 16px;\" @click=\"downLoadModalOpen = false\">{{ t('modal_know') }}</a-button>\r\n          <a-button @click=\"toDownloadPage\" type=\"primary\">{{ t('modal_go_download') }}</a-button>\r\n        </template>\r\n      </a-result>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useStorage } from '@/hooks/web/useStorage'\r\nimport { reactive, ref, toRaw, onUnmounted, onMounted, computed } from 'vue'\r\nimport { message, Modal } from 'ant-design-vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport {\r\n  SearchOutlined,\r\n  CheckCircleFilled,\r\n  CloseCircleFilled,\r\n  ClockCircleFilled,\r\n  ExclamationCircleOutlined,\r\n  CopyOutlined,\r\n  LoadingOutlined\r\n} from '@ant-design/icons-vue'\r\nimport dayjs from 'dayjs'\r\nimport { getLibraryFileList, cancelOcrPdf, createExportLibFileTask } from '@/api/library'\r\nimport { formatFileSize } from '@/utils/index'\r\nimport { useLibraryStore } from '@/stores/modules/library'\r\nimport { useUserStore } from '@/stores/modules/user'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.library-details.import-record')\r\nconst { setStorage } = useStorage('localStorage')\r\nconst userStore = useUserStore()\r\nconst libraryStore = useLibraryStore()\r\nconst { changeGraphSwitch } = libraryStore\r\n\r\nconst rotue = useRoute()\r\nconst router = useRouter()\r\nconst query = rotue.query\r\n\r\nconst isLoading = ref(false)\r\nconst libraryInfo = ref({\r\n  library_intro: '',\r\n  library_name: '',\r\n  use_model: '',\r\n  is_offline: null,\r\n  type: 0\r\n})\r\nconst state = reactive({\r\n  selectedRowKeys: []\r\n})\r\n\r\nconst modelForm = reactive({\r\n  use_model: '',\r\n  model_config_id: ''\r\n})\r\n\r\nconst fileList = ref([])\r\n\r\nconst count_data = reactive({\r\n  learned_err_count: 0, // 失败数\r\n  learned_count: 0, // 成功数\r\n  learned_wait_count: 0 // 待学习\r\n})\r\n\r\nconst queryParams = reactive({\r\n  library_id: query.id,\r\n  file_name: undefined,\r\n  status: '', // 2:成功 3:全部失败 8:部分失败 4:待学习\r\n  page: 1,\r\n  size: 10,\r\n  total: 0\r\n})\r\n\r\nconst columns = ref([])\r\nconst columnsDefault = computed(() => [\r\n  {\r\n    title: t('column_file_name'),\r\n    dataIndex: 'file_name',\r\n    key: 'file_name',\r\n    width: 300\r\n  },\r\n  {\r\n    title: t('column_file_format'),\r\n    dataIndex: 'file_ext',\r\n    key: 'file_ext',\r\n    width: 100\r\n  },\r\n  {\r\n    title: t('column_file_size'),\r\n    dataIndex: 'file_size_str',\r\n    key: 'file_size',\r\n    width: 100\r\n  },\r\n  {\r\n    title: t('column_segmentation'),\r\n    dataIndex: 'paragraph_count',\r\n    key: 'paragraph_count',\r\n    width: 120\r\n  },\r\n  {\r\n    title: t('column_status'),\r\n    dataIndex: 'status',\r\n    key: 'status',\r\n    width: 200\r\n  },\r\n  {\r\n    title: t('column_operation_time'),\r\n    dataIndex: 'update_time',\r\n    key: 'update_time',\r\n    width: 150\r\n  }\r\n])\r\n\r\nconst onTableChange = (pagination) => {\r\n  queryParams.page = pagination.current\r\n  queryParams.size = pagination.pageSize\r\n  getData()\r\n}\r\n\r\nconst onSearch = () => {\r\n  queryParams.page = 1\r\n  getData()\r\n}\r\n\r\nconst handlePreview = (record, params = {}) => {\r\n  if (record.status == '4' || record.status == '3' ) {\r\n    return router.push({\r\n      path: '/library/document-segmentation',\r\n      query: { document_id: record.id, page: queryParams.page }\r\n    })\r\n  }\r\n  return\r\n  if (record.status == '3' && libraryInfo.value.type != 2) {\r\n    return message.error(t('message_learning_failed'))\r\n  }\r\n  if (record.status == '0') {\r\n    return message.error(t('message_converting'))\r\n  }\r\n  if (record.status == '1') {\r\n    return message.error(t('message_learning_preview'))\r\n  }\r\n  if (record.status == '6') {\r\n    return message.error(t('message_fetching'))\r\n  }\r\n  if (record.status == '7') {\r\n    return message.error(t('message_fetch_failed'))\r\n  }\r\n  if (record.status == '10') {\r\n    return message.error(t('message_segmenting'))\r\n  }\r\n\r\n  router.push({ name: 'libraryPreview', query: { id: record.id, ...params } })\r\n}\r\n\r\nconst getData = () => {\r\n  let params = toRaw(queryParams)\r\n  if (params.status == 0) {\r\n    params.status = ''\r\n  }\r\n  isLoading.value = true\r\n  getLibraryFileList(params)\r\n    .then((res) => {\r\n      let info = res.data.info\r\n\r\n      if (!modelForm.use_model && modelForm.use_model != info.use_model) {\r\n        modelForm.use_model = info.use_model\r\n        modelForm.model_config_id = info.model_config_id\r\n      }\r\n\r\n      libraryInfo.value = { ...info }\r\n\r\n      columns.value = columnsDefault.value\r\n\r\n      let list = res.data.list || []\r\n      let countData = res.data.count_data || {}\r\n\r\n      queryParams.total = res.data.total\r\n\r\n      count_data.learned_count = countData.learned_count\r\n      count_data.learned_err_count = countData.learned_err_count\r\n      count_data.learned_wait_count = countData.learned_wait_count\r\n\r\n      let needRefresh = false\r\n      fileList.value = list.map((item) => {\r\n        // , '4' 是待学习，如果加进去会一直刷新状态不会改变\r\n        if (['1', '6', '0', '5'].includes(item.status)) {\r\n          needRefresh = true\r\n        }\r\n        item.file_size_str = formatFileSize(item.file_size)\r\n        item.update_time = dayjs(item.update_time * 1000).format('YYYY-MM-DD HH:mm')\r\n        item.doc_last_renew_time_desc =\r\n          item.doc_last_renew_time > 0\r\n            ? dayjs(item.doc_last_renew_time * 1000).format('YYYY-MM-DD HH:mm')\r\n            : '--'\r\n        return item\r\n      })\r\n      needRefresh && timingRefreshStatus()\r\n      !needRefresh && clearInterval(timingRefreshStatusTimer.value)\r\n    })\r\n    .finally(() => {\r\n      isLoading.value = false\r\n    })\r\n}\r\n\r\nconst timingRefreshStatusTimer = ref(null)\r\nconst timingRefreshStatus = () => {\r\n  clearInterval(timingRefreshStatusTimer.value)\r\n  timingRefreshStatusTimer.value = setInterval(() => {\r\n    getData()\r\n  }, 1000 * 5)\r\n}\r\n\r\nconst handleCancelOcrPdf = (record) => {\r\n  Modal.confirm({\r\n    title: t('modal_cancel_title'),\r\n    content: t('modal_cancel_content'),\r\n    okText: t('modal_ok'),\r\n    onOk() {\r\n      cancelOcrPdf({\r\n        id: record.id\r\n      }).then((res) => {\r\n        message.success(t('message_cancel_success'))\r\n        getData()\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst downLoadModalOpen = ref(false)\r\nconst handleSyncDownload = (record) => {\r\n  let targetUrl = `/manage/downloadLibraryFile?id=${record.id}&token=${userStore.getToken}`\r\n  var aTag = document.createElement('a')\r\n  aTag.href = targetUrl\r\n  aTag.style.display = 'none'\r\n  aTag.click()\r\n}\r\n\r\nconst toDownloadPage = ()=>{\r\n  router.push({\r\n    path: '/library/details/export-record',\r\n    query,\r\n  })\r\n}\r\n\r\nonMounted(() => {\r\n  if (query.page) {\r\n    queryParams.page = +query.page\r\n  }\r\n  getData()\r\n})\r\n\r\nonUnmounted(() => {\r\n  timingRefreshStatusTimer.value && clearInterval(timingRefreshStatusTimer.value)\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.details-library-page {\r\n  height: 100%;\r\n  padding-top: 24px;\r\n  padding-left: 24px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.doc-name-td {\r\n  word-break: break-all;\r\n}\r\n.url-remark {\r\n  color: #8c8c8c;\r\n  margin-top: 2px;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.padding-0 {\r\n  padding: 0;\r\n}\r\n.test-menu-icon {\r\n  color: #fff;\r\n}\r\n.library-name {\r\n  height: 38px;\r\n  line-height: 38px;\r\n  padding: 0 16px;\r\n  margin-bottom: 16px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #262626;\r\n  border-radius: 2px;\r\n  background-color: #f2f4f7;\r\n  display: flex;\r\n  align-items: center;\r\n  .anticon-edit {\r\n    margin-left: 8px;\r\n    color: #8c8c8c;\r\n    cursor: pointer;\r\n  }\r\n}\r\n.between-content-box {\r\n  display: flex;\r\n  flex: 1;\r\n  overflow: hidden;\r\n  .left-menu-box {\r\n    width: 232px;\r\n    margin-right: 24px;\r\n  }\r\n  .right-content-box {\r\n    flex: 1;\r\n    overflow: hidden;\r\n  }\r\n}\r\n\r\n.menu-item {\r\n  width: 232px;\r\n  height: 56px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 24px;\r\n  background: #f5f5f5;\r\n  border-radius: 2px;\r\n  margin-bottom: 16px;\r\n  cursor: pointer;\r\n  &.active {\r\n    background: #e6efff;\r\n    border: 1px solid #2475fc;\r\n  }\r\n  .title {\r\n    color: #242933;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    line-height: 22px;\r\n    margin-left: 8px;\r\n  }\r\n}\r\n\r\n.list-tools {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 16px;\r\n}\r\n\r\n.list-tools {\r\n  margin-bottom: 16px;\r\n  .tools-items {\r\n    display: flex;\r\n    align-items: center;\r\n    .tool-item {\r\n      margin-right: 16px;\r\n    }\r\n  }\r\n}\r\n\r\n.list-content {\r\n  .text-block {\r\n    color: #595959;\r\n  }\r\n  .c-gray {\r\n    color: #8c8c8c;\r\n  }\r\n  .time-content-box {\r\n    display: flex;\r\n    color: #8c8c8c;\r\n  }\r\n  .btn-hover-block {\r\n    height: 24px;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 8px;\r\n    cursor: pointer;\r\n    width: fit-content;\r\n    border-radius: 6px;\r\n    transition: all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n    &:hover {\r\n      background: #e4e6eb;\r\n    }\r\n  }\r\n  .status-tag {\r\n    display: inline-block;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    padding: 0 6px;\r\n    border-radius: 2px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    text-align: center;\r\n    color: #595959;\r\n    background-color: #edeff2;\r\n\r\n    &.running {\r\n      color: #2475fc;\r\n      background-color: #e8effc;\r\n    }\r\n\r\n    &.subning {\r\n      color: #6524fc;\r\n      background-color: #eae0ff;\r\n    }\r\n\r\n    &.complete {\r\n      color: #21a665;\r\n      background: #e8fcf3;\r\n    }\r\n\r\n    &.error {\r\n      cursor: pointer;\r\n      color: #fb363f;\r\n      background-color: #f5c6c8;\r\n    }\r\n\r\n    &.warning {\r\n      cursor: pointer;\r\n      background: #faebe6;\r\n      color: #ed744a;\r\n    }\r\n\r\n    &.status-learning {\r\n      color: #2475fc;\r\n      // background-color: #e8effc;\r\n    }\r\n\r\n    &.status-complete {\r\n      color: #3a4559;\r\n      background-color: #edeff2;\r\n    }\r\n\r\n    &.status-error {\r\n      cursor: pointer;\r\n      color: #fb363f;\r\n      // background-color: #f5c6c8;\r\n    }\r\n    &.warning {\r\n      cursor: pointer;\r\n      // background: #faebe6;\r\n      color: #ed744a;\r\n    }\r\n    &.cancel {\r\n      background: #fae4dc;\r\n      color: #ed744a;\r\n    }\r\n  }\r\n}\r\n.pdf-progress-box {\r\n  .progress-title {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    white-space: nowrap;\r\n    .status-box {\r\n      width: fit-content;\r\n      padding: 0 6px;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 2px;\r\n      height: 22px;\r\n      border-radius: 6px;\r\n      background: #e8effc;\r\n      color: #2475fc;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n  .progress-bar {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    line-height: 20px;\r\n    .ant-progress-line {\r\n      margin: 0;\r\n    }\r\n    .progress-bar-box {\r\n      flex: 1;\r\n    }\r\n    .num-box {\r\n      font-size: 12px;\r\n      color: #8c8c8c;\r\n    }\r\n  }\r\n}\r\n//.upload-file-box {\r\n//  padding: 30px 0;\r\n//}\r\n.ml8 {\r\n  margin-left: 8px;\r\n}\r\n.ml4 {\r\n  margin-left: 4px;\r\n}\r\n.url-add-form {\r\n  margin-top: 24px;\r\n}\r\n\r\n.add-dropdown-btn.ant-dropdown {\r\n  .ant-dropdown-menu {\r\n    padding: 0;\r\n    border-radius: 0;\r\n    ::v-deep(.ant-dropdown-menu-item) {\r\n      padding: 12px 16px;\r\n    }\r\n  }\r\n}\r\n\r\n.dropdown-btn-menu {\r\n  .title-block {\r\n    color: #262626;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    line-height: 22px;\r\n  }\r\n  .desc {\r\n    color: #8c8c8c;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n  }\r\n}\r\n.table-btn {\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: #2475fc;\r\n  }\r\n}\r\n.custom-select-box {\r\n  border: 1px solid #d9d9d9;\r\n  border-radius: 4px;\r\n  > span {\r\n    white-space: nowrap;\r\n  }\r\n  :deep(.ant-select-selector) {\r\n    border: none !important;\r\n    padding-left: 0 !important;\r\n    height: unset !important;\r\n  }\r\n  padding-left: 8px;\r\n}\r\n.pd-5-8 {\r\n  padding: 5px 8px;\r\n}\r\n.reason-text {\r\n  color: #8c8c8c;\r\n  font-size: 12px;\r\n  line-height: 24px;\r\n}\r\n\r\n.select-card-box {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  flex-wrap: wrap;\r\n  margin-top: 8px;\r\n  .select-card-item {\r\n    min-height: 105px;\r\n    width: calc(50% - 8px);\r\n    position: relative;\r\n    padding: 16px;\r\n    border-radius: 6px;\r\n    border: 1px solid #d9d9d9;\r\n    cursor: pointer;\r\n    .check-arrow {\r\n      position: absolute;\r\n      display: block;\r\n      right: -1px;\r\n      bottom: -1px;\r\n      width: 24px;\r\n      height: 24px;\r\n      font-size: 24px;\r\n      color: #fff;\r\n      opacity: 0;\r\n      transition: all 0.2s cubic-bezier(0.8, 0, 1, 1);\r\n    }\r\n    .card-title {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n      line-height: 22px;\r\n      margin-bottom: 4px;\r\n      color: #262626;\r\n      font-weight: 600;\r\n      font-size: 14px;\r\n    }\r\n    .title-icon {\r\n      margin-right: 4px;\r\n      font-size: 16px;\r\n    }\r\n    .card-desc {\r\n      line-height: 22px;\r\n      font-size: 14px;\r\n      color: #595959;\r\n    }\r\n\r\n    .card-switch {\r\n      display: flex;\r\n      gap: 4px;\r\n      color: #8c8c8c;\r\n      font-size: 14px;\r\n      line-height: 22px;\r\n\r\n      .card-switch-btn {\r\n        cursor: pointer;\r\n        color: #2475fc;\r\n\r\n        &:hover {\r\n          opacity: 0.8;\r\n        }\r\n      }\r\n    }\r\n\r\n    .card-switch-box {\r\n      width: 52px;\r\n      height: 22px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 10px;\r\n      border-radius: 6px;\r\n      border: 1px solid #edb8a6;\r\n      background: #ffece5;\r\n      color: #ed744a;\r\n      font-size: 12px;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      line-height: 20px;\r\n    }\r\n\r\n    &.active {\r\n      background: var(--01-, #e5efff);\r\n      border: 2px solid #2475fc;\r\n      .check-arrow {\r\n        opacity: 1;\r\n      }\r\n      .card-title {\r\n        color: #2475fc;\r\n      }\r\n    }\r\n  }\r\n}\r\n.mt24 {\r\n  margin-top: 24px;\r\n}\r\n\r\n.right-box {\r\n  display: flex;\r\n  gap: 16px;\r\n}\r\n\r\n.status-box {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  .status-item {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .status-label {\r\n      color: #595959;\r\n    }\r\n\r\n    .content-tip {\r\n      color: red;\r\n    }\r\n  }\r\n}\r\n\r\n.select-card-main {\r\n  :deep(.ant-row) {\r\n    display: block;\r\n  }\r\n}\r\n\r\n.subning {\r\n  :deep(.ant-spin-dot-item) {\r\n    background-color: #6524fc !important;\r\n  }\r\n}\r\n</style>\r\n"],"names":["t","useI18n","userStore","useUserStore","libraryStore","useLibraryStore","changeGraphSwitch","rotue","useRoute","router","useRouter","query","isLoading","ref","libraryInfo","reactive","modelForm","fileList","count_data","queryParams","columns","columnsDefault","computed","onTableChange","pagination","getData","onSearch","handlePreview","record","params","toRaw","getLibraryFileList","res","info","list","countData","needRefresh","item","formatFileSize","dayjs","timingRefreshStatus","timingRefreshStatusTimer","handleCancelOcrPdf","Modal","cancelOcrPdf","message","downLoadModalOpen","handleSyncDownload","targetUrl","aTag","toDownloadPage","onMounted","onUnmounted","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_cu_scroll","_component_a_alert","_unref","_createElementVNode","_hoisted_2","_hoisted_3","_component_a_input","_cache","$event","SearchOutlined","_hoisted_4","_component_a_table","_withCtx","column","_hoisted_5","_createBlock","_component_a_popover","_createTextVNode","_toDisplayString","_hoisted_6","CopyOutlined","_directive_copy","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_Fragment","_hoisted_14","_hoisted_15","_hoisted_16","LoadingOutlined","_hoisted_17","_hoisted_18","_component_a_progress","_hoisted_19","_hoisted_20","_component_a_spin","_hoisted_21","_hoisted_22","CheckCircleFilled","_component_a_tooltip","_hoisted_23","CloseCircleFilled","_hoisted_24","_hoisted_25","_hoisted_26","ClockCircleFilled","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","ExclamationCircleOutlined","_hoisted_32","_hoisted_34","_hoisted_36","_component_a_modal","_component_a_result","_component_a_button"],"mappings":"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"}