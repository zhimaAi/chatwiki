import{b as h,cX as S,k as w,M as x}from"../../index-UhR4yadr.js";import"./index--Qvpscnx.js";import{I as U}from"./Input-D7W5TJDt.js";import{_ as F,F as I}from"./index-DzuDS3Yk.js";import{e as p,M as f,N as B,k as t,S as s,W as D,aa as K,Q as L,U as N,z as O}from"./vue-chunks-DWnFCQSz.js";import{_ as R}from"./index-DkSkDsnJ.js";import{_ as $}from"./TextArea-CpTIlaWe.js";import{S as C}from"./share-form-BxxIogKe.js";import{_ as M}from"./index-D-MVvPuZ.js";const E={class:"seo-setting"},T={__name:"seo-setting",emits:["ok"],setup(_,{expose:u,emit:r}){const i=r,a=p(!1),e=p({library_key:"",seo_title:"",seo_desc:"",seo_keywords:""}),l=p(!1),v=()=>{a.value=!0,S({...K(e.value)}).then(()=>{a.value=!1,l.value=!1,w.success("保存成功"),i("ok")}).catch(()=>{a.value=!1})};return u({open:m=>{let o={library_key:"",seo_title:"",seo_desc:"",seo_keywords:""};e.value={...o,...m},l.value=!0}}),(m,o)=>{const y=R,d=U,c=F,g=$,b=I,k=x;return f(),B("div",null,[t(k,{open:l.value,"onUpdate:open":o[3]||(o[3]=n=>l.value=n),title:"SEO设置",onOk:v,width:"746px",confirmLoading:a.value},{default:s(()=>[D("div",E,[t(y,{message:"修改后，也需要发布才会生效。",type:"info","show-icon":"",style:{"margin-bottom":"16px"}}),t(b,{model:e.value,layout:"vertical"},{default:s(()=>[t(c,{label:"Title"},{default:s(()=>[t(d,{value:e.value.seo_title,"onUpdate:value":o[0]||(o[0]=n=>e.value.seo_title=n),placeholder:"请输入页面标题"},null,8,["value"])]),_:1}),t(c,{label:"Description"},{default:s(()=>[t(g,{value:e.value.seo_desc,"onUpdate:value":o[1]||(o[1]=n=>e.value.seo_desc=n),placeholder:"请输入页面描述"},null,8,["value"])]),_:1}),t(c,{label:"Keyword"},{default:s(()=>[t(d,{value:e.value.seo_keywords,"onUpdate:value":o[2]||(o[2]=n=>e.value.seo_keywords=n),placeholder:"请输入关键词,多个关键词用英文逗号分隔"},null,8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["open","confirmLoading"])])}}},J=h(T,[["__scopeId","data-v-e7b00fbe"]]),P={__name:"share-popup",props:{docKey:{type:String},libraryId:{type:[Number,String],default:""},libraryKey:{type:String,default:""},baseUrl:{type:String,default:"/open/doc"}},setup(_){const u=_,r=p(null),i=async a=>{a&&O(()=>{r.value.init({doc_key:u.docKey})})};return(a,e)=>{const l=M;return f(),L(l,{color:"#fff",trigger:"hover",placement:"bottomRight",overlayStyle:{"max-width":"400px",width:"400px"},overlayInnerStyle:{padding:"0"},class:"share-popup",onOpenChange:i},{content:s(()=>[t(C,{ref_key:"shareFormRef",ref:r,layout:"vertical","hide-copy":!0,baseUrl:_.baseUrl},null,8,["baseUrl"])]),default:s(()=>[N(a.$slots,"default")]),_:3})}}};export{J as S,P as _};
