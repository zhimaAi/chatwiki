import{b as X,M as Y,e3 as Ne,e1 as Ke,h as Pe,e5 as _e,$ as me,a2 as fe,B as Ye,ec as Xe,e0 as ze,ed as Qe,ee as Ve,k as O,ef as je,eg as ee,d as Fe,eh as Ge,bq as He,e6 as We,e4 as Ze}from"../../index-Bo1NSLpy.js";import{d as r,z as P,S as U,U as f,X as s,j as l,O as _,G as te,N as L,V as $e,b as E,a6 as J,_ as H,q as et,o as tt,u as K,a5 as ot,a as at,x as nt,a2 as st,a0 as it,Z as lt}from"./vue-chunks-BRsu9_To.js";import{u as rt}from"./useCopyShareUrl-C-0X3aJW.js";import{u as ct}from"./index-BjF4Ni-g.js";import{_ as oe,F as ae}from"./index-COWZrpvC.js";import{_ as ne}from"./TextArea--DLJ7VtX.js";import{W as dt,S as ut}from"./wiki-dropdown-BG3X9n5Y.js";import{_ as _t}from"./index-C_M0mW4F.js";import{C as mt}from"./CheckOutlined-C6m5maw6.js";import{_ as ft}from"./index-B4MPC5xv.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./index-C0kilmAu.js";import"./Trigger-DtRTHvld.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./isPlainObject-CHj0iPA3.js";import"./Col-QoogualX.js";import"./responsiveObserve-D3ho5cFZ.js";import"./hasIn-BtXuxCTT.js";import"./collapseMotion-Brd6xpAT.js";import"./QuestionCircleOutlined-VG1FNUnl.js";import"./FormItemContext-Cv3f2sEj.js";import"./index-CuPJUS8f.js";import"./index-BwedndIp.js";import"./inputProps--_pnbyjO.js";import"./index-Caod9rOO.js";import"./Input-CCKFAS4o.js";import"./Search-BF8URtRh.js";import"./SearchOutlined-CFTHZIcT.js";import"./Password-CJww1n-s.js";import"./DownOutlined-CrhRpWT5.js";import"./List-qVz67bUg.js";import"./CaretDownFilled-DQ5FyPd3.js";import"./index-BeCYXilq.js";import"./colors-4myZb9T8.js";const pt={class:"upload-ssl-form"},vt={__name:"edit-title",props:{confirmLoading:{type:Boolean,default:!1}},emits:["ok"],setup(T,{expose:b,emit:I}){const p=I,D=T,v=r(),a=P({title:""}),x={title:[{required:!0,message:"请输入标题"}]},c=r(!1),g=m=>{a.title=m.title,c.value=!0},S=()=>{c.value=!1},B=()=>{v.value.validate().then(()=>{p("ok",te(a))}).catch(m=>{})};return b({open:g,close:S}),(m,u)=>{const k=ne,w=oe,o=ae,q=Y;return _(),U(q,{open:c.value,"onUpdate:open":u[1]||(u[1]=n=>c.value=n),title:"编辑标题",onOk:B,confirmLoading:D.confirmLoading,"ok-text":"保 存"},{default:f(()=>[s("div",pt,[l(o,{ref_key:"formRef",ref:v,model:a,rules:x,autocomplete:"off",layout:"vertical"},{default:f(()=>[l(w,{label:"",name:"title"},{default:f(()=>[l(k,{rows:5,value:a.title,"onUpdate:value":u[0]||(u[0]=n=>a.title=n)},null,8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["open","confirmLoading"])}}},yt=X(vt,[["__scopeId","data-v-32d29b31"]]),kt={class:"upload-ssl-form"},bt={__name:"edit-desc",props:{confirmLoading:{type:Boolean,default:!1}},emits:["ok"],setup(T,{expose:b,emit:I}){const p=I,D=T,v=r(),a=P({content:""}),x={},c=r(!1),g=m=>{a.content=m.content,c.value=!0},S=()=>{c.value=!1},B=()=>{v.value.validate().then(()=>{p("ok",te(a))}).catch(m=>{})};return b({open:g,close:S}),(m,u)=>{const k=ne,w=oe,o=ae,q=Y;return _(),U(q,{open:c.value,"onUpdate:open":u[1]||(u[1]=n=>c.value=n),title:"编辑描述",onOk:B,confirmLoading:D.confirmLoading,"ok-text":"保 存"},{default:f(()=>[s("div",kt,[l(o,{ref_key:"formRef",ref:v,model:a,rules:x,autocomplete:"off",layout:"vertical"},{default:f(()=>[l(w,{label:"",name:"content"},{default:f(()=>[l(k,{rows:5,value:a.content,"onUpdate:value":u[0]||(u[0]=n=>a.content=n)},null,8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["open","confirmLoading"])}}},gt=X(bt,[["__scopeId","data-v-661cb706"]]),ht={class:"upload-ssl-form"},At={__name:"edit-question-guide",props:{confirmLoading:{type:Boolean,default:!1}},emits:["ok"],setup(T,{expose:b,emit:I}){const p=I,D=T,v=r(),a=P({question:""}),x={question:[{required:!0,message:"请输入问题引导"}]},c=r(!1),g=m=>{a.question=m.question,c.value=!0},S=()=>{c.value=!1},B=()=>{v.value.validate().then(()=>{p("ok",te(a))}).catch(m=>{})};return b({open:g,close:S}),(m,u)=>{const k=ne,w=oe,o=ae,q=Y;return _(),U(q,{open:c.value,"onUpdate:open":u[1]||(u[1]=n=>c.value=n),title:"编辑问题引导",onOk:B,confirmLoading:D.confirmLoading,"ok-text":"保 存"},{default:f(()=>[s("div",ht,[l(o,{ref_key:"formRef",ref:v,model:a,rules:x,autocomplete:"off",layout:"vertical"},{default:f(()=>[l(w,{label:"",name:"question"},{default:f(()=>[l(k,{rows:5,value:a.question,"onUpdate:value":u[0]||(u[0]=n=>a.question=n)},null,8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["open","confirmLoading"])}}},wt=X(At,[["__scopeId","data-v-680592b4"]]),St="data:image/png;base64,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",Lt={},xt={class:"phone-wrapper"},Ct={class:"phone-box"},Et={class:"phone-body"};function Tt(T,b){return _(),L("div",xt,[s("div",Ct,[b[0]||(b[0]=s("div",{class:"phone-header"},[s("img",{class:"navbar",src:St,alt:""})],-1)),s("div",Et,[$e(T.$slots,"default",{},void 0,!0)]),b[1]||(b[1]=s("div",{class:"phone-footer"},null,-1))])])}const Dt=X(Lt,[["render",Tt],["__scopeId","data-v-91f8ee88"]]),Bt={class:"tree-node-title"},It={key:0,class:"doc-icon"},qt={key:1,class:"doc-icon"},Ut={__name:"shortcut-selector",props:{iconTemplateConfig:{type:Object,default:()=>({})}},emits:["ok"],setup(T,{expose:b,emit:I}){const p=I,D=T,v=r(!1),a=r(""),x=r([]),c=r([]),g=r([]),S=r(null),B=r(null),m=E(()=>S.value?"修改文档快捷方式":"添加文档快捷方式"),u=async n=>{let h={library_key:a.value,pid:n?n.id:0};const M=await Ne(h);let y=M.data||[];return y.forEach(i=>{i.id=i.id*1,i.pid=i.pid*1,i.key=i.id,i.level=n?n.level+1:0,i.sort=i.sort*1,i.children_num=i.children_num*1,i.children=[],i.hasLoaded=!1,i.isLeaf=i.children_num==0,i.disabled=i.is_draft==1}),n?(n.hasLoaded=!0,n.children=y,g.value=[...g.value]):g.value=y,M},k=n=>new Promise(h=>{if(n.dataRef.hasLoaded){h();return}u(n.dataRef).then(()=>{h()})}),w=(n={})=>{a.value=n.library_key,x.value=[],c.value=[],g.value=[],S.value=n.key||null,B.value=n.doc_id||null,S.value&&(c.value=[n.doc_id]),u(),v.value=!0},o=(n,h)=>{h.checked?c.value=[h.node.key]:c.value=[]},q=()=>{c.value.length>0&&p("ok",{doc_id:c.value[0],old_doc_key:S.value,old_doc_id:B.value}),v.value=!1};return b({open:w}),(n,h)=>{const M=_t,y=Y;return _(),U(y,{open:v.value,"onUpdate:open":h[1]||(h[1]=i=>v.value=i),title:m.value,onOk:q},{default:f(()=>[g.value.length>0?(_(),U(M,{key:0,blockNode:"",checkable:"",expandedKeys:x.value,"onUpdate:expandedKeys":h[0]||(h[0]=i=>x.value=i),defaultExpandAll:!1,checkStrictly:!0,checkedKeys:c.value,"tree-data":g.value,"load-data":k,onCheck:o},{title:f(({data:i,level:N})=>[s("span",Bt,[i.doc_icon?(_(),L("span",It,H(i.doc_icon),1)):(_(),L("span",qt,H(i.is_dir==1?D.iconTemplateConfig.levels[N].folder_icon:D.iconTemplateConfig.levels[N].doc_icon),1)),s("span",null,H(i.title),1)])]),_:1},8,["expandedKeys","checkedKeys","tree-data"])):J("",!0)]),_:1},8,["open","title"])}}},Rt=X(Ut,[["__scopeId","data-v-b767eca7"]]),Ot={class:"home-preview"},Jt={class:"toolbar-wrapper"},Mt={class:"toolbar-left"},Nt={class:"library-info"},Kt={class:"library-info-content"},Pt={key:0,class:"publish-status"},Yt={key:1,class:"publish-status is-publish"},Xt={class:"change-home-preview-style-btn"},zt={class:"toolbar-right"},Qt={key:0,class:"edit-user"},Vt=["src"],jt={class:"user-name"},Ft={class:"action-item"},Gt={class:"action-item"},Ht={class:"action-item"},Wt={class:"action-item"},Zt={key:0,class:"mobile-box"},$t=["src"],eo={key:1,class:"pc-box"},to=["src"],oo={__name:"index",setup(T){const b=st(),I=at("isDragging"),p=Ke(),{getToken:D,user_id:v}=Pe(),a=E(()=>p.libraryInfo),x=E(()=>p.library_id),c=E(()=>p.library_key),g=E(()=>p.iconTemplateConfig),S=E(()=>p.homePreviewStyle),B=E(()=>S.value=="mobile"?"切换到PC端":"切换到移动端"),m=()=>{p.changeHomePreviewStyle()},u=r(null),k=r(new Date().getTime()),w=r(!1),o=P({doc_id:"",title:"",content:"",library_intro:"",library_name:"",library_key:"",is_pub:"",doc_key:"",seo_title:"",seo_desc:"",seo_keywords:""}),q=E(()=>o.seo_title||o.seo_desc||o.seo_keywords),n=r(null),h=()=>{n.value.open({...o})},M=e=>{o.seo_title=e.seo_title,o.seo_desc=e.seo_desc,o.seo_keywords=e.seo_keywords},y=P({show:!1,user_name:"",avatar:"",nick_name:""}),i=async e=>{let t=await Qe({id:e});return y.avatar=t.data.avatar,y.user_name=t.data.user_name,y.nick_name=t.data.nick_name,t},N=r(null),Q=r(!1),pe=e=>{o.title=e.title,Q.value=!0,le().then(()=>{Q.value=!1,N.value.close()}).catch(()=>{Q.value=!1})},W=r(null),V=r(!1),ve=e=>{o.content=e.content,V.value=!0,le().then(()=>{V.value=!1,W.value.close()}).catch(()=>{V.value=!1})},se=r(null),A=r([]),ie=r([]),ye=e=>{se.value.open({library_key:a.value.library_key,...e})},ke=e=>{let t=He("shortcutList");if(!e.old_doc_id)A.value.push({doc_id:e.doc_id,key:t});else{let d=A.value.findIndex(C=>C.key==e.old_doc_key);d==-1&&(d=A.value.findIndex(C=>C.doc_id==e.old_doc_id)),d>-1?A.value.splice(d,1,{doc_id:e.doc_id,key:t}):A.value.push({doc_id:e.doc_id,key:t})}ee({library_key:a.value.library_key,doc_id:o.doc_id,quick_doc_content:JSON.stringify(A.value.filter(d=>d.doc_id))}).then(()=>{k.value=new Date().getTime(),O.success("保存成功")})},be=e=>{let t=A.value.findIndex(d=>d.key==e.key);t==-1&&(t=A.value.findIndex(d=>d.doc_id==e.doc_id)),t>-1&&A.value.splice(t,1),ee({library_key:a.value.library_key,doc_id:o.doc_id,quick_doc_content:JSON.stringify(A.value.filter(d=>d.doc_id))}).then(()=>{k.value=new Date().getTime(),O.success("删除成功")})},ge=e=>{A.value=e.list,ee({library_key:a.value.library_key,doc_id:o.doc_id,quick_doc_content:JSON.stringify(A.value.filter(t=>t.doc_id))}).then(()=>{O.success("保存成功")})},Z=async()=>await ze({library_key:a.value.library_key,doc_id:o.doc_id,title:o.title,content:o.content,is_index:1}).then(t=>(o.doc_id=t.data.doc_id,k.value=new Date().getTime(),t)),le=async()=>{await Z()&&O.success("保存成功")},j=r(!1),he=()=>{let e={library_key:a.value.library_key,doc_id:o.doc_id,title:o.title,content:o.content,is_index:1};j.value=!0,We(e).then(t=>{o.doc_id=t.data.doc_id,j.value=!1,O.success("发布成功"),G(!1),k.value=new Date().getTime()}).catch(()=>{j.value=!1})},$=r(null),F=r(!1),R=P({id:"",question:""}),Ae=e=>{R.question=e.question,F.value=!0,Ge({library_key:a.value.library_key,id:R.id||"",question:R.question}).then(()=>{k.value=new Date().getTime(),F.value=!1,$.value.close()}).catch(()=>{F.value=!1})},re=E(()=>p.homePreviewStyle),ce=E(()=>{let e="";return e=`${a.value.share_url||""}${_e}/home/${a.value.library_key}?&v=${k.value}&token=${D}`,e}),de=async()=>{await Xe({library_key:a.value.library_key}).then(async e=>{if(!e.data.id){o.title=a.value.library_name,o.content=a.value.library_intro,await Z(),de();return}if(o.library_key=a.value.library_key,o.library_intro=a.value.library_intro,o.library_name=a.value.library_name,o.doc_id=e.data.id,o.title=e.data.title,o.content=e.data.content,o.seo_title=e.data.seo_title,o.seo_desc=e.data.seo_desc,o.seo_keywords=e.data.seo_keywords,o.is_pub=e.data.is_pub,o.doc_key=e.data.doc_key,e.data.quick_doc_content&&e.data.quick_doc_content.length){let d=JSON.parse(e.data.quick_doc_content)||[];A.value=d.filter(C=>C.doc_id)}else A.value=[];e.data.quick_doc_content_value&&e.data.quick_doc_content_value.length?ie.value=JSON.parse(e.data.quick_doc_content_value)||[]:ie.value=[];let t=e.data.edit_user&&e.data.edit_user!=0;t&&e.data.edit_user!=v&&(y.show=!0,i(e.data.edit_user)),nt(()=>{t&&e.data.edit_user==v?G(!0):G(!1)})})},we=E(()=>p.libraryList),Se=()=>{p.getLibraryList()},Le=async()=>{try{let e=await Ze({doc_id:o.doc_id,library_key:a.value.library_key});if(e.data.edit_user&&e.data.edit_user!=0&&e.data.edit_user!=v){let d=await i(e.data.edit_user),C=d.data.nick_name||d.data.user_name;y.show=!0,Y.warning({title:C+"正在编辑此文档",content:"需要其他协作者结束编辑并发布后才可以继续编辑",okText:"知道了"});return}Z(),w.value=!0,y.show=!1}catch{return}},G=e=>{if(!u.value)return;w.value=e,u.value.contentWindow.postMessage({action:"setEditStatus",data:{type:w.value}},"*")},{copyShareUrl:xe}=rt(),Ce=async()=>{const e=_e+"/home/"+a.value.library_key;await xe(e)},Ee=()=>{},Te=e=>{o.title=e.title,o.content=e.content,N.value.open(e)},De=e=>{o.title=e.title,o.content=e.content,W.value.open(e)},Be=e=>{R.id=e.id,R.question=e.question,$.value.open(e)},Ie=e=>{R.id=e.id,R.question=e.question,Y.confirm({title:"删除问题引导",content:"确定要删除该问题引导吗？",okText:"确定",cancelText:"取消",onOk(){je({library_key:a.value.library_key,id:R.id}).then(()=>{O.success("删除成功"),k.value=new Date().getTime()})}})},qe=e=>{let t={banner_img_url:e,doc_id:o.doc_id,library_key:a.value.library_key};Ve(t).then(()=>{k.value=new Date().getTime(),O.success("保存成功")})},Ue=e=>{e.action=="edit"||e.action=="add"?Be(e.data):e.action=="delete"&&Ie(e.data)},Re=e=>{e.action=="edit"||e.action=="add"?ye(e.data):e.action=="delete"?be(e.data):e.action=="dragEnd"&&ge(e.data)},Oe=e=>{let t=e.data;ct({file:t.file,category:"library_doc_image"}).then(d=>{let C=d.data.link;qe(C)})},ue=e=>{const t=e.data;t.key=="init"?(Ee(t.data),w.value&&G(!0)):t.key=="content"?De(t.data):t.key=="title"?Te(t.data):t.key=="banner"?Oe(t):t.key=="question"?Ue(t):t.key=="shortcut"&&Re(t)},Je=()=>{b.push({path:"/public-library/config",query:{library_id:x.value,library_key:c.value}})},Me=async e=>{await b.replace({path:"/public-library/home",query:{library_id:e.id,library_key:e.library_key}}),window.location.reload()};return et(async()=>{window.addEventListener("message",ue),await de(),Se()}),tt(()=>{window.removeEventListener("message",ue)}),(e,t)=>{const d=Fe,C=ft,z=Ye;return _(),L("div",Ot,[s("div",Jt,[s("div",Mt,[s("div",Nt,[s("div",Kt,[l(dt,{libraryInfo:a.value,libraryList:we.value,onChange:Me},null,8,["libraryInfo","libraryList"]),a.value.access_rights==0?(_(),L("div",Pt,[l(K(me),{class:"status-icon"}),t[1]||(t[1]=s("span",{class:"status-name"},"未公开",-1))])):J("",!0),a.value.access_rights==1?(_(),L("div",Yt,[l(K(fe),{class:"status-icon"}),t[2]||(t[2]=s("span",{class:"status-name"},"已公开",-1))])):J("",!0),s("span",Xt,[l(C,{title:B.value},{default:f(()=>[l(d,{name:"switch-mobile",style:{"font-size":"14px",color:"#595959"},onClick:t[0]||(t[0]=it(ao=>m(e.item),["stop"]))})]),_:1},8,["title"])])])])]),s("div",zt,[y.show&&y.user_name?(_(),L("div",Qt,[s("img",{class:"user-avatar",src:y.avatar,alt:""},null,8,Vt),s("span",jt,H(y.nick_name||y.user_name),1),t[3]||(t[3]=s("span",{class:"edit-status-text"},"编辑中...",-1))])):J("",!0),s("div",Ft,[w.value?(_(),U(z,{key:0,type:"primary",loading:j.value,onClick:he},{default:f(()=>[l(K(mt)),t[4]||(t[4]=lt()),t[5]||(t[5]=s("span",{class:"action-name"},"发布",-1))]),_:1,__:[4,5]},8,["loading"])):(_(),U(z,{key:1,type:"primary",onClick:Le},{default:f(()=>[l(d,{class:"action-icon",name:"edit",style:{"font-size":"16px",color:"#fff"}}),t[6]||(t[6]=s("span",{class:"action-name"},"编辑",-1))]),_:1,__:[6]}))]),s("div",Gt,[l(z,{onClick:Ce},{default:f(()=>[l(d,{class:"action-icon",name:"link-left",style:{"font-size":"16px"}}),t[7]||(t[7]=s("span",{class:"action-name"},"复制链接",-1))]),_:1,__:[7]})]),s("div",Ht,[l(z,{onClick:h},{default:f(()=>[q.value?(_(),U(K(fe),{key:0,style:{color:"#21a665","font-size":"14px"},class:"status-icon"})):(_(),U(K(me),{key:1,style:{color:"#ccc","font-size":"14px"},class:"status-icon"})),t[8]||(t[8]=s("span",{class:"action-name"},"SEO",-1))]),_:1,__:[8]})]),s("div",Wt,[l(z,{onClick:Je},{default:f(()=>[l(d,{name:"jibenpeizhi",style:{"font-size":"14px",color:"#595959"}}),t[9]||(t[9]=s("span",{class:"action-name"},"设置",-1))]),_:1,__:[9]})])])]),o.doc_id?(_(),L("div",{key:0,class:ot(["preview-box",{"is-mobile":re.value=="mobile","is-dragging":K(I)}])},[re.value=="mobile"?(_(),L("div",Zt,[l(Dt,null,{default:f(()=>[a.value.library_key?(_(),L("iframe",{key:0,ref_key:"iframeRef",ref:u,class:"iframe",src:ce.value,frameborder:"0"},null,8,$t)):J("",!0)]),_:1})])):(_(),L("div",eo,[a.value.library_key?(_(),L("iframe",{key:0,ref_key:"iframeRef",ref:u,class:"iframe",src:ce.value,frameborder:"0"},null,8,to)):J("",!0)]))],2)):J("",!0),l(yt,{ref_key:"editTitleRef",ref:N,onOk:pe,"confirm-loading":Q.value},null,8,["confirm-loading"]),l(gt,{ref_key:"editDescRef",ref:W,onOk:ve,"confirm-loading":V.value},null,8,["confirm-loading"]),l(wt,{ref_key:"editQuestionGuideRef",ref:$,onOk:Ae,"confirm-loading":F.value},null,8,["confirm-loading"]),l(ut,{ref_key:"seoSettingRef",ref:n,onOk:M},null,512),l(Rt,{ref_key:"shortcutSelectorRef",ref:se,iconTemplateConfig:g.value,onOk:ke},null,8,["iconTemplateConfig"])])}}},Yo=X(oo,[["__scopeId","data-v-9a36b5f2"]]);export{Yo as default};
