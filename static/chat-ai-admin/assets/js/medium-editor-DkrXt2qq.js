import{g as G}from"./editor-cherry-CFIsbKoN.js";var _={exports:{}},U=_.exports,V;function X(){return V||(V=1,(function($){/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */"classList"in document.createElement("_")||(function(r){if("Element"in r){var E="classList",n="prototype",e=r.Element[n],s=Object,l=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[n].indexOf||function(p){for(var g=0,b=this.length;g<b;g++)if(g in this&&this[g]===p)return g;return-1},t=function(p,g){this.name=p,this.code=DOMException[p],this.message=g},i=function(p,g){if(g==="")throw new t("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(g))throw new t("INVALID_CHARACTER_ERR","String contains an invalid character");return c.call(p,g)},o=function(p){for(var g=l.call(p.getAttribute("class")||""),b=g?g.split(/\s+/):[],C=0,w=b.length;C<w;C++)this.push(b[C]);this._updateClassName=function(){p.setAttribute("class",this.toString())}},u=o[n]=[],d=function(){return new o(this)};if(t[n]=Error[n],u.item=function(p){return this[p]||null},u.contains=function(p){return p+="",i(this,p)!==-1},u.add=function(){var p=arguments,g=0,b=p.length,C,w=!1;do C=p[g]+"",i(this,C)===-1&&(this.push(C),w=!0);while(++g<b);w&&this._updateClassName()},u.remove=function(){var p=arguments,g=0,b=p.length,C,w=!1,k;do for(C=p[g]+"",k=i(this,C);k!==-1;)this.splice(k,1),w=!0,k=i(this,C);while(++g<b);w&&this._updateClassName()},u.toggle=function(p,g){p+="";var b=this.contains(p),C=b?g!==!0&&"remove":g!==!1&&"add";return C&&this[C](p),g===!0||g===!1?g:!b},u.toString=function(){return this.join(" ")},s.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{s.defineProperty(e,E,h)}catch(p){p.number===-2146823252&&(h.enumerable=!1,s.defineProperty(e,E,h))}}else s[n].__defineGetter__&&e.__defineGetter__(E,d)}})(self);/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */(function(r){if(r.URL=r.URL||r.webkitURL,r.Blob&&r.URL)try{new Blob;return}catch{}var E=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||(function(e){var s=function(y){return Object.prototype.toString.call(y).match(/^\[object\s(.*)\]$/)[1]},l=function(){this.data=[]},c=function(A,S,D){this.data=A,this.size=A.length,this.type=S,this.encoding=D},t=l.prototype,i=c.prototype,o=e.FileReaderSync,u=function(y){this.code=this[this.name=y]},d="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),h=d.length,p=e.URL||e.webkitURL||e,g=p.createObjectURL,b=p.revokeObjectURL,C=p,w=e.btoa,k=e.atob,N=e.ArrayBuffer,P=e.Uint8Array,q=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(c.fake=i.fake=!0;h--;)u.prototype[d[h]]=h+1;return p.createObjectURL||(C=e.URL=function(y){var A=document.createElementNS("http://www.w3.org/1999/xhtml","a"),S;return A.href=y,"origin"in A||(A.protocol.toLowerCase()==="data:"?A.origin=null:(S=y.match(q),A.origin=S&&S[1])),A}),C.createObjectURL=function(y){var A=y.type,S;if(A===null&&(A="application/octet-stream"),y instanceof c)return S="data:"+A,y.encoding==="base64"?S+";base64,"+y.data:y.encoding==="URI"?S+","+decodeURIComponent(y.data):w?S+";base64,"+w(y.data):S+","+encodeURIComponent(y.data);if(g)return g.call(p,y)},C.revokeObjectURL=function(y){y.substring(0,5)!=="data:"&&b&&b.call(p,y)},t.append=function(y){var A=this.data;if(P&&(y instanceof N||y instanceof P)){for(var S="",D=new P(y),R=0,O=D.length;R<O;R++)S+=String.fromCharCode(D[R]);A.push(S)}else if(s(y)==="Blob"||s(y)==="File")if(o){var a=new o;A.push(a.readAsBinaryString(y))}else throw new u("NOT_READABLE_ERR");else y instanceof c?y.encoding==="base64"&&k?A.push(k(y.data)):y.encoding==="URI"?A.push(decodeURIComponent(y.data)):y.encoding==="raw"&&A.push(y.data):(typeof y!="string"&&(y+=""),A.push(unescape(encodeURIComponent(y))))},t.getBlob=function(y){return arguments.length||(y=null),new c(this.data.join(""),y,"raw")},t.toString=function(){return"[object BlobBuilder]"},i.slice=function(y,A,S){var D=arguments.length;return D<3&&(S=null),new c(this.data.slice(y,D>1?A:this.data.length),S,this.encoding)},i.toString=function(){return"[object Blob]"},i.close=function(){this.size=0,delete this.data},l})(r);r.Blob=function(e,s){var l=s&&s.type||"",c=new E;if(e)for(var t=0,i=e.length;t<i;t++)Uint8Array&&e[t]instanceof Uint8Array?c.append(e[t].buffer):c.append(e[t]);var o=c.getBlob(l);return!o.slice&&o.webkitSlice&&(o.slice=o.webkitSlice),o};var n=Object.getPrototypeOf||function(e){return e.__proto__};r.Blob.prototype=n(new r.Blob)})(typeof self<"u"&&self||typeof window<"u"&&window||U.content||U),(function(r,E){var n=typeof process<"u"&&process&&process.versions&&process.versions.electron;n?r.MediumEditor=E:$.exports=E})(U,(function(){function r(E,n){return this.init(E,n)}return r.extensions={},(function(E){function n(t,i){var o,u=Array.prototype.slice.call(arguments,2);i=i||{};for(var d=0;d<u.length;d++){var h=u[d];if(h)for(o in h)h.hasOwnProperty(o)&&typeof h[o]<"u"&&(t||i.hasOwnProperty(o)===!1)&&(i[o]=h[o])}return i}var e=!1;try{var s=document.createElement("div"),l=document.createTextNode(" ");s.appendChild(l),e=s.contains(l)}catch{}var c={isIE:navigator.appName==="Microsoft Internet Explorer"||navigator.appName==="Netscape"&&new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!==null,isEdge:/Edge\/\d+/.exec(navigator.userAgent)!==null,isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:E.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(t){return!!(c.isMac&&t.metaKey||!c.isMac&&t.ctrlKey)},isKey:function(t,i){var o=c.getKeyCode(t);return Array.isArray(i)===!1?o===i:i.indexOf(o)!==-1},getKeyCode:function(t){var i=t.which;return i===null&&(i=t.charCode!==null?t.charCode:t.keyCode),i},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var i=[!0].concat(Array.prototype.slice.call(arguments));return n.apply(this,i)},defaults:function(){var i=[!1].concat(Array.prototype.slice.call(arguments));return n.apply(this,i)},createLink:function(t,i,o,u){var d=t.createElement("a");return c.moveTextRangeIntoElement(i[0],i[i.length-1],d),d.setAttribute("href",o),u&&(u==="_blank"&&d.setAttribute("rel","noopener noreferrer"),d.setAttribute("target",u)),d},findOrCreateMatchingTextNodes:function(t,i,o){for(var u=t.createTreeWalker(i,NodeFilter.SHOW_ALL,null,!1),d=[],h=0,p=!1,g=null,b=null;(g=u.nextNode())!==null;)if(!(g.nodeType>3))if(g.nodeType===3){if(!p&&o.start<h+g.nodeValue.length&&(p=!0,b=c.splitStartNodeIfNeeded(g,o.start,h)),p&&c.splitEndNodeIfNeeded(g,b,o.end,h),p&&h===o.end)break;if(p&&h>o.end+1)throw new Error("PerformLinking overshot the target!");p&&d.push(b||g),h+=g.nodeValue.length,b!==null&&(h+=b.nodeValue.length,u.nextNode()),b=null}else g.tagName.toLowerCase()==="img"&&(!p&&o.start<=h&&(p=!0),p&&d.push(g));return d},splitStartNodeIfNeeded:function(t,i,o){return i!==o?t.splitText(i-o):null},splitEndNodeIfNeeded:function(t,i,o,u){var d,h;d=u+t.nodeValue.length+(i?i.nodeValue.length:0)-1,h=o-u-(i?t.nodeValue.length:0),d>=o&&u!==d&&h!==0&&(i||t).splitText(h)},splitByBlockElements:function(t){if(t.nodeType!==3&&t.nodeType!==1)return[];var i=[],o=r.util.blockContainerElementNames.join(",");if(t.nodeType===3||t.querySelectorAll(o).length===0)return[t];for(var u=0;u<t.childNodes.length;u++){var d=t.childNodes[u];if(d.nodeType===3)i.push(d);else if(d.nodeType===1){var h=d.querySelectorAll(o);h.length===0?i.push(d):i=i.concat(r.util.splitByBlockElements(d))}}return i},findAdjacentTextNodeWithContent:function(i,o,u){var d=!1,h,p=u.createNodeIterator(i,NodeFilter.SHOW_TEXT,null,!1);for(h=p.nextNode();h;){if(h===o)d=!0;else if(d&&h.nodeType===3&&h.nodeValue&&h.nodeValue.trim().length>0)break;h=p.nextNode()}return h},findPreviousSibling:function(t){if(!t||c.isMediumEditorElement(t))return!1;for(var i=t.previousSibling;!i&&!c.isMediumEditorElement(t.parentNode);)t=t.parentNode,i=t.previousSibling;return i},isDescendant:function(i,o,u){if(!i||!o)return!1;if(i===o)return!!u;if(i.nodeType!==1)return!1;if(e||o.nodeType!==3)return i.contains(o);for(var d=o.parentNode;d!==null;){if(d===i)return!0;d=d.parentNode}return!1},isElement:function(i){return!!(i&&i.nodeType===1)},throttle:function(t,i){var o=50,u,d,h,p=null,g=0,b=function(){g=Date.now(),p=null,h=t.apply(u,d),p||(u=d=null)};return!i&&i!==0&&(i=o),function(){var C=Date.now(),w=i-(C-g);return u=this,d=arguments,w<=0||w>i?(p&&(clearTimeout(p),p=null),g=C,h=t.apply(u,d),p||(u=d=null)):p||(p=setTimeout(b,w)),h}},traverseUp:function(t,i){if(!t)return!1;do{if(t.nodeType===1){if(i(t))return t;if(c.isMediumEditorElement(t))return!1}t=t.parentNode}while(t);return!1},htmlEntities:function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(t,i){var o,u,d,h,p,g,b,C=!1,w=["insertHTML",!1,i];if(!r.util.isEdge&&t.queryCommandSupported("insertHTML"))try{return t.execCommand.apply(t,w)}catch{}if(o=t.getSelection(),o.rangeCount){if(u=o.getRangeAt(0),b=u.commonAncestorContainer,c.isMediumEditorElement(b)&&!b.firstChild)u.selectNode(b.appendChild(t.createTextNode("")));else if(b.nodeType===3&&u.startOffset===0&&u.endOffset===b.nodeValue.length||b.nodeType!==3&&b.innerHTML===u.toString()){for(;!c.isMediumEditorElement(b)&&b.parentNode&&b.parentNode.childNodes.length===1&&!c.isMediumEditorElement(b.parentNode);)b=b.parentNode;u.selectNode(b)}for(u.deleteContents(),d=t.createElement("div"),d.innerHTML=i,h=t.createDocumentFragment();d.firstChild;)p=d.firstChild,g=h.appendChild(p);u.insertNode(h),g&&(u=u.cloneRange(),u.setStartAfter(g),u.collapse(!0),r.selection.selectRange(t,u)),C=!0}return t.execCommand.callListeners&&t.execCommand.callListeners(w,C),C},execFormatBlock:function(t,i){var o=c.getTopBlockContainer(r.selection.getSelectionStart(t)),u;if(i==="blockquote"){if(o&&(u=Array.prototype.slice.call(o.childNodes),u.some(function(d){return c.isBlockContainer(d)})))return t.execCommand("outdent",!1,null);if(c.isIE)return t.execCommand("indent",!1,i)}if(o&&i===o.nodeName.toLowerCase()&&(i="p"),c.isIE&&(i="<"+i+">"),o&&o.nodeName.toLowerCase()==="blockquote"){if(c.isIE&&i==="<p>")return t.execCommand("outdent",!1,i);if((c.isFF||c.isEdge)&&i==="p")return u=Array.prototype.slice.call(o.childNodes),u.some(function(d){return!c.isBlockContainer(d)})&&t.execCommand("formatBlock",!1,i),t.execCommand("outdent",!1,i)}return t.execCommand("formatBlock",!1,i)},setTargetBlank:function(t,i){var o,u=i||!1;if(t.nodeName.toLowerCase()==="a")t.target="_blank",t.rel="noopener noreferrer";else for(t=t.getElementsByTagName("a"),o=0;o<t.length;o+=1)(u===!1||u===t[o].attributes.href.value)&&(t[o].target="_blank",t[o].rel="noopener noreferrer")},removeTargetBlank:function(t,i){var o;if(t.nodeName.toLowerCase()==="a")t.removeAttribute("target"),t.removeAttribute("rel");else for(t=t.getElementsByTagName("a"),o=0;o<t.length;o+=1)i===t[o].attributes.href.value&&(t[o].removeAttribute("target"),t[o].removeAttribute("rel"))},addClassToAnchors:function(t,i){var o=i.split(" "),u,d;if(t.nodeName.toLowerCase()==="a")for(d=0;d<o.length;d+=1)t.classList.add(o[d]);else{var h=t.getElementsByTagName("a");if(h.length===0){var p=c.getClosestTag(t,"a");t=p?[p]:[]}else t=h;for(u=0;u<t.length;u+=1)for(d=0;d<o.length;d+=1)t[u].classList.add(o[d])}},isListItem:function(t){if(!t)return!1;if(t.nodeName.toLowerCase()==="li")return!0;for(var i=t.parentNode,o=i.nodeName.toLowerCase();o==="li"||!c.isBlockContainer(i)&&o!=="div";){if(o==="li")return!0;if(i=i.parentNode,i)o=i.nodeName.toLowerCase();else return!1}return!1},cleanListDOM:function(t,i){if(i.nodeName.toLowerCase()==="li"){var o=i.parentElement;o.parentElement.nodeName.toLowerCase()==="p"&&(c.unwrap(o.parentElement,t),r.selection.moveCursor(t,i.firstChild,i.firstChild.textContent.length))}},splitOffDOMTree:function(t,i,o){for(var u=i,d=null,h=!o;u!==t;){var p=u.parentNode,g=p.cloneNode(!1),b=h?u:p.firstChild,C;for(d&&(h?g.appendChild(d):C=d),d=g;b;){var w=b.nextSibling;b===u?(b.hasChildNodes()?b=b.cloneNode(!1):b.parentNode.removeChild(b),b.textContent&&d.appendChild(b),b=h?w:null):(b.parentNode.removeChild(b),(b.hasChildNodes()||b.textContent)&&d.appendChild(b),b=w)}C&&d.appendChild(C),u=p}return d},moveTextRangeIntoElement:function(t,i,o){if(!t||!i)return!1;var u=c.findCommonRoot(t,i);if(!u)return!1;if(i===t){var d=t.parentNode,h=t.nextSibling;return d.removeChild(t),o.appendChild(t),h?d.insertBefore(o,h):d.appendChild(o),o.hasChildNodes()}for(var p=[],g,b,C,w=0;w<u.childNodes.length;w++)if(C=u.childNodes[w],!g)c.isDescendant(C,t,!0)&&(g=C);else if(c.isDescendant(C,i,!0)){b=C;break}else p.push(C);var k=b.nextSibling,N=u.ownerDocument.createDocumentFragment();return g===t?(g.parentNode.removeChild(g),N.appendChild(g)):N.appendChild(c.splitOffDOMTree(g,t)),p.forEach(function(P){P.parentNode.removeChild(P),N.appendChild(P)}),b===i?(b.parentNode.removeChild(b),N.appendChild(b)):N.appendChild(c.splitOffDOMTree(b,i,!0)),o.appendChild(N),b.parentNode===u?u.insertBefore(o,b):k?u.insertBefore(o,k):u.appendChild(o),o.hasChildNodes()},depthOfNode:function(t){for(var i=0,o=t;o.parentNode!==null;)o=o.parentNode,i++;return i},findCommonRoot:function(t,i){for(var o=c.depthOfNode(t),u=c.depthOfNode(i),d=t,h=i;o!==u;)o>u?(d=d.parentNode,o-=1):(h=h.parentNode,u-=1);for(;d!==h;)d=d.parentNode,h=h.parentNode;return d},isElementAtBeginningOfBlock:function(t){for(var i,o;!c.isBlockContainer(t)&&!c.isMediumEditorElement(t);){for(o=t;o=o.previousSibling;)if(i=o.nodeType===3?o.nodeValue:o.textContent,i.length>0)return!1;t=t.parentNode}return!0},isMediumEditorElement:function(t){return t&&t.getAttribute&&!!t.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(t){return c.traverseUp(t,function(i){return c.isMediumEditorElement(i)})},isBlockContainer:function(t){return t&&t.nodeType!==3&&c.blockContainerElementNames.indexOf(t.nodeName.toLowerCase())!==-1},getClosestBlockContainer:function(t){return c.traverseUp(t,function(i){return c.isBlockContainer(i)||c.isMediumEditorElement(i)})},getTopBlockContainer:function(t){var i=c.isBlockContainer(t)?t:!1;return c.traverseUp(t,function(o){return c.isBlockContainer(o)&&(i=o),!i&&c.isMediumEditorElement(o)?(i=o,!0):!1}),i},getFirstSelectableLeafNode:function(t){for(;t&&t.firstChild;)t=t.firstChild;if(t=c.traverseUp(t,function(o){return c.emptyElementNames.indexOf(o.nodeName.toLowerCase())===-1}),t.nodeName.toLowerCase()==="table"){var i=t.querySelector("th, td");i&&(t=i)}return t},getFirstTextNode:function(t){return c.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),c._getFirstTextNode(t)},_getFirstTextNode:function(t){if(t.nodeType===3)return t;for(var i=0;i<t.childNodes.length;i++){var o=c._getFirstTextNode(t.childNodes[i]);if(o!==null)return o}return null},ensureUrlHasProtocol:function(t){return t.indexOf("://")===-1?"http://"+t:t},warn:function(){E.console!==void 0&&typeof E.console.warn=="function"&&E.console.warn.apply(E.console,arguments)},deprecated:function(t,i,o){var u=t+" is deprecated, please use "+i+" instead.";o&&(u+=" Will be removed in "+o),c.warn(u)},deprecatedMethod:function(t,i,o,u){c.deprecated(t,i,u),typeof this[i]=="function"&&this[i].apply(this,o)},cleanupAttrs:function(t,i){i.forEach(function(o){t.removeAttribute(o)})},cleanupTags:function(t,i){i.indexOf(t.nodeName.toLowerCase())!==-1&&t.parentNode.removeChild(t)},unwrapTags:function(t,i){i.indexOf(t.nodeName.toLowerCase())!==-1&&r.util.unwrap(t,document)},getClosestTag:function(t,i){return c.traverseUp(t,function(o){return o.nodeName.toLowerCase()===i.toLowerCase()})},unwrap:function(t,i){for(var o=i.createDocumentFragment(),u=Array.prototype.slice.call(t.childNodes),d=0;d<u.length;d++)o.appendChild(u[d]);o.childNodes.length?t.parentNode.replaceChild(o,t):t.parentNode.removeChild(t)},guid:function(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}};r.util=c})(window),(function(){var E=function(n){r.util.extend(this,n)};E.extend=function(n){var e=this,s;n&&n.hasOwnProperty("constructor")?s=n.constructor:s=function(){return e.apply(this,arguments)},r.util.extend(s,e);var l=function(){this.constructor=s};return l.prototype=e.prototype,s.prototype=new l,n&&r.util.extend(s.prototype,n),s},E.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(n){return this.base.options[n]}},["execAction","on","off","subscribe","trigger"].forEach(function(n){E.prototype[n]=function(){return this.base[n].apply(this.base,arguments)}}),r.Extension=E})(),(function(){function E(e){return r.util.isBlockContainer(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var n={findMatchingSelectionParent:function(e,s){var l=s.getSelection(),c,t;return l.rangeCount===0?!1:(c=l.getRangeAt(0),t=c.commonAncestorContainer,r.util.traverseUp(t,e))},getSelectionElement:function(e){return this.findMatchingSelectionParent(function(s){return r.util.isMediumEditorElement(s)},e)},exportSelection:function(e,s){if(!e)return null;var l=null,c=s.getSelection();if(c.rangeCount>0){var t=c.getRangeAt(0),i=t.cloneRange(),o;i.selectNodeContents(e),i.setEnd(t.startContainer,t.startOffset),o=i.toString().length,l={start:o,end:o+t.toString().length},this.doesRangeStartWithImages(t,s)&&(l.startsWithImage=!0);var u=this.getTrailingImageCount(e,l,t.endContainer,t.endOffset);if(u&&(l.trailingImageCount=u),o!==0){var d=this.getIndexRelativeToAdjacentEmptyBlocks(s,e,t.startContainer,t.startOffset);d!==-1&&(l.emptyBlocksIndex=d)}}return l},importSelection:function(e,s,l,c){if(!(!e||!s)){var t=l.createRange();t.setStart(s,0),t.collapse(!0);var i=s,o=[],u=0,d=!1,h=!1,p=0,g=!1,b,C=!1,w=null;for((c||e.startsWithImage||typeof e.emptyBlocksIndex<"u")&&(C=!0);!g&&i;){if(i.nodeType>3){i=o.pop();continue}if(i.nodeType===3&&!h)b=u+i.length,!d&&e.start>=u&&e.start<=b&&(C||e.start<b?(t.setStart(i,e.start-u),d=!0):w=i),d&&e.end>=u&&e.end<=b&&(e.trailingImageCount?h=!0:(t.setEnd(i,e.end-u),g=!0)),u=b;else{if(e.trailingImageCount&&h&&(i.nodeName.toLowerCase()==="img"&&p++,p===e.trailingImageCount)){for(var k=0;i.parentNode.childNodes[k]!==i;)k++;t.setEnd(i.parentNode,k+1),g=!0}if(!g&&i.nodeType===1)for(var N=i.childNodes.length-1;N>=0;)o.push(i.childNodes[N]),N-=1}g||(i=o.pop())}!d&&w&&(t.setStart(w,w.length),t.setEnd(w,w.length)),typeof e.emptyBlocksIndex<"u"&&(t=this.importSelectionMoveCursorPastBlocks(l,s,e.emptyBlocksIndex,t)),c&&(t=this.importSelectionMoveCursorPastAnchor(e,t)),this.selectRange(l,t)}},importSelectionMoveCursorPastAnchor:function(e,s){var l=function(u){return u.nodeName.toLowerCase()==="a"};if(e.start===e.end&&s.startContainer.nodeType===3&&s.startOffset===s.startContainer.nodeValue.length&&r.util.traverseUp(s.startContainer,l)){for(var c=s.startContainer,t=s.startContainer.parentNode;t!==null&&t.nodeName.toLowerCase()!=="a";)t.childNodes[t.childNodes.length-1]!==c?t=null:(c=t,t=t.parentNode);if(t!==null&&t.nodeName.toLowerCase()==="a"){for(var i=null,o=0;i===null&&o<t.parentNode.childNodes.length;o++)t.parentNode.childNodes[o]===t&&(i=o);s.setStart(t.parentNode,i+1),s.collapse(!0)}}return s},importSelectionMoveCursorPastBlocks:function(e,s,l,c){var t=e.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,E,!1),i=c.startContainer,o,u,d=0;for(l=l||1,i.nodeType===3&&r.util.isBlockContainer(i.previousSibling)?o=i.previousSibling:o=r.util.getClosestBlockContainer(i);t.nextNode();)if(!u)o===t.currentNode&&(u=t.currentNode);else if(u=t.currentNode,d++,d===l||u.textContent.length>0)break;return u||(u=o),c.setStart(r.util.getFirstSelectableLeafNode(u),0),c},getIndexRelativeToAdjacentEmptyBlocks:function(e,s,l,c){if(l.textContent.length>0&&c>0)return-1;var t=l;if(t.nodeType!==3&&(t=l.childNodes[c]),t){if(!r.util.isElementAtBeginningOfBlock(t))return-1;var i=r.util.findPreviousSibling(t);if(i){if(i.nodeValue)return-1}else return-1}for(var o=r.util.getClosestBlockContainer(l),u=e.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,E,!1),d=0;u.nextNode();){var h=u.currentNode.textContent==="";if((h||d>0)&&(d+=1),u.currentNode===o)return d;h||(d=0)}return d},doesRangeStartWithImages:function(e,s){if(e.startOffset!==0||e.startContainer.nodeType!==1)return!1;if(e.startContainer.nodeName.toLowerCase()==="img")return!0;var l=e.startContainer.querySelector("img");if(!l)return!1;for(var c=s.createTreeWalker(e.startContainer,NodeFilter.SHOW_ALL,null,!1);c.nextNode();){var t=c.currentNode;if(t===l)break;if(t.nodeValue)return!1}return!0},getTrailingImageCount:function(e,s,l,c){if(c===0||l.nodeType!==1||l.nodeName.toLowerCase()!=="img"&&!l.querySelector("img"))return 0;for(var t=l.childNodes[c-1];t.hasChildNodes();)t=t.lastChild;for(var i=e,o=[],u=0,d=!1,h=!1,p=!1,g,b=0;!p&&i;){if(i.nodeType>3){i=o.pop();continue}if(i.nodeType===3&&!h)b=0,g=u+i.length,!d&&s.start>=u&&s.start<=g&&(d=!0),d&&s.end>=u&&s.end<=g&&(h=!0),u=g;else if(i.nodeName.toLowerCase()==="img"&&b++,i===t)p=!0;else if(i.nodeType===1)for(var C=i.childNodes.length-1;C>=0;)o.push(i.childNodes[C]),C-=1;p||(i=o.pop())}return b},selectionContainsContent:function(e){var s=e.getSelection();if(!s||s.isCollapsed||!s.rangeCount)return!1;if(s.toString().trim()!=="")return!0;var l=this.getSelectedParentElement(s.getRangeAt(0));return!!(l&&(l.nodeName.toLowerCase()==="img"||l.nodeType===1&&l.querySelector("img")))},selectionInContentEditableFalse:function(e){var s,l=this.findMatchingSelectionParent(function(c){var t=c&&c.getAttribute("contenteditable");return t==="true"&&(s=!0),c.nodeName!=="#text"&&t==="false"},e);return!s&&l},getSelectionHtml:function(s){var l,c="",t=s.getSelection(),i,o;if(t.rangeCount){for(o=s.createElement("div"),l=0,i=t.rangeCount;l<i;l+=1)o.appendChild(t.getRangeAt(l).cloneContents());c=o.innerHTML}return c},getCaretOffsets:function(s,l){var c,t;return l||(l=window.getSelection().getRangeAt(0)),c=l.cloneRange(),t=l.cloneRange(),c.selectNodeContents(s),c.setEnd(l.endContainer,l.endOffset),t.selectNodeContents(s),t.setStart(l.endContainer,l.endOffset),{left:c.toString().length,right:t.toString().length}},rangeSelectsSingleNode:function(e){var s=e.startContainer;return s===e.endContainer&&s.hasChildNodes()&&e.endOffset===e.startOffset+1},getSelectedParentElement:function(e){return e?this.rangeSelectsSingleNode(e)&&e.startContainer.childNodes[e.startOffset].nodeType!==3?e.startContainer.childNodes[e.startOffset]:e.startContainer.nodeType===3?e.startContainer.parentNode:e.startContainer:null},getSelectedElements:function(e){var s=e.getSelection(),l,c,t;if(!s.rangeCount||s.isCollapsed||!s.getRangeAt(0).commonAncestorContainer)return[];if(l=s.getRangeAt(0),l.commonAncestorContainer.nodeType===3){for(c=[],t=l.commonAncestorContainer;t.parentNode&&t.parentNode.childNodes.length===1;)c.push(t.parentNode),t=t.parentNode;return c}return[].filter.call(l.commonAncestorContainer.getElementsByTagName("*"),function(i){return typeof s.containsNode=="function"?s.containsNode(i,!0):!0})},selectNode:function(e,s){var l=s.createRange();l.selectNodeContents(e),this.selectRange(s,l)},select:function(e,s,l,c,t){var i=e.createRange();return i.setStart(s,l),c?i.setEnd(c,t):i.collapse(!0),this.selectRange(e,i),i},clearSelection:function(e,s){s?e.getSelection().collapseToStart():e.getSelection().collapseToEnd()},moveCursor:function(e,s,l){this.select(e,s,l)},getSelectionRange:function(e){var s=e.getSelection();return s.rangeCount===0?null:s.getRangeAt(0)},selectRange:function(e,s){var l=e.getSelection();l.removeAllRanges(),l.addRange(s)},getSelectionStart:function(e){var s=e.getSelection().anchorNode,l=s&&s.nodeType===3?s.parentNode:s;return l}};r.selection=n})(),(function(){function E(e,s){return e?e.some(function(l){if(typeof l.getInteractionElements!="function")return!1;var c=l.getInteractionElements();return c?(Array.isArray(c)||(c=[c]),c.some(function(t){return r.util.isDescendant(t,s,!0)})):!1}):!1}var n=function(e){this.base=e,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};n.prototype={InputEventOnContenteditableSupported:!r.util.isIE&&!r.util.isEdge,attachDOMEvent:function(e,s,l,c){var t=this.base.options.contentWindow,i=this.base.options.ownerDocument;e=r.util.isElement(e)||[t,i].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,(function(o){o.addEventListener(s,l,c),this.events.push([o,s,l,c])}).bind(this))},detachDOMEvent:function(e,s,l,c){var t,i,o=this.base.options.contentWindow,u=this.base.options.ownerDocument;e&&(e=r.util.isElement(e)||[o,u].indexOf(e)>-1?[e]:e,Array.prototype.forEach.call(e,(function(d){t=this.indexOfListener(d,s,l,c),t!==-1&&(i=this.events.splice(t,1)[0],i[0].removeEventListener(i[1],i[2],i[3]))}).bind(this)))},indexOfListener:function(e,s,l,c){var t,i,o;for(t=0,i=this.events.length;t<i;t=t+1)if(o=this.events[t],o[0]===e&&o[1]===s&&o[2]===l&&o[3]===c)return t;return-1},detachAllDOMEvents:function(){for(var e=this.events.pop();e;)e[0].removeEventListener(e[1],e[2],e[3]),e=this.events.pop()},detachAllEventsFromElement:function(e){for(var s=this.events.filter(function(i){return i&&i[0].getAttribute&&i[0].getAttribute("medium-editor-index")===e.getAttribute("medium-editor-index")}),l=0,c=s.length;l<c;l++){var t=s[l];this.detachDOMEvent(t[0],t[1],t[2],t[3])}},attachAllEventsToElement:function(e){this.listeners.editableInput&&(this.contentCache[e.getAttribute("medium-editor-index")]=e.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(s){this.attachDOMEvent(e,s.name,s.handler.bind(this))},this)},enableCustomEvent:function(e){this.disabledEvents[e]!==void 0&&delete this.disabledEvents[e]},disableCustomEvent:function(e){this.disabledEvents[e]=!0},attachCustomEvent:function(e,s){this.setupListener(e),this.customEvents[e]||(this.customEvents[e]=[]),this.customEvents[e].push(s)},detachCustomEvent:function(e,s){var l=this.indexOfCustomListener(e,s);l!==-1&&this.customEvents[e].splice(l,1)},indexOfCustomListener:function(e,s){return!this.customEvents[e]||!this.customEvents[e].length?-1:this.customEvents[e].indexOf(s)},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(e,s,l){this.customEvents[e]&&!this.disabledEvents[e]&&this.customEvents[e].forEach(function(c){c(s,l)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(e){e.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=(function(e){this.handleDocumentExecCommand(e)}).bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var e=this.options.ownerDocument;if(!(!this.execCommandListener||!e.execCommand.listeners)){var s=e.execCommand.listeners.indexOf(this.execCommandListener);s!==-1&&e.execCommand.listeners.splice(s,1),e.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var e=this.options.ownerDocument;if(!e.execCommand.listeners){var s=function(c,t){e.execCommand.listeners&&e.execCommand.listeners.forEach(function(i){i({command:c[0],value:c[2],args:c,result:t})})},l=function(){var c=e.execCommand.orig.apply(this,arguments);if(!e.execCommand.listeners)return c;var t=Array.prototype.slice.call(arguments);return s(t,c),c};l.orig=e.execCommand,l.listeners=[],l.callListeners=s,e.execCommand=l}},unwrapExecCommand:function(){var e=this.options.ownerDocument;e.execCommand.orig&&(e.execCommand=e.execCommand.orig)},setupListener:function(e){if(!this.listeners[e]){switch(e){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(s){this.contentCache[s.getAttribute("medium-editor-index")]=s.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste);break}this.listeners[e]=!0}},attachToEachElement:function(e,s){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(l){this.attachDOMEvent(l,e,s.bind(this))},this),this.eventsCache.push({name:e,handler:s})},cleanupElement:function(e){var s=e.getAttribute("medium-editor-index");s&&(this.detachAllEventsFromElement(e),this.contentCache&&delete this.contentCache[s])},focusElement:function(e){e.focus(),this.updateFocus(e,{target:e,type:"focus"})},updateFocus:function(e,s){var l=this.base.getFocusedElement(),c;l&&s.type==="click"&&this.lastMousedownTarget&&(r.util.isDescendant(l,this.lastMousedownTarget,!0)||E(this.base.extensions,this.lastMousedownTarget))&&(c=l),c||this.base.elements.some(function(i){return!c&&r.util.isDescendant(i,e,!0)&&(c=i),!!c},this);var t=!r.util.isDescendant(l,e,!0)&&!E(this.base.extensions,e);c!==l&&(l&&t&&(l.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",s,l)),c&&(c.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",s,c))),t&&this.triggerCustomEvent("externalInteraction",s)},updateInput:function(e,s){if(this.contentCache){var l=e.getAttribute("medium-editor-index"),c=e.innerHTML;c!==this.contentCache[l]&&this.triggerCustomEvent("editableInput",s,e),this.contentCache[l]=c}},handleDocumentSelectionChange:function(e){if(e.currentTarget&&e.currentTarget.activeElement){var s=e.currentTarget.activeElement,l;this.base.elements.some(function(c){return r.util.isDescendant(c,s,!0)?(l=c,!0):!1},this),l&&this.updateInput(l,{target:s,currentTarget:l})}},handleDocumentExecCommand:function(){var e=this.base.getFocusedElement();e&&this.updateInput(e,{target:e,currentTarget:e})},handleBodyClick:function(e){this.updateFocus(e.target,e)},handleBodyFocus:function(e){this.updateFocus(e.target,e)},handleBodyMousedown:function(e){this.lastMousedownTarget=e.target},handleInput:function(e){this.updateInput(e.currentTarget,e)},handleClick:function(e){this.triggerCustomEvent("editableClick",e,e.currentTarget)},handleBlur:function(e){this.triggerCustomEvent("editableBlur",e,e.currentTarget)},handleKeypress:function(e){if(this.triggerCustomEvent("editableKeypress",e,e.currentTarget),this.keypressUpdateInput){var s={target:e.target,currentTarget:e.currentTarget};setTimeout((function(){this.updateInput(s.currentTarget,s)}).bind(this),0)}},handleKeyup:function(e){this.triggerCustomEvent("editableKeyup",e,e.currentTarget)},handleMouseover:function(e){this.triggerCustomEvent("editableMouseover",e,e.currentTarget)},handleDragging:function(e){this.triggerCustomEvent("editableDrag",e,e.currentTarget)},handleDrop:function(e){this.triggerCustomEvent("editableDrop",e,e.currentTarget)},handlePaste:function(e){this.triggerCustomEvent("editablePaste",e,e.currentTarget)},handleKeydown:function(e){if(this.triggerCustomEvent("editableKeydown",e,e.currentTarget),r.util.isKey(e,r.util.keyCode.SPACE))return this.triggerCustomEvent("editableKeydownSpace",e,e.currentTarget);if(r.util.isKey(e,r.util.keyCode.ENTER)||e.ctrlKey&&r.util.isKey(e,r.util.keyCode.M))return this.triggerCustomEvent("editableKeydownEnter",e,e.currentTarget);if(r.util.isKey(e,r.util.keyCode.TAB))return this.triggerCustomEvent("editableKeydownTab",e,e.currentTarget);if(r.util.isKey(e,[r.util.keyCode.DELETE,r.util.keyCode.BACKSPACE]))return this.triggerCustomEvent("editableKeydownDelete",e,e.currentTarget)}},r.Events=n})(),(function(){var E=r.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(n){E.isBuiltInButton(n)?r.Extension.call(this,this.defaults[n]):r.Extension.call(this,n)},init:function(){r.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return typeof this.action=="function"?this.action(this.base.options):this.action},getAria:function(){return typeof this.aria=="function"?this.aria(this.base.options):this.aria},getTagNames:function(){return typeof this.tagNames=="function"?this.tagNames(this.base.options):this.tagNames},createButton:function(){var n=this.document.createElement("button"),e=this.contentDefault,s=this.getAria(),l=this.getEditorOption("buttonLabels");return n.classList.add("medium-editor-action"),n.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(c){n.classList.add(c)}),n.setAttribute("data-action",this.getAction()),s&&(n.setAttribute("title",s),n.setAttribute("aria-label",s)),this.attrs&&Object.keys(this.attrs).forEach(function(c){n.setAttribute(c,this.attrs[c])},this),l==="fontawesome"&&this.contentFA&&(e=this.contentFA),n.innerHTML=e,n},handleClick:function(n){n.preventDefault(),n.stopPropagation();var e=this.getAction();e&&this.execAction(e)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var n=null;return this.useQueryState&&(n=this.base.queryCommandState(this.getAction())),n},isAlreadyApplied:function(n){var e=!1,s=this.getTagNames(),l,c;return this.knownState===!1||this.knownState===!0?this.knownState:(s&&s.length>0&&(e=s.indexOf(n.nodeName.toLowerCase())!==-1),!e&&this.style&&(l=this.style.value.split("|"),c=this.window.getComputedStyle(n,null).getPropertyValue(this.style.prop),l.forEach(function(t){this.knownState||(e=c.indexOf(t)!==-1,(e||this.style.prop!=="text-decoration")&&(this.knownState=e))},this)),e)}});E.isBuiltInButton=function(n){return typeof n=="string"&&r.extensions.button.prototype.defaults.hasOwnProperty(n)},r.extensions.button=E})(),(function(){r.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}})(),(function(){var E=r.extensions.button.extend({init:function(){r.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return this.hasForm?this.getForm().classList.contains(this.activeClass):!1},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var n=this.base.getExtensionByName("toolbar");n&&n.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var n=this.base.getExtensionByName("toolbar");n&&n.hideToolbarDefaultActions()},setToolbarPosition:function(){var n=this.base.getExtensionByName("toolbar");n&&n.setToolbarPosition()}});r.extensions.form=E})(),(function(){var E=r.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){r.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(n){n.preventDefault(),n.stopPropagation();var e=r.selection.getSelectionRange(this.document);return e.startContainer.nodeName.toLowerCase()==="a"||e.endContainer.nodeName.toLowerCase()==="a"||r.util.getClosestTag(r.selection.getSelectedParentElement(e),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(n){r.util.isKey(n,r.util.keyCode.K)&&r.util.isMetaCtrlKey(n)&&!n.shiftKey&&this.handleClick(n)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var n=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return n.push('<a href="#" class="medium-editor-toolbar-save">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),n.push('<a href="#" class="medium-editor-toolbar-close">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&n.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target" id="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">','<label for="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">',this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&n.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),n.join("")},isDisplayed:function(){return r.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){r.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(n){var e=this.getInput(),s=this.getAnchorTargetCheckbox(),l=this.getAnchorButtonCheckbox();if(n=n||{value:""},typeof n=="string"&&(n={value:n}),this.base.saveSelection(),this.hideToolbarDefaultActions(),r.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),e.value=n.value,e.focus(),s&&(s.checked=n.target==="_blank"),l){var c=n.buttonClass?n.buttonClass.split(" "):[];l.checked=c.indexOf(this.customClassOption)!==-1}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var n=this.getAnchorTargetCheckbox(),e=this.getAnchorButtonCheckbox(),s={value:this.getInput().value.trim()};return this.linkValidation&&(s.value=this.checkLinkFormat(s.value)),s.target="_self",n&&n.checked&&(s.target="_blank"),e&&e.checked&&(s.buttonClass=this.customClassOption),s},doFormSave:function(){var n=this.getFormOpts();this.completeFormSave(n)},completeFormSave:function(n){this.base.restoreSelection(),this.execAction(this.action,n),this.base.checkSelection()},ensureEncodedUri:function(n){return n===decodeURI(n)?encodeURI(n):n},ensureEncodedUriComponent:function(n){return n===decodeURIComponent(n)?encodeURIComponent(n):n},ensureEncodedParam:function(n){var e=n.split("="),s=e[0],l=e[1];return s+(l===void 0?"":"="+this.ensureEncodedUriComponent(l))},ensureEncodedQuery:function(n){return n.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(n){var e=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i,s=e.test(n),l="",c=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/,t=n.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),i=t[1],o=t[2],u=t[3];if(c.test(n))return"tel:"+n;if(!s){var d=i.split("/")[0];(d.match(/.+(\.|:).+/)||d==="localhost")&&(l="http://")}return l+this.ensureEncodedUri(i)+(o===void 0?"":"?"+this.ensureEncodedQuery(o))+(u===void 0?"":"#"+u)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(n){var e=n.querySelector(".medium-editor-toolbar-close"),s=n.querySelector(".medium-editor-toolbar-save"),l=n.querySelector(".medium-editor-toolbar-input");this.on(n,"click",this.handleFormClick.bind(this)),this.on(l,"keyup",this.handleTextboxKeyup.bind(this)),this.on(e,"click",this.handleCloseClick.bind(this)),this.on(s,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var n=this.document,e=n.createElement("div");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),e.innerHTML=this.getTemplate(),this.attachFormEvents(e),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(n){if(n.keyCode===r.util.keyCode.ENTER){n.preventDefault(),this.doFormSave();return}n.keyCode===r.util.keyCode.ESCAPE&&(n.preventDefault(),this.doFormCancel())},handleFormClick:function(n){n.stopPropagation()},handleSaveClick:function(n){n.preventDefault(),this.doFormSave()},handleCloseClick:function(n){n.preventDefault(),this.doFormCancel()}});r.extensions.anchor=E})(),(function(){var E=r.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var n=this.document.createElement("div");return n.id="medium-editor-anchor-preview-"+this.getEditorId(),n.className="medium-editor-anchor-preview",n.innerHTML=this.getTemplate(),this.on(n,"click",this.handleClick.bind(this)),n},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(n){return this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||n.getAttribute("data-disable-preview")?!0:(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=n.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=n.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=n,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(n){n=n||this.activeAnchor;var e=this.window.innerWidth,s=this.anchorPreview.offsetHeight,l=n.getBoundingClientRect(),c=this.diffLeft,t=this.diffTop,i=this.getEditorOption("elementsContainer"),o=["absolute","fixed"].indexOf(window.getComputedStyle(i).getPropertyValue("position"))>-1,u={},d,h,p,g,b;d=this.anchorPreview.offsetWidth/2;var C=this.base.getExtensionByName("toolbar");C&&(c=C.diffLeft,t=C.diffTop),h=c-d,o?(g=i.getBoundingClientRect(),["top","left"].forEach(function(w){u[w]=l[w]-g[w]}),u.width=l.width,u.height=l.height,l=u,e=g.width,b=i.scrollTop):b=this.window.pageYOffset,p=l.left+l.width/2,b+=s+l.top+l.height-t-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(b)+"px",this.anchorPreview.style.right="initial",p<d?(this.anchorPreview.style.left=h+d+"px",this.anchorPreview.style.right="initial"):e-p<d?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=h+p+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(n){var e=this.base.getExtensionByName("anchor"),s=this.activeAnchor;e&&s&&(n.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay((function(){if(s){var l={value:s.attributes.href.value,target:s.getAttribute("target"),buttonClass:s.getAttribute("class")};e.showForm(l),s=null}}).bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(n){var e=r.util.getClosestTag(n.target,"a");if(e!==!1){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(e.outerHTML)||/href=["']#\S+["']/.test(e.outerHTML)))return!0;var s=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&s&&s.isDisplayed&&s.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==e&&this.detachPreviewHandlers(),this.anchorToPreview=e,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay((function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}).bind(this))}},handlePreviewMouseover:function(){this.lastOver=new Date().getTime(),this.hovering=!0},handlePreviewMouseout:function(n){(!n.relatedTarget||!/anchor-preview/.test(n.relatedTarget.className))&&(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var n=new Date().getTime()-this.lastOver;n>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=new Date().getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});r.extensions.anchorPreview=E})(),(function(){var E,n,e,s,l;E=[" ","	",`
`,"\r","","","","","","\u2028","\u2029"],n="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",e="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+n+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+n+"))",s=new RegExp("^("+n+")$","i"),l=new RegExp(e,"gi");function c(i){return!r.util.getClosestTag(i,"a")}var t=r.Extension.extend({init:function(){r.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var i=0,o=0;o<this.window._mediumEditors.length;o++){var u=this.window._mediumEditors[o];u!==null&&u.getExtensionByName("autoLink")!==void 0&&i++}return i===1},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(i,o){this.performLinking(o)},onKeypress:function(i){this.disableEventHandling||r.util.isKey(i,[r.util.keyCode.SPACE,r.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout((function(){try{var o=this.base.exportSelection();this.performLinking(i.target)&&this.base.importSelection(o,!0)}catch(u){window.console&&window.console.error("Failed to perform linking",u),this.disableEventHandling=!0}}).bind(this),0))},performLinking:function(i){var o=r.util.splitByBlockElements(i),u=!1;o.length===0&&(o=[i]);for(var d=0;d<o.length;d++)u=this.removeObsoleteAutoLinkSpans(o[d])||u,u=this.performLinkingWithinElement(o[d])||u;return this.base.events.updateInput(i,{target:i,currentTarget:i}),u},removeObsoleteAutoLinkSpans:function(i){if(!i||i.nodeType===3)return!1;for(var o=i.querySelectorAll('span[data-auto-link="true"]'),u=!1,d=0;d<o.length;d++){var h=o[d].textContent;if(h.indexOf("://")===-1&&(h=r.util.ensureUrlHasProtocol(h)),o[d].getAttribute("data-href")!==h&&c(o[d])){u=!0;var p=h.replace(/\s+$/,"");if(o[d].getAttribute("data-href")===p){var g=h.length-p.length,b=r.util.splitOffDOMTree(o[d],this.splitTextBeforeEnd(o[d],g));o[d].parentNode.insertBefore(b,o[d].nextSibling)}else r.util.unwrap(o[d],this.document)}}return u},splitTextBeforeEnd:function(i,o){for(var u=this.document.createTreeWalker(i,NodeFilter.SHOW_TEXT,null,!1),d=!0;d;)d=u.lastChild()!==null;for(var h,p,g;o>0&&g!==null;)h=u.currentNode,p=h.nodeValue,p.length>o?(g=h.splitText(p.length-o),o=0):(g=u.previousNode(),o-=p.length);return g},performLinkingWithinElement:function(i){for(var o=this.findLinkableText(i),u=!1,d=0;d<o.length;d++){var h=r.util.findOrCreateMatchingTextNodes(this.document,i,o[d]);this.shouldNotLink(h)||this.createAutoLink(h,o[d].href)}return u},shouldNotLink:function(i){for(var o=!1,u=0;u<i.length&&o===!1;u++)o=!!r.util.traverseUp(i[u],function(d){return d.nodeName.toLowerCase()==="a"||d.getAttribute&&d.getAttribute("data-auto-link")==="true"});return o},findLinkableText:function(i){for(var o=i.textContent,u=null,d=[];(u=l.exec(o))!==null;){var h=!0,p=u.index+u[0].length;h=(u.index===0||E.indexOf(o[u.index-1])!==-1)&&(p===o.length||E.indexOf(o[p])!==-1),h=h&&(u[0].indexOf("/")!==-1||s.test(u[0].split(".").pop().split("?").shift())),h&&d.push({href:u[0],start:u.index,end:p})}return d},createAutoLink:function(i,o){o=r.util.ensureUrlHasProtocol(o);var u=r.util.createLink(this.document,i,o,this.getEditorOption("targetBlank")?"_blank":null),d=this.document.createElement("span");for(d.setAttribute("data-auto-link","true"),d.setAttribute("data-href",o),u.insertBefore(d,u.firstChild);u.childNodes.length>1;)d.appendChild(u.childNodes[1])}});r.extensions.autoLink=t})(),(function(){var E="medium-editor-dragover";function n(s){var l=r.util.getContainerEditorElement(s),c=Array.prototype.slice.call(l.parentElement.querySelectorAll("."+E));c.forEach(function(t){t.classList.remove(E)})}var e=r.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){r.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(s){s.preventDefault(),s.dataTransfer.dropEffect="copy";var l=s.target.classList?s.target:s.target.parentElement;n(l),s.type==="dragover"&&l.classList.add(E)},handleDrop:function(s){s.preventDefault(),s.stopPropagation(),this.base.selectElement(s.target);var l=this.base.exportSelection();l.start=l.end,this.base.importSelection(l),s.dataTransfer.files&&Array.prototype.slice.call(s.dataTransfer.files).forEach(function(c){this.isAllowedFile(c)&&c.type.match("image")&&this.insertImageFile(c)},this),n(s.target)},isAllowedFile:function(s){return this.allowedTypes.some(function(l){return!!s.type.match(l)})},insertImageFile:function(s){if(typeof FileReader=="function"){var l=new FileReader;l.readAsDataURL(s),l.addEventListener("load",(function(c){var t=this.document.createElement("img");t.src=c.target.result,r.util.insertHTMLCommand(this.document,t.outerHTML)}).bind(this))}}});r.extensions.fileDragging=e})(),(function(){var E=r.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){r.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(n){var e=n.key.charCodeAt(0);this.keys[e]||(this.keys[e]=[]),this.keys[e].push(n)},this)},handleKeydown:function(n){var e=r.util.getKeyCode(n);if(this.keys[e]){var s=r.util.isMetaCtrlKey(n),l=!!n.shiftKey,c=!!n.altKey;this.keys[e].forEach(function(t){t.meta===s&&t.shift===l&&(t.alt===c||t.alt===void 0)&&(n.preventDefault(),n.stopPropagation(),typeof t.command=="function"?t.command.apply(this):t.command!==!1&&this.execAction(t.command))},this)}}});r.extensions.keyboardCommands=E})(),(function(){var E=r.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){r.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(n){if(n.preventDefault(),n.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontName")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(n){var e=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=n||"",e.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var n=this.document,e=n.createElement("div"),s=n.createElement("select"),l=n.createElement("a"),c=n.createElement("a"),t;e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(e,"click",this.handleFormClick.bind(this));for(var i=0;i<this.fonts.length;i++)t=n.createElement("option"),t.innerHTML=this.fonts[i],t.value=this.fonts[i],s.appendChild(t);return s.className="medium-editor-toolbar-select",e.appendChild(s),this.on(s,"change",this.handleFontChange.bind(this)),c.setAttribute("href","#"),c.className="medium-editor-toobar-save",c.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",e.appendChild(c),this.on(c,"click",this.handleSaveClick.bind(this),!0),l.setAttribute("href","#"),l.className="medium-editor-toobar-close",l.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",e.appendChild(l),this.on(l,"click",this.handleCloseClick.bind(this)),e},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){r.selection.getSelectedElements(this.document).forEach(function(n){n.nodeName.toLowerCase()==="font"&&n.hasAttribute("face")&&n.removeAttribute("face")})},handleFontChange:function(){var n=this.getSelect().value;n===""?this.clearFontName():this.execAction("fontName",{value:n})},handleFormClick:function(n){n.stopPropagation()},handleSaveClick:function(n){n.preventDefault(),this.doFormSave()},handleCloseClick:function(n){n.preventDefault(),this.doFormCancel()}});r.extensions.fontName=E})(),(function(){var E=r.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){r.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(n){if(n.preventDefault(),n.stopPropagation(),!this.isDisplayed()){var e=this.document.queryCommandValue("fontSize")+"";this.showForm(e)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(n){var e=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),e.value=n||"",e.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var n=this.document,e=n.createElement("div"),s=n.createElement("input"),l=n.createElement("a"),c=n.createElement("a");return e.className="medium-editor-toolbar-form",e.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(e,"click",this.handleFormClick.bind(this)),s.setAttribute("type","range"),s.setAttribute("min","1"),s.setAttribute("max","7"),s.className="medium-editor-toolbar-input",e.appendChild(s),this.on(s,"change",this.handleSliderChange.bind(this)),c.setAttribute("href","#"),c.className="medium-editor-toobar-save",c.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",e.appendChild(c),this.on(c,"click",this.handleSaveClick.bind(this),!0),l.setAttribute("href","#"),l.className="medium-editor-toobar-close",l.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",e.appendChild(l),this.on(l,"click",this.handleCloseClick.bind(this)),e},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){r.selection.getSelectedElements(this.document).forEach(function(n){n.nodeName.toLowerCase()==="font"&&n.hasAttribute("size")&&n.removeAttribute("size")})},handleSliderChange:function(){var n=this.getInput().value;n==="4"?this.clearFontSize():this.execAction("fontSize",{value:n})},handleFormClick:function(n){n.stopPropagation()},handleSaveClick:function(n){n.preventDefault(),this.doFormSave()},handleCloseClick:function(n){n.preventDefault(),this.doFormCancel()}});r.extensions.fontSize=E})(),(function(){var E="%ME_PASTEBIN%",n=null,e=null,s=function(i){i.stopPropagation()};function l(){return[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"||)(((?!&quot;|&rdquo;|&ldquo;|"||).)*)(?:&quot;|&rdquo;|&ldquo;|"||)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]]}function c(i,o,u){var d=i.clipboardData||o.clipboardData||u.dataTransfer,h={};if(!d)return h;if(d.getData){var p=d.getData("Text");p&&p.length>0&&(h["text/plain"]=p)}if(d.types)for(var g=0;g<d.types.length;g++){var b=d.types[g];h[b]=d.getData(b)}return h}var t=r.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){r.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach(function(i){this.on(i,"paste",this.handlePaste.bind(this))},this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(i,o){this.on(o,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(i,o){if(!i.defaultPrevented){var u=c(i,this.window,this.document),d=u["text/html"],h=u["text/plain"];this.window.clipboardData&&i.clipboardData===void 0&&!d&&(d=h),(d||h)&&(i.preventDefault(),this.doPaste(d,h,o))}},doPaste:function(i,o,u){var d,h="",p;if(this.cleanPastedHTML&&i)return this.cleanPaste(i);if(o){if(this.getEditorOption("disableReturn")||u&&u.getAttribute("data-disable-return"))h=r.util.htmlEntities(o);else if(d=o.split(/[\r\n]+/g),d.length>1)for(p=0;p<d.length;p+=1)d[p]!==""&&(h+="<p>"+r.util.htmlEntities(d[p])+"</p>");else h=r.util.htmlEntities(d[0]);r.util.insertHTMLCommand(this.document,h)}},handlePasteBinPaste:function(i){if(i.defaultPrevented){this.removePasteBin();return}var o=c(i,this.window,this.document),u=o["text/html"],d=o["text/plain"],h=e;if(!this.cleanPastedHTML||u){i.preventDefault(),this.removePasteBin(),this.doPaste(u,d,h),this.trigger("editablePaste",{currentTarget:h,target:h},h);return}setTimeout((function(){this.cleanPastedHTML&&(u=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(u,d,h),this.trigger("editablePaste",{currentTarget:h,target:h},h)}).bind(this),0)},handleKeydown:function(i,o){r.util.isKey(i,r.util.keyCode.V)&&r.util.isMetaCtrlKey(i)&&(i.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(o))},createPasteBin:function(i){var o,u=r.selection.getSelectionRange(this.document),d=this.window.pageYOffset;e=i,u&&(o=u.getClientRects(),o.length?d+=o[0].top:u.startContainer.getBoundingClientRect!==void 0?d+=u.startContainer.getBoundingClientRect().top:d+=u.getBoundingClientRect().top),n=u;var h=this.document.createElement("div");h.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),h.setAttribute("style","border: 1px red solid; position: absolute; top: "+d+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),h.setAttribute("contentEditable",!0),h.innerHTML=E,this.document.body.appendChild(h),this.on(h,"focus",s),this.on(h,"focusin",s),this.on(h,"focusout",s),h.focus(),r.selection.selectNode(h,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(h,"paste",this.boundHandlePaste)},removePasteBin:function(){n!==null&&(r.selection.selectRange(this.document,n),n=null),e!==null&&(e=null);var i=this.getPasteBin();i&&i&&(this.off(i,"focus",s),this.off(i,"focusin",s),this.off(i,"focusout",s),this.off(i,"paste",this.boundHandlePaste),i.parentElement.removeChild(i))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var i=this.getPasteBin();if(!i||i.firstChild&&i.firstChild.id==="mcepastebin")return!1;var o=i.innerHTML;return!o||o===E?!1:o},cleanPaste:function(i){var o,u,d,h,p=/<p|<br|<div/.test(i),g=[].concat(this.preCleanReplacements||[],l(),this.cleanReplacements||[]);for(o=0;o<g.length;o+=1)i=i.replace(g[o][0],g[o][1]);if(!p)return this.pasteHTML(i);for(d=this.document.createElement("div"),d.innerHTML="<p>"+i.split("<br><br>").join("</p><p>")+"</p>",u=d.querySelectorAll("a,p,div,br"),o=0;o<u.length;o+=1)switch(h=u[o],h.innerHTML=h.innerHTML.replace(/\n/gi," "),h.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(h);break;case"br":this.filterLineBreak(h);break}this.pasteHTML(d.innerHTML)},pasteHTML:function(i,o){o=r.util.defaults({},o,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var u,d,h,p,g=this.document.createDocumentFragment();for(g.appendChild(this.document.createElement("body")),p=g.querySelector("body"),p.innerHTML=i,this.cleanupSpans(p),u=p.querySelectorAll("*"),h=0;h<u.length;h+=1)d=u[h],d.nodeName.toLowerCase()==="a"&&this.getEditorOption("targetBlank")&&r.util.setTargetBlank(d),r.util.cleanupAttrs(d,o.cleanAttrs),r.util.cleanupTags(d,o.cleanTags),r.util.unwrapTags(d,o.unwrapTags);r.util.insertHTMLCommand(this.document,p.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(i){return i&&(i.nodeName.toLowerCase()==="p"||i.nodeName.toLowerCase()==="div")},filterCommonBlocks:function(i){/^\s*$/.test(i.textContent)&&i.parentNode&&i.parentNode.removeChild(i)},filterLineBreak:function(i){this.isCommonBlock(i.previousElementSibling)?this.removeWithParent(i):this.isCommonBlock(i.parentNode)&&(i.parentNode.firstChild===i||i.parentNode.lastChild===i)?this.removeWithParent(i):i.parentNode&&i.parentNode.childElementCount===1&&i.parentNode.textContent===""&&this.removeWithParent(i)},removeWithParent:function(i){i&&i.parentNode&&(i.parentNode.parentNode&&i.parentNode.childElementCount===1?i.parentNode.parentNode.removeChild(i.parentNode):i.parentNode.removeChild(i))},cleanupSpans:function(i){var o,u,d,h=i.querySelectorAll(".replace-with"),p=function(g){return g&&g.nodeName!=="#text"&&g.getAttribute("contenteditable")==="false"};for(o=0;o<h.length;o+=1)u=h[o],d=this.document.createElement(u.classList.contains("bold")?"b":"i"),u.classList.contains("bold")&&u.classList.contains("italic")?d.innerHTML="<i>"+u.innerHTML+"</i>":d.innerHTML=u.innerHTML,u.parentNode.replaceChild(d,u);for(h=i.querySelectorAll("span"),o=0;o<h.length;o+=1){if(u=h[o],r.util.traverseUp(u,p))return!1;r.util.unwrap(u,this.document)}}});r.extensions.paste=t})(),(function(){var E=r.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){r.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(n,e){this.initElement(e)},initElement:function(n){n.getAttribute("data-placeholder")||n.setAttribute("data-placeholder",this.text),this.updatePlaceholder(n)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(n,e){this.cleanupElement(e)},cleanupElement:function(n){n.getAttribute("data-placeholder")===this.text&&n.removeAttribute("data-placeholder")},showPlaceholder:function(n){n&&(r.util.isFF&&n.childNodes.length===0?(n.classList.add("medium-editor-placeholder-relative"),n.classList.remove("medium-editor-placeholder")):(n.classList.add("medium-editor-placeholder"),n.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(n){n&&(n.classList.remove("medium-editor-placeholder"),n.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(n,e){if(n.querySelector("img, blockquote, ul, ol, table")||n.textContent.replace(/^\s+|\s+$/g,"")!=="")return this.hidePlaceholder(n);e||this.showPlaceholder(n)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(n,e){var s=this.hideOnClick&&e===this.base.getFocusedElement();this.updatePlaceholder(e,s)},handleFocus:function(n,e){this.hidePlaceholder(e)},handleBlur:function(n,e){this.updatePlaceholder(e)}});r.extensions.placeholder=E})(),(function(){var E=r.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){r.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(n,e){return this.base.extensions.forEach(function(s){if(s!==this)return n.apply(e||this,arguments)},this)},createToolbar:function(){var n=this.document.createElement("div");return n.id="medium-editor-toolbar-"+this.getEditorId(),n.className="medium-editor-toolbar",this.static?n.className+=" static-toolbar":this.relativeContainer?n.className+=" medium-editor-relative-toolbar":n.className+=" medium-editor-stalker-toolbar",n.appendChild(this.createToolbarButtons()),this.forEachExtension(function(e){e.hasForm&&n.appendChild(e.getForm())}),this.attachEventHandlers(),n},createToolbarButtons:function(){var n=this.document.createElement("ul"),e,s,l,c,t,i;return n.id="medium-editor-toolbar-actions"+this.getEditorId(),n.className="medium-editor-toolbar-actions",n.style.display="block",this.buttons.forEach(function(o){typeof o=="string"?(t=o,i=null):(t=o.name,i=o),c=this.base.addBuiltInExtension(t,i),c&&typeof c.getButton=="function"&&(s=c.getButton(this.base),e=this.document.createElement("li"),r.util.isElement(s)?e.appendChild(s):e.innerHTML=s,n.appendChild(e))},this),l=n.querySelectorAll("button"),l.length>0&&(l[0].classList.add(this.firstButtonClass),l[l.length-1].classList.add(this.lastButtonClass)),n},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=r.util.throttle((function(){this.base.isActive&&this.positionToolbarIfShown()}).bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(n){if(n&&n.target&&r.util.isDescendant(this.getToolbarElement(),n.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout((function(){this.checkState()}).bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout((function(){this.hideToolbar()}).bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return this.getToolbarActionsElement().style.display==="block"},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay((function(){this.showToolbar()}).bind(this))},hideExtensionForms:function(){this.forEachExtension(function(n){n.hasForm&&n.isDisplayed()&&n.hideForm()})},multipleBlockElementsSelected:function(){var n=/<[^\/>][^>]*><\/[^>]+>/gim,e=new RegExp("<("+r.util.blockContainerElementNames.join("|")+")[^>]*>","g"),s=r.selection.getSelectionHtml(this.document).replace(n,""),l=s.match(e);return!!l&&l.length>1},modifySelection:function(){var n=this.window.getSelection(),e=n.getRangeAt(0);if(this.standardizeSelectionStart&&e.startContainer.nodeValue&&e.startOffset===e.startContainer.nodeValue.length){var s=r.util.findAdjacentTextNodeWithContent(r.selection.getSelectionElement(this.window),e.startContainer,this.document);if(s){for(var l=0;s.nodeValue.substr(l,1).trim().length===0;)l=l+1;e=r.selection.select(this.document,s,l,e.endContainer,e.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||r.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var n=r.selection.getSelectionElement(this.window);if(!n||this.getEditorElements().indexOf(n)===-1||n.getAttribute("data-disable-toolbar"))return this.hideToolbar();if(this.updateOnEmptySelection&&this.static)return this.showAndUpdateToolbar();if(!r.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected())return this.hideToolbar();this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(n){typeof n.isActive=="function"&&typeof n.setInactive=="function"&&n.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var n=[],e=null,s=r.selection.getSelectionRange(this.document),l,c=function(t){typeof t.checkState=="function"?t.checkState(l):typeof t.isActive=="function"&&typeof t.isAlreadyApplied=="function"&&typeof t.setActive=="function"&&!t.isActive()&&t.isAlreadyApplied(l)&&t.setActive()};if(s&&(this.forEachExtension(function(t){if(typeof t.queryCommandState=="function"&&(e=t.queryCommandState(),e!==null)){e&&typeof t.setActive=="function"&&t.setActive();return}n.push(t)}),l=r.selection.getSelectedParentElement(s),!!this.getEditorElements().some(function(t){return r.util.isDescendant(t,l,!0)})))for(;l&&(n.forEach(c),!r.util.isMediumEditorElement(l));)l=l.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var n=this.base.getFocusedElement(),e=this.window.getSelection();if(!n)return this;(this.static||!e.isCollapsed)&&(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(n):this.positionToolbar(e)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(n){this.getToolbarElement().style.left="0";var e=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,s=this.window.innerWidth,l=this.getToolbarElement(),c=n.getBoundingClientRect(),t=c.top+e,i=c.left+c.width/2,o=l.offsetHeight,u=l.offsetWidth,d=u/2,h;switch(this.sticky?e>t+n.offsetHeight-o-this.stickyTopOffset?(l.style.top=t+n.offsetHeight-o+"px",l.classList.remove("medium-editor-sticky-toolbar")):e>t-o-this.stickyTopOffset?(l.classList.add("medium-editor-sticky-toolbar"),l.style.top=this.stickyTopOffset+"px"):(l.classList.remove("medium-editor-sticky-toolbar"),l.style.top=t-o+"px"):l.style.top=t-o+"px",this.align){case"left":h=c.left;break;case"right":h=c.right-u;break;case"center":h=i-d;break}h<0?h=0:h+u>s&&(h=s-Math.ceil(u)-1),l.style.left=h+"px"},positionToolbar:function(n){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var e=n.getRangeAt(0),s=e.getBoundingClientRect();(!s||s.height===0&&s.width===0&&e.startContainer===e.endContainer)&&(e.startContainer.nodeType===1&&e.startContainer.querySelector("img")?s=e.startContainer.querySelector("img").getBoundingClientRect():s=e.startContainer.getBoundingClientRect());var l=this.window.innerWidth,c=this.getToolbarElement(),t=c.offsetHeight,i=c.offsetWidth,o=i/2,u=50,d=this.diffLeft-o,h=this.getEditorOption("elementsContainer"),p=["absolute","fixed"].indexOf(window.getComputedStyle(h).getPropertyValue("position"))>-1,g={},b={},C,w;p?(w=h.getBoundingClientRect(),["top","left"].forEach(function(k){b[k]=s[k]-w[k]}),b.width=s.width,b.height=s.height,s=b,l=w.width,g.top=h.scrollTop):g.top=this.window.pageYOffset,C=s.left+s.width/2,g.top+=s.top-t,s.top<u?(c.classList.add("medium-toolbar-arrow-over"),c.classList.remove("medium-toolbar-arrow-under"),g.top+=u+s.height-this.diffTop):(c.classList.add("medium-toolbar-arrow-under"),c.classList.remove("medium-toolbar-arrow-over"),g.top+=this.diffTop),C<o?(g.left=d+o,g.right="initial"):l-C<o?(g.left="auto",g.right=0):(g.left=d+C,g.right="initial"),["top","left","right"].forEach(function(k){c.style[k]=g[k]+(isNaN(g[k])?"":"px")})}});r.extensions.toolbar=E})(),(function(){var E=r.Extension.extend({init:function(){r.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(n){var e="medium-editor-dragover";n.preventDefault(),n.dataTransfer.dropEffect="copy",n.type==="dragover"?n.target.classList.add(e):n.type==="dragleave"&&n.target.classList.remove(e)},handleDrop:function(n){var e="medium-editor-dragover",s;n.preventDefault(),n.stopPropagation(),n.dataTransfer.files&&(s=Array.prototype.slice.call(n.dataTransfer.files,0),s.some((function(l){if(l.type.match("image")){var c,t;c=new FileReader,c.readAsDataURL(l),t="medium-img-"+ +new Date,r.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+t+'" />'),c.onload=(function(){var i=this.document.getElementById(t);i&&(i.removeAttribute("id"),i.removeAttribute("class"),i.src=c.result)}).bind(this)}}).bind(this))),n.target.classList.remove(e)}});r.extensions.imageDragging=E})(),(function(){function E(a){var m=r.selection.getSelectionStart(this.options.ownerDocument),f=m.textContent,v=r.selection.getCaretOffsets(m);(f[v.left-1]===void 0||f[v.left-1].trim()===""||f[v.left]!==void 0&&f[v.left].trim()==="")&&a.preventDefault()}function n(a,m){if(this.options.disableReturn||m.getAttribute("data-disable-return"))a.preventDefault();else if(this.options.disableDoubleReturn||m.getAttribute("data-disable-double-return")){var f=r.selection.getSelectionStart(this.options.ownerDocument);(f&&f.textContent.trim()===""&&f.nodeName.toLowerCase()!=="li"||f.previousElementSibling&&f.previousElementSibling.nodeName.toLowerCase()!=="br"&&f.previousElementSibling.textContent.trim()==="")&&a.preventDefault()}}function e(a){var m=r.selection.getSelectionStart(this.options.ownerDocument),f=m&&m.nodeName.toLowerCase();f==="pre"&&(a.preventDefault(),r.util.insertHTMLCommand(this.options.ownerDocument,"    ")),r.util.isListItem(m)&&(a.preventDefault(),a.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function s(a){var m,f=r.selection.getSelectionStart(this.options.ownerDocument),v=f.nodeName.toLowerCase(),T=/^(\s+|<br\/?>)?$/i,x=/h\d/i;r.util.isKey(a,[r.util.keyCode.BACKSPACE,r.util.keyCode.ENTER])&&f.previousElementSibling&&x.test(v)&&r.selection.getCaretOffsets(f).left===0?r.util.isKey(a,r.util.keyCode.BACKSPACE)&&T.test(f.previousElementSibling.innerHTML)?(f.previousElementSibling.parentNode.removeChild(f.previousElementSibling),a.preventDefault()):!this.options.disableDoubleReturn&&r.util.isKey(a,r.util.keyCode.ENTER)&&(m=this.options.ownerDocument.createElement("p"),m.innerHTML="<br>",f.previousElementSibling.parentNode.insertBefore(m,f),a.preventDefault()):r.util.isKey(a,r.util.keyCode.DELETE)&&f.nextElementSibling&&f.previousElementSibling&&!x.test(v)&&T.test(f.innerHTML)&&x.test(f.nextElementSibling.nodeName.toLowerCase())?(r.selection.moveCursor(this.options.ownerDocument,f.nextElementSibling),f.previousElementSibling.parentNode.removeChild(f),a.preventDefault()):r.util.isKey(a,r.util.keyCode.BACKSPACE)&&v==="li"&&T.test(f.innerHTML)&&!f.previousElementSibling&&!f.parentElement.previousElementSibling&&f.nextElementSibling&&f.nextElementSibling.nodeName.toLowerCase()==="li"?(m=this.options.ownerDocument.createElement("p"),m.innerHTML="<br>",f.parentElement.parentElement.insertBefore(m,f.parentElement),r.selection.moveCursor(this.options.ownerDocument,m),f.parentElement.removeChild(f),a.preventDefault()):r.util.isKey(a,r.util.keyCode.BACKSPACE)&&r.util.getClosestTag(f,"blockquote")!==!1&&r.selection.getCaretOffsets(f).left===0?(a.preventDefault(),r.util.execFormatBlock(this.options.ownerDocument,"p")):r.util.isKey(a,r.util.keyCode.ENTER)&&r.util.getClosestTag(f,"blockquote")!==!1&&r.selection.getCaretOffsets(f).right===0?(m=this.options.ownerDocument.createElement("p"),m.innerHTML="<br>",f.parentElement.insertBefore(m,f.nextSibling),r.selection.moveCursor(this.options.ownerDocument,m),a.preventDefault()):r.util.isKey(a,r.util.keyCode.BACKSPACE)&&r.util.isMediumEditorElement(f.parentElement)&&!f.previousElementSibling&&f.nextElementSibling&&T.test(f.innerHTML)&&(a.preventDefault(),r.selection.moveCursor(this.options.ownerDocument,f.nextSibling),f.parentElement.removeChild(f))}function l(a){var m=r.selection.getSelectionStart(this.options.ownerDocument),f;m&&(r.util.isMediumEditorElement(m)&&m.children.length===0&&!r.util.isBlockContainer(m)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),r.util.isKey(a,r.util.keyCode.ENTER)&&!r.util.isListItem(m)&&!r.util.isBlockContainer(m)&&(f=m.nodeName.toLowerCase(),f==="a"?this.options.ownerDocument.execCommand("unlink",!1,null):!a.shiftKey&&!a.ctrlKey&&this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function c(a,m){var f=m.parentNode.querySelector('textarea[medium-editor-textarea-id="'+m.getAttribute("medium-editor-textarea-id")+'"]');f&&(f.value=m.innerHTML.trim())}function t(a){a._mediumEditors||(a._mediumEditors=[null]),this.id||(this.id=a._mediumEditors.length),a._mediumEditors[this.id]=this}function i(a){!a._mediumEditors||!a._mediumEditors[this.id]||(a._mediumEditors[this.id]=null)}function o(a,m,f){var v=[];if(a||(a=[]),typeof a=="string"&&(a=m.querySelectorAll(a)),r.util.isElement(a)&&(a=[a]),f)for(var T=0;T<a.length;T++){var x=a[T];r.util.isElement(x)&&!x.getAttribute("data-medium-editor-element")&&!x.getAttribute("medium-editor-textarea-id")&&v.push(x)}else v=Array.prototype.slice.apply(a);return v}function u(a){var m=a.parentNode.querySelector('textarea[medium-editor-textarea-id="'+a.getAttribute("medium-editor-textarea-id")+'"]');m&&(m.classList.remove("medium-editor-hidden"),m.removeAttribute("medium-editor-textarea-id")),a.parentNode&&a.parentNode.removeChild(a)}function d(a,m){return Object.keys(m).forEach(function(f){a[f]===void 0&&(a[f]=m[f])}),a}function h(a,m,f){var v={window:f.options.contentWindow,document:f.options.ownerDocument,base:f};return a=d(a,v),typeof a.init=="function"&&a.init(),a.name||(a.name=m),a}function p(){return this.elements.every(function(a){return!!a.getAttribute("data-disable-toolbar")})?!1:this.options.toolbar!==!1}function g(){return p.call(this)?this.options.anchorPreview!==!1:!1}function b(){return this.options.placeholder!==!1}function C(){return this.options.autoLink!==!1}function w(){return this.options.imageDragging!==!1}function k(){return this.options.keyboardCommands!==!1}function N(){return!this.options.extensions.imageDragging}function P(a){for(var m=this.options.ownerDocument.createElement("div"),f=Date.now(),v="medium-editor-"+f,T=a.attributes;this.options.ownerDocument.getElementById(v);)f++,v="medium-editor-"+f;m.className=a.className,m.id=v,m.innerHTML=a.value,a.setAttribute("medium-editor-textarea-id",v);for(var x=0,F=T.length;x<F;x++)m.hasAttribute(T[x].nodeName)||m.setAttribute(T[x].nodeName,T[x].value);return a.form&&this.on(a.form,"reset",(function(L){L.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(v))}).bind(this)),a.classList.add("medium-editor-hidden"),a.parentNode.insertBefore(m,a),m}function q(a,m){if(!a.getAttribute("data-medium-editor-element")){a.nodeName.toLowerCase()==="textarea"&&(a=P.call(this,a),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=c.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),!this.options.disableEditing&&!a.getAttribute("data-disable-editing")&&(a.setAttribute("contentEditable",!0),a.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(a.getAttribute("data-disable-return")||a.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=n.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),!this.options.disableReturn&&!a.getAttribute("data-disable-return")&&this.on(a,"keyup",l.bind(this));var f=r.util.guid();a.setAttribute("data-medium-editor-element",!0),a.classList.add("medium-editor-element"),a.setAttribute("role","textbox"),a.setAttribute("aria-multiline",!0),a.setAttribute("data-medium-editor-editor-index",m),a.setAttribute("medium-editor-index",f),O[f]=a.innerHTML,this.events.attachAllEventsToElement(a)}return a}function y(){this.subscribe("editableKeydownTab",e.bind(this)),this.subscribe("editableKeydownDelete",s.bind(this)),this.subscribe("editableKeydownEnter",s.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",E.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=n.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function A(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(T){T!=="toolbar"&&this.options.extensions[T]&&this.extensions.push(h(this.options.extensions[T],T,this))},this),N.call(this)){var a=this.options.fileDragging;a||(a={},w.call(this)||(a.allowedTypes=[])),this.addBuiltInExtension("fileDragging",a)}var m={paste:!0,"anchor-preview":g.call(this),autoLink:C.call(this),keyboardCommands:k.call(this),placeholder:b.call(this)};Object.keys(m).forEach(function(T){m[T]&&this.addBuiltInExtension(T)},this);var f=this.options.extensions.toolbar;if(!f&&p.call(this)){var v=r.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});f=new r.extensions.toolbar(v)}f&&this.extensions.push(h(f,"toolbar",this))}function S(a,m){var f=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return m&&f.forEach(function(v){m.hasOwnProperty(v[0])&&m[v[0]]!==void 0&&r.util.deprecated(v[0],v[1],"v6.0.0")}),r.util.defaults({},m,a)}function D(a,m){var f=/^append-(.+)$/gi,v=/justify([A-Za-z]*)$/g,T,x;if(T=f.exec(a),T)return r.util.execFormatBlock(this.options.ownerDocument,T[1]);if(a==="fontSize")return m.size&&r.util.deprecated(".size option for fontSize command",".value","6.0.0"),x=m.value||m.size,this.options.ownerDocument.execCommand("fontSize",!1,x);if(a==="fontName")return m.name&&r.util.deprecated(".name option for fontName command",".value","6.0.0"),x=m.value||m.name,this.options.ownerDocument.execCommand("fontName",!1,x);if(a==="createLink")return this.createLink(m);if(a==="image"){var F=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,F)}if(a==="html"){var L=this.options.contentWindow.getSelection().toString().trim();return r.util.insertHTMLCommand(this.options.ownerDocument,L)}if(v.exec(a)){var I=this.options.ownerDocument.execCommand(a,!1,null),H=r.selection.getSelectedParentElement(r.selection.getSelectionRange(this.options.ownerDocument));return H&&R.call(this,r.util.getTopBlockContainer(H)),I}return x=m&&m.value,this.options.ownerDocument.execCommand(a,!1,x)}function R(a){if(a){var m,f=Array.prototype.slice.call(a.childNodes).filter(function(v){var T=v.nodeName.toLowerCase()==="div";return T&&!m&&(m=v.style.textAlign),T});f.length&&(this.saveSelection(),f.forEach(function(v){if(v.style.textAlign===m){var T=v.lastChild;if(T){r.util.unwrap(v,this.options.ownerDocument);var x=this.options.ownerDocument.createElement("BR");T.parentNode.insertBefore(x,T.nextSibling)}}},this),a.style.textAlign=m,this.restoreSelection())}}var O={};r.prototype={init:function(a,m){return this.options=S.call(this,this.defaults,m),this.origElements=a,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(t.call(this,this.options.contentWindow),this.events=new r.Events(this),this.elements=[],this.addElements(this.origElements),this.elements.length!==0&&(this.isActive=!0,A.call(this),y.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(a){typeof a.destroy=="function"&&a.destroy()},this),this.events.destroy(),this.elements.forEach(function(a){this.options.spellcheck&&(a.innerHTML=a.innerHTML),a.removeAttribute("contentEditable"),a.removeAttribute("spellcheck"),a.removeAttribute("data-medium-editor-element"),a.classList.remove("medium-editor-element"),a.removeAttribute("role"),a.removeAttribute("aria-multiline"),a.removeAttribute("medium-editor-index"),a.removeAttribute("data-medium-editor-editor-index"),a.getAttribute("medium-editor-textarea-id")&&u(a)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,i.call(this,this.options.contentWindow))},on:function(a,m,f,v){return this.events.attachDOMEvent(a,m,f,v),this},off:function(a,m,f,v){return this.events.detachDOMEvent(a,m,f,v),this},subscribe:function(a,m){return this.events.attachCustomEvent(a,m),this},unsubscribe:function(a,m){return this.events.detachCustomEvent(a,m),this},trigger:function(a,m,f){return this.events.triggerCustomEvent(a,m,f),this},delay:function(a){var m=this;return setTimeout(function(){m.isActive&&a()},this.options.delay)},serialize:function(){var a,m,f={},v=this.elements.length;for(a=0;a<v;a+=1)m=this.elements[a].id!==""?this.elements[a].id:"element-"+a,f[m]={value:this.elements[a].innerHTML.trim()};return f},getExtensionByName:function(a){var m;return this.extensions&&this.extensions.length&&this.extensions.some(function(f){return f.name===a?(m=f,!0):!1}),m},addBuiltInExtension:function(a,m){var f=this.getExtensionByName(a),v;if(f)return f;switch(a){case"anchor":v=r.util.extend({},this.options.anchor,m),f=new r.extensions.anchor(v);break;case"anchor-preview":f=new r.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":f=new r.extensions.autoLink;break;case"fileDragging":f=new r.extensions.fileDragging(m);break;case"fontname":f=new r.extensions.fontName(this.options.fontName);break;case"fontsize":f=new r.extensions.fontSize(m);break;case"keyboardCommands":f=new r.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":f=new r.extensions.paste(this.options.paste);break;case"placeholder":f=new r.extensions.placeholder(this.options.placeholder);break;default:r.extensions.button.isBuiltInButton(a)&&(m?(v=r.util.defaults({},m,r.extensions.button.prototype.defaults[a]),f=new r.extensions.button(v)):f=new r.extensions.button(a))}return f&&this.extensions.push(h(f,a,this)),f},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var a=this.getExtensionByName("toolbar");return a&&a.checkState(),this},queryCommandState:function(a){var m=/^full-(.+)$/gi,f,v=null;f=m.exec(a),f&&(a=f[1]);try{v=this.options.ownerDocument.queryCommandState(a)}catch{v=null}return v},execAction:function(a,m){var f=/^full-(.+)$/gi,v,T;return v=f.exec(a),v?(this.saveSelection(),this.selectAllContents(),T=D.call(this,v[1],m),this.restoreSelection()):T=D.call(this,a,m),(a==="insertunorderedlist"||a==="insertorderedlist")&&r.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),T},getSelectedParentElement:function(a){return a===void 0&&(a=this.options.contentWindow.getSelection().getRangeAt(0)),r.selection.getSelectedParentElement(a)},selectAllContents:function(){var a=r.selection.getSelectionElement(this.options.contentWindow);if(a){for(;a.children.length===1;)a=a.children[0];this.selectElement(a)}},selectElement:function(a){r.selection.selectNode(a,this.options.ownerDocument);var m=r.selection.getSelectionElement(this.options.contentWindow);m&&this.events.focusElement(m)},getFocusedElement:function(){var a;return this.elements.some(function(m){return!a&&m.getAttribute("data-medium-focused")&&(a=m),!!a},this),a},exportSelection:function(){var a=r.selection.getSelectionElement(this.options.contentWindow),m=this.elements.indexOf(a),f=null;return m>=0&&(f=r.selection.exportSelection(a,this.options.ownerDocument)),f!==null&&m!==0&&(f.editableElementIndex=m),f},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(a,m){if(a){var f=this.elements[a.editableElementIndex||0];r.selection.importSelection(a,f,this.options.ownerDocument,m)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(a){var m=r.selection.getSelectionElement(this.options.contentWindow),f={},v;if(this.elements.indexOf(m)!==-1){try{if(this.events.disableCustomEvent("editableInput"),a.url&&r.util.deprecated(".url option for createLink",".value","6.0.0"),v=a.url||a.value,v&&v.trim().length>0){var T=this.options.contentWindow.getSelection();if(T){var x=T.getRangeAt(0),F=x.commonAncestorContainer,L,I,H,K;if(x.endContainer.nodeType===3&&x.startContainer.nodeType!==3&&x.startOffset===0&&x.startContainer.firstChild===x.endContainer&&(F=x.endContainer),I=r.util.getClosestBlockContainer(x.startContainer),H=r.util.getClosestBlockContainer(x.endContainer),F.nodeType!==3&&F.textContent.length!==0&&I===H){var B=I||m,M=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),L=this.exportSelection(),M.appendChild(B.cloneNode(!0)),m===B?r.selection.select(this.options.ownerDocument,B.firstChild,0,B.lastChild,B.lastChild.nodeType===3?B.lastChild.nodeValue.length:B.lastChild.childNodes.length):r.selection.select(this.options.ownerDocument,B,0,B,B.childNodes.length);var j=this.exportSelection();K=r.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,M,{start:L.start-j.start,end:L.end-j.start,editableElementIndex:L.editableElementIndex}),K.length===0&&(M=this.options.ownerDocument.createDocumentFragment(),M.appendChild(F.cloneNode(!0)),K=[M.firstChild.firstChild,M.firstChild.lastChild]),r.util.createLink(this.options.ownerDocument,K,v.trim());var z=(M.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;r.util.insertHTMLCommand(this.options.ownerDocument,M.firstChild.innerHTML.replace(/^\s+/,"")),L.start-=z,L.end-=z,this.importSelection(L)}else this.options.ownerDocument.execCommand("createLink",!1,v);this.options.targetBlank||a.target==="_blank"?r.util.setTargetBlank(r.selection.getSelectionStart(this.options.ownerDocument),v):r.util.removeTargetBlank(r.selection.getSelectionStart(this.options.ownerDocument),v),a.buttonClass&&r.util.addClassToAnchors(r.selection.getSelectionStart(this.options.ownerDocument),a.buttonClass)}}if(this.options.targetBlank||a.target==="_blank"||a.buttonClass){f=this.options.ownerDocument.createEvent("HTMLEvents"),f.initEvent("input",!0,!0,this.options.contentWindow);for(var W=0,Q=this.elements.length;W<Q;W+=1)this.elements[W].dispatchEvent(f)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",f,m)}},cleanPaste:function(a){this.getExtensionByName("paste").cleanPaste(a)},pasteHTML:function(a,m){this.getExtensionByName("paste").pasteHTML(a,m)},setContent:function(a,m){if(m=m||0,this.elements[m]){var f=this.elements[m];f.innerHTML=a,this.checkContentChanged(f)}},getContent:function(a){return a=a||0,this.elements[a]?this.elements[a].innerHTML.trim():null},checkContentChanged:function(a){a=a||r.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(a,{target:a,currentTarget:a})},resetContent:function(a){if(a){var m=this.elements.indexOf(a);m!==-1&&this.setContent(O[a.getAttribute("medium-editor-index")],m);return}this.elements.forEach(function(f,v){this.setContent(O[f.getAttribute("medium-editor-index")],v)},this)},addElements:function(a){var m=o(a,this.options.ownerDocument,!0);if(m.length===0)return!1;m.forEach(function(f){f=q.call(this,f,this.id),this.elements.push(f),this.trigger("addElement",{target:f,currentTarget:f},f)},this)},removeElements:function(a){var m=o(a,this.options.ownerDocument),f=m.map(function(v){return v.getAttribute("medium-editor-textarea-id")&&v.parentNode?v.parentNode.querySelector('div[medium-editor-textarea-id="'+v.getAttribute("medium-editor-textarea-id")+'"]'):v});this.elements=this.elements.filter(function(v){return f.indexOf(v)!==-1?(this.events.cleanupElement(v),v.getAttribute("medium-editor-textarea-id")&&u(v),this.trigger("removeElement",{target:v,currentTarget:v},v),!1):!0},this)}},r.getEditorFromElement=function(a){var m=a.getAttribute("data-medium-editor-editor-index"),f=a&&a.ownerDocument&&(a.ownerDocument.defaultView||a.ownerDocument.parentWindow);return f&&f._mediumEditors&&f._mediumEditors[m]?f._mediumEditors[m]:null}})(),(function(){r.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}})(),r.parseVersionString=function(E){var n=E.split("-"),e=n[0].split("."),s=n.length>1?n[1]:"";return{major:parseInt(e[0],10),minor:parseInt(e[1],10),revision:parseInt(e[2],10),preRelease:s,toString:function(){return[e[0],e[1],e[2]].join(".")+(s?"-"+s:"")}}},r.version=r.parseVersionString.call(this,"5.23.3"),r})())})(_)),_.exports}var Y=X();const Z=G(Y);export{Z as M};
//# sourceMappingURL=medium-editor-DkrXt2qq.js.map
