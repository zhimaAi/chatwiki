import{_ as $,d as J}from"../../index-WMhSApoa.js";import{e as x,aw as L,f as _,w as W,o as X,av as Z,ac as c,az as B,as as n,k as a,F as M,ar as m,aA as ee,ad as r,G as u,u as te}from"./vue-chunks-CGLjTDrY.js";import{a as T,x as E}from"./index-CHNVlDjk.js";import{Q as ne,o as oe,H as ae,M as I,V as se,B as le,a9 as ie,b as N}from"./ui-antd-BDReVt-O.js";import"./neo4j-CK9lNpyi.js";import"./utils-DXEytJvC.js";import"./other-BrZCAsTs.js";const ce={key:0,class:"ability-banner"},re={class:"user-model-page"},ue={class:"breadcrumb-wrap"},me={key:0,class:"tabs-box"},pe={class:"list-wrapper"},de={class:"content-wrapper"},_e={class:"enable-tip-footer"},fe={class:"footer-actions"},D="ai_comment_management_batch_send_tip_until",ve={__name:"index",setup(be){const s=L(),l=Z(),y=x(()=>s.name==="exploreAiCommentManagementCreateCustomRule"),k=x(()=>s.name==="exploreAiCommentManagementCreateCustomRule"&&s.query.copy==="1"),h=x(()=>s.name==="exploreAiCommentManagementCreateCustomRule"&&s.query.id),O=[{label:"默认规则",value:"default-rule"},{label:"自定义规则",value:"custom-rule"},{label:"评论处理记录",value:"comment-processing-record"}],w=()=>s.name==="exploreAiCommentManagementCustomRule"?"custom-rule":s.name==="exploreAiCommentManagementCommentProcessingRecord"?"comment-processing-record":"default-rule",p=()=>{l.options.history.state.back?l.back():l.push({path:"/explore/index"})},V=()=>{const t=l.resolve({path:"/explore/index/article-group-send"});window.open(t.href,"_blank")},b=_(w()),f=_(!1),U=()=>{T({ability_type:"official_account_ai_comment"}).then(t=>{var i;const e=t.data,o=(i=e==null?void 0:e.user_config)==null?void 0:i.switch_status;f.value=String(o||"0")=="1"})},g=_(!0),z=()=>{T({ability_type:"official_account_batch_send"}).then(t=>{var o,i;const e=(i=(o=t==null?void 0:t.data)==null?void 0:o.user_config)==null?void 0:i.switch_status;g.value=String(e||"0")==="1",q()})},F=t=>{const e=t?"1":"0";if(e==="0"){I.confirm({title:"提示",content:"关闭后，该功能默认关闭不再支持使用，确认关闭？",onOk:()=>{E({ability_type:"official_account_ai_comment",switch_status:e}).then(o=>{o&&o.res==0&&(f.value=!1,N.success("操作成功"))})}});return}E({ability_type:"official_account_ai_comment",switch_status:e}).then(o=>{o&&o.res==0&&(f.value=!0,N.success("操作成功"))})};W(()=>s.name,()=>{b.value=w()});const j=t=>{const e={"default-rule":"/explore/index/ai-comment-management/default-rule","custom-rule":"/explore/index/ai-comment-management/custom-rule","comment-processing-record":"/explore/index/ai-comment-management/comment-processing-record"};l.replace(e[t])};X(()=>{s.name==="exploreAiCommentManagement"&&l.replace("/explore/index/ai-comment-management/default-rule"),U(),z()});const A=async()=>{S();const t=l.resolve({path:"/explore/index"});window.open(t.href,"_blank")},v=_(!1),C=_(!1),q=()=>{const t=Number(localStorage.getItem(D)||0),e=Date.now();!g.value&&t<=e&&(v.value=!0)},S=()=>{if(C.value){const t=Date.now()+2592e5;localStorage.setItem(D,String(t))}},G=()=>{S(),v.value=!1};return(t,e)=>{const o=J,i=ne,K=oe,H=ae,P=ee("router-view"),Q=se,R=le,Y=I;return r(),c(M,null,[g.value?B("",!0):(r(),c("div",ce,[a(o,{name:"tip-icon",style:{"font-size":"16px",color:"white"}}),e[3]||(e[3]=n("span",null,"文章群发功能暂未开启，您可到探索 > 功能 > 文章群发开启",-1)),n("a",{class:"go-enable",href:"javascript:void(0);",onClick:A},"去开启")])),n("div",re,[n("div",ue,[a(o,{name:"back",style:{"font-size":"20px"},onClick:p}),k.value?(r(),c("div",{key:0,class:"breadcrumb-title",onClick:p},"复制自定义规则")):h.value?(r(),c("div",{key:1,class:"breadcrumb-title",onClick:p},"编辑自定义规则")):y.value?(r(),c("div",{key:2,class:"breadcrumb-title",onClick:p},"新建自定义规则")):(r(),c(M,{key:3},[n("span",{class:"breadcrumb-title",onClick:p},"AI评论精选"),a(i,{checked:f.value,"checked-children":"开","un-checked-children":"关",onChange:F},null,8,["checked"]),e[4]||(e[4]=n("span",{class:"switch-tip"},"开启后，可设置规则对系统内发布的群发使用AI自动精选功能，自动删评，回复，精选评论。",-1))],64))]),a(K,{class:"alert-box","show-icon":"",style:{margin:"16px 48px 0"}},{message:m(()=>[n("div",null,[e[5]||(e[5]=u("仅支持通过当前系统群发的文章做Al评论管理，按照设置的规则自动删评 ",-1)),e[6]||(e[6]=n("br",null,null,-1)),e[7]||(e[7]=u(" 自动回复评论需开启文章群发功能并创建文章群发，",-1)),n("a",{onClick:V,href:"javascript:void(0);"},"去创建")])]),_:1}),!h.value&&!k.value&&!y.value?(r(),c("div",me,[a(H,{value:b.value,"onUpdate:value":e[0]||(e[0]=d=>b.value=d),options:O,onChange:j},null,8,["value"])])):B("",!0),n("div",pe,[n("div",de,[a(P)])])]),a(Y,{open:v.value,"onUpdate:open":e[2]||(e[2]=d=>v.value=d),footer:null},{title:m(()=>[n("span",null,[a(te(ie),{style:{color:"#faad14","margin-right":"8px"}}),e[8]||(e[8]=u("未开启文章群发",-1))])]),default:m(()=>[e[12]||(e[12]=n("div",null,[n("span",{style:{color:"red"}},"文章群发功能暂未开启"),u("，您可到探索 > 功能 > 文章群发开启")],-1)),n("div",_e,[a(Q,{checked:C.value,"onUpdate:checked":e[1]||(e[1]=d=>C.value=d)},{default:m(()=>[...e[9]||(e[9]=[u("3天内不在提示",-1)])]),_:1},8,["checked"]),n("div",fe,[a(R,{onClick:G},{default:m(()=>[...e[10]||(e[10]=[u("取消",-1)])]),_:1}),a(R,{type:"primary",onClick:A},{default:m(()=>[...e[11]||(e[11]=[u("去开启",-1)])]),_:1})])])]),_:1},8,["open"])],64)}}},Ae=$(ve,[["__scopeId","data-v-f750fb61"]]);export{Ae as default};
