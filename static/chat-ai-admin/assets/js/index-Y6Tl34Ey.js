import{b as S,e as b,d as O,B as M,k as r,aa as U,ab as A,M as I,E as B}from"../../index-CRscgXfx.js";import{S as R}from"./index-BJIaPIed.js";import{S as V}from"./SettingOutlined-w6g_aHaa.js";import"./index-CuQqX42V.js";import{I as z}from"./Input-tyEnRv5y.js";import{d as u,z as N,q as T,N as Z,X as e,j as t,U as f,O as E,u as F,Z as v}from"./vue-chunks-BRsu9_To.js";import{_ as Y}from"./index-Wd3Yy_4K.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./FormItemContext-DiOlYi_l.js";import"./index-BbckQ73x.js";import"./Search-Dt3FbMlF.js";import"./SearchOutlined-CoZBl7jN.js";import"./isPlainObject-DRl1_5Z2.js";import"./inputProps-QKn333yB.js";import"./TextArea-K98swN5P.js";import"./index-CxTVzuqL.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./Password-Bmz-BBqy.js";const q={class:"aliocr-main"},D={class:"aliocr-switch-box"},G={class:"aliocr-switch-nav-box"},j={class:"aliocr-switch-btn-box"},H={class:"aliocr-config-box"},J={class:"aliocr-config-nav"},L={class:"aliocr-config-form"},P={class:"aliocr-config-form-item"},X={class:"aliocr-config-form-item"},$={class:"aliocr-config-form-item"},K={__name:"index",setup(Q){const a=u(!1),i=N({ali_ocr_key:"",ali_ocr_secret:""}),c=u(!1),n=b(),p=async()=>{await n.getCompanyInfo()};function d(){if(!i.ali_ocr_key)return"请输入Accesskey ID";if(!i.ali_ocr_secret)return"请输入Accesskey Secret"}const k=s=>{s&&d()?(a.value=!a.value,I.confirm({title:"接入阿里云OCR配置",icon:t(B),content:"开启前请先接入阿里云OCR",okText:"知道了",cancelText:null,okCancel:!1,onOk(){},onCancel(){}})):_()},g=()=>{const s=d();if(s)return r.error(s);c.value=!0,U({...i}).then(o=>{r.success("测试通过")}).finally(()=>{c.value=!1})},_=()=>{const s=d();if(s)return r.error(s);c.value=!0,A({ali_ocr_switch:a.value?1:2,...i}).then(o=>{r.success("保存成功"),p()}).finally(()=>{c.value=!1})},y=s=>{window.open(s)};return T(async()=>{await p(),n.ali_ocr_key&&(i.ali_ocr_key=n.ali_ocr_key),n.ali_ocr_secret&&(i.ali_ocr_secret=n.ali_ocr_secret),n.ali_ocr_switch&&(a.value=n.ali_ocr_switch==1)}),(s,o)=>{const w=O,C=Y,m=z,h=M,x=R;return E(),Z("div",q,[o[12]||(o[12]=e("div",{class:"aliocr-title"},"阿里云OCR",-1)),e("div",D,[e("div",G,[t(w,{name:"ali-ocr",style:{"font-size":"24px",color:"#FF5915"}}),o[4]||(o[4]=e("div",{class:"aliocr-switch-nav-title"},"阿里云OCR",-1))]),o[5]||(o[5]=e("div",{class:"aliocr-info"},"开启后，Pdf文档解析支持阿里云OCR解析，结果更精准，高效",-1)),e("div",j,[t(C,{onChange:k,checked:a.value,"onUpdate:checked":o[0]||(o[0]=l=>a.value=l),"checked-children":"开","un-checked-children":"关",checkedValue:!0,unCheckedValue:!1},null,8,["checked"])])]),t(x,{tip:"加载中...",spinning:c.value},{default:f(()=>[e("div",H,[e("div",J,[t(F(V),{style:{"font-size":"16px"}}),o[6]||(o[6]=e("div",{class:"aliocr-config-nav-title"},"接入配置",-1)),o[7]||(o[7]=e("div",{class:"aliocr-config-nav-line"},null,-1)),e("div",{class:"alicor-config-nav-url",onClick:o[1]||(o[1]=l=>y("https://www.aliyun.com/product/ai/docmind?spm=5176.28536895.J_kUfM_yzYYqU72woCZLHoY.6.28bd586cZUeowZ"))},"如何接入?")]),e("div",L,[e("div",P,[o[8]||(o[8]=e("div",{class:"aliocr-config-form-label"},"Accesskey ID",-1)),t(m,{value:i.ali_ocr_key,"onUpdate:value":o[2]||(o[2]=l=>i.ali_ocr_key=l),placeholder:"请输入"},null,8,["value"])]),e("div",X,[o[9]||(o[9]=e("div",{class:"aliocr-config-form-label"},"Accesskey Secret",-1)),t(m,{value:i.ali_ocr_secret,"onUpdate:value":o[3]||(o[3]=l=>i.ali_ocr_secret=l),placeholder:"请输入"},null,8,["value"])]),e("div",$,[e("div",{class:"aliocr-config-form-label"},[o[10]||(o[10]=v("配置完成后，点击 ")),e("div",{class:"alicor-config-nav-url",onClick:g},"调用测试")]),t(h,{type:"primary",onClick:_},{default:f(()=>o[11]||(o[11]=[v("保存")])),_:1,__:[11]})])])])]),_:1},8,["spinning"])])}}},Co=S(K,[["__scopeId","data-v-d55226ed"]]);export{Co as default};
