import{am as F,r as c,f as o}from"./vue-chunks-CGLjTDrY.js";import{a1 as K,g as P,j as D,a2 as E}from"./index-BNO9ztvM.js";const v={accessRestrictionsType:1,logo:"",pageTitle:"",navbarShow:2,lang:"zh-CN",pageStyle:{navbarBackgroundColor:"#2475FC"},open_type:1,window_width:1200,window_height:650},Q={headTitle:"",headSubTitle:"Based on LLM, free and open-source.",headImage:"",lang:"zh-CN",pageStyle:{headBackgroundColor:"linear-gradient,to right,#2435E7,#01A0FB"},floatBtn:{displayType:1,buttonText:"å¿«æ¥èŠèŠå§~",buttonIcon:"",bottomMargin:32,rightMargin:32,showUnreadCount:1,showNewMessageTip:1},open_type:1,window_width:1200,window_height:650},Y=F("robot",()=>{const t=c({id:void 0,robot_key:"",fast_command_switch:"",yunpc_fast_command_switch:"",app_id:-1,app_id_embed:-2,robot_name:"",en_name:"",robot_intro:"",robot_avatar:void 0,robot_avatar_url:"",use_model:void 0,model_config_id:"",optimize_question_dialogue_background:"",optimize_question_model_config_id:"",optimize_question_use_model:"",rerank_status:0,rerank_use_model:void 0,rerank_model_config_id:void 0,temperature:0,max_token:0,context_pair:0,top_k:1,similarity:0,search_type:1,prompt:"",prompt_struct:{},prompt_struct_default:{},prompt_type:1,library_ids:"",form_ids:"",work_flow_ids:"",welcomes:{content:"",question:[]},h5_domain:"",h5_website:"",pc_domain:"",chat_type:"",library_qa_direct_reply_score:"",library_qa_direct_reply_switch:"",mixture_qa_direct_reply_score:"",mixture_qa_direct_reply_switch:"",unknown_question_prompt:{content:"",question:[]},wechat_ip:"",push_aeskey:"",push_token:"",push_wechat_kefu:"",show_type:1,enable_question_optimize:"false",enable_question_guide:"false",enable_common_question:"false",common_question_list:[],answer_source_switch:"false",feedback_switch:1,application_type:0,sensitive_words_switch:0,question_multiple_switch:0,question_guide_num:"",start_node_key:"",draft_save_type:"handle",draft_save_time:"",isLockedByOther:!1,loop_save_canvas_status:0,unknown_summary_status:1,unknown_summary_similarity:"",unknown_summary_use_model:"",unknown_summary_model_config_id:"",default_library_id:"",cache_config:{cache_switch:0,valid_time:86400},prompt_role_type:"0",enable_thinking:0,wechat_not_verify_hand_get_reply:`æ­£åœ¨æ€è€ƒä¸­ï¼Œè¯·ç¨åŽç‚¹å‡»ä¸‹æ–¹è“å­—\r
èŽ·å–å›žå¤ðŸ‘‡ðŸ‘‡ðŸ‘‡`,wechat_not_verify_hand_get_word:"ðŸ‘‰ðŸ‘‰ç‚¹æˆ‘èŽ·å–å›žå¤ðŸ‘ˆðŸ‘ˆ",wechat_not_verify_hand_get_next:"å†…å®¹è¾ƒå¤šï¼Œç‚¹æ­¤æŸ¥çœ‹ä¸‹æ–‡",rrf_weight:{vector:0,search:0,graph:0},tips_before_answer_content:"æ€è€ƒä¸­ã€è¯·ç¨ç­‰",tips_before_answer_switch:"true",show_ai_msg_gzh:0,show_typing_gzh:0,show_ai_msg_mini:0,show_typing_mini:0,meta_search_switch:0,meta_search_type:1,meta_search_condition_list:""}),s=c(JSON.parse(JSON.stringify(v))),r=c(JSON.parse(JSON.stringify(Q))),N=e=>{let _=JSON.parse(e.welcomes);_.question=_.question.map(n=>({content:n}));let i={content:"",question:[]};e.unknown_question_prompt&&(i=JSON.parse(e.unknown_question_prompt)),i.question=i.question.map(n=>({content:n}));let S={};e.prompt_struct&&(S=JSON.parse(e.prompt_struct));let q={};if(e.prompt_struct_default&&(q=JSON.parse(e.prompt_struct_default)),t.id=e.id,t.robot_key=e.robot_key,t.fast_command_switch=e.fast_command_switch,t.yunpc_fast_command_switch=e.yunpc_fast_command_switch,t.robot_name=e.robot_name,t.en_name=e.en_name,t.robot_intro=e.robot_intro,t.robot_avatar_url=e.robot_avatar,t.use_model=e.use_model,t.model_config_id=e.model_config_id,t.optimize_question_dialogue_background=e.optimize_question_dialogue_background,t.optimize_question_model_config_id=e.optimize_question_model_config_id,t.optimize_question_use_model=e.optimize_question_use_model,t.rerank_status=Number(e.rerank_status),t.rerank_use_model=e.rerank_use_model,t.rerank_model_config_id=e.rerank_model_config_id,t.prompt=e.prompt,t.prompt_struct=S,t.prompt_struct_default=q,t.prompt_type=+e.prompt_type,t.library_ids=e.library_ids||"",t.form_ids=e.form_ids||"",t.work_flow_ids=e.work_flow_ids||"",t.welcomes=_,t.unknown_question_prompt=i,t.show_type=Number(e.show_type),t.temperature=Number(e.temperature),t.max_token=Number(e.max_token),t.context_pair=Number(e.context_pair),t.top_k=Number(e.top_k),t.similarity=Number(e.similarity),t.search_type=Number(e.search_type),t.think_switch=Number(e.think_switch),t.wechat_ip=e.wechat_ip,t.push_token=e.push_token,t.push_aeskey=e.push_aeskey,t.push_wechat_kefu=e.push_wechat_kefu,t.pc_domain=e.pc_domain,t.chat_type=e.chat_type,t.library_qa_direct_reply_score=e.library_qa_direct_reply_score,t.library_qa_direct_reply_switch=e.library_qa_direct_reply_switch,t.mixture_qa_direct_reply_score=e.mixture_qa_direct_reply_score,t.mixture_qa_direct_reply_switch=e.mixture_qa_direct_reply_switch,t.h5_domain=e.h5_domain,t.h5_website=e.h5_domain+"/#/chat?robot_key="+e.robot_key,t.enable_question_optimize=e.enable_question_optimize,t.enable_question_guide=e.enable_question_guide,t.enable_common_question=e.enable_common_question,t.common_question_list=e.common_question_list,t.answer_source_switch=e.answer_source_switch,t.feedback_switch=+e.feedback_switch,t.application_type=e.application_type,t.sensitive_words_switch=+e.sensitive_words_switch,t.question_guide_num=+e.question_guide_num,t.question_multiple_switch=+e.question_multiple_switch,t.enable_thinking=+e.enable_thinking||0,t.start_node_key=e.start_node_key,t.draft_save_type=e.draft_save_type,t.draft_save_time=e.draft_save_time,t.default_library_id=e.default_library_id,t.unknown_summary_status=e.unknown_summary_status,t.unknown_summary_similarity=e.unknown_summary_similarity,t.unknown_summary_use_model=e.unknown_summary_use_model,t.unknown_summary_model_config_id=e.unknown_summary_model_config_id,t.wechat_not_verify_hand_get_reply=e.wechat_not_verify_hand_get_reply,t.wechat_not_verify_hand_get_word=e.wechat_not_verify_hand_get_word,t.wechat_not_verify_hand_get_next=e.wechat_not_verify_hand_get_next,t.rrf_weight=e.rrf_weight,t.show_ai_msg_gzh=e.show_ai_msg_gzh,t.show_typing_gzh=e.show_typing_gzh,t.show_ai_msg_mini=e.show_ai_msg_mini,t.show_typing_mini=e.show_typing_mini,t.tips_before_answer_content=e.tips_before_answer_content,t.tips_before_answer_switch=e.tips_before_answer_switch,t.meta_search_switch=e.meta_search_switch,t.meta_search_type=e.meta_search_type,t.meta_search_condition_list=e.meta_search_condition_list,e.cache_config){let n={};try{n=typeof e.cache_config=="string"?JSON.parse(e.cache_config):e.cache_config}catch{n={}}t.cache_config={...n}}t.prompt_role_type=e.prompt_role_type||"0",e.external_config_h5!==""?Object.assign(s,JSON.parse(e.external_config_h5)):(Object.assign(s,JSON.parse(JSON.stringify(v))),s.pageTitle=t.robot_name,s.logo=t.robot_avatar_url),e.external_config_pc!==""?Object.assign(r,JSON.parse(e.external_config_pc)):(r.headTitle=t.robot_name,r.headImage=t.robot_avatar_url)},x=async e=>{const _=await K({id:e});if(_.code!==0)return!1;_.data.library_ids&&(_.data.library_ids=_.data.library_ids.split(",").filter(Boolean).join(","));let i=_.data;return N(i),_},a=o([]),R=async e=>{a.value=e||[]},z=e=>{t.draft_save_type=e.draft_save_type,t.draft_save_time=e.draft_save_time},O=e=>{t.isLockedByOther=e},u=o([]),J=e=>{u.value=e},p=o([]),L=()=>{P().then(e=>{p.value=e.data||[]})},m=o([]),C=()=>{D().then(e=>{m.value=e.data||[]})},l=o("0"),T=e=>{l.value=String(e??"0")},h=o("0"),A=e=>{h.value=String(e??"0")},y=o("0"),B=e=>{y.value=String(e??"0")},w=o("0"),M=e=>{w.value=String(e??"0")},f=o("0"),I=e=>{f.value=String(e??"0")},g=o("0"),j=e=>{g.value=String(e??"0")},b=o("0"),V=e=>{b.value=String(e??"0")},d=o("0"),G=e=>{d.value=String(e??"0")},k=o([]);return{robotInfo:t,getRobot:x,external_config_h5:s,external_config_pc:r,quickCommandLists:a,setQuickCommand:R,setDrafSaveTime:z,modelList:u,setModelList:J,robotList:p,getRobotLists:L,robotGroupList:m,getGroupList:C,keywordReplySwitchStatus:l,setKeywordReplySwitchStatus:T,keywordReplyAiReplyStatus:h,setKeywordReplyAiReplyStatus:A,setIsLockedByOther:O,subscribeReplySwitchStatus:y,setSubscribeReplySwitchStatus:B,subscribeReplyAiReplyStatus:w,setSubscribeReplyAiReplyStatus:M,smartMenuSwitchStatus:f,setSmartMenuSwitchStatus:I,smartMenuAiReplyStatus:g,setSmartMenuAiReplyStatus:j,paymentSwitchStatus:b,setPaymentSwitchStatus:V,paymentAiReplyStatus:d,setPaymentAiReplyStatus:G,fetchChatVariables:()=>{E({robot_key:t.robot_key}).then(e=>{k.value=(e.data||[]).map(_=>{let i=_.options?JSON.parse(_.options):[];return{..._,options:i}})})},chatVariables:k}});export{Y as u};
