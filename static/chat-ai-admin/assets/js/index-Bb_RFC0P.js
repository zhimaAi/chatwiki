import{_ as E,b as D,a as T,M as B,N as U}from"../../index-C1Xsov4S.js";import{d as A}from"./vuedraggable.umd-B9hsMa4o.js";import{ak as M,ae as $,p as O,J as F,a as V,N as J,E as L,M as P,F as H,b as Q,I as R}from"./ui-antd-D64OvTpt.js";import{f as G,e as N,w as Y,Y as m,_ as r,a5 as t,a1 as j,ae as q,k as a,a7 as l,u as e,a2 as c,G as C,r as z}from"./vue-chunks-DCKTEHpB.js";import"./utils-D9NMMoMR.js";const K="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2016%2016'%3e%3cpath%20fill='currentColor'%20d='M5%204.667A1.333%201.333%200%201%200%205%202a1.333%201.333%200%200%200%200%202.667ZM6.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM6.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM11%204.667A1.333%201.333%200%201%200%2011%202a1.333%201.333%200%200%200%200%202.667ZM12.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM12.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200Z'%20data-follow-fill='%23000'/%3e%3c/svg%3e",W={class:"content-box"},X={class:"custom-table"},ee={class:"t-head"},te={class:"td"},ae={style:{"padding-left":"22px"}},ne={class:"td"},se={class:"t-body"},oe={class:"t-item"},ie={key:0},le={key:1},ce={class:"t-item flex-center"},de={__name:"nav-setting",emits:["handleGetCompany"],setup(Z,{emit:i}){const{t:s}=D("views.user.enterprise"),f=T(),v=M.PRESENTED_IMAGE_SIMPLE,k=i,d=G([]),u=N(()=>f.top_navigate);let p=f.topNavigateDefaultData;Y(()=>u.value,h=>{let n=h||[];d.value=n.map(_=>({...p.find(g=>g.id==_.id),..._}))},{deep:!0,immediate:!0});const b=()=>{y()},y=()=>{B({id:f.id,top_navigate:JSON.stringify(d.value)}).then(h=>{V.success(s("saveSuccess")),k("handleGetCompany")})};return(h,n)=>{const _=O,x=F,g=M;return r(),m("div",W,[t("div",X,[t("div",ee,[t("div",te,[t("span",ae,l(e(s)("sort")),1),a(_,{title:e(s)("sortTip")},{default:c(()=>[a(e($),{style:{"margin-left":"4px"}})]),_:1},8,["title"])]),t("div",ne,[C(l(e(s)("showInTop"))+" ",1),a(_,{title:e(s)("showInTopTip")},{default:c(()=>[a(e($),{style:{"margin-left":"4px"}})]),_:1},8,["title"])])]),t("div",se,[a(e(A),{modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=o=>d.value=o),"item-key":"id",onEnd:b,group:"table-rows",handle:".drag-btn"},{item:c(({element:o,index:I})=>[(r(),m("div",{key:o.id,class:"t-row"},[t("div",oe,[n[1]||(n[1]=t("span",{class:"drag-btn"},[t("img",{src:K,alt:""})],-1)),o.name.length>30?(r(),m("span",ie,[a(_,null,{title:c(()=>[C(l(o.name),1)]),default:c(()=>[C(" "+l(o.name.slice(0,30)+"..."),1)]),_:2},1024)])):(r(),m("span",le,l(o.name),1))]),t("div",ce,[a(x,{disabled:o.isDisabled,onChange:y,checked:o.open,"onUpdate:checked":w=>o.open=w,"checked-children":e(s)("on"),"un-checked-children":e(s)("off")},null,8,["disabled","checked","onUpdate:checked","checked-children","un-checked-children"])])]))]),_:1},8,["modelValue"])])]),d.value.length==0?(r(),j(g,{key:0,style:{margin:"108px 0 24px 0"},image:e(v)},null,8,["image"])):q("",!0)])}}},_e=E(de,[["__scopeId","data-v-60a45bdf"]]),pe={class:"enterprise-set"},re={class:"page-title"},me={class:"enterprise-box"},ue={class:"content-label"},ve={class:"content-name"},he={key:0},ge={key:1,class:"gray-text"},fe={class:"enterprise-box"},ye={class:"content-label",style:{"line-height":"32px"}},xe={__name:"index",setup(Z){const{t:i}=D("views.user.enterprise"),s=T(),{companyInfo:f}=s,v=N(()=>s.name),k=N(()=>s.id),d=()=>{s.getCompanyInfo()};d();const u=G(!1),p=z({name:"",id:""}),b=()=>{p.name=v.value,p.id=k.value,u.value=!0},y=()=>{U({...p}).then(h=>{V.success(i("common.saveSuccess")),d();let n=document.title.split("Chatwiki");document.title=n[0]+"Chatwiki "+p.name,u.value=!1})};return(h,n)=>{const _=J,x=L,g=R,o=Q,I=H,w=P;return r(),m("div",pe,[t("div",re,l(e(i)("enterpriseSettings")),1),t("div",me,[a(_,{align:"center"},{default:c(()=>[t("div",ue,l(e(i)("systemName"))+"：",1),t("div",ve,[v.value?(r(),m("span",he,l(v.value),1)):(r(),m("span",ge,l(e(i)("notSetTip")),1))]),t("a",{class:"edit-btn",onClick:b},l(e(i)("change")),1)]),_:1})]),a(x),t("div",fe,[a(_,null,{default:c(()=>[t("div",ye,l(e(i)("topNavigationSettings"))+"：",1),a(_e,{onHandleGetCompany:d})]),_:1})]),a(w,{open:u.value,"onUpdate:open":n[1]||(n[1]=S=>u.value=S),title:e(i)("SetSystemName"),onOk:y},{default:c(()=>[a(I,{class:"form-box"},{default:c(()=>[a(o,{label:e(i)("systemName")},{default:c(()=>[a(g,{maxlength:15,value:p.name,"onUpdate:value":n[0]||(n[0]=S=>p.name=S),placeholder:e(i)("enterName")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1},8,["open","title"])])}}},Ne=E(xe,[["__scopeId","data-v-01bfbce6"]]);export{Ne as default};
