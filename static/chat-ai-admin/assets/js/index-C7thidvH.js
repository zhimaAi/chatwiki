import{a3 as q,b as h,k as n,N as k,O as m,j as _,U as g,F as R,a1 as S,S as w,Z as T,_ as F,u as K,a7 as y,e as L,X as I,a6 as N,a8 as B,a2 as P}from"./vue-chunks-BRsu9_To.js";import{u as v}from"./robot-DM4IWDeQ.js";import{b as M,d as i,aF as $}from"../../index-M_xDbIir.js";import{_ as V,M as j}from"./index-B3CPYV6x.js";import{T as H}from"./top-header-BlaCgIm0.js";import"./index-mwk_dyAT.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./shallowequal-C0xnIuy8.js";import"./Trigger-CkoSoTBd.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-Brd6xpAT.js";import"./slide-DzpBPoRp.js";import"./index-CMIXnI2Z.js";import"./index-B0RyY99D.js";import"./colors-C56HAaAp.js";import"./add-group-BpSh4rtW.js";import"./index-Bm5IPe57.js";import"./index-V0sRhm34.js";import"./isPlainObject-A-SljaBF.js";import"./Col-CFWsj1wI.js";import"./responsiveObserve-CRSSr9-w.js";import"./hasIn-DEwqUvIo.js";import"./QuestionCircleOutlined-B5SgdGK5.js";import"./FormItemContext-DRzYyKbC.js";import"./PlusOutlined-DQ91YM1E.js";import"./index-BSroSjtu.js";import"./Password-5njtOUlo.js";import"./Input-Bx6Hhp2b.js";import"./index-Btmz2D3B.js";import"./inputProps-DsSGhBt6.js";import"./DownloadOutlined-Cn7Sl8HY.js";import"./index-CsySi7_q.js";import"./CheckOutlined-DVulUWsT.js";import"./useRefs-CRRjy_qY.js";import"./useMergedState-C0iIHNGF.js";import"./index-UA7y0weg.js";import"./Search-w33R1D1l.js";import"./SearchOutlined-KUcJKUZw.js";import"./TextArea-C57yjED6.js";import"./index-khLftDou.js";import"./List-DKTpjnke.js";import"./DownOutlined-CI2wWtcJ.js";import"./move-DD64vPeJ.js";import"./index-D7wU2qJF.js";import"./dropdown-DCrM-GKY.js";import"./Dropdown-Dh4cjnmT.js";import"./RightOutlined-og3IpneX.js";import"./LeftOutlined-DbHJ8blF.js";import"./EditOutlined-Cg8Bo7WJ.js";import"./index-RSdO8Qbf.js";const z={class:"left-menu-box"},A={__name:"left-menu",props:{robotInfo:{type:Object,default:()=>{}}},emits:["changeMenu"],setup(t,{emit:f}){const e=q(),r=t,c=e.query,o=h(()=>[e.path.split("/")[3]]),p=[{key:"workflow",id:"workflow",icon:()=>n(i,{name:"workflow",class:"menu-icon"}),label:"工作流编排",title:"工作流编排",path:"/robot/config/workflow",menuIn:["1"]},{key:"basic-config",id:"basic-config",icon:()=>n(i,{name:"jichupeizhi",class:"menu-icon"}),label:"基础配置",title:"基础配置",path:"/robot/config/basic-config",menuIn:["0"]},{key:"library-config",id:"library-config",icon:()=>n(i,{name:"guanlianzhishiku",class:"menu-icon"}),label:"知识库",title:"知识库",path:"/robot/config/library-config",menuIn:["0"]},{key:"skill-config",id:"skill-config",icon:()=>n(i,{name:"skii",class:"menu-icon"}),label:"工作流",title:"工作流",path:"/robot/config/skill-config",menuIn:["0"]},{key:"external-services",id:"external-services",icon:()=>n(i,{name:"duiwaifuwu",class:"menu-icon"}),label:"对外服务",title:"对外服务",path:"/robot/config/external-services",menuIn:["0","1"]},{key:"test",id:"test",icon:()=>n(i,{name:"liaotianceshi",class:"menu-icon"}),label:"聊天测试",title:"聊天测试",path:"/robot/test",query:{robot_key:r.robotInfo.robot_key,id:r.robotInfo.id},target:"_blank",menuIn:["0","1"]},{key:"qa-feedbacks",id:"qa-feedbacks",icon:()=>n(i,{name:"qa-feedback",class:"menu-icon"}),label:"问答反馈",title:"问答反馈",path:"/robot/config/qa-feedbacks",menuIn:["0","1"]},{key:"session-record",id:"session-record",icon:()=>n(i,{name:"session-record",class:"menu-icon"}),label:"会话记录",title:"会话记录",path:"/robot/config/session-record",query:{robot_key:r.robotInfo.robot_key,id:r.robotInfo.id},menuIn:["0","1"]},{key:"api-key-manage",id:"api-key-manage",icon:()=>n(i,{name:"duiwaifuwu",class:"menu-icon"}),label:"API Key管理",title:"API Key管理",path:"/robot/config/api-key-manage",menuIn:["0","1"]},{key:"unknown_issue",id:"unknown_issue",icon:()=>n(i,{name:"unknown-issue",class:"menu-icon"}),label:"未知问题",title:"未知问题",path:"/robot/config/unknown_issue",menuIn:["0","1"]},{key:"statistical_analysis",id:"statistical_analysis",icon:()=>n(i,{name:"statistical-analysis",class:"menu-icon"}),label:"统计分析",title:"统计分析",path:"/robot/config/statistical_analysis",menuIn:["0","1"]},{key:"export-record",id:"export-record",icon:()=>n(i,{name:"export-record",class:"menu-icon"}),label:"导出记录",title:"导出记录",path:"/robot/config/export-record",menuIn:["0","1"]}],u=h(()=>{let s=p;return $(c.id)==1?s.filter(d=>d.id=="external-services"):s.filter(d=>{var b;return d.menuIn.includes((b=r.robotInfo)==null?void 0:b.application_type)})}),l=({item:s})=>{o.value.includes(s.id)};return(s,d)=>{const b=V,C=y("router-link"),x=j;return m(),k("div",z,[_(x,{class:"left-menu",selectedKeys:o.value,onClick:l},{default:g(()=>[(m(!0),k(R,null,S(u.value,a=>(m(),w(C,{class:"default-color",tag:"a",target:a.target||"_self",to:{path:a.path,query:a.query||K(c)},key:a.key},{default:g(()=>[(m(),w(b,{icon:a.icon,path:a.path,key:a.key},{default:g(()=>[T(F(a.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["target","to"]))),128))]),_:1},8,["selectedKeys"])])}}},E=M(A,[["__scopeId","data-v-a10db7ac"]]),O=L({name:"robotPage",components:{leftMenu:E,TopHeader:H},async beforeRouteEnter(t,f,e){const r=v(),{getRobot:c,robotInfo:o,getRobotLists:p,getGroupList:u}=r;await c(t.query.id),p(),u();let l=$(t.query.id);if(l==0){e("/no-permission");return}if(l==1){window.location.href=`${o.h5_domain}/#/chat/pc?robot_key=${o.robot_key}`,e("/robot/list");return}let s=["basicConfig","libraryConfig","skillConfig"];if(o.application_type==1&&s.includes(t.name)){e(`/robot/config/workflow?id=${o.id}&robot_key=${o.robot_key}`);return}if(o.application_type==0&&t.name=="robotWorkflow"){e(`/robot/config/basic-config?id=${o.id}&robot_key=${o.robot_key}`);return}e()},setup(){const t=P(),f=v(),{robotInfo:e}=B(f),r=h(()=>q().name!="robotWorkflow");return{robotInfo:e,changeMenu:o=>{t.push({path:o.path,query:{robot_key:e.value.robot_key,id:e.value.id}})},isShowLeft:r}}}),W={class:"robot-main-container"},D={class:"robot-page-layout"},G={key:0,class:"layout-left"},U={class:"layout-body"};function X(t,f,e,r,c,o){const p=y("TopHeader"),u=y("leftMenu"),l=y("router-view");return m(),k("div",W,[I("div",D,[t.isShowLeft?(m(),k("div",G,[_(p),_(u,{onChangeMenu:t.changeMenu,robotInfo:t.robotInfo},null,8,["onChangeMenu","robotInfo"])])):N("",!0),I("div",U,[_(l)])])])}const Zo=M(O,[["render",X],["__scopeId","data-v-f64f13e3"]]);export{Zo as default};
