import{b,e as O,d as S,N as M,O as U}from"../../index-BLRnoXQj.js";import{X as A,ah as I,ai as B,I as R,B as V,a as r,M as N,H as T}from"./ui-antd-BKz8sshA.js";import{f as v,r as Y,o as z,Y as F,a5 as e,k as n,a2 as p,_ as G,u as Z,G as m}from"./vue-chunks-Ci-XTWEs.js";import"./utils-ChQO-_r6.js";const D={class:"aliocr-main"},E={class:"aliocr-switch-box"},H={class:"aliocr-switch-nav-box"},q={class:"aliocr-switch-btn-box"},J={class:"aliocr-config-box"},L={class:"aliocr-config-nav"},P={class:"aliocr-config-form"},X={class:"aliocr-config-form-item"},$={class:"aliocr-config-form-item"},j={class:"aliocr-config-form-item"},K={__name:"index",setup(Q){const t=v(!1),s=Y({ali_ocr_key:"",ali_ocr_secret:""}),c=v(!1),a=O(),u=async()=>{await a.getCompanyInfo()};function d(){if(!s.ali_ocr_key)return"请输入Accesskey ID";if(!s.ali_ocr_secret)return"请输入Accesskey Secret"}const k=i=>{i&&d()?(t.value=!t.value,N.confirm({title:"接入阿里云OCR配置",icon:n(T),content:"开启前请先接入阿里云OCR",okText:"知道了",cancelText:null,okCancel:!1,onOk(){},onCancel(){}})):_()},g=()=>{const i=d();if(i)return r.error(i);c.value=!0,M({...s}).then(o=>{r.success("测试通过")}).finally(()=>{c.value=!1})},_=()=>{const i=d();if(i)return r.error(i);c.value=!0,U({ali_ocr_switch:t.value?1:2,...s}).then(o=>{r.success("保存成功"),u()}).finally(()=>{c.value=!1})},y=i=>{window.open(i)};return z(async()=>{await u(),a.ali_ocr_key&&(s.ali_ocr_key=a.ali_ocr_key),a.ali_ocr_secret&&(s.ali_ocr_secret=a.ali_ocr_secret),a.ali_ocr_switch&&(t.value=a.ali_ocr_switch==1)}),(i,o)=>{const w=S,C=A,f=R,h=V,x=I;return G(),F("div",D,[o[12]||(o[12]=e("div",{class:"aliocr-title"},"阿里云OCR",-1)),e("div",E,[e("div",H,[n(w,{name:"ali-ocr",style:{"font-size":"24px",color:"#FF5915"}}),o[4]||(o[4]=e("div",{class:"aliocr-switch-nav-title"},"阿里云OCR",-1))]),o[5]||(o[5]=e("div",{class:"aliocr-info"},"开启后，Pdf文档解析支持阿里云OCR解析，结果更精准，高效",-1)),e("div",q,[n(C,{onChange:k,checked:t.value,"onUpdate:checked":o[0]||(o[0]=l=>t.value=l),"checked-children":"开","un-checked-children":"关",checkedValue:!0,unCheckedValue:!1},null,8,["checked"])])]),n(x,{tip:"加载中...",spinning:c.value},{default:p(()=>[e("div",J,[e("div",L,[n(Z(B),{style:{"font-size":"16px"}}),o[6]||(o[6]=e("div",{class:"aliocr-config-nav-title"},"接入配置",-1)),o[7]||(o[7]=e("div",{class:"aliocr-config-nav-line"},null,-1)),e("div",{class:"alicor-config-nav-url",onClick:o[1]||(o[1]=l=>y("https://www.aliyun.com/product/ai/docmind?spm=5176.28536895.J_kUfM_yzYYqU72woCZLHoY.6.28bd586cZUeowZ"))},"如何接入?")]),e("div",P,[e("div",X,[o[8]||(o[8]=e("div",{class:"aliocr-config-form-label"},"Accesskey ID",-1)),n(f,{value:s.ali_ocr_key,"onUpdate:value":o[2]||(o[2]=l=>s.ali_ocr_key=l),placeholder:"请输入"},null,8,["value"])]),e("div",$,[o[9]||(o[9]=e("div",{class:"aliocr-config-form-label"},"Accesskey Secret",-1)),n(f,{value:s.ali_ocr_secret,"onUpdate:value":o[3]||(o[3]=l=>s.ali_ocr_secret=l),placeholder:"请输入"},null,8,["value"])]),e("div",j,[e("div",{class:"aliocr-config-form-label"},[o[10]||(o[10]=m("配置完成后，点击 ")),e("div",{class:"alicor-config-nav-url",onClick:g},"调用测试")]),n(h,{type:"primary",onClick:_},{default:p(()=>o[11]||(o[11]=[m("保存")])),_:1,__:[11]})])])])]),_:1},8,["spinning"])])}}},io=b(K,[["__scopeId","data-v-d55226ed"]]);export{io as default};
