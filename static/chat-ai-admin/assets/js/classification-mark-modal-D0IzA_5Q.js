import{a as K,S as C,c as L}from"./edit-subsection-CYWKZwTV.js";import{b as N,M,dm as V,dJ as F,k as T}from"../../index-Bo1NSLpy.js";import{_ as $,T as z}from"./index-DkO_ejiW.js";import{d as h,N as u,O as o,j as a,U as s,S as f,a6 as x,Z as g,X as p,u as d,F as A,a1 as D,Y as I,_ as S}from"./vue-chunks-BRsu9_To.js";import"./index-Caod9rOO.js";import{I as J}from"./Input-CCKFAS4o.js";import{a as j,_ as E}from"./index-Ct9MFKxB.js";const X={class:"star-select-box"},Y={class:"star-item"},Z={class:"star-item"},q={key:0},G={__name:"selct-star-box",props:{startLists:{type:Array,default:()=>[]},hideId:{type:[Number,String,Array],default:()=>[]}},emits:["change"],setup(m,{emit:v}){const y=v,n=m,r=h(-1),c=()=>{y("change",r.value)};return(b,e)=>{const _=$,l=z;return o(),u("div",X,[a(l,{activeKey:r.value,"onUpdate:activeKey":e[0]||(e[0]=t=>r.value=t),size:"small",onChange:c},{default:s(()=>[(o(),f(_,{key:-1},{tab:s(()=>e[1]||(e[1]=[g("全部")])),_:1})),m.hideId.includes(0)?x("",!0):(o(),f(_,{key:0},{tab:s(()=>[p("div",Y,[a(d(K)),e[2]||(e[2]=g("未精选"))])]),_:1})),(o(!0),u(A,null,D(n.startLists,t=>(o(),f(_,{key:t.id},{tab:s(()=>[p("div",Z,[a(d(C),{style:I({color:d(L)[t.type]})},null,8,["style"]),g(" "+S(t.name||"-")+" ",1),t.data_count>0?(o(),u("span",q,"("+S(t.data_count)+")",1)):x("",!0)])]),_:2},1024))),128))]),_:1},8,["activeKey"])])}}},nt=N(G,[["__scopeId","data-v-5867ce9a"]]),H={class:"modal-box"},P={class:"list-box"},Q={__name:"classification-mark-modal",emits:["ok"],setup(m,{expose:v,emit:y}){const n=h(!1),r=y,c=h([]),b=()=>{e(),n.value=!0},e=()=>{V().then(l=>{c.value=l.data})},_=()=>{let l=c.value.map(t=>({id:+t.id,name:t.name}));F({data:JSON.stringify(l)}).then(t=>{T.success("保存成功"),r("ok"),n.value=!1})};return v({show:b}),(l,t)=>{const k=E,w=J,B=j,O=M;return o(),u("div",null,[a(O,{open:n.value,"onUpdate:open":t[0]||(t[0]=i=>n.value=i),title:"精选设置",onOk:_,width:586},{default:s(()=>[p("div",H,[p("div",P,[a(B,{"data-source":c.value,pagination:!1},{default:s(()=>[a(k,{key:"tags",title:"图标","data-index":"tags",width:200},{default:s(({record:i})=>[a(d(C),{class:"start-icon",style:I({color:d(L)[i.type]})},null,8,["style"])]),_:1}),a(k,{key:"name",title:"备注","data-index":"name",width:200},{default:s(({record:i})=>[a(w,{value:i.name,"onUpdate:value":U=>i.name=U,maxLength:4,placeholder:"请设置,最多4个字"},null,8,["value","onUpdate:value"])]),_:1})]),_:1},8,["data-source"])])])]),_:1},8,["open"])])}}},lt=N(Q,[["__scopeId","data-v-7bfe71a9"]]);export{lt as C,nt as S};
