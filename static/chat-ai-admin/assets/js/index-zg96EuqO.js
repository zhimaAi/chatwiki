import{g as D,v as E}from"./index-Cg7-0swo.js";import{ah as I,aj as N,r as v,E as O,c as V,Q as j,a as u,p as e,y as l,v as a,u as s,t as r,G as q,b as p,_ as d,a1 as T}from"./vue-chunks-BdaA73Wf.js";import{R as $}from"./robot-select-alert-C-TcP7vJ.js";import{u as F}from"./robot-CIzNpArp.js";import{u as G}from"../../index-DSFcP5NQ.js";import{_ as P}from"./emoji-mart-BBMRoEa3.js";import{m as Q,a1 as W,B as z,x as H,w as J,b as K}from"./ui-antd-Dl1wwwCD.js";import"./editor-cherry-CFIsbKoN.js";import"./empty-CzGZrENG.js";import"./neo4j-MWxXN7EM.js";import"./lodash-Bm5sK6rN.js";import"./elkjs-BN8GIjVH.js";import"./utils-CvB22N-W.js";import"./other-LrIFyvU9.js";const M={class:"user-model-page"},U={class:"page-title"},X={class:"list-wrapper"},Y={class:"content-wrapper"},Z={class:"actions-box"},tt={class:"avatar-box"},ot=["src"],et={key:0,class:"status-block"},st={key:1,class:"status-block success"},at=["onClick"],nt={__name:"index",setup(lt){const{t}=G("views.robot.robot-config.skill-config.index"),f=I().query,m=F(),{robotInfo:h}=N(m),{getRobot:y}=m,w=v([]),i=O({work_flow_ids:[]}),k=v(null),g=V(()=>w.value.filter(o=>i.work_flow_ids.includes(o.id))),x=o=>{let _=i.work_flow_ids.indexOf(o.id);i.work_flow_ids.splice(_,1),b()},R=o=>{i.work_flow_ids=[...o],b()},S=()=>{k.value.open([...i.work_flow_ids])},b=()=>{let o={...T(i)};o.work_flow_ids=o.work_flow_ids.join(","),E({id:f.id,...o}).then(_=>{K.success(t("msg_save_success")),y(f.id)})};function C(){D().then(o=>{w.value=o.data||[]})}return C(),j(()=>{i.work_flow_ids=h.value.work_flow_ids.split(",")}),(o,_)=>{const L=Q,B=z,c=J,A=H;return p(),u("div",M,[e("div",U,a(s(t)("title_workflow")),1),e("div",X,[e("div",Y,[l(L,{"show-icon":"",style:{"align-items":"baseline"}},{message:r(()=>[e("div",null,a(s(t)("msg_workflow_tip_1")),1),e("div",null,a(s(t)("msg_workflow_tip_2")),1)]),_:1}),e("div",Z,[l(B,{type:"primary",icon:q(s(W)),onClick:S},{default:r(()=>[d(a(s(t)("btn_add_skill")),1)]),_:1},8,["icon"])]),l(A,{"data-source":g.value},{default:r(()=>[l(c,{key:"robot_name",title:s(t)("col_workflow")},{default:r(({record:n})=>[e("div",tt,[e("img",{src:n.robot_avatar,alt:""},null,8,ot),e("div",null,a(n.robot_name),1)])]),_:1},8,["title"]),l(c,{key:"robot_intro","data-index":"robot_intro",title:s(t)("col_workflow_desc")},{default:r(({record:n})=>[d(a(n.robot_intro||"--"),1)]),_:1},8,["title"]),l(c,{key:"start_node_key",title:s(t)("col_status")},{default:r(({record:n})=>[n.start_node_key?(p(),u("div",st,[_[1]||(_[1]=e("span",null,null,-1)),d(a(s(t)("status_published")),1)])):(p(),u("div",et,[_[0]||(_[0]=e("span",null,null,-1)),d(a(s(t)("status_unpublished")),1)]))]),_:1},8,["title"]),l(c,{key:"start_node_key",title:s(t)("col_actions")},{default:r(({record:n})=>[e("a",{onClick:it=>x(n)},a(s(t)("action_remove")),9,at)]),_:1},8,["title"])]),_:1},8,["data-source"])])]),l($,{ref_key:"robotSelectAlertRef",ref:k,onChange:R},null,512)])}}},gt=P(nt,[["__scopeId","data-v-c85f3e00"]]);export{gt as default};
//# sourceMappingURL=index-zg96EuqO.js.map
