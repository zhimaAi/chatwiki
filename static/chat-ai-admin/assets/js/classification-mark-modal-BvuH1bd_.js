import{c as S}from"./edit-subsection-Cun0tbhJ.js";import{_ as L,b0 as M,bJ as O}from"../../index-WMhSApoa.js";import{a4 as U,bA as V,bz as I,a3 as A,G as F,E as $,I as D,M as E,b as G}from"./ui-antd-BDReVt-O.js";import{f as g,ac as u,ad as n,k as t,ar as s,ae as f,az as x,G as b,as as p,u as d,F as J,ax as T,ah as N,at as C}from"./vue-chunks-CGLjTDrY.js";const j={class:"star-select-box"},q={class:"star-item"},H={class:"star-item"},P={key:0},Q={__name:"selct-star-box",props:{startLists:{type:Array,default:()=>[]},hideId:{type:[Number,String,Array],default:()=>[]}},emits:["change"],setup(m,{emit:v}){const y=v,o=m,i=g(-1),r=()=>{y("change",i.value)};return(h,e)=>{const _=U,l=A;return n(),u("div",j,[t(l,{activeKey:i.value,"onUpdate:activeKey":e[0]||(e[0]=a=>i.value=a),size:"small",onChange:r},{default:s(()=>[(n(),f(_,{key:-1},{tab:s(()=>[...e[1]||(e[1]=[b("全部",-1)])]),_:1})),m.hideId.includes(0)?x("",!0):(n(),f(_,{key:0},{tab:s(()=>[p("div",q,[t(d(V)),e[2]||(e[2]=b("未精选",-1))])]),_:1})),(n(!0),u(J,null,T(o.startLists,a=>(n(),f(_,{key:a.id},{tab:s(()=>[p("div",H,[t(d(I),{style:N({color:d(S)[a.type]})},null,8,["style"]),b(" "+C(a.name||"-")+" ",1),a.data_count>0?(n(),u("span",P,"("+C(a.data_count)+")",1)):x("",!0)])]),_:2},1024))),128))]),_:1},8,["activeKey"])])}}},ea=L(Q,[["__scopeId","data-v-5867ce9a"]]),R={class:"modal-box"},W={class:"list-box"},X={__name:"classification-mark-modal",emits:["ok"],setup(m,{expose:v,emit:y}){const o=g(!1),i=y,r=g([]),h=()=>{e(),o.value=!0},e=()=>{M().then(l=>{r.value=l.data})},_=()=>{let l=r.value.map(a=>({id:+a.id,name:a.name}));O({data:JSON.stringify(l)}).then(a=>{G.success("保存成功"),i("ok"),o.value=!1})};return v({show:h}),(l,a)=>{const k=$,w=D,B=F,z=E;return n(),u("div",null,[t(z,{open:o.value,"onUpdate:open":a[0]||(a[0]=c=>o.value=c),title:"精选设置",onOk:_,width:586},{default:s(()=>[p("div",R,[p("div",W,[t(B,{"data-source":r.value,pagination:!1},{default:s(()=>[t(k,{key:"tags",title:"图标","data-index":"tags",width:200},{default:s(({record:c})=>[t(d(I),{class:"start-icon",style:N({color:d(S)[c.type]})},null,8,["style"])]),_:1}),t(k,{key:"name",title:"备注","data-index":"name",width:200},{default:s(({record:c})=>[t(w,{value:c.name,"onUpdate:value":K=>c.name=K,maxLength:4,placeholder:"请设置,最多4个字"},null,8,["value","onUpdate:value"])]),_:1})]),_:1},8,["data-source"])])])]),_:1},8,["open"])])}}},sa=L(X,[["__scopeId","data-v-7bfe71a9"]]);export{sa as C,ea as S};
