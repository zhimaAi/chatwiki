import{b as i,a3 as w,k as e,N as u,O as r,j as g,U as b,F as C,a1 as B,S as k,a6 as V,Z as q,_ as L,u as I,a7 as h,e as T,X as l,a5 as K}from"./vue-chunks-BRsu9_To.js";import{b as R,d2 as x,h as O,d as n,bx as E,bT as F}from"../../index-CzPebXix.js";import{_ as U,M as Y}from"./index-DlQVT6K6.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./shallowequal-C0xnIuy8.js";import"./Trigger-Bvakuge0.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-Brd6xpAT.js";import"./slide-CsbPJG8I.js";import"./index-Bhf8G0AA.js";import"./index-BwqnaIPU.js";import"./colors-DfoziJR7.js";const j={class:"left-menu-box"},z={__name:"left-menus",emits:["changeMenu"],setup(t,{emit:m}){const a=x(),c=i(()=>a.graph_switch),d=O(),p=m,_=w(),y=_.query,v=i(()=>d.getRobotNums),f=i(()=>[_.path.split("/")[3]]),A=i(()=>{let o=[{key:"knowledge-document",id:"knowledge-document",icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:a.type==2?"知识管理":"知识库文档",title:"知识库文档",path:"/library/details/knowledge-document"},{key:"knowledge-graph",id:"knowledge-graph",hidden:c.value==0,icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:"知识图谱",title:"知识图谱",path:"/library/details/knowledge-graph"},{key:"categary-manage",id:"categary-manage",icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:"精选",title:"精选",path:"/library/details/categary-manage"},{key:"recall-testing",id:"recall-testing",icon:()=>e("span",{},[e(n,{name:"test-menu-icon",class:"menu-icon"}),e(n,{name:"test-active-menu-icon",class:"menu-icon-active"})]),label:"召回测试",title:"召回测试",path:"/library/details/recall-testing"},{key:"knowledge-config",id:"knowledge-config",icon:()=>e("span",{},[e(n,{name:"knowledge-config-icon",class:"menu-icon"}),e(n,{name:"knowledge-config-active-icon",class:"menu-icon-active"})]),label:"知识库配置",title:"知识库配置",path:"/library/details/knowledge-config"},{key:"related-robots",id:"related-robots",icon:()=>e("span",{},[e(n,{name:"knowledge-config-icon",class:"menu-icon"}),e(n,{name:"knowledge-config-active-icon",class:"menu-icon-active"})]),label:`关联机器人${v.value>0?` (${v.value})`:""}`,path:"/library/details/related-robots"}];return a.type==2?(o.push({key:"import-record",id:"import-record",icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:"导入记录",title:"导入记录",path:"/library/details/import-record"}),o.push({key:"export-record",id:"export-record",icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:"导出记录",title:"导出记录",path:"/library/details/export-record"})):o.push({key:"recycle-bin-record",id:"recycle-bin-record",icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:"回收站",title:"回收站",path:"/library/details/recycle-bin-record"}),o}),M=({item:o})=>{f.value.includes(o.id)||p("changeMenu",o)};return(o,te)=>{const S=U,N=h("router-link"),$=Y;return r(),u("div",j,[g($,{class:"left-menu",selectedKeys:f.value,onClick:M},{default:b(()=>[(r(!0),u(C,null,B(A.value,s=>(r(),k(N,{class:"default-color",to:{path:s.path,query:I(y)},key:s.key},{default:b(()=>[s.hidden?V("",!0):(r(),k(S,{icon:s.icon,path:s.path,key:s.key},{default:b(()=>[q(L(s.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},D=R(z,[["__scopeId","data-v-1dd40926"]]),P=T({components:{LeftMenus:D},async beforeRouteEnter(t,m,a){let c=F(t.query.id);if(c==0||c==1){a("/no-permission");return}a()},setup(){const t=x(),{getLibraryInfo:m}=t,a=w();a.query;const c=i(()=>a.meta.cuStyle),d=i(()=>t.library_name),p=i(()=>t.avatar);return{cuStyle:c,LIBRARY_NORMAL_AVATAR:E,rotue:a,library_name:d,avatar:p}}}),X={class:"details-library-page"},Z={class:"between-content-box"},G={class:"layout-left"},H={class:"library-name-box"},J=["src"],Q={class:"name"},W={class:"left-menu-wrapper"},ee={key:0,style:{flex:"1"}};function ne(t,m,a,c,d,p){const _=h("LeftMenus"),y=h("router-view");return r(),u("div",X,[l("div",Z,[l("div",G,[l("div",H,[l("img",{class:"avatar",src:t.avatar||t.LIBRARY_NORMAL_AVATAR,alt:""},null,8,J),l("div",Q,L(t.library_name),1)]),l("div",W,[g(_)])]),t.cuStyle?(r(),u("div",ee,[g(y)])):(r(),u("div",{key:1,class:K(["right-content-box",["page-"+t.rotue.name]])},[g(y)],2))])])}const he=R(P,[["render",ne],["__scopeId","data-v-94a24230"]]);export{he as default};
