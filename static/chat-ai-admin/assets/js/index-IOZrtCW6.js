var Fg=Object.defineProperty;var Vg=(t,e,n)=>e in t?Fg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var dc=(t,e,n)=>(Vg(t,typeof e!="symbol"?e+"":e,n),n);import{a as zg,b as q0}from"./index-_RnYw74I.js";import{u as n0}from"./robot-DcQccRC9.js";import{U as Kr,V as br,W as cc,X as Dn,Y as Qo,Z as tr,$ as xt,a0 as Yi,a1 as Co,a2 as bo,a3 as Wg,a4 as c1,a5 as xo,a6 as r0,a7 as ei,a8 as Lt,a9 as Yt,aa as Bu,ab as ju,ac as T2,ad as ti,ae as qr,af as o0,ag as f1,ah as Pi,ai as Ug,aj as h1,ak as Gg,al as il,am as $u,an as Xg,ao as Yg,ap as Zg,aq as Fu,ar as Kg,as as p1,at as ge,au as qg,av as Jg,aw as Qg,ax as Xt,ay as Ft,az as i0,aA as ss,aB as v1,aC as dr,aD as Vu,aE as zu,aF as e6,T as t6,aG as a0,aH as n6,aI as r6,aJ as vr,L as o6,aK as ki,aL as i6,aM as fc,aN as a6,aO as hi,aP as s6,A as Zi,aQ as Ni,aR as hc,aS as l6,aT as u6,aU as d6,aV as P2,aW as c6,aX as g1,aY as f6,aZ as h6,a_ as p6,a$ as v6,b0 as g6,b1 as m6,_ as Dt,c as s0,b2 as ls,O as Yr,B as ni,b3 as y6,e as Io,M as m1,b4 as _6,b5 as C6,P as b6,Q as x6}from"../../index-BokOG9ZU.js";import"./crypto-js-D323TfIu.js";import{b as xe,s as Pn,r as Ie,h as Ki,p as Wu,d as xr,w as qt,j as D,e as vn,v as ri,af as wi,ag as w6,A as kn,F as It,B as Uu,l as E6,o as y1,x as S6,y as M6,E as us,$ as _1,a0 as C1,L as ae,M as Ce,Q as re,X as ot,Y as st,V as T,a8 as Ht,a1 as Vt,a2 as Ga,P as lt,a3 as Jt,a4 as Qt,a5 as tn,G as l0,g as u0,c as J0,ad as O6,k as ln,z as A6,Z as d0,a7 as Nn,S as N6,u as Je,W as pc,a9 as b1}from"./vue-chunks-XoCroLmQ.js";import{a as T6}from"./dayjs-D8VPPBbu.js";import{_ as c0}from"./index-BOYSy9Pq.js";import{n as Aa,b as Yo,u as P6,_ as Q0,M as k6,a as L6}from"./index-CvsTLiPQ.js";import{b as D6,p as Wo}from"./pick-CWDMpHLW.js";import{t as rt,i as nr,b as ds,c as $n,s as R6,a as Sr,d as I6,e as qn,f as ct,g as cs,k as Mr,h as fs,j as oi,l as wr,m as ii,n as wn,o as tt,p as H6,q as Zt,r as B6,u as j6,v as $6,w as Fn,x as F6,y as V6,z as ho,A as x1,B as w1,D as E1,E as z6,G as S1,H as M1,I as W6,J as U6,K as G6,L as Gu,M as O1,N as A1,O as N1,P as X6,Q as Y6,S as yo,T as Ke,U as Z6,V as K6,W as q6,X as J6,Y as Q6,_ as f0,F as hs}from"./index-fISAHuLd.js";import{c as Xu,b as T1,a as ai,d as em,e as tm,f as Qr,p as nm}from"./partition-CenmkQe8.js";import{k as zn,a as ps,S as rm,b as om,c as im,m as P1,d as si,e as am,s as sm,f as k1,g as L1,i as k2,h as lm,T as um}from"./colors-Cfqlh7qR.js";import{i as h0,g as dm,I as qi}from"./Input-CUxLS_nc.js";import{t as Zr,d as p0,b as cm,a as fm,n as hm}from"./responsiveObserve-Cyut9UHK.js";import{a as D1,b as pm,c as R1,d as vs,e as vm}from"./collapseMotion-DWwsCVG2.js";import{f as gm,c as mm,u as ym,a as e2,g as _m,b as I1}from"./css-MNT4q5hR.js";import"./index-BitUTYbL.js";import{D as H1}from"./DownOutlined-I-3QmTPt.js";import{U as B1,_ as v0}from"./index-D35cinO1.js";import{u as j1,F as $1,_ as Yu}from"./FormItemContext-Ch_K4tn1.js";import{S as Zu}from"./index-Bf_Ayn3y.js";import{g as F1,a as L2,b as Cm,i as bm,c as xm,d as wm,e as Em,f as Sm,h as Mm}from"./index-Co375E0k.js";import{Q as po}from"./QuestionCircleOutlined-DEWzrvxy.js";import{P as so}from"./PlusOutlined-B3xrJfbK.js";import{_ as g0}from"./index-D_iED9iI.js";import{u as Ku,b as Om,B as Am,c as Nm,d as Tm,g as Pm,S as Ji,a as qu,_ as Qi}from"./index-DgLLvjt3.js";import{_ as Ju}from"./index-D-eQgOQ1.js";import{P as V1}from"./PlusCircleOutlined-CnpFxBqO.js";import"./index-BgMvvztK.js";import{R as km,_ as Lm}from"./RadioButton-DYdQQdGT.js";import{g as z1}from"./index-CbAgVi9e.js";import{g as Dm,C as Rm,_ as Im}from"./index-BJ6pqfZz.js";import{S as Hm}from"./SearchOutlined-BfUHdq7e.js";import{S as Bm}from"./SyncOutlined-HsySBC9D.js";import{c as W1}from"./index-DsZKODME.js";import{_ as jm}from"./index-LNRiZDUc.js";import{S as $m}from"./SettingOutlined-Cj54--b1.js";import{d as Fm}from"./vuedraggable.umd-BaM7Cu0d.js";import{u as al}from"./CheckOutlined-Byfa85ke.js";import{R as U1}from"./RightOutlined-CViLB99g.js";import{L as Qu}from"./LeftOutlined-DN6j0fW4.js";import{E as Vm}from"./Password-D_H-hnpK.js";import"./axios-Cm0UX6qg.js";import"./qs-D73tJGQG.js";import"./shallowequal-BeorLzKa.js";import"./slide-BpJSAeCl.js";import"./index-CnyiohbP.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./inputProps-CWzf5mAp.js";import"./Search-CbUpX_hw.js";import"./TextArea-TiJWDxF4.js";import"./isMobile-D_4OiXLP.js";import"./move-ChusaJh2.js";var zm=NaN;function vc(t){return typeof t=="number"?t:Kr(t)?zm:+t}function m0(t,e){return function(n,r){var o;if(n===void 0&&r===void 0)return e;if(n!==void 0&&(o=n),r!==void 0){if(o===void 0)return r;typeof n=="string"||typeof r=="string"?(n=br(n),r=br(r)):(n=vc(n),r=vc(r)),o=t(n,r)}return o}}var Wm=m0(function(t,e){return t+e},0);const Um=Wm;var Gm="Expected a function";function Xm(t,e){if(typeof e!="function")throw new TypeError(Gm);return t=rt(t),function(){if(--t<1)return e.apply(this,arguments)}}var sl=cc&&new cc,G1=sl?function(t,e){return sl.set(t,e),t}:nr;function Xa(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ds(t.prototype),r=t.apply(n,e);return Dn(r)?r:n}}var Ym=1;function Zm(t,e,n){var r=e&Ym,o=Xa(t);function i(){var a=this&&this!==Qo&&this instanceof i?o:t;return a.apply(r?n:this,arguments)}return i}var Km=Math.max;function X1(t,e,n,r){for(var o=-1,i=t.length,a=n.length,s=-1,l=e.length,u=Km(i-a,0),d=Array(l+u),c=!r;++s<l;)d[s]=e[s];for(;++o<a;)(c||o<i)&&(d[n[o]]=t[o]);for(;u--;)d[s++]=t[o++];return d}var qm=Math.max;function Y1(t,e,n,r){for(var o=-1,i=t.length,a=-1,s=n.length,l=-1,u=e.length,d=qm(i-s,0),c=Array(d+u),f=!r;++o<d;)c[o]=t[o];for(var h=o;++l<u;)c[h+l]=e[l];for(;++a<s;)(f||o<i)&&(c[h+n[a]]=t[o++]);return c}function Jm(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function y0(){}var Qm=4294967295;function vt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qm,this.__views__=[]}vt.prototype=ds(y0.prototype);vt.prototype.constructor=vt;var ed=sl?function(t){return sl.get(t)}:Aa,ey={};const Ti=ey;var ty=Object.prototype,ny=ty.hasOwnProperty;function qs(t){for(var e=t.name+"",n=Ti[e],r=ny.call(Ti,e)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==t)return o.name}return e}function Jn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}Jn.prototype=ds(y0.prototype);Jn.prototype.constructor=Jn;function Z1(t){if(t instanceof vt)return t.clone();var e=new Jn(t.__wrapped__,t.__chain__);return e.__actions__=$n(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var ry=Object.prototype,oy=ry.hasOwnProperty;function b(t){if(tr(t)&&!xt(t)&&!(t instanceof vt)){if(t instanceof Jn)return t;if(oy.call(t,"__wrapped__"))return Z1(t)}return new Jn(t)}b.prototype=y0.prototype;b.prototype.constructor=b;function D2(t){var e=qs(t),n=b[e];if(typeof n!="function"||!(e in vt.prototype))return!1;if(t===n)return!0;var r=ed(n);return!!r&&t===r[0]}var K1=R6(G1),iy=/\{\n\/\* \[wrapped with (.+)\] \*/,ay=/,? & /;function sy(t){var e=t.match(iy);return e?e[1].split(ay):[]}var ly=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function uy(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ly,`{
/* [wrapped with `+e+`] */
`)}var dy=1,cy=2,fy=8,hy=16,py=32,vy=64,gy=128,my=256,yy=512,_y=[["ary",gy],["bind",dy],["bindKey",cy],["curry",fy],["curryRight",hy],["flip",yy],["partial",py],["partialRight",vy],["rearg",my]];function Cy(t,e){return Sr(_y,function(n){var r="_."+n[0];e&n[1]&&!D1(t,r)&&t.push(r)}),t.sort()}function q1(t,e,n){var r=e+"";return I6(t,uy(r,Cy(sy(r),n)))}var by=1,xy=2,wy=4,Ey=8,gc=32,mc=64;function J1(t,e,n,r,o,i,a,s,l,u){var d=e&Ey,c=d?a:void 0,f=d?void 0:a,h=d?i:void 0,v=d?void 0:i;e|=d?gc:mc,e&=~(d?mc:gc),e&wy||(e&=~(by|xy));var p=[t,e,o,h,c,v,f,s,l,u],g=n.apply(void 0,p);return D2(t)&&K1(g,p),g.placeholder=r,q1(g,t,e)}function ea(t){var e=t;return e.placeholder}var Sy=Math.min;function My(t,e){for(var n=t.length,r=Sy(e.length,n),o=$n(t);r--;){var i=e[r];t[r]=Yi(i,n)?o[i]:void 0}return t}var yc="__lodash_placeholder__";function _o(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];(a===e||a===yc)&&(t[n]=yc,i[o++]=n)}return i}var Oy=1,Ay=2,Ny=8,Ty=16,Py=128,ky=512;function _0(t,e,n,r,o,i,a,s,l,u){var d=e&Py,c=e&Oy,f=e&Ay,h=e&(Ny|Ty),v=e&ky,p=f?void 0:Xa(t);function g(){for(var m=arguments.length,y=Array(m),A=m;A--;)y[A]=arguments[A];if(h)var M=ea(g),O=Jm(y,M);if(r&&(y=X1(y,r,o,h)),i&&(y=Y1(y,i,a,h)),m-=O,h&&m<u){var w=_o(y,M);return J1(t,e,_0,g.placeholder,n,y,w,s,l,u-m)}var _=c?n:this,N=f?_[t]:t;return m=y.length,s?y=My(y,s):v&&m>1&&y.reverse(),d&&l<m&&(y.length=l),this&&this!==Qo&&this instanceof g&&(N=p||Xa(N)),N.apply(_,y)}return g}function Ly(t,e,n){var r=Xa(t);function o(){for(var i=arguments.length,a=Array(i),s=i,l=ea(o);s--;)a[s]=arguments[s];var u=i<3&&a[0]!==l&&a[i-1]!==l?[]:_o(a,l);if(i-=u.length,i<n)return J1(t,e,_0,o.placeholder,void 0,a,u,void 0,void 0,n-i);var d=this&&this!==Qo&&this instanceof o?r:t;return qn(d,this,a)}return o}var Dy=1;function Ry(t,e,n,r){var o=e&Dy,i=Xa(t);function a(){for(var s=-1,l=arguments.length,u=-1,d=r.length,c=Array(d+l),f=this&&this!==Qo&&this instanceof a?i:t;++u<d;)c[u]=r[u];for(;l--;)c[u++]=arguments[++s];return qn(f,o?n:this,c)}return a}var _c="__lodash_placeholder__",t2=1,Iy=2,Hy=4,Cc=8,ya=128,bc=256,By=Math.min;function jy(t,e){var n=t[1],r=e[1],o=n|r,i=o<(t2|Iy|ya),a=r==ya&&n==Cc||r==ya&&n==bc&&t[7].length<=e[8]||r==(ya|bc)&&e[7].length<=e[8]&&n==Cc;if(!(i||a))return t;r&t2&&(t[2]=e[2],o|=n&t2?0:Hy);var s=e[3];if(s){var l=t[3];t[3]=l?X1(l,s,e[4]):s,t[4]=l?_o(t[3],_c):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?Y1(l,s,e[6]):s,t[6]=l?_o(t[5],_c):e[6]),s=e[7],s&&(t[7]=s),r&ya&&(t[8]=t[8]==null?e[8]:By(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}var $y="Expected a function",xc=1,Fy=2,n2=8,r2=16,o2=32,wc=64,Ec=Math.max;function eo(t,e,n,r,o,i,a,s){var l=e&Fy;if(!l&&typeof t!="function")throw new TypeError($y);var u=r?r.length:0;if(u||(e&=~(o2|wc),r=o=void 0),a=a===void 0?a:Ec(rt(a),0),s=s===void 0?s:rt(s),u-=o?o.length:0,e&wc){var d=r,c=o;r=o=void 0}var f=l?void 0:ed(t),h=[t,e,n,r,o,d,c,i,a,s];if(f&&jy(h,f),t=h[0],e=h[1],n=h[2],r=h[3],o=h[4],s=h[9]=h[9]===void 0?l?0:t.length:Ec(h[9]-u,0),!s&&e&(n2|r2)&&(e&=~(n2|r2)),!e||e==xc)var v=Zm(t,e,n);else e==n2||e==r2?v=Ly(t,e,s):(e==o2||e==(xc|o2))&&!o.length?v=Ry(t,e,n,r):v=_0.apply(void 0,h);var p=f?G1:K1;return q1(p(v,h),t,e)}var Vy=128;function Q1(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,eo(t,Vy,void 0,void 0,void 0,void 0,e)}function Cn(t,e,n){if(!Dn(n))return!1;var r=typeof e;return(r=="number"?Co(n)&&Yi(e,n.length):r=="string"&&e in n)?bo(n[e],t):!1}function ta(t){return ct(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(o--,i):void 0,a&&Cn(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var s=n[r];s&&t(e,s,r,i)}return e})}var zy=Object.prototype,Wy=zy.hasOwnProperty,Mt=ta(function(t,e){if(Wg(e)||Co(e)){cs(e,zn(e),t);return}for(var n in e)Wy.call(e,n)&&c1(t,n,e[n])}),Uy=ta(function(t,e){cs(e,Mr(e),t)});const Sc=Uy;var Gy=ta(function(t,e,n,r){cs(e,Mr(e),t,r)});const ll=Gy;var Xy=ta(function(t,e,n,r){cs(e,zn(e),t,r)});const Yy=Xy;function td(t,e){for(var n=-1,r=e.length,o=Array(r),i=t==null;++n<r;)o[n]=i?void 0:fs(t,e[n]);return o}var Zy=oi(td);const Ky=Zy;var qy="[object DOMException]",Jy="[object Error]";function nd(t){if(!tr(t))return!1;var e=xo(t);return e==Jy||e==qy||typeof t.message=="string"&&typeof t.name=="string"&&!h0(t)}var Qy=ct(function(t,e){try{return qn(t,void 0,e)}catch(n){return nd(n)?n:new Error(n)}});const ep=Qy;var e5="Expected a function";function tp(t,e){var n;if(typeof e!="function")throw new TypeError(e5);return t=rt(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var t5=1,n5=32,rd=ct(function(t,e,n){var r=t5;if(n.length){var o=_o(n,ea(rd));r|=n5}return eo(t,r,e,n,o)});rd.placeholder={};const np=rd;var r5=oi(function(t,e){return Sr(e,function(n){n=r0(n),ei(t,n,np(t[n],t))}),t});const o5=r5;var i5=1,a5=2,s5=32,od=ct(function(t,e,n){var r=i5|a5;if(n.length){var o=_o(n,ea(od));r|=s5}return eo(e,r,t,n,o)});od.placeholder={};const l5=od;function wo(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:wr(t,e,n)}var u5="\\ud800-\\udfff",d5="\\u0300-\\u036f",c5="\\ufe20-\\ufe2f",f5="\\u20d0-\\u20ff",h5=d5+c5+f5,p5="\\ufe0e\\ufe0f",v5="\\u200d",g5=RegExp("["+v5+u5+h5+p5+"]");function na(t){return g5.test(t)}function m5(t){return t.split("")}var rp="\\ud800-\\udfff",y5="\\u0300-\\u036f",_5="\\ufe20-\\ufe2f",C5="\\u20d0-\\u20ff",b5=y5+_5+C5,x5="\\ufe0e\\ufe0f",w5="["+rp+"]",R2="["+b5+"]",I2="\\ud83c[\\udffb-\\udfff]",E5="(?:"+R2+"|"+I2+")",op="[^"+rp+"]",ip="(?:\\ud83c[\\udde6-\\uddff]){2}",ap="[\\ud800-\\udbff][\\udc00-\\udfff]",S5="\\u200d",sp=E5+"?",lp="["+x5+"]?",M5="(?:"+S5+"(?:"+[op,ip,ap].join("|")+")"+lp+sp+")*",O5=lp+sp+M5,A5="(?:"+[op+R2+"?",R2,ip,ap,w5].join("|")+")",N5=RegExp(I2+"(?="+I2+")|"+A5+O5,"g");function T5(t){return t.match(N5)||[]}function Er(t){return na(t)?T5(t):m5(t)}function up(t){return function(e){e=Lt(e);var n=na(e)?Er(e):void 0,r=n?n[0]:e.charAt(0),o=n?wo(n,1).join(""):e.slice(1);return r[t]()+o}}var P5=up("toUpperCase");const id=P5;function dp(t){return id(Lt(t).toLowerCase())}function ad(t,e,n,r){var o=-1,i=t==null?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function sd(t){return function(e){return t==null?void 0:t[e]}}var k5={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},L5=sd(k5);const D5=L5;var R5=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,I5="\\u0300-\\u036f",H5="\\ufe20-\\ufe2f",B5="\\u20d0-\\u20ff",j5=I5+H5+B5,$5="["+j5+"]",F5=RegExp($5,"g");function cp(t){return t=Lt(t),t&&t.replace(R5,D5).replace(F5,"")}var V5=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function z5(t){return t.match(V5)||[]}var W5=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function U5(t){return W5.test(t)}var fp="\\ud800-\\udfff",G5="\\u0300-\\u036f",X5="\\ufe20-\\ufe2f",Y5="\\u20d0-\\u20ff",Z5=G5+X5+Y5,hp="\\u2700-\\u27bf",pp="a-z\\xdf-\\xf6\\xf8-\\xff",K5="\\xac\\xb1\\xd7\\xf7",q5="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",J5="\\u2000-\\u206f",Q5=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vp="A-Z\\xc0-\\xd6\\xd8-\\xde",e4="\\ufe0e\\ufe0f",gp=K5+q5+J5+Q5,mp="['’]",Mc="["+gp+"]",t4="["+Z5+"]",yp="\\d+",n4="["+hp+"]",_p="["+pp+"]",Cp="[^"+fp+gp+yp+hp+pp+vp+"]",r4="\\ud83c[\\udffb-\\udfff]",o4="(?:"+t4+"|"+r4+")",i4="[^"+fp+"]",bp="(?:\\ud83c[\\udde6-\\uddff]){2}",xp="[\\ud800-\\udbff][\\udc00-\\udfff]",bi="["+vp+"]",a4="\\u200d",Oc="(?:"+_p+"|"+Cp+")",s4="(?:"+bi+"|"+Cp+")",Ac="(?:"+mp+"(?:d|ll|m|re|s|t|ve))?",Nc="(?:"+mp+"(?:D|LL|M|RE|S|T|VE))?",wp=o4+"?",Ep="["+e4+"]?",l4="(?:"+a4+"(?:"+[i4,bp,xp].join("|")+")"+Ep+wp+")*",u4="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",d4="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",c4=Ep+wp+l4,f4="(?:"+[n4,bp,xp].join("|")+")"+c4,h4=RegExp([bi+"?"+_p+"+"+Ac+"(?="+[Mc,bi,"$"].join("|")+")",s4+"+"+Nc+"(?="+[Mc,bi+Oc,"$"].join("|")+")",bi+"?"+Oc+"+"+Ac,bi+"+"+Nc,d4,u4,yp,f4].join("|"),"g");function p4(t){return t.match(h4)||[]}function Sp(t,e,n){return t=Lt(t),e=n?void 0:e,e===void 0?U5(t)?p4(t):z5(t):t.match(e)||[]}var v4="['’]",g4=RegExp(v4,"g");function ra(t){return function(e){return ad(Sp(cp(e).replace(g4,"")),t,"")}}var m4=ra(function(t,e,n){return e=e.toLowerCase(),t+(n?dp(e):e)});const y4=m4;function _4(){if(!arguments.length)return[];var t=arguments[0];return xt(t)?t:[t]}var C4=Qo.isFinite,b4=Math.min;function ld(t){var e=Math[t];return function(n,r){if(n=Zr(n),r=r==null?0:b4(rt(r),292),r&&C4(n)){var o=(Lt(n)+"e").split("e"),i=e(o[0]+"e"+(+o[1]+r));return o=(Lt(i)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return e(n)}}var x4=ld("ceil");const w4=x4;function Mp(t){var e=b(t);return e.__chain__=!0,e}var E4=Math.ceil,S4=Math.max;function M4(t,e,n){(n?Cn(t,e,n):e===void 0)?e=1:e=S4(rt(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var o=0,i=0,a=Array(E4(r/e));o<r;)a[i++]=wr(t,o,o+=e);return a}function li(t,e,n){return t===t&&(n!==void 0&&(t=t<=n?t:n),e!==void 0&&(t=t>=e?t:e)),t}function O4(t,e,n){return n===void 0&&(n=e,e=void 0),n!==void 0&&(n=Zr(n),n=n===n?n:0),e!==void 0&&(e=Zr(e),e=e===e?e:0),li(Zr(t),e,n)}var A4=4;function N4(t){return ii(t,A4)}var T4=1,P4=4;function k4(t,e){return e=typeof e=="function"?e:void 0,ii(t,T4|P4,e)}var L4=4;function D4(t,e){return e=typeof e=="function"?e:void 0,ii(t,L4,e)}function R4(){return new Jn(this.value(),this.__chain__)}function I4(t){for(var e=-1,n=t==null?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}function H4(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ps(xt(n)?$n(n):[n],wn(e,1))}var B4="Expected a function";function j4(t){var e=t==null?0:t.length,n=tt;return t=e?Yt(t,function(r){if(typeof r[1]!="function")throw new TypeError(B4);return[n(r[0]),r[1]]}):[],ct(function(r){for(var o=-1;++o<e;){var i=t[o];if(qn(i[0],this,r))return qn(i[1],this,r)}})}function Op(t,e,n){var r=n.length;if(t==null)return!r;for(t=Object(t);r--;){var o=n[r],i=e[o],a=t[o];if(a===void 0&&!(o in t)||!i(a))return!1}return!0}function $4(t){var e=zn(t);return function(n){return Op(n,t,e)}}var F4=1;function V4(t){return $4(ii(t,F4))}function z4(t,e){return e==null||Op(t,e,zn(e))}var W4=Object.prototype,U4=W4.hasOwnProperty,G4=Xu(function(t,e,n){U4.call(t,n)?++t[n]:ei(t,n,1)});const X4=G4;function Y4(t,e){var n=ds(t);return e==null?n:H6(n,e)}var Z4=8;function ud(t,e,n){e=n?void 0:e;var r=eo(t,Z4,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=ud.placeholder,r}ud.placeholder={};var K4=16;function dd(t,e,n){e=n?void 0:e;var r=eo(t,K4,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=dd.placeholder,r}dd.placeholder={};function q4(t,e){return t==null||t!==t?e:t}var Ap=Object.prototype,J4=Ap.hasOwnProperty,Q4=ct(function(t,e){t=Object(t);var n=-1,r=e.length,o=r>2?e[2]:void 0;for(o&&Cn(e[0],e[1],o)&&(r=1);++n<r;)for(var i=e[n],a=Mr(i),s=-1,l=a.length;++s<l;){var u=a[s],d=t[u];(d===void 0||bo(d,Ap[u])&&!J4.call(t,u))&&(t[u]=i[u])}return t});const e_=Q4;function H2(t,e,n){(n!==void 0&&!bo(t[e],n)||n===void 0&&!(e in t))&&ei(t,e,n)}function B2(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function Np(t){return cs(t,Mr(t))}function t_(t,e,n,r,o,i,a){var s=B2(t,n),l=B2(e,n),u=a.get(l);if(u){H2(t,n,u);return}var d=i?i(s,l,n+"",t,e,a):void 0,c=d===void 0;if(c){var f=xt(l),h=!f&&Bu(l),v=!f&&!h&&ju(l);d=l,f||h||v?xt(s)?d=s:Zt(s)?d=$n(s):h?(c=!1,d=B6(l,!0)):v?(c=!1,d=j6(l,!0)):d=[]:h0(l)||T2(l)?(d=s,T2(s)?d=Np(s):(!Dn(s)||ti(s))&&(d=$6(l))):c=!1}c&&(a.set(l,d),o(d,l,r,i,a),a.delete(l)),H2(t,n,d)}function C0(t,e,n,r,o){t!==e&&T1(e,function(i,a){if(o||(o=new rm),Dn(i))t_(t,e,a,n,C0,r,o);else{var s=r?r(B2(t,a),i,a+"",t,e,o):void 0;s===void 0&&(s=i),H2(t,a,s)}},Mr)}function Tp(t,e,n,r,o,i){return Dn(t)&&Dn(e)&&(i.set(e,t),C0(t,e,void 0,Tp,i),i.delete(e)),t}var n_=ta(function(t,e,n,r){C0(t,e,n,r)});const Pp=n_;var r_=ct(function(t){return t.push(void 0,Tp),qn(Pp,void 0,t)});const o_=r_;var i_="Expected a function";function kp(t,e,n){if(typeof t!="function")throw new TypeError(i_);return setTimeout(function(){t.apply(void 0,n)},e)}var a_=ct(function(t,e){return kp(t,1,e)});const s_=a_;var l_=ct(function(t,e,n){return kp(t,Zr(e)||0,n)});const u_=l_;var d_=200;function gs(t,e,n,r){var o=-1,i=D1,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=Yt(e,qr(n))),r?(i=pm,a=!1):e.length>=d_&&(i=im,a=!1,e=new om(e));e:for(;++o<s;){var d=t[o],c=n==null?d:n(d);if(d=r||d!==0?d:0,a&&c===c){for(var f=u;f--;)if(e[f]===c)continue e;l.push(d)}else i(e,c,r)||l.push(d)}return l}var c_=ct(function(t,e){return Zt(t)?gs(t,wn(e,1,Zt,!0)):[]});const f_=c_;var h_=ct(function(t,e){var n=Fn(e);return Zt(n)&&(n=void 0),Zt(t)?gs(t,wn(e,1,Zt,!0),tt(n)):[]});const p_=h_;var v_=ct(function(t,e){var n=Fn(e);return Zt(n)&&(n=void 0),Zt(t)?gs(t,wn(e,1,Zt,!0),void 0,n):[]});const g_=v_;var m_=m0(function(t,e){return t/e},1);const y_=m_;function __(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:rt(e),wr(t,e<0?0:e,r)):[]}function C_(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:rt(e),e=r-e,wr(t,0,e<0?0:e)):[]}function b0(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?wr(t,r?0:i,r?i+1:o):wr(t,r?i+1:0,r?o:i)}function b_(t,e){return t&&t.length?b0(t,tt(e),!0,!0):[]}function x_(t,e){return t&&t.length?b0(t,tt(e),!0):[]}function jr(t){return typeof t=="function"?t:nr}function Ct(t,e){var n=xt(t)?Sr:ai;return n(t,jr(e))}function w_(t,e){for(var n=t==null?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}var Lp=em(!0);function cd(t,e){return t&&Lp(t,e,zn)}var E_=tm(cd,!0);const Dp=E_;function Tc(t,e){var n=xt(t)?w_:Dp;return n(t,jr(e))}function S_(t,e,n){t=Lt(t),e=br(e);var r=t.length;n=n===void 0?r:li(rt(n),0,r);var o=n;return n-=e.length,n>=0&&t.slice(n,o)==e}function M_(t,e){return Yt(e,function(n){return[n,t[n]]})}function O_(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=[r,r]}),n}var A_="[object Map]",N_="[object Set]";function Rp(t){return function(e){var n=o0(e);return n==A_?P1(e):n==N_?O_(e):M_(e,t(e))}}var Hr=Rp(zn),T_=Rp(Mr);const Pc=T_;var P_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},k_=sd(P_);const L_=k_;var Ip=/[&<>"']/g,D_=RegExp(Ip.source);function Hp(t){return t=Lt(t),t&&D_.test(t)?t.replace(Ip,L_):t}var Bp=/[\\^$.*+?()[\]{}|]/g,R_=RegExp(Bp.source);function I_(t){return t=Lt(t),t&&R_.test(t)?t.replace(Bp,"\\$&"):t}function jp(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function H_(t,e){var n=!0;return ai(t,function(r,o,i){return n=!!e(r,o,i),n}),n}function B_(t,e,n){var r=xt(t)?jp:H_;return n&&Cn(t,e,n)&&(e=void 0),r(t,tt(e))}var j_=4294967295;function $p(t){return t?li(rt(t),0,j_):0}function $_(t,e,n,r){var o=t.length;for(n=rt(n),n<0&&(n=-n>o?0:o+n),r=r===void 0||r>o?o:rt(r),r<0&&(r+=o),r=n>r?0:$p(r);n<r;)t[n++]=e;return t}function F_(t,e,n,r){var o=t==null?0:t.length;return o?(n&&typeof n!="number"&&Cn(t,e,n)&&(n=0,r=o),$_(t,e,n,r)):[]}function Fp(t,e){var n=[];return ai(t,function(r,o,i){e(r,o,i)&&n.push(r)}),n}function V_(t,e){var n=xt(t)?si:Fp;return n(t,tt(e))}function Vp(t,e,n){var r;return n(t,function(o,i,a){if(e(o,i,a))return r=i,!1}),r}function z_(t,e){return Vp(t,tt(e),Qr)}var W_=Math.max,U_=Math.min;function zp(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=r-1;return n!==void 0&&(o=rt(n),o=n<0?W_(r+o,0):U_(o,r-1)),R1(t,tt(e),o,!0)}var G_=F6(zp);const X_=G_;function Y_(t,e){return Vp(t,tt(e),cd)}function kc(t){return t&&t.length?t[0]:void 0}function Wp(t,e){var n=-1,r=Co(t)?Array(t.length):[];return ai(t,function(o,i,a){r[++n]=e(o,i,a)}),r}function Vn(t,e){var n=xt(t)?Yt:Wp;return n(t,tt(e))}function Z_(t,e){return wn(Vn(t,e),1)}var K_=1/0;function q_(t,e){return wn(Vn(t,e),K_)}function J_(t,e,n){return n=n===void 0?1:rt(n),wn(Vn(t,e),n)}var Q_=1/0;function e9(t){var e=t==null?0:t.length;return e?wn(t,Q_):[]}function t9(t,e){var n=t==null?0:t.length;return n?(e=e===void 0?1:rt(e),wn(t,e)):[]}var n9=512;function r9(t){return eo(t,n9)}var o9=ld("floor");const i9=o9;var a9="Expected a function",s9=8,l9=32,u9=128,d9=256;function Up(t){return oi(function(e){var n=e.length,r=n,o=Jn.prototype.thru;for(t&&e.reverse();r--;){var i=e[r];if(typeof i!="function")throw new TypeError(a9);if(o&&!a&&qs(i)=="wrapper")var a=new Jn([],!0)}for(r=a?r:n;++r<n;){i=e[r];var s=qs(i),l=s=="wrapper"?ed(i):void 0;l&&D2(l[0])&&l[1]==(u9|s9|l9|d9)&&!l[4].length&&l[9]==1?a=a[qs(l[0])].apply(a,l[3]):a=i.length==1&&D2(i)?a[s]():a.thru(i)}return function(){var u=arguments,d=u[0];if(a&&u.length==1&&xt(d))return a.plant(d).value();for(var c=0,f=n?e[c].apply(this,u):d;++c<n;)f=e[c].call(this,f);return f}})}var c9=Up();const f9=c9;var h9=Up(!0);const p9=h9;function v9(t,e){return t==null?t:T1(t,jr(e),Mr)}function g9(t,e){return t==null?t:Lp(t,jr(e),Mr)}function m9(t,e){return t&&Qr(t,jr(e))}function y9(t,e){return t&&cd(t,jr(e))}function x0(t,e){return si(e,function(n){return ti(t[n])})}function _9(t){return t==null?[]:x0(t,zn(t))}function C9(t){return t==null?[]:x0(t,Mr(t))}var b9=Object.prototype,x9=b9.hasOwnProperty,w9=Xu(function(t,e,n){x9.call(t,n)?t[n].push(e):ei(t,n,[e])});const E9=w9;function fd(t,e){return t>e}function w0(t){return function(e,n){return typeof e=="string"&&typeof n=="string"||(e=Zr(e),n=Zr(n)),t(e,n)}}var S9=w0(fd);const M9=S9;var O9=w0(function(t,e){return t>=e});const A9=O9;var N9=Object.prototype,T9=N9.hasOwnProperty;function P9(t,e){return t!=null&&T9.call(t,e)}function ul(t,e){return t!=null&&V6(t,e,P9)}var k9=Math.max,L9=Math.min;function D9(t,e,n){return t>=L9(e,n)&&t<k9(e,n)}function R9(t,e,n){return e=ho(e),n===void 0?(n=e,e=0):n=ho(n),t=Zr(t),D9(t,e,n)}var I9="[object String]";function E0(t){return typeof t=="string"||!xt(t)&&tr(t)&&xo(t)==I9}function hd(t,e){return Yt(e,function(n){return t[n]})}function oa(t){return t==null?[]:hd(t,zn(t))}var H9=Math.max;function B9(t,e,n,r){t=Co(t)?t:oa(t),n=n&&!r?rt(n):0;var o=t.length;return n<0&&(n=H9(o+n,0)),E0(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&vs(t,e,n)>-1}var j9=Math.max;function Gp(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=n==null?0:rt(n);return o<0&&(o=j9(r+o,0)),vs(t,e,o)}function $9(t){var e=t==null?0:t.length;return e?wr(t,0,-1):[]}var F9=ct(function(t){var e=Fn(t),n=Yt(t,x1);return e===Fn(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?w1(n,tt(e)):[]});const V9=F9;var z9=ct(function(t){var e=Fn(t),n=Yt(t,x1);return e=typeof e=="function"?e:void 0,e&&n.pop(),n.length&&n[0]===t[0]?w1(n,void 0,e):[]});const W9=z9;function U9(t,e,n,r){return Qr(t,function(o,i,a){e(r,n(o),i,a)}),r}function Xp(t,e){return function(n,r){return U9(n,t,e(r),{})}}var G9=Object.prototype,X9=G9.toString,Y9=Xp(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=X9.call(e)),t[e]=n},E1(nr));const Z9=Y9;var Yp=Object.prototype,K9=Yp.hasOwnProperty,q9=Yp.toString,J9=Xp(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=q9.call(e)),K9.call(t,e)?t[e].push(n):t[e]=[n]},tt);const Q9=J9;function ms(t,e,n){e=f1(e,t),t=z6(t,e);var r=t==null?t:t[r0(Fn(e))];return r==null?void 0:qn(r,t,n)}var e8=ct(ms);const t8=e8;var n8=ct(function(t,e,n){var r=-1,o=typeof e=="function",i=Co(t)?Array(t.length):[];return ai(t,function(a){i[++r]=o?qn(e,a,n):ms(a,e,n)}),i});const r8=n8;var o8="[object ArrayBuffer]";function i8(t){return tr(t)&&xo(t)==o8}var Lc=Pi&&Pi.isArrayBuffer,a8=Lc?qr(Lc):i8;const s8=a8;var l8="[object Boolean]";function dl(t){return t===!0||t===!1||tr(t)&&xo(t)==l8}var u8="[object Date]";function d8(t){return tr(t)&&xo(t)==u8}var Dc=Pi&&Pi.isDate,c8=Dc?qr(Dc):d8;const f8=c8;function h8(t){return tr(t)&&t.nodeType===1&&!h0(t)}function p8(t,e,n){n=typeof n=="function"?n:void 0;var r=n?n(t,e):void 0;return r===void 0?am(t,e,void 0,n):!!r}var v8=Qo.isFinite;function g8(t){return typeof t=="number"&&v8(t)}function Zp(t){return typeof t=="number"&&t==rt(t)}function m8(t,e){return t===e||S1(t,e,M1(e))}function y8(t,e,n){return n=typeof n=="function"?n:void 0,S1(t,e,M1(e),n)}var _8="[object Number]";function pd(t){return typeof t=="number"||tr(t)&&xo(t)==_8}function C8(t){return pd(t)&&t!=+t}var b8=Ug?ti:h1,x8="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function w8(t){if(b8(t))throw new Error(x8);return Gg(t)}function _n(t){return t==null}function E8(t){return t===null}var S8="[object RegExp]";function M8(t){return tr(t)&&xo(t)==S8}var Rc=Pi&&Pi.isRegExp,O8=Rc?qr(Rc):M8;const vd=O8;var Ic=9007199254740991;function A8(t){return Zp(t)&&t>=-Ic&&t<=Ic}function Zo(t){return t===void 0}var N8="[object WeakMap]";function T8(t){return tr(t)&&o0(t)==N8}var P8="[object WeakSet]";function k8(t){return tr(t)&&xo(t)==P8}var L8=1;function D8(t){return tt(typeof t=="function"?t:ii(t,L8))}var R8=Array.prototype,I8=R8.join;function H8(t,e){return t==null?"":I8.call(t,e)}var B8=ra(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});const j8=B8;var $8=Xu(function(t,e,n){ei(t,n,e)});const F8=$8;function V8(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}var z8=Math.max,W8=Math.min;function U8(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var o=r;return n!==void 0&&(o=rt(n),o=o<0?z8(r+o,0):W8(o,r-1)),e===e?V8(t,e,o):R1(t,vm,o,!0)}var G8=ra(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()});const X8=G8;var Y8=up("toLowerCase");const Z8=Y8;function gd(t,e){return t<e}var K8=w0(gd);const q8=K8;var J8=w0(function(t,e){return t<=e});const Q8=J8;function Kp(t,e){var n={};return e=tt(e),Qr(t,function(r,o,i){ei(n,e(r,o,i),r)}),n}function e7(t,e){var n={};return e=tt(e),Qr(t,function(r,o,i){ei(n,o,e(r,o,i))}),n}var t7=1;function n7(t){return W6(ii(t,t7))}var r7=1;function o7(t,e){return U6(t,ii(e,r7))}function S0(t,e,n){for(var r=-1,o=t.length;++r<o;){var i=t[r],a=e(i);if(a!=null&&(s===void 0?a===a&&!Kr(a):n(a,s)))var s=a,l=i}return l}function i7(t){return t&&t.length?S0(t,nr,fd):void 0}function a7(t,e){return t&&t.length?S0(t,tt(e),fd):void 0}function md(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);i!==void 0&&(n=n===void 0?i:n+i)}return n}var s7=NaN;function qp(t,e){var n=t==null?0:t.length;return n?md(t,e)/n:s7}function l7(t){return qp(t,nr)}function u7(t,e){return qp(t,tt(e))}var d7=ta(function(t,e,n){C0(t,e,n)});const Li=d7;var c7=ct(function(t,e){return function(n){return ms(n,t,e)}});const f7=c7;var h7=ct(function(t,e){return function(n){return ms(t,n,e)}});const p7=h7;function v7(t){return t&&t.length?S0(t,nr,gd):void 0}function g7(t,e){return t&&t.length?S0(t,tt(e),gd):void 0}function Jp(t,e,n){var r=zn(e),o=x0(e,r),i=!(Dn(n)&&"chain"in n)||!!n.chain,a=ti(t);return Sr(o,function(s){var l=e[s];t[s]=l,a&&(t.prototype[s]=function(){var u=this.__chain__;if(i||u){var d=t(this.__wrapped__),c=d.__actions__=$n(this.__actions__);return c.push({func:l,args:arguments,thisArg:t}),d.__chain__=u,d}return l.apply(t,ps([this.value()],arguments))})}),t}var m7=m0(function(t,e){return t*e},1);const y7=m7;var _7="Expected a function";function ys(t){if(typeof t!="function")throw new TypeError(_7);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function C7(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}var b7="[object Map]",x7="[object Set]",i2=il?il.iterator:void 0;function Qp(t){if(!t)return[];if(Co(t))return E0(t)?Er(t):$n(t);if(i2&&t[i2])return C7(t[i2]());var e=o0(t),n=e==b7?P1:e==x7?sm:oa;return n(t)}function w7(){this.__values__===void 0&&(this.__values__=Qp(this.value()));var t=this.__index__>=this.__values__.length,e=t?void 0:this.__values__[this.__index__++];return{done:t,value:e}}function e3(t,e){var n=t.length;if(n)return e+=e<0?n:0,Yi(e,n)?t[e]:void 0}function E7(t,e){return t&&t.length?e3(t,rt(e)):void 0}function S7(t){return t=rt(t),ct(function(e){return e3(e,t)})}function t3(t,e){if(t==null)return{};var n=Yt(G6(t),function(r){return[r]});return e=tt(e),D6(t,n,function(r,o){return e(r,o[0])})}function M7(t,e){return t3(t,ys(tt(e)))}function O7(t){return tp(2,t)}function A7(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function n3(t,e){if(t!==e){var n=t!==void 0,r=t===null,o=t===t,i=Kr(t),a=e!==void 0,s=e===null,l=e===e,u=Kr(e);if(!s&&!u&&!i&&t>e||i&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!o)return 1;if(!r&&!i&&!u&&t<e||u&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!l)return-1}return 0}function N7(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,a=o.length,s=n.length;++r<a;){var l=n3(o[r],i[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}function r3(t,e,n){e.length?e=Yt(e,function(i){return xt(i)?function(a){return Gu(a,i.length===1?i[0]:i)}:i}):e=[nr];var r=-1;e=Yt(e,qr(tt));var o=Wp(t,function(i,a,s){var l=Yt(e,function(u){return u(i)});return{criteria:l,index:++r,value:i}});return A7(o,function(i,a){return N7(i,a,n)})}function T7(t,e,n,r){return t==null?[]:(xt(e)||(e=e==null?[]:[e]),n=r?void 0:n,xt(n)||(n=n==null?[]:[n]),r3(t,e,n))}function yd(t){return oi(function(e){return e=Yt(e,qr(tt)),ct(function(n){var r=this;return t(e,function(o){return qn(o,r,n)})})})}var P7=yd(Yt);const k7=P7;var L7=ct,D7=Math.min,R7=L7(function(t,e){e=e.length==1&&xt(e[0])?Yt(e[0],qr(tt)):Yt(wn(e,1),qr(tt));var n=e.length;return ct(function(r){for(var o=-1,i=D7(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return qn(t,this,r)})});const I7=R7;var H7=yd(jp);const B7=H7;var j7=yd(k1);const $7=j7;var F7=9007199254740991,V7=Math.floor;function j2(t,e){var n="";if(!t||e<1||e>F7)return n;do e%2&&(n+=t),e=V7(e/2),e&&(t+=t);while(e);return n}var z7=O1("length"),o3="\\ud800-\\udfff",W7="\\u0300-\\u036f",U7="\\ufe20-\\ufe2f",G7="\\u20d0-\\u20ff",X7=W7+U7+G7,Y7="\\ufe0e\\ufe0f",Z7="["+o3+"]",$2="["+X7+"]",F2="\\ud83c[\\udffb-\\udfff]",K7="(?:"+$2+"|"+F2+")",i3="[^"+o3+"]",a3="(?:\\ud83c[\\udde6-\\uddff]){2}",s3="[\\ud800-\\udbff][\\udc00-\\udfff]",q7="\\u200d",l3=K7+"?",u3="["+Y7+"]?",J7="(?:"+q7+"(?:"+[i3,a3,s3].join("|")+")"+u3+l3+")*",Q7=u3+l3+J7,eC="(?:"+[i3+$2+"?",$2,a3,s3,Z7].join("|")+")",Hc=RegExp(F2+"(?="+F2+")|"+eC+Q7,"g");function tC(t){for(var e=Hc.lastIndex=0;Hc.test(t);)++e;return e}function ia(t){return na(t)?tC(t):z7(t)}var nC=Math.ceil;function cl(t,e){e=e===void 0?" ":br(e);var n=e.length;if(n<2)return n?j2(e,t):e;var r=j2(e,nC(t/ia(e)));return na(e)?wo(Er(r),0,t).join(""):r.slice(0,t)}var rC=Math.ceil,oC=Math.floor;function iC(t,e,n){t=Lt(t),e=rt(e);var r=e?ia(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return cl(oC(o),n)+t+cl(rC(o),n)}function aC(t,e,n){t=Lt(t),e=rt(e);var r=e?ia(t):0;return e&&r<e?t+cl(e-r,n):t}function sC(t,e,n){t=Lt(t),e=rt(e);var r=e?ia(t):0;return e&&r<e?cl(e-r,n)+t:t}var lC=/^\s+/,uC=Qo.parseInt;function dC(t,e,n){return n||e==null?e=0:e&&(e=+e),uC(Lt(t).replace(lC,""),e||0)}var cC=32,_d=ct(function(t,e){var n=_o(e,ea(_d));return eo(t,cC,void 0,e,n)});_d.placeholder={};const d3=_d;var fC=64,Cd=ct(function(t,e){var n=_o(e,ea(Cd));return eo(t,fC,void 0,e,n)});Cd.placeholder={};const hC=Cd;function pC(t){for(var e,n=this;n instanceof y0;){var r=Z1(n);r.__index__=0,r.__values__=void 0,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e}function vC(t){return function(e){return t==null?void 0:Gu(t,e)}}function gC(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}var mC=Array.prototype,Bc=mC.splice;function bd(t,e,n,r){var o=r?gC:vs,i=-1,a=e.length,s=t;for(t===e&&(e=$n(e)),n&&(s=Yt(t,qr(n)));++i<a;)for(var l=0,u=e[i],d=n?n(u):u;(l=o(s,d,l,r))>-1;)s!==t&&Bc.call(s,l,1),Bc.call(t,l,1);return t}function c3(t,e){return t&&t.length&&e&&e.length?bd(t,e):t}var yC=ct(c3);const _C=yC;function CC(t,e,n){return t&&t.length&&e&&e.length?bd(t,e,tt(n)):t}function bC(t,e,n){return t&&t.length&&e&&e.length?bd(t,e,void 0,n):t}var xC=Array.prototype,wC=xC.splice;function f3(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;Yi(o)?wC.call(t,o,1):A1(t,o)}}return t}var EC=oi(function(t,e){var n=t==null?0:t.length,r=td(t,e);return f3(t,Yt(e,function(o){return Yi(o,n)?+o:o}).sort(n3)),r});const SC=EC;var MC=Math.floor,OC=Math.random;function xd(t,e){return t+MC(OC()*(e-t+1))}var AC=parseFloat,NC=Math.min,TC=Math.random;function PC(t,e,n){if(n&&typeof n!="boolean"&&Cn(t,e,n)&&(e=n=void 0),n===void 0&&(typeof e=="boolean"?(n=e,e=void 0):typeof t=="boolean"&&(n=t,t=void 0)),t===void 0&&e===void 0?(t=0,e=1):(t=ho(t),e===void 0?(e=t,t=0):e=ho(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=TC();return NC(t+o*(e-t+AC("1e-"+((o+"").length-1))),e)}return xd(t,e)}var kC=Math.ceil,LC=Math.max;function DC(t,e,n,r){for(var o=-1,i=LC(kC((e-t)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=t,t+=n;return a}function h3(t){return function(e,n,r){return r&&typeof r!="number"&&Cn(e,n,r)&&(n=r=void 0),e=ho(e),n===void 0?(n=e,e=0):n=ho(n),r=r===void 0?e<n?1:-1:ho(r),DC(e,n,r,t)}}var RC=h3();const IC=RC;var HC=h3(!0);const BC=HC;var jC=256,$C=oi(function(t,e){return eo(t,jC,void 0,void 0,void 0,e)});const FC=$C;function p3(t,e,n,r,o){return o(t,function(i,a,s){n=r?(r=!1,i):e(n,i,a,s)}),n}function v3(t,e,n){var r=xt(t)?ad:p3,o=arguments.length<3;return r(t,tt(e),n,o,ai)}function VC(t,e,n,r){var o=t==null?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function zC(t,e,n){var r=xt(t)?VC:p3,o=arguments.length<3;return r(t,tt(e),n,o,Dp)}function WC(t,e){var n=xt(t)?si:Fp;return n(t,ys(tt(e)))}function UC(t,e){var n=[];if(!(t&&t.length))return n;var r=-1,o=[],i=t.length;for(e=tt(e);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return f3(t,o),n}function GC(t,e,n){return(n?Cn(t,e,n):e===void 0)?e=1:e=rt(e),j2(Lt(t),e)}function XC(){var t=arguments,e=Lt(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var YC="Expected a function";function ZC(t,e){if(typeof t!="function")throw new TypeError(YC);return e=e===void 0?e:rt(e),ct(t,e)}function KC(t,e,n){e=f1(e,t);var r=-1,o=e.length;for(o||(o=1,t=void 0);++r<o;){var i=t==null?void 0:t[r0(e[r])];i===void 0&&(r=o,i=n),t=ti(i)?i.call(t):i}return t}var qC=Array.prototype,JC=qC.reverse;function V2(t){return t==null?t:JC.call(t)}var QC=ld("round");const eb=QC;function g3(t){var e=t.length;return e?t[xd(0,e-1)]:void 0}function tb(t){return g3(oa(t))}function nb(t){var e=xt(t)?g3:tb;return e(t)}function M0(t,e){var n=-1,r=t.length,o=r-1;for(e=e===void 0?r:e;++n<e;){var i=xd(n,o),a=t[i];t[i]=t[n],t[n]=a}return t.length=e,t}function rb(t,e){return M0($n(t),li(e,0,t.length))}function ob(t,e){var n=oa(t);return M0(n,li(e,0,n.length))}function ib(t,e,n){(n?Cn(t,e,n):e===void 0)?e=1:e=rt(e);var r=xt(t)?rb:ob;return r(t,e)}function ab(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:$u(t,e,n,r)}function sb(t){return M0($n(t))}function lb(t){return M0(oa(t))}function ub(t){var e=xt(t)?sb:lb;return e(t)}var db="[object Map]",cb="[object Set]";function fb(t){if(t==null)return 0;if(Co(t))return E0(t)?ia(t):t.length;var e=o0(t);return e==db||e==cb?t.size:Xg(t).length}function hb(t,e,n){var r=t==null?0:t.length;return r?(n&&typeof n!="number"&&Cn(t,e,n)?(e=0,n=r):(e=e==null?0:rt(e),n=n===void 0?r:rt(n)),wr(t,e,n)):[]}var pb=ra(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});const vb=pb;function gb(t,e){var n;return ai(t,function(r,o,i){return n=e(r,o,i),!n}),!!n}function mb(t,e,n){var r=xt(t)?k1:gb;return n&&Cn(t,e,n)&&(e=void 0),r(t,tt(e))}var yb=ct(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Cn(t,e[0],e[1])?e=[]:n>2&&Cn(e[0],e[1],e[2])&&(e=[e[0]]),r3(t,wn(e,1),[])});const _b=yb;var Cb=4294967295,bb=Cb-1,xb=Math.floor,wb=Math.min;function wd(t,e,n,r){var o=0,i=t==null?0:t.length;if(i===0)return 0;e=n(e);for(var a=e!==e,s=e===null,l=Kr(e),u=e===void 0;o<i;){var d=xb((o+i)/2),c=n(t[d]),f=c!==void 0,h=c===null,v=c===c,p=Kr(c);if(a)var g=r||v;else u?g=v&&(r||f):s?g=v&&f&&(r||!h):l?g=v&&f&&!h&&(r||!p):h||p?g=!1:g=r?c<=e:c<e;g?o=d+1:i=d}return wb(i,bb)}var Eb=4294967295,Sb=Eb>>>1;function O0(t,e,n){var r=0,o=t==null?r:t.length;if(typeof e=="number"&&e===e&&o<=Sb){for(;r<o;){var i=r+o>>>1,a=t[i];a!==null&&!Kr(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return wd(t,e,nr,n)}function Mb(t,e){return O0(t,e)}function Ob(t,e,n){return wd(t,e,tt(n))}function Ab(t,e){var n=t==null?0:t.length;if(n){var r=O0(t,e);if(r<n&&bo(t[r],e))return r}return-1}function Nb(t,e){return O0(t,e,!0)}function Tb(t,e,n){return wd(t,e,tt(n),!0)}function Pb(t,e){var n=t==null?0:t.length;if(n){var r=O0(t,e,!0)-1;if(bo(t[r],e))return r}return-1}function m3(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!bo(s,l)){var l=s;i[o++]=a===0?0:a}}return i}function kb(t){return t&&t.length?m3(t):[]}function Lb(t,e){return t&&t.length?m3(t,tt(e)):[]}var Db=4294967295;function Rb(t,e,n){return n&&typeof n!="number"&&Cn(t,e,n)&&(e=n=void 0),n=n===void 0?Db:n>>>0,n?(t=Lt(t),t&&(typeof e=="string"||e!=null&&!vd(e))&&(e=br(e),!e&&na(t))?wo(Er(t),0,n):t.split(e,n)):[]}var Ib="Expected a function",Hb=Math.max;function Bb(t,e){if(typeof t!="function")throw new TypeError(Ib);return e=e==null?0:Hb(rt(e),0),ct(function(n){var r=n[e],o=wo(n,0,e);return r&&ps(o,r),qn(t,this,o)})}var jb=ra(function(t,e,n){return t+(n?" ":"")+id(e)});const $b=jb;function Fb(t,e,n){return t=Lt(t),n=n==null?0:li(rt(n),0,t.length),e=br(e),t.slice(n,n+e.length)==e}function Vb(){return{}}function zb(){return""}function Wb(){return!0}var Ub=m0(function(t,e){return t-e},0);const Gb=Ub;function Xb(t){return t&&t.length?md(t,nr):0}function Yb(t,e){return t&&t.length?md(t,tt(e)):0}function Zb(t){var e=t==null?0:t.length;return e?wr(t,1,e):[]}function Kb(t,e,n){return t&&t.length?(e=n||e===void 0?1:rt(e),wr(t,0,e<0?0:e)):[]}function qb(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:rt(e),e=r-e,wr(t,e<0?0:e,r)):[]}function Jb(t,e){return t&&t.length?b0(t,tt(e),!1,!0):[]}function Qb(t,e){return t&&t.length?b0(t,tt(e)):[]}function ex(t,e){return e(t),t}var y3=Object.prototype,tx=y3.hasOwnProperty;function jc(t,e,n,r){return t===void 0||bo(t,y3[n])&&!tx.call(r,n)?e:t}var nx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function rx(t){return"\\"+nx[t]}var ox=/<%=([\s\S]+?)%>/g;const _3=ox;var ix=/<%-([\s\S]+?)%>/g;const ax=ix;var sx=/<%([\s\S]+?)%>/g;const lx=sx;var ux={escape:ax,evaluate:lx,interpolate:_3,variable:"",imports:{_:{escape:Hp}}};const z2=ux;var dx="Invalid `variable` option passed into `_.template`",cx=/\b__p \+= '';/g,fx=/\b(__p \+=) '' \+/g,hx=/(__e\(.*?\)|\b__t\)) \+\n'';/g,px=/[()=,{}\[\]\/\s]/,vx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ms=/($^)/,gx=/['\n\r\u2028\u2029\\]/g,mx=Object.prototype,$c=mx.hasOwnProperty;function yx(t,e,n){var r=z2.imports._.templateSettings||z2;n&&Cn(t,e,n)&&(e=void 0),t=Lt(t),e=ll({},e,r,jc);var o=ll({},e.imports,r.imports,jc),i=zn(o),a=hd(o,i),s,l,u=0,d=e.interpolate||Ms,c="__p += '",f=RegExp((e.escape||Ms).source+"|"+d.source+"|"+(d===_3?vx:Ms).source+"|"+(e.evaluate||Ms).source+"|$","g"),h=$c.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";t.replace(f,function(g,m,y,A,M,O){return y||(y=A),c+=t.slice(u,O).replace(gx,rx),m&&(s=!0,c+=`' +
__e(`+m+`) +
'`),M&&(l=!0,c+=`';
`+M+`;
__p += '`),y&&(c+=`' +
((__t = (`+y+`)) == null ? '' : __t) +
'`),u=O+g.length,g}),c+=`';
`;var v=$c.call(e,"variable")&&e.variable;if(!v)c=`with (obj) {
`+c+`
}
`;else if(px.test(v))throw new Error(dx);c=(l?c.replace(cx,""):c).replace(fx,"$1").replace(hx,"$1;"),c="function("+(v||"obj")+`) {
`+(v?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+c+`return __p
}`;var p=ep(function(){return Function(i,h+"return "+c).apply(void 0,a)});if(p.source=c,nd(p))throw p;return p}var _x="Expected a function";function C3(t,e,n){var r=!0,o=!0;if(typeof t!="function")throw new TypeError(_x);return Dn(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),p0(t,e,{leading:r,maxWait:e,trailing:o})}function _s(t,e){return e(t)}var Cx=9007199254740991,a2=4294967295,bx=Math.min;function xx(t,e){if(t=rt(t),t<1||t>Cx)return[];var n=a2,r=bx(t,a2);e=jr(e),t-=a2;for(var o=L1(r,e);++n<t;)e(n);return o}function wx(){return this}function b3(t,e){var n=t;return n instanceof vt&&(n=n.value()),ad(e,function(r,o){return o.func.apply(o.thisArg,ps([r],o.args))},n)}function s2(){return b3(this.__wrapped__,this.__actions__)}function Ex(t){return Lt(t).toLowerCase()}function Sx(t){return xt(t)?Yt(t,r0):Kr(t)?[t]:$n(Yg(Lt(t)))}var Fc=9007199254740991;function Mx(t){return t?li(rt(t),-Fc,Fc):t===0?t:0}function Ox(t){return Lt(t).toUpperCase()}function Ax(t,e,n){var r=xt(t),o=r||Bu(t)||ju(t);if(e=tt(e),n==null){var i=t&&t.constructor;o?n=r?new i:[]:Dn(t)?n=ti(i)?ds(dm(t)):{}:n={}}return(o?Sr:Qr)(t,function(a,s,l){return e(n,a,s,l)}),n}function x3(t,e){for(var n=t.length;n--&&vs(e,t[n],0)>-1;);return n}function w3(t,e){for(var n=-1,r=t.length;++n<r&&vs(e,t[n],0)>-1;);return n}function Nx(t,e,n){if(t=Lt(t),t&&(n||e===void 0))return cm(t);if(!t||!(e=br(e)))return t;var r=Er(t),o=Er(e),i=w3(r,o),a=x3(r,o)+1;return wo(r,i,a).join("")}function Tx(t,e,n){if(t=Lt(t),t&&(n||e===void 0))return t.slice(0,fm(t)+1);if(!t||!(e=br(e)))return t;var r=Er(t),o=x3(r,Er(e))+1;return wo(r,0,o).join("")}var Px=/^\s+/;function kx(t,e,n){if(t=Lt(t),t&&(n||e===void 0))return t.replace(Px,"");if(!t||!(e=br(e)))return t;var r=Er(t),o=w3(r,Er(e));return wo(r,o).join("")}var Lx=30,Dx="...",Rx=/\w*$/;function Ix(t,e){var n=Lx,r=Dx;if(Dn(e)){var o="separator"in e?e.separator:o;n="length"in e?rt(e.length):n,r="omission"in e?br(e.omission):r}t=Lt(t);var i=t.length;if(na(t)){var a=Er(t);i=a.length}if(n>=i)return t;var s=n-ia(r);if(s<1)return r;var l=a?wo(a,0,s).join(""):t.slice(0,s);if(o===void 0)return l+r;if(a&&(s+=l.length-s),vd(o)){if(t.slice(s).search(o)){var u,d=l;for(o.global||(o=RegExp(o.source,Lt(Rx.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var c=u.index;l=l.slice(0,c===void 0?s:c)}}else if(t.indexOf(br(o),s)!=s){var f=l.lastIndexOf(o);f>-1&&(l=l.slice(0,f))}return l+r}function Hx(t){return Q1(t,1)}var Bx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jx=sd(Bx);const $x=jx;var E3=/&(?:amp|lt|gt|quot|#39);/g,Fx=RegExp(E3.source);function Vx(t){return t=Lt(t),t&&Fx.test(t)?t.replace(E3,$x):t}var zx=ct(function(t){return Yo(wn(t,1,Zt,!0))});const Wx=zx;var Ux=ct(function(t){var e=Fn(t);return Zt(e)&&(e=void 0),Yo(wn(t,1,Zt,!0),tt(e))});const Gx=Ux;var Xx=ct(function(t){var e=Fn(t);return e=typeof e=="function"?e:void 0,Yo(wn(t,1,Zt,!0),void 0,e)});const Yx=Xx;function Zx(t,e){return t&&t.length?Yo(t,tt(e)):[]}function Kx(t,e){return e=typeof e=="function"?e:void 0,t&&t.length?Yo(t,void 0,e):[]}var qx=0;function Jx(t){var e=++qx;return Lt(t)+e}function Qx(t,e){return t==null?!0:A1(t,e)}var ew=Math.max;function Ed(t){if(!(t&&t.length))return[];var e=0;return t=si(t,function(n){if(Zt(n))return e=ew(n.length,e),!0}),L1(e,function(n){return Yt(t,O1(n))})}function S3(t,e){if(!(t&&t.length))return[];var n=Ed(t);return e==null?n:Yt(n,function(r){return qn(e,void 0,r)})}function M3(t,e,n,r){return $u(t,e,n(Gu(t,e)),r)}function tw(t,e,n){return t==null?t:M3(t,e,jr(n))}function nw(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:M3(t,e,jr(n),r)}var rw=ra(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()});const ow=rw;function iw(t){return t==null?[]:hd(t,Mr(t))}var aw=ct(function(t,e){return Zt(t)?gs(t,e):[]});const sw=aw;function lw(t,e){return d3(jr(e),t)}var uw=oi(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(i){return td(i,t)};return e>1||this.__actions__.length||!(r instanceof vt)||!Yi(n)?this.thru(o):(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:_s,args:[o],thisArg:void 0}),new Jn(r,this.__chain__).thru(function(i){return e&&!i.length&&i.push(void 0),i}))});const dw=uw;function cw(){return Mp(this)}function fw(){var t=this.__wrapped__;if(t instanceof vt){var e=t;return this.__actions__.length&&(e=new vt(this)),e=e.reverse(),e.__actions__.push({func:_s,args:[V2],thisArg:void 0}),new Jn(e,this.__chain__)}return this.thru(V2)}function Sd(t,e,n){var r=t.length;if(r<2)return r?Yo(t[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var a=t[o],s=-1;++s<r;)s!=o&&(i[o]=gs(i[o]||a,t[s],e,n));return Yo(wn(i,1),e,n)}var hw=ct(function(t){return Sd(si(t,Zt))});const pw=hw;var vw=ct(function(t){var e=Fn(t);return Zt(e)&&(e=void 0),Sd(si(t,Zt),tt(e))});const gw=vw;var mw=ct(function(t){var e=Fn(t);return e=typeof e=="function"?e:void 0,Sd(si(t,Zt),void 0,e)});const yw=mw;var _w=ct(Ed);const Cw=_w;function O3(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var s=r<i?e[r]:void 0;n(a,t[r],s)}return a}function bw(t,e){return O3(t||[],e||[],c1)}function xw(t,e){return O3(t||[],e||[],$u)}var ww=ct(function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n=typeof n=="function"?(t.pop(),n):void 0,S3(t,n)});const Ew=ww,Ae={chunk:M4,compact:I4,concat:H4,difference:f_,differenceBy:p_,differenceWith:g_,drop:__,dropRight:C_,dropRightWhile:b_,dropWhile:x_,fill:F_,findIndex:N1,findLastIndex:zp,first:kc,flatten:X6,flattenDeep:e9,flattenDepth:t9,fromPairs:gm,head:kc,indexOf:Gp,initial:$9,intersection:Y6,intersectionBy:V9,intersectionWith:W9,join:H8,last:Fn,lastIndexOf:U8,nth:E7,pull:_C,pullAll:c3,pullAllBy:CC,pullAllWith:bC,pullAt:SC,remove:UC,reverse:V2,slice:hb,sortedIndex:Mb,sortedIndexBy:Ob,sortedIndexOf:Ab,sortedLastIndex:Nb,sortedLastIndexBy:Tb,sortedLastIndexOf:Pb,sortedUniq:kb,sortedUniqBy:Lb,tail:Zb,take:Kb,takeRight:qb,takeRightWhile:Jb,takeWhile:Qb,union:Wx,unionBy:Gx,unionWith:Yx,uniq:P6,uniqBy:Zx,uniqWith:Kx,unzip:Ed,unzipWith:S3,without:sw,xor:pw,xorBy:gw,xorWith:yw,zip:Cw,zipObject:bw,zipObjectDeep:xw,zipWith:Ew},Rt={countBy:X4,each:Ct,eachRight:Tc,every:B_,filter:V_,find:yo,findLast:X_,flatMap:Z_,flatMapDeep:q_,flatMapDepth:J_,forEach:Ct,forEachRight:Tc,groupBy:E9,includes:B9,invokeMap:r8,keyBy:F8,map:Vn,orderBy:T7,partition:nm,reduce:v3,reduceRight:zC,reject:WC,sample:nb,sampleSize:ib,shuffle:ub,size:fb,some:mb,sortBy:_b},Sw={now:hm},zt={after:Xm,ary:Q1,before:tp,bind:np,bindKey:l5,curry:ud,curryRight:dd,debounce:p0,defer:s_,delay:u_,flip:r9,memoize:Zg,negate:ys,once:O7,overArgs:I7,partial:d3,partialRight:hC,rearg:FC,rest:ZC,spread:Bb,throttle:C3,unary:Hx,wrap:lw},Fe={castArray:_4,clone:N4,cloneDeep:Ke,cloneDeepWith:k4,cloneWith:D4,conformsTo:z4,eq:bo,gt:M9,gte:A9,isArguments:T2,isArray:xt,isArrayBuffer:s8,isArrayLike:Co,isArrayLikeObject:Zt,isBoolean:dl,isBuffer:Bu,isDate:f8,isElement:h8,isEmpty:Fu,isEqual:k2,isEqualWith:p8,isError:nd,isFinite:g8,isFunction:ti,isInteger:Zp,isLength:Kg,isMap:Z6,isMatch:m8,isMatchWith:y8,isNaN:C8,isNative:w8,isNil:_n,isNull:E8,isNumber:pd,isObject:Dn,isObjectLike:tr,isPlainObject:h0,isRegExp:vd,isSafeInteger:A8,isSet:K6,isString:E0,isSymbol:Kr,isTypedArray:ju,isUndefined:Zo,isWeakMap:T8,isWeakSet:k8,lt:q8,lte:Q8,toArray:Qp,toFinite:ho,toInteger:rt,toLength:$p,toNumber:Zr,toPlainObject:Np,toSafeInteger:Mx,toString:Lt},En={add:Um,ceil:w4,divide:y_,floor:i9,max:i7,maxBy:a7,mean:l7,meanBy:u7,min:v7,minBy:g7,multiply:y7,round:eb,subtract:Gb,sum:Xb,sumBy:Yb},Md={clamp:O4,inRange:R9,random:PC},Ye={assign:Mt,assignIn:Sc,assignInWith:ll,assignWith:Yy,at:Ky,create:Y4,defaults:e_,defaultsDeep:o_,entries:Hr,entriesIn:Pc,extend:Sc,extendWith:ll,findKey:z_,findLastKey:Y_,forIn:v9,forInRight:g9,forOwn:m9,forOwnRight:y9,functions:_9,functionsIn:C9,get:fs,has:ul,hasIn:q6,invert:Z9,invertBy:Q9,invoke:t8,keys:zn,keysIn:Mr,mapKeys:Kp,mapValues:e7,merge:Li,mergeWith:Pp,omit:J6,omitBy:M7,pick:Wo,pickBy:t3,result:KC,set:p1,setWith:ab,toPairs:Hr,toPairsIn:Pc,transform:Ax,unset:Qx,update:tw,updateWith:nw,values:oa,valuesIn:iw},$r={at:dw,chain:Mp,commit:R4,lodash:b,next:w7,plant:pC,reverse:fw,tap:ex,thru:_s,toIterator:wx,toJSON:s2,value:s2,valueOf:s2,wrapperChain:cw},Ot={camelCase:y4,capitalize:dp,deburr:cp,endsWith:S_,escape:Hp,escapeRegExp:I_,kebabCase:j8,lowerCase:X8,lowerFirst:Z8,pad:iC,padEnd:aC,padStart:sC,parseInt:dC,repeat:GC,replace:XC,snakeCase:vb,split:Rb,startCase:$b,startsWith:Fb,template:yx,templateSettings:z2,toLower:Ex,toUpper:Ox,trim:Nx,trimEnd:Tx,trimStart:kx,truncate:Ix,unescape:Vx,upperCase:ow,upperFirst:id,words:Sp},Tt={attempt:ep,bindAll:o5,cond:j4,conforms:V4,constant:E1,defaultTo:q4,flow:f9,flowRight:p9,identity:nr,iteratee:D8,matches:n7,matchesProperty:o7,method:f7,methodOf:p7,mixin:Jp,noop:Aa,nthArg:S7,over:k7,overEvery:B7,overSome:$7,property:Q6,propertyOf:vC,range:IC,rangeRight:BC,stubArray:lm,stubFalse:h1,stubObject:Vb,stubString:zb,stubTrue:Wb,times:xx,toPath:Sx,uniqueId:Jx};function Mw(){var t=new vt(this.__wrapped__);return t.__actions__=$n(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=$n(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=$n(this.__views__),t}function Ow(){if(this.__filtered__){var t=new vt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}var Aw=Math.max,Nw=Math.min;function Tw(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Nw(e,t+a);break;case"takeRight":t=Aw(t,e-a);break}}return{start:t,end:e}}var Pw=1,kw=2,Lw=Math.min;function Dw(){var t=this.__wrapped__.value(),e=this.__dir__,n=xt(t),r=e<0,o=n?t.length:0,i=Tw(0,o,this.__views__),a=i.start,s=i.end,l=s-a,u=r?s:a-1,d=this.__iteratees__,c=d.length,f=0,h=Lw(l,this.__takeCount__);if(!n||!r&&o==l&&h==l)return b3(t,this.__actions__);var v=[];e:for(;l--&&f<h;){u+=e;for(var p=-1,g=t[u];++p<c;){var m=d[p],y=m.iteratee,A=m.type,M=y(g);if(A==kw)g=M;else if(!M){if(A==Pw)continue e;break e}}v[f++]=g}return v}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Rw="4.17.21",Iw=2,Hw=1,Bw=3,A3=4294967295,jw=Array.prototype,$w=Object.prototype,N3=$w.hasOwnProperty,Vc=il?il.iterator:void 0,Fw=Math.max,zc=Math.min,Od=function(t){return function(e,n,r){if(r==null){var o=Dn(n),i=o&&zn(n),a=i&&i.length&&x0(n,i);(a?a.length:o)||(r=n,n=e,e=this)}return t(e,n,r)}}(Jp);b.after=zt.after;b.ary=zt.ary;b.assign=Ye.assign;b.assignIn=Ye.assignIn;b.assignInWith=Ye.assignInWith;b.assignWith=Ye.assignWith;b.at=Ye.at;b.before=zt.before;b.bind=zt.bind;b.bindAll=Tt.bindAll;b.bindKey=zt.bindKey;b.castArray=Fe.castArray;b.chain=$r.chain;b.chunk=Ae.chunk;b.compact=Ae.compact;b.concat=Ae.concat;b.cond=Tt.cond;b.conforms=Tt.conforms;b.constant=Tt.constant;b.countBy=Rt.countBy;b.create=Ye.create;b.curry=zt.curry;b.curryRight=zt.curryRight;b.debounce=zt.debounce;b.defaults=Ye.defaults;b.defaultsDeep=Ye.defaultsDeep;b.defer=zt.defer;b.delay=zt.delay;b.difference=Ae.difference;b.differenceBy=Ae.differenceBy;b.differenceWith=Ae.differenceWith;b.drop=Ae.drop;b.dropRight=Ae.dropRight;b.dropRightWhile=Ae.dropRightWhile;b.dropWhile=Ae.dropWhile;b.fill=Ae.fill;b.filter=Rt.filter;b.flatMap=Rt.flatMap;b.flatMapDeep=Rt.flatMapDeep;b.flatMapDepth=Rt.flatMapDepth;b.flatten=Ae.flatten;b.flattenDeep=Ae.flattenDeep;b.flattenDepth=Ae.flattenDepth;b.flip=zt.flip;b.flow=Tt.flow;b.flowRight=Tt.flowRight;b.fromPairs=Ae.fromPairs;b.functions=Ye.functions;b.functionsIn=Ye.functionsIn;b.groupBy=Rt.groupBy;b.initial=Ae.initial;b.intersection=Ae.intersection;b.intersectionBy=Ae.intersectionBy;b.intersectionWith=Ae.intersectionWith;b.invert=Ye.invert;b.invertBy=Ye.invertBy;b.invokeMap=Rt.invokeMap;b.iteratee=Tt.iteratee;b.keyBy=Rt.keyBy;b.keys=zn;b.keysIn=Ye.keysIn;b.map=Rt.map;b.mapKeys=Ye.mapKeys;b.mapValues=Ye.mapValues;b.matches=Tt.matches;b.matchesProperty=Tt.matchesProperty;b.memoize=zt.memoize;b.merge=Ye.merge;b.mergeWith=Ye.mergeWith;b.method=Tt.method;b.methodOf=Tt.methodOf;b.mixin=Od;b.negate=ys;b.nthArg=Tt.nthArg;b.omit=Ye.omit;b.omitBy=Ye.omitBy;b.once=zt.once;b.orderBy=Rt.orderBy;b.over=Tt.over;b.overArgs=zt.overArgs;b.overEvery=Tt.overEvery;b.overSome=Tt.overSome;b.partial=zt.partial;b.partialRight=zt.partialRight;b.partition=Rt.partition;b.pick=Ye.pick;b.pickBy=Ye.pickBy;b.property=Tt.property;b.propertyOf=Tt.propertyOf;b.pull=Ae.pull;b.pullAll=Ae.pullAll;b.pullAllBy=Ae.pullAllBy;b.pullAllWith=Ae.pullAllWith;b.pullAt=Ae.pullAt;b.range=Tt.range;b.rangeRight=Tt.rangeRight;b.rearg=zt.rearg;b.reject=Rt.reject;b.remove=Ae.remove;b.rest=zt.rest;b.reverse=Ae.reverse;b.sampleSize=Rt.sampleSize;b.set=Ye.set;b.setWith=Ye.setWith;b.shuffle=Rt.shuffle;b.slice=Ae.slice;b.sortBy=Rt.sortBy;b.sortedUniq=Ae.sortedUniq;b.sortedUniqBy=Ae.sortedUniqBy;b.split=Ot.split;b.spread=zt.spread;b.tail=Ae.tail;b.take=Ae.take;b.takeRight=Ae.takeRight;b.takeRightWhile=Ae.takeRightWhile;b.takeWhile=Ae.takeWhile;b.tap=$r.tap;b.throttle=zt.throttle;b.thru=_s;b.toArray=Fe.toArray;b.toPairs=Ye.toPairs;b.toPairsIn=Ye.toPairsIn;b.toPath=Tt.toPath;b.toPlainObject=Fe.toPlainObject;b.transform=Ye.transform;b.unary=zt.unary;b.union=Ae.union;b.unionBy=Ae.unionBy;b.unionWith=Ae.unionWith;b.uniq=Ae.uniq;b.uniqBy=Ae.uniqBy;b.uniqWith=Ae.uniqWith;b.unset=Ye.unset;b.unzip=Ae.unzip;b.unzipWith=Ae.unzipWith;b.update=Ye.update;b.updateWith=Ye.updateWith;b.values=Ye.values;b.valuesIn=Ye.valuesIn;b.without=Ae.without;b.words=Ot.words;b.wrap=zt.wrap;b.xor=Ae.xor;b.xorBy=Ae.xorBy;b.xorWith=Ae.xorWith;b.zip=Ae.zip;b.zipObject=Ae.zipObject;b.zipObjectDeep=Ae.zipObjectDeep;b.zipWith=Ae.zipWith;b.entries=Ye.toPairs;b.entriesIn=Ye.toPairsIn;b.extend=Ye.assignIn;b.extendWith=Ye.assignInWith;Od(b,b);b.add=En.add;b.attempt=Tt.attempt;b.camelCase=Ot.camelCase;b.capitalize=Ot.capitalize;b.ceil=En.ceil;b.clamp=Md.clamp;b.clone=Fe.clone;b.cloneDeep=Fe.cloneDeep;b.cloneDeepWith=Fe.cloneDeepWith;b.cloneWith=Fe.cloneWith;b.conformsTo=Fe.conformsTo;b.deburr=Ot.deburr;b.defaultTo=Tt.defaultTo;b.divide=En.divide;b.endsWith=Ot.endsWith;b.eq=Fe.eq;b.escape=Ot.escape;b.escapeRegExp=Ot.escapeRegExp;b.every=Rt.every;b.find=Rt.find;b.findIndex=Ae.findIndex;b.findKey=Ye.findKey;b.findLast=Rt.findLast;b.findLastIndex=Ae.findLastIndex;b.findLastKey=Ye.findLastKey;b.floor=En.floor;b.forEach=Rt.forEach;b.forEachRight=Rt.forEachRight;b.forIn=Ye.forIn;b.forInRight=Ye.forInRight;b.forOwn=Ye.forOwn;b.forOwnRight=Ye.forOwnRight;b.get=Ye.get;b.gt=Fe.gt;b.gte=Fe.gte;b.has=Ye.has;b.hasIn=Ye.hasIn;b.head=Ae.head;b.identity=nr;b.includes=Rt.includes;b.indexOf=Ae.indexOf;b.inRange=Md.inRange;b.invoke=Ye.invoke;b.isArguments=Fe.isArguments;b.isArray=xt;b.isArrayBuffer=Fe.isArrayBuffer;b.isArrayLike=Fe.isArrayLike;b.isArrayLikeObject=Fe.isArrayLikeObject;b.isBoolean=Fe.isBoolean;b.isBuffer=Fe.isBuffer;b.isDate=Fe.isDate;b.isElement=Fe.isElement;b.isEmpty=Fe.isEmpty;b.isEqual=Fe.isEqual;b.isEqualWith=Fe.isEqualWith;b.isError=Fe.isError;b.isFinite=Fe.isFinite;b.isFunction=Fe.isFunction;b.isInteger=Fe.isInteger;b.isLength=Fe.isLength;b.isMap=Fe.isMap;b.isMatch=Fe.isMatch;b.isMatchWith=Fe.isMatchWith;b.isNaN=Fe.isNaN;b.isNative=Fe.isNative;b.isNil=Fe.isNil;b.isNull=Fe.isNull;b.isNumber=Fe.isNumber;b.isObject=Dn;b.isObjectLike=Fe.isObjectLike;b.isPlainObject=Fe.isPlainObject;b.isRegExp=Fe.isRegExp;b.isSafeInteger=Fe.isSafeInteger;b.isSet=Fe.isSet;b.isString=Fe.isString;b.isSymbol=Fe.isSymbol;b.isTypedArray=Fe.isTypedArray;b.isUndefined=Fe.isUndefined;b.isWeakMap=Fe.isWeakMap;b.isWeakSet=Fe.isWeakSet;b.join=Ae.join;b.kebabCase=Ot.kebabCase;b.last=Fn;b.lastIndexOf=Ae.lastIndexOf;b.lowerCase=Ot.lowerCase;b.lowerFirst=Ot.lowerFirst;b.lt=Fe.lt;b.lte=Fe.lte;b.max=En.max;b.maxBy=En.maxBy;b.mean=En.mean;b.meanBy=En.meanBy;b.min=En.min;b.minBy=En.minBy;b.stubArray=Tt.stubArray;b.stubFalse=Tt.stubFalse;b.stubObject=Tt.stubObject;b.stubString=Tt.stubString;b.stubTrue=Tt.stubTrue;b.multiply=En.multiply;b.nth=Ae.nth;b.noop=Tt.noop;b.now=Sw.now;b.pad=Ot.pad;b.padEnd=Ot.padEnd;b.padStart=Ot.padStart;b.parseInt=Ot.parseInt;b.random=Md.random;b.reduce=Rt.reduce;b.reduceRight=Rt.reduceRight;b.repeat=Ot.repeat;b.replace=Ot.replace;b.result=Ye.result;b.round=En.round;b.sample=Rt.sample;b.size=Rt.size;b.snakeCase=Ot.snakeCase;b.some=Rt.some;b.sortedIndex=Ae.sortedIndex;b.sortedIndexBy=Ae.sortedIndexBy;b.sortedIndexOf=Ae.sortedIndexOf;b.sortedLastIndex=Ae.sortedLastIndex;b.sortedLastIndexBy=Ae.sortedLastIndexBy;b.sortedLastIndexOf=Ae.sortedLastIndexOf;b.startCase=Ot.startCase;b.startsWith=Ot.startsWith;b.subtract=En.subtract;b.sum=En.sum;b.sumBy=En.sumBy;b.template=Ot.template;b.times=Tt.times;b.toFinite=Fe.toFinite;b.toInteger=rt;b.toLength=Fe.toLength;b.toLower=Ot.toLower;b.toNumber=Fe.toNumber;b.toSafeInteger=Fe.toSafeInteger;b.toString=Fe.toString;b.toUpper=Ot.toUpper;b.trim=Ot.trim;b.trimEnd=Ot.trimEnd;b.trimStart=Ot.trimStart;b.truncate=Ot.truncate;b.unescape=Ot.unescape;b.uniqueId=Tt.uniqueId;b.upperCase=Ot.upperCase;b.upperFirst=Ot.upperFirst;b.each=Rt.forEach;b.eachRight=Rt.forEachRight;b.first=Ae.head;Od(b,function(){var t={};return Qr(b,function(e,n){N3.call(b.prototype,n)||(t[n]=e)}),t}(),{chain:!1});b.VERSION=Rw;(b.templateSettings=Ot.templateSettings).imports._=b;Sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){b[t].placeholder=b});Sr(["drop","take"],function(t,e){vt.prototype[t]=function(n){n=n===void 0?1:Fw(rt(n),0);var r=this.__filtered__&&!e?new vt(this):this.clone();return r.__filtered__?r.__takeCount__=zc(n,r.__takeCount__):r.__views__.push({size:zc(n,A3),type:t+(r.__dir__<0?"Right":"")}),r},vt.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}});Sr(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Hw||n==Bw;vt.prototype[t]=function(o){var i=this.clone();return i.__iteratees__.push({iteratee:tt(o),type:n}),i.__filtered__=i.__filtered__||r,i}});Sr(["head","last"],function(t,e){var n="take"+(e?"Right":"");vt.prototype[t]=function(){return this[n](1).value()[0]}});Sr(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vt.prototype[t]=function(){return this.__filtered__?new vt(this):this[n](1)}});vt.prototype.compact=function(){return this.filter(nr)};vt.prototype.find=function(t){return this.filter(t).head()};vt.prototype.findLast=function(t){return this.reverse().find(t)};vt.prototype.invokeMap=ct(function(t,e){return typeof t=="function"?new vt(this):this.map(function(n){return ms(n,t,e)})});vt.prototype.reject=function(t){return this.filter(ys(tt(t)))};vt.prototype.slice=function(t,e){t=rt(t);var n=this;return n.__filtered__&&(t>0||e<0)?new vt(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==void 0&&(e=rt(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)};vt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()};vt.prototype.toArray=function(){return this.take(A3)};Qr(vt.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=b[r?"take"+(e=="last"?"Right":""):e],i=r||/^find/.test(e);o&&(b.prototype[e]=function(){var a=this.__wrapped__,s=r?[1]:arguments,l=a instanceof vt,u=s[0],d=l||xt(a),c=function(m){var y=o.apply(b,ps([m],s));return r&&f?y[0]:y};d&&n&&typeof u=="function"&&u.length!=1&&(l=d=!1);var f=this.__chain__,h=!!this.__actions__.length,v=i&&!f,p=l&&!h;if(!i&&d){a=p?a:new vt(this);var g=t.apply(a,s);return g.__actions__.push({func:_s,args:[c],thisArg:void 0}),new Jn(g,f)}return v&&p?t.apply(this,s):(g=this.thru(c),v?r?g.value()[0]:g.value():g)})});Sr(["pop","push","shift","sort","splice","unshift"],function(t){var e=jw[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);b.prototype[t]=function(){var o=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(xt(i)?i:[],o)}return this[n](function(a){return e.apply(xt(a)?a:[],o)})}});Qr(vt.prototype,function(t,e){var n=b[e];if(n){var r=n.name+"";N3.call(Ti,r)||(Ti[r]=[]),Ti[r].push({name:e,func:n})}});Ti[_0(void 0,Iw).name]=[{name:"wrapper",func:void 0}];vt.prototype.clone=Mw;vt.prototype.reverse=Ow;vt.prototype.value=Dw;b.prototype.at=$r.at;b.prototype.chain=$r.wrapperChain;b.prototype.commit=$r.commit;b.prototype.next=$r.next;b.prototype.plant=$r.plant;b.prototype.reverse=$r.reverse;b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=$r.value;b.prototype.first=b.prototype.head;Vc&&(b.prototype[Vc]=$r.toIterator);const Ad="__RC_CASCADER_SPLIT__",T3="SHOW_PARENT",P3="SHOW_CHILD";function vo(t){return t.join(Ad)}function Ei(t){return t.map(vo)}function Vw(t){return t.split(Ad)}function zw(t){const{label:e,value:n,children:r}=t||{},o=n||"value";return{label:e||"label",value:o,key:o,children:r||"children"}}function wa(t,e){var n,r;return(n=t.isLeaf)!==null&&n!==void 0?n:!(!((r=t[e.children])===null||r===void 0)&&r.length)}function Ww(t){const e=t.parentElement;if(!e)return;const n=t.offsetTop-e.offsetTop;n-e.scrollTop<0?e.scrollTo({top:n}):n+t.offsetHeight-e.scrollTop>e.offsetHeight&&e.scrollTo({top:n+t.offsetHeight-e.offsetHeight})}const Uw=(t,e)=>xe(()=>mm(t.value,{fieldNames:e.value,initWrapper:r=>ge(ge({},r),{pathKeyEntities:{}}),processEntity:(r,o)=>{const i=r.nodes.map(a=>a[e.value.value]).join(Ad);o.pathKeyEntities[i]=r,r.key=i}}).pathKeyEntities);function Gw(t){const e=Pn(!1),n=Ie({});return Ki(()=>{if(!t.value){e.value=!1,n.value={};return}let r={matchInputWidth:!0,limit:50};t.value&&typeof t.value=="object"&&(r=ge(ge({},r),t.value)),r.limit<=0&&delete r.limit,e.value=!0,n.value=r}),{showSearch:e,searchConfig:n}}const Na="__rc_cascader_search_mark__",Xw=(t,e,n)=>{let{label:r}=n;return e.some(o=>String(o[r]).toLowerCase().includes(t.toLowerCase()))},Yw=t=>{let{path:e,fieldNames:n}=t;return e.map(r=>r[n.label]).join(" / ")},Zw=(t,e,n,r,o,i)=>xe(()=>{const{filter:a=Xw,render:s=Yw,limit:l=50,sort:u}=o.value,d=[];if(!t.value)return[];function c(f,h){f.forEach(v=>{if(!u&&l>0&&d.length>=l)return;const p=[...h,v],g=v[n.value.children];(!g||g.length===0||i.value)&&a(t.value,p,{label:n.value.label})&&d.push(ge(ge({},v),{[n.value.label]:s({inputValue:t.value,path:p,prefixCls:r.value,fieldNames:n.value}),[Na]:p})),g&&c(v[n.value.children],p)})}return c(e.value,[]),u&&d.sort((f,h)=>u(f[Na],h[Na],t.value,n.value)),l>0?d.slice(0,l):d});function Wc(t,e,n){const r=new Set(t);return t.filter(o=>{const i=e[o],a=i?i.parent:null,s=i?i.children:null;return n===P3?!(s&&s.some(l=>l.key&&r.has(l.key))):!(a&&!a.node.disabled&&r.has(a.key))})}function Ya(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var o;let i=e;const a=[];for(let s=0;s<t.length;s+=1){const l=t[s],u=i==null?void 0:i.findIndex(c=>{const f=c[n.value];return r?String(f)===String(l):f===l}),d=u!==-1?i==null?void 0:i[u]:null;a.push({value:(o=d==null?void 0:d[n.value])!==null&&o!==void 0?o:l,index:u,option:d}),i=d==null?void 0:d[n.children]}return a}const Kw=(t,e,n)=>xe(()=>{const r=[],o=[];return n.value.forEach(i=>{Ya(i,t.value,e.value).every(s=>s.option)?o.push(i):r.push(i)}),[o,r]}),qw=(t,e,n,r,o)=>xe(()=>{const i=o.value||(a=>{let{labels:s}=a;const l=r.value?s.slice(-1):s,u=" / ";return l.every(d=>["string","number"].includes(typeof d))?l.join(u):l.reduce((d,c,f)=>{const h=qg(c)?Jg(c,{key:f}):c;return f===0?[h]:[...d,u,h]},[])});return t.value.map(a=>{const s=Ya(a,e.value,n.value),l=i({labels:s.map(d=>{let{option:c,value:f}=d;var h;return(h=c==null?void 0:c[n.value.label])!==null&&h!==void 0?h:f}),selectedOptions:s.map(d=>{let{option:c}=d;return c})}),u=vo(a);return{label:l,value:u,key:u,valueCells:a}})}),k3=Symbol("CascaderContextKey"),Jw=t=>{Wu(k3,t)},A0=()=>xr(k3),Qw=()=>{const t=Ku(),{values:e}=A0(),[n,r]=Qg([]);return qt(()=>t.open,()=>{if(t.open&&!t.multiple){const o=e.value[0];r(o||[])}},{immediate:!0}),[n,r]},eE=(t,e,n,r,o,i)=>{const a=Ku(),s=xe(()=>a.direction==="rtl"),[l,u,d]=[Ie([]),Ie(),Ie([])];Ki(()=>{let p=-1,g=e.value;const m=[],y=[],A=r.value.length;for(let O=0;O<A&&g;O+=1){const w=g.findIndex(_=>_[n.value.value]===r.value[O]);if(w===-1)break;p=w,m.push(p),y.push(r.value[O]),g=g[p][n.value.children]}let M=e.value;for(let O=0;O<m.length-1;O+=1)M=M[m[O]][n.value.children];[l.value,u.value,d.value]=[y,p,M]});const c=p=>{o(p)},f=p=>{const g=d.value.length;let m=u.value;m===-1&&p<0&&(m=g);for(let y=0;y<g;y+=1){m=(m+p+g)%g;const A=d.value[m];if(A&&!A.disabled){const M=A[n.value.value],O=l.value.slice(0,-1).concat(M);c(O);return}}},h=()=>{if(l.value.length>1){const p=l.value.slice(0,-1);c(p)}else a.toggleOpen(!1)},v=()=>{var p;const m=(((p=d.value[u.value])===null||p===void 0?void 0:p[n.value.children])||[]).find(y=>!y.disabled);if(m){const y=[...l.value,m[n.value.value]];c(y)}};t.expose({onKeydown:p=>{const{which:g}=p;switch(g){case Xt.UP:case Xt.DOWN:{let m=0;g===Xt.UP?m=-1:g===Xt.DOWN&&(m=1),m!==0&&f(m);break}case Xt.LEFT:{s.value?v():h();break}case Xt.RIGHT:{s.value?h():v();break}case Xt.BACKSPACE:{a.searchValue||h();break}case Xt.ENTER:{if(l.value.length){const m=d.value[u.value],y=(m==null?void 0:m[Na])||[];y.length?i(y.map(A=>A[n.value.value]),y[y.length-1]):i(l.value,m)}break}case Xt.ESC:a.toggleOpen(!1),open&&p.stopPropagation()}},onKeyup:()=>{}})};function N0(t){let{prefixCls:e,checked:n,halfChecked:r,disabled:o,onClick:i}=t;const{customSlots:a,checkable:s}=A0(),l=s.value!==!1?a.value.checkable:s.value,u=typeof l=="function"?l():typeof l=="boolean"?null:l;return D("span",{class:{[e]:!0,[`${e}-checked`]:n,[`${e}-indeterminate`]:!n&&r,[`${e}-disabled`]:o},onClick:i},[u])}N0.props=["prefixCls","checked","halfChecked","disabled","onClick"];N0.displayName="Checkbox";N0.inheritAttrs=!1;const L3="__cascader_fix_label__";function T0(t){let{prefixCls:e,multiple:n,options:r,activeValue:o,prevValuePath:i,onToggleOpen:a,onSelect:s,onActive:l,checkedSet:u,halfCheckedSet:d,loadingKeys:c,isSelectable:f}=t;var h,v,p,g,m,y;const A=`${e}-menu`,M=`${e}-menu-item`,{fieldNames:O,changeOnSelect:w,expandTrigger:_,expandIcon:N,loadingIcon:R,dropdownMenuColumnStyle:I,customSlots:W}=A0(),G=(h=N.value)!==null&&h!==void 0?h:(p=(v=W.value).expandIcon)===null||p===void 0?void 0:p.call(v),C=(g=R.value)!==null&&g!==void 0?g:(y=(m=W.value).loadingIcon)===null||y===void 0?void 0:y.call(m),L=_.value==="hover";return D("ul",{class:A,role:"menu"},[r.map(k=>{var B;const{disabled:V}=k,$=k[Na],te=(B=k[L3])!==null&&B!==void 0?B:k[O.value.label],ne=k[O.value.value],se=wa(k,O.value),me=$?$.map(X=>X[O.value.value]):[...i,ne],be=vo(me),ue=c.includes(be),we=u.has(be),H=d.has(be),Z=()=>{!V&&(!L||!se)&&l(me)},Q=()=>{f(k)&&s(me,se)};let he;return typeof k.title=="string"?he=k.title:typeof te=="string"&&(he=te),D("li",{key:be,class:[M,{[`${M}-expand`]:!se,[`${M}-active`]:o===ne,[`${M}-disabled`]:V,[`${M}-loading`]:ue}],style:I.value,role:"menuitemcheckbox",title:he,"aria-checked":we,"data-path-key":be,onClick:()=>{Z(),(!n||se)&&Q()},onDblclick:()=>{w.value&&a(!1)},onMouseenter:()=>{L&&Z()},onMousedown:X=>{X.preventDefault()}},[n&&D(N0,{prefixCls:`${e}-checkbox`,checked:we,halfChecked:H,disabled:V,onClick:X=>{X.stopPropagation(),Q()}},null),D("div",{class:`${M}-content`},[te]),!ue&&G&&!se&&D("div",{class:`${M}-expand-icon`},[G]),ue&&C&&D("div",{class:`${M}-loading-icon`},[C])])})])}T0.props=["prefixCls","multiple","options","activeValue","prevValuePath","onToggleOpen","onSelect","onActive","checkedSet","halfCheckedSet","loadingKeys","isSelectable"];T0.displayName="Column";T0.inheritAttrs=!1;const tE=vn({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(t,e){const{attrs:n,slots:r}=e,o=Ku(),i=Ie(),a=xe(()=>o.direction==="rtl"),{options:s,values:l,halfValues:u,fieldNames:d,changeOnSelect:c,onSelect:f,searchOptions:h,dropdownPrefixCls:v,loadData:p,expandTrigger:g,customSlots:m}=A0(),y=xe(()=>v.value||o.prefixCls),A=Pn([]),M=B=>{if(!p.value||o.searchValue)return;const $=Ya(B,s.value,d.value).map(ne=>{let{option:se}=ne;return se}),te=$[$.length-1];if(te&&!wa(te,d.value)){const ne=vo(B);A.value=[...A.value,ne],p.value($)}};Ki(()=>{A.value.length&&A.value.forEach(B=>{const V=Vw(B),$=Ya(V,s.value,d.value,!0).map(ne=>{let{option:se}=ne;return se}),te=$[$.length-1];(!te||te[d.value.children]||wa(te,d.value))&&(A.value=A.value.filter(ne=>ne!==B))})});const O=xe(()=>new Set(Ei(l.value))),w=xe(()=>new Set(Ei(u.value))),[_,N]=Qw(),R=B=>{N(B),M(B)},I=B=>{const{disabled:V}=B,$=wa(B,d.value);return!V&&($||c.value||o.multiple)},W=function(B,V){let $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;f(B),!o.multiple&&(V||c.value&&(g.value==="hover"||$))&&o.toggleOpen(!1)},G=xe(()=>o.searchValue?h.value:s.value),C=xe(()=>{const B=[{options:G.value}];let V=G.value;for(let $=0;$<_.value.length;$+=1){const te=_.value[$],ne=V.find(me=>me[d.value.value]===te),se=ne==null?void 0:ne[d.value.children];if(!(se!=null&&se.length))break;V=se,B.push({options:se})}return B});eE(e,G,d,_,R,(B,V)=>{I(V)&&W(B,wa(V,d.value),!0)});const k=B=>{B.preventDefault()};return ri(()=>{qt(_,B=>{var V;for(let $=0;$<B.length;$+=1){const te=B.slice(0,$+1),ne=vo(te),se=(V=i.value)===null||V===void 0?void 0:V.querySelector(`li[data-path-key="${ne.replace(/\\{0,2}"/g,'\\"')}"]`);se&&Ww(se)}},{flush:"post",immediate:!0})}),()=>{var B,V,$,te,ne;const{notFoundContent:se=((B=r.notFoundContent)===null||B===void 0?void 0:B.call(r))||(($=(V=m.value).notFoundContent)===null||$===void 0?void 0:$.call(V)),multiple:me,toggleOpen:be}=o,ue=!(!((ne=(te=C.value[0])===null||te===void 0?void 0:te.options)===null||ne===void 0)&&ne.length),we=[{[d.value.value]:"__EMPTY__",[L3]:se,disabled:!0}],H=ge(ge({},n),{multiple:!ue&&me,onSelect:W,onActive:R,onToggleOpen:be,checkedSet:O.value,halfCheckedSet:w.value,loadingKeys:A.value,isSelectable:I}),Q=(ue?[{options:we}]:C.value).map((he,X)=>{const ie=_.value.slice(0,X),oe=_.value[X];return D(T0,Ft(Ft({key:X},H),{},{prefixCls:y.value,options:he.options,prevValuePath:ie,activeValue:oe}),null)});return D("div",{class:[`${y.value}-menus`,{[`${y.value}-menu-empty`]:ue,[`${y.value}-rtl`]:a.value}],onMousedown:k,ref:i},[Q])}}});function nE(){return ge(ge({},ss(Nm(),["tokenSeparators","mode","showSearch"])),{id:String,prefixCls:String,fieldNames:v1(),children:Array,value:{type:[String,Number,Array]},defaultValue:{type:[String,Number,Array]},changeOnSelect:{type:Boolean,default:void 0},displayRender:Function,checkable:{type:Boolean,default:void 0},showCheckedStrategy:{type:String,default:T3},showSearch:{type:[Boolean,Object],default:void 0},searchValue:String,onSearch:Function,expandTrigger:String,options:Array,dropdownPrefixCls:String,loadData:Function,popupVisible:{type:Boolean,default:void 0},popupClassName:String,dropdownClassName:String,dropdownMenuColumnStyle:{type:Object,default:void 0},popupStyle:{type:Object,default:void 0},dropdownStyle:{type:Object,default:void 0},popupPlacement:String,placement:String,onPopupVisibleChange:Function,onDropdownVisibleChange:Function,expandIcon:dr.any,loadingIcon:dr.any})}function D3(){return ge(ge({},nE()),{onChange:Function,customSlots:Object})}function rE(t){return Array.isArray(t)&&Array.isArray(t[0])}function Uc(t){return t?rE(t)?t:(t.length===0?[]:[t]).map(e=>Array.isArray(e)?e:[e]):[]}const oE=vn({compatConfig:{MODE:3},name:"Cascader",inheritAttrs:!1,props:i0(D3(),{}),setup(t,e){let{attrs:n,expose:r,slots:o}=e;const i=Om(wi(t,"id")),a=xe(()=>!!t.checkable),[s,l]=al(t.defaultValue,{value:xe(()=>t.value),postState:Uc}),u=xe(()=>zw(t.fieldNames)),d=xe(()=>t.options||[]),c=Uw(d,u),f=X=>{const ie=c.value;return X.map(oe=>{const{nodes:Te}=ie[oe];return Te.map(Xe=>Xe[u.value.value])})},[h,v]=al("",{value:xe(()=>t.searchValue),postState:X=>X||""}),p=(X,ie)=>{v(X),ie.source!=="blur"&&t.onSearch&&t.onSearch(X)},{showSearch:g,searchConfig:m}=Gw(wi(t,"showSearch")),y=Zw(h,d,u,xe(()=>t.dropdownPrefixCls||t.prefixCls),m,wi(t,"changeOnSelect")),A=Kw(d,u,s),[M,O,w]=[Ie([]),Ie([]),Ie([])],{maxLevel:_,levelEntities:N}=ym(c);Ki(()=>{const[X,ie]=A.value;if(!a.value||!s.value.length){[M.value,O.value,w.value]=[X,[],ie];return}const oe=Ei(X),Te=c.value,{checkedKeys:Xe,halfCheckedKeys:Et}=e2(oe,!0,Te,_.value,N.value);[M.value,O.value,w.value]=[f(Xe),f(Et),ie]});const R=xe(()=>{const X=Ei(M.value),ie=Wc(X,c.value,t.showCheckedStrategy);return[...w.value,...f(ie)]}),I=qw(R,d,u,a,wi(t,"displayRender")),W=X=>{if(l(X),t.onChange){const ie=Uc(X),oe=ie.map(Et=>Ya(Et,d.value,u.value).map(Qe=>Qe.option)),Te=a.value?ie:ie[0],Xe=a.value?oe:oe[0];t.onChange(Te,Xe)}},G=X=>{if(v(""),!a.value)W(X);else{const ie=vo(X),oe=Ei(M.value),Te=Ei(O.value),Xe=oe.includes(ie),Et=w.value.some(ft=>vo(ft)===ie);let Qe=M.value,ke=w.value;if(Et&&!Xe)ke=w.value.filter(ft=>vo(ft)!==ie);else{const ft=Xe?oe.filter(j=>j!==ie):[...oe,ie];let S;Xe?{checkedKeys:S}=e2(ft,{checked:!1,halfCheckedKeys:Te},c.value,_.value,N.value):{checkedKeys:S}=e2(ft,!0,c.value,_.value,N.value);const P=Wc(S,c.value,t.showCheckedStrategy);Qe=f(P)}W([...ke,...Qe])}},C=(X,ie)=>{if(ie.type==="clear"){W([]);return}const{valueCells:oe}=ie.values[0];G(oe)},L=xe(()=>t.open!==void 0?t.open:t.popupVisible),k=xe(()=>t.dropdownClassName||t.popupClassName),B=xe(()=>t.dropdownStyle||t.popupStyle||{}),V=xe(()=>t.placement||t.popupPlacement),$=X=>{var ie,oe;(ie=t.onDropdownVisibleChange)===null||ie===void 0||ie.call(t,X),(oe=t.onPopupVisibleChange)===null||oe===void 0||oe.call(t,X)},{changeOnSelect:te,checkable:ne,dropdownPrefixCls:se,loadData:me,expandTrigger:be,expandIcon:ue,loadingIcon:we,dropdownMenuColumnStyle:H,customSlots:Z}=w6(t);Jw({options:d,fieldNames:u,values:M,halfValues:O,changeOnSelect:te,onSelect:G,checkable:ne,searchOptions:y,dropdownPrefixCls:se,loadData:me,expandTrigger:be,expandIcon:ue,loadingIcon:we,dropdownMenuColumnStyle:H,customSlots:Z});const Q=Ie();r({focus(){var X;(X=Q.value)===null||X===void 0||X.focus()},blur(){var X;(X=Q.value)===null||X===void 0||X.blur()},scrollTo(X){var ie;(ie=Q.value)===null||ie===void 0||ie.scrollTo(X)}});const he=xe(()=>ss(t,["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","customSlots","showCheckedStrategy","children"]));return()=>{const X=!(h.value?y.value:d.value).length,{dropdownMatchSelectWidth:ie=!1}=t,oe=h.value&&m.value.matchInputWidth||X?{}:{minWidth:"auto"};return D(Am,Ft(Ft(Ft({},he.value),n),{},{ref:Q,id:i,prefixCls:t.prefixCls,dropdownMatchSelectWidth:ie,dropdownStyle:ge(ge({},B.value),oe),displayValues:I.value,onDisplayValuesChange:C,mode:a.value?"multiple":void 0,searchValue:h.value,onSearch:p,showSearch:g.value,OptionList:tE,emptyOptions:X,open:L.value,dropdownClassName:k.value,placement:V.value,onDropdownVisibleChange:$,getRawInputElement:()=>{var Te;return(Te=o.default)===null||Te===void 0?void 0:Te.call(o)}}),o)}}}),iE=t=>{const{prefixCls:e,componentCls:n,antCls:r}=t,o=`${n}-menu-item`,i=`
    &${o}-expand ${o}-expand-icon,
    ${o}-loading-icon
  `,a=Math.round((t.controlHeight-t.fontSize*t.lineHeight)/2);return[{[n]:{width:t.controlWidth}},{[`${n}-dropdown`]:[Dm(`${e}-checkbox`,t),{[`&${r}-select-dropdown`]:{padding:0}},{[n]:{"&-checkbox":{top:0,marginInlineEnd:t.paddingXS},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${n}-menu-empty`]:{[`${n}-menu`]:{width:"100%",height:"auto",[o]:{color:t.colorTextDisabled}}}},"&-menu":{flexGrow:1,minWidth:t.controlItemWidth,height:t.dropdownHeight,margin:0,padding:t.paddingXXS,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${t.lineWidth}px ${t.lineType} ${t.colorSplit}`},"&-item":ge(ge({},zu),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:`${a}px ${t.paddingSM}px`,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${t.motionDurationMid}`,borderRadius:t.borderRadiusSM,"&:hover":{background:t.controlItemBgHover},"&-disabled":{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[i]:{color:t.colorTextDisabled}},[`&-active:not(${o}-disabled)`]:{"&, &:hover":{fontWeight:t.fontWeightStrong,backgroundColor:t.controlItemBgActive}},"&-content":{flex:"auto"},[i]:{marginInlineStart:t.paddingXXS,color:t.colorTextDescription,fontSize:t.fontSizeIcon},"&-keyword":{color:t.colorHighlight}})}}}]},{[`${n}-dropdown-rtl`]:{direction:"rtl"}},e6(t)]},aE=Vu("Cascader",t=>[iE(t)],{controlWidth:184,controlItemWidth:111,dropdownHeight:180});var sE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function lE(t,e,n){const r=t.toLowerCase().split(e).reduce((a,s,l)=>l===0?[s]:[...a,e,s],[]),o=[];let i=0;return r.forEach((a,s)=>{const l=i+a.length;let u=t.slice(i,l);i=l,s%2===1&&(u=D("span",{class:`${n}-menu-item-keyword`,key:"seperator"},[u])),o.push(u)}),o}const uE=t=>{let{inputValue:e,path:n,prefixCls:r,fieldNames:o}=t;const i=[],a=e.toLowerCase();return n.forEach((s,l)=>{l!==0&&i.push(" / ");let u=s[o.label];const d=typeof u;(d==="string"||d==="number")&&(u=lE(String(u),a,r)),i.push(u)}),i};function dE(){return ge(ge({},ss(D3(),["customSlots","checkable","options"])),{multiple:{type:Boolean,default:void 0},size:String,bordered:{type:Boolean,default:void 0},placement:{type:String},suffixIcon:dr.any,status:String,options:Array,popupClassName:String,dropdownClassName:String,"onUpdate:value":Function})}const cE=vn({compatConfig:{MODE:3},name:"ACascader",inheritAttrs:!1,props:i0(dE(),{bordered:!0,choiceTransitionName:"",allowClear:!0}),setup(t,e){let{attrs:n,expose:r,slots:o,emit:i}=e;const a=j1(),s=$1.useInject(),l=xe(()=>F1(s.status,t.status)),{prefixCls:u,rootPrefixCls:d,getPrefixCls:c,direction:f,getPopupContainer:h,renderEmpty:v,size:p,disabled:g}=a0("cascader",t),m=xe(()=>c("select",t.prefixCls)),{compactSize:y,compactItemClassnames:A}=n6(m,f),M=xe(()=>y.value||p.value),O=r6(),w=xe(()=>{var $;return($=g.value)!==null&&$!==void 0?$:O.value}),[_,N]=Tm(m),[R]=aE(u),I=xe(()=>f.value==="rtl"),W=xe(()=>{if(!t.showSearch)return t.showSearch;let $={render:uE};return typeof t.showSearch=="object"&&($=ge(ge({},$),t.showSearch)),$}),G=xe(()=>vr(t.popupClassName||t.dropdownClassName,`${u.value}-dropdown`,{[`${u.value}-dropdown-rtl`]:I.value},N.value)),C=Ie();r({focus(){var $;($=C.value)===null||$===void 0||$.focus()},blur(){var $;($=C.value)===null||$===void 0||$.blur()}});const L=function(){for(var $=arguments.length,te=new Array($),ne=0;ne<$;ne++)te[ne]=arguments[ne];i("update:value",te[0]),i("change",...te),a.onFieldChange()},k=function(){for(var $=arguments.length,te=new Array($),ne=0;ne<$;ne++)te[ne]=arguments[ne];i("blur",...te),a.onFieldBlur()},B=xe(()=>t.showArrow!==void 0?t.showArrow:t.loading||!t.multiple),V=xe(()=>t.placement!==void 0?t.placement:f.value==="rtl"?"bottomRight":"bottomLeft");return()=>{var $,te;const{notFoundContent:ne=($=o.notFoundContent)===null||$===void 0?void 0:$.call(o),expandIcon:se=(te=o.expandIcon)===null||te===void 0?void 0:te.call(o),multiple:me,bordered:be,allowClear:ue,choiceTransitionName:we,transitionName:H,id:Z=a.id.value}=t,Q=sE(t,["notFoundContent","expandIcon","multiple","bordered","allowClear","choiceTransitionName","transitionName","id"]),he=ne||v("Cascader");let X=se;se||(X=I.value?D(Qu,null,null):D(U1,null,null));const ie=D("span",{class:`${m.value}-menu-item-loading-icon`},[D(o6,{spin:!0},null)]),{suffixIcon:oe,removeIcon:Te,clearIcon:Xe}=Pm(ge(ge({},t),{hasFeedback:s.hasFeedback,feedbackIcon:s.feedbackIcon,multiple:me,prefixCls:m.value,showArrow:B.value}),o);return R(_(D(oE,Ft(Ft(Ft({},Q),n),{},{id:Z,prefixCls:m.value,class:[u.value,{[`${m.value}-lg`]:M.value==="large",[`${m.value}-sm`]:M.value==="small",[`${m.value}-rtl`]:I.value,[`${m.value}-borderless`]:!be,[`${m.value}-in-form-item`]:s.isFormItemInput},L2(m.value,l.value,s.hasFeedback),A.value,n.class,N.value],disabled:w.value,direction:f.value,placement:V.value,notFoundContent:he,allowClear:ue,showSearch:W.value,expandIcon:X,inputIcon:oe,removeIcon:Te,clearIcon:Xe,loadingIcon:ie,checkable:!!me,dropdownClassName:G.value,dropdownPrefixCls:u.value,choiceTransitionName:ki(d.value,"",we),transitionName:ki(d.value,i6(V.value),H),getPopupContainer:h==null?void 0:h.value,customSlots:ge(ge({},o),{checkable:()=>D("span",{class:`${u.value}-checkbox-inner`},null)}),tagRender:t.tagRender||o.tagRender,displayRender:t.displayRender||o.displayRender,maxTagPlaceholder:t.maxTagPlaceholder||o.maxTagPlaceholder,showArrow:s.hasFeedback||t.showArrow,onChange:L,onBlur:k,ref:C}),o)))}}}),fE=t6(ge(cE,{SHOW_CHILD:P3,SHOW_PARENT:T3}));function hE(t){const e=Ie(null),n=kn(ge({},t)),r=Ie([]),o=i=>{e.value===null&&(r.value=[],e.value=fc(()=>{let a;r.value.forEach(s=>{a=ge(ge({},a),s)}),ge(n,a),e.value=null})),r.value.push(i)};return ri(()=>{e.value&&fc.cancel(e.value)}),[n,o]}function Gc(t,e,n,r){const o=e+n,i=(n-r)/2;if(n>r){if(e>0)return{[t]:i};if(e<0&&o<r)return{[t]:-i}}else if(e<0||o>r)return{[t]:e<0?i:-i};return{}}function pE(t,e,n,r){const{width:o,height:i}=_m();let a=null;return t<=o&&e<=i?a={x:0,y:0}:(t>o||e>i)&&(a=ge(ge({},Gc("x",n,t,o)),Gc("y",r,e,i))),a}var vE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Xc=Symbol("previewGroupContext"),Nd={provide:t=>{Wu(Xc,t)},inject:()=>xr(Xc,{isPreviewGroup:Pn(!1),previewUrls:xe(()=>new Map),setPreviewUrls:()=>{},current:Ie(null),setCurrent:()=>{},setShowPreview:()=>{},setMousePosition:()=>{},registerImage:null,rootClassName:""})},gE=()=>({previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:()=>({})}}),mE=vn({compatConfig:{MODE:3},name:"PreviewGroup",inheritAttrs:!1,props:gE(),setup(t,e){let{slots:n}=e;const r=xe(()=>{const O={visible:void 0,onVisibleChange:()=>{},getContainer:void 0,current:0};return typeof t.preview=="object"?B3(t.preview,O):O}),o=kn(new Map),i=Ie(),a=xe(()=>r.value.visible),s=xe(()=>r.value.getContainer),l=(O,w)=>{var _,N;(N=(_=r.value).onVisibleChange)===null||N===void 0||N.call(_,O,w)},[u,d]=al(!!a.value,{value:a,onChange:l}),c=Ie(null),f=xe(()=>a.value!==void 0),h=xe(()=>Array.from(o.keys())),v=xe(()=>h.value[r.value.current]),p=xe(()=>new Map(Array.from(o).filter(O=>{let[,{canPreview:w}]=O;return!!w}).map(O=>{let[w,{url:_}]=O;return[w,_]}))),g=function(O,w){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;o.set(O,{url:w,canPreview:_})},m=O=>{i.value=O},y=O=>{c.value=O},A=function(O,w){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const N=()=>{o.delete(O)};return o.set(O,{url:w,canPreview:_}),N},M=O=>{O==null||O.stopPropagation(),d(!1),y(null)};return qt(v,O=>{m(O)},{immediate:!0,flush:"post"}),Ki(()=>{u.value&&f.value&&m(v.value)},{flush:"post"}),Nd.provide({isPreviewGroup:Pn(!0),previewUrls:p,setPreviewUrls:g,current:i,setCurrent:m,setShowPreview:d,setMousePosition:y,registerImage:A}),()=>{const O=vE(r.value,[]);return D(It,null,[n.default&&n.default(),D(I3,Ft(Ft({},O),{},{"ria-hidden":!u.value,visible:u.value,prefixCls:t.previewPrefixCls,onClose:M,mousePosition:c.value,src:p.value.get(i.value),icons:t.icons,getContainer:s.value}),null)])}}}),R3=mE,ko={x:0,y:0},yE=ge(ge({},a6()),{src:String,alt:String,rootClassName:String,icons:{type:Object,default:()=>({})}}),_E=vn({compatConfig:{MODE:3},name:"Preview",inheritAttrs:!1,props:yE,emits:["close","afterClose"],setup(t,e){let{emit:n,attrs:r}=e;const{rotateLeft:o,rotateRight:i,zoomIn:a,zoomOut:s,close:l,left:u,right:d,flipX:c,flipY:f}=kn(t.icons),h=Pn(1),v=Pn(0),p=kn({x:1,y:1}),[g,m]=hE(ko),y=()=>n("close"),A=Pn(),M=kn({originX:0,originY:0,deltaX:0,deltaY:0}),O=Pn(!1),w=Nd.inject(),{previewUrls:_,current:N,isPreviewGroup:R,setCurrent:I}=w,W=xe(()=>_.value.size),G=xe(()=>Array.from(_.value.keys())),C=xe(()=>G.value.indexOf(N.value)),L=xe(()=>R.value?_.value.get(N.value):t.src),k=xe(()=>R.value&&W.value>1),B=Pn({wheelDirection:0}),V=()=>{h.value=1,v.value=0,p.x=1,p.y=1,m(ko),n("afterClose")},$=ke=>{ke?h.value+=.5:h.value++,m(ko)},te=ke=>{h.value>1&&(ke?h.value-=.5:h.value--),m(ko)},ne=()=>{v.value+=90},se=()=>{v.value-=90},me=()=>{p.x=-p.x},be=()=>{p.y=-p.y},ue=ke=>{ke.preventDefault(),ke.stopPropagation(),C.value>0&&I(G.value[C.value-1])},we=ke=>{ke.preventDefault(),ke.stopPropagation(),C.value<W.value-1&&I(G.value[C.value+1])},H=vr({[`${t.prefixCls}-moving`]:O.value}),Z=`${t.prefixCls}-operations-operation`,Q=`${t.prefixCls}-operations-icon`,he=[{icon:l,onClick:y,type:"close"},{icon:a,onClick:()=>$(),type:"zoomIn"},{icon:s,onClick:()=>te(),type:"zoomOut",disabled:xe(()=>h.value===1)},{icon:i,onClick:ne,type:"rotateRight"},{icon:o,onClick:se,type:"rotateLeft"},{icon:c,onClick:me,type:"flipX"},{icon:f,onClick:be,type:"flipY"}],X=()=>{if(t.visible&&O.value){const ke=A.value.offsetWidth*h.value,ft=A.value.offsetHeight*h.value,{left:S,top:P}=I1(A.value),j=v.value%180!==0;O.value=!1;const ee=pE(j?ft:ke,j?ke:ft,S,P);ee&&m(ge({},ee))}},ie=ke=>{ke.button===0&&(ke.preventDefault(),ke.stopPropagation(),M.deltaX=ke.pageX-g.x,M.deltaY=ke.pageY-g.y,M.originX=g.x,M.originY=g.y,O.value=!0)},oe=ke=>{t.visible&&O.value&&m({x:ke.pageX-M.deltaX,y:ke.pageY-M.deltaY})},Te=ke=>{if(!t.visible)return;ke.preventDefault();const ft=ke.deltaY;B.value={wheelDirection:ft}},Xe=ke=>{!t.visible||!k.value||(ke.preventDefault(),ke.keyCode===Xt.LEFT?C.value>0&&I(G.value[C.value-1]):ke.keyCode===Xt.RIGHT&&C.value<W.value-1&&I(G.value[C.value+1]))},Et=()=>{t.visible&&(h.value!==1&&(h.value=1),(g.x!==ko.x||g.y!==ko.y)&&m(ko))};let Qe=()=>{};return ri(()=>{qt([()=>t.visible,O],()=>{Qe();let ke,ft;const S=hi(window,"mouseup",X,!1),P=hi(window,"mousemove",oe,!1),j=hi(window,"wheel",Te,{passive:!1}),ee=hi(window,"keydown",Xe,!1);try{window.top!==window.self&&(ke=hi(window.top,"mouseup",X,!1),ft=hi(window.top,"mousemove",oe,!1))}catch{}Qe=()=>{S.remove(),P.remove(),j.remove(),ee.remove(),ke&&ke.remove(),ft&&ft.remove()}},{flush:"post",immediate:!0}),qt([B],()=>{const{wheelDirection:ke}=B.value;ke>0?te(!0):ke<0&&$(!0)})}),Uu(()=>{Qe()}),()=>{const{visible:ke,prefixCls:ft,rootClassName:S}=t;return D(s6,Ft(Ft({},r),{},{transitionName:t.transitionName,maskTransitionName:t.maskTransitionName,closable:!1,keyboard:!0,prefixCls:ft,onClose:y,afterClose:V,visible:ke,wrapClassName:H,rootClassName:S,getContainer:t.getContainer}),{default:()=>[D("div",{class:[`${t.prefixCls}-operations-wrapper`,S]},[D("ul",{class:`${t.prefixCls}-operations`},[he.map(P=>{let{icon:j,onClick:ee,type:F,disabled:fe}=P;return D("li",{class:vr(Z,{[`${t.prefixCls}-operations-operation-disabled`]:fe&&(fe==null?void 0:fe.value)}),onClick:ee,key:F},[E6(j,{class:Q})])})])]),D("div",{class:`${t.prefixCls}-img-wrapper`,style:{transform:`translate3d(${g.x}px, ${g.y}px, 0)`}},[D("img",{onMousedown:ie,onDblclick:Et,ref:A,class:`${t.prefixCls}-img`,src:L.value,alt:t.alt,style:{transform:`scale3d(${p.x*h.value}, ${p.y*h.value}, 1) rotate(${v.value}deg)`}},null)]),k.value&&D("div",{class:vr(`${t.prefixCls}-switch-left`,{[`${t.prefixCls}-switch-left-disabled`]:C.value<=0}),onClick:ue},[u]),k.value&&D("div",{class:vr(`${t.prefixCls}-switch-right`,{[`${t.prefixCls}-switch-right-disabled`]:C.value>=W.value-1}),onClick:we},[d])]})}}}),I3=_E;var CE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const H3=()=>({src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,previewMask:{type:[Boolean,Function],default:void 0},placeholder:dr.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}),B3=(t,e)=>{const n=ge({},t);return Object.keys(e).forEach(r=>{t[r]===void 0&&(n[r]=e[r])}),n};let bE=0;const j3=vn({compatConfig:{MODE:3},name:"VcImage",inheritAttrs:!1,props:H3(),emits:["click","error"],setup(t,e){let{attrs:n,slots:r,emit:o}=e;const i=xe(()=>t.prefixCls),a=xe(()=>`${i.value}-preview`),s=xe(()=>{const $={visible:void 0,onVisibleChange:()=>{},getContainer:void 0};return typeof t.preview=="object"?B3(t.preview,$):$}),l=xe(()=>{var $;return($=s.value.src)!==null&&$!==void 0?$:t.src}),u=xe(()=>t.placeholder&&t.placeholder!==!0||r.placeholder),d=xe(()=>s.value.visible),c=xe(()=>s.value.getContainer),f=xe(()=>d.value!==void 0),h=($,te)=>{var ne,se;(se=(ne=s.value).onVisibleChange)===null||se===void 0||se.call(ne,$,te)},[v,p]=al(!!d.value,{value:d,onChange:h}),g=Ie(u.value?"loading":"normal");qt(()=>t.src,()=>{g.value=u.value?"loading":"normal"});const m=Ie(null),y=xe(()=>g.value==="error"),A=Nd.inject(),{isPreviewGroup:M,setCurrent:O,setShowPreview:w,setMousePosition:_,registerImage:N}=A,R=Ie(bE++),I=xe(()=>t.preview&&!y.value),W=()=>{g.value="normal"},G=$=>{g.value="error",o("error",$)},C=$=>{if(!f.value){const{left:te,top:ne}=I1($.target);M.value?(O(R.value),_({x:te,y:ne})):m.value={x:te,y:ne}}M.value?w(!0):p(!0),o("click",$)},L=()=>{p(!1),f.value||(m.value=null)},k=Ie(null);qt(()=>k,()=>{g.value==="loading"&&k.value.complete&&(k.value.naturalWidth||k.value.naturalHeight)&&W()});let B=()=>{};ri(()=>{qt([l,I],()=>{if(B(),!M.value)return()=>{};B=N(R.value,l.value,I.value),I.value||B()},{flush:"post",immediate:!0})}),Uu(()=>{B()});const V=$=>pd($)?$+"px":$;return()=>{const{prefixCls:$,wrapperClassName:te,fallback:ne,src:se,placeholder:me,wrapperStyle:be,rootClassName:ue}=t,{width:we,height:H,crossorigin:Z,decoding:Q,alt:he,sizes:X,srcset:ie,usemap:oe,class:Te,style:Xe}=n,Et=s.value,{icons:Qe,maskClassName:ke}=Et,ft=CE(Et,["icons","maskClassName"]),S=vr($,te,ue,{[`${$}-error`]:y.value}),P=y.value&&ne?ne:l.value,j={crossorigin:Z,decoding:Q,alt:he,sizes:X,srcset:ie,usemap:oe,width:we,height:H,class:vr(`${$}-img`,{[`${$}-img-placeholder`]:me===!0},Te),style:ge({height:V(H)},Xe)};return D(It,null,[D("div",{class:S,onClick:I.value?C:ee=>{o("click",ee)},style:ge({width:V(we),height:V(H)},be)},[D("img",Ft(Ft(Ft({},j),y.value&&ne?{src:ne}:{onLoad:W,onError:G,src:se}),{},{ref:k}),null),g.value==="loading"&&D("div",{"aria-hidden":"true",class:`${$}-placeholder`},[me||r.placeholder&&r.placeholder()]),r.previewMask&&I.value&&D("div",{class:[`${$}-mask`,ke]},[r.previewMask()])]),!M.value&&I.value&&D(I3,Ft(Ft({},ft),{},{"aria-hidden":!v.value,visible:v.value,prefixCls:a.value,onClose:L,mousePosition:m.value,src:P,alt:he,getContainer:c.value,icons:Qe,rootClassName:ue}),null)])}}});j3.PreviewGroup=R3;const xE=j3;var wE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const EE=wE;function Yc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){SE(t,o,n[o])})}return t}function SE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Td=function(e,n){var r=Yc({},e,n.attrs);return D(Zi,Yc({},r,{icon:EE}),null)};Td.displayName="RotateLeftOutlined";Td.inheritAttrs=!1;const ME=Td;var OE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const AE=OE;function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){NE(t,o,n[o])})}return t}function NE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pd=function(e,n){var r=Zc({},e,n.attrs);return D(Zi,Zc({},r,{icon:AE}),null)};Pd.displayName="RotateRightOutlined";Pd.inheritAttrs=!1;const TE=Pd;var PE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const kE=PE;function Kc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){LE(t,o,n[o])})}return t}function LE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kd=function(e,n){var r=Kc({},e,n.attrs);return D(Zi,Kc({},r,{icon:kE}),null)};kd.displayName="ZoomInOutlined";kd.inheritAttrs=!1;const DE=kd;var RE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const IE=RE;function qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){HE(t,o,n[o])})}return t}function HE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ld=function(e,n){var r=qc({},e,n.attrs);return D(Zi,qc({},r,{icon:IE}),null)};Ld.displayName="ZoomOutOutlined";Ld.inheritAttrs=!1;const BE=Ld;var jE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const $E=jE;function Jc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){FE(t,o,n[o])})}return t}function FE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dd=function(e,n){var r=Jc({},e,n.attrs);return D(Zi,Jc({},r,{icon:$E}),null)};Dd.displayName="SwapOutlined";Dd.inheritAttrs=!1;const Qc=Dd,W2=t=>({position:t||"absolute",inset:0}),VE=t=>{const{iconCls:e,motionDurationSlow:n,paddingXXS:r,marginXXS:o,prefixCls:i}=t;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new Ni("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${i}-mask-info`]:ge(ge({},zu),{padding:`0 ${r}px`,[e]:{marginInlineEnd:o,svg:{verticalAlign:"baseline"}}})}},zE=t=>{const{previewCls:e,modalMaskBg:n,paddingSM:r,previewOperationColorDisabled:o,motionDurationSlow:i}=t,a=new Ni(n).setAlpha(.1),s=a.clone().setAlpha(.2);return{[`${e}-operations`]:ge(ge({},P2(t)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:t.previewOperationColor,listStyle:"none",background:a.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${i}`,userSelect:"none","&:hover":{background:s.toRgbString()},"&-disabled":{color:o,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:t.previewOperationSize}})}},WE=t=>{const{modalMaskBg:e,iconCls:n,previewOperationColorDisabled:r,previewCls:o,zIndexPopup:i,motionDurationSlow:a}=t,s=new Ni(e).setAlpha(.1),l=s.clone().setAlpha(.2);return{[`${o}-switch-left, ${o}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:i+1,display:"flex",alignItems:"center",justifyContent:"center",width:t.imagePreviewSwitchSize,height:t.imagePreviewSwitchSize,marginTop:-t.imagePreviewSwitchSize/2,color:t.previewOperationColor,background:s.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${a}`,pointerEvents:"auto",userSelect:"none","&:hover":{background:l.toRgbString()},"&-disabled":{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:t.previewOperationSize}},[`${o}-switch-left`]:{insetInlineStart:t.marginSM},[`${o}-switch-right`]:{insetInlineEnd:t.marginSM}}},UE=t=>{const{motionEaseOut:e,previewCls:n,motionDurationSlow:r,componentCls:o}=t;return[{[`${o}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:ge(ge({},W2()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${e} 0s`,userSelect:"none",pointerEvents:"auto","&-wrapper":ge(ge({},W2()),{transition:`transform ${r} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${o}-preview-root`]:{[`${n}-wrap`]:{zIndex:t.zIndexPopup}}},{[`${o}-preview-operations-wrapper`]:{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:t.zIndexPopup+1,width:"100%"},"&":[zE(t),WE(t)]}]},GE=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:ge({},VE(t)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:ge({},W2())}}},XE=t=>{const{previewCls:e}=t;return{[`${e}-root`]:u6(t,"zoom"),"&":d6(t,!0)}},$3=Vu("Image",t=>{const e=`${t.componentCls}-preview`,n=hc(t,{previewCls:e,modalMaskBg:new Ni("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:t.controlHeightLG});return[GE(n),UE(n),l6(hc(n,{componentCls:e})),XE(n)]},t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new Ni(t.colorTextLightSolid).toRgbString(),previewOperationColorDisabled:new Ni(t.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5})),F3={rotateLeft:D(ME,null,null),rotateRight:D(TE,null,null),zoomIn:D(DE,null,null),zoomOut:D(BE,null,null),close:D(c6,null,null),left:D(Qu,null,null),right:D(U1,null,null),flipX:D(Qc,null,null),flipY:D(Qc,{rotate:90},null)},YE=()=>({previewPrefixCls:String,preview:g1()}),ZE=vn({compatConfig:{MODE:3},name:"AImagePreviewGroup",inheritAttrs:!1,props:YE(),setup(t,e){let{attrs:n,slots:r}=e;const{prefixCls:o,rootPrefixCls:i}=a0("image",t),a=xe(()=>`${o.value}-preview`),[s,l]=$3(o),u=xe(()=>{const{preview:d}=t;if(d===!1)return d;const c=typeof d=="object"?d:{};return ge(ge({},c),{rootClassName:l.value,transitionName:ki(i.value,"zoom",c.transitionName),maskTransitionName:ki(i.value,"fade",c.maskTransitionName)})});return()=>s(D(R3,Ft(Ft({},ge(ge({},n),t)),{},{preview:u.value,icons:F3,previewPrefixCls:a.value}),r))}}),KE=ZE,Ho=vn({name:"AImage",inheritAttrs:!1,props:H3(),setup(t,e){let{slots:n,attrs:r}=e;const{prefixCls:o,rootPrefixCls:i,configProvider:a}=a0("image",t),[s,l]=$3(o),u=xe(()=>{const{preview:d}=t;if(d===!1)return d;const c=typeof d=="object"?d:{};return ge(ge({icons:F3},c),{transitionName:ki(i.value,"zoom",c.transitionName),maskTransitionName:ki(i.value,"fade",c.maskTransitionName)})});return()=>{var d,c;const f=((c=(d=a.locale)===null||d===void 0?void 0:d.value)===null||c===void 0?void 0:c.Image)||f6.Image,h=()=>D("div",{class:`${o.value}-mask-info`},[D(Vm,null,null),f==null?void 0:f.preview]),{previewMask:v=n.previewMask||h}=t;return s(D(xE,Ft(Ft({},ge(ge(ge({},r),t),{prefixCls:o.value})),{},{preview:u.value,rootClassName:vr(t.rootClassName,l.value)}),ge(ge({},n),{previewMask:typeof v=="function"?v:null})))}}});Ho.PreviewGroup=KE;Ho.install=function(t){return t.component(Ho.name,Ho),t.component(Ho.PreviewGroup.name,Ho.PreviewGroup),t};const qE=Ho;function JE(t){const{selectionStart:e}=t;return t.value.slice(0,e)}function QE(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(Array.isArray(e)?e:[e]).reduce((r,o)=>{const i=t.lastIndexOf(o);return i>r.location?{location:i,prefix:o}:r},{location:-1,prefix:""})}function ef(t){return(t||"").toLowerCase()}function eS(t,e,n){const r=t[0];if(!r||r===n)return t;let o=t;const i=e.length;for(let a=0;a<i;a+=1)if(ef(o[a])!==ef(e[a])){o=o.slice(a);break}else a===i-1&&(o=o.slice(i));return o}function tS(t,e){const{measureLocation:n,prefix:r,targetText:o,selectionStart:i,split:a}=e;let s=t.slice(0,n);s[s.length-a.length]===a&&(s=s.slice(0,s.length-a.length)),s&&(s=`${s}${a}`);let l=eS(t.slice(i),o.slice(i-n-r.length),a);l.slice(0,a.length)===a&&(l=l.slice(a.length));const u=`${s}${r}${o}${a}`;return{text:`${u}${l}`,selectionLocation:u.length}}function nS(t,e){t.setSelectionRange(e,e),t.blur(),t.focus()}function rS(t,e){const{split:n}=e;return!n||t.indexOf(n)===-1}function oS(t,e){let{value:n=""}=e;const r=t.toLowerCase();return n.toLowerCase().indexOf(r)!==-1}const iS=Symbol("MentionsContextKey"),V3=iS;function aS(){}const sS=vn({compatConfig:{MODE:3},name:"DropdownMenu",props:{prefixCls:String,options:{type:Array,default:()=>[]}},setup(t,e){let{slots:n}=e;const{activeIndex:r,setActiveIndex:o,selectOption:i,onFocus:a=aS,loading:s}=xr(V3,{activeIndex:Pn(),loading:Pn(!1)});let l;const u=d=>{clearTimeout(l),l=setTimeout(()=>{a(d)})};return y1(()=>{clearTimeout(l)}),()=>{var d;const{prefixCls:c,options:f}=t,h=f[r.value]||{};return D(k6,{prefixCls:`${c}-menu`,activeKey:h.value,onSelect:v=>{let{key:p}=v;const g=f.find(m=>{let{value:y}=m;return y===p});i(g)},onMousedown:u},{default:()=>[!s.value&&f.map((v,p)=>{var g,m;const{value:y,disabled:A,label:M=v.value,class:O,style:w}=v;return D(Q0,{key:y,disabled:A,onMouseenter:()=>{o(p)},class:O,style:w},{default:()=>[(m=(g=n.option)===null||g===void 0?void 0:g.call(n,v))!==null&&m!==void 0?m:typeof M=="function"?M(v):M]})}),!s.value&&f.length===0?D(Q0,{key:"notFoundContent",disabled:!0},{default:()=>[(d=n.notFoundContent)===null||d===void 0?void 0:d.call(n)]}):null,s.value&&D(Q0,{key:"loading",disabled:!0},{default:()=>[D(Zu,{size:"small"},null)]})]})}}}),lS={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},uS=vn({compatConfig:{MODE:3},name:"KeywordTrigger",props:{loading:{type:Boolean,default:void 0},options:{type:Array,default:()=>[]},prefixCls:String,placement:String,visible:{type:Boolean,default:void 0},transitionName:String,getPopupContainer:Function,direction:String,dropdownClassName:String},setup(t,e){let{slots:n}=e;const r=()=>`${t.prefixCls}-dropdown`,o=()=>{const{options:a}=t;return D(sS,{prefixCls:r(),options:a},{notFoundContent:n.notFoundContent,option:n.option})},i=xe(()=>{const{placement:a,direction:s}=t;let l="topRight";return s==="rtl"?l=a==="top"?"topLeft":"bottomLeft":l=a==="top"?"topRight":"bottomRight",l});return()=>{const{visible:a,transitionName:s,getPopupContainer:l}=t;return D(um,{prefixCls:r(),popupVisible:a,popup:o(),popupClassName:t.dropdownClassName,popupPlacement:i.value,popupTransitionName:s,builtinPlacements:lS,getPopupContainer:l},{default:n.default})}}}),dS=h6("top","bottom"),z3={autofocus:{type:Boolean,default:void 0},prefix:dr.oneOfType([dr.string,dr.arrayOf(dr.string)]),prefixCls:String,value:String,disabled:{type:Boolean,default:void 0},split:String,transitionName:String,placement:dr.oneOf(dS),character:dr.any,characterRender:Function,filterOption:{type:[Boolean,Function]},validateSearch:Function,getPopupContainer:{type:Function},options:p6(),loading:{type:Boolean,default:void 0},rows:[Number,String],direction:{type:String}},W3=ge(ge({},z3),{dropdownClassName:String}),U3={prefix:"@",split:" ",rows:1,validateSearch:rS,filterOption:()=>oS};i0(W3,U3);var tf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function nf(){}const cS=vn({compatConfig:{MODE:3},name:"Mentions",inheritAttrs:!1,props:i0(W3,U3),emits:["change","select","search","focus","blur","pressenter"],setup(t,e){let{emit:n,attrs:r,expose:o,slots:i}=e;const a=Ie(null),s=Ie(null),l=Ie(),u=kn({value:t.value||"",measuring:!1,measureLocation:0,measureText:null,measurePrefix:"",activeIndex:0,isFocus:!1});Ki(()=>{u.value=t.value});const d=W=>{n("change",W)},c=W=>{let{target:{value:G,composing:C},isComposing:L}=W;L||C||d(G)},f=(W,G,C)=>{ge(u,{measuring:!0,measureText:W,measurePrefix:G,measureLocation:C,activeIndex:0})},h=W=>{ge(u,{measuring:!1,measureLocation:0,measureText:null}),W==null||W()},v=W=>{const{which:G}=W;if(u.measuring){if(G===Xt.UP||G===Xt.DOWN){const C=N.value.length,L=G===Xt.UP?-1:1,k=(u.activeIndex+L+C)%C;u.activeIndex=k,W.preventDefault()}else if(G===Xt.ESC)h();else if(G===Xt.ENTER){if(W.preventDefault(),!N.value.length){h();return}const C=N.value[u.activeIndex];O(C)}}},p=W=>{const{key:G,which:C}=W,{measureText:L,measuring:k}=u,{prefix:B,validateSearch:V}=t,$=W.target;if($.composing)return;const te=JE($),{location:ne,prefix:se}=QE(te,B);if([Xt.ESC,Xt.UP,Xt.DOWN,Xt.ENTER].indexOf(C)===-1)if(ne!==-1){const me=te.slice(ne+se.length),be=V(me,t),ue=!!_(me).length;be?(G===se||G==="Shift"||k||me!==L&&ue)&&f(me,se,ne):k&&h(),be&&n("search",me,se)}else k&&h()},g=W=>{u.measuring||n("pressenter",W)},m=W=>{A(W)},y=W=>{M(W)},A=W=>{clearTimeout(l.value);const{isFocus:G}=u;!G&&W&&n("focus",W),u.isFocus=!0},M=W=>{l.value=setTimeout(()=>{u.isFocus=!1,h(),n("blur",W)},100)},O=W=>{const{split:G}=t,{value:C=""}=W,{text:L,selectionLocation:k}=tS(u.value,{measureLocation:u.measureLocation,targetText:C,prefix:u.measurePrefix,selectionStart:s.value.selectionStart,split:G});d(L),h(()=>{nS(s.value,k)}),n("select",W,u.measurePrefix)},w=W=>{u.activeIndex=W},_=W=>{const G=W||u.measureText||"",{filterOption:C}=t;return t.options.filter(k=>C?C(G,k):!0)},N=xe(()=>_());return o({blur:()=>{s.value.blur()},focus:()=>{s.value.focus()}}),Wu(V3,{activeIndex:wi(u,"activeIndex"),setActiveIndex:w,selectOption:O,onFocus:A,onBlur:M,loading:wi(t,"loading")}),S6(()=>{M6(()=>{u.measuring&&(a.value.scrollTop=s.value.scrollTop)})}),()=>{const{measureLocation:W,measurePrefix:G,measuring:C}=u,{prefixCls:L,placement:k,transitionName:B,getPopupContainer:V,direction:$}=t,te=tf(t,["prefixCls","placement","transitionName","getPopupContainer","direction"]),{class:ne,style:se}=r,me=tf(r,["class","style"]),be=ss(te,["value","prefix","split","validateSearch","filterOption","options","loading"]),ue=ge(ge(ge({},be),me),{onChange:nf,onSelect:nf,value:u.value,onInput:c,onBlur:y,onKeydown:v,onKeyup:p,onFocus:m,onPressenter:g});return D("div",{class:vr(L,ne),style:se},[us(D("textarea",Ft({ref:s},ue),null),[[Cm]]),C&&D("div",{ref:a,class:`${L}-measure`},[u.value.slice(0,W),D(uS,{prefixCls:L,transitionName:B,dropdownClassName:t.dropdownClassName,placement:k,options:C?N.value:[],visible:!0,direction:$,getPopupContainer:V},{default:()=>[D("span",null,[G])],notFoundContent:i.notFoundContent,option:i.option}),u.value.slice(W+G.length)])])}}}),fS={value:String,disabled:Boolean,payload:v1()},G3=ge(ge({},fS),{label:g1([])}),X3={name:"Option",props:G3,render(t,e){let{slots:n}=e;var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}};vn(ge({compatConfig:{MODE:3}},X3));const hS=t=>{const{componentCls:e,colorTextDisabled:n,controlItemBgHover:r,controlPaddingHorizontal:o,colorText:i,motionDurationSlow:a,lineHeight:s,controlHeight:l,inputPaddingHorizontal:u,inputPaddingVertical:d,fontSize:c,colorBgElevated:f,borderRadiusLG:h,boxShadowSecondary:v}=t,p=Math.round((t.controlHeight-t.fontSize*t.lineHeight)/2);return{[e]:ge(ge(ge(ge(ge({},P2(t)),Sm(t)),{position:"relative",display:"inline-block",height:"auto",padding:0,overflow:"hidden",lineHeight:s,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),Mm(t,e)),{"&-disabled":{"> textarea":ge({},xm(t))},"&-focused":ge({},wm(t)),[`&-affix-wrapper ${e}-suffix`]:{position:"absolute",top:0,insetInlineEnd:u,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},[`> textarea, ${e}-measure`]:{color:i,boxSizing:"border-box",minHeight:l-2,margin:0,padding:`${d}px ${u}px`,overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":ge({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"inherit"},Em(t.colorTextPlaceholder)),[`${e}-measure`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}},"&-dropdown":ge(ge({},P2(t)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",fontSize:c,fontVariant:"initial",backgroundColor:f,borderRadius:h,outline:"none",boxShadow:v,"&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:t.dropdownHeight,marginBottom:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":ge(ge({},zu),{position:"relative",display:"block",minWidth:t.controlItemWidth,padding:`${p}px ${o}px`,color:i,fontWeight:"normal",lineHeight:s,cursor:"pointer",transition:`background ${a} ease`,"&:hover":{backgroundColor:r},"&:first-child":{borderStartStartRadius:h,borderStartEndRadius:h,borderEndStartRadius:0,borderEndEndRadius:0},"&:last-child":{borderStartStartRadius:0,borderStartEndRadius:0,borderEndStartRadius:h,borderEndEndRadius:h},"&-disabled":{color:n,cursor:"not-allowed","&:hover":{color:n,backgroundColor:r,cursor:"not-allowed"}},"&-selected":{color:i,fontWeight:t.fontWeightStrong,backgroundColor:r},"&-active":{backgroundColor:r}})}})})}},pS=Vu("Mentions",t=>{const e=bm(t);return[hS(e)]},t=>({dropdownHeight:250,controlItemWidth:100,zIndexPopup:t.zIndexPopupBase+50}));var rf=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function vS(){return!0}const gS=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{prefix:n="@",split:r=" "}=e,o=Array.isArray(n)?n:[n];return t.split(r).map(function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=null;return o.some(s=>i.slice(0,s.length)===s?(a=s,!0):!1),a!==null?{prefix:a,value:i.slice(a.length)}:null}).filter(i=>!!i&&!!i.value)},mS=()=>ge(ge({},z3),{loading:{type:Boolean,default:void 0},onFocus:{type:Function},onBlur:{type:Function},onSelect:{type:Function},onChange:{type:Function},onPressenter:{type:Function},"onUpdate:value":{type:Function},notFoundContent:dr.any,defaultValue:String,id:String,status:String}),l2=vn({compatConfig:{MODE:3},name:"AMentions",inheritAttrs:!1,props:mS(),slots:Object,setup(t,e){let{slots:n,emit:r,attrs:o,expose:i}=e;var a,s;const{prefixCls:l,renderEmpty:u,direction:d}=a0("mentions",t),[c,f]=pS(l),h=Pn(!1),v=Pn(null),p=Pn((s=(a=t.value)!==null&&a!==void 0?a:t.defaultValue)!==null&&s!==void 0?s:""),g=j1(),m=$1.useInject(),y=xe(()=>F1(m.status,t.status));L6({prefixCls:xe(()=>`${l.value}-menu`),mode:xe(()=>"vertical"),selectable:xe(()=>!1),onClick:()=>{},validator:G=>{v6()}}),qt(()=>t.value,G=>{p.value=G});const A=G=>{h.value=!0,r("focus",G)},M=G=>{h.value=!1,r("blur",G),g.onFieldBlur()},O=function(){for(var G=arguments.length,C=new Array(G),L=0;L<G;L++)C[L]=arguments[L];r("select",...C),h.value=!0},w=G=>{t.value===void 0&&(p.value=G),r("update:value",G),r("change",G),g.onFieldChange()},_=()=>{const G=t.notFoundContent;return G!==void 0?G:n.notFoundContent?n.notFoundContent():u("Select")},N=()=>{var G;return g6(((G=n.default)===null||G===void 0?void 0:G.call(n))||[]).map(C=>{var L,k;return ge(ge({},m6(C)),{label:(k=(L=C.children)===null||L===void 0?void 0:L.default)===null||k===void 0?void 0:k.call(L)})})};i({focus:()=>{v.value.focus()},blur:()=>{v.value.blur()}});const W=xe(()=>t.loading?vS:t.filterOption);return()=>{const{disabled:G,getPopupContainer:C,rows:L=1,id:k=g.id.value}=t,B=rf(t,["disabled","getPopupContainer","rows","id"]),{hasFeedback:V,feedbackIcon:$}=m,{class:te}=o,ne=rf(o,["class"]),se=ss(B,["defaultValue","onUpdate:value","prefixCls"]),me=vr({[`${l.value}-disabled`]:G,[`${l.value}-focused`]:h.value,[`${l.value}-rtl`]:d.value==="rtl"},L2(l.value,y.value),!V&&te,f.value),be=ge(ge(ge(ge({prefixCls:l.value},se),{disabled:G,direction:d.value,filterOption:W.value,getPopupContainer:C,options:t.loading?[{value:"ANTDV_SEARCHING",disabled:!0,label:D(Zu,{size:"small"},null)}]:t.options||N(),class:me}),ne),{rows:L,onChange:w,onSelect:O,onFocus:A,onBlur:M,ref:v,value:p.value,id:k}),ue=D(cS,Ft(Ft({},be),{},{dropdownClassName:f.value}),{notFoundContent:_,option:n.option});return c(V?D("div",{class:vr(`${l.value}-affix-wrapper`,L2(`${l.value}-affix-wrapper`,y.value,V),te,f.value)},[ue,D("span",{class:`${l.value}-suffix`},[$])]):ue)}}}),u2=vn(ge(ge({compatConfig:{MODE:3}},X3),{name:"AMentionsOption",props:G3})),Rd=ge(l2,{Option:u2,getMentions:gS,install:t=>(t.component(l2.name,l2),t.component(u2.name,u2),t)});var yS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};const _S=yS;function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){CS(t,o,n[o])})}return t}function CS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Id=function(e,n){var r=of({},e,n.attrs);return D(Zi,of({},r,{icon:_S}),null)};Id.displayName="HolderOutlined";Id.inheritAttrs=!1;const bS=Id;function xS(t){return{"start-node":"start-node"}[t]||t}function Y3(t,e){if(!t||t.length===0)return 0;const n={width:U2(e),paddingTop:12,paddingBottom:16,paddingLeft:16,paddingRight:16};let r=document.createElement("div");r.style.boxSizing="border-box",r.style.whiteSpace="pre-wrap",r.style.position="fixed",r.style.left="-9999px",r.style.top="-9999px",r.style.background="#fff";for(let o in n)r.style[o]=n[o]+"px";return t.forEach(o=>{let i=document.createElement("div");i.className=o.className||"",i.id=o.id||"",o.type==="text"&&(i.innerHTML=o.content);for(let a in o.style)i.style[a]=o.style[a]+"px";r.appendChild(i)}),r}function Z3(t,e){let n=Y3(t,e);document.body.appendChild(n);let r=n.offsetHeight;return n.remove(),r}function wS(t){return[{type:"text",content:t.properties.node_name,style:{height:24,marginBottom:4}}]}function K3(t){let e=wS(t),n=Y3(e,t);const r=[];document.body.appendChild(n);let o=n.querySelectorAll(".msg-anchor-item")||[];return o.length>0&&o.forEach(i=>{let a={offsetTop:i.offsetTop,offsetHeight:i.offsetHeight,id:i.id};r.push(a)}),n.remove(),r}function ES(t){let e=84,n=[],r=0,o=0;return t.term&&t.term.length&&(o=t.term.length,t.term.forEach((i,a)=>{r+=i.terms.length;let s=0;if(a>0){let l=2;for(let u=0;u<a;u++)l+=t.term[u].terms.length;s=46*l+106*(a-1),a>3&&(s=s+10)}n.push({id:t.nodeSortKey+"-anchor_"+a,offsetHeight:38,offsetTop:e+s})})),n.push({id:t.nodeSortKey+"-anchor_right",offsetHeight:38,offsetTop:225+42*r+116*(o-1)}),n}function SS(t){let e=388;return t.showMoreBtn&&(e=e+144),t.categorys&&t.categorys.length?t.categorys.map((n,r)=>({id:t.nodeSortKey+"-anchor_"+r,offsetHeight:38,offsetTop:e+36*r})):[]}function MS(t){return Z3([{type:"div",content:"",style:{height:190}}],t)}function OS(t){return 416+JSON.parse(t.properties.node_params).libs.library_ids.split(",").length*72}function AS(t){let e=[{type:"text",content:t.properties.node_name,style:{height:24,lineHeight:24,marginBottom:4}},{type:"text",content:t.properties.content,style:{lineHeight:22,minHeight:22}}];return Z3(e,t)}function U2(t){return{"start-node":420,"judge-node":568,"http-node":568,"question-node":568,"ai-dialogue-node":568,"knowledge-base-node":568,"end-node":420}[t.type]||568}function d2(t){return t.type=="start-node"?MS(t):t.type=="message-node"?800:t.type=="knowledge-base-node"?OS(t):t.type=="question-node"?800:t.type=="action-node"?AS(t):t.type=="ai-dialogue-node"?670:t.type=="end-node"?86:800}const q3=t=>(Jt("data-v-ad54160d"),t=t(),Qt(),t),NS={key:0,class:"sidebar-handle-wrapper"},TS=q3(()=>T("span",{class:"handle-line handle-line01"},null,-1)),PS=q3(()=>T("span",{class:"handle-line handle-line02"},null,-1)),kS=[TS,PS],LS={class:"sidebar-container"},DS={class:"sidebar-menus"},RS=["onClick"],IS={class:"menu-name"},HS={__name:"page-sidebar",props:{showSidebarBtn:{default:!0,type:Boolean}},setup(t){const e=_1(),n=C1(),r=xe(()=>n.path.split("/")[3]),o=Ie(!1),i=Ie(!1),a=Ie(!1);function s(){o.value=!o.value,a.value=!1,setTimeout(()=>{i.value=o.value},250)}const l=[{label:"对话流程",value:"workflow",path:"/robot/config/workflow",iconName:"workflow"},{label:"对外服务",value:"external-services",path:"/robot/config/external-services",iconName:"duiwaifuwu"},{label:"聊天测试",value:"test",path:"/robot/test",iconName:"liaotianceshi",isNewWindowOpen:!0},{label:"问答反馈",value:"qa-feedbacks",path:"/robot/config/qa-feedbacks",iconName:"qa-feedback"},{label:"会话记录",value:"session-record",path:"/robot/config/session-record",iconName:"session-record"},{label:"API Key管理",value:"api-key-manage",path:"/robot/config/api-key-manage",iconName:"duiwaifuwu"},{label:"统计分析",value:"statistical_analysis",path:"/robot/config/statistical_analysis",iconName:"statistical-analysis"},{label:"导出记录",value:"export-record",path:"/robot/config/export-record",iconName:"export-record"}],u=d=>{if(d.isNewWindowOpen){window.open(`/#${d.path}?robot_key=${n.query.robot_key}&id=${n.query.id}`);return}e.push({path:d.path,query:n.query})};return(d,c)=>{const f=c0,h=s0;return ae(),Ce("div",{class:Ga(["sidebar-wrapper",{"is-hide":o.value}])},[t.showSidebarBtn?(ae(),Ce("div",NS,[D(f,{mouseEnterDelay:0,mouseLeaveDelay:0,placement:"right",modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=v=>a.value=v),arrow:!1},{title:re(()=>[ot(st(o.value?"展开":"收起"),1)]),default:re(()=>[T("span",{class:"sidebar-handle",onClick:s},kS)]),_:1},8,["modelValue"])])):Ht("",!0),T("div",LS,[T("div",DS,[(ae(),Ce(It,null,Vt(l,v=>T("div",{class:Ga(["sidebar-menu",{active:r.value==v.value}]),key:v.value,onClick:p=>u(v)},[i.value?(ae(),lt(f,{key:0,placement:"bottom"},{title:re(()=>[T("span",null,st(v.label),1)]),default:re(()=>[D(h,{name:v.iconName,class:"menu-icon",size:"16"},null,8,["name"])]),_:2},1024)):(ae(),lt(h,{key:1,name:v.iconName,class:"menu-icon",size:"16"},null,8,["name"])),T("span",IS,st(v.label),1)],10,RS)),64))])])],2)}}},BS=Dt(HS,[["__scopeId","data-v-ad54160d"]]),jS="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%232469F1'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.13965%204.41084C8.62106%204.45199%209.03903%204.78056%209.21839%205.25886L12.3963%2013.7334C12.6571%2014.4287%2012.34%2015.2178%2011.6882%2015.4959C11.0363%2015.7741%2010.2966%2015.4359%2010.0358%2014.7406L7.80964%208.80409L5.51634%2012.8811H7.08473C7.78679%2012.8811%208.35592%2013.4881%208.35592%2014.237C8.35592%2014.9859%207.78679%2015.5929%207.08473%2015.5929H3.27118C2.81321%2015.5929%202.39064%2015.3302%202.165%2014.9051C1.93936%2014.48%201.94553%2013.9583%202.18115%2013.5394L6.94809%205.06482C7.19657%204.62309%207.65825%204.3697%208.13965%204.41084Z'%20fill='%23fff'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15.2431%208.00767C15.9438%208.05526%2016.4756%208.69968%2016.431%209.44703L16.1399%2014.3221C16.0953%2015.0695%2015.4912%2015.6367%2014.7905%2015.5892C14.0899%2015.5416%2013.5581%2014.8971%2013.6027%2014.1498L13.8937%209.27469C13.9384%208.52735%2014.5425%207.96008%2015.2431%208.00767Z'%20fill='%23fff'/%3e%3cpath%20d='M16.9998%206.18753C16.9998%207.03%2016.3595%207.71295%2015.5697%207.71295C14.7799%207.71295%2014.1396%207.03%2014.1396%206.18753C14.1396%205.34506%2014.7799%204.66211%2015.5697%204.66211C16.3595%204.66211%2016.9998%205.34506%2016.9998%206.18753Z'%20fill='%23fff'/%3e%3c/svg%3e",$S="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%232469F1'/%3e%3cpath%20d='M8.25%204.75H5.33333C5.01117%204.75%204.75%205.01117%204.75%205.33333V8.25C4.75%208.57218%205.01117%208.83333%205.33333%208.83333H8.25C8.57218%208.83333%208.83333%208.57218%208.83333%208.25V5.33333C8.83333%205.01117%208.57218%204.75%208.25%204.75Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.25%2011.1667H5.33333C5.01117%2011.1667%204.75%2011.4279%204.75%2011.7501V14.6667C4.75%2014.9889%205.01117%2015.2501%205.33333%2015.2501H8.25C8.57218%2015.2501%208.83333%2014.9889%208.83333%2014.6667V11.7501C8.83333%2011.4279%208.57218%2011.1667%208.25%2011.1667Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.6665%204.75H11.7498C11.4277%204.75%2011.1665%205.01117%2011.1665%205.33333V8.25C11.1665%208.57218%2011.4277%208.83333%2011.7498%208.83333H14.6665C14.9887%208.83333%2015.2498%208.57218%2015.2498%208.25V5.33333C15.2498%205.01117%2014.9887%204.75%2014.6665%204.75Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.6665%2011.1667H11.7498C11.4277%2011.1667%2011.1665%2011.4279%2011.1665%2011.7501V14.6667C11.1665%2014.9889%2011.4277%2015.2501%2011.7498%2015.2501H14.6665C14.9887%2015.2501%2015.2498%2014.9889%2015.2498%2014.6667V11.7501C15.2498%2011.4279%2014.9887%2011.1667%2014.6665%2011.1667Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3c/svg%3e",FS="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2302BFBF'/%3e%3cpath%20d='M5.0415%2013.7916C5.0415%2011.5448%205.0415%206.20825%205.0415%206.20825C5.0415%205.24175%205.82501%204.45825%206.7915%204.45825H13.2082V12.0416C13.2082%2012.0416%208.31768%2012.0416%206.7915%2012.0416C5.829%2012.0416%205.0415%2012.8245%205.0415%2013.7916Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.2082%2012.0415C13.2082%2012.0415%207.128%2012.0415%206.7915%2012.0415C5.82501%2012.0415%205.0415%2012.825%205.0415%2013.7915C5.0415%2014.758%205.82501%2015.5415%206.7915%2015.5415C7.43582%2015.5415%2010.5469%2015.5415%2014.9582%2015.5415V5.0415'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.0835%2013.7915H12.9168'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",VS="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2373F'/%3e%3cpath%20d='M13.7917%2015.8333C14.436%2015.8333%2014.9583%2015.311%2014.9583%2014.6667C14.9583%2014.0223%2014.436%2013.5%2013.7917%2013.5C13.1473%2013.5%2012.625%2014.0223%2012.625%2014.6667C12.625%2015.311%2013.1473%2015.8333%2013.7917%2015.8333Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.20817%206.50008C6.85249%206.50008%207.37484%205.97774%207.37484%205.33341C7.37484%204.68908%206.85249%204.16675%206.20817%204.16675C5.56384%204.16675%205.0415%204.68908%205.0415%205.33341C5.0415%205.97774%205.56384%206.50008%206.20817%206.50008Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.20817%2015.8333C6.85249%2015.8333%207.37484%2015.311%207.37484%2014.6667C7.37484%2014.0223%206.85249%2013.5%206.20817%2013.5C5.56384%2013.5%205.0415%2014.0223%205.0415%2014.6667C5.0415%2015.311%205.56384%2015.8333%206.20817%2015.8333Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.2085%206.5V13.5'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%205.91675H12.625C13.2693%205.91675%2013.7917%206.43909%2013.7917%207.08341V13.5001'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.75%207.66675L10%205.91675L11.75%204.16675'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",zS="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2338F'/%3e%3cpath%20d='M4.75%206.5893L6.53571%208.01787L9.77283%204.75023'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.25%2012.2498L15.25%2015.2498'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.25%2012.2498L12.25%2015.2498'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.781%205.21899L5.21862%2014.7813'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",WS="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%23F33E3E'/%3e%3cg%20clip-path='url(%23n90207hb6__clip0_6476_8985)'%3e%3cpath%20d='M9.99984%2015.8334C13.2215%2015.8334%2015.8332%2013.2217%2015.8332%2010.0001C15.8332%206.77842%2013.2215%204.16675%209.99984%204.16675C6.77817%204.16675%204.1665%206.77842%204.1665%2010.0001C4.1665%2013.2217%206.77817%2015.8334%209.99984%2015.8334Z'%20stroke='%23fff'%20stroke-linejoin='round'/%3e%3cpath%20fill='%23fff'%20d='M10%207.375A2.625%202.625%200%201%200%2010%2012.625A2.625%202.625%200%201%200%2010%207.375Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='n90207hb6__clip0_6476_8985'%3e%3cpath%20fill='%23fff'%20transform='translate(3%203)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",dn=t=>(Jt("data-v-d6b2bdf1"),t=t(),Qt(),t),US={class:"node-list-popup"},GS={class:"node-list-popup-content"},XS={class:"node-list"},YS=dn(()=>T("div",{class:"node-type"},"大模型能力",-1)),ZS={class:"node-flex-box"},KS=dn(()=>T("img",{src:jS,alt:""},null,-1)),qS=dn(()=>T("div",{class:"node-name"},"AI对话",-1)),JS=[KS,qS],QS=dn(()=>T("img",{src:$S,alt:""},null,-1)),eM=dn(()=>T("div",{class:"node-name"},"问题分类",-1)),tM=[QS,eM],nM={class:"node-list"},rM=dn(()=>T("div",{class:"node-type"},"知识检索",-1)),oM={class:"node-flex-box"},iM=dn(()=>T("img",{src:FS,alt:""},null,-1)),aM=dn(()=>T("div",{class:"node-name"},"检索知识库",-1)),sM=[iM,aM],lM={class:"node-list"},uM=dn(()=>T("div",{class:"node-type"},"外部调用",-1)),dM={class:"node-flex-box"},cM=dn(()=>T("img",{src:VS,alt:""},null,-1)),fM=dn(()=>T("div",{class:"node-name"},"Http请求",-1)),hM=[cM,fM],pM={class:"node-list"},vM=dn(()=>T("div",{class:"node-type"},"处理逻辑",-1)),gM={class:"node-flex-box"},mM=dn(()=>T("img",{src:zS,alt:""},null,-1)),yM=dn(()=>T("div",{class:"node-name"},"判断分支",-1)),_M=[mM,yM],CM={class:"node-list"},bM=dn(()=>T("div",{class:"node-type"},"结束",-1)),xM={class:"node-flex-box"},wM=dn(()=>T("img",{src:WS,alt:""},null,-1)),EM=dn(()=>T("div",{class:"node-name"},"结束流程",-1)),SM=[wM,EM],MM={__name:"node-list-popup",emits:["addNode"],setup(t,{emit:e}){const n=e,r={node_key:"",next_node_key:""},o=()=>JSON.parse(JSON.stringify(r)),i={"ai-dialogue-node":{id:"",type:"ai-dialogue-node",x:600,y:400,properties:{...o(),node_type:6,node_name:"AI对话",node_icon_name:"ai-dialogue-node",node_params:JSON.stringify({llm:{model_config_id:void 0,use_model:"",context_pair:6,temperature:.5,max_token:2e3,prompt:""}})}},"end-node":{id:"",type:"end-node",x:600,y:400,properties:{...o(),node_type:7,node_name:"流程结束",node_icon_name:"end-node",node_params:JSON.stringify({})}},"knowledge-base-node":{id:"",type:"knowledge-base-node",x:600,y:400,properties:{...o(),node_type:5,node_name:"知识库检索",node_icon_name:"knowledge-base-node",node_params:JSON.stringify({libs:{library_ids:"",search_type:1,top_k:5,similarity:.5,rerank_status:0,rerank_model_config_id:void 0,rerank_use_model:""}})}},"question-node":{id:"",type:"question-node",x:600,y:400,properties:{...o(),node_type:3,node_name:"问题分类",node_icon_name:"question-node",node_params:JSON.stringify({cate:{model_config_id:void 0,use_model:"",context_pair:2,temperature:.5,max_token:2e3,prompt:"",categorys:[{category:"",next_node_key:""}]}})}},"judge-node":{id:"",type:"judge-node",x:600,y:400,properties:{...o(),node_type:2,node_name:"判断分支",node_icon_name:"judge-node",node_params:JSON.stringify({term:[{is_or:!1,terms:[{variable:"",is_mult:!1,type:"",value:""}],next_node_key:""}]})}},"http-node":{id:"",type:"http-node",x:600,y:400,properties:{...o(),node_type:4,node_name:"http请求",node_icon_name:"http-node",node_params:JSON.stringify({curl:{method:"POST",rawurl:"",headers:[{key:"",value:""}],params:[{key:"",value:""}],type:1,body:[{key:"",value:""}],body_raw:"",timeout:30,output:[{key:"",typ:""}]}})}}},a=s=>{let l=i[s];l.id=ls(l.type),n("addNode",l)};return(s,l)=>(ae(),Ce("div",US,[T("div",GS,[T("div",XS,[YS,T("div",ZS,[T("div",{class:"node-item",onClick:l[0]||(l[0]=u=>a("ai-dialogue-node"))},JS),T("div",{class:"node-item",onClick:l[1]||(l[1]=u=>a("question-node"))},tM)])]),T("div",nM,[rM,T("div",oM,[T("div",{class:"node-item",onClick:l[2]||(l[2]=u=>a("knowledge-base-node"))},sM)])]),T("div",lM,[uM,T("div",dM,[T("div",{class:"node-item",onClick:l[3]||(l[3]=u=>a("http-node"))},hM)])]),T("div",pM,[vM,T("div",gM,[T("div",{class:"node-item",onClick:l[4]||(l[4]=u=>a("judge-node"))},_M)])]),T("div",CM,[bM,T("div",xM,[T("div",{class:"node-item",onClick:l[5]||(l[5]=u=>a("end-node"))},SM)])])])]))}},J3=Dt(MM,[["__scopeId","data-v-d6b2bdf1"]]),OM="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='48'%20height='48'%20rx='24'%20fill='%232475FC'/%3e%3cpath%20d='M24%2016.5V31.5'%20stroke='white'%20stroke-width='2.4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.5%2024H31.5'%20stroke='white'%20stroke-width='2.4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",AM={name:"float-add-btn",components:{NodeListPopup:J3},props:{lf:{type:Object,required:!0}},data(){return{isShowMenu:!1}},mounted(){document.addEventListener("click",this.documentClick)},beforeUnmount(){document.removeEventListener("click",this.documentClick)},methods:{showMenu(){this.isShowMenu=!this.isShowMenu},documentClick(t){this.isShowMenu&&!this.$el.querySelector(".node-list-fix").contains(t.target)&&t.target!==this.$el.querySelector(".add-node-btn")&&(this.isShowMenu=!1)},handleAddNode(t){this.$emit("addNode",t),this.isShowMenu=!1}}},NM={class:"node-list-fix"};function TM(t,e,n,r,o,i){const a=tn("NodeListPopup");return ae(),Ce("div",null,[T("img",{class:"add-node-btn",src:OM,onClick:e[0]||(e[0]=(...s)=>i.showMenu&&i.showMenu(...s))}),us(T("div",NM,[D(a,{onAddNode:i.handleAddNode},null,8,["onAddNode"])],512),[[l0,o.isShowMenu]])])}const PM=Dt(AM,[["render",TM],["__scopeId","data-v-91bebf35"]]),kM={name:"NodeCommon",props:{title:{type:String,default:""}},data(){return{isShowMenu:!1,menus:[{label:"10%",value:10},{label:"50%",value:50},{label:"100%",value:100},{label:"150%",value:150},{label:"200%",value:200},{label:"400%",value:400}]}},mounted(){document.addEventListener("click",this.documentClick)},beforeUnmount(){document.removeEventListener("click",this.documentClick)},methods:{handleMenu(t){this.$emit("change",t)},showMenu(){this.isShowMenu=!this.isShowMenu},documentClick(t){this.isShowMenu&&!this.$el.querySelector(".zoom-select-options").contains(t.target)&&t.target!==this.$el.querySelector(".zoom-select-label")&&(this.isShowMenu=!1)}}},LM=t=>(Jt("data-v-de91327a"),t=t(),Qt(),t),DM={class:"zoom-select"},RM={class:"zoom-select-options"},IM=["onClick"],HM=LM(()=>T("div",{class:"option-line"},null,-1));function BM(t,e,n,r,o,i){return ae(),Ce("div",DM,[T("div",{class:"zoom-select-label",onClick:e[0]||(e[0]=(...a)=>i.showMenu&&i.showMenu(...a))},st(n.title),1),us(T("div",RM,[(ae(!0),Ce(It,null,Vt(o.menus,a=>(ae(),Ce("div",{class:"zoom-select-option",key:a.value,onClick:s=>i.handleMenu(a)},st(a.label),9,IM))),128)),HM,T("div",{class:"zoom-select-option",onClick:e[1]||(e[1]=a=>i.handleMenu({label:"5%",value:5}))},"全览")],512),[[l0,o.isShowMenu]])])}const jM=Dt(kM,[["render",BM],["__scopeId","data-v-de91327a"]]),$M={class:"custom-control-warpper"},FM={class:"custom-control"},VM={__name:"index",props:{lf:{type:Object,default:()=>({}),required:!0}},setup(t){const e=t,{eventCenter:n}=e.lf.graphModel,r=Ie(100),o=()=>{e.lf.zoom(r.value/100)},i=Ie("100%"),a=({label:d,value:c})=>{i.value=d,r.value=c,o()},s=()=>{let d=r.value=Math.floor(r.value/2);d<1&&(d=1),r.value=d,i.value=`${d}%`,o()},l=()=>{let d=r.value*2;d>800&&(d=800),r.value=d,i.value=`${d}%`,o()},u=d=>{let c=Math.floor(d.transform.SCALE_X*100);r.value=c,i.value=`${c}%`};return ri(()=>{n.on("graph:transform",u)}),y1(()=>{n.off("graph:transform",u)}),(d,c)=>{const f=s0;return ae(),Ce("div",$M,[T("div",FM,[T("div",{class:"action-btn zoom-btn",onClick:s},[D(f,{name:"minus",size:"16"})]),D(jM,{title:i.value,onChange:a},null,8,["title"]),T("div",{class:"action-btn zoom-btn",onClick:l},[D(f,{name:"plus",size:"16"})])])])}}},zM=Dt(VM,[["__scopeId","data-v-244d8a30"]]);var P0,nt,Q3,Bo,af,ev,tv,nv,Hd,G2,X2,Za={},rv=[],WM=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,k0=Array.isArray;function lo(t,e){for(var n in e)t[n]=e[n];return t}function Bd(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Oe(t,e,n){var r,o,i,a={};for(i in e)i=="key"?r=e[i]:i=="ref"?o=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?P0.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)a[i]===void 0&&(a[i]=t.defaultProps[i]);return Js(t,a,r,o,null)}function Js(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Q3,__i:-1,__u:0};return o==null&&nt.vnode!=null&&nt.vnode(i),i}function L0(){return{current:null}}function Di(t){return t.children}function ut(t,e){this.props=t,this.context=e}function Ri(t,e){if(e==null)return t.__?Ri(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Ri(t):null}function ov(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ov(t)}}function sf(t){(!t.__d&&(t.__d=!0)&&Bo.push(t)&&!fl.__r++||af!==nt.debounceRendering)&&((af=nt.debounceRendering)||ev)(fl)}function fl(){for(var t,e,n,r,o,i,a,s=1;Bo.length;)Bo.length>s&&Bo.sort(tv),t=Bo.shift(),s=Bo.length,t.__d&&(n=void 0,o=(r=(e=t).__v).__e,i=[],a=[],e.__P&&((n=lo({},r)).__v=r.__v+1,nt.vnode&&nt.vnode(n),jd(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[o]:null,i,o??Ri(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,sv(i,n,a),n.__e!=o&&ov(n)));fl.__r=0}function iv(t,e,n,r,o,i,a,s,l,u,d){var c,f,h,v,p,g,m=r&&r.__k||rv,y=e.length;for(l=UM(n,e,m,l,y),c=0;c<y;c++)(h=n.__k[c])!=null&&(f=h.__i===-1?Za:m[h.__i]||Za,h.__i=c,g=jd(t,h,f,o,i,a,s,l,u,d),v=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&$d(f.ref,null,h),d.push(h.ref,h.__c||v,h)),p==null&&v!=null&&(p=v),4&h.__u||f.__k===h.__k?l=av(h,l,t):typeof h.type=="function"&&g!==void 0?l=g:v&&(l=v.nextSibling),h.__u&=-7);return n.__e=p,l}function UM(t,e,n,r,o){var i,a,s,l,u,d=n.length,c=d,f=0;for(t.__k=new Array(o),i=0;i<o;i++)(a=e[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=i+f,(a=t.__k[i]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Js(null,a,null,null,null):k0(a)?Js(Di,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?Js(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,s=null,(u=a.__i=GM(a,n,l,c))!==-1&&(c--,(s=n[u])&&(s.__u|=2)),s==null||s.__v===null?(u==-1&&f--,typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?f--:u==l+1?f++:(u>l?f--:f++,a.__u|=4))):t.__k[i]=null;if(c)for(i=0;i<d;i++)(s=n[i])!=null&&!(2&s.__u)&&(s.__e==r&&(r=Ri(s)),lv(s,s));return r}function av(t,e,n){var r,o;if(typeof t.type=="function"){for(r=t.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=t,e=av(r[o],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=Ri(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function hl(t,e){return e=e||[],t==null||typeof t=="boolean"||(k0(t)?t.some(function(n){hl(n,e)}):e.push(t)),e}function GM(t,e,n,r){var o,i,a=t.key,s=t.type,l=e[n];if(l===null||l&&a==l.key&&s===l.type&&!(2&l.__u))return n;if(r>(l!=null&&!(2&l.__u)?1:0))for(o=n-1,i=n+1;o>=0||i<e.length;){if(o>=0){if((l=e[o])&&!(2&l.__u)&&a==l.key&&s===l.type)return o;o--}if(i<e.length){if((l=e[i])&&!(2&l.__u)&&a==l.key&&s===l.type)return i;i++}}return-1}function lf(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||WM.test(e)?n:n+"px"}function Os(t,e,n,r,o){var i;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||lf(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||lf(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(nv,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=Hd,t.addEventListener(e,i?X2:G2,i)):t.removeEventListener(e,i?X2:G2,i);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function uf(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Hd++;else if(e.t<n.u)return;return n(nt.event?nt.event(e):e)}}}function jd(t,e,n,r,o,i,a,s,l,u){var d,c,f,h,v,p,g,m,y,A,M,O,w,_,N,R,I,W,G=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),i=[s=e.__e=n.__e]),(d=nt.__b)&&d(e);e:if(typeof G=="function")try{if(m=e.props,y="prototype"in G&&G.prototype.render,A=(d=G.contextType)&&r[d.__c],M=d?A?A.props.value:d.__:r,n.__c?g=(c=e.__c=n.__c).__=c.__E:(y?e.__c=c=new G(m,M):(e.__c=c=new ut(m,M),c.constructor=G,c.render=YM),A&&A.sub(c),c.props=m,c.state||(c.state={}),c.context=M,c.__n=r,f=c.__d=!0,c.__h=[],c._sb=[]),y&&c.__s==null&&(c.__s=c.state),y&&G.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=lo({},c.__s)),lo(c.__s,G.getDerivedStateFromProps(m,c.__s))),h=c.props,v=c.state,c.__v=e,f)y&&G.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),y&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(y&&G.getDerivedStateFromProps==null&&m!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,M),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,M)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(c.props=m,c.state=c.__s,c.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(C){C&&(C.__=e)}),O=0;O<c._sb.length;O++)c.__h.push(c._sb[O]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,M),y&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,v,p)})}if(c.context=M,c.props=m,c.__P=t,c.__e=!1,w=nt.__r,_=0,y){for(c.state=c.__s,c.__d=!1,w&&w(e),d=c.render(c.props,c.state,c.context),N=0;N<c._sb.length;N++)c.__h.push(c._sb[N]);c._sb=[]}else do c.__d=!1,w&&w(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++_<25);c.state=c.__s,c.getChildContext!=null&&(r=lo(lo({},r),c.getChildContext())),y&&!f&&c.getSnapshotBeforeUpdate!=null&&(p=c.getSnapshotBeforeUpdate(h,v)),I=(R=d!=null&&d.type===Di&&d.key==null)?d.props.children:d,R&&(d.props.children=null),s=iv(t,k0(I)?I:[I],e,n,r,o,i,a,s,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&a.push(c),g&&(c.__E=c.__=null)}catch(C){if(e.__v=null,l||i!=null)if(C.then){for(e.__u|=l?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,e.__e=s}else for(W=i.length;W--;)Bd(i[W]);else e.__e=n.__e,e.__k=n.__k;nt.__e(C,e,n)}else i==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):s=e.__e=XM(n.__e,e,n,r,o,i,a,l,u);return(d=nt.diffed)&&d(e),128&e.__u?void 0:s}function sv(t,e,n){for(var r=0;r<n.length;r++)$d(n[r],n[++r],n[++r]);nt.__c&&nt.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){nt.__e(i,o.__v)}})}function XM(t,e,n,r,o,i,a,s,l){var u,d,c,f,h,v,p,g=n.props,m=e.props,y=e.type;if(y=="svg"?o="http://www.w3.org/2000/svg":y=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((h=i[u])&&"setAttribute"in h==!!y&&(y?h.localName==y:h.nodeType==3)){t=h,i[u]=null;break}}if(t==null){if(y==null)return document.createTextNode(m);t=document.createElementNS(o,y,m.is&&m),s&&(nt.__m&&nt.__m(e,i),s=!1),i=null}if(y===null)g===m||s&&t.data===m||(t.data=m);else{if(i=i&&P0.call(t.childNodes),g=n.props||Za,!s&&i!=null)for(g={},u=0;u<t.attributes.length;u++)g[(h=t.attributes[u]).name]=h.value;for(u in g)if(h=g[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=h;else if(!(u in m)){if(u=="value"&&"defaultValue"in m||u=="checked"&&"defaultChecked"in m)continue;Os(t,u,null,h,o)}}for(u in m)h=m[u],u=="children"?f=h:u=="dangerouslySetInnerHTML"?d=h:u=="value"?v=h:u=="checked"?p=h:s&&typeof h!="function"||g[u]===h||Os(t,u,h,g[u],o);if(d)s||c&&(d.__html===c.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(c&&(t.innerHTML=""),iv(e.type==="template"?t.content:t,k0(f)?f:[f],e,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,a,i?i[0]:n.__k&&Ri(n,0),s,l),i!=null)for(u=i.length;u--;)Bd(i[u]);s||(u="value",y=="progress"&&v==null?t.removeAttribute("value"):v!==void 0&&(v!==t[u]||y=="progress"&&!v||y=="option"&&v!==g[u])&&Os(t,u,v,g[u],o),u="checked",p!==void 0&&p!==t[u]&&Os(t,u,p,g[u],o))}return t}function $d(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(o){nt.__e(o,n)}}function lv(t,e,n){var r,o;if(nt.unmount&&nt.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||$d(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){nt.__e(i,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&lv(r[o],e,n||typeof t.type!="function");n||Bd(t.__e),t.__c=t.__=t.__e=void 0}function YM(t,e,n){return this.constructor(t,n)}function ZM(t,e,n){var r,o,i,a;e==document&&(e=document.documentElement),nt.__&&nt.__(t,e),o=(r=typeof n=="function")?null:n&&n.__k||e.__k,i=[],a=[],jd(e,t=(!r&&n||e).__k=Oe(Di,null,[t]),o||Za,Za,e.namespaceURI,!r&&n?[n]:o?null:e.firstChild?P0.call(e.childNodes):null,i,!r&&n?n:o?o.__e:e.firstChild,r,a),sv(i,t,a)}P0=rv.slice,nt={__e:function(t,e,n,r){for(var o,i,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),a=o.__d),a)return o.__E=o}catch(s){t=s}throw t}},Q3=0,ut.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=lo({},this.state),typeof t=="function"&&(t=t(lo({},n),this.props)),t&&lo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),sf(this))},ut.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),sf(this))},ut.prototype.render=Di,Bo=[],ev=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tv=function(t,e){return t.__v.__b-e.__v.__b},fl.__r=0,nv=/(PointerCapture)$|Capture$/i,Hd=0,G2=uf(!1),X2=uf(!0);var KM={},qM="An invariant failed, however the error is obfuscated because this is a production build.",pl=[];Object.freeze(pl);var Fd={};Object.freeze(Fd);function Rn(){return++Ne.mobxGuid}function bt(t){throw Uo(!1,t),"X"}function Uo(t,e){if(!t)throw new Error("[mobx] "+(e||qM))}function uv(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var As=function(){};function JM(t){var e=[];return t.forEach(function(n){e.indexOf(n)===-1&&e.push(n)}),e}function Vd(t){return t!==null&&typeof t=="object"}function aa(t){if(t===null||typeof t!="object")return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function QM(t){if(la(t)||In(t))return t;if(Array.isArray(t))return new Map(t);if(aa(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return bt("Cannot convert to map from '"+t+"'")}function sa(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function eO(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function tO(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!n||n.configurable!==!1&&n.writable!==!1}function Eo(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return Vd(r)&&r[n]===!0}}function la(t){return t instanceof Map}function Cs(t){return t instanceof Set}function dv(t){var e=new Set;for(var n in t)e.add(n);return Object.getOwnPropertySymbols(t).forEach(function(r){Object.getOwnPropertyDescriptor(t,r).enumerable&&e.add(r)}),Array.from(e)}function uo(t){return t&&t.toString?t.toString():new String(t).toString()}function cv(t){return t===null?null:typeof t=="object"?""+t:t}var nO=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Ue=Symbol("mobx administration"),ua=function(){function t(e){e===void 0&&(e="Atom@"+Rn()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=wt.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},t.prototype.reportObserved=function(){return xv(this)},t.prototype.reportChanged=function(){mr(),MO(this),yr()},t.prototype.toString=function(){return this.name},t}(),zd=Eo("Atom",ua);function Wd(t,e,n){e===void 0&&(e=As),n===void 0&&(n=As);var r=new ua(t);return e!==As&&jO(r,e),n!==As&&Av(r,n),r}function rO(t,e){return t===e}function oO(t,e){return qd(t,e)}function iO(t,e){return qd(t,e,1)}function aO(t,e){return Object.is(t,e)}var Ii={identity:rO,structural:oO,default:aO,shallow:iO};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Y2=function(t,e){return Y2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},Y2(t,e)};function sO(t,e){Y2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var vl=function(){return vl=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vl.apply(this,arguments)};function Lr(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function Si(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function Ud(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Si(arguments[e]));return t}var gl=Symbol("mobx did run lazy initializers"),Ea=Symbol("mobx pending decorators"),lO={},uO={};function dO(t,e){var n=e?lO:uO;return n[t]||(n[t]={configurable:!0,enumerable:e,get:function(){return Ko(this),this[t]},set:function(r){Ko(this),this[t]=r}})}function Ko(t){var e,n;if(t[gl]!==!0){var r=t[Ea];if(r){sa(t,gl,!0);var o=Ud(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=Lr(o),a=i.next();!a.done;a=i.next()){var s=a.value,l=r[s];l.propertyCreator(t,l.prop,l.descriptor,l.decoratorTarget,l.decoratorArguments)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}}}function fv(t,e){return function(){var r,o=function(a,s,l,u){if(u===!0)return e(a,s,l,a,r),null;if(!Object.prototype.hasOwnProperty.call(a,Ea)){var d=a[Ea];sa(a,Ea,vl({},d))}return a[Ea][s]={prop:s,propertyCreator:e,descriptor:l,decoratorTarget:a,decoratorArguments:r},dO(s,t)};return cO(arguments)?(r=pl,o.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),o)}}function cO(t){return(t.length===2||t.length===3)&&(typeof t[1]=="string"||typeof t[1]=="symbol")||t.length===4&&t[3]===!0}function bs(t,e,n){return $i(t)?t:Array.isArray(t)?J.array(t,{name:n}):aa(t)?J.object(t,void 0,{name:n}):la(t)?J.map(t,{name:n}):Cs(t)?J.set(t,{name:n}):t}function fO(t,e,n){return t==null||er(t)||Fr(t)||In(t)||Qn(t)?t:Array.isArray(t)?J.array(t,{name:n,deep:!1}):aa(t)?J.object(t,void 0,{name:n,deep:!1}):la(t)?J.map(t,{name:n,deep:!1}):Cs(t)?J.set(t,{name:n,deep:!1}):bt(!1)}function D0(t){return t}function hO(t,e,n){return qd(t,e)?e:t}function R0(t){Uo(t);var e=fv(!0,function(r,o,i,a,s){var l=i?i.initializer?i.initializer.call(r):i.value:void 0;Kd(r).addObservableProp(o,l,t)}),n=(typeof process<"u",e);return n.enhancer=t,n}var hv={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(hv);function xi(t){return t==null?hv:typeof t=="string"?{name:t,deep:!0,proxy:!0}:t}var Gd=R0(bs),pO=R0(fO),pv=R0(D0),vO=R0(hO);function Ns(t){return t.defaultDecorator?t.defaultDecorator.enhancer:t.deep===!1?D0:bs}function gO(t,e,n){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Gd.apply(null,arguments);if($i(t))return t;var r=aa(t)?J.object(t,e,n):Array.isArray(t)?J.array(t,e):la(t)?J.map(t,e):Cs(t)?J.set(t,e):t;if(r!==t)return r;bt(!1)}var df={box:function(t,e){arguments.length>2&&_a("box");var n=xi(e);return new Xo(t,Ns(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&_a("array");var n=xi(e);return tA(t,Ns(n),n.name)},map:function(t,e){arguments.length>2&&_a("map");var n=xi(e);return new Zd(t,Ns(n),n.name)},set:function(t,e){arguments.length>2&&_a("set");var n=xi(e);return new Iv(t,Ns(n),n.name)},object:function(t,e,n){typeof arguments[1]=="string"&&_a("object");var r=xi(n);if(r.proxy===!1)return eu({},t,e,r);var o=Tv(r),i=eu({},void 0,void 0,r),a=JO(i);return Pv(a,t,e,o),a},ref:pv,shallow:pO,deep:Gd,struct:vO},J=gO;Object.keys(df).forEach(function(t){return J[t]=df[t]});function _a(t){bt("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}var ml=fv(!1,function(t,e,n,r,o){var i=n.get,a=n.set,s=o[0]||{};Kd(t).addComputedProp(t,e,vl({get:i,set:a,context:t},s))}),mO=ml({equals:Ii.structural}),kt=function(e,n,r){if(typeof n=="string"||e!==null&&typeof e=="object"&&arguments.length===1)return ml.apply(null,arguments);var o=typeof n=="object"?n:{};return o.get=e,o.set=typeof n=="function"?n:o.set,o.name=o.name||e.name||"",new Bi(o)};kt.struct=mO;var wt;(function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"})(wt||(wt={}));var Dr;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Dr||(Dr={}));var yl=function(){function t(e){this.cause=e}return t}();function Sa(t){return t instanceof yl}function Z2(t){switch(t.dependenciesState){case wt.UP_TO_DATE:return!1;case wt.NOT_TRACKING:case wt.STALE:return!0;case wt.POSSIBLY_STALE:{for(var e=Xd(!0),n=da(),r=t.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(ji(a)){if(Ne.disableErrorBoundaries)a.get();else try{a.get()}catch{return go(n),Ta(e),!0}if(t.dependenciesState===wt.STALE)return go(n),Ta(e),!0}}return mv(t),go(n),Ta(e),!1}}}function Hi(t){var e=t.observers.size>0;Ne.computationDepth>0&&e&&bt(!1),!Ne.allowStateChanges&&(e||Ne.enforceActions==="strict")&&bt(!1)}function vv(t,e,n){var r=Xd(!0);mv(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Ne.runId;var o=Ne.trackingDerivation;Ne.trackingDerivation=t;var i;if(Ne.disableErrorBoundaries===!0)i=e.call(n);else try{i=e.call(n)}catch(a){i=new yl(a)}return Ne.trackingDerivation=o,yO(t),Ta(r),i}function yO(t){for(var e=t.observing,n=t.observing=t.newObserving,r=wt.UP_TO_DATE,o=0,i=t.unboundDepsCount,a=0;a<i;a++){var s=n[a];s.diffValue===0&&(s.diffValue=1,o!==a&&(n[o]=s),o++),s.dependenciesState>r&&(r=s.dependenciesState)}for(n.length=o,t.newObserving=null,i=e.length;i--;){var s=e[i];s.diffValue===0&&Cv(s,t),s.diffValue=0}for(;o--;){var s=n[o];s.diffValue===1&&(s.diffValue=0,SO(s,t))}r!==wt.UP_TO_DATE&&(t.dependenciesState=r,t.onBecomeStale())}function K2(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Cv(e[n],t);t.dependenciesState=wt.NOT_TRACKING}function gv(t){var e=da();try{return t()}finally{go(e)}}function da(){var t=Ne.trackingDerivation;return Ne.trackingDerivation=null,t}function go(t){Ne.trackingDerivation=t}function Xd(t){var e=Ne.allowStateReads;return Ne.allowStateReads=t,e}function Ta(t){Ne.allowStateReads=t}function mv(t){if(t.dependenciesState!==wt.UP_TO_DATE){t.dependenciesState=wt.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=wt.UP_TO_DATE}}var _l=0,_O=1,cf=Object.getOwnPropertyDescriptor(function(){},"name");cf&&cf.configurable;function Go(t,e,n){var r=function(){return yv(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function yv(t,e,n,r){var o=CO();try{return e.apply(n,r)}catch(i){throw o.error=i,i}finally{bO(o)}}function CO(t,e,n){var r=Ln(),o=0,i=da();mr();var a=I0(!0),s=Xd(!0),l={prevDerivation:i,prevAllowStateChanges:a,prevAllowStateReads:s,notifySpy:r,startTime:o,actionId:_O++,parentActionId:_l};return _l=l.actionId,l}function bO(t){_l!==t.actionId&&bt("invalid action stack. did you forget to finish an action?"),_l=t.parentActionId,t.error!==void 0&&(Ne.suppressReactionErrors=!0),H0(t.prevAllowStateChanges),Ta(t.prevAllowStateReads),yr(),go(t.prevDerivation),t.notifySpy,Ne.suppressReactionErrors=!1}function I0(t){var e=Ne.allowStateChanges;return Ne.allowStateChanges=t,e}function H0(t){Ne.allowStateChanges=t}var Xo=function(t){sO(e,t);function e(n,r,o,i,a){o===void 0&&(o="ObservableValue@"+Rn()),i===void 0&&(i=!0),a===void 0&&(a=Ii.default);var s=t.call(this,o)||this;return s.enhancer=r,s.name=o,s.equals=a,s.hasUnreportedChange=!1,s.value=r(n,void 0,o),i&&Ln(),s}return e.prototype.dehanceValue=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.prototype.set=function(n){var r=this.value;if(n=this.prepareNewValue(n),n!==Ne.UNCHANGED){var o=Ln();this.setNewValue(n)}},e.prototype.prepareNewValue=function(n){if(Hi(this),Rr(this)){var r=Ir(this,{object:this,type:"update",newValue:n});if(!r)return Ne.UNCHANGED;n=r.newValue}return n=this.enhancer(n,this.value,this.name),this.equals(this.value,n)?Ne.UNCHANGED:n},e.prototype.setNewValue=function(n){var r=this.value;this.value=n,this.reportChanged(),_r(this)&&Cr(this,{type:"update",object:this,newValue:n,oldValue:r})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(n){return xs(this,n)},e.prototype.observe=function(n,r){return r&&n({object:this,type:"update",newValue:this.value,oldValue:void 0}),ws(this,n)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return cv(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(ua),xO=Eo("ObservableValue",Xo),Bi=function(){function t(e){this.dependenciesState=wt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=wt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Rn(),this.value=new yl(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Dr.NONE,Uo(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+Rn(),e.set&&(this.setter=Go(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Ii.structural:Ii.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return t.prototype.onBecomeStale=function(){AO(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},t.prototype.get=function(){this.isComputing&&bt("Cycle detected in computation "+this.name+": "+this.derivation),Ne.inBatch===0&&this.observers.size===0&&!this.keepAlive?Z2(this)&&(this.warnAboutUntrackedRead(),mr(),this.value=this.computeValue(!1),yr()):(xv(this),Z2(this)&&this.trackAndCompute()&&OO(this));var e=this.value;if(Sa(e))throw e.cause;return e},t.prototype.peek=function(){var e=this.computeValue(!1);if(Sa(e))throw e.cause;return e},t.prototype.set=function(e){if(this.setter){Uo(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else Uo(!1,!1)},t.prototype.trackAndCompute=function(){var e=this.value,n=this.dependenciesState===wt.NOT_TRACKING,r=this.computeValue(!0),o=n||Sa(e)||Sa(r)||!this.equals(e,r);return o&&(this.value=r),o},t.prototype.computeValue=function(e){this.isComputing=!0,Ne.computationDepth++;var n;if(e)n=vv(this,this.derivation,this.scope);else if(Ne.disableErrorBoundaries===!0)n=this.derivation.call(this.scope);else try{n=this.derivation.call(this.scope)}catch(r){n=new yl(r)}return Ne.computationDepth--,this.isComputing=!1,n},t.prototype.suspend=function(){this.keepAlive||(K2(this),this.value=void 0)},t.prototype.observe=function(e,n){var r=this,o=!0,i=void 0;return IO(function(){var a=r.get();if(!o||n){var s=da();e({type:"update",object:r,newValue:a,oldValue:i}),go(s)}o=!1,i=a})},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return cv(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),ji=Eo("ComputedValue",Bi),Qs=function(){function t(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return t}(),wO={};function q2(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:wO}var el=!0,_v=!1,Ne=function(){var t=q2();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(el=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new Qs().version&&(el=!1),el?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Qs):(setTimeout(function(){_v||bt("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Qs)}();function EO(){(Ne.pendingReactions.length||Ne.inBatch||Ne.isRunningReactions)&&bt("isolateGlobalState should be called before MobX is running any reactions"),_v=!0,el&&(--q2().__mobxInstanceCount===0&&(q2().__mobxGlobals=void 0),Ne=new Qs)}function J2(){return Ne}function SO(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Cv(t,e){t.observers.delete(e),t.observers.size===0&&bv(t)}function bv(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,Ne.pendingUnobservations.push(t))}function mr(){Ne.inBatch++}function yr(){if(--Ne.inBatch===0){Sv();for(var t=Ne.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Bi&&n.suspend())}Ne.pendingUnobservations=[]}}function xv(t){var e=Ne.trackingDerivation;return e!==null?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(t.observers.size===0&&Ne.inBatch>0&&bv(t),!1)}function MO(t){t.lowestObserverState!==wt.STALE&&(t.lowestObserverState=wt.STALE,t.observers.forEach(function(e){e.dependenciesState===wt.UP_TO_DATE&&(e.isTracing!==Dr.NONE&&wv(e,t),e.onBecomeStale()),e.dependenciesState=wt.STALE}))}function OO(t){t.lowestObserverState!==wt.STALE&&(t.lowestObserverState=wt.STALE,t.observers.forEach(function(e){e.dependenciesState===wt.POSSIBLY_STALE?e.dependenciesState=wt.STALE:e.dependenciesState===wt.UP_TO_DATE&&(t.lowestObserverState=wt.UP_TO_DATE)}))}function AO(t){t.lowestObserverState===wt.UP_TO_DATE&&(t.lowestObserverState=wt.POSSIBLY_STALE,t.observers.forEach(function(e){e.dependenciesState===wt.UP_TO_DATE&&(e.dependenciesState=wt.POSSIBLY_STALE,e.isTracing!==Dr.NONE&&wv(e,t),e.onBecomeStale())}))}function wv(t,e){if(""+t.name+e.name,t.isTracing===Dr.BREAK){var n=[];Ev(FO(t),n,1),new Function(`debugger;
/*
Tracing '`+t.name+`'

You are entering this break point because derivation '`+t.name+"' is being traced and '"+e.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(t instanceof Bi?t.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+n.join(`
`)+`
*/
    `)()}}function Ev(t,e,n){if(e.length>=1e3){e.push("(and many more)");return}e.push(""+new Array(n).join("	")+t.name),t.dependencies&&t.dependencies.forEach(function(r){return Ev(r,e,n+1)})}var Ka=function(){function t(e,n,r,o){e===void 0&&(e="Reaction@"+Rn()),o===void 0&&(o=!1),this.name=e,this.onInvalidate=n,this.errorHandler=r,this.requiresObservable=o,this.observing=[],this.newObserving=[],this.dependenciesState=wt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Rn(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Dr.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ne.pendingReactions.push(this),Sv())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(mr(),this._isScheduled=!1,Z2(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Ln()}catch(e){this.reportExceptionInDerivation(e)}}yr()}},t.prototype.track=function(e){if(!this.isDisposed){mr(),this._isRunning=!0;var n=vv(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&K2(this),Sa(n)&&this.reportExceptionInDerivation(n.cause),yr()}},t.prototype.reportExceptionInDerivation=function(e){var n=this;if(this.errorHandler){this.errorHandler(e,this);return}if(Ne.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ne.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,e),Ne.globalReactionErrorHandlers.forEach(function(o){return o(e,n)})},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(mr(),K2(this),yr()))},t.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[Ue]=this,e},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(e){e===void 0&&(e=!1),ZO(this,e)},t}(),ff=100,Q2=function(t){return t()};function Sv(){Ne.inBatch>0||Ne.isRunningReactions||Q2(NO)}function NO(){Ne.isRunningReactions=!0;for(var t=Ne.pendingReactions,e=0;t.length>0;){++e===ff&&(console.error("Reaction doesn't converge to a stable state after "+ff+" iterations."+(" Probably there is a cycle in the reactive function: "+t[0])),t.splice(0));for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Ne.isRunningReactions=!1}var Cl=Eo("Reaction",Ka);function TO(t){var e=Q2;Q2=function(n){return t(function(){return e(n)})}}function Ln(){return!1}function PO(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function kO(){bt(!1)}function hf(t){return function(e,n,r){if(r){if(r.value)return{value:Go(t,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Go(t,o.call(this))}}}return LO(t).apply(this,arguments)}}function LO(t){return function(e,n,r){Object.defineProperty(e,n,{configurable:!0,enumerable:!1,get:function(){},set:function(o){sa(this,n,K(t,o))}})}}function DO(t,e,n,r){return r===!0?(c2(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return c2(this,e,n.value||n.initializer.call(this)),this[e]},set:kO}:{enumerable:!1,configurable:!0,set:function(o){c2(this,e,o)},get:function(){}}}var K=function(e,n,r,o){if(arguments.length===1&&typeof e=="function")return Go(e.name||"<unnamed action>",e);if(arguments.length===2&&typeof n=="function")return Go(e,n);if(arguments.length===1&&typeof e=="string")return hf(e);if(o===!0)sa(e,n,Go(e.name||n,r.value,this));else return hf(n).apply(null,arguments)};K.bound=DO;function RO(t,e){var n=typeof t=="string"?t:t.name||"<unnamed action>",r=typeof t=="function"?t:e;return yv(n,r,this,void 0)}function c2(t,e,n){sa(t,e,Go(e,n.bind(t)))}function IO(t,e){e===void 0&&(e=Fd);var n=e&&e.name||t.name||"Autorun@"+Rn(),r=!e.scheduler&&!e.delay,o;if(r)o=new Ka(n,function(){this.track(s)},e.onError,e.requiresObservable);else{var i=Mv(e),a=!1;o=new Ka(n,function(){a||(a=!0,i(function(){a=!1,o.isDisposed||o.track(s)}))},e.onError,e.requiresObservable)}function s(){t(o)}return o.schedule(),o.getDisposer()}var HO=function(t){return t()};function Mv(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:HO}function Ov(t,e,n){n===void 0&&(n=Fd);var r=n.name||"Reaction@"+Rn(),o=K(r,n.onError?BO(n.onError,e):e),i=!n.scheduler&&!n.delay,a=Mv(n),s=!0,l=!1,u,d=n.compareStructural?Ii.structural:n.equals||Ii.default,c=new Ka(r,function(){s||i?f():l||(l=!0,a(f))},n.onError,n.requiresObservable);function f(){if(l=!1,!c.isDisposed){var h=!1;c.track(function(){var v=t(c);h=s||!d(u,v),u=v}),s&&n.fireImmediately&&o(u,c),!s&&h===!0&&o(u,c),s&&(s=!1)}}return c.schedule(),c.getDisposer()}function BO(t,e){return function(){try{return e.apply(this,arguments)}catch(n){t.call(this,n)}}}function jO(t,e,n){return Nv("onBecomeObserved",t,e,n)}function Av(t,e,n){return Nv("onBecomeUnobserved",t,e,n)}function Nv(t,e,n,r){var o=typeof r=="function"?Jr(e,n):Jr(e),i=typeof r=="function"?r:n,a=t+"Listeners";o[a]?o[a].add(i):o[a]=new Set([i]);var s=o[t];return typeof s!="function"?bt(!1):function(){var l=o[a];l&&(l.delete(i),l.size===0&&delete o[a])}}function $O(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,o=t.disableErrorBoundaries,i=t.reactionScheduler,a=t.reactionRequiresObservable,s=t.observableRequiresReaction;if(t.isolateGlobalState===!0&&EO(),e!==void 0){var l=void 0;switch(e){case!0:case"observed":l=!0;break;case!1:case"never":l=!1;break;case"strict":case"always":l="strict";break;default:bt("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Ne.enforceActions=l,Ne.allowStateChanges=!(l===!0||l==="strict")}n!==void 0&&(Ne.computedRequiresReaction=!!n),a!==void 0&&(Ne.reactionRequiresObservable=!!a),s!==void 0&&(Ne.observableRequiresReaction=!!s,Ne.allowStateReads=!Ne.observableRequiresReaction),r!==void 0&&(Ne.computedConfigurable=!!r),o!==void 0&&(o===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ne.disableErrorBoundaries=!!o),i&&TO(i)}function eu(t,e,n,r){r=xi(r);var o=Tv(r);return Ko(t),Kd(t,r.name,o.enhancer),e&&Pv(t,e,n,o),t}function Tv(t){return t.defaultDecorator||(t.deep===!1?pv:Gd)}function Pv(t,e,n,r){var o,i,a,s;mr();try{var a=nO(e);try{for(var l=Lr(a),u=l.next();!u.done;u=l.next()){var s=u.value,d=Object.getOwnPropertyDescriptor(e,s),c=n&&s in n?n[s]:d.get?ml:r,f=c(t,s,d,!0);f&&Object.defineProperty(t,s,f)}}catch(v){o={error:v}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}}finally{yr()}}function FO(t,e){return kv(Jr(t,e))}function kv(t){var e={name:t.name};return t.observing&&t.observing.length>0&&(e.dependencies=JM(t.observing).map(kv)),e}function Lv(t,e){if(t==null)return!1;if(e!==void 0){if(er(t)===!1||!t[Ue].values.has(e))return!1;var n=Jr(t,e);return ji(n)}return ji(t)}function VO(t){return arguments.length>1?bt(!1):Lv(t)}function pf(t,e){return typeof e!="string"?bt(!1):Lv(t,e)}function zO(t,e){return t==null?!1:e!==void 0?er(t)?t[Ue].values.has(e):!1:er(t)||!!t[Ue]||zd(t)||Cl(t)||ji(t)}function $i(t){return arguments.length!==1&&bt(!1),zO(t)}function Fi(t){return er(t)?t[Ue].getKeys():In(t)||Qn(t)?Array.from(t.keys()):Fr(t)?t.map(function(e,n){return n}):bt(!1)}function WO(t){return er(t)?Fi(t).map(function(e){return t[e]}):In(t)?Fi(t).map(function(e){return t.get(e)}):Qn(t)?Array.from(t.values()):Fr(t)?t.slice():bt(!1)}function UO(t){return er(t)?Fi(t).map(function(e){return[e,t[e]]}):In(t)?Fi(t).map(function(e){return[e,t.get(e)]}):Qn(t)?Array.from(t.entries()):Fr(t)?t.map(function(e,n){return[n,e]}):bt(!1)}function Yd(t,e,n){if(arguments.length===2&&!Qn(t)){mr();var r=e;try{for(var o in r)Yd(t,o,r[o])}finally{yr()}return}if(er(t)){var i=t[Ue],a=i.values.get(e);a?i.write(e,n):i.addObservableProp(e,n,i.defaultEnhancer)}else if(In(t))t.set(e,n);else if(Qn(t))t.add(e);else if(Fr(t))typeof e!="number"&&(e=parseInt(e,10)),Uo(e>=0,"Not a valid index: '"+e+"'"),mr(),e>=t.length&&(t.length=e+1),t[e]=n,yr();else return bt(!1)}function Dv(t,e,n,r){return typeof n=="function"?XO(t,e,n,r):GO(t,e,n)}function GO(t,e,n){return Es(t).observe(e,n)}function XO(t,e,n,r){return Es(t,e).observe(n,r)}var YO={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function pi(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function no(t,e,n){if(!e.recurseEverything&&!$i(t)||typeof t!="object")return t;if(t===null)return null;if(t instanceof Date)return t;if(xO(t))return no(t.get(),e,n);$i(t)&&Fi(t);var r=e.detectCycles===!0;if(r&&t!==null&&n.has(t))return n.get(t);if(Fr(t)||Array.isArray(t)){var o=pi(n,t,[],e),i=t.map(function(h){return no(h,e,n)});o.length=i.length;for(var a=0,s=i.length;a<s;a++)o[a]=i[a];return o}if(Qn(t)||Object.getPrototypeOf(t)===Set.prototype)if(e.exportMapsAsObjects===!1){var l=pi(n,t,new Set,e);return t.forEach(function(h){l.add(no(h,e,n))}),l}else{var u=pi(n,t,[],e);return t.forEach(function(h){u.push(no(h,e,n))}),u}if(In(t)||Object.getPrototypeOf(t)===Map.prototype)if(e.exportMapsAsObjects===!1){var d=pi(n,t,new Map,e);return t.forEach(function(h,v){d.set(v,no(h,e,n))}),d}else{var c=pi(n,t,{},e);return t.forEach(function(h,v){c[v]=no(h,e,n)}),c}var f=pi(n,t,{},e);return dv(t).forEach(function(h){f[h]=no(t[h],e,n)}),f}function cr(t,e){typeof e=="boolean"&&(e={detectCycles:e}),e||(e=YO),e.detectCycles=e.detectCycles===void 0?e.recurseEverything===!0:e.detectCycles===!0;var n;return e.detectCycles&&(n=new Map),no(t,e,n)}function ZO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1;typeof t[t.length-1]=="boolean"&&(n=t.pop());var r=KO(t);if(!r)return bt(!1);r.isTracing===Dr.NONE&&""+r.name,r.isTracing=n?Dr.BREAK:Dr.LOG}function KO(t){switch(t.length){case 0:return Ne.trackingDerivation;case 1:return Jr(t[0]);case 2:return Jr(t[0],t[1])}}function hr(t,e){e===void 0&&(e=void 0),mr();try{return t.apply(e)}finally{yr()}}function Ts(t){return t[Ue]}function Ps(t){return typeof t=="string"||typeof t=="number"||typeof t=="symbol"}var qO={has:function(t,e){if(e===Ue||e==="constructor"||e===gl)return!0;var n=Ts(t);return Ps(e)?n.has(e):e in t},get:function(t,e){if(e===Ue||e==="constructor"||e===gl)return t[e];var n=Ts(t),r=n.values.get(e);if(r instanceof ua){var o=r.get();return o===void 0&&n.has(e),o}return Ps(e)&&n.has(e),t[e]},set:function(t,e,n){return Ps(e)?(Yd(t,e,n),!0):!1},deleteProperty:function(t,e){if(!Ps(e))return!1;var n=Ts(t);return n.remove(e),!0},ownKeys:function(t){var e=Ts(t);return e.keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return bt("Dynamic observable objects cannot be frozen"),!1}};function JO(t){var e=new Proxy(t,qO);return t[Ue].proxy=e,e}function Rr(t){return t.interceptors!==void 0&&t.interceptors.length>0}function xs(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),uv(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function Ir(t,e){var n=da();try{for(var r=Ud(t.interceptors||[]),o=0,i=r.length;o<i&&(e=r[o](e),Uo(!e||e.type,"Intercept handlers should return nothing or a change object"),!!e);o++);return e}finally{go(n)}}function _r(t){return t.changeListeners!==void 0&&t.changeListeners.length>0}function ws(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),uv(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function Cr(t,e){var n=da(),r=t.changeListeners;if(r){r=r.slice();for(var o=0,i=r.length;o<i;o++)r[o](e);go(n)}}var QO=1e4,eA={get:function(t,e){return e===Ue?t[Ue]:e==="length"?t[Ue].getArrayLength():typeof e=="number"?Xr.get.call(t,e):typeof e=="string"&&!isNaN(e)?Xr.get.call(t,parseInt(e)):Xr.hasOwnProperty(e)?Xr[e]:t[e]},set:function(t,e,n){return e==="length"&&t[Ue].setArrayLength(n),typeof e=="number"&&Xr.set.call(t,e,n),typeof e=="symbol"||isNaN(e)?t[e]=n:Xr.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return bt("Observable arrays cannot be frozen"),!1}};function tA(t,e,n,r){n===void 0&&(n="ObservableArray@"+Rn()),r===void 0&&(r=!1);var o=new Rv(n,e,r);eO(o.values,Ue,o);var i=new Proxy(o.values,eA);if(o.proxy=i,t&&t.length){var a=I0(!0);o.spliceWithArray(0,0,t),H0(a)}return i}var Rv=function(){function t(e,n,r){this.owned=r,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new ua(e||"ObservableArray@"+Rn()),this.enhancer=function(o,i){return n(o,i,e+"[..]")}}return t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.dehanceValues=function(e){return this.dehancer!==void 0&&e.length>0?e.map(this.dehancer):e},t.prototype.intercept=function(e){return xs(this,e)},t.prototype.observe=function(e,n){return n===void 0&&(n=!1),n&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),ws(this,e)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(e){if(typeof e!="number"||e<0)throw new Error("[mobx.array] Out of range: "+e);var n=this.values.length;if(e!==n)if(e>n){for(var r=new Array(e-n),o=0;o<e-n;o++)r[o]=void 0;this.spliceWithArray(n,0,r)}else this.spliceWithArray(e,n-e)},t.prototype.updateArrayLength=function(e,n){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=n},t.prototype.spliceWithArray=function(e,n,r){var o=this;Hi(this.atom);var i=this.values.length;if(e===void 0?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),arguments.length===1?n=i-e:n==null?n=0:n=Math.max(0,Math.min(n,i-e)),r===void 0&&(r=pl),Rr(this)){var a=Ir(this,{object:this.proxy,type:"splice",index:e,removedCount:n,added:r});if(!a)return pl;n=a.removedCount,r=a.added}r=r.length===0?r:r.map(function(l){return o.enhancer(l,void 0)});var s=this.spliceItemsIntoValues(e,n,r);return(n!==0||r.length!==0)&&this.notifyArraySplice(e,r,s),this.dehanceValues(s)},t.prototype.spliceItemsIntoValues=function(e,n,r){var o;if(r.length<QO)return(o=this.values).splice.apply(o,Ud([e,n],r));var i=this.values.slice(e,e+n);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+n)),i},t.prototype.notifyArrayChildUpdate=function(e,n,r){var o=!this.owned&&Ln(),i=_r(this),a=i||o?{object:this.proxy,type:"update",index:e,newValue:n,oldValue:r}:null;this.atom.reportChanged(),i&&Cr(this,a)},t.prototype.notifyArraySplice=function(e,n,r){var o=!this.owned&&Ln(),i=_r(this),a=i||o?{object:this.proxy,type:"splice",index:e,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;this.atom.reportChanged(),i&&Cr(this,a)},t}(),Xr={intercept:function(t){return this[Ue].intercept(t)},observe:function(t,e){e===void 0&&(e=!1);var n=this[Ue];return n.observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[Ue];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[Ue];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(t);case 2:return o.spliceWithArray(t,e)}return o.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){var r=this[Ue];return r.spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[Ue];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[Ue].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[Ue];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[Ue],n=e.dehanceValues(e.values).indexOf(t);return n>-1?(this.splice(n,1),!0):!1},get:function(t){var e=this[Ue];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[Ue],r=n.values;if(t<r.length){Hi(n.atom);var o=r[t];if(Rr(n)){var i=Ir(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!i)return;e=i.newValue}e=n.enhancer(e,o);var a=e!==o;a&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else if(t===r.length)n.spliceWithArray(t,0,[e]);else throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(t){typeof Array.prototype[t]=="function"&&(Xr[t]=function(){var e=this[Ue];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)})});["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(t){typeof Array.prototype[t]=="function"&&(Xr[t]=function(e,n){var r=this,o=this[Ue];o.atom.reportObserved();var i=o.dehanceValues(o.values);return i[t](function(a,s){return e.call(n,a,s,r)},n)})});["reduce","reduceRight"].forEach(function(t){Xr[t]=function(){var e=this,n=this[Ue];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(o,i,a){return i=n.dehanceValue(i),r(o,i,a,e)},n.values[t].apply(n.values,arguments)}});var nA=Eo("ObservableArrayAdministration",Rv);function Fr(t){return Vd(t)&&nA(t[Ue])}var vf,rA={},Zd=function(){function t(e,n,r){if(n===void 0&&(n=bs),r===void 0&&(r="ObservableMap@"+Rn()),this.enhancer=n,this.name=r,this[vf]=rA,this._keysAtom=Wd(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return t.prototype._has=function(e){return this._data.has(e)},t.prototype.has=function(e){var n=this;if(!Ne.trackingDerivation)return this._has(e);var r=this._hasMap.get(e);if(!r){var o=r=new Xo(this._has(e),D0,this.name+"."+uo(e)+"?",!1);this._hasMap.set(e,o),Av(o,function(){return n._hasMap.delete(e)})}return r.get()},t.prototype.set=function(e,n){var r=this._has(e);if(Rr(this)){var o=Ir(this,{type:r?"update":"add",object:this,newValue:n,name:e});if(!o)return this;n=o.newValue}return r?this._updateValue(e,n):this._addValue(e,n),this},t.prototype.delete=function(e){var n=this;if(Hi(this._keysAtom),Rr(this)){var r=Ir(this,{type:"delete",object:this,name:e});if(!r)return!1}if(this._has(e)){var o=Ln(),i=_r(this),r=i||o?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return hr(function(){n._keysAtom.reportChanged(),n._updateHasMapEntry(e,!1);var s=n._data.get(e);s.setNewValue(void 0),n._data.delete(e)}),i&&Cr(this,r),!0}return!1},t.prototype._updateHasMapEntry=function(e,n){var r=this._hasMap.get(e);r&&r.setNewValue(n)},t.prototype._updateValue=function(e,n){var r=this._data.get(e);if(n=r.prepareNewValue(n),n!==Ne.UNCHANGED){var o=Ln(),i=_r(this),a=i||o?{type:"update",object:this,oldValue:r.value,name:e,newValue:n}:null;r.setNewValue(n),i&&Cr(this,a)}},t.prototype._addValue=function(e,n){var r=this;Hi(this._keysAtom),hr(function(){var s=new Xo(n,r.enhancer,r.name+"."+uo(e),!1);r._data.set(e,s),n=s.value,r._updateHasMapEntry(e,!0),r._keysAtom.reportChanged()});var o=Ln(),i=_r(this),a=i||o?{type:"add",object:this,name:e,newValue:n}:null;i&&Cr(this,a)},t.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var e=this,n=this.keys();return bl({next:function(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:e.get(i)}}})},t.prototype.entries=function(){var e=this,n=this.keys();return bl({next:function(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:[i,e.get(i)]}}})},t.prototype[vf=Ue,Symbol.iterator]=function(){return this.entries()},t.prototype.forEach=function(e,n){var r,o;try{for(var i=Lr(this),a=i.next();!a.done;a=i.next()){var s=Si(a.value,2),l=s[0],u=s[1];e.call(n,u,l,this)}}catch(d){r={error:d}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},t.prototype.merge=function(e){var n=this;return In(e)&&(e=e.toJS()),hr(function(){var r=I0(!0);try{aa(e)?dv(e).forEach(function(o){return n.set(o,e[o])}):Array.isArray(e)?e.forEach(function(o){var i=Si(o,2),a=i[0],s=i[1];return n.set(a,s)}):la(e)?(e.constructor!==Map&&bt("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach(function(o,i){return n.set(i,o)})):e!=null&&bt("Cannot initialize map from "+e)}finally{H0(r)}}),this},t.prototype.clear=function(){var e=this;hr(function(){gv(function(){var n,r;try{for(var o=Lr(e.keys()),i=o.next();!i.done;i=o.next()){var a=i.value;e.delete(a)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}})})},t.prototype.replace=function(e){var n=this;return hr(function(){var r,o,i,a,s=QM(e),l=new Map,u=!1;try{for(var d=Lr(n._data.keys()),c=d.next();!c.done;c=d.next()){var f=c.value;if(!s.has(f)){var h=n.delete(f);if(h)u=!0;else{var v=n._data.get(f);l.set(f,v)}}}}catch(N){r={error:N}}finally{try{c&&!c.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}try{for(var p=Lr(s.entries()),g=p.next();!g.done;g=p.next()){var m=Si(g.value,2),f=m[0],v=m[1],y=n._data.has(f);if(n.set(f,v),n._data.has(f)){var A=n._data.get(f);l.set(f,A),y||(u=!0)}}}catch(N){i={error:N}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}if(!u)if(n._data.size!==l.size)n._keysAtom.reportChanged();else for(var M=n._data.keys(),O=l.keys(),w=M.next(),_=O.next();!w.done;){if(w.value!==_.value){n._keysAtom.reportChanged();break}w=M.next(),_=O.next()}n._data=l}),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var e,n,r={};try{for(var o=Lr(this),i=o.next();!i.done;i=o.next()){var a=Si(i.value,2),s=a[0],l=a[1];r[typeof s=="symbol"?s:uo(s)]=l}}catch(u){e={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(n){return uo(n)+": "+(""+e.get(n))}).join(", ")+" }]"},t.prototype.observe=function(e,n){return ws(this,e)},t.prototype.intercept=function(e){return xs(this,e)},t}(),In=Eo("ObservableMap",Zd),gf,oA={},Iv=function(){function t(e,n,r){if(n===void 0&&(n=bs),r===void 0&&(r="ObservableSet@"+Rn()),this.name=r,this[gf]=oA,this._data=new Set,this._atom=Wd(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(o,i){return n(o,i,r)},e&&this.replace(e)}return t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.clear=function(){var e=this;hr(function(){gv(function(){var n,r;try{for(var o=Lr(e._data.values()),i=o.next();!i.done;i=o.next()){var a=i.value;e.delete(a)}}catch(s){n={error:s}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}})})},t.prototype.forEach=function(e,n){var r,o;try{for(var i=Lr(this),a=i.next();!a.done;a=i.next()){var s=a.value;e.call(n,s,s,this)}}catch(l){r={error:l}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(e){var n=this;if(Hi(this._atom),Rr(this)){var r=Ir(this,{type:"add",object:this,newValue:e});if(!r)return this}if(!this.has(e)){hr(function(){n._data.add(n.enhancer(e,void 0)),n._atom.reportChanged()});var o=Ln(),i=_r(this),r=i||o?{type:"add",object:this,newValue:e}:null;i&&Cr(this,r)}return this},t.prototype.delete=function(e){var n=this;if(Rr(this)){var r=Ir(this,{type:"delete",object:this,oldValue:e});if(!r)return!1}if(this.has(e)){var o=Ln(),i=_r(this),r=i||o?{type:"delete",object:this,oldValue:e}:null;return hr(function(){n._atom.reportChanged(),n._data.delete(e)}),i&&Cr(this,r),!0}return!1},t.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},t.prototype.entries=function(){var e=0,n=Array.from(this.keys()),r=Array.from(this.values());return bl({next:function(){var o=e;return e+=1,o<r.length?{value:[n[o],r[o]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var e=this,n=0,r=Array.from(this._data.values());return bl({next:function(){return n<r.length?{value:e.dehanceValue(r[n++]),done:!1}:{done:!0}}})},t.prototype.replace=function(e){var n=this;return Qn(e)&&(e=e.toJS()),hr(function(){var r=I0(!0);try{Array.isArray(e)?(n.clear(),e.forEach(function(o){return n.add(o)})):Cs(e)?(n.clear(),e.forEach(function(o){return n.add(o)})):e!=null&&bt("Cannot initialize set from "+e)}finally{H0(r)}}),this},t.prototype.observe=function(e,n){return ws(this,e)},t.prototype.intercept=function(e){return xs(this,e)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[gf=Ue,Symbol.iterator]=function(){return this.values()},t}(),Qn=Eo("ObservableSet",Iv),Hv=function(){function t(e,n,r,o){n===void 0&&(n=new Map),this.target=e,this.values=n,this.name=r,this.defaultEnhancer=o,this.keysAtom=new ua(r+".keys")}return t.prototype.read=function(e){return this.values.get(e).get()},t.prototype.write=function(e,n){var r=this.target,o=this.values.get(e);if(o instanceof Bi){o.set(n);return}if(Rr(this)){var i=Ir(this,{type:"update",object:this.proxy||r,name:e,newValue:n});if(!i)return;n=i.newValue}if(n=o.prepareNewValue(n),n!==Ne.UNCHANGED){var a=_r(this),s=Ln(),i=a||s?{type:"update",object:this.proxy||r,oldValue:o.value,name:e,newValue:n}:null;o.setNewValue(n),a&&Cr(this,i)}},t.prototype.has=function(e){var n=this.pendingKeys||(this.pendingKeys=new Map),r=n.get(e);if(r)return r.get();var o=!!this.values.get(e);return r=new Xo(o,D0,this.name+"."+uo(e)+"?",!1),n.set(e,r),r.get()},t.prototype.addObservableProp=function(e,n,r){r===void 0&&(r=this.defaultEnhancer);var o=this.target;if(Rr(this)){var i=Ir(this,{object:this.proxy||o,name:e,type:"add",newValue:n});if(!i)return;n=i.newValue}var a=new Xo(n,r,this.name+"."+uo(e),!1);this.values.set(e,a),n=a.value,Object.defineProperty(o,e,iA(e)),this.notifyPropertyAddition(e,n)},t.prototype.addComputedProp=function(e,n,r){var o=this.target;r.name=r.name||this.name+"."+uo(n),this.values.set(n,new Bi(r)),(e===o||tO(e,n))&&Object.defineProperty(e,n,aA(n))},t.prototype.remove=function(e){if(this.values.has(e)){var n=this.target;if(Rr(this)){var r=Ir(this,{object:this.proxy||n,name:e,type:"remove"});if(!r)return}try{mr();var o=_r(this),i=Ln(),a=this.values.get(e),s=a&&a.get();if(a&&a.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var l=this.pendingKeys.get(e);l&&l.set(!1)}delete this.target[e];var r=o||i?{type:"remove",object:this.proxy||n,oldValue:s,name:e}:null;o&&Cr(this,r)}finally{yr()}}},t.prototype.illegalAccess=function(e,n){console.warn("Property '"+n+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(e,n){return ws(this,e)},t.prototype.intercept=function(e){return xs(this,e)},t.prototype.notifyPropertyAddition=function(e,n){var r=_r(this),o=Ln(),i=r||o?{type:"add",object:this.proxy||this.target,name:e,newValue:n}:null;if(r&&Cr(this,i),this.pendingKeys){var a=this.pendingKeys.get(e);a&&a.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var e,n;this.keysAtom.reportObserved();var r=[];try{for(var o=Lr(this.values),i=o.next();!i.done;i=o.next()){var a=Si(i.value,2),s=a[0],l=a[1];l instanceof Xo&&r.push(s)}}catch(u){e={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t}();function Kd(t,e,n){if(e===void 0&&(e=""),n===void 0&&(n=bs),Object.prototype.hasOwnProperty.call(t,Ue))return t[Ue];aa(t)||(e=(t.constructor.name||"ObservableObject")+"@"+Rn()),e||(e="ObservableObject@"+Rn());var r=new Hv(t,new Map,uo(e),n);return sa(t,Ue,r),r}var mf=Object.create(null),yf=Object.create(null);function iA(t){return mf[t]||(mf[t]={configurable:!0,enumerable:!0,get:function(){return this[Ue].read(t)},set:function(e){this[Ue].write(t,e)}})}function _f(t){var e=t[Ue];return e||(Ko(t),t[Ue])}function aA(t){return yf[t]||(yf[t]={configurable:Ne.computedConfigurable,enumerable:!1,get:function(){return _f(this).read(t)},set:function(e){_f(this).write(t,e)}})}var sA=Eo("ObservableObjectAdministration",Hv);function er(t){return Vd(t)?(Ko(t),sA(t[Ue])):!1}function Jr(t,e){if(typeof t=="object"&&t!==null){if(Fr(t))return e!==void 0&&bt(!1),t[Ue].atom;if(Qn(t))return t[Ue];if(In(t)){var n=t;if(e===void 0)return n._keysAtom;var r=n._data.get(e)||n._hasMap.get(e);return r||bt(!1),r}if(Ko(t),e&&!t[Ue]&&t[e],er(t)){if(!e)return bt(!1);var r=t[Ue].values.get(e);return r||bt(!1),r}if(zd(t)||ji(t)||Cl(t))return t}else if(typeof t=="function"&&Cl(t[Ue]))return t[Ue];return bt(!1)}function Es(t,e){if(t||bt("Expecting some object"),e!==void 0)return Es(Jr(t,e));if(zd(t)||ji(t)||Cl(t)||In(t)||Qn(t))return t;if(Ko(t),t[Ue])return t[Ue];bt(!1)}function lA(t,e){var n;return e!==void 0?n=Jr(t,e):er(t)||In(t)||Qn(t)?n=Es(t):n=Jr(t),n.name}var Cf=Object.prototype.toString;function qd(t,e,n){return n===void 0&&(n=-1),tu(t,e,n)}function tu(t,e,n,r,o){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;if(i!=="function"&&i!=="object"&&typeof e!="object")return!1;var a=Cf.call(t);if(a!==Cf.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=bf(t),e=bf(e);var s=a==="[object Array]";if(!s){if(typeof t!="object"||typeof e!="object")return!1;var l=t.constructor,u=e.constructor;if(l!==u&&!(typeof l=="function"&&l instanceof l&&typeof u=="function"&&u instanceof u)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var d=r.length;d--;)if(r[d]===t)return o[d]===e;if(r.push(t),o.push(e),s){if(d=t.length,d!==e.length)return!1;for(;d--;)if(!tu(t[d],e[d],n-1,r,o))return!1}else{var c=Object.keys(t),f=void 0;if(d=c.length,Object.keys(e).length!==d)return!1;for(;d--;)if(f=c[d],!(uA(e,f)&&tu(t[f],e[f],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function bf(t){return Fr(t)?t.slice():la(t)||In(t)||Cs(t)||Qn(t)?Array.from(t.entries()):t}function uA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function bl(t){return t[Symbol.iterator]=dA,t}function dA(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");(function(){function t(){}if(t.name!=="testCodeMinification"&&!1)var e})();typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:PO,extras:{getDebugName:lA},$mobx:Ue});function cA(t){return!(t.prototype&&t.prototype.render)&&!ut.isPrototypeOf(t)}function Bv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.prefix,r=n===void 0?"":n,o=e.suffix,i=o===void 0?"":o,a=t.displayName||t.name||t.constructor&&t.constructor.name||"<component>";return r+a+i}var xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},$v=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Fv=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Vv=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},wf=console;function fA(t){var e=J2().allowStateChanges;return J2().allowStateChanges=t,e}function hA(t){J2().allowStateChanges=t}function pA(t,e,n,r,o){var i=fA(t),a=void 0;try{a=e(n,r,o)}finally{hA(i)}return a}function Ef(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t[e],o=zv[e],i=r?n===!0?function(){o.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),o.apply(this,arguments)}:o;t[e]=i}function Sf(t,e){if(t==null||e==null||(typeof t>"u"?"undefined":xf(t))!=="object"||(typeof e>"u"?"undefined":xf(e))!=="object")return t!==e;var n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(var r=void 0,o=n.length-1;r=n[o];o--)if(e[r]!==t[r])return!0;return!1}var zv={componentWillMount:function(){var e=this,n=Bv(this),r=!1,o=!1;function i(c){var f=this[c],h=Wd("reactive "+c);Object.defineProperty(this,c,{configurable:!0,enumerable:!0,get:function(){return h.reportObserved(),f},set:function(p){!o&&Sf(f,p)?(f=p,r=!0,h.reportChanged(),r=!1):f=p}})}i.call(this,"props"),i.call(this,"state");var a=this.render.bind(this),s=null,l=!1,u=function(){return s=new Ka(n+".render()",function(){if(!l&&(l=!0,typeof e.componentWillReact=="function"&&e.componentWillReact(),e.__$mobxIsUnmounted!==!0)){var f=!0;try{o=!0,r||ut.prototype.forceUpdate.call(e),f=!1}finally{o=!1,f&&s.dispose()}}}),s.reactComponent=e,d.$mobx=s,e.render=d,d(e.props,e.state,e.context)},d=function(f,h,v){l=!1;var p=void 0,g=void 0;if(s.track(function(){try{g=pA(!1,a,f,h,v)}catch(m){p=m}}),p)throw p;return g};this.render=u},componentWillUnmount:function(){this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0},componentDidMount:function(){},componentDidUpdate:function(){},shouldComponentUpdate:function(e,n){return this.state!==n?!0:Sf(this.props,e)}};function Jd(t){if(arguments.length>1&&wf.warn('Mobx observer: Using observer to inject stores is not supported. Use `@connect(["store1", "store2"]) ComponentClass instead or preferably, use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))``'),t.isMobxInjector===!0&&wf.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),cA(t)){var e,n;return Jd((n=e=function(o){Fv(i,o);function i(){return jv(this,i),Vv(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return $v(i,[{key:"render",value:function(){return t.call(this,this.props,this.context)}}]),i}(ut),e.displayName=Bv(t),n))}if(!t)throw new Error("Please pass a valid component to 'observer'");var r=t.prototype||t;return vA(r),t.isMobXReactObserver=!0,t}function vA(t){Ef(t,"componentWillMount",!0),Ef(t,"componentDidMount"),t.shouldComponentUpdate||(t.shouldComponentUpdate=zv.shouldComponentUpdate)}var gA=Jd(function(t){var e=t.children;return e[0]()});gA.displayName="Observer";var mA=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yA(t,e){return e={exports:{}},t(e,e.exports),e.exports}yA(function(t,e){(function(n,r){t.exports=r()})(mA,function(){var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,i=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,u=l&&l(Object);return function d(c,f,h){if(typeof f!="string"){if(u){var v=l(f);v&&v!==u&&d(c,v,h)}var p=i(f);a&&(p=p.concat(a(f)));for(var g=0;g<p.length;++g){var m=p[g];if(!n[m]&&!r[m]&&(!h||!h[m])){var y=s(f,m);try{o(c,m,y)}catch{}}}return c}return c}})});var Mf={children:!0,key:!0,ref:!0},Of=console;(function(t){Fv(e,t);function e(){return jv(this,e),Vv(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return $v(e,[{key:"render",value:function(r){var o=r.children;return o.length>1?Oe("div",null," ",o," "):o[0]}},{key:"getChildContext",value:function(){var r={},o=this.context.mobxStores;if(o)for(var i in o)r[i]=o[i];for(var a in this.props)!Mf[a]&&a!=="suppressChangedStoreWarning"&&(r[a]=this.props[a]);return{mobxStores:r}}},{key:"componentWillReceiveProps",value:function(r){if(Object.keys(r).length!==Object.keys(this.props).length&&Of.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!r.suppressChangedStoreWarning)for(var o in r)!Mf[o]&&this.props[o]!==r[o]&&Of.warn("MobX Provider: Provided store '"+o+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),e})(ut);if(!ut)throw new Error("mobx-preact requires Preact to be available");var Pr,f2,Af,Wv=[],sn=nt,Nf=sn.__b,Tf=sn.__r,Pf=sn.diffed,kf=sn.__c,Lf=sn.unmount,Df=sn.__;function _A(){for(var t;t=Wv.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(tl),t.__H.__h.forEach(nu),t.__H.__h=[]}catch(e){t.__H.__h=[],sn.__e(e,t.__v)}}sn.__b=function(t){Pr=null,Nf&&Nf(t)},sn.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Df&&Df(t,e)},sn.__r=function(t){Tf&&Tf(t);var e=(Pr=t.__c).__H;e&&(f2===Pr?(e.__h=[],Pr.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(tl),e.__h.forEach(nu),e.__h=[])),f2=Pr},sn.diffed=function(t){Pf&&Pf(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Wv.push(e)!==1&&Af===sn.requestAnimationFrame||((Af=sn.requestAnimationFrame)||CA)(_A)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),f2=Pr=null},sn.__c=function(t,e){e.some(function(n){try{n.__h.forEach(tl),n.__h=n.__h.filter(function(r){return!r.__||nu(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],sn.__e(r,n.__v)}}),kf&&kf(t,e)},sn.unmount=function(t){Lf&&Lf(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{tl(r)}catch(o){e=o}}),n.__H=void 0,e&&sn.__e(e,n.__v))};var Rf=typeof requestAnimationFrame=="function";function CA(t){var e,n=function(){clearTimeout(r),Rf&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Rf&&(e=requestAnimationFrame(n))}function tl(t){var e=Pr,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Pr=e}function nu(t){var e=Pr;t.__c=t.__(),Pr=e}function bA(t,e){for(var n in e)t[n]=e[n];return t}function If(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Hf(t,e){this.props=t,this.context=e}(Hf.prototype=new ut).isPureReactComponent=!0,Hf.prototype.shouldComponentUpdate=function(t,e){return If(this.props,t)||If(this.state,e)};var Bf=nt.__b;nt.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Bf&&Bf(t)};var xA=nt.__e;nt.__e=function(t,e,n,r){if(t.then){for(var o,i=e;i=i.__;)if((o=i.__c)&&o.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),o.__c(t,e)}xA(t,e,n,r)};var jf=nt.unmount;function Uv(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=bA({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return Uv(r,e,n)})),t}function Gv(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return Gv(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function h2(){this.__u=0,this.o=null,this.__b=null}function Xv(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ks(){this.i=null,this.l=null}nt.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),jf&&jf(t)},(h2.prototype=new ut).__c=function(t,e){var n=e.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=Xv(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=Gv(l,l.__c.__P,l.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.o.pop();)u.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(a,a)},h2.prototype.componentWillUnmount=function(){this.o=[]},h2.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Uv(this.__b,n,r.__O=r.__P)}this.__b=null}var o=e.__a&&Oe(Di,null,t.fallback);return o&&(o.__u&=-33),[Oe(Di,null,e.__a?null:t.children),o]};var $f=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};(ks.prototype=new ut).__a=function(t){var e=this,n=Xv(e.__v),r=e.l.get(t);return r[0]++,function(o){var i=function(){e.props.revealOrder?(r.push(o),$f(e,t,r)):o()};n?n(i):i()}},ks.prototype.render=function(t){this.i=null,this.l=new Map;var e=hl(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},ks.prototype.componentDidUpdate=ks.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){$f(t,n,e)})};var wA=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,EA=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,SA=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,MA=/[A-Z0-9]/g,OA=typeof document<"u",AA=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function Ff(t,e,n){return e.__k==null&&(e.textContent=""),ZM(t,e),typeof n=="function"&&n(),t?t.__c:null}ut.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ut.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Vf=nt.event;function NA(){}function TA(){return this.cancelBubble}function PA(){return this.defaultPrevented}nt.event=function(t){return Vf&&(t=Vf(t)),t.persist=NA,t.isPropagationStopped=TA,t.isDefaultPrevented=PA,t.nativeEvent=t};var kA={enumerable:!1,configurable:!0,get:function(){return this.class}},zf=nt.vnode;nt.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,r=e.type,o={},i=r.indexOf("-")===-1;for(var a in n){var s=n[a];if(!(a==="value"&&"defaultValue"in n&&s==null||OA&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&s===!0?s="":l==="translate"&&s==="no"?s=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||r!=="input"&&r!=="textarea"||AA(n.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":SA.test(a)&&(a=l):l=a="oninput":i&&EA.test(a)?a=a.replace(MA,"-$&").toLowerCase():s===null&&(s=void 0),l==="oninput"&&o[a=l]&&(a="oninputCapture"),o[a]=s}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=hl(n.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=hl(n.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",kA)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),e.props=o}(t),t.$$typeof=wA,zf&&zf(t)};var Wf=nt.__r;nt.__r=function(t){Wf&&Wf(t),t.__c};var Uf=nt.diffed;nt.diffed=function(t){Uf&&Uf(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value)};var LA=0;function Y(t,e,n,r,o,i){e||(e={});var a,s,l=e;if("ref"in l)for(s in l={},e)s=="ref"?a=e[s]:l[s]=e[s];var u={type:t,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--LA,__i:-1,__u:0,__source:o,__self:i};if(typeof t=="function"&&(a=t.defaultProps))for(s in a)l[s]===void 0&&(l[s]=a[s]);return nt.vnode&&nt.vnode(u),u}var DA=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},qa;(function(t){function e(n){var r=DA(n,[]),o=n.container;if(!o)throw new Error("Ensure the container of LogicFlow is specified and valid.");return Mt({},t.defaults,r)}t.get=e})(qa||(qa={}));(function(t){t.defaults={background:!1,grid:!1,textEdit:!0,snapline:!0,outline:!1,disabledTools:[]}})(qa||(qa={}));var Gf={node:!1,edge:!1},RA={node:!0,edge:!0},IA=function(t){return!t||typeof t=="boolean"?t===!0?Ke(RA):Ke(Gf):Li(Ke(Gf),t)},HA=function(){return fs(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null};function pn(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}}var Ls=200,BA=9999,jA=10,gt;(function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(gt||(gt={}));var $t;(function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"})($t||($t={}));var et;(function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.CUSTOM_HTML_NODE="custom-html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"})(et||(et={}));var De;(function(t){t.ELEMENT_CLICK="element:click",t.NODE_ADD="node:add",t.NODE_DELETE="node:delete",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_GROUP_COPY="node:group-copy-add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.NODE_ROTATE="node:rotate",t.NODE_RESIZE="node:resize",t.NODE_FOCUS="node:focus",t.NODE_BLUR="node:blur",t.NODE_PROPERTIES_CHANGE="node:properties-change",t.NODE_PROPERTIES_DELETE="node:properties-delete",t.EDGE_ADD="edge:add",t.EDGE_DELETE="edge:delete",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_FOCUS="edge:focus",t.EDGE_BLUR="edge:blur",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.ANCHOR_DRAGEND="anchor:dragend",t.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",t.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",t.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",t.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",t.ADJUST_POINT_DRAG="adjustPoint:drag",t.ADJUST_POINT_DROP="adjustPoint:drop",t.ADJUST_POINT_DRAGEND="adjustPoint:dragend",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.TEXT_MOUSEDOWN="text:mousedown",t.TEXT_DRAGSTART="text:dragstart",t.TEXT_DRAG="text:drag",t.TEXT_DROP="text:drop",t.TEXT_CLICK="text:click",t.TEXT_DBCLICK="text:dbclick",t.TEXT_BLUR="text:blur",t.TEXT_MOUSEMOVE="text:mousemove",t.TEXT_MOUSEUP="text:mouseup",t.TEXT_FOCUS="text:focus",t.TEXT_ADD="text:add",t.TEXT_UPDATE="text:update",t.TEXT_CLEAR="text:clear",t.LABEL_MOUSEDOWN="label:mousedown",t.LABEL_DRAGSTART="label:dragstart",t.LABEL_DRAG="label:drag",t.LABEL_DROP="label:drop",t.LABEL_CLICK="label:click",t.LABEL_DBCLICK="label:dbclick",t.LABEL_BLUR="label:blur",t.LABEL_MOUSEMOVE="label:mousemove",t.LABEL_MOUSEUP="label:mouseup",t.LABEL_FOCUS="label:focus",t.LABEL_ADD="label:add",t.LABEL_UPDATE="label:update",t.LABEL_CLEAR="label:clear",t.LABEL_DELETE="label:delete",t.LABEL_SHOULD_ADD="label:should-add",t.LABEL_BATCH_ADD="label:batch-add",t.LABEL_SHOULD_UPDATE="label:should-update",t.LABEL_SHOULD_DELETE="label:should-delete",t.LABEL_BATCH_DELETE="label:batch-delete",t.LABEL_NOT_ALLOWED_ADD="label:not-allowed-add",t.HISTORY_CHANGE="history:change",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered",t.GRAPH_UPDATED="graph:updated"})(De||(De={}));var pr;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(pr||(pr={}));var Bt;(function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"})(Bt||(Bt={}));var Kn;(function(t){t.TEXT="text",t.LABEL="label"})(Kn||(Kn={}));var $A=0,rr=function(){function t(e){var n=e.onDragStart,r=n===void 0?Aa:n,o=e.onDragging,i=o===void 0?Aa:o,a=e.onDragEnd,s=a===void 0?Aa:a,l=e.eventType,u=l===void 0?"":l,d=e.eventCenter,c=e.step,f=c===void 0?1:c,h=e.isStopPropagation,v=h===void 0?!0:h,p=e.model,g=e.data,m=this;this.isDragging=!1,this.isStartDragging=!1,this.startX=0,this.startY=0,this.sumDeltaX=0,this.sumDeltaY=0,this.handleMouseDown=function(y){var A,M,O=window==null?void 0:window.document;if(y.button===$A){m.isStopPropagation&&y.stopPropagation(),m.isStartDragging=!0,m.startX=y.clientX,m.startY=y.clientY,O.addEventListener("mousemove",m.handleMouseMove,!1),O.addEventListener("mouseup",m.handleMouseUp,!1);var w=(A=m.model)===null||A===void 0?void 0:A.getData();(M=m.eventCenter)===null||M===void 0||M.emit(De["".concat(m.eventType,"_MOUSEDOWN")],{e:y,data:m.data||w}),m.startTime=new Date().getTime()}},this.handleMouseMove=function(y){var A,M;if(m.isStopPropagation&&y.stopPropagation(),!!m.isStartDragging&&(m.sumDeltaX+=y.clientX-m.startX,m.sumDeltaY+=y.clientY-m.startY,m.startX=y.clientX,m.startY=y.clientY,m.step<=1||Math.abs(m.sumDeltaX)>m.step||Math.abs(m.sumDeltaY)>m.step)){var O=m.sumDeltaX%m.step,w=m.sumDeltaY%m.step,_=m.sumDeltaX-O,N=m.sumDeltaY-w;m.sumDeltaX=O,m.sumDeltaY=w;var R=(A=m.model)===null||A===void 0?void 0:A.getData();m.isDragging||((M=m.eventCenter)===null||M===void 0||M.emit(De["".concat(m.eventType,"_DRAGSTART")],{e:y,data:m.data||R}),m.onDragStart({event:y})),m.isDragging=!0,Promise.resolve().then(function(){var I,W;m.onDragging({deltaX:_,deltaY:N,event:y}),(I=m.eventCenter)===null||I===void 0||I.emit(De["".concat(m.eventType,"_MOUSEMOVE")],{deltaX:_,deltaY:N,e:y,data:m.data||R}),(W=m.eventCenter)===null||W===void 0||W.emit(De["".concat(m.eventType,"_DRAG")],{e:y,data:m.data||R})})}},this.handleMouseUp=function(y){var A=window.document;m.isStartDragging=!1,m.isStopPropagation&&y.stopPropagation(),Promise.resolve().then(function(){var M,O,w;A.removeEventListener("mousemove",m.handleMouseMove,!1),A.removeEventListener("mouseup",m.handleMouseUp,!1);var _=(M=m.model)===null||M===void 0?void 0:M.getData();(O=m.eventCenter)===null||O===void 0||O.emit(De["".concat(m.eventType,"_MOUSEUP")],{e:y,data:m.data||_}),m.isDragging&&(m.isDragging=!1,m.onDragEnd({event:y}),(w=m.eventCenter)===null||w===void 0||w.emit(De["".concat(m.eventType,"_DROP")],{e:y,data:m.data||_}))})},this.cancelDrag=function(){var y=window==null?void 0:window.document;y.removeEventListener("mousemove",m.handleMouseMove,!1),y.removeEventListener("mouseup",m.handleMouseUp,!1),m.onDragEnd({event:void 0}),m.isDragging=!1},this.destroy=function(){m.isStartDragging&&m.cancelDrag()},this.onDragStart=r,this.onDragging=i,this.onDragEnd=s,this.step=f,this.isStopPropagation=v,this.eventType=u,this.eventCenter=d,this.model=p,this.data=g}return t.prototype.setStep=function(e){this.step=e},t.prototype.setModel=function(e){this.model=e},t}(),FA=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{x:e-r/2,y:n-o/2,x1:e+r/2,y1:n+o/2}},VA=function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,o=(e.y+n.y)/2,i=Math.abs(e.x-n.x)+10,a=Math.abs(e.y-n.y)+10;return{x:r-i/2,y:o-a/2,x1:r+i/2,y1:o+a/2}},zA=function(t){var e=t.points,n=qo(e),r=es(n,8),o=r.x,i=r.y,a=r.width,s=r.height;return{x:o-a/2,y:i-s/2,x1:o+a/2,y1:i+s/2}},WA=function(t){var e=t.path,n=Qd(e),r=es(n,8),o=r.x,i=r.y,a=r.width,s=r.height;return{x:o-a/2,y:i-s/2,x1:o+a/2,y1:i+s/2}},UA=function(t){if(t.modelType===et.LINE_EDGE)return VA(t);if(t.modelType===et.POLYLINE_EDGE)return zA(t);if(t.modelType===et.BEZIER_EDGE)return WA(t)},GA=function(t,e,n,r){var o=(e.y-t.y)*(r.x-n.x)-(t.x-e.x)*(n.y-r.y);if(o===0)return!1;var i=((e.x-t.x)*(r.x-n.x)*(n.y-t.y)+(e.y-t.y)*(r.x-n.x)*t.x-(r.y-n.y)*(e.x-t.x)*n.x)/o,a=-((e.y-t.y)*(r.y-n.y)*(n.x-t.x)+(e.x-t.x)*(r.y-n.y)*t.y-(r.x-n.x)*(e.y-t.y)*n.y)/o;return(i-t.x)*(i-e.x)<=0&&(a-t.y)*(a-e.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0?{x:i,y:a}:!1},Ja=function(t,e,n){var r=t.x,o=t.y,i=e.x,a=e.y,s=n.x,l=n.y,u=(l-a)/(s-i),d=a-u*i;return(r>=i&&r<=s||r<=i&&r>=s)&&(o>=a&&o<=l||o<=a&&o>=l)&&Math.abs(o-u*r-d)<Number.EPSILON},Qa=function(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,i=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},s=Math.atan((n.y-e.y)/(n.x-e.x)),l=Math.atan(r/o),u=Math.sqrt(o*o+r*r);return i==="start"?n.x>=e.x?(a.leftX=e.x+u*Math.sin(s+l),a.leftY=e.y-u*Math.cos(s+l),a.rightX=e.x-u*Math.sin(s-l),a.rightY=e.y+u*Math.cos(s-l)):(a.leftX=e.x-u*Math.sin(s+l),a.leftY=e.y+u*Math.cos(s+l),a.rightX=e.x+u*Math.sin(s-l),a.rightY=e.y-u*Math.cos(s-l)):i==="end"&&(n.x>=e.x?(a.leftX=n.x+u*Math.sin(s-l),a.leftY=n.y-u*Math.cos(s-l),a.rightX=n.x-u*Math.sin(s+l),a.rightY=n.y+u*Math.cos(s+l)):(a.leftX=n.x-u*Math.sin(s-l),a.leftY=n.y+u*Math.cos(s-l),a.rightX=n.x+u*Math.sin(s+l),a.rightY=n.y-u*Math.cos(s+l))),a},Mi=function(){return Mi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Mi.apply(this,arguments)},Yn=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},co=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},XA=function(t,e){return Math.abs(t.centerX-e.centerX)*2<t.width+e.width&&Math.abs(t.centerY-e.centerY)*2<t.height+e.height},ru=function(t){var e=[],n={};return t.forEach(function(r){var o="".concat(r.x,"-").concat(r.y);r.id=o,n[o]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},xl=function(t,e){return t.width===0&&t.height===0?t:{x:t.x,y:t.y,centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},YA=function(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height?Bt.HORIZONTAL:Bt.VERTICAL},wl=function(t,e,n){var r=YA(n,e);return r===Bt.HORIZONTAL?{x:n.x>t.centerX?t.maxX:t.minX,y:n.y}:{x:n.x,y:n.y>t.centerY?t.maxY:t.minY}},Xf=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{x:(n+o)/2,y:(r+i)/2,centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},es=function(t,e){t===void 0&&(t=[]);var n=[],r=[];t.forEach(function(d){n.push(d.x),r.push(d.y)});var o=Math.min.apply(Math,co([],Yn(n),!1)),i=Math.max.apply(Math,co([],Yn(n),!1)),a=Math.min.apply(Math,co([],Yn(r),!1)),s=Math.max.apply(Math,co([],Yn(r),!1)),l=i-o,u=s-a;return e&&(l+=e,u+=e),{centerX:(o+i)/2,centerY:(a+s)/2,maxX:i,maxY:s,minX:o,minY:a,x:(o+i)/2,y:(a+s)/2,height:u,width:l}},El=function(t){var e=t.minX,n=t.minY,r=t.maxX,o=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:o},{x:e,y:o}]},Ds=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},ZA=function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]},KA=function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]},qA=function(t,e){return co(co([],Yn(ZA(t,e.x)),!1),Yn(KA(t,e.y)),!1)},ou=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},JA=function(t,e){var n=-2,r=0;return e.forEach(function(o){o&&(t.x===o.x&&(r+=n),t.y===o.y&&(r+=n))}),r},Yf=function(t,e,n,r,o){return ou(t,e)+ou(t,n)+JA(t,[e,n,r,o])},Yv=function(t,e,n,r,o){o||(o=0),t.unshift(e[r]),n[r]&&n[r]!==r&&o<=100&&Yv(t,e,n,n[r],o+1)},QA=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},Ma=function(t,e,n,r){var o=e.x-t.x,i=e.y-t.y,a=r.x-n.x,s=r.y-n.y,l=(-i*(t.x-n.x)+o*(t.y-n.y))/(-a*i+o*s),u=(a*(t.y-n.y)-s*(t.x-n.x))/(-a*i+o*s);return l>=0&&l<=1&&u>=0&&u<=1},Zf=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=Yn(El(n),4),o=r[0],i=r[1],a=r[2],s=r[3];return Ma(t,e,o,i)||Ma(t,e,o,s)||Ma(t,e,i,a)||Ma(t,e,a,s)},eN=function(t,e,n,r){var o=[];return t.forEach(function(i){i!==e&&(i.x===e.x||i.y===e.y)&&!Zf(i,e,n)&&!Zf(i,e,r)&&o.push(i)}),ru(o)},tN=function(t,e,n,r,o,i,a){var s=[],l=[e],u={},d={},c={};e.id&&(d[e.id]=0,c[e.id]=Yf(e,n,e));var f={};t.forEach(function(p){p.id&&(f[p.id]=p)});for(var h=function(){var p,g=1/0;if(l.forEach(function(y){y.id&&c[y.id]<g&&(g=c[y.id],p=y)}),p===n&&n.id){var m=[];return Yv(m,f,u,n.id),{value:m}}if(!p)return{value:[e,n]};QA(l,p),s.push(p),eN(t,p,r,o).forEach(function(y){if(s.indexOf(y)===-1&&(l.indexOf(y)===-1&&l.push(y),p!=null&&p.id&&(y!=null&&y.id))){var A=c[p.id]+ou(p,y);if(d[y.id]&&A>=d[y.id])return;u[y.id]=p.id,d[y.id]=A,c[y.id]=d[y.id]+Yf(y,n,e,i,a)}})};l.length;){var v=h();if(typeof v=="object")return v.value}return[e,n]},Kf=function(t){return Tn(t)},Zv=function(t){for(var e=1;e<t.length-1;){var n=t[e-1],r=t[e],o=t[e+1];n.x===r.x&&r.x===o.x||n.y===r.y&&r.y===o.y?t.splice(e,1):e++}return t},qf=function(t,e,n,r,o){var i=Kf(n),a=Kf(r),s=xl(i,o),l=xl(a,o),u=wl(s,i,t),d=wl(l,a,e);if(XA(s,l)){var c=rN(t,e,u,d);return co(co([t,u],Yn(c),!1),[d,e],!1)}var f=es([u,d]),h=Xf(s,f),v=Xf(l,f),p=[];p=p.concat(El(h)),p=p.concat(El(v));var g={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[f,h,v].forEach(function(y){p=p.concat(qA(y,g).filter(function(A){return Ds(A,s)&&Ds(A,l)}))}),[{x:u.x,y:d.y},{x:d.x,y:u.y}].forEach(function(y){Ds(y,s)&&Ds(y,l)&&p.push(y)}),p.unshift(u),p.push(d),p=ru(p);var m=tN(p,u,d,i,a,t,e);return m.unshift(t),m.push(e),m.length>2&&(m=Zv(m)),ru(m)},nN=function(t){if(t.length===1){var e=Yn(t,1),n=e[0];return[n,n]}else{for(var r=t[0],o=t[1],i=gr(r.x,r.y,o.x,o.y),a=1;a<t.length-1;a++){var s=t[a],l=t[a+1],u=gr(s.x,s.y,l.x,l.y);u>i&&(i=u,r=s,o=l)}return[r,o]}},Jf=function(t,e,n){var r=fo(t,n),o=fo(e,n);return r&&o},Qf=function(t,e,n){var r=fo(t,n),o=fo(e,n),i=r&&o,a=r||o;return!i&&a},eh=function(t,e,n){for(var r=void 0,o=Tn(n),i=El(o),a=0;a<i.length;a++){var s=Ma(t,e,i[a],i[(a+1)%i.length]);s&&(r=[i[a],i[(a+1)%i.length]])}if(r)return GA(t,e,r[0],r[1])},Sl=function(t,e){var n=void 0;return t.x===e.x?n=Bt.VERTICAL:t.y===e.y&&(n=Bt.HORIZONTAL),n},qo=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var o=Yn(r.split(","),2),i=o[0],a=o[1];n.push({x:Number(i),y:Number(a)})}),n},rN=function(t,e,n,r){var o=[],i=Sl(t,n),a=Sl(e,r);if(i===a)t.y===n.y?(o.push({x:n.x,y:(n.y+r.y)/2}),o.push({x:r.x,y:(n.y+r.y)/2})):(o.push({x:(n.x+r.x)/2,y:n.y}),o.push({x:(n.x+r.x)/2,y:r.y}));else{var s={x:n.x,y:r.y},l=Ja(s,t,n),u=Ja(s,e,r);if(l||u)s={x:r.x,y:n.y};else{var d=th(s,t,n),c=th(s,e,r);d&&c&&(s={x:r.x,y:n.y})}o.push(s)}return o},th=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},Kv=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:r>=1&&r<=126||r>=65376&&r<=65439?e+=1:e+=2}return e},oN=function(t){var e=t.start,n=t.end,r;if(e.x===n.x&&e.y===n.y)r="";else{var o={start:e,end:n,offset:10,verticalLength:5},i=Qa(Mi(Mi({},o),{type:"start"})),a=Qa(Mi(Mi({},o),{type:"end"}));r="M".concat(i.leftX," ").concat(i.leftY,`
    L`).concat(i.rightX," ").concat(i.rightY,`
    L`).concat(a.rightX," ").concat(a.rightY,`
    L`).concat(a.leftX," ").concat(a.leftY," z")}return{d:r,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},nh=function(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode,i=t.offset,a=Tn(r),s=Tn(o),l=xl(a,i),u=xl(s,i),d=wl(l,a,e),c=wl(u,s,n);return{sNext:d,ePre:c}},Qd=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(","),n=Rs(e[0]),r=Rs(e[1]),o=Rs(e[2]),i=Rs(e[3]);return[n,r,o,i]},Rs=function(t){var e=Yn(t.replace(/(^\s*)/g,"").split(" "),2),n=e[0],r=e[1];return{x:+n,y:+r}},rh=function(t,e){var n=Yn(t,4),r=n[0],o=n[1],i=n[2],a=n[3],s=GN(r,o,i,a,e);return[s,t[3]]},qv=function(t,e){for(var n=t.x,r=t.y,o=qo(e),i=Number.MAX_SAFE_INTEGER,a,s=[],l=0;l<o.length;l++)s.push({start:o[l],end:o[(l+1)%o.length]});if(s.forEach(function(f){var h=f.start,v=f.end;if(h.x===v.x){var p={x:h.x,y:r},g=Ja(p,h,v);if(g){var m=Math.abs(h.x-n);m<i&&(i=m,a=p)}}else if(h.y===v.y){var p={x:n,y:h.y},g=Ja(p,h,v);if(g){var m=Math.abs(h.y-r);m<i&&(i=m,a=p)}}}),!a){var u=s[0],d=u.start,c=u.end;a={x:d.x+(c.x-d.x)/2,y:d.y+(c.y-d.y)/2}}return a},iN=function(t){return Wo(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},oh=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function aN(t,e){return typeof e!="function"?function(n,r,o){return Object.assign({type:t.edgeType},o)}:function(n,r,o){var i=e(n,r,o);return i?typeof i=="string"?Object.assign({},o,{type:i}):Object.assign({type:i},o):{type:t.edgeType}}}var sN=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return Ct(e,function(i){var a=Kv(i);o=a>o?a:o}),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},vi=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Is=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};function Vi(t,e,n){return n&&e*Math.round(t/e)||t}function lN(t,e,n){if(!t)return[];var r=Math.min.apply(Math,Is([],vi(t.map(function(p){return p[0]})),!1)),o=Math.max.apply(Math,Is([],vi(t.map(function(p){return p[0]})),!1)),i=Math.min.apply(Math,Is([],vi(t.map(function(p){return p[1]})),!1)),a=Math.max.apply(Math,Is([],vi(t.map(function(p){return p[1]})),!1)),s=-r,l=-i,u=t.map(function(p){var g=vi(p,2),m=g[0],y=g[1];return[m+s,y+l]}),d=o-r,c=a-i,f=e?e/d:1,h=n?n/c:1,v=Math.min(f,h);return u.map(function(p){var g=vi(p,2),m=g[0],y=g[1];return[m*v,y*v]})}var p2=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},v2=function(t,e,n){var r=p2(t,2),o=r[0],i=r[1],a=p2(e,2),s=a[0],l=a[1],u=p2(n,2),d=u[0],c=u[1];return o>s&&o<d&&i>l&&i<c},Jv=function(t,e){var n=e.multipleSelectKey,r=!1;switch(n){case"meta":r=t.metaKey;break;case"alt":r=t.altKey;break;case"shift":r=t.shiftKey;break;case"ctrl":r=t.ctrlKey;break;default:r=!1;break}return r},ec=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();function ih(t,e){return t instanceof un&&e instanceof un}var Qv=function(t){ec(e,t);function e(n,r,o){var i=t.call(this,3)||this;return i[0]=n,i[1]=r,i[2]=o,i.x=n,i.y=r,i.z=o,Object.setPrototypeOf(i,e.prototype),i}return e.prototype.add=function(n){if(ih(this,n))return new un(this.x+n.x,this.y+n.y);var r=this.z+n.z;return new iu((this.x+n.x)/r,(this.y+n.y)/r)},e.prototype.subtract=function(n){if(ih(this,n))return new un(this.x-n.x,this.y-n.y);var r=this.z-n.z;return r===0?new un(this.x-n.x,this.y-n.y):new iu((this.x-n.x)/r,(this.y-n.y)/r)},e}(Array),un=function(t){ec(e,t);function e(n,r,o){var i=t.call(this,n,r,o??0)||this;return Object.setPrototypeOf(i,e.prototype),i}return e.prototype.toString=function(){return"Vector"},e.prototype.dot=function(n){var r=this;return n.reduce(function(o,i,a){return o+i*r[a]})},e.prototype.cross=function(n){return new e(this.y*n.z-this.z*n.y,this.z*n.x-this.x*n.z,this.x*n.y-this.y*n.x)},e.prototype.getLength=function(){return Math.hypot(this.x,this.y)},e.prototype.normalize=function(){var n=this.getLength();return new e(this.x/n,this.y/n)},e.prototype.crossZ=function(n){return this.x*n.y-this.y*n.x},e.prototype.angle=function(n){var r=this.crossZ(n),o=Math.acos(this.normalize().dot(n.normalize()));return r>=0?o:-o},e}(Qv),iu=function(t){ec(e,t);function e(n,r){var o=t.call(this,n,r,1)||this;return Object.setPrototypeOf(o,e.prototype),o}return e.prototype.toString=function(){return"Point"},e}(Qv),B0=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gi=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},g2=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},j0=function(t){B0(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.call(this,n.length)||this;return o.fill(new Array(3)),n.forEach(function(i,a){o[a]=i}),o.columns=n[0].length,o.rows=n.length,Object.setPrototypeOf(o,e.prototype),o}return e.prototype.getRow=function(n){return this[n]},e.prototype.getColumn=function(n){return g2([],gi(this.map(function(r){return r[n]})),!1)},e.prototype.transpose=function(){for(var n=[],r=0;r<this.columns;r++)n.push(this.getColumn(r));return new(e.bind.apply(e,g2([void 0],gi(n),!1)))},e.prototype.cross=function(n){var r=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===n.rows)for(var o=0;o<this.rows;o++)for(var i=this.getRow(o),a=function(l){var u=n.getColumn(l);r[o][l]=i.reduce(function(d,c,f){return d+c*u[f]},0)},s=0;s<n.columns;s++)a(s);return new(e.bind.apply(e,g2([void 0],gi(r),!1)))},e.prototype.to2D=function(){return this.map(function(n){return[n[0],n[1]]})},e.prototype.toPoints=function(){return this.map(function(n){return new iu(n[0],n[1])})},e.prototype.toString=function(){var n=gi(this[0],2),r=n[0],o=n[1],i=gi(this[1],2),a=i[0],s=i[1],l=gi(this[2],2),u=l[0],d=l[1];return"matrix(".concat(r," ").concat(o," ").concat(a," ").concat(s," ").concat(u," ").concat(d,")")},e.prototype.translate=function(n,r){return this.cross(new $0(n,r))},e.prototype.rotate=function(n){return this.cross(new uN(n))},e.prototype.scale=function(n,r){return this.cross(new dN(n,r))},e}(Array),uN=function(t){B0(e,t);function e(n){var r=t.call(this,new un(+Math.cos(n).toFixed(2),+Math.sin(n).toFixed(2),0),new un(-Math.sin(n).toFixed(2),+Math.cos(n).toFixed(2),0),new un(0,0,1))||this;return Object.setPrototypeOf(r,e.prototype),r}return e.prototype.inverse=function(){return this.transpose()},e}(j0),dN=function(t){B0(e,t);function e(n,r){var o=t.call(this,new un(n,0,0),new un(0,r,0),new un(0,0,1))||this;return o.sx=n,o.sy=r,Object.setPrototypeOf(o,e.prototype),o}return e.prototype.inverse=function(){return new e(1/this.sx,1/this.sy)},e}(j0),$0=function(t){B0(e,t);function e(n,r){var o=t.call(this,new un(1,0,0),new un(0,1,0),new un(n,r,1))||this;return o.tx=n,o.ty=r,Object.setPrototypeOf(o,e.prototype),o}return e.prototype.inverse=function(){return new e(-this.tx,-this.ty)},e}(j0);$O({isolateGlobalState:!0});var Ml=function(){return Ml=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ml.apply(this,arguments)},au=function(t){var e=t.anchors;return e},Ol=function(t,e){for(var n=e.nodes,r,o=n.length-1;o>=0;o--){var i=n[o],a=hN(t,i);if(a){var s=i.getTargetAnchor(t);if(s){var l={node:i,anchorIndex:s.index,anchor:s.anchor};(!r||cN(i,r.node,e))&&(r=l)}}}return r},cN=function(t,e,n){return t.zIndex>e.zIndex?!0:n.nodesMap[t.id].index>n.nodesMap[e.id].index},fN=function(t,e){for(var n=au(e),r,o=Number.MAX_SAFE_INTEGER,i=0;i<n.length;i++){var a=gr(t.x,t.y,n[i].x,n[i].y);a<o&&(o=a,r={index:i,anchor:Ml(Ml({},n[i]),{x:n[i].x,y:n[i].y,id:n[i].id})})}return r},gr=function(t,e,n,r){return Math.hypot(t-n,e-r)},fo=function(t,e){var n=!1,r=0,o=Tn(e);return t.x>=o.minX-r&&t.x<=o.maxX+r&&t.y>=o.minY-r&&t.y<=o.maxY+r&&(n=!0),n},hN=function(t,e){var n=!1,r=5,o=Tn(e);return t.x>=o.minX-r&&t.x<=o.maxX+r&&t.y>=o.minY-r&&t.y<=o.maxY+r&&(n=!0),n},Tn=function(t){var e=t.x,n=t.y,r=t.width,o=t.height;return{minX:e-r/2,minY:n-o/2,maxX:e+r/2,maxY:n+o/2,x:e,y:n,width:r,height:o,centerX:e,centerY:n}},pN=function(t){var e=t,n=e.x,r=e.y,o=e.width,i=e.height,a=e.radius;return[{x:n-o/2+a,y:r-i/2+a,r:a},{x:n+o/2-a,y:r-i/2+a,r:a},{x:n-o/2+a,y:r+i/2-a,r:a},{x:n+o/2-a,y:r+i/2-a,r:a}]},ah=function(t,e,n){var r=pN(n),o,i=Number.MAX_SAFE_INTEGER;return r.forEach(function(a){var s=gr(t.x,t.y,a.x,a.y);s<i&&(i=s,o=a)}),su(t,e,o)},su=function(t,e,n){var r,o=n.x,i=n.y,a=n.r;if(e===Bt.HORIZONTAL){var s=o-Math.sqrt(a*a-(t.y-i)*(t.y-i)),l=o+Math.sqrt(a*a-(t.y-i)*(t.y-i)),u=Math.abs(s-t.x)<Math.abs(l-t.x)?s:l;r={x:u,y:t.y}}else if(e===Bt.VERTICAL){var d=i-Math.sqrt(a*a-(t.x-o)*(t.x-o)),c=i+Math.sqrt(a*a-(t.x-o)*(t.x-o)),f=Math.abs(d-t.y)<Math.abs(c-t.y)?d:c;r={x:t.x,y:f}}return r},sh=function(t,e){var n=e,r=!1,o=n.x,i=n.y,a=n.width,s=n.height,l=n.radius,u={minX:o-a/2+l,maxX:o+a/2-l,minY:i-s/2+l,maxY:i+s/2-l};return t.y===i+s/2||t.y===i-s/2?r=t.x>u.minX&&t.x<u.maxX:(t.x===o+a/2||t.x===o-a/2)&&(r=t.y>u.minY&&t.y<u.maxY),r},lh=function(t,e,n){var r,o=n,i=o.x,a=o.y,s=o.rx,l=o.ry;if(e===Bt.HORIZONTAL){var u=i-Math.sqrt(s*s-(t.y-a)*(t.y-a)*s*s/(l*l)),d=i+Math.sqrt(s*s-(t.y-a)*(t.y-a)*s*s/(l*l)),c=Math.abs(u-t.x)<Math.abs(d-t.x)?u:d;r={x:c,y:t.y}}else if(e===Bt.VERTICAL){var f=a-Math.sqrt(l*l-(t.x-i)*(t.x-i)*l*l/(s*s)),h=a+Math.sqrt(l*l-(t.x-i)*(t.x-i)*l*l/(s*s)),v=Math.abs(f-t.y)<Math.abs(h-t.y)?f:h;r={x:t.x,y:v}}return r},Hs=function(t,e,n){for(var r=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,i,a=[],s=0;s<r.length;s++)a.push({start:r[s],end:r[(s+1)%r.length]});return a.forEach(function(l){var u=l.start,d=l.end,c=u,f=d;u.x>d.x&&(c=d,f=u);var h={x:t.x,y:t.y};if(c.x===f.x&&e===Bt.HORIZONTAL&&(h={x:c.x,y:t.y}),c.y===f.y&&e===Bt.VERTICAL&&(h={x:t.x,y:c.y}),c.x!==f.x&&c.y!==f.y){var v=(f.y-c.y)/(f.x-c.x),p=(c.x*f.y-f.x*c.y)/(c.x-f.x);e===Bt.HORIZONTAL?h={x:(t.y-p)/v,y:t.y}:e===Bt.VERTICAL&&(h={x:t.x,y:v*t.x+p})}var g=Ja(h,u,d);if(g){var m=gr(h.x,h.y,t.x,t.y);m<o&&(o=m,i=h)}}),i},vN=function(t){var e=Wo(t,["id","type","x","y","text","label","properties","virtual","rotate","resizable","rotatable"]);return e},uh=function(t,e,n,r){var o=t.x,i=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:o,y:i}},eg=function(t){var e=t.rows,n=t.style,r=t.rowsLength,o=t.className,i=document.createElement("div");i.className=o,i.style.fontSize="".concat(n.fontSize),i.style.width="".concat(n.width),i.style.lineHeight="".concat(n.lineHeight),i.style.padding="".concat(n.padding),n.fontFamily&&(i.style.fontFamily="".concat(n.fontFamily)),r>1?e.forEach(function(s){var l=document.createElement("div");l.textContent=s,i.appendChild(l)}):i.textContent=e[0],document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},dh=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,o=0;return e&&e.forEach(function(i){var a=Kv(i);o=a>o?a:o}),{width:Math.ceil(o/2)*r+r/4,height:n*(r+2)+r/4}},Al=function(t){return typeof t!="object"?{isAllPass:!!t,msg:t?"":"不允许连接"}:t};let Bs;const gN=new Uint8Array(16);function mN(){if(!Bs&&(Bs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bs(gN)}const an=[];for(let t=0;t<256;++t)an.push((t+256).toString(16).slice(1));function yN(t,e=0){return an[t[e+0]]+an[t[e+1]]+an[t[e+2]]+an[t[e+3]]+"-"+an[t[e+4]]+an[t[e+5]]+"-"+an[t[e+6]]+an[t[e+7]]+"-"+an[t[e+8]]+an[t[e+9]]+"-"+an[t[e+10]]+an[t[e+11]]+an[t[e+12]]+an[t[e+13]]+an[t[e+14]]+an[t[e+15]]}const _N=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ch={randomUUID:_N};function CN(t,e,n){if(ch.randomUUID&&!e&&!t)return ch.randomUUID();t=t||{};const r=t.random||(t.rng||mN)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let o=0;o<16;++o)e[n+o]=r[o];return e}return yN(r)}var mo=function(){return CN()},Pa=new Map,tg=function(t){var e=mo();function n(){t();var o=Pa.get(e);if(o){var i=window.requestAnimationFrame(n);Pa.set(e,i)}}var r=window.requestAnimationFrame(n);return Pa.set(e,r),e},Nl=function(t){var e=Pa.get(t);e&&(window.cancelAnimationFrame(e),Pa.delete(t))},ts=function(){return ts=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ts.apply(this,arguments)},bN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function ng(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,i=t.value,a=t.fontSize,s=a===void 0?12:a,l=t.fill,u=l===void 0?"currentColor":l,d=t.overflowMode,c=d===void 0?"default":d,f=t.textWidth,h=f===void 0?void 0:f,v=t.model,p={x:n,y:o,fill:u,fontSize:s,textAnchor:"middle",dominantBaseline:"central"};if(Ct(Hr(t),function(O){var w=bN(O,2),_=w[0],N=w[1];typeof N!="object"&&(p[_]=N)}),i){var g=String(i).split(/[\r\n]/g),m=g.length;if(c!=="default"){var y=v.BaseType,A=v.modelType;if(y===$t.NODE&&A!==et.TEXT_NODE||y===$t.EDGE&&h)return xN(t)}if(m>1){var M=g.map(function(O,w){var _=s+2,N=(w-(m-1)/2)*_;return Y("tspan",{className:"lf-text-tspan",x:n,y:o+N,children:O})});return Y("text",ts({},p,{children:M}))}return Y("text",ts({},p,{children:i}))}return null}function xN(t){var e=t.x,n=t.y,r=t.value,o=t.model,i=t.textWidth,a=t.fontSize,s=a===void 0?12:a,l=t.lineHeight,u=t.fontFamily,d=u===void 0?"":u,c=t.wrapPadding,f=c===void 0?"0, 0":c,h=t.overflowMode,v=o.width,p=o.height,g=o.textHeight,m=i||v,y=String(r).split(/[\r\n]/g),A=y.length,M=eg({rows:y,style:{fontSize:"".concat(s,"px"),width:"".concat(m,"px"),fontFamily:d,lineHeight:l,padding:f},rowsLength:A,className:"lf-get-text-height"}),O=p>M?p:M;g&&(O=g);var w=h==="ellipsis";return w&&(O=s+2),Y("g",{children:Y("foreignObject",{width:m,height:O,x:e-m/2,y:n-O/2,style:{overflow:"visible",textAlign:"left"},children:Y("div",{className:"lf-node-text-auto-wrap",style:{minHeight:O,width:m,padding:f},children:Y("div",{className:w?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:w?y.join(""):"",style:ts({},t),children:y.map(function(_){return Y("div",{className:"lf-node-text--auto-wrap-inner",children:_})})})})})})}var lu=function(){return lu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},lu.apply(this,arguments)},wN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function zi(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Ct(Hr(t),function(n){var r=wN(n,2),o=r[0],i=r[1];(o==="style"||typeof i!="object")&&(e[o]=i)}),Y("line",lu({},e))}var uu=function(){return uu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},uu.apply(this,arguments)},EN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function Zn(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=t.className,a=t.strokeWidth,s=t.radius,l=s===void 0?0:s,u=e-r/2,d=n-o/2,c={};return c["stroke-width"]=a,Ct(Hr(t),function(f){var h=EN(f,2),v=h[0],p=h[1];typeof p!="object"&&(c[v]=p)}),i?c.className="lf-basic-shape ".concat(i):c.className="lf-basic-shape",l&&(c.rx=l,c.ry=l),c.x=u,c.y=d,Y("rect",uu({},c))}var du=function(){return du=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},du.apply(this,arguments)},SN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function ns(t){var e={d:""};return Ct(Hr(t),function(n){var r=SN(n,2),o=r[0],i=r[1];(o==="style"||typeof i!="object")&&(e[o]=i)}),Y("path",du({},e))}var cu=function(){return cu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},cu.apply(this,arguments)},MN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function Wi(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,i=t.r,a=i===void 0?4:i,s=t.className,l={cx:n,cy:o,r:a,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1};return Ct(Hr(t),function(u){var d=MN(u,2),c=d[0],f=d[1];typeof f!="object"&&(l[c]=f)}),s?l.className="lf-basic-shape ".concat(s):l.className="lf-basic-shape",Y("circle",cu({},l))}var fu=function(){return fu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},fu.apply(this,arguments)},ON=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function AN(t){var e=t.x,n=e===void 0?0:e,r=t.y,o=r===void 0?0:r,i=t.rx,a=i===void 0?4:i,s=t.ry,l=s===void 0?4:s,u=t.className,d={cx:n,cy:o,rx:a,ry:l,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1};return Ct(Hr(t),function(c){var f=ON(c,2),h=f[0],v=f[1];typeof v!="object"&&(d[h]=v)}),u?d.className="lf-basic-shape ".concat(u):d.className="lf-basic-shape",Y("ellipse",fu({},d))}var hu=function(){return hu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},hu.apply(this,arguments)},NN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function tc(t){var e=t.points,n=e===void 0?[]:e,r=t.className,o={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Ct(Hr(t),function(i){var a=NN(i,2),s=a[0],l=a[1];typeof l!="object"&&(o[s]=l)}),r?o.classNmae="lf-basic-shape ".concat(r):o.className="lf-basic-shape",o.points=n.map(function(i){return i.join(",")}).join(" "),Y("polygon",hu({},o))}var pu=function(){return pu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},pu.apply(this,arguments)},TN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function PN(t){var e=t.className,n={points:"",fill:"none"};return Ct(Hr(t),function(r){var o=TN(r,2),i=o[0],a=o[1];(i==="style"||typeof a!="object")&&(n[i]=a)}),e&&(n.className="".concat(e)),Y("polyline",pu({},n))}var rg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rs=function(){return rs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},rs.apply(this,arguments)},kN=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},LN=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Nt;(function(t){t[t.LEFT_TOP=0]="LEFT_TOP",t[t.RIGHT_TOP=1]="RIGHT_TOP",t[t.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",t[t.LEFT_BOTTOM=3]="LEFT_BOTTOM"})(Nt||(Nt={}));var DN=function(t){rg(e,t);function e(n){var r=t.call(this)||this;r.updateEdgePointByAnchors=function(){var s=r.nodeModel,l=s.id,u=s.anchors,d=r.graphModel.getNodeEdges(l);Ct(d,function(c){if(c.sourceNodeId===l){var f=yo(u,function(h){return h.id===c.sourceAnchorId});f&&c.updateStartPoint({x:f.x,y:f.y})}else if(c.targetNodeId===l){var f=yo(u,function(v){return v.id===c.targetAnchorId});f&&c.updateEndPoint({x:f.x,y:f.y})}})},r.triggerResizeEvent=function(s,l,u,d,c,f){r.graphModel.eventCenter.emit(De.NODE_RESIZE,{preData:s,data:l,deltaX:u,deltaY:d,index:c,model:f})},r.recalcResizeInfo=function(s,l,u,d,c){u===void 0&&(u=1),d===void 0&&(d=!1),c===void 0&&(c=!1);var f=Ke(l),h=f.deltaX,v=f.deltaY,p=f.width,g=f.height,m=f.PCTResizeInfo;if(m){var y=4,A=0,M=0;switch(s){case Nt.LEFT_TOP:M=(h*-1-v)/y;break;case Nt.RIGHT_TOP:M=(h-v)/y;break;case Nt.RIGHT_BOTTOM:M=(h+v)/y;break;case Nt.LEFT_BOTTOM:M=(h*-1+v)/y;break}M!==0&&(A=Math.round(M/m.ResizeBasis.basisHeight*1e5)/1e3),m.ResizePCT.widthPCT=Math.max(Math.min(m.ResizePCT.widthPCT+A,m.ScaleLimit.maxScaleLimit),m.ScaleLimit.minScaleLimit),m.ResizePCT.heightPCT=Math.max(Math.min(m.ResizePCT.heightPCT+A,m.ScaleLimit.maxScaleLimit),m.ScaleLimit.minScaleLimit);var O=Math.round(m.ResizePCT.widthPCT*m.ResizeBasis.basisWidth/100),w=Math.round(m.ResizePCT.heightPCT*m.ResizeBasis.basisHeight/100);switch(s){case Nt.LEFT_TOP:h=p-O,v=g-w;break;case Nt.RIGHT_TOP:h=O-p,v=g-w;break;case Nt.RIGHT_BOTTOM:h=O-p,v=w-g;break;case Nt.LEFT_BOTTOM:h=p-O,v=w-g;break}return f}switch(s){case Nt.LEFT_TOP:f.width=d?p:p-h*u,f.height=c?g:g-v*u;break;case Nt.RIGHT_TOP:f.width=d?p:p+h*u,f.height=c?g:g-v*u;break;case Nt.RIGHT_BOTTOM:f.width=d?p:p+h*u,f.height=c?g:g+v*u;break;case Nt.LEFT_BOTTOM:f.width=d?p:p-h*u,f.height=c?g:g+v*u;break}return f},r.resizeNode=function(s){var l=s.deltaX,u=s.deltaY,d=r.index,c=r.props,f=c.model,h=c.graphModel,v=c.x,p=c.y;og({x:v,y:p,deltaX:l,deltaY:u,index:d,nodeModel:f,graphModel:h,cancelCallback:function(){r.dragHandler.cancelDrag()}})},r.onDragging=function(s){var l=s.deltaX,u=s.deltaY,d=r.graphModel.transformModel,c=LN(d.fixDeltaXY(l,u),2),f=c[0],h=c[1];r.resizeNode({deltaX:f,deltaY:h})},r.onDragEnd=function(){var s=r.nodeModel.x,l=r.nodeModel.y;r.nodeModel.moveTo(s,l),r.updateEdgePointByAnchors()};var o=n.index,i=n.model,a=n.graphModel;return r.index=o,r.nodeModel=i,r.graphModel=a,r.dragHandler=new rr({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:a.gridSize}),r}return e.prototype.componentWillUnmount=function(){this.dragHandler.destroy()},e.prototype.render=function(){var n=this.props,r=n.x,o=n.y,i=n.direction,a=n.model,s=a.getResizeControlStyle(),l=s.width,u=s.height,d=kN(s,["width","height"]);return Y("g",{className:"lf-resize-control lf-resize-control-".concat(i),children:[Y(Zn,rs({className:"lf-resize-control-content",x:r,y:o,width:l??7,height:u??7},d)),Y(Zn,{className:"lf-resize-control-content",x:r,y:o,width:25,height:25,fill:"transparent",stroke:"transparent",onMouseDown:this.dragHandler.handleMouseDown})]})},e}(ut),RN=function(t){rg(e,t);function e(){return t.call(this)||this}return e.prototype.getResizeControl=function(){var n=this.props,r=n.model,o=n.graphModel,i=Tn(r),a=i.minX,s=i.minY,l=i.maxX,u=i.maxY,d=[{index:Nt.LEFT_TOP,direction:"nw",x:a,y:s},{index:Nt.RIGHT_TOP,direction:"ne",x:l,y:s},{index:Nt.RIGHT_BOTTOM,direction:"se",x:l,y:u},{index:Nt.LEFT_BOTTOM,direction:"sw",x:a,y:u}];return Vn(d,function(c){return Y(DN,rs({},c,{model:r,graphModel:o}))})},e.prototype.getResizeOutline=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getResizeOutlineStyle();return Y(Zn,rs({},s,{x:r,y:o,width:i,height:a}))},e.prototype.render=function(){return Y("g",{className:"lf-resize-control-group",children:[this.getResizeOutline(),this.getResizeControl()]})},e}(ut);function IN(t,e){var n=t.x,r=t.y,o=e.x,i=e.y,a={x:n+(o-n)/2,y:r+(i-r)/2};return a}function Oa(t,e,n){var r=HN(n),o=t.x-e.x,i=t.y-e.y,a=o*Math.cos(r)-i*Math.sin(r)+e.x,s=o*Math.sin(r)+i*Math.cos(r)+e.y;return{x:a,y:s}}function HN(t){return t*Math.PI/180}function BN(t){return t/Math.PI*180}function jN(t,e,n,r,o,i,a,s,l){s===void 0&&(s=!1),l===void 0&&(l=!1);var u=e.deltaX,d=e.deltaY,c=e.width,f=e.height,h=BN(n),v={x:r,y:o},p={x:i,y:a},g=Oa(v,p,h),m={x:g.x+u,y:g.y+d},y=zN(g,m,p,h,s,l,c,f),A=y.width,M=y.height,O=y.center;return e.width=A*t,e.height=M*t,e.deltaX=(O.x-p.x)*2,e.deltaY=(O.y-p.y)*2,e}var $N=function(t,e,n,r,o,i,a,s,l,u){n===void 0&&(n=1),r===void 0&&(r=!1),o===void 0&&(o=!1),i===void 0&&(i=0);var d=Ke(e),c=d.deltaX,f=d.deltaY,h=d.width,v=d.height,p=d.PCTResizeInfo;if(p){var g=4,m=0,y=0;switch(t){case Nt.LEFT_TOP:y=(c*-1-f)/g;break;case Nt.RIGHT_TOP:y=(c-f)/g;break;case Nt.RIGHT_BOTTOM:y=(c+f)/g;break;case Nt.LEFT_BOTTOM:y=(c*-1+f)/g;break}y!==0&&(m=Math.round(y/p.ResizeBasis.basisHeight*1e5)/1e3),p.ResizePCT.widthPCT=Math.max(Math.min(p.ResizePCT.widthPCT+m,p.ScaleLimit.maxScaleLimit),p.ScaleLimit.minScaleLimit),p.ResizePCT.heightPCT=Math.max(Math.min(p.ResizePCT.heightPCT+m,p.ScaleLimit.maxScaleLimit),p.ScaleLimit.minScaleLimit);var A=Math.round(p.ResizePCT.widthPCT*p.ResizeBasis.basisWidth/100),M=Math.round(p.ResizePCT.heightPCT*p.ResizeBasis.basisHeight/100);switch(t){case Nt.LEFT_TOP:c=h-A,f=v-M;break;case Nt.RIGHT_TOP:c=A-h,f=v-M;break;case Nt.RIGHT_BOTTOM:c=A-h,f=M-v;break;case Nt.LEFT_BOTTOM:c=h-A,f=M-v;break}return d}if(i%(2*Math.PI)!==0&&a!==void 0&&s!==void 0)return jN(n,d,i,a,s,l,u,r,o);switch(t){case Nt.LEFT_TOP:d.width=r?h:h-c*n,d.height=o?v:v-f*n;break;case Nt.RIGHT_TOP:d.width=r?h:h+c*n,d.height=o?v:v-f*n;break;case Nt.RIGHT_BOTTOM:d.width=r?h:h+c*n,d.height=o?v:v+f*n;break;case Nt.LEFT_BOTTOM:d.width=r?h:h-c*n,d.height=o?v:v+f*n;break}return d},FN=function(t,e){var n=t.id,r=t.anchors,o=e.getNodeEdges(n);Ct(o,function(i){if(i.sourceNodeId===n){var a=yo(r,function(s){return s.id===i.sourceAnchorId});a&&i.updateStartPoint({x:a.x,y:a.y})}else if(i.targetNodeId===n){var a=yo(r,function(l){return l.id===i.targetAnchorId});a&&i.updateEndPoint({x:a.x,y:a.y})}})},VN=function(t,e,n,r,o,i,a){a.eventCenter.emit(De.NODE_RESIZE,{preData:t,data:e,deltaX:n,deltaY:r,index:o,model:i})},og=function(t){var e=t.x,n=t.y,r=t.deltaX,o=t.deltaY,i=t.index,a=t.nodeModel,s=t.graphModel,l=t.cancelCallback,u=a.r,d=a.rx,c=a.ry,f=a.width,h=a.height,v=a.PCTResizeInfo,p=a.minWidth,g=a.minHeight,m=a.maxWidth,y=a.maxHeight,A=a.rotate,M=a.x,O=a.y,w=p===m,_=g===y,N={width:u||d||f,height:u||c||h,deltaX:r,deltaY:o,PCTResizeInfo:v},R=u||d&&c?1/2:1,I=e,W=n,G=$N(i,N,R,w,_,A,I,W,M,O);if(G.width<p||G.width>m||G.height<g||G.height>y){l==null||l();return}(A%(2*Math.PI)==0||v||I===void 0||W===void 0)&&(G.deltaX=w?0:G.deltaX,G.deltaY=_?0:G.deltaY);var C=a.getData(),L=a.resize(G);C.x===L.x&&C.y===L.y||(FN(a,s),VN(C,L,r,o,i,a,s))};function zN(t,e,n,r,o,i,a,s){o===void 0&&(o=!1),i===void 0&&(i=!1);var l={x:n.x-(t.x-n.x),y:n.y-(t.y-n.y)},u=IN(l,e),d=Oa(e,u,-r),c=Oa(l,u,-r);if(o){var f=Math.abs(d.x-c.x),h=f-a;u.x>d.x?u.x=u.x+h/2:u.x=u.x-h/2}if(i){var v=Math.abs(d.y-c.y),p=v-s;u.y>d.y?u.y=u.y+p/2:u.y=u.y-p/2}if(o||i){var g=Oa(c,u,r),m=g.x-l.x,y=g.y-l.y;u.x=u.x-m,u.y=u.y-y,c=Oa(l,u,-r),d={x:u.x-(c.x-u.x),y:u.y-(c.y-u.y)}}var A=Math.abs(d.x-c.x),M=Math.abs(d.y-c.y);return o&&(A=a),i&&(M=s),{width:A,height:M,center:u}}var WN=100,UN={x:1,y:0,z:0};function GN(t,e,n,r,o){for(var i=function(h){if(h<0||h>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:t.x*Math.pow(1-h,3)+3*e.x*h*Math.pow(1-h,2)+3*n.x*Math.pow(h,2)*(1-h)+r.x*Math.pow(h,3),y:t.y*Math.pow(1-h,3)+3*e.y*h*Math.pow(1-h,2)+3*n.y*Math.pow(h,2)*(1-h)+r.y*Math.pow(h,3)}},a=0,s=2,l=r.x,u=r.y,d=r;a<o&&s<50;){d=i(1-s/WN);var c=d.x,f=d.y;a=gr(l,u,c,f),s++}return d}function XN(t,e){return t.x*e.y-t.y*e.x}function YN(t,e){var n=[t.x,t.y,t.z],r=[e.x,e.y,e.z];return r.reduce(function(o,i,a){return o+i*n[a]})}function ZN(t,e){var n=XN(t,e),r=Math.acos(YN(fh(t),fh(e)));return n>=0?r:-r}function fh(t){var e=Math.hypot(t.x,t.y);return{x:t.x/e,y:t.y/e,z:0}}function KN(t){return ZN(UN,t)}function qN(t){return t*(180/Math.PI)}var JN={baseNode:{fill:"#fff",stroke:"#000",strokeWidth:2},baseEdge:{stroke:"#000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000",fill:"#fff",r:4,hover:{r:10,fill:"#949494",fillOpacity:.5,stroke:"#949494"}},anchorLine:{stroke:"#000",strokeWidth:2,strokeDasharray:"3,2"},nodeText:{color:"#000",overflowMode:"default",fontSize:12,lineHeight:1.2},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#fff"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",fillOpacity:1,stroke:"#949494"}},arrow:{offset:10,verticalLength:5},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#fff",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10,10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5},resizeControl:{width:7,height:7,fill:"#fff",stroke:"#000"},resizeOutline:{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},ig=function(t){var e=Ke(JN);return t&&(e=Li(e,t)),e},QN=ig,eT=1e3,tT=999,nc=function(){return++eT},nT=function(){return--tT},Wt=function(){return Wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Wt.apply(this,arguments)},je=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},F0=function(){function t(e,n){var r;this.BaseType=$t.EDGE,this.id="",this.type="",this.sourceNodeId="",this.targetNodeId="",this.textMode=Kn.TEXT,this.text={value:"",x:0,y:0,draggable:!1,editable:!0},this.points="",this.pointsList=[],this.virtual=!1,this.isSelected=!1,this.isHovered=!1,this.isHitable=!0,this.isHittable=!0,this.draggable=!0,this.visible=!0,this.isAnimation=!1,this.isShowAdjustPoint=!1,this.zIndex=0,this.state=gt.DEFAULT,this.modelType=et.EDGE,this.customTextPosition=!1,this.style={},this.arrowConfig={markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")},this.graphModel=n,this.properties=(r=e.properties)!==null&&r!==void 0?r:{},this.initEdgeData(e),this.setAttributes()}return t.prototype.initEdgeData=function(e){if(e.properties||(e.properties={}),!e.id){var n=this.graphModel.idGenerator,r=n&&n(e.type),o=this.createId();e.id=o||r||mo()}this.arrowConfig.markerEnd="url(#marker-end-".concat(e.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(e.id,")");var i=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=i,Mt(this,iN(e));var a=this.graphModel.overlapMode;a===pr.INCREASE&&(this.zIndex=e.zIndex||nc()),this.setAnchors(),this.initPoints(),this.formatText(e)},t.prototype.setAttributes=function(){},t.prototype.createId=function(){return null},t.prototype.getEdgeStyle=function(){return Wt(Wt({},this.graphModel.theme.baseEdge),this.style)},t.prototype.getAdjustPointStyle=function(){return Wt({},this.graphModel.theme.edgeAdjust)},t.prototype.getTextStyle=function(){var e=this.graphModel.theme.edgeText;return Ke(e)},t.prototype.getEdgeAnimationStyle=function(){var e=this.graphModel.theme.edgeAnimation;return Ke(e)},t.prototype.getArrowStyle=function(){var e=this.getEdgeStyle(),n=this.getEdgeAnimationStyle(),r=this.graphModel.theme.arrow,o=this.isAnimation?n.stroke:e.stroke;return Wt(Wt(Wt({},e),{fill:o,stroke:o}),r)},t.prototype.getOutlineStyle=function(){var e=this.graphModel,n=e.theme.outline;return Ke(n)},t.prototype.getTextPosition=function(){return{x:0,y:0}},Object.defineProperty(t.prototype,"sourceNode",{get:function(){var e,n;return(n=(e=this.graphModel)===null||e===void 0?void 0:e.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetNode",{get:function(){var e,n;return(n=(e=this.graphModel)===null||e===void 0?void 0:e.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textPosition",{get:function(){return this.getTextPosition()},enumerable:!1,configurable:!0}),t.prototype.getBeginAnchor=function(e,n,r){var o,i,a=au(e);if(r){if(o=yo(a,function(s){return s.id===r}),o)return o;console.warn("未在节点上找到指定的起点锚点".concat(r,"，已使用默认锚点作为起点"))}return a.forEach(function(s){var l=oh(s,n);(i===void 0||l<i)&&(i=l,o=s)}),o},t.prototype.getEndAnchor=function(e,n){var r=this,o,i,a=au(e);if(n){if(o=yo(a,function(s){return s.id===n}),o)return o;console.warn("未在节点上找到指定的终点锚点".concat(n,"，已使用默认锚点作为终点"))}return a.forEach(function(s){if(r.startPoint){var l=oh(s,r.startPoint);(i===void 0||l<i)&&(i=l,o=s)}}),o},t.prototype.getProperties=function(){return cr(this.properties)},t.prototype.getData=function(){var e=this.properties;$i(e)&&(e=cr(e));var n={id:this.id,type:this.type,properties:e,sourceNodeId:this.sourceNodeId,targetNodeId:this.targetNodeId,sourceAnchorId:this.sourceAnchorId,targetAnchorId:this.targetAnchorId,startPoint:Mt({},this.startPoint),endPoint:Mt({},this.endPoint)};this.graphModel.overlapMode===pr.INCREASE&&(n.zIndex=this.zIndex);var r=this.text,o=r.x,i=r.y,a=r.value;return a&&(n.text={x:o,y:i,value:a}),n},t.prototype.getHistoryData=function(){return this.getData()},t.prototype.setProperty=function(e,n){Yd(this.properties,e,pn(n)),this.setAttributes()},t.prototype.deleteProperty=function(e){delete this.properties[e],this.setAttributes()},t.prototype.setProperties=function(e){this.properties=Wt(Wt({},cr(this.properties)),pn(e)),this.setAttributes()},t.prototype.changeEdgeId=function(e){var n=this.arrowConfig,r=n.markerEnd,o=n.markerStart;o&&o==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(e,")")),r&&r==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(e,")")),this.id=e},t.prototype.setStyle=function(e,n){var r;this.style=Wt(Wt({},this.style),(r={},r[e]=pn(n),r))},t.prototype.setStyles=function(e){this.style=Wt(Wt({},this.style),pn(e))},t.prototype.updateStyles=function(e){this.style=Wt({},pn(e))},t.prototype.setTextMode=function(e){this.textMode=e},t.prototype.formatText=function(e){var n,r,o,i=this.graphModel.editConfigModel,a=i.edgeTextDraggable,s=i.edgeTextEdit,l=this.textPosition,u=l.x,d=l.y,c=e.text,f={value:"",x:u,y:d,draggable:a,editable:s};c&&(typeof c=="string"?f=Wt(Wt({},f),{value:c}):(f=Wt(Wt({},f),{x:(n=c.x)!==null&&n!==void 0?n:u,y:(r=c.y)!==null&&r!==void 0?r:d,value:(o=c.value)!==null&&o!==void 0?o:""}),Zo(c.draggable)||(f.draggable=c.draggable),Zo(c.editable)||(f.editable=c.editable))),this.text=f},t.prototype.resetTextPosition=function(){var e=this.textPosition,n=e.x,r=e.y;this.text.x=n,this.text.y=r},t.prototype.moveText=function(e,n){var r=this.text,o=r.x,i=r.y,a=r.value,s=r.draggable,l=r.editable;this.text={value:a,editable:l,draggable:s,x:o+e,y:i+n}},t.prototype.setText=function(e){e&&Mt(this.text,e)},t.prototype.updateText=function(e){this.text=Wt(Wt({},cr(this.text)),{value:e})},t.prototype.setAnchors=function(){if(!this.sourceAnchorId||!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!e)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:e.x,y:e.y}),this.sourceAnchorId||(this.sourceAnchorId=e.id)}if(!this.targetAnchorId||!this.endPoint){var e=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!e)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:e.x,y:e.y}),this.targetAnchorId||(this.targetAnchorId=e.id)}},t.prototype.setSelected=function(e){e===void 0&&(e=!0),this.isSelected=e},t.prototype.setHovered=function(e){e===void 0&&(e=!0),this.isHovered=e},t.prototype.setHitable=function(e){e===void 0&&(e=!0),this.isHitable=e},t.prototype.setHittable=function(e){e===void 0&&(e=!0),this.isHittable=e},t.prototype.openEdgeAnimation=function(){this.isAnimation=!0},t.prototype.closeEdgeAnimation=function(){this.isAnimation=!1},t.prototype.setElementState=function(e,n){this.state=e,this.additionStateData=n},t.prototype.updateStartPoint=function(e){this.startPoint=e},t.prototype.moveStartPoint=function(e,n){this.startPoint&&(this.startPoint.x+=e,this.startPoint.y+=n)},t.prototype.updateEndPoint=function(e){this.endPoint=e},t.prototype.moveEndPoint=function(e,n){this.endPoint&&(this.endPoint.x+=e,this.endPoint.y+=n)},t.prototype.setZIndex=function(e){e===void 0&&(e=0),this.zIndex=e},t.prototype.initPoints=function(){},t.prototype.updateAttributes=function(e){Mt(this,e)},t.prototype.getAdjustStart=function(){return this.startPoint},t.prototype.getAdjustEnd=function(){return this.endPoint},t.prototype.updateAfterAdjustStartAndEnd=function(e){var n=e.startPoint,r=e.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:r.x,y:r.y})},t.BaseType=$t.EDGE,je([J],t.prototype,"type",void 0),je([J],t.prototype,"sourceNodeId",void 0),je([J],t.prototype,"targetNodeId",void 0),je([J],t.prototype,"startPoint",void 0),je([J],t.prototype,"endPoint",void 0),je([J],t.prototype,"textMode",void 0),je([J],t.prototype,"text",void 0),je([J],t.prototype,"properties",void 0),je([J],t.prototype,"points",void 0),je([J],t.prototype,"pointsList",void 0),je([J],t.prototype,"isSelected",void 0),je([J],t.prototype,"isHovered",void 0),je([J],t.prototype,"isHitable",void 0),je([J],t.prototype,"isHittable",void 0),je([J],t.prototype,"draggable",void 0),je([J],t.prototype,"visible",void 0),je([J],t.prototype,"isAnimation",void 0),je([J],t.prototype,"isShowAdjustPoint",void 0),je([J],t.prototype,"zIndex",void 0),je([J],t.prototype,"state",void 0),je([J],t.prototype,"style",void 0),je([J],t.prototype,"arrowConfig",void 0),je([kt],t.prototype,"sourceNode",null),je([kt],t.prototype,"targetNode",null),je([kt],t.prototype,"textPosition",null),je([K],t.prototype,"setProperty",null),je([K],t.prototype,"deleteProperty",null),je([K],t.prototype,"setProperties",null),je([K],t.prototype,"changeEdgeId",null),je([K],t.prototype,"setStyle",null),je([K],t.prototype,"setStyles",null),je([K],t.prototype,"updateStyles",null),je([K],t.prototype,"setTextMode",null),je([K],t.prototype,"formatText",null),je([K],t.prototype,"resetTextPosition",null),je([K],t.prototype,"moveText",null),je([K],t.prototype,"setText",null),je([K],t.prototype,"updateText",null),je([K],t.prototype,"setAnchors",null),je([K],t.prototype,"setSelected",null),je([K],t.prototype,"setHovered",null),je([K],t.prototype,"setHitable",null),je([K],t.prototype,"setHittable",null),je([K],t.prototype,"openEdgeAnimation",null),je([K],t.prototype,"closeEdgeAnimation",null),je([K],t.prototype,"setElementState",null),je([K],t.prototype,"updateStartPoint",null),je([K],t.prototype,"moveStartPoint",null),je([K],t.prototype,"updateEndPoint",null),je([K],t.prototype,"moveEndPoint",null),je([K],t.prototype,"setZIndex",null),je([K],t.prototype,"initPoints",null),je([K],t.prototype,"updateAttributes",null),je([K],t.prototype,"getAdjustStart",null),je([K],t.prototype,"getAdjustEnd",null),je([K],t.prototype,"updateAfterAdjustStartAndEnd",null),t}(),rT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jo=function(){return jo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},jo.apply(this,arguments)},ir=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},m2=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},hh=function(t){rT(e,t);function e(n,r){var o=t.call(this,n,r)||this;return o.modelType=et.BEZIER_EDGE,o.path="",o.initEdgeData(n),o.setAttributes(),o}return e.prototype.initEdgeData=function(n){this.offset=100,t.prototype.initEdgeData.call(this,n)},e.prototype.getEdgeStyle=function(){var n=this.graphModel.theme.bezier,r=t.prototype.getEdgeStyle.call(this),o=this.properties.style,i=o===void 0?{}:o;return jo(jo(jo({},r),Ke(n)),Ke(i))},e.prototype.getTextPosition=function(){if(this.pointsList&&this.pointsList.length>0){var n=0,r=0;return this.pointsList.forEach(function(o){var i=o.x,a=o.y;n+=i,r+=a}),{x:n/this.pointsList.length,y:r/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}},e.prototype.getData=function(){var n=t.prototype.getData.call(this),r=this.pointsList.map(function(o){var i=o.x,a=o.y;return{x:i,y:a}});return jo(jo({},n),{pointsList:r})},e.prototype.getControls=function(){var n=this.startPoint,r=this.endPoint,o=nh({start:n,end:r,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return o},e.prototype.getPath=function(n){var r=m2(n,4),o=r[0],i=r[1],a=r[2],s=r[3];return"M ".concat(o.x," ").concat(o.y,`
    C `).concat(i.x," ").concat(i.y,`,
    `).concat(a.x," ").concat(a.y,`,
    `).concat(s.x," ").concat(s.y)},e.prototype.initPoints=function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()},e.prototype.updatePoints=function(){var n=this.getControls(),r=n.sNext,o=n.ePre;this.updatePath(r,o)},e.prototype.updatePath=function(n,r){n=Ke(n),r=Ke(r);var o={x:this.startPoint.x,y:this.startPoint.y},i={x:this.endPoint.x,y:this.endPoint.y};if(!n||!r){var a=this.getControls();n=a.sNext,r=a.ePre}this.pointsList=[o,n,r,i],this.path=this.getPath(this.pointsList)},e.prototype.updateStartPoint=function(n){this.startPoint=Object.assign({},n),this.updatePoints()},e.prototype.updateEndPoint=function(n){this.endPoint=Object.assign({},n),this.updatePoints()},e.prototype.moveStartPoint=function(n,r){this.startPoint.x+=n,this.startPoint.y+=r;var o=m2(this.pointsList,3),i=o[1],a=o[2];i.x+=n,i.y+=r,this.updatePath(i,a)},e.prototype.moveEndPoint=function(n,r){this.endPoint.x+=n,this.endPoint.y+=r;var o=m2(this.pointsList,3),i=o[1],a=o[2];a.x+=n,a.y+=r,this.updatePath(i,a)},e.prototype.updateAdjustAnchor=function(n,r){var o;r==="sNext"?this.pointsList[1]=n:r==="ePre"&&(this.pointsList[2]=n),this.path=this.getPath(this.pointsList),!((o=this.text)===null||o===void 0)&&o.value&&this.setText(Mt({},this.text,this.textPosition))},e.prototype.getAdjustStart=function(){return this.pointsList[0]||this.startPoint},e.prototype.getAdjustEnd=function(){var n=this.pointsList;return n[n.length-1]||this.endPoint},e.prototype.updateAfterAdjustStartAndEnd=function(n){var r=n.startPoint,o=n.endPoint,i=n.sourceNode,a=n.targetNode,s=nh({start:r,end:o,sourceNode:i,targetNode:a,offset:this.offset}),l=s.sNext,u=s.ePre;this.pointsList=[r,l,u,o],this.initPoints()},ir([J],e.prototype,"path",void 0),ir([K],e.prototype,"initPoints",null),ir([K],e.prototype,"updatePoints",null),ir([K],e.prototype,"updateStartPoint",null),ir([K],e.prototype,"updateEndPoint",null),ir([K],e.prototype,"moveStartPoint",null),ir([K],e.prototype,"moveEndPoint",null),ir([K],e.prototype,"updateAdjustAnchor",null),ir([K],e.prototype,"getAdjustStart",null),ir([K],e.prototype,"getAdjustEnd",null),ir([K],e.prototype,"updateAfterAdjustStartAndEnd",null),e}(F0),oT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ka=function(){return ka=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ka.apply(this,arguments)},ph=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},iT=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},vh=function(t){oT(e,t);function e(){var n=t.apply(this,iT([],ph(arguments),!1))||this;return n.modelType=et.LINE_EDGE,n}return e.prototype.getEdgeStyle=function(){var n=this.graphModel.theme.line,r=t.prototype.getEdgeStyle.call(this),o=this.properties.style,i=o===void 0?{}:o;return ka(ka(ka({},r),Ke(n)),Ke(i))},e.prototype.initEdgeData=function(n){t.prototype.initEdgeData.call(this,n),this.points=this.getPath([this.startPoint,this.endPoint])},e.prototype.getPath=function(n){var r=ph(n,2),o=r[0],i=r[1];return"".concat(o.x,",").concat(o.y," ").concat(i.x,",").concat(i.y)},e.prototype.getTextPosition=function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}},e}(F0),aT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),La=function(){return La=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},La.apply(this,arguments)},fn=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},gh=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},sT=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Ui=function(t){aT(e,t);function e(){var n=t.apply(this,sT([],gh(arguments),!1))||this;return n.modelType=et.POLYLINE_EDGE,n.draggingPointList=[],n}return e.prototype.initEdgeData=function(n){this.offset=30,n.pointsList&&(this.pointsList=n.pointsList),t.prototype.initEdgeData.call(this,n)},e.prototype.getEdgeStyle=function(){var n=this.graphModel.theme.polyline,r=t.prototype.getEdgeStyle.call(this),o=this.properties.style,i=o===void 0?{}:o;return La(La(La({},r),Ke(n)),Ke(i))},e.prototype.getTextPosition=function(){var n,r=(n=this.text)===null||n===void 0?void 0:n.value;if(this.dbClickPosition&&!r){var o=this.dbClickPosition,i=o.x,a=o.y;return{x:i,y:a}}var s=qo(this.points),l=gh(nN(s),2),u=l[0],d=l[1];return{x:(u.x+d.x)/2,y:(u.y+d.y)/2}},e.prototype.getAfterAnchor=function(n,r,o){var i,a;return o.forEach(function(s){var l;n===Bt.HORIZONTAL?l=Math.abs(r.y-s.y):n===Bt.VERTICAL&&(l=Math.abs(r.x-s.x)),(!a||a>l)&&(a=l,i=s)}),i},e.prototype.getCrossPoint=function(n,r,o){var i;return n===Bt.HORIZONTAL?i={x:o.x,y:r.y}:n===Bt.VERTICAL&&(i={x:r.x,y:o.y}),i},e.prototype.removeCrossPoints=function(n,r,o){var i=o.map(function(m){return m});if(n===1){var a=i[n],s=i[r],l=i[n-1],u=Jf(l,a,this.sourceNode);if(u){var d=Qf(a,s,this.sourceNode);if(d){var c=eh(a,s,this.sourceNode);c&&(i[n]=c,i.splice(n-1,1),n--,r--)}}else{var f=this.sourceNode.anchors;f.forEach(function(m){if(m.x===l.x&&m.x===a.x||m.y===l.y&&m.y===a.y){var y=gr(m.x,m.y,a.x,a.y),A=gr(l.x,l.y,a.x,a.y);y<A&&(i[n-1]=m)}})}}if(r===o.length-2){var h=i[n],v=i[r],p=i[r+1],g=Jf(v,p,this.targetNode);if(g){var d=Qf(h,v,this.targetNode);if(d){var c=eh(h,v,this.targetNode);c&&(i[r]=c,i.splice(r+1,1))}}else{var f=this.targetNode.anchors;f.forEach(function(y){if(y.x===p.x&&y.x===v.x||y.y===p.y&&y.y===v.y){var A=gr(y.x,y.y,v.x,v.y),M=gr(p.x,p.y,v.x,v.y);A<M&&(i[r+1]=y)}})}}return i},e.prototype.getDraggingPoints=function(n,r,o,i,a){var s=a.map(function(d){return d}),l=this.getAfterAnchor(n,o,i),u=this.getCrossPoint(n,o,l);return r==="start"?(s.unshift(u),s.unshift(l)):(s.push(u),s.push(l)),s},e.prototype.updateCrossPoints=function(n){var r=n.map(function(y){return y}),o=n[0],i=n[1],a=n[r.length-2],s=n[r.length-1],l=this,u=l.sourceNode,d=l.targetNode,c=u.modelType,f=d.modelType,h=Sl(o,i),v=r[0];switch(c){case et.RECT_NODE:if(u.radius!==0){var p=sh(o,u);p||(v=ah(o,h,u))}break;case et.CIRCLE_NODE:v=su(o,h,u);break;case et.ELLIPSE_NODE:v=lh(o,h,u);break;case et.DIAMOND_NODE:v=Hs(o,h,u);break;case et.POLYGON_NODE:v=Hs(o,h,u);break}v&&(r[0]=v);var g=Sl(a,s),m=r[r.length-1];switch(f){case et.RECT_NODE:if(d.radius!==0){var p=sh(s,d);p||(m=ah(s,g,d))}break;case et.CIRCLE_NODE:m=su(s,g,d);break;case et.ELLIPSE_NODE:m=lh(s,g,d);break;case et.DIAMOND_NODE:m=Hs(s,g,d);break;case et.POLYGON_NODE:m=Hs(s,g,d);break}return m&&(r[r.length-1]=m),r},e.prototype.updatePath=function(n){this.pointsList=n,this.points=this.getPath(this.pointsList)},e.prototype.getData=function(){var n=t.prototype.getData.call(this),r=this.pointsList.map(function(o){var i=o.x,a=o.y;return{x:i,y:a}});return Object.assign({},n,{pointsList:r})},e.prototype.getPath=function(n){return n.map(function(r){return"".concat(r.x,",").concat(r.y)}).join(" ")},e.prototype.initPoints=function(){this.pointsList.length>0?this.points=this.getPath(this.pointsList):this.updatePoints()},e.prototype.updatePoints=function(){var n=qf({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=n,this.points=n.map(function(r){return"".concat(r.x,",").concat(r.y)}).join(" ")},e.prototype.updateStartPoint=function(n){this.startPoint=Object.assign({},n),this.updatePoints()},e.prototype.moveStartPoint=function(n,r){this.startPoint.x+=n,this.startPoint.y+=r,this.updatePoints()},e.prototype.updateEndPoint=function(n){this.endPoint=Object.assign({},n),this.updatePoints()},e.prototype.moveEndPoint=function(n,r){this.endPoint.x+=n,this.endPoint.y+=r,this.updatePoints()},e.prototype.updatePointsList=function(n,r){this.pointsList.forEach(function(a){a.x+=n,a.y+=r});var o=this.pointsList[0];this.startPoint=Object.assign({},o);var i=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},i),this.initPoints()},e.prototype.dragAppendStart=function(){this.draggingPointList=this.pointsList.map(function(n){return n})},e.prototype.dragAppendSimple=function(n,r){var o;this.isDragging=!0;var i=n.start,a=n.end,s=n.startIndex,l=n.endIndex,u=n.direction,d=this.pointsList,c=d;return u===Bt.HORIZONTAL?(d[s]={x:i.x,y:i.y+r.y},d[l]={x:a.x,y:a.y+r.y},c=this.pointsList.map(function(f){return f})):u===Bt.VERTICAL&&(d[s]={x:i.x+r.x,y:i.y},d[l]={x:a.x+r.x,y:a.y},c=this.pointsList.map(function(f){return f})),this.updatePointsAfterDrag(c),this.draggingPointList=c,!((o=this.text)===null||o===void 0)&&o.value&&this.setText(Mt({},this.text,this.textPosition)),{start:Mt({},d[s]),end:Mt({},d[l]),startIndex:s,endIndex:l,direction:u}},e.prototype.dragAppend=function(n,r){var o;this.isDragging=!0;var i=n.start,a=n.end,s=n.startIndex,l=n.endIndex,u=n.direction,d=this.pointsList;if(u===Bt.HORIZONTAL){d[s]={x:i.x,y:i.y+r.y},d[l]={x:a.x,y:a.y+r.y};var c=this.pointsList.map(function(g){return g});if(s!==0&&l!==this.pointsList.length-1&&(c=this.removeCrossPoints(s,l,c)),s===0){var f={x:i.x,y:i.y+r.y},h=fo(f,this.sourceNode);if(!h){var v=this.sourceNode.anchors;c=this.getDraggingPoints(u,"start",f,v,c)}}if(l===this.pointsList.length-1){var p={x:a.x,y:a.y+r.y},h=fo(p,this.targetNode);if(!h){var v=this.targetNode.anchors;c=this.getDraggingPoints(u,"end",p,v,c)}}this.updatePointsAfterDrag(c),this.draggingPointList=c}else if(u===Bt.VERTICAL){d[s]={x:i.x+r.x,y:i.y},d[l]={x:a.x+r.x,y:a.y};var c=this.pointsList.map(function(m){return m});if(s!==0&&l!==this.pointsList.length-1&&(c=this.removeCrossPoints(s,l,c)),s===0){var f={x:i.x+r.x,y:i.y},h=fo(f,this.sourceNode);if(!h){var v=this.sourceNode.anchors;c=this.getDraggingPoints(u,"start",f,v,c)}}if(l===this.pointsList.length-1){var p={x:a.x+r.x,y:a.y},h=fo(p,this.targetNode);if(!h){var v=this.targetNode.anchors;c=this.getDraggingPoints(u,"end",p,v,c)}}this.updatePointsAfterDrag(c),this.draggingPointList=c}return!((o=this.text)===null||o===void 0)&&o.value&&this.setText(Mt({},this.text,this.textPosition)),{start:Mt({},d[s]),end:Mt({},d[l]),startIndex:s,endIndex:l,direction:u}},e.prototype.dragAppendEnd=function(){if(this.draggingPointList){var n=Zv(qo(this.points));this.pointsList=n.map(function(i){return i}),this.draggingPointList=[];var r=n[0];this.startPoint=Mt({},r);var o=n[n.length-1];this.endPoint=Mt({},o)}this.isDragging=!1},e.prototype.updatePointsAfterDrag=function(n){var r=this.updateCrossPoints(n);this.points=r.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" ")},e.prototype.getAdjustStart=function(){return this.pointsList[0]||this.startPoint},e.prototype.getAdjustEnd=function(){var n=this.pointsList;return n[n.length-1]||this.endPoint},e.prototype.updateAfterAdjustStartAndEnd=function(n){var r=n.startPoint,o=n.endPoint,i=n.sourceNode,a=n.targetNode;this.pointsList=qf({x:r.x,y:r.y},{x:o.x,y:o.y},i,a,this.offset||0),this.initPoints()},fn([J],e.prototype,"dbClickPosition",void 0),fn([K],e.prototype,"initPoints",null),fn([K],e.prototype,"updatePoints",null),fn([K],e.prototype,"updateStartPoint",null),fn([K],e.prototype,"moveStartPoint",null),fn([K],e.prototype,"updateEndPoint",null),fn([K],e.prototype,"moveEndPoint",null),fn([K],e.prototype,"updatePointsList",null),fn([K],e.prototype,"dragAppendStart",null),fn([K],e.prototype,"dragAppendSimple",null),fn([K],e.prototype,"dragAppend",null),fn([K],e.prototype,"dragAppendEnd",null),fn([K],e.prototype,"updatePointsAfterDrag",null),fn([K],e.prototype,"getAdjustStart",null),fn([K],e.prototype,"getAdjustEnd",null),fn([K],e.prototype,"updateAfterAdjustStartAndEnd",null),e}(F0),Kt=function(){return Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Kt.apply(this,arguments)},We=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},mh=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lT=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},So=function(){function t(e,n){var r;this.BaseType=$t.NODE,this.id="",this.type="",this.x=0,this.y=0,this.textMode=Kn.TEXT,this.text={value:"",x:0,y:0,draggable:!1,editable:!0},this._width=100,this._height=80,this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.anchorsOffset=[],this.virtual=!1,this.isSelected=!1,this.isHovered=!1,this.isShowAnchor=!1,this.isDragging=!1,this.isHitable=!0,this.isHittable=!0,this.draggable=!0,this.visible=!0,this.rotatable=!0,this.resizable=!0,this.zIndex=1,this.state=gt.DEFAULT,this.autoToFront=!0,this.style={},this._rotate=0,this.modelType=et.NODE,this.additionStateData={},this.targetRules=[],this.sourceRules=[],this.moveRules=[],this.resizeRules=[],this.hasSetTargetRules=!1,this.hasSetSourceRules=!1,this.graphModel=n,this.properties=(r=e.properties)!==null&&r!==void 0?r:{},this.initNodeData(e),this.setAttributes()}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e;var n=this,r=n.x,o=r===void 0?0:r,i=n.y,a=i===void 0?0:i;this.transform=new $0(-o,-a).rotate(e).translate(o,a).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"incoming",{get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outgoing",{get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}},enumerable:!1,configurable:!0}),t.prototype.initNodeData=function(e){if(e.properties||(e.properties={}),!e.id){var n=this.graphModel.idGenerator,r=n&&n(e.type),o=this.createId();e.id=o||r||mo()}this.formatText(e),Mt(this,vN(e));var i=this.graphModel.overlapMode;i===pr.INCREASE&&(this.zIndex=e.zIndex||nc())},t.prototype.setAttributes=function(){},t.prototype.createId=function(){return null},t.prototype.setTextMode=function(e){this.textMode=e},t.prototype.formatText=function(e){var n,r,o,i=this.graphModel.editConfigModel,a=i.nodeTextDraggable,s=i.nodeTextEdit,l=e.x,u=e.y,d=e.text,c={value:"",x:l,y:u,draggable:a,editable:s};d&&(typeof d=="string"?c.value=d:(c=Kt(Kt({},c),{x:(n=d.x)!==null&&n!==void 0?n:l,y:(r=d.y)!==null&&r!==void 0?r:u,value:(o=d.value)!==null&&o!==void 0?o:""}),Zo(d.draggable)||(c.draggable=d.draggable),Zo(d.editable)||(c.editable=d.editable))),e.text=c},t.prototype.resize=function(e){var n=e.width,r=e.height,o=e.deltaX,i=e.deltaY,a=this.isAllowResizeNode(o,i,n,r);return a?(this.move(o/2,i/2),this.width=n,this.height=r,this.setProperties({width:n,height:r}),this.getData()):this.getData()},t.prototype.proportionalResize=function(){},t.prototype.getData=function(){var e=this.text,n=e.x,r=e.y,o=e.value,i=this.properties;$i(i)&&(i=cr(i)),_n(i.width)&&(i.width=this.width),_n(i.height)&&(i.height=this.height);var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:i};return this.rotate&&(a.rotate=this.rotate),this.graphModel.overlapMode===pr.INCREASE&&(a.zIndex=this.zIndex),o&&(a.text={x:n,y:r,value:o}),a},t.prototype.getHistoryData=function(){return this.getData()},t.prototype.getProperties=function(){return cr(this.properties)},t.prototype.getOuterGAttributes=function(){return{className:""}},t.prototype.getNodeStyle=function(){return Kt(Kt({},this.graphModel.theme.baseNode),this.style)},t.prototype.getTextStyle=function(){var e=this.graphModel.theme.nodeText,n=this.properties.textStyle,r=n===void 0?{}:n;return Kt(Kt({},Ke(e)),Ke(r))},t.prototype.getRotateControlStyle=function(){var e=this.graphModel.theme.rotateControl;return Ke(e)},t.prototype.getResizeControlStyle=function(){var e=this.graphModel.theme.resizeControl;return Ke(e)},t.prototype.getResizeOutlineStyle=function(){var e=this.graphModel.theme.resizeOutline;return Ke(e)},t.prototype.getAnchorStyle=function(e){var n=this.graphModel.theme.anchor;return Ke(n)},t.prototype.getAnchorLineStyle=function(e){var n=this.graphModel.theme.anchorLine;return Ke(n)},t.prototype.getOutlineStyle=function(){var e=this.graphModel.theme.outline;return Ke(e)},t.prototype.isAllowConnectedAsSource=function(e,n,r,o){var i=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var a=!0,s="",l=0;l<i.length;l++){var u=i[l];if(!u.validate.call(this,this,e,n,r,o)){a=!1,s=u.message;break}}return{isAllPass:a,msg:s}},t.prototype.getConnectedSourceRules=function(){return this.sourceRules},t.prototype.isAllowConnectedAsTarget=function(e,n,r,o){var i=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var a=!0,s="",l=0;l<i.length;l++){var u=i[l];if(!u.validate.call(this,e,this,n,r,o)){a=!1,s=u.message;break}}return{isAllPass:a,msg:s}},t.prototype.isAllowMoveNode=function(e,n){var r,o,i=!0,a=!0,s=this.moveRules.concat(this.graphModel.nodeMoveRules);try{for(var l=mh(s),u=l.next();!u.done;u=l.next()){var d=u.value,c=d(this,e,n);if(!c)return!1;if(typeof c=="object"){var f=c;if(!f.x&&!f.y)return!1;i=i&&f.x,a=a&&f.y}}}catch(h){r={error:h}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return{x:i,y:a}},t.prototype.getConnectedTargetRules=function(){return this.targetRules},t.prototype.getAnchorsByOffset=function(){var e=this,n=e.anchorsOffset,r=e.id,o=e.x,i=e.y;return n&&n.length>0?n.map(function(a,s){return a.length?(a=a,{id:"".concat(r,"_").concat(s),x:o+a[0],y:i+a[1]}):(a=a,Kt(Kt({},a),{x:o+a.x,y:i+a.y,id:a.id||"".concat(r,"_").concat(s)}))}):this.getDefaultAnchor()},t.prototype.getDefaultAnchor=function(){return[]},t.prototype.getTargetAnchor=function(e){return fN(e,this)},t.prototype.getBounds=function(){return{minX:this.x-this.width/2,minY:this.y-this.height/2,maxX:this.x+this.width/2,maxY:this.y+this.height/2}},Object.defineProperty(t.prototype,"anchors",{get:function(){var e=this.getAnchorsByOffset(),n=this,r=n.x,o=n.y,i=n.rotate;return e.forEach(function(a){var s=a.x,l=a.y,u=lT(new j0([s,l,1]).translate(-r,-o).rotate(i).translate(r,o)[0],2),d=u[0],c=u[1];a.x=d,a.y=c}),e},enumerable:!1,configurable:!0}),t.prototype.getAnchorInfo=function(e){if(!_n(e))for(var n=0;n<this.anchors.length;n++){var r=this.anchors[n];if(r.id===e)return r}},t.prototype.addNodeMoveRules=function(e){this.moveRules.includes(e)||this.moveRules.push(e)},t.prototype.isAllowMoveByXORY=function(e,n,r){var o,i;if(r)o=!0,i=!0;else{var a=this.isAllowMoveNode(e,n);typeof a=="boolean"?(o=a,i=a):(o=a.x,i=a.y)}return{isAllowMoveX:o,isAllowMoveY:i}},t.prototype.move=function(e,n,r){r===void 0&&(r=!1);var o=this.isAllowMoveByXORY(e,n,r),i=o.isAllowMoveX,a=o.isAllowMoveY;return i&&(this.x=this.x+e,this.text&&this.moveText(e,0)),a&&(this.y=this.y+n,this.text&&this.moveText(0,n)),(i||a)&&(this.rotate=this._rotate),i||a},t.prototype.getMoveDistance=function(e,n,r){r===void 0&&(r=!1);var o=this.isAllowMoveByXORY(e,n,r),i=o.isAllowMoveX,a=o.isAllowMoveY,s=0,l=0;return i&&e&&(this.x=this.x+e,this.text&&this.moveText(e,0),s=e),a&&n&&(this.y=this.y+n,this.text&&this.moveText(0,n),l=n),[s,l]},t.prototype.moveTo=function(e,n,r){r===void 0&&(r=!1);var o=e-this.x,i=n-this.y;return!r&&!this.isAllowMoveNode(o,i)?!1:(this.text&&this.moveText(o,i),this.x=e,this.y=n,!0)},t.prototype.moveText=function(e,n){var r=this.text,o=r.x,i=r.y,a=r.value,s=r.draggable,l=r.editable;this.text={value:a,editable:l,draggable:s,x:o+e,y:i+n}},t.prototype.updateText=function(e){this.text=Kt(Kt({},cr(this.text)),{value:e})},t.prototype.addNodeResizeRules=function(e){this.resizeRules.includes(e)||this.resizeRules.push(e)},t.prototype.isAllowResizeNode=function(e,n,r,o){var i,a,s=this.resizeRules.concat(this.graphModel.nodeResizeRules);try{for(var l=mh(s),u=l.next();!u.done;u=l.next()){var d=u.value,c=d(this,e,n,r,o);if(!c)return!1}}catch(f){i={error:f}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return!0},t.prototype.setSelected=function(e){e===void 0&&(e=!0),this.isSelected=e},t.prototype.setHovered=function(e){e===void 0&&(e=!0),this.isHovered=e,this.setIsShowAnchor(e)},t.prototype.setIsShowAnchor=function(e){e===void 0&&(e=!0),this.isShowAnchor=e},t.prototype.setRotatable=function(e){e===void 0&&(e=!0),this.rotatable=e},t.prototype.setResizable=function(e){e===void 0&&(e=!0),this.resizable=e},t.prototype.setHitable=function(e){e===void 0&&(e=!0),this.isHitable=e},t.prototype.setHittable=function(e){e===void 0&&(e=!0),this.isHittable=e},t.prototype.setElementState=function(e,n){this.state=e,this.additionStateData=n},t.prototype.updateProperties=function(e,n){var r=cr(this.properties);this.properties=e,this.setAttributes(),this.graphModel.eventCenter.emit(De.NODE_PROPERTIES_CHANGE,{id:this.id,keys:n,preProperties:r,properties:e})},t.prototype.setProperty=function(e,n){var r=cr(this.properties),o=Ke(r);p1(o,e,pn(n)),this.updateProperties(o,[e])},t.prototype.setProperties=function(e){var n=cr(this.properties),r=Kt(Kt({},n),pn(e)),o=[];Kp(e,function(i,a){(ul(n,a)&&n[a]!==i||!ul(n,a))&&o.push(a)}),this.updateProperties(r,o)},t.prototype.deleteProperty=function(e){delete this.properties[e],this.setAttributes()},t.prototype.setStyle=function(e,n){var r;this.style=Kt(Kt({},this.style),(r={},r[e]=pn(n),r))},t.prototype.setStyles=function(e){this.style=Kt(Kt({},this.style),pn(e))},t.prototype.updateStyles=function(e){this.style=Kt({},pn(e))},t.prototype.setZIndex=function(e){e===void 0&&(e=1),this.zIndex=e},t.prototype.updateAttributes=function(e){Mt(this,e)},t.BaseType=$t.NODE,We([J],t.prototype,"type",void 0),We([J],t.prototype,"x",void 0),We([J],t.prototype,"y",void 0),We([J],t.prototype,"textMode",void 0),We([J],t.prototype,"text",void 0),We([J],t.prototype,"properties",void 0),We([J],t.prototype,"_width",void 0),We([J],t.prototype,"_height",void 0),We([J],t.prototype,"anchorsOffset",void 0),We([J],t.prototype,"isSelected",void 0),We([J],t.prototype,"isHovered",void 0),We([J],t.prototype,"isShowAnchor",void 0),We([J],t.prototype,"isDragging",void 0),We([J],t.prototype,"isHitable",void 0),We([J],t.prototype,"isHittable",void 0),We([J],t.prototype,"draggable",void 0),We([J],t.prototype,"visible",void 0),We([J],t.prototype,"rotatable",void 0),We([J],t.prototype,"resizable",void 0),We([J],t.prototype,"zIndex",void 0),We([J],t.prototype,"state",void 0),We([J],t.prototype,"autoToFront",void 0),We([J],t.prototype,"style",void 0),We([J],t.prototype,"transform",void 0),We([J],t.prototype,"_rotate",void 0),We([kt],t.prototype,"incoming",null),We([kt],t.prototype,"outgoing",null),We([K],t.prototype,"setTextMode",null),We([K],t.prototype,"addNodeMoveRules",null),We([K],t.prototype,"move",null),We([K],t.prototype,"getMoveDistance",null),We([K],t.prototype,"moveTo",null),We([K],t.prototype,"moveText",null),We([K],t.prototype,"updateText",null),We([K],t.prototype,"addNodeResizeRules",null),We([K],t.prototype,"setSelected",null),We([K],t.prototype,"setHovered",null),We([K],t.prototype,"setIsShowAnchor",null),We([K],t.prototype,"setRotatable",null),We([K],t.prototype,"setResizable",null),We([K],t.prototype,"setHitable",null),We([K],t.prototype,"setHittable",null),We([K],t.prototype,"setElementState",null),We([K],t.prototype,"setProperty",null),We([K],t.prototype,"setProperties",null),We([K],t.prototype,"deleteProperty",null),We([K],t.prototype,"setStyle",null),We([K],t.prototype,"setStyles",null),We([K],t.prototype,"updateStyles",null),We([K],t.prototype,"setZIndex",null),We([K],t.prototype,"updateAttributes",null),t}(),uT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Da=function(){return Da=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Da.apply(this,arguments)},y2=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},Tl=function(t){uT(e,t);function e(n,r){var o=t.call(this,n,r)||this;return o.modelType=et.CIRCLE_NODE,o.r=50,o.initNodeData(n),o.setAttributes(),o}return Object.defineProperty(e.prototype,"width",{get:function(){return this.r*2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.r*2},enumerable:!1,configurable:!0}),e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties.r;n&&(this.r=n)},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.graphModel.theme.circle,o=this.properties.style,i=o===void 0?{}:o;return Da(Da(Da({},n),Ke(r)),Ke(i))},e.prototype.getDefaultAnchor=function(){var n=this,r=n.x,o=n.y,i=n.r;return[{x:r,y:o-i,id:"".concat(this.id,"_0")},{x:r+i,y:o,id:"".concat(this.id,"_1")},{x:r,y:o+i,id:"".concat(this.id,"_2")},{x:r-i,y:o,id:"".concat(this.id,"_3")}]},e.prototype.resize=function(n){var r=n.width,o=n.deltaX,i=n.deltaY;return this.move(o/2,i/2),this.r=r,this.setProperties({r}),this.getData()},y2([J],e.prototype,"r",void 0),y2([kt],e.prototype,"width",null),y2([kt],e.prototype,"height",null),e}(So),dT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ra=function(){return Ra=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ra.apply(this,arguments)},mi=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},js=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},vu=function(t){dT(e,t);function e(n,r){var o=t.call(this,n,r)||this;return o.modelType=et.DIAMOND_NODE,o.rx=30,o.ry=50,o.initNodeData(n),o.setAttributes(),o}return e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties,r=n.rx,o=n.ry;r&&(this.rx=r),o&&(this.ry=o)},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.graphModel.theme.diamond,o=this.properties.style,i=o===void 0?{}:o;return Ra(Ra(Ra({},n),Ke(r)),Ke(i))},Object.defineProperty(e.prototype,"points",{get:function(){var n=this,r=n.x,o=n.y,i=n.rx,a=n.ry;return[[r,o-a],[r+i,o],[r,o+a],[r-i,o]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointsPosition",{get:function(){return Vn(this.points,function(n){var r=js(n,2),o=r[0],i=r[1];return{x:o,y:i}})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return Ct(this.points,function(o){var i=js(o,1),a=i[0];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return Ct(this.points,function(o){var i=js(o,2),a=i[1];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),e.prototype.getDefaultAnchor=function(){var n=this;return Vn(this.points,function(r,o){var i=js(r,2),a=i[0],s=i[1];return{x:a,y:s,id:"".concat(n.id,"_").concat(o)}})},e.prototype.resize=function(n){var r=n.width,o=n.height,i=n.deltaX,a=n.deltaY;return this.move(i/2,a/2),this.rx=r,this.ry=o,this.setProperties({rx:r,ry:o}),this.getData()},mi([J],e.prototype,"rx",void 0),mi([J],e.prototype,"ry",void 0),mi([kt],e.prototype,"points",null),mi([kt],e.prototype,"pointsPosition",null),mi([kt],e.prototype,"width",null),mi([kt],e.prototype,"height",null),e}(So),cT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ia=function(){return Ia=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ia.apply(this,arguments)},$s=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},gu=function(t){cT(e,t);function e(n,r){var o=t.call(this,n,r)||this;return o.modelType=et.ELLIPSE_NODE,o.rx=30,o.ry=45,o.initNodeData(n),o.setAttributes(),o}return e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties,r=n.rx,o=n.ry;r&&(this.rx=r),o&&(this.ry=o)},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.graphModel.theme.ellipse,o=this.properties.style,i=o===void 0?{}:o;return Ia(Ia(Ia({},n),Ke(r)),Ke(i))},Object.defineProperty(e.prototype,"width",{get:function(){return this.rx*2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.ry*2},enumerable:!1,configurable:!0}),e.prototype.getDefaultAnchor=function(){var n=this,r=n.x,o=n.y,i=n.rx,a=n.ry;return[{x:r,y:o-a,id:"".concat(this.id,"_0")},{x:r+i,y:o,id:"".concat(this.id,"_1")},{x:r,y:o+a,id:"".concat(this.id,"_2")},{x:r-i,y:o,id:"".concat(this.id,"_3")}]},e.prototype.resize=function(n){var r=n.width,o=n.height,i=n.deltaX,a=n.deltaY;return this.move(i/2,a/2),this.rx=r,this.ry=o,this.setProperties({rx:r,ry:o}),this.getData()},$s([J],e.prototype,"rx",void 0),$s([J],e.prototype,"ry",void 0),$s([kt],e.prototype,"width",null),$s([kt],e.prototype,"height",null),e}(So),fT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ha=function(){return Ha=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ha.apply(this,arguments)},Fs=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},Vs=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Pl=function(t){fT(e,t);function e(n,r){var o=t.call(this,n,r)||this;return o.modelType=et.POLYGON_NODE,o.points=[[50,0],[100,50],[50,100],[0,50]],o.initNodeData(n),o.setAttributes(),o}return e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties,r=n.points,o=n.width,i=n.height,a=r||this.points;this.points=lN(a,o,i)},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.graphModel.theme.polygon,o=this.properties.style,i=o===void 0?{}:o;return Ha(Ha(Ha({},n),Ke(r)),Ke(i))},Object.defineProperty(e.prototype,"pointsPosition",{get:function(){var n=this,r=n.x,o=n.y,i=n.width,a=n.height;return this.points.map(function(s){return{x:s[0]+r-i/2,y:s[1]+o-a/2}})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(o){var i=Vs(o,1),a=i[0];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(o){var i=Vs(o,2),a=i[1];a<n&&(n=a),a>r&&(r=a)}),r-n},enumerable:!1,configurable:!0}),e.prototype.getDefaultAnchor=function(){var n=this,r=this,o=r.x,i=r.y,a=r.width,s=r.height,l=r.points;return l.map(function(u,d){var c=Vs(u,2),f=c[0],h=c[1];return{x:o+f-a/2,y:i+h-s/2,id:"".concat(n.id,"_").concat(d)}})},e.prototype.resize=function(n){var r=this,o=n.width,i=n.height,a=n.deltaX,s=n.deltaY;this.move(a/2,s/2);var l=Vn(this.points,function(u){var d=Vs(u,2),c=d[0],f=d[1];return[c*o/r.width,f*i/r.height]});return this.points=l,this.properties.points=l,this.getData()},Fs([J],e.prototype,"points",void 0),Fs([kt],e.prototype,"pointsPosition",null),Fs([kt],e.prototype,"width",null),Fs([kt],e.prototype,"height",null),e}(So),hT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ba=function(){return Ba=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ba.apply(this,arguments)},pT=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},Gi=function(t){hT(e,t);function e(n,r){var o=t.call(this,n,r)||this;return o.modelType=et.RECT_NODE,o.radius=0,o.initNodeData(n),o.setAttributes(),o}return e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties,r=n.width,o=n.height,i=n.radius;_n(r)||(this.width=r),_n(o)||(this.height=o),_n(i)||(this.radius=i)},e.prototype.getDefaultAnchor=function(){var n=this,r=n.x,o=n.y,i=n.width,a=n.height;return[{x:r,y:o-a/2,id:"".concat(this.id,"_0")},{x:r+i/2,y:o,id:"".concat(this.id,"_1")},{x:r,y:o+a/2,id:"".concat(this.id,"_2")},{x:r-i/2,y:o,id:"".concat(this.id,"_3")}]},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.graphModel.theme.rect,o=this.properties.style,i=o===void 0?{}:o;return Ba(Ba(Ba({},n),Ke(r)),Ke(i))},pT([J],e.prototype,"radius",void 0),e}(So),vT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ja=function(){return ja=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ja.apply(this,arguments)},yh=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},gT=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},mT=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},_h=function(t){vT(e,t);function e(){var n=t.apply(this,mT([],gT(arguments),!1))||this;return n.modelType=et.TEXT_NODE,n}return e.prototype.getTextStyle=function(){var n=t.prototype.getTextStyle.call(this),r=this.graphModel.theme.text,o=this.properties.textStyle;return ja(ja(ja({},n),Ke(r)),Ke(o))},Object.defineProperty(e.prototype,"width",{get:function(){var n=String(this.text.value).split(/[\r\n]/g),r=this.getTextStyle().fontSize,o=dh({rows:n,fontSize:r,rowsLength:n.length}).width;return o},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var n=String(this.text.value).split(/[\r\n]/g),r=this.getTextStyle().fontSize,o=dh({rows:n,fontSize:r,rowsLength:n.length}).height;return o},enumerable:!1,configurable:!0}),yh([kt],e.prototype,"width",null),yh([kt],e.prototype,"height",null),e}(So),yT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),os=function(t){yT(e,t);function e(n,r){var o=t.call(this,n,r)||this;return o.modelType=et.HTML_NODE,o.setAttributes(),o}return e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this);var n=this.properties,r=n.width,o=n.height;r&&(this.width=r),o&&(this.height=o)},e.prototype.getDefaultAnchor=function(){var n=this,r=n.x,o=n.y,i=n.width,a=n.height;return[{x:r,y:o-a/2,id:"".concat(this.id,"_0")},{x:r+i/2,y:o,id:"".concat(this.id,"_1")},{x:r,y:o+a/2,id:"".concat(this.id,"_2")},{x:r-i/2,y:o,id:"".concat(this.id,"_3")}]},e}(So),_t=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},_T={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotate:!1,allowResize:!1,nodeSelectedOutline:!0,textEdit:!1,nodeTextEdit:!1,edgeTextEdit:!1,textDraggable:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},zs=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","snapGrid","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustEdgeStart","adjustEdgeEnd","adjustNodePosition","hideAnchors","allowRotate","allowResize","autoExpand","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","textEdit","nodeTextEdit","edgeTextEdit","textDraggable","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","textMode","nodeTextMode","edgeTextMode","nodeTextMultiple","edgeTextMultiple","nodeTextVertical","edgeTextVertical"],CT=function(){function t(e){this.isSilentMode=!1,this.stopZoomGraph=!1,this.stopMoveGraph=!1,this.stopScrollGraph=!1,this.snapGrid=!1,this.textMode=Kn.TEXT,this.textEdit=!0,this.textDraggable=!1,this.nodeTextEdit=!0,this.nodeTextDraggable=!1,this.nodeTextMultiple=!1,this.nodeTextVertical=!1,this.nodeTextMode=Kn.TEXT,this.edgeTextMode=Kn.TEXT,this.edgeTextEdit=!0,this.edgeTextDraggable=!1,this.edgeTextMultiple=!1,this.edgeTextVertical=!1,this.hideAnchors=!1,this.allowRotate=!1,this.allowResize=!1,this.hoverOutline=!0,this.nodeSelectedOutline=!0,this.adjustNodePosition=!0,this.autoExpand=!1,this.adjustEdge=!0,this.adjustEdgeMiddle=!1,this.adjustEdgeStartAndEnd=!1,this.adjustEdgeStart=!1,this.adjustEdgeEnd=!1,this.edgeSelectedOutline=!0,this.multipleSelectKey="",Mt(this,this.computeConfig(e))}return t.prototype.updateEditConfig=function(e){var n=this.computeConfig(e);Mt(this,n)},t.prototype.computeConfig=function(e){var n=e.isSilentMode,r=e.textDraggable,o=e.textMode,i=e.textEdit,a=e.adjustEdgeStartAndEnd,s={};if(n===!1&&Mt(s,this.stagedConfig),n===!0&&n!==this.isSilentMode){var l=Wo(_T,zs);this.stagedConfig=Wo(this,zs),Mt(s,l)}Zo(i)||Mt(s,{nodeTextEdit:i,edgeTextEdit:i}),Zo(r)||Mt(s,{nodeTextDraggable:r,edgeTextDraggable:r}),o&&Mt(s,{nodeTextMode:o,edgeTextMode:o}),dl(a)&&Mt(s,{adjustEdgeStart:a,adjustEdgeEnd:a});var u=Wo(e,zs);return Mt(s,u)},t.prototype.updateTextMode=function(e){this.textMode=e,this.edgeTextMode=e,this.nodeTextMode=e},t.prototype.getConfig=function(){return Wo(this,zs)},_t([J],t.prototype,"isSilentMode",void 0),_t([J],t.prototype,"stopZoomGraph",void 0),_t([J],t.prototype,"stopMoveGraph",void 0),_t([J],t.prototype,"stopScrollGraph",void 0),_t([J],t.prototype,"snapGrid",void 0),_t([J],t.prototype,"textMode",void 0),_t([J],t.prototype,"textEdit",void 0),_t([J],t.prototype,"textDraggable",void 0),_t([J],t.prototype,"nodeTextEdit",void 0),_t([J],t.prototype,"nodeTextDraggable",void 0),_t([J],t.prototype,"nodeTextMultiple",void 0),_t([J],t.prototype,"nodeTextVertical",void 0),_t([J],t.prototype,"nodeTextMode",void 0),_t([J],t.prototype,"edgeTextMode",void 0),_t([J],t.prototype,"edgeTextEdit",void 0),_t([J],t.prototype,"edgeTextDraggable",void 0),_t([J],t.prototype,"edgeTextMultiple",void 0),_t([J],t.prototype,"edgeTextVertical",void 0),_t([J],t.prototype,"hideAnchors",void 0),_t([J],t.prototype,"allowRotate",void 0),_t([J],t.prototype,"allowResize",void 0),_t([J],t.prototype,"hoverOutline",void 0),_t([J],t.prototype,"nodeSelectedOutline",void 0),_t([J],t.prototype,"adjustNodePosition",void 0),_t([J],t.prototype,"autoExpand",void 0),_t([J],t.prototype,"adjustEdge",void 0),_t([J],t.prototype,"adjustEdgeMiddle",void 0),_t([J],t.prototype,"adjustEdgeStartAndEnd",void 0),_t([J],t.prototype,"adjustEdgeStart",void 0),_t([J],t.prototype,"adjustEdgeEnd",void 0),_t([J],t.prototype,"edgeSelectedOutline",void 0),_t([K],t.prototype,"updateEditConfig",null),_t([K],t.prototype,"updateTextMode",null),t}(),bT="*",xT=function(){function t(){this._events={}}return t.prototype.on=function(e,n,r){var o=this;e==null||e.split(",").forEach(function(i){i=i.trim(),o._events[i]||(o._events[i]=[]),o._events[i].push({callback:n,once:!!r})})},t.prototype.once=function(e,n){var r=this;e==null||e.split(",").forEach(function(o){o=o.trim(),r.on(o,n,!0)})},t.prototype.emit=function(e,n){var r=this;e==null||e.split(",").forEach(function(o){var i=r._events[o]||[],a=r._events[bT]||[],s=function(l){for(var u=l.length,d=0;d<u;d++)if(l[d]){var c=l[d],f=c.callback,h=c.once;h&&(l.splice(d,1),l.length===0&&delete r._events[o],u--,d--),f.apply(r,[n])}};s(i),s(a)})},t.prototype.off=function(e,n){var r=this;e||(this._events={}),e.split(",").forEach(function(o){if(!n)delete r._events[o];else{for(var i=r._events[o]||[],a=i.length,s=0;s<a;s++)i[s].callback===n&&(i.splice(s,1),a--,s--);i.length===0&&delete r._events[o]}})},t.prototype.getEvents=function(){return this._events},t.prototype.destroy=function(){this._events={}},t}(),wT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mu=function(){return mu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},mu.apply(this,arguments)},ET=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},ST=function(t){wT(e,t);function e(n){var r=t.call(this)||this;r.stepScrollX=0,r.stepScrollY=0,r.onDragging=function(s){var l=s.deltaX,u=s.deltaY;r.setState({isDragging:!0});var d=r.props.graphModel,c=d.transformModel,f=d.editConfigModel;f.stopMoveGraph!==!0&&c.translate(l,u)},r.onDragEnd=function(){r.setState({isDragging:!1})},r.zoomHandler=function(s){var l=r.props,u=l.graphModel,d=u.editConfigModel,c=u.transformModel,f=u.gridSize,h=l.graphModel,v=s.deltaX,p=s.deltaY,g=d.stopScrollGraph,m=d.stopZoomGraph;if(!g&&!s.ctrlKey&&!s.metaKey){if(s.preventDefault(),r.stepScrollX+=v,r.stepScrollY+=p,Math.abs(r.stepScrollX)>=f){var y=r.stepScrollX%f,A=r.stepScrollX-y;c.translate(-A*c.SCALE_X,0),r.stepScrollX=y}if(Math.abs(r.stepScrollY)>=f){var M=r.stepScrollY%f,O=r.stepScrollY-M;c.translate(0,-O*c.SCALE_Y),r.stepScrollY=M}return}if(!m){s.preventDefault();var w=h.getPointByClient({x:s.clientX,y:s.clientY}),_=w.canvasOverlayPosition,N=_.x,R=_.y;c.zoom(s.deltaY<0,[N,R])}},r.clickHandler=function(s){var l=s.target;if(l.getAttribute("name")==="canvas-overlay"){var u=r.props.graphModel,d=u.selectElements;d.size>0&&u.clearSelectElements(),u.eventCenter.emit(De.BLANK_CLICK,{e:s})}},r.handleContextMenu=function(s){var l=s.target;if(l.getAttribute("name")==="canvas-overlay"){s.preventDefault();var u=r.props.graphModel,d=u.getPointByClient({x:s.clientX,y:s.clientY});u.eventCenter.emit(De.BLANK_CONTEXTMENU,{e:s,position:d})}},r.mouseDownHandler=function(s){var l=r.props.graphModel,u=l.eventCenter,d=l.editConfigModel,c=l.transformModel.SCALE_X,f=l.gridSize,h=d.adjustEdge,v=d.adjustNodePosition,p=d.stopMoveGraph,g=s.target,m=!h&&!v;(g.getAttribute("name")==="canvas-overlay"||m)&&(p!==!0?(r.stepDrag.setStep(f*c),r.stepDrag.handleMouseDown(s)):u.emit(De.BLANK_MOUSEDOWN,{e:s}),r.clickHandler(s))};var o=n.graphModel,i=o.gridSize,a=o.eventCenter;return r.stepDrag=new rr({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:i,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:void 0}),r.state={isDragging:!1},r}return e.prototype.render=function(){var n=this.props.graphModel.transformModel,r=n.getTransformStyle().transform,o=this.props,i=o.children,a=o.dnd,s=this.state.isDragging;return Y("svg",mu({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:s?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},a.eventMap(),{children:Y("g",{transform:r,children:i})}))},e=ET([bn],e),e}(ut),ag=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),is=function(){return is=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},is.apply(this,arguments)},MT=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},OT=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Ch=function(t){ag(e,t);function e(){var n=t.call(this)||this;return n.onDragging=function(r){var o=r.event,i=n.props,a=i.graphModel,s=i.bezierModel,l=i.type,u=a.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,d=u.x,c=u.y;s.updateAdjustAnchor({x:d,y:c},l),a.eventCenter.emit(De.EDGE_ADJUST,{data:s.getData()})},n.onDragEnd=function(){var r=n.props.bezierModel;r.isDragging=!1},n.dragHandler=new rr({onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return e.prototype.render=function(){var n=this,r=this.props.position,o=r.x,i=r.y,a=this.props.bezierModel,s=a.getEdgeStyle().adjustAnchor;return Y(Wi,is({className:"lf-bezier-adjust-anchor",x:o,y:i},s,{onMouseDown:function(l){n.dragHandler.handleMouseDown(l)}}))},e}(ut),AT=function(t){ag(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBezierAdjust=function(n,r){var o=n.path,i=n.id,a=Qd(o),s=OT(a,4),l=s[0],u=s[1],d=s[2],c=s[3],f=n.getEdgeStyle().adjustLine,h=[];return h.push(Y(zi,is({x1:l.x,y1:l.y,x2:u.x,y2:u.y},f))),h.push(Y(Ch,{position:u,bezierModel:n,graphModel:r,type:"sNext"},"".concat(i,"_ePre"))),h.push(Y(zi,is({x1:c.x,y1:c.y,x2:d.x,y2:d.y},f))),h.push(Y(Ch,{position:d,bezierModel:n,graphModel:r,type:"ePre"},"".concat(i,"_sNext"))),h},e.prototype.selectedBezierEdge=function(){for(var n=this.props.graphModel,r=n.edges,o=[],i=0;i<r.length;i++){var a=r[i];a.isSelected&&a.modelType===et.BEZIER_EDGE&&a.draggable&&o.push(this.getBezierAdjust(a,n))}return o},e.prototype.render=function(){return Y("g",{className:"lf-bezier-adjust",children:this.selectedBezierEdge()})},e=MT([bn],e),e}(ut),NT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TT=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},PT=function(t){NT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props.background;return Y("div",{className:"lf-background",children:Y("div",{style:Dn(n)?n:{},className:"lf-background-area"})})},e=TT([bn],e),e}(ut),kT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),LT=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},kl=function(t){kT(e,t);function e(n){var r=t.call(this,n)||this;return r.id=mo(),r.gridOptions=r.props.graphModel.grid,r}return e.prototype.renderDot=function(){var n=this.gridOptions,r=n.config,o=n.size,i=o===void 0?1:o,a=n.visible,s=r??{},l=s.color,u=s.thickness,d=u===void 0?2:u,c=Math.min(Math.max(2,d),i/4),f=a?1:0;return Y("g",{fill:l,opacity:f,children:[Y("circle",{cx:0,cy:0,r:c/2}),Y("circle",{cx:0,cy:i,r:c/2}),Y("circle",{cx:i,cy:0,r:c/2}),Y("circle",{cx:i,cy:i,r:c/2})]})},e.prototype.renderMesh=function(){var n=this.gridOptions,r=n.config,o=n.size,i=o===void 0?1:o,a=n.visible,s=r??{},l=s.color,u=s.thickness,d=u===void 0?1:u,c=Math.min(Math.max(1,d),i/2),f="M 0 0 H ".concat(i," V ").concat(i," H 0 Z"),h=a?1:0;return Y("path",{d:f,stroke:l,strokeWidth:c/2,opacity:h,fill:"transparent"})},e.prototype.render=function(){var n=this.props.graphModel.transformModel,r=this.gridOptions,o=r.type,i=r.size,a=i===void 0?1:i,s=n.SCALE_X,l=n.SKEW_Y,u=n.SKEW_X,d=n.SCALE_Y,c=n.TRANSLATE_X,f=n.TRANSLATE_Y,h=[s,l,u,d,c,f].join(","),v="matrix(".concat(h,")");return Y("div",{className:"lf-grid",children:Y("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",children:[Y("defs",{children:Y("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:v,x:"0",y:"0",width:a,height:a,children:[o==="dot"&&this.renderDot(),o==="mesh"&&this.renderMesh()]})}),Y("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})]})})},e=LT([bn],e),e}(ut);(function(t){t.defaultProps={size:jA,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};function e(n){var r=Ke(t.defaultProps);return typeof n=="number"?Mt(r,{size:n}):typeof n=="boolean"?Mt(r,{visible:n}):Mt(r,n)}t.getGridOptions=e})(kl||(kl={}));var DT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),RT=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},IT=function(t){DT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props.graphModel.transformModel,r=n.getTransformStyle().transform,o=this.props.children;return Y("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay",children:Y("g",{transform:r,children:o})})},e=RT([bn],e),e}(ut),HT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ro=function(){return ro=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ro.apply(this,arguments)},BT=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},jT=function(t){HT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getNodesOutline=function(){var n=this.props.graphModel,r=n.nodes,o=n.editConfigModel,i=o.hoverOutline,a=o.nodeSelectedOutline,s=[];return r.forEach(function(l){if(l.isHovered||l.isSelected){var u=l.isHovered,d=l.isSelected,c=l.x,f=l.y,h=l.width,v=l.height;if(a&&d||i&&u){var p=l.getOutlineStyle(),g={};if(Object.keys(p).forEach(function(y){y!=="hover"&&(g[y]=p[y])}),u){var m=p.hover;g=ro(ro({},g),m)}s.push(Y(Zn,ro({transform:l.transform,className:"lf-outline-node",x:c,y:f,width:h+10,height:v+10},g)))}}}),s},e.prototype.getEdgeOutline=function(){for(var n=this.props.graphModel,r=n.edges,o=n.editConfigModel,i=o.edgeSelectedOutline,a=o.hoverOutline,s=[],l=0;l<r.length;l++){var u=r[l];(i&&u.isSelected||a&&u.isHovered)&&(u.modelType===et.LINE_EDGE?s.push(this.getLineOutline(u)):u.modelType===et.POLYLINE_EDGE?s.push(this.getPolylineOutline(u)):u.modelType===et.BEZIER_EDGE&&s.push(this.getBezierOutline(u)))}return s},e.prototype.getLineOutline=function(n){var r=n.startPoint,o=n.endPoint,i=(r.x+o.x)/2,a=(r.y+o.y)/2,s=Math.abs(r.x-o.x)+10,l=Math.abs(r.y-o.y)+10,u=n.getOutlineStyle();return Y(Zn,ro({className:"lf-outline-edge",x:i,y:a,width:s,height:l},u))},e.prototype.getPolylineOutline=function(n){var r=n.points,o=qo(r),i=es(o,8),a=i.x,s=i.y,l=i.width,u=i.height,d=n.getOutlineStyle();return Y(Zn,ro({className:"lf-outline",x:a,y:s,width:l,height:u},d))},e.prototype.getBezierOutline=function(n){var r=n.path,o=Qd(r),i=es(o,8),a=i.x,s=i.y,l=i.width,u=i.height,d=n.getOutlineStyle();return Y(Zn,ro({className:"lf-outline",x:a,y:s,width:l,height:u},d))},e.prototype.render=function(){return Y("g",{className:"lf-outline",children:[this.getNodesOutline(),this.getEdgeOutline()]})},e=BT([bn],e),e}(ut),$T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oo=function(){return oo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},oo.apply(this,arguments)},FT=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},VT=function(t){$T(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var n=this.props.snaplineModel,r=n??{},o=r.position,i=r.isShowHorizontal,a=r.isShowVertical,s=n==null?void 0:n.getStyle(),l=o??{},u=l.x,d=u===void 0?0:u,c=l.y,f=c===void 0?0:c,h=oo(oo({x1:-1e5,y1:f,x2:1e5,y2:f},s),{stroke:i?s==null?void 0:s.stroke:"none"}),v=oo(oo({x1:d,y1:-1e5,x2:d,y2:1e5},s),{stroke:a?s==null?void 0:s.stroke:"none"});return Y("g",{className:"lf-snapline",children:[Y(zi,oo({},h)),Y(zi,oo({},v))]})},e=FT([bn],e),e}(ut),zT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),WT=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},UT=function(t){zT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){this.triggerToolRender()},e.prototype.componentDidUpdate=function(){this.triggerToolRender()},e.prototype.getTools=function(){var n=this.props,r=n.tool,o=n.graphModel,i=o.textEditElement,a=r.getTools(),s=a.map(function(l){return Oe(l,{textEditElement:i,graphModel:o,lf:r.instance})});return r.components=s,s},e.prototype.triggerToolRender=function(){var n=this.props,r=n.tool,o=n.graphModel,i=document.querySelector("#ToolOverlay_".concat(o.flowId)),a=r.getInstance();a.components.forEach(function(s){return s(a,i)}),a.components=[]},e.prototype.render=function(){var n=this.props.graphModel;return Y("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(n.flowId),children:this.getTools()})},e=WT([bn],e),e}(ut),io=function(){return io=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},io.apply(this,arguments)},Pe=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},GT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},en=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Un=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},XT=function(){function t(e){var n=this,r,o;this.modelMap=new Map,this.nodeModelMap=new Map,this.edgeModelMap=new Map,this.elementsModelMap=new Map,this.nodeMoveRules=[],this.nodeResizeRules=[],this.nodes=[],this.edges=[],this.overlapMode=pr.DEFAULT,this.gridSize=1,this.partial=!1,this.waitCleanEffects=[];var i=e.container,a=e.partial,s=e.background,l=s===void 0?{}:s,u=e.grid,d=e.idGenerator,c=e.edgeGenerator,f=e.animation,h=e.customTrajectory;this.rootEl=i,this.partial=!!a,this.background=l,typeof u=="object"&&e.snapGrid&&(this.gridSize=u.size||1),this.theme=ig(e.style),this.grid=kl.getGridOptions(u??!1),this.edgeType=e.edgeType||"polyline",this.animation=IA(f),this.overlapMode=e.overlapMode||pr.DEFAULT,this.width=(r=e.width)!==null&&r!==void 0?r:this.rootEl.getBoundingClientRect().width,this.isContainerWidth=_n(e.width),this.height=(o=e.height)!==null&&o!==void 0?o:this.rootEl.getBoundingClientRect().height,this.isContainerHeight=_n(e.height);var v=new ResizeObserver(p0(function(p){var g,m;try{for(var y=GT(p),A=y.next();!A.done;A=y.next()){var M=A.value;M.target===n.rootEl&&(n.resize(),n.eventCenter.emit("graph:resize",{target:n.rootEl,contentRect:M.contentRect}))}}catch(O){g={error:O}}finally{try{A&&!A.done&&(m=y.return)&&m.call(y)}finally{if(g)throw g.error}}},16));v.observe(this.rootEl),this.waitCleanEffects.push(function(){v.disconnect()}),this.eventCenter=new xT,this.editConfigModel=new CT(e),this.transformModel=new KT(this.eventCenter,e),this.flowId=mo(),this.idGenerator=d,this.edgeGenerator=aN(this,c),this.customTrajectory=h}return Object.defineProperty(t.prototype,"nodesMap",{get:function(){return this.nodes.reduce(function(e,n,r){return e[n.id]={index:r,model:n},e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"edgesMap",{get:function(){return this.edges.reduce(function(e,n,r){return e[n.id]={index:r,model:n},e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modelsMap",{get:function(){return Un(Un([],en(this.nodes),!1),en(this.edges),!1).reduce(function(e,n){return e[n.id]=n,e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sortElements",{get:function(){for(var e=Un(Un([],en(this.nodes),!1),en(this.edges),!1).sort(function(s,l){return s.zIndex-l.zIndex}),n=[],r=[-Ls,-Ls],o=[this.width+Ls,this.height+Ls],i=0;i<e.length;i++){var a=e[i];a.visible&&(!this.partial||a.isSelected||this.isElementInArea(a,r,o,!1,!1))&&n.push(a)}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textEditElement",{get:function(){var e=this.nodes.find(function(r){return r.state===gt.TEXT_EDIT}),n=this.edges.find(function(r){return r.state===gt.TEXT_EDIT});return e||n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectElements",{get:function(){var e=new Map;return this.nodes.forEach(function(n){n.isSelected&&e.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&e.set(n.id,n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectNodes",{get:function(){var e=[];return this.nodes.forEach(function(n){n.isSelected&&e.push(n)}),e},enumerable:!1,configurable:!0}),t.prototype.getAreaElement=function(e,n,r,o,i){var a=this;r===void 0&&(r=!0),o===void 0&&(o=!0),i===void 0&&(i=!1);var s=[];return Ct(Un(Un([],en(this.nodes),!1),en(this.edges),!1),function(l){var u=a.isElementInArea(l,e,n,r,o);(!i||l.visible)&&u&&s.push(l)}),s},t.prototype.getModel=function(e){return this.modelMap.get(e)},t.prototype.getNodeModelById=function(e){var n;return this.fakeNode&&e===this.fakeNode.id?this.fakeNode:(n=this.nodesMap[e])===null||n===void 0?void 0:n.model},t.prototype.getPointByClient=function(e){var n=e.x,r=e.y,o=this.rootEl.getBoundingClientRect(),i={x:n-o.left,y:r-o.top},a=en(this.transformModel.HtmlPointToCanvasPoint([i.x,i.y]),2),s=a[0],l=a[1],u={x:s,y:l};return{domOverlayPosition:i,canvasOverlayPosition:u}},t.prototype.isElementInArea=function(e,n,r,o,i){var a;if(o===void 0&&(o=!0),i===void 0&&(i=!0),e.BaseType===$t.NODE){e=e;for(var s=Tn(e),l=s.minX,u=s.minY,d=s.maxX,c=s.maxY,f=[{x:l,y:u},{x:d,y:u},{x:d,y:c},{x:l,y:c}],h=i,v=0;v<f.length;v++){var p=f[v],g=p.x,m=p.y;if(a=en(this.transformModel.CanvasPointToHtmlPoint([g,m]),2),g=a[0],m=a[1],v2([g,m],n,r)!==i){h=!i;break}}return h}if(e.BaseType===$t.EDGE){e=e;var y=e.startPoint,A=e.endPoint,M=this.transformModel.CanvasPointToHtmlPoint([y.x,y.y]),O=this.transformModel.CanvasPointToHtmlPoint([A.x,A.y]),w=v2(M,n,r),_=v2(O,n,r);return o?w&&_:w||_}return!1},t.prototype.graphDataToModel=function(e){var n=this;if(!e){this.clearData();return}if(this.elementsModelMap.clear(),this.nodeModelMap.clear(),this.edgeModelMap.clear(),e.nodes?this.nodes=Vn(e.nodes,function(o){var i=n.getModelAfterSnapToGrid(o);return n.elementsModelMap.set(i.id,i),n.nodeModelMap.set(i.id,i),i}):this.nodes=[],e.edges){var r=this.edgeType;this.edges=Vn(e.edges,function(o){var i,a=n.getModel((i=o.type)!==null&&i!==void 0?i:r);if(!a)throw new Error("找不到".concat(o.type,"对应的边。"));var s=new a(o,n);return n.edgeModelMap.set(s.id,s),n.elementsModelMap.set(s.id,s),s})}else this.edges=[]},t.prototype.modelToGraphData=function(){var e=[];this.edges.forEach(function(r){var o=r.getData();o&&!r.virtual&&e.push(o)});var n=[];return this.nodes.forEach(function(r){var o=r.getData();o&&!r.virtual&&n.push(o)}),{nodes:n,edges:e}},t.prototype.modelToHistoryData=function(){for(var e=!1,n=[],r=0;r<this.nodes.length;r++){var o=this.nodes[r];if(o.isDragging){e=!0;break}else n.push(o.getHistoryData())}if(e)return!1;for(var i=!1,a=[],s=0;s<this.edges.length;s++){var l=this.edges[s];if(l.isDragging){i=!0;break}else a.push(l.getHistoryData())}return i?!1:{nodes:n,edges:a}},t.prototype.getEdgeModelById=function(e){var n;return(n=this.edgesMap[e])===null||n===void 0?void 0:n.model},t.prototype.getElement=function(e){return this.modelsMap[e]},t.prototype.getNodeEdges=function(e){for(var n=[],r=0;r<this.edges.length;r++){var o=this.edges[r],i=o.sourceNodeId===e,a=o.targetNodeId===e;(i||a)&&n.push(o)}return n},t.prototype.getSelectElements=function(e){e===void 0&&(e=!0);var n=this.selectElements,r={nodes:[],edges:[]};return n.forEach(function(o){if(o.BaseType===$t.NODE&&r.nodes.push(o.getData()),o.BaseType===$t.EDGE){var i=o.getData(),a=n.get(i.sourceNodeId)&&n.get(i.targetNodeId);(e||a)&&r.edges.push(i)}}),r},t.prototype.updateAttributes=function(e,n){var r=this.getElement(e);r==null||r.updateAttributes(n)},t.prototype.changeNodeId=function(e,n){return n||(n=mo()),this.nodesMap[n]?(console.warn("当前流程图已存在节点".concat(n,", 修改失败")),""):this.nodesMap[e]?(this.edges.forEach(function(r){r.sourceNodeId===e&&(r.sourceNodeId=n),r.targetNodeId===e&&(r.targetNodeId=n)}),this.nodesMap[e].model.id=n,this.nodesMap[n]=this.nodesMap[e],n):(console.warn("当前流程图找不到节点".concat(e,", 修改失败")),"")},t.prototype.changeEdgeId=function(e,n){return n||(n=mo()),this.edgesMap[n]?(console.warn("当前流程图已存在边: ".concat(n,", 修改失败")),""):this.edgesMap[e]?(this.edges.forEach(function(r){r.id===e&&r.changeEdgeId(n)}),n):(console.warn("当前流程图找不到边: ".concat(n,", 修改失败")),"")},t.prototype.getTextModel=function(e){var n=this.editConfigModel,r=n.textMode,o=n.nodeTextMode,i=n.edgeTextMode;if(e.BaseType===$t.NODE)return e.textMode||o||r||Kn.TEXT;if(e.BaseType===$t.EDGE)return e.textMode||i||r||Kn.TEXT},t.prototype.setTextMode=function(e,n){this.editConfigModel.updateEditConfig({textMode:e})},t.prototype.setFakeNode=function(e){this.fakeNode=e},t.prototype.removeFakeNode=function(){this.fakeNode=null},t.prototype.setModel=function(e,n){return this.modelMap.set(e,n)},t.prototype.toFront=function(e){var n,r,o,i=((n=this.nodesMap[e])===null||n===void 0?void 0:n.model)||((r=this.edgesMap[e])===null||r===void 0?void 0:r.model);i&&(this.overlapMode===pr.DEFAULT&&((o=this.topElement)===null||o===void 0||o.setZIndex(),i.setZIndex(BA),this.topElement=i),this.overlapMode===pr.INCREASE&&this.setElementZIndex(e,"top"))},t.prototype.setElementZIndex=function(e,n){var r,o,i=((r=this.nodesMap[e])===null||r===void 0?void 0:r.model)||((o=this.edgesMap[e])===null||o===void 0?void 0:o.model);if(i){var a=void 0;typeof n=="number"?a=n:(n==="top"&&(a=nc()),n==="bottom"&&(a=nT())),i.setZIndex(a)}},t.prototype.deleteNode=function(e){var n=this.nodesMap[e].model,r=n.getData();this.deleteEdgeBySource(e),this.deleteEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(De.NODE_DELETE,{data:r,model:n})},t.prototype.addNode=function(e,n,r){n===void 0&&(n=De.NODE_ADD);var o=pn(e),i=o.id;i&&this.nodesMap[i]&&delete o.id;var a=this.getModelAfterSnapToGrid(o);this.nodes.push(a);var s=a.getData(),l={data:s};return r&&(l.e=r),this.eventCenter.emit(n,l),a},t.prototype.getModelAfterSnapToGrid=function(e){var n=this.getModel(e.type),r=this.editConfigModel.snapGrid;if(!n)throw new Error("找不到".concat(e.type,"对应的节点，请确认是否已注册此类型节点。"));var o=e.x,i=e.y;o&&i&&(e.x=Vi(o,this.gridSize,r),e.y=Vi(i,this.gridSize,r),typeof e.text=="object"&&e.text!==null&&(e.text.x+=e.x-o,e.text.y+=e.y-i));var a=new n(e,this);return this.nodeModelMap.set(a.id,a),this.elementsModelMap.set(a.id,a),a},t.prototype.cloneNode=function(e){var n=this.getNodeModelById(e),r=n==null?void 0:n.getData();if(r){r.x+=30,r.y+=30,r.id="",typeof r.text=="object"&&r.text!==null&&(r.text.x+=30,r.text.y+=30);var o=this.addNode(r);return o.setSelected(!0),n==null||n.setSelected(!1),o.getData()}},t.prototype.moveNode=function(e,n,r,o){var i;o===void 0&&(o=!1);var a=this.nodesMap[e];if(!a){console.warn("不存在id为".concat(e,"的节点"));return}var s=a.model;i=en(s.getMoveDistance(n,r,o),2),n=i[0],r=i[1],this.moveEdge(e,n,r)},t.prototype.moveNode2Coordinate=function(e,n,r,o){o===void 0&&(o=!1);var i=this.nodesMap[e];if(!i){console.warn("不存在id为".concat(e,"的节点"));return}var a=i.model,s=a.x,l=a.y,u=n-s,d=r-l;this.moveNode(e,u,d,o)},t.prototype.editText=function(e){this.setElementStateById(e,gt.TEXT_EDIT)},t.prototype.addEdge=function(e){var n=pn(e),r=n.type;r||(r=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var o=this.getModel(r);if(!o)throw new Error("找不到".concat(r,"对应的边，请确认是否已注册此类型边。"));var i=new o(io(io({},n),{type:r}),this);this.edgeModelMap.set(i.id,i),this.elementsModelMap.set(i.id,i);var a=i.getData();return this.edges.push(i),this.eventCenter.emit(De.EDGE_ADD,{data:a}),i},t.prototype.moveEdge=function(e,n,r){for(var o=0;o<this.edges.length;o++){var i=this.edges[o],a=i.textPosition,s=a.x,l=a.y,u=this.edges[o].sourceNodeId===e,d=this.edges[o].targetNodeId===e;u&&i.moveStartPoint(n,r),d&&i.moveEndPoint(n,r),(u||d)&&this.handleEdgeTextMove(i,s,l)}},t.prototype.handleEdgeTextMove=function(e,n,r){var o;if(e.customTextPosition){e.resetTextPosition();return}if(e.modelType===et.POLYLINE_EDGE&&(!((o=e.text)===null||o===void 0)&&o.value)){var i=e.text,a=qv(i,e.points);e.moveText(a.x-i.x,a.y-i.y)}var s=e.textPosition,l=s.x,u=s.y;e.moveText(l-n,u-r)},t.prototype.deleteEdgeBySourceAndTarget=function(e,n){for(var r=0;r<this.edges.length;r++)if(this.edges[r].sourceNodeId===e&&this.edges[r].targetNodeId===n){var o=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(De.EDGE_DELETE,{data:o})}},t.prototype.deleteEdgeById=function(e){var n=this.edgesMap[e];if(n){var r=this.edgesMap[e].index,o=this.edgesMap[e].model.getData();this.edges.splice(r,1),this.eventCenter.emit(De.EDGE_DELETE,{data:o})}},t.prototype.deleteEdgeBySource=function(e){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===e){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(De.EDGE_DELETE,{data:r})}},t.prototype.deleteEdgeByTarget=function(e){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===e){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(De.EDGE_DELETE,{data:r})}},t.prototype.setElementStateById=function(e,n,r){this.nodes.forEach(function(o){o.id===e?o.setElementState(n,r):o.setElementState(gt.DEFAULT)}),this.edges.forEach(function(o){o.id===e?o.setElementState(n,r):o.setElementState(gt.DEFAULT)})},t.prototype.updateText=function(e,n){var r=yo(Un(Un([],en(this.nodes),!1),en(this.edges),!1),function(o){return o.id===e});r==null||r.updateText(n)},t.prototype.selectNodeById=function(e,n){var r;n===void 0&&(n=!1),n||this.clearSelectElements();var o=(r=this.nodesMap[e])===null||r===void 0?void 0:r.model;o==null||o.setSelected(!0)},t.prototype.selectEdgeById=function(e,n){var r;n===void 0&&(n=!1),n||this.clearSelectElements();var o=(r=this.edgesMap[e])===null||r===void 0?void 0:r.model;o==null||o.setSelected(!0)},t.prototype.selectElementById=function(e,n){n===void 0&&(n=!1),n||this.clearSelectElements();var r=this.getElement(e);r==null||r.setSelected(!0)},t.prototype.clearSelectElements=function(){var e;this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===pr.DEFAULT&&((e=this.topElement)===null||e===void 0||e.setZIndex())},t.prototype.moveNodes=function(e,n,r,o){var i,a,s,l=this;o===void 0&&(o=!1);for(var u=e.reduce(function(A,M){var O,w=(O=l.nodesMap[M])===null||O===void 0?void 0:O.model;return w&&(A[M]=w.getMoveDistance(n,r,o)),A},{}),d=0;d<this.edges.length;d++){var c=this.edges[d],f=c.textPosition,h=f.x,v=f.y,p=u[c.sourceNodeId],g=u[c.targetNodeId],m=void 0,y=void 0;p&&g&&c.modelType===et.POLYLINE_EDGE?(i=en(p,2),m=i[0],y=i[1],c.updatePointsList(m,y)):(p&&(a=en(p,2),m=a[0],y=a[1],c.moveStartPoint(m,y)),g&&(s=en(g,2),m=s[0],y=s[1],c.moveEndPoint(m,y))),(p||g)&&this.handleEdgeTextMove(c,h,v)}},t.prototype.addNodeMoveRules=function(e){this.nodeMoveRules.includes(e)||this.nodeMoveRules.push(e)},t.prototype.addNodeResizeRules=function(e){this.nodeResizeRules.includes(e)||this.nodeResizeRules.push(e)},t.prototype.setDefaultEdgeType=function(e){this.edgeType=e},t.prototype.changeNodeType=function(e,n){var r=this.getNodeModelById(e);if(!r){console.warn("找不到id为".concat(e,"的节点"));return}var o=r.getData();o.type=n;var i=this.getModel(n);if(!i)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));var a=new i(o,this);this.nodes.splice(this.nodesMap[e].index,1,a);var s=this.getNodeEdges(e);s.forEach(function(l){if(l.sourceNodeId===e){var u=uh(a,l.startPoint,a.width,a.height);l.updateStartPoint(u)}if(l.targetNodeId===e){var u=uh(a,l.endPoint,a.width,a.height);l.updateEndPoint(u)}})},t.prototype.changeEdgeType=function(e,n){var r=this.getEdgeModelById(e);if(!r){console.warn("找不到id为".concat(e,"的边"));return}if(r.type!==n){var o=r.getData();o.type=n;var i=this.getModel(n);if(!i)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));delete o.pointsList;var a=new i(o,this);this.edges.splice(this.edgesMap[e].index,1,a)}},t.prototype.getNodeIncomingEdge=function(e){var n=[];return this.edges.forEach(function(r){r.targetNodeId===e&&n.push(r)}),n},t.prototype.getNodeOutgoingEdge=function(e){var n=[];return this.edges.forEach(function(r){r.sourceNodeId===e&&n.push(r)}),n},t.prototype.getAnchorIncomingEdge=function(e){var n=[];return this.edges.forEach(function(r){r.targetAnchorId===e&&n.push(r)}),n},t.prototype.getAnchorOutgoingEdge=function(e){var n=[];return this.edges.forEach(function(r){r.sourceAnchorId===e&&n.push(r)}),n},t.prototype.getNodeIncomingNode=function(e){var n=this,r=[];return this.edges.forEach(function(o){var i;o.targetNodeId===e&&r.push((i=n.nodesMap[o.sourceNodeId])===null||i===void 0?void 0:i.model)}),r},t.prototype.getNodeOutgoingNode=function(e){var n=this,r=[];return this.edges.forEach(function(o){o.sourceNodeId===e&&r.push(n.nodesMap[o.targetNodeId].model)}),r},t.prototype.setTheme=function(e){this.theme=QN(io(io({},this.theme),e))},t.prototype.updateGridOptions=function(e){Li(this.grid,e)},t.prototype.updateGridSize=function(e){this.gridSize=e},t.prototype.updateBackgroundOptions=function(e){dl(e)||dl(this.background)?this.background=e:this.background=io(io({},this.background),e)},t.prototype.resize=function(e,n){this.width=e??this.rootEl.getBoundingClientRect().width,this.isContainerWidth=_n(e),this.height=n??this.rootEl.getBoundingClientRect().height,this.isContainerHeight=_n(n),(!this.width||!this.height)&&console.warn("渲染画布的时候无法获取画布宽高，请确认在container已挂载到DOM。@see https://github.com/didi/LogicFlow/issues/675")},t.prototype.clearData=function(){this.nodes=[],this.edges=[],this.edgeModelMap.clear(),this.nodeModelMap.clear(),this.elementsModelMap.clear()},t.prototype.getVirtualRectSize=function(){var e=this.nodes,n=[],r=[];e.forEach(function(f){var h=f.x,v=f.y,p=f.width,g=f.height,m=f.getNodeStyle().strokeWidth,y=m===void 0?0:m,A=h+p/2+y,M=h-p/2-y,O=v+g/2+y,w=v-g/2-y;n=n.concat([A,M].filter(function(_){return!Number.isNaN(_)})),r=r.concat([O,w].filter(function(_){return!Number.isNaN(_)}))});var o=Math.min.apply(Math,Un([],en(n),!1)),i=Math.max.apply(Math,Un([],en(n),!1)),a=Math.min.apply(Math,Un([],en(r),!1)),s=Math.max.apply(Math,Un([],en(r),!1)),l=i-o||0,u=s-a||0,d=o+l/2,c=a+u/2;return{width:l,height:u,x:d,y:c}},t.prototype.translateCenter=function(){var e=this,n=e.nodes,r=e.width,o=e.height,i=e.rootEl,a=e.transformModel;if(n.length){var s=r||i.clientWidth,l=o||i.clientHeight,u=this.getVirtualRectSize(),d=u.x,c=u.y;a.focusOn(d,c,s,l)}},t.prototype.fitView=function(e,n){e===void 0&&(e=20),n===void 0&&(n=20);var r=this,o=r.nodes,i=r.width,a=r.height,s=r.rootEl,l=r.transformModel;if(o.length){var u=i||s.clientWidth,d=a||s.clientHeight,c=this.getVirtualRectSize(),f=c.width,h=c.height,v=c.x,p=c.y,g=(f+n)/u,m=(h+e)/d,y=1/Math.max(g,m),A=[u/2,d/2];l.zoom(y,A),l.focusOn(v,p,u,d)}},t.prototype.openEdgeAnimation=function(e){var n=this.getEdgeModelById(e);n==null||n.openEdgeAnimation()},t.prototype.closeEdgeAnimation=function(e){var n=this.getEdgeModelById(e);n==null||n.closeEdgeAnimation()},t.prototype.getPartial=function(){return this.partial},t.prototype.setPartial=function(e){this.partial=e},t.prototype.destroy=function(){try{this.waitCleanEffects.forEach(function(e){e()})}catch(e){console.warn("error on destroy GraphModel",e)}this.waitCleanEffects.length=0,this.eventCenter.destroy()},Pe([J],t.prototype,"width",void 0),Pe([J],t.prototype,"height",void 0),Pe([J],t.prototype,"grid",void 0),Pe([J],t.prototype,"edgeType",void 0),Pe([J],t.prototype,"nodes",void 0),Pe([J],t.prototype,"edges",void 0),Pe([J],t.prototype,"fakeNode",void 0),Pe([J],t.prototype,"overlapMode",void 0),Pe([J],t.prototype,"background",void 0),Pe([J],t.prototype,"gridSize",void 0),Pe([J],t.prototype,"transformModel",void 0),Pe([J],t.prototype,"editConfigModel",void 0),Pe([J],t.prototype,"partial",void 0),Pe([kt],t.prototype,"nodesMap",null),Pe([kt],t.prototype,"edgesMap",null),Pe([kt],t.prototype,"modelsMap",null),Pe([kt],t.prototype,"sortElements",null),Pe([kt],t.prototype,"textEditElement",null),Pe([kt],t.prototype,"selectElements",null),Pe([kt],t.prototype,"selectNodes",null),Pe([K],t.prototype,"setTextMode",null),Pe([K],t.prototype,"setFakeNode",null),Pe([K],t.prototype,"removeFakeNode",null),Pe([K],t.prototype,"setModel",null),Pe([K],t.prototype,"toFront",null),Pe([K],t.prototype,"setElementZIndex",null),Pe([K],t.prototype,"deleteNode",null),Pe([K],t.prototype,"addNode",null),Pe([K],t.prototype,"cloneNode",null),Pe([K],t.prototype,"moveNode",null),Pe([K],t.prototype,"moveNode2Coordinate",null),Pe([K],t.prototype,"editText",null),Pe([K],t.prototype,"addEdge",null),Pe([K],t.prototype,"moveEdge",null),Pe([K],t.prototype,"deleteEdgeBySourceAndTarget",null),Pe([K],t.prototype,"deleteEdgeById",null),Pe([K],t.prototype,"deleteEdgeBySource",null),Pe([K],t.prototype,"deleteEdgeByTarget",null),Pe([K],t.prototype,"setElementStateById",null),Pe([K],t.prototype,"updateText",null),Pe([K],t.prototype,"selectNodeById",null),Pe([K],t.prototype,"selectEdgeById",null),Pe([K],t.prototype,"selectElementById",null),Pe([K],t.prototype,"clearSelectElements",null),Pe([K],t.prototype,"moveNodes",null),Pe([K],t.prototype,"setDefaultEdgeType",null),Pe([K],t.prototype,"changeNodeType",null),Pe([K],t.prototype,"changeEdgeType",null),Pe([K],t.prototype,"getNodeIncomingEdge",null),Pe([K],t.prototype,"getNodeOutgoingEdge",null),Pe([K],t.prototype,"getAnchorIncomingEdge",null),Pe([K],t.prototype,"getAnchorOutgoingEdge",null),Pe([K],t.prototype,"getNodeIncomingNode",null),Pe([K],t.prototype,"getNodeOutgoingNode",null),Pe([K],t.prototype,"setTheme",null),Pe([K],t.prototype,"resize",null),Pe([K],t.prototype,"clearData",null),Pe([K],t.prototype,"translateCenter",null),Pe([K],t.prototype,"fitView",null),Pe([K],t.prototype,"openEdgeAnimation",null),Pe([K],t.prototype,"closeEdgeAnimation",null),Pe([K],t.prototype,"setPartial",null),t}(),$o=function(){return $o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$o.apply(this,arguments)},Ca=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},YT=function(){function t(e){this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}return t.prototype.getStyle=function(){return $o({},this.graphModel.theme.snapline)},t.prototype.getCenterSnapLine=function(e,n){for(var r=e.x,o=e.y,i=!1,a=!1,s=0;s<n.length;s++){var l=n[s];if(l.id!==e.id&&(r===l.x&&(i=!0),o===l.y&&(a=!0),i&&a))break}return{isShowVertical:i,isShowHorizontal:a,position:{x:r,y:o}}},t.prototype.getHorizontalSnapline=function(e,n){var r=!1,o=0,i=e.id,a;if(i){var s=this.graphModel.fakeNode;if(s&&s.id===i)a=Tn(s);else{var l=this.graphModel.getNodeModelById(i);l&&(a=Tn(l))}}for(var u=0;u<n.length;u++){var d=n[u];if(d.id!==e.id){var c=Tn(d);if(c.minY===(a==null?void 0:a.minY)||c.maxY===(a==null?void 0:a.minY)){r=!0,o=a.minY;break}if(c.minY===(a==null?void 0:a.maxY)||c.maxY===(a==null?void 0:a.maxY)){r=!0,o=a.maxY;break}}}return{isShowHorizontal:r,isShowVertical:this.isShowVertical,position:$o($o({},this.position),{y:o})}},t.prototype.getVerticalSnapline=function(e,n){var r=!1,o=0,i=e.id,a;if(i){var s=this.graphModel.fakeNode;if(s&&s.id===i)a=Tn(s);else{var l=this.graphModel.getNodeModelById(i);l&&(a=Tn(l))}}for(var u=0;u<n.length;u++){var d=n[u];if(d.id!==e.id){var c=Tn(d);if(c.minX===(a==null?void 0:a.minX)||c.maxX===(a==null?void 0:a.minX)){r=!0,o=a.minX;break}if(c.minX===(a==null?void 0:a.maxX)||c.maxX===(a==null?void 0:a.maxX)){r=!0,o=a.maxX;break}}}return{isShowHorizontal:this.isShowHorizontal,isShowVertical:r,position:$o($o({},this.position),{x:o})}},t.prototype.getSnapLinePosition=function(e,n){var r=this.getCenterSnapLine(e,n),o=r.isShowHorizontal,i=r.isShowVertical;if(!o){var a=this.getHorizontalSnapline(e,n);a.isShowHorizontal&&(r.isShowHorizontal=a.isShowHorizontal,r.position.y=a.position.y)}if(!i){var s=this.getVerticalSnapline(e,n);s.isShowVertical&&(r.isShowVertical=s.isShowVertical,r.position.x=s.position.x)}return r},t.prototype.setSnaplineInfo=function(e){var n=e.isShowHorizontal,r=e.isShowVertical,o=e.position;this.position=o,this.isShowHorizontal=n,this.isShowVertical=r},t.prototype.clearSnapline=function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1},t.prototype.setNodeSnapLine=function(e){var n=this.graphModel.nodes,r=this.getSnapLinePosition(e,n);this.setSnaplineInfo(r)},Ca([J],t.prototype,"isShowHorizontal",void 0),Ca([J],t.prototype,"isShowVertical",void 0),Ca([J],t.prototype,"position",void 0),Ca([K],t.prototype,"clearSnapline",null),Ca([K],t.prototype,"setNodeSnapLine",null),t}(),ar=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},yi=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},ZT={false:[-1/0,-1/0,1/0,1/0],true:[-1/0,-1/0,1/0,1/0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},KT=function(){function t(e,n){this.MINI_SCALE_SIZE=.2,this.MAX_SCALE_SIZE=16,this.SCALE_X=1,this.SKEW_Y=0,this.SKEW_X=0,this.SCALE_Y=1,this.TRANSLATE_X=0,this.TRANSLATE_Y=0,this.ZOOM_SIZE=.04,this.translateLimitMinX=-1/0,this.translateLimitMinY=-1/0,this.translateLimitMaxX=1/0,this.translateLimitMaxY=1/0,this.eventCenter=e;var r=n.stopMoveGraph,o=r===void 0?!1:r;this.updateTranslateLimits(o)}return t.prototype.setZoomMiniSize=function(e){this.MINI_SCALE_SIZE=e},t.prototype.setZoomMaxSize=function(e){this.MAX_SCALE_SIZE=e},t.prototype.HtmlPointToCanvasPoint=function(e){var n=yi(e,2),r=n[0],o=n[1];return[(r-this.TRANSLATE_X)/this.SCALE_X,(o-this.TRANSLATE_Y)/this.SCALE_Y]},t.prototype.CanvasPointToHtmlPoint=function(e){var n=yi(e,2),r=n[0],o=n[1];return[r*this.SCALE_X+this.TRANSLATE_X,o*this.SCALE_Y+this.TRANSLATE_Y]},t.prototype.moveCanvasPointByHtml=function(e,n,r){var o=yi(e,2),i=o[0],a=o[1];return[i+n/this.SCALE_X,a+r/this.SCALE_Y]},t.prototype.fixDeltaXY=function(e,n){return[e/this.SCALE_X,n/this.SCALE_Y]},t.prototype.getTransformStyle=function(){var e=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(e,")")}},t.prototype.zoom=function(e,n){e===void 0&&(e=!1);var r=this.SCALE_X,o=this.SCALE_Y;return typeof e=="number"?(r=e,o=e):e?(r+=this.ZOOM_SIZE,o+=this.ZOOM_SIZE):(r-=this.ZOOM_SIZE,o-=this.ZOOM_SIZE),r<this.MINI_SCALE_SIZE||r>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(r-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(o-this.SCALE_Y)*n[1]),this.SCALE_X=r,this.SCALE_Y=o,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))},t.prototype.emitGraphTransform=function(e){this.eventCenter.emit(De.GRAPH_TRANSFORM,{type:e,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})},t.prototype.resetZoom=function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")},t.prototype.translate=function(e,n){this.TRANSLATE_X+e<=this.translateLimitMaxX&&this.TRANSLATE_X+e>=this.translateLimitMinX&&(this.TRANSLATE_X+=e),this.TRANSLATE_Y+n<=this.translateLimitMaxY&&this.TRANSLATE_Y+n>=this.translateLimitMinY&&(this.TRANSLATE_Y+=n),this.emitGraphTransform("translate")},t.prototype.focusOn=function(e,n,r,o){var i=yi(this.CanvasPointToHtmlPoint([e,n]),2),a=i[0],s=i[1],l=yi([r/2-a,o/2-s],2),u=l[0],d=l[1];this.TRANSLATE_X+=u,this.TRANSLATE_Y+=d,this.emitGraphTransform("focusOn")},t.prototype.updateTranslateLimits=function(e){var n;n=yi(Array.isArray(e)&&e.length===4?e:ZT[e.toString()],4),this.translateLimitMinX=n[0],this.translateLimitMinY=n[1],this.translateLimitMaxX=n[2],this.translateLimitMaxY=n[3]},ar([J],t.prototype,"SCALE_X",void 0),ar([J],t.prototype,"SKEW_Y",void 0),ar([J],t.prototype,"SKEW_X",void 0),ar([J],t.prototype,"SCALE_Y",void 0),ar([J],t.prototype,"TRANSLATE_X",void 0),ar([J],t.prototype,"TRANSLATE_Y",void 0),ar([J],t.prototype,"ZOOM_SIZE",void 0),ar([K],t.prototype,"zoom",null),ar([K],t.prototype,"resetZoom",null),ar([K],t.prototype,"translate",null),ar([K],t.prototype,"focusOn",null),t}(),qT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),JT=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},QT=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},eP=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},tP=function(t){qT(e,t);function e(){var n=t.apply(this,eP([],QT(arguments),!1))||this;return n.handleResize=function(){var r=n.props,o=r.graphModel,i=r.options,a=o.width,s=o.height,l=o.isContainerWidth,u=o.isContainerHeight,d=a,c=s,f=!1;l&&(d=void 0,f=!0),u&&(c=void 0,f=!0),f&&o.resize(d,c),i.width=a,i.height=s},n.throttleResize=C3(n.handleResize,200),n}return e.prototype.componentDidMount=function(){window.addEventListener("resize",this.throttleResize)},e.prototype.componentDidUpdate=function(){var n=this.props.graphModel.modelToGraphData();this.props.graphModel.eventCenter.emit(De.GRAPH_UPDATED,{data:n})},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.throttleResize)},e.prototype.getComponent=function(n,r,o){o===void 0&&(o="canvas-overlay");var i=this.props.getView,a=i(n.type);return a?Y(a,{model:n,graphModel:r,overlay:o},n.id):null},e.prototype.render=function(){var n=this,r=this.props,o=r.graphModel,i=r.tool,a=r.options,s=r.dnd,l=r.snaplineModel,u={};a.width&&(u.width="".concat(o.width,"px")),a.height&&(u.height="".concat(o.height,"px"));var d=o.fakeNode,c=o.editConfigModel,f=o.background,h=c.adjustEdge;return Y("div",{className:"lf-graph","flow-id":o.flowId,style:u,children:[Y(ST,{graphModel:o,dnd:s,children:[Y("g",{className:"lf-base",children:Vn(o.sortElements,function(v){return n.getComponent(v,o)})}),d?this.getComponent(d,o):""]}),Y(IT,{graphModel:o,children:[Y(jT,{graphModel:o}),h?Y(AT,{graphModel:o}):"",a.snapline!==!1?Y(VT,{snaplineModel:l}):""]}),Y(UT,{graphModel:o,tool:i}),f&&Y(PT,{background:f}),Y(kl,{graphModel:o})]})},e=JT([bn],e),e}(ut),nP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tr=function(){return Tr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Tr.apply(this,arguments)},rP=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},oP=function(t){nP(e,t);function e(){var n=t.call(this)||this;return n.onDragStart=function(r){var o=r.event,i=n.props,a=i.anchorData,s=i.nodeModel,l=i.graphModel;l.selectNodeById(s.id),s.autoToFront&&l.toFront(s.id),l.eventCenter.emit(De.ANCHOR_DRAGSTART,{data:a,e:o,nodeModel:s}),n.setState({startX:a.x,startY:a.y,endX:a.x,endY:a.y})},n.onDragging=function(r){var o=r.event,i=n.props,a=i.graphModel,s=i.nodeModel,l=i.anchorData,u=a.transformModel,d=a.eventCenter,c=a.width,f=a.height,h=a.editConfigModel,v=h.autoExpand,p=h.stopMoveGraph;if(o){var g=o.clientX,m=o.clientY,y=a.getPointByClient({x:g,y:m}),A=y.domOverlayPosition,M=A.x,O=A.y,w=y.canvasOverlayPosition,_=w.x,N=w.y;n.t&&Nl(n.t);var R=[],I=10;M<10?R=[I,0]:M+10>c?R=[-I,0]:O<10?R=[0,I]:O+10>f&&(R=[0,-I]),n.setState({endX:_,endY:N,dragging:!0}),n.moveAnchorEnd(_,N),R.length>0&&!p&&v&&(n.t=tg(function(){var W=rP(R,2),G=W[0],C=W[1];u.translate(G,C);var L=n.state,k=L.endX,B=L.endY;n.setState({endX:k-G,endY:B-C}),n.moveAnchorEnd(k-G,B-C)})),d.emit(De.ANCHOR_DRAG,{data:l,e:o,nodeModel:s})}},n.onDragEnd=function(r){var o=r.event;n.t&&Nl(n.t);var i=n.checkEnd(o);n.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,s=a.graphModel,l=a.nodeModel,u=a.anchorData;s.eventCenter.emit(De.ANCHOR_DRAGEND,{data:u,e:o,nodeModel:l,edgeModel:i??void 0})},n.checkEnd=function(r){var o,i=n.props,a=i.graphModel,s=i.nodeModel,l=i.anchorData,u=l.x,d=l.y,c=l.id,f=n.state,h=f.endX,v=f.endY,p=f.dragging,g=Ol({x:h,y:v},a);if(n.preTargetNode&&n.preTargetNode.state!==gt.DEFAULT&&n.preTargetNode.setElementState(gt.DEFAULT),!!p&&g&&g.node){var m=g.node,y=g.anchor.id,A="".concat(s.id,"_").concat(m.id,"_").concat(y,"_").concat(c),M=n.sourceRuleResults.get(A)||{},O=M.isAllPass,w=M.msg,_=n.targetRuleResults.get(A)||{},N=_.isAllPass,R=_.msg;if(O&&N){m.setElementState(gt.DEFAULT);var I=a.getNodeModelById(g.node.id),W=(o=a.edgeGenerator)===null||o===void 0?void 0:o.call(a,s.getData(),I==null?void 0:I.getData()),G=a.addEdge(Tr(Tr({},W),{sourceNodeId:s.id,sourceAnchorId:c,startPoint:{x:u,y:d},targetNodeId:g.node.id,targetAnchorId:g.anchor.id,endPoint:{x:g.anchor.x,y:g.anchor.y}})),C=n.props.anchorData;return a.eventCenter.emit(De.ANCHOR_DROP,{data:C,e:r,nodeModel:s,edgeModel:G}),G}var L=m.getData();return a.eventCenter.emit(De.CONNECTION_NOT_ALLOWED,{data:L,msg:R||w||"不允许添加连线"}),null}},n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},n.dragHandler=new rr({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return e.prototype.getAnchorShape=function(){var n=this.props,r=n.anchorData,o=n.style,i=n.node,a=i.getAnchorShape(r);if(a)return a;var s=r.x,l=r.y,u=Tr(Tr({},o),o==null?void 0:o.hover);return Y("g",{children:[Y(Wi,Tr({className:"lf-node-anchor-hover"},u,{x:s,y:l})),Y(Wi,Tr({className:"lf-node-anchor"},o,{x:s,y:l}))]})},Object.defineProperty(e.prototype,"customTrajectory",{get:function(){var n=this.props.graphModel.customTrajectory;return n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"relateEdges",{get:function(){var n=this.props,r=n.graphModel,o=r.getAnchorIncomingEdge,i=r.getAnchorOutgoingEdge,a=n.anchorData.id;return{incomingEdgeList:o(a),outgoingEdgeList:i(a)}},enumerable:!1,configurable:!0}),e.prototype.moveAnchorEnd=function(n,r){var o,i,a=this.props,s=a.graphModel,l=a.nodeModel,u=a.anchorData,d=Ol({x:n,y:r},s);if(d){var c=d.node,f=d.anchor.id;if(this.preTargetNode&&this.preTargetNode!==d.node&&this.preTargetNode.setElementState(gt.DEFAULT),u.id===f)return;this.preTargetNode=c;var h="".concat(l.id,"_").concat(c.id,"_").concat(f,"_").concat(u.id);if(!this.targetRuleResults.has(h)){var v=d.anchor,p=l.isAllowConnectedAsSource(c,u,v),g=c.isAllowConnectedAsTarget(l,u,v);this.sourceRuleResults.set(h,Al(p)),this.targetRuleResults.set(h,Al(g))}var m=((o=this.sourceRuleResults.get(h))!==null&&o!==void 0?o:{}).isAllPass,y=((i=this.targetRuleResults.get(h))!==null&&i!==void 0?i:{}).isAllPass;m&&y?c.setElementState(gt.ALLOW_CONNECT):c.setElementState(gt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==gt.DEFAULT&&this.preTargetNode.setElementState(gt.DEFAULT)},e.prototype.isShowLine=function(){var n=this.state,r=n.startX,o=n.startY,i=n.endX,a=n.endY,s=gr(r,o,i,a);return s>10},e.prototype.render=function(){var n=this,r=this.state,o=r.startX,i=r.startY,a=r.endX,s=r.endY,l=this.props,u=l.anchorData.edgeAddable,d=l.edgeStyle;return Y("g",{className:"lf-anchor",children:[Y("g",{onMouseDown:function(c){u!==!1&&n.dragHandler.handleMouseDown(c)},children:this.getAnchorShape()}),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(Tr({sourcePoint:{x:o,y:i},targetPoint:{x:a,y:s}},d)):Y(zi,Tr({x1:o,y1:i,x2:a,y2:s},d,{"pointer-events":"none"})))]})},e}(ut),iP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yu=function(){return yu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},yu.apply(this,arguments)},aP=function(t){iP(e,t);function e(n){var r=t.call(this,n)||this;return r.style={},r.onDragging=function(o){var i,a=o.event,s=r.props,l=s.graphModel,u=s.nodeModel,d=s.eventCenter,c=l.selectNodes,f=u.x,h=u.y,v=a.clientX,p=a.clientY,g=l.getPointByClient({x:v,y:p}).canvasOverlayPosition,m=g.x,y=g.y,A=new un(m-f,y-h),M=((i=r.normal)===null||i===void 0?void 0:i.angle(A))-r.defaultAngle,O=new $0(-f,-h).rotate(M).translate(f,h).toString();u.transform=O,u.rotate=M;var w=Vn(c,function(N){return N.id});w.indexOf(u.id)===-1&&(w=[u.id]);var _=v3(w,function(N,R){var I=l.getNodeModelById(R);return N[R]=I==null?void 0:I.getMoveDistance(0,0,!1),N},{});w.forEach(function(N){var R=l.getNodeEdges(N);R.forEach(function(I){if(_[I.sourceNodeId]){var W=l.getNodeModelById(I.sourceNodeId),G=W.anchors.find(function(C){return C.id===I.sourceAnchorId});I.updateStartPoint(G)}if(_[I.targetNodeId]){var W=l.getNodeModelById(I.targetNodeId),G=W.anchors.find(function(k){return k.id===I.targetAnchorId});I.updateEndPoint(G)}})}),d.emit(De.NODE_ROTATE,{e:a,model:u,data:u.getData()})},r.style=n.style,r.stepperDrag=new rr({onDragging:r.onDragging}),r}return e.prototype.render=function(){var n=this,r=this.props.nodeModel,o=r.x,i=r.y,a=r.width,s=r.height,l=o+a/2+20,u=i-s/2-20;return this.normal=new un(1,0),this.defaultAngle=this.normal.angle(new un(l-o,u-i)),r.defaultAngle=this.defaultAngle,Y("g",{className:"lf-rotate-control",children:Y("g",{onMouseDown:function(d){n.stepperDrag.handleMouseDown(d)},children:Y(Wi,yu({},this.style,{cx:l,cy:u}))})})},e}(ut),sg={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(i=o(i,r(s)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var a="";for(var s in i)e.call(i,s)&&i[s]&&(a=o(a,s));return a}function o(i,a){return a?i?i+" "+a:i+a:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(sg);var sP=sg.exports;const _u=u0(sP);var lP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cu=function(){return Cu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Cu.apply(this,arguments)},uP=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},lg=function(t){lP(e,t);function e(n){var r=t.call(this)||this;r.mouseDownHandler=function(i){var a=r.props,s=a.draggable,l=a.model,u=a.graphModel,d=u.editConfigModel.nodeTextDraggable;(s??d)&&(i.stopPropagation(),r.stepperDrag.model=l,r.stepperDrag.handleMouseDown(i))},r.onDragging=function(i){var a=i.deltaX,s=i.deltaY,l=r.props,u=l.model,d=l.graphModel.transformModel;if(a||s){var c=uP(d.fixDeltaXY(a,s),2),f=c[0],h=c[1];u.moveText(f,h)}},r.dbClickHandler=function(){var i=r.props,a=i.editable,s=i.graphModel.eventCenter,l=i.model;a&&l.setElementState(gt.TEXT_EDIT),s.emit(De.TEXT_DBCLICK,{data:l.text,model:l})};var o=n.draggable;return r.stepperDrag=new rr({onDragging:r.onDragging,step:1,eventType:"TEXT",isStopPropagation:o}),r}return e.prototype.getShape=function(){var n=this.props,r=n.model,o=n.graphModel,i=o.editConfigModel,a=r.text,s=a.value,l=a.x,u=a.y,d=a.editable,c=a.draggable,f={x:l,y:u,className:"",value:s},h=r.getTextStyle(),v=i.nodeTextDraggable||c;return Y(ng,Cu({},f,h,{className:_u({"lf-element-text":d,"lf-text-draggable":!d&&v,"lf-text-disabled":!d&&!v}),model:r}))},e.prototype.render=function(){var n=this.props.model.text;if(n)return Y("g",{onMouseDown:this.mouseDownHandler,onDblClick:this.dbClickHandler,children:this.getShape()})},e}(ut),dP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lr=function(){return lr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},lr.apply(this,arguments)},Ws=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},cP=function(t){dP(e,t);function e(n){var r=t.call(this,n)||this;return r.setHoverOn=function(){r.setState({isHovered:!0})},r.setHoverOff=function(){r.setState({isHovered:!1})},r.state={isHovered:!1},r}return e.prototype.getBackground=function(){var n=this.state.isHovered,r=this.props.model,o=r.text,i=r.getTextStyle(),a=i.background||{};if(n&&i.hover&&i.hover.background&&(a=lr(lr({},a),i.hover.background)),o!=null&&o.value&&(a==null?void 0:a.fill)!=="transparent"){var s=i.fontSize,l=i.textWidth,u=i.lineHeight,d=i.overflowMode,c=a.wrapPadding,f=o==null?void 0:o.value.split(/[\r\n]/g),h=f.length,v=o.x,p=o.y,g={};if(d==="autoWrap"&&l){var m=eg({rows:f,style:{fontSize:"".concat(s,"px"),width:"".concat(l,"px"),lineHeight:u,padding:c},rowsLength:h,className:"lf-get-text-height"});g=lr(lr({},a),{x:v,y:p,width:l,height:m})}else{var y=sN({rows:f,rowsLength:h,fontSize:s}),A=y.width,M=y.height;if(d==="ellipsis"&&(A=l,M=s+2),typeof a.wrapPadding=="string"){var O=a.wrapPadding.split(",").filter(function(te){return te.trim()}).map(function(te){return parseFloat(te.trim())});if(O.length>0&&O.length<=4){if(O.length===1){var w=Ws(O,1),_=w[0];O=[_,_,_,_]}else if(O.length===2){var N=Ws(O,2),R=N[0],I=N[1];O=[R,I,R,I]}else if(O.length===3){var W=Ws(O,3),G=W[0],I=W[1],C=W[2];O=[G,I,C,I]}var L=Ws(O,4),k=L[0],B=L[1],V=L[2],$=L[3];A+=B+$,M+=k+V,v=v+(B-$)/2,p=p+(V-k)/2}}g=lr(lr({},a),{x:v-1,y:p-1,width:A,height:M})}return Y(Zn,lr({},g))}return null},e.prototype.getShape=function(){var n=this.props.model,r=n.text,o=r.x,i=r.y,a=r.value;if(!a)return null;var s=n.getTextStyle(),l=lr({x:o,y:i,value:a,model:n,className:"lf-element-text"},s);return Y("g",{className:"lf-line-text",onMouseEnter:this.setHoverOn,onMouseLeave:this.setHoverOff,children:[this.getBackground(),Y(ng,lr({},l))]})},e}(lg),fP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ll=function(){return Ll=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ll.apply(this,arguments)},hP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Us=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Mo=function(t){fP(e,t);function e(n){var r=t.call(this)||this;r.onDragStart=function(l){var u=l.event,d=r.props,c=d.model,f=d.graphModel;if(u){var h=f.getPointByClient({x:u.clientX,y:u.clientY}).canvasOverlayPosition,v=h.x,p=h.y;r.moveOffset={dx:c.x-v,dy:c.y-p}}},r.onDragging=function(l){var u,d,c,f,h=l.event,v=r.props,p=v.model,g=v.graphModel,m=g.editConfigModel,y=m.stopMoveGraph,A=m.autoExpand,M=m.snapGrid,O=g.transformModel,w=g.selectNodes,_=g.width,N=g.height,R=g.gridSize;p.isDragging=!0;var I=h,W=I.clientX,G=I.clientY,C=g.getPointByClient({x:W,y:G}).canvasOverlayPosition,L=C.x,k=C.y,B=Us(O.CanvasPointToHtmlPoint([L,k]),2),V=B[0],$=B[1];if(L=L+((d=(u=r.moveOffset)===null||u===void 0?void 0:u.dx)!==null&&d!==void 0?d:0),k=k+((f=(c=r.moveOffset)===null||c===void 0?void 0:c.dy)!==null&&f!==void 0?f:0),L=Vi(L,R,M),k=Vi(k,R,M),!_||!N){g.moveNode2Coordinate(p.id,L,k);return}var te=V<0||$<0||V>_||$>N;if(!(A&&!y&&te)){var ne=Us(O.CanvasPointToHtmlPoint([L-p.width/2,k-p.height/2]),2),se=ne[0],me=ne[1],be=Us(O.CanvasPointToHtmlPoint([L+p.width/2,k+p.height/2]),2),ue=be[0],we=be[1],H=Math.max(R,20),Z=[];se<0?Z=[H,0]:ue>g.width?Z=[-H,0]:me<0?Z=[0,H]:we>g.height&&(Z=[0,-H]),r.t&&Nl(r.t),p.transform=new $0(-L,-k).rotate(p.rotate).translate(L,k).toString();var Q=w.map(function(he){return he.id});Q.indexOf(p.id)===-1&&(Q=[p.id]),Z.length>0&&!y&&A?r.t=tg(function(){var he=Us(Z,2),X=he[0],ie=he[1];O.translate(X??0,ie??0);var oe=-(X??0)/O.SCALE_X,Te=-(ie??0)/O.SCALE_X;g.moveNodes(Q,oe,Te)}):g.moveNodes(Q,L-p.x,k-p.y)}},r.onDragEnd=function(){r.t&&Nl(r.t);var l=r.props.model;l.isDragging=!1},r.onMouseOut=function(l){HA()&&r.setHoverOff(l)},r.handleMouseUp=function(){var l=r.props.model;r.mouseUpDrag=l.isDragging},r.handleClick=function(l){var u=r.mouseUpDrag===!1;if(r.startTime){var d=r.props,c=d.model,f=d.graphModel;if(u){var h=c.getData(),v=f.getPointByClient({x:l.clientX,y:l.clientY}),p={data:h,e:l,position:v,isSelected:!1,isMultiple:!1},g=l.button===2,m=l.detail===2;if(!g){var y=f.editConfigModel,A=Jv(l,y);p.isMultiple=A,c.isSelected&&!m&&A?(p.isSelected=!1,c.setSelected(!1)):(f.selectNodeById(c.id,A),p.isSelected=!0,y.isSilentMode||r.toFront()),m?(y.nodeTextEdit&&c.text.editable&&y.textMode===Kn.TEXT&&(c.setSelected(!1),f.setElementStateById(c.id,gt.TEXT_EDIT)),f.eventCenter.emit(De.NODE_DBCLICK,p)):(f.eventCenter.emit(De.ELEMENT_CLICK,p),f.eventCenter.emit(De.NODE_CLICK,p))}}}},r.handleContextMenu=function(l){l.preventDefault();var u=r.props,d=u.model,c=u.graphModel,f=c.editConfigModel,h=d.getData(),v=c.getPointByClient({x:l.clientX,y:l.clientY});c.setElementStateById(d.id,gt.SHOW_MENU,v.domOverlayPosition),d.isSelected||c.selectNodeById(d.id),c.eventCenter.emit(De.NODE_CONTEXTMENU,{data:h,e:l,position:v}),f.isSilentMode||r.toFront()},r.handleMouseDown=function(l){var u=r.props,d=u.model,c=u.graphModel;r.startTime=new Date().getTime();var f=c.editConfigModel;f.adjustNodePosition&&d.draggable&&r.stepDrag&&r.stepDrag.handleMouseDown(l)},r.handleFocus=function(){var l=r.props,u=l.model,d=l.graphModel;d.eventCenter.emit(De.NODE_FOCUS,{data:u.getData()})},r.handleBlur=function(){var l=r.props,u=l.model,d=l.graphModel;d.eventCenter.emit(De.NODE_BLUR,{data:u.getData()})},r.setHoverOn=function(l){var u=r.props,d=u.model,c=u.graphModel;if(!d.isHovered){var f=d.getData();d.setHovered(!0),c.eventCenter.emit(De.NODE_MOUSEENTER,{data:f,e:l})}},r.setHoverOff=function(l){var u=r.props,d=u.model,c=u.graphModel,f=d.getData();d.isHovered&&(d.setHovered(!1),c.eventCenter.emit(De.NODE_MOUSELEAVE,{data:f,e:l}))};var o=n.graphModel,i=o.gridSize,a=o.eventCenter,s=n.model;return r.stepDrag=new rr({onDragStart:r.onDragStart,onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:i,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:s}),r.modelDisposer=Ov(function(){return r.props},function(l){l&&l.model&&r.stepDrag.setModel(l.model)}),r}return e.prototype.componentWillUnmount=function(){this.modelDisposer&&this.modelDisposer(),this.render.$mobx&&this.render.$mobx.dispose()},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getAnchorShape=function(n){return null},e.prototype.getAnchors=function(){var n=this,r=this.props,o=r.model,i=r.graphModel,a=o.isSelected,s=o.isHitable,l=o.isDragging,u=o.isShowAnchor;return s&&(a||u)&&!l?Vn(o.anchors,function(d,c){var f=o.getAnchorLineStyle(d),h=o.getAnchorStyle(d);return Y(oP,{anchorData:d,node:n,style:h,edgeStyle:f,anchorIndex:c,nodeModel:o,graphModel:i,setHoverOff:n.setHoverOff})}):[]},e.prototype.getRotateControl=function(){var n=this.props,r=n.model,o=n.graphModel,i=o.editConfigModel,a=i.isSilentMode,s=i.allowRotate,l=r.isSelected,u=r.isHitable,d=r.rotatable,c=r.isHovered,f=s&&d,h=r.getRotateControlStyle();if(!a&&u&&(l||c)&&f)return Y(aP,{graphModel:o,nodeModel:r,eventCenter:o.eventCenter,style:h})},e.prototype.getResizeControl=function(){var n=this.props,r=n.model,o=n.graphModel,i=o.editConfigModel,a=i.isSilentMode,s=i.allowResize,l=r.isSelected,u=r.isHitable,d=r.resizable,c=r.isHovered,f=s&&d,h=r.getResizeControlStyle();return!a&&u&&(l||c)&&f?Y(RN,{style:h,model:r,graphModel:o}):null},e.prototype.getText=function(){var n,r=this.props,o=r.model,i=r.graphModel,a=i.editConfigModel;if(a.nodeTextMode!==Kn.TEXT||o.state===gt.TEXT_EDIT)return null;if(o.text){var s=!1;return a.nodeTextDraggable&&o.text.draggable&&(s=!0),Y(lg,{editable:a.nodeTextEdit&&((n=o.text.editable)!==null&&n!==void 0?n:!0),model:o,graphModel:i,draggable:s})}return null},e.prototype.getStateClassName=function(){var n=this.props.model,r=n.state,o=n.isDragging,i=n.isSelected,a="lf-node";switch(r){case gt.ALLOW_CONNECT:a+=" lf-node-allow";break;case gt.NOT_ALLOW_CONNECT:a+=" lf-node-not-allow";break;default:a+=" lf-node-default";break}return o&&(a+=" lf-dragging"),i&&(a+=" lf-node-selected"),a},e.prototype.toFront=function(){var n=this.props,r=n.model,o=n.graphModel;r.autoToFront&&o.toFront(r.id)},e.prototype.render=function(){var n=this.props,r=n.model,o=n.graphModel,i=o.editConfigModel,a=i.hideAnchors,s=i.adjustNodePosition,l=i.allowRotate,u=i.allowResize,d=o.gridSize,c=o.transformModel.SCALE_X,f=r.isHitable,h=r.draggable,v=r.transform,p=r.getOuterGAttributes(),g=p.className,m=g===void 0?"":g,y=hP(p,["className"]),A=Y("g",{className:"lf-node-content",children:[Y("g",{transform:v,children:[this.getShape(),this.getText(),l&&this.getRotateControl(),u&&this.getResizeControl()]}),!a&&this.getAnchors()]}),M;return f?(s&&h&&this.stepDrag.setStep(d*c),M=Y("g",Ll({className:"".concat(this.getStateClassName()," ").concat(m),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverOn,onMouseOver:this.setHoverOn,onMouseLeave:this.setHoverOff,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu,onFocus:this.handleFocus,onBlur:this.handleBlur},y,{children:A}))):M=Y("g",Ll({className:"".concat(this.getStateClassName()," ").concat(m)},y,{children:A})),M},e.isObserved=!1,e}(ut),pP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bu=function(){return bu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},bu.apply(this,arguments)},Jo=function(t){pP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle();return Y(Zn,bu({},r,{x:n.x,y:n.y,width:n.width,height:n.height,radius:n.radius}))},e}(Mo),vP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xu=function(){return xu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},xu.apply(this,arguments)},Dl=function(t){vP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.r,a=n.getNodeStyle();return Y(Wi,xu({},a,{x:r,y:o,r:i}))},e}(Mo),gP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rl=function(){return Rl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Rl.apply(this,arguments)},Il=function(t){gP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n,o=r.x,i=r.y,a=r.width,s=r.height,l=r.points,u=n.getNodeStyle(),d={transform:"matrix(1 0 0 1 ".concat(o-a/2," ").concat(i-s/2,")")};return Y("g",Rl({},d,{children:Y(tc,Rl({},u,{points:l,x:o,y:i}))}))},e}(Mo),mP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),wu=function(){return wu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},wu.apply(this,arguments)},Eu=function(t){mP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle();return Y("g",{children:Y(tc,wu({},r,{points:n.points,x:n.x,y:n.y}))})},e}(Mo),yP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Su=function(){return Su=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Su.apply(this,arguments)},Mu=function(t){yP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle();return Y(AN,Su({},r,{x:n.x,y:n.y,rx:n.rx,ry:n.ry}))},e}(Mo),_P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$a=function(){return $a=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$a.apply(this,arguments)},bh=function(t){_P(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getBackground=function(){var n=this.props.model,r=n.getTextStyle(),o=n.width,i=n.height,a=n.x,s=n.y,l=$a($a({},r.background),{x:a,y:s,width:o,height:i});return Y(Zn,$a({},l))},e.prototype.getResizeControl=function(){return null},e.prototype.getShape=function(){return Y("g",{children:this.getBackground()})},e}(Mo),CP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ou=function(){return Ou=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ou.apply(this,arguments)},bP=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},xP=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},as=function(t){CP(e,t);function e(){var n=t.apply(this,xP([],bP(arguments),!1))||this;return n.ref=L0(),n}return Object.defineProperty(e.prototype,"rootEl",{get:function(){return this.ref.current},enumerable:!1,configurable:!0}),e.prototype.setHtml=function(n){n.appendChild(document.createElement("div"))},e.prototype.confirmUpdate=function(n){this.setHtml(n)},e.prototype.shouldUpdate=function(){return this.preProperties&&this.preProperties===this.currentProperties?!1:(this.preProperties=this.currentProperties,!0)},e.prototype.componentDidMount=function(){this.shouldUpdate()&&this.rootEl&&this.setHtml(this.rootEl)},e.prototype.componentDidUpdate=function(){this.shouldUpdate()&&this.rootEl&&this.confirmUpdate(this.rootEl)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.rootEl.innerHTML=""},e.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.height,a=n.width,s=n.getNodeStyle();return this.currentProperties=JSON.stringify(n.properties),Y("foreignObject",Ou({},s,{x:r-a/2,y:o-i/2,width:a,height:i,ref:this.ref}))},e}(Mo),wP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ur=function(){return ur=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ur.apply(this,arguments)},EP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},SP=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},kr;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(kr||(kr={}));var xh=function(t){wP(e,t);function e(n){var r=t.call(this)||this;r.handleMouseDown=function(l){r.stepDrag&&r.stepDrag.handleMouseDown(l)},r.onDragStart=function(){var l=r.props,u=l.x,d=l.y,c=l.edgeModel,f=c.startPoint,h=c.endPoint,v=c.pointsList;r.oldEdge={startPoint:f,endPoint:h,pointsList:v},r.setState({endX:u,endY:d,dragging:!0})},r.onDragging=function(l){var u=l.deltaX,d=l.deltaY,c=r.state,f=c.endX,h=c.endY,v=r.props,p=v.graphModel,g=v.type,m=p.transformModel,y=p.editConfigModel,A=SP(m.moveCanvasPointByHtml([f,h],u,d),2),M=A[0],O=A[1];r.setState({endX:M,endY:O,dragging:!0});var w=r.props.edgeModel,_=Ol({x:f,y:h},p);if(_&&_.node&&r.isAllowAdjust(_).pass){var N=w.startPoint,R=w.endPoint,I=w.sourceNode,W=w.targetNode,G=g===kr.SOURCE?{startPoint:{x:_.anchor.x,y:_.anchor.y},endPoint:{x:R.x,y:R.y},sourceNode:_.node,targetNode:W}:{startPoint:{x:N.x,y:N.y},endPoint:{x:_.anchor.x,y:_.anchor.y},sourceNode:I,targetNode:_.node};w.updateAfterAdjustStartAndEnd(G)}else g===kr.SOURCE?w.updateStartPoint({x:M,y:O}):w.updateEndPoint({x:M,y:O});w.text.value&&y.adjustEdge&&w.setText(Object.assign({},w.text,w.textPosition))},r.onDragEnd=function(l){var u,d,c,f=l.event;try{r.setState({dragging:!1});var h=r.props,v=h.graphModel,p=h.edgeModel,g=h.type,m=r.state,y=m.endX,A=m.endY,M=m.dragging,O=Ol({x:y,y:A},v);if(!M)return;var w=!1,_=void 0;if(O&&O.node){var N=r.isAllowAdjust(O),R=N.pass,I=N.msg,W=N.newTargetNode;if(R){var G=p.getData(),C=G.text,L=G.sourceAnchorId,k=L===void 0?"":L,B=G.targetAnchorId,V=B===void 0?"":B,$=EP(G,["text","sourceAnchorId","targetAnchorId"]);if(_=ur(ur({sourceAnchorId:k,targetAnchorId:V},$),{text:(C==null?void 0:C.value)||""}),g===kr.SOURCE){var te=v.getNodeModelById(O.node.id),ne=v.getNodeModelById(p.targetNodeId),se=(u=v.edgeGenerator)===null||u===void 0?void 0:u.call(v,te==null?void 0:te.getData(),ne==null?void 0:ne.getData(),_);_=ur(ur({},se),{sourceNodeId:O.node.id,sourceAnchorId:O.anchor.id,startPoint:{x:O.anchor.x,y:O.anchor.y},targetNodeId:p.targetNodeId,endPoint:ur({},p.endPoint)}),p.sourceNodeId===O.node.id&&p.sourceAnchorId===O.anchor.id&&(w=!0)}else if(g===kr.TARGET){var te=v.getNodeModelById(p.sourceNodeId),ne=v.getNodeModelById(O.node.id),se=(d=v.edgeGenerator)===null||d===void 0?void 0:d.call(v,te==null?void 0:te.getData(),ne==null?void 0:ne.getData(),_);_=ur(ur({},se),{sourceNodeId:p.sourceNodeId,startPoint:ur({},p.startPoint),targetNodeId:O.node.id,targetAnchorId:O.anchor.id,endPoint:{x:O.anchor.x,y:O.anchor.y}}),p.targetNodeId===O.node.id&&p.targetAnchorId===O.anchor.id&&(w=!0)}}else{w=!0;var me=W.getData();v.eventCenter.emit(De.CONNECTION_NOT_ALLOWED,{data:me,msg:I})}}else w=!0;if(w)r.recoveryEdge();else{var be=p.getData();v.deleteEdgeById(p.id);var ue=v.addEdge(ur({},_));v.eventCenter.emit(De.EDGE_EXCHANGE_NODE,{data:{newEdge:ue.getData(),oldEdge:be}})}(c=r.preTargetNode)===null||c===void 0||c.setElementState(gt.DEFAULT)}finally{var v=r.props.graphModel;v.eventCenter.emit(De.ADJUST_POINT_DRAGEND,{e:f,data:r.stepDragData})}},r.recoveryEdge=function(){var l=r.props.edgeModel,u=r.oldEdge,d=u.startPoint,c=u.endPoint,f=u.pointsList;l.updateStartPoint(d),l.updateEndPoint(c),l.modelType!==et.LINE_EDGE&&(l.pointsList=f??[],l.initPoints())},r.getAdjustPointStyle=function(){var l=r.props.graphModel.theme,u=l.edgeAdjust;return u},r.state={dragging:!1,endX:0,endY:0},r.targetRuleResults=new Map,r.sourceRuleResults=new Map;var o=n.type,i=n.edgeModel,a=n.graphModel,s=a.eventCenter;return r.stepDragData={type:o,edgeData:i.getData()},r.stepDrag=new rr({onDragStart:r.onDragStart,onDragging:r.onDragging,onDragEnd:r.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:s,data:r.stepDragData}),r}return e.prototype.isAllowAdjust=function(n){var r=this.props,o=r.edgeModel,i=o.id,a=o.sourceNode,s=o.targetNode,l=o.sourceAnchorId,u=o.targetAnchorId,d=r.type,c,f,h,v;if(d===kr.SOURCE?(c=n.node,f=s,h=n.anchor,v=s.getAnchorInfo(u)):(c=a,f=n.node,v=n.anchor,h=a.getAnchorInfo(l)),this.preTargetNode&&this.preTargetNode!==n.node&&this.preTargetNode.setElementState(gt.DEFAULT),this.preTargetNode=n.node,v.id===h.id)return{pass:!1,msg:"",newTargetNode:f};var p="".concat(c.id,"_").concat(f.id,"_").concat(h.id,"_").concat(v.id);if(!this.targetRuleResults.has(p)){var g=c.isAllowConnectedAsSource(f,h,v,i),m=f.isAllowConnectedAsTarget(c,h,v,i);this.sourceRuleResults.set(p,Al(g)),this.targetRuleResults.set(p,Al(m))}var y=this.sourceRuleResults.get(p),A=y.isAllPass,M=y.msg,O=this.targetRuleResults.get(p),w=O.isAllPass,_=O.msg,N=A&&w?gt.ALLOW_CONNECT:gt.NOT_ALLOW_CONNECT;return d===kr.SOURCE?c.setElementState(N):f.setElementState(N),{pass:A&&w,msg:_||M,newTargetNode:f}},e.prototype.render=function(){var n=this.props,r=n.x,o=n.y,i=n.getAdjustPointShape,a=n.edgeModel,s=this.state.dragging;return Y("g",{pointerEvents:s?"none":"",onMouseDown:this.handleMouseDown,children:s?"":i(r,o,a)})},e}(ut),MP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Au=function(){return Au=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Au.apply(this,arguments)};(function(t){MP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getArrowAttributes=function(){var n=this.props,r=n.arrowInfo,o=n.style,i=r.start,a=r.end,s={start:i,end:a,offset:o.offset,verticalLength:o.verticalLength,type:"end"},l=Qa(s),u=l.leftX,d=l.leftY,c=l.rightX,f=l.rightY;return Au({d:"M".concat(u," ").concat(d," L").concat(a.x," ").concat(a.y," L").concat(c," ").concat(f," z")},o)},e.prototype.getShape=function(){var n=this.getArrowAttributes(),r=n.d,o=n.strokeWidth,i=n.stroke,a=n.fill;return Y(ns,{d:r,fill:a,strokeWidth:o,stroke:i})},e.prototype.render=function(){return Y("g",{className:"lf-arrow",children:this.getShape()})},e})(ut);var OP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fa=function(){return Fa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Fa.apply(this,arguments)},AP=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},V0=function(t){OP(e,t);function e(){var n=t.call(this)||this;return n.textRef=L0(),n.handleHover=function(r,o){var i=n.props,a=i.model,s=i.graphModel.eventCenter;a.setHovered(r);var l=r?De.EDGE_MOUSEENTER:De.EDGE_MOUSELEAVE,u=a.getData();s.emit(l,{data:u,e:o})},n.setHoverOn=function(r){var o=n.props.model.isHovered;o||(n.textRef&&n.textRef.current&&n.textRef.current.setHoverOn(),n.handleHover(!0,r))},n.setHoverOff=function(r){var o=n.props.model.isHovered;o&&(n.textRef&&n.textRef.current&&n.textRef.current.setHoverOff(),n.handleHover(!1,r))},n.handleContextMenu=function(r){r.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var o=n.props,i=o.model,a=o.graphModel,s=a.editConfigModel,l=a.getPointByClient({x:r.clientX,y:r.clientY});a.setElementStateById(i.id,gt.SHOW_MENU,l.domOverlayPosition),s.isSilentMode||n.toFront(),i.isSelected||a.selectEdgeById(i.id);var u=i==null?void 0:i.getData();a.eventCenter.emit(De.EDGE_CONTEXTMENU,{data:u,e:r,position:l})},n.handleMouseDown=function(r){r.stopPropagation(),n.startTime=new Date().getTime()},n.handleMouseUp=function(){var r=n.props.model;n.mouseUpDrag=r.isDragging},n.handleClick=function(r){if(n.startTime&&!n.mouseUpDrag){var o=r.button===2;if(!o){var i=r.detail===2,a=n.props,s=a.model,l=a.graphModel,u=s==null?void 0:s.getData(),d=l.getPointByClient({x:r.clientX,y:r.clientY});if(i){var c=l.editConfigModel,f=l.textEditElement,h=s.id,v=s.text,p=s.modelType;if(f&&f.id===h&&l.setElementStateById(h,gt.DEFAULT),c.edgeTextEdit&&v.editable&&(s.setSelected(!1),l.setElementStateById(h,gt.TEXT_EDIT)),p===et.POLYLINE_EDGE){var g=s,m=l.getPointByClient({x:r.x,y:r.y}).canvasOverlayPosition,y=m.x,A=m.y;g.dbClickPosition=qv({x:y,y:A},g.points)}l.eventCenter.emit(De.EDGE_DBCLICK,{data:u,e:r,position:d})}else l.eventCenter.emit(De.ELEMENT_CLICK,{data:u,e:r,position:d}),l.eventCenter.emit(De.EDGE_CLICK,{data:u,e:r,position:d});var M=l.editConfigModel;l.selectEdgeById(s.id,Jv(r,M)),M.isSilentMode||n.toFront()}}},n.handleFocus=function(){var r=n.props,o=r.model,i=r.graphModel;i.eventCenter.emit(De.EDGE_FOCUS,{data:o.getData()})},n.handleBlur=function(){var r=n.props,o=r.model,i=r.graphModel;i.eventCenter.emit(De.EDGE_BLUR,{data:o.getData()})},n}return e.prototype.getShape=function(){return Y("g",{children:this.getEdge()})},e.prototype.getTextStyle=function(){},e.prototype.getText=function(){var n,r=this.props,o=r.model,i=r.graphModel,a=i.editConfigModel;if(a.edgeTextMode!==Kn.TEXT||o.state===gt.TEXT_EDIT)return null;if(o.text){var s=!1;return a.edgeTextDraggable&&o.text.draggable&&(s=!0),Y(cP,{ref:this.textRef,editable:a.edgeTextEdit&&((n=o.text.editable)!==null&&n!==void 0?n:!0),model:o,graphModel:i,draggable:s})}return null},e.prototype.getArrowInfo=function(){var n=this.props.model,r=n.startPoint,o=n.endPoint,i=n.isSelected,a=this.state.hover;return{start:r,end:o,hover:a,isSelected:i}},e.prototype.getLastTwoPoints=function(){var n=this.props.model,r=n.startPoint,o=n.endPoint;return[r,o]},e.prototype.getArrowStyle=function(){return console.error("getArrowStyle is deprecated in 1.2.0, please use model.getArrowStyle"),null},e.prototype.getArrow=function(){var n=this.props.model,r=n.id,o=n.getArrowStyle(),i=o.refY,a=i===void 0?0:i,s=o.refX,l=s===void 0?2:s,u=AP(this.getLastTwoPoints(),2),d=u[0],c=u[1],f="auto";return d!==null&&c!==null&&(f=qN(KN({x:c.x-d.x,y:c.y-d.y,z:0}))),Y("g",{children:Y("defs",{children:[Y("marker",{id:"marker-start-".concat(r),refX:-l,refY:a,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse",children:this.getStartArrow()}),Y("marker",{id:"marker-end-".concat(r),refX:l,refY:a,overflow:"visible",orient:f,markerUnits:"userSpaceOnUse",children:this.getEndArrow()})]})})},e.prototype.getStartArrow=function(){return Y("path",{})},e.prototype.getEndArrow=function(){var n=this.props.model,r=n.getArrowStyle(),o=r.stroke,i=r.strokeWidth,a=r.offset,s=r.verticalLength;return Y("path",{stroke:o,fill:o,strokeWidth:i,transform:"rotate(180)",d:"M 0 0 L ".concat(a," -").concat(s," L ").concat(a," ").concat(s," Z")})},e.prototype.getAdjustPointShape=function(n,r,o){var i=o.getAdjustPointStyle();return Y(Wi,Fa({className:"lf-edge-adjust-point"},i,{x:n,y:r}))},e.prototype.getAdjustPoints=function(){var n=this.props,r=n.model,o=n.graphModel,i=o.editConfigModel,a=i.adjustEdgeStartAndEnd,s=i.adjustEdgeStart,l=i.adjustEdgeEnd,u=r.getAdjustStart(),d=r.getAdjustEnd();return Y("g",{children:[a&&s&&Y(xh,Fa({type:kr.SOURCE},u,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:r,graphModel:o})),a&&l&&Y(xh,Fa({type:kr.TARGET},d,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:r,graphModel:o}))]})},e.prototype.getAnimation=function(){console.error("getAnimation is deprecated in 1.2.0, please use model.getEdgeAnimationStyle")},e.prototype.getAppendWidth=function(){return Y("g",{})},e.prototype.getAppend=function(){return Y("g",{className:"lf-edge-append",children:this.getAppendWidth()})},e.prototype.getEdge=function(){return null},e.prototype.toFront=function(){var n=this.props,r=n.graphModel,o=n.model;r.toFront(o.id)},e.prototype.render=function(){var n=this.props.model,r=n.isSelected,o=n.isHitable,i=n.isShowAdjustPoint;return Y("g",{children:[Y("g",{className:["lf-edge",!o&&"pointer-none",r&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverOn,onMouseEnter:this.setHoverOn,onMouseLeave:this.setHoverOff,onFocus:this.handleFocus,onBlur:this.handleBlur,children:[this.getShape(),this.getAppend(),this.getText(),this.getArrow()]}),i&&r?this.getAdjustPoints():""]})},e.isObserved=!1,e}(ut),NP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nu=function(){return Nu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Nu.apply(this,arguments)},TP=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},wh=function(t){NP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEdge=function(){var n=this.props.model,r=n.getEdgeStyle(),o=n,i=o.path,a=o.isAnimation,s=o.arrowConfig,l=n.getEdgeAnimationStyle(),u=l.strokeDasharray,d=l.stroke,c=l.strokeDashoffset,f=l.animationName,h=l.animationDuration,v=l.animationIterationCount,p=l.animationTimingFunction,g=l.animationDirection;return Y(ns,Nu({d:i},r,s,a?{strokeDasharray:u,stroke:d,style:{strokeDashoffset:c,animationName:f,animationDuration:h,animationIterationCount:v,animationTimingFunction:p,animationDirection:g}}:{}))},e.prototype.getAppendWidth=function(){var n=this.props.model.path;return Y(ns,{d:n,strokeWidth:10,stroke:"transparent",fill:"none"})},e.prototype.getArrowInfo=function(){var n=this.props.model,r=this.state.hover,o=n.isSelected,i=n.getArrowStyle().offset,a=n.pointsList.map(function(c){return{x:c.x,y:c.y}}),s=TP(rh(a,i),2),l=s[0],u=s[1],d={start:l,end:u,hover:r,isSelected:o};return d},e.prototype.getLastTwoPoints=function(){var n=this.props.model,r=n.getArrowStyle().offset,o=n.pointsList.map(function(i){return{x:i.x,y:i.y}});return rh(o,r)},e}(V0),PP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tu=function(){return Tu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Tu.apply(this,arguments)},Eh=function(t){PP(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEdge=function(){var n=this.props.model,r=n.startPoint,o=n.endPoint,i=n.isAnimation,a=n.arrowConfig,s=n.getEdgeStyle(),l=n.getEdgeAnimationStyle(),u=l.strokeDasharray,d=l.stroke,c=l.strokeDashoffset,f=l.animationName,h=l.animationDuration,v=l.animationIterationCount,p=l.animationTimingFunction,g=l.animationDirection;return Y(zi,Tu({},s,{x1:r.x,y1:r.y,x2:o.x,y2:o.y},a,i?{strokeDasharray:u,stroke:d,style:{strokeDashoffset:c,animationName:f,animationDuration:h,animationIterationCount:v,animationTimingFunction:p,animationDirection:g}}:{}))},e.prototype.getAppendWidth=function(){var n=this.props.model,r=n.startPoint,o=n.endPoint,i={start:r,end:o},a=oN(i),s=a.d,l=a.strokeWidth,u=a.fill,d=a.strokeDasharray,c=a.stroke;return Y(ns,{d:s,fill:u,strokeWidth:l,stroke:c,strokeDasharray:d})},e}(V0),kP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fo=function(){return Fo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Fo.apply(this,arguments)},LP=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Xi=function(t){kP(e,t);function e(){var n=t.call(this)||this;return n.onDragStart=function(){var r=n.props.model;r.dragAppendStart(),n.isShowAdjustPointTemp=r.isShowAdjustPoint,r.isShowAdjustPoint=!1},n.onDragging=function(r){var o=r.deltaX,i=r.deltaY,a=n.props,s=a.model,l=a.graphModel;n.isDragging=!0;var u=l.transformModel,d=l.editConfigModel,c=LP(u.fixDeltaXY(o,i),2),f=c[0],h=c[1],v=s,p=d.adjustEdgeMiddle;p?n.appendInfo=v.dragAppendSimple(n.appendInfo,{x:f,y:h}):n.appendInfo=v.dragAppend(n.appendInfo,{x:f,y:h})},n.onDragEnd=function(){var r,o=n.props,i=o.model,a=o.graphModel.eventCenter,s=i;s.dragAppendEnd(),n.isDragging=!1,s.isShowAdjustPoint=(r=n.isShowAdjustPointTemp)!==null&&r!==void 0?r:!1,n.appendInfo=void 0,a.emit(De.EDGE_ADJUST,{data:s.getData()})},n.beforeDragStart=function(r,o){o.draggable&&n.drag.handleMouseDown(r),n.appendInfo=o},n.drag=new rr({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return e.prototype.getEdge=function(){var n=this.props.model,r=n.points,o=n.isAnimation,i=n.arrowConfig,a=n.getEdgeStyle(),s=n.getEdgeAnimationStyle(),l=s.strokeDasharray,u=s.stroke,d=s.strokeDashoffset,c=s.animationName,f=s.animationDuration,h=s.animationIterationCount,v=s.animationTimingFunction,p=s.animationDirection;return Y(PN,Fo({points:r},a,i,o?{strokeDasharray:l,stroke:u,style:{strokeDashoffset:d,animationName:c,animationDuration:f,animationIterationCount:h,animationTimingFunction:v,animationDirection:p}}:{}))},e.prototype.getArrowInfo=function(){var n=this.props.model,r=n.points,o=n.isSelected,i=this.state.hover,a=qo(r),s=a[0],l=a[0];return a.length>=2&&(s=a[a.length-2],l=a[a.length-1]),{start:s,end:l,hover:i,isSelected:o}},e.prototype.getLastTwoPoints=function(){var n=this.props.model,r=n.points,o=qo(r),i=o[0],a=o[0];return o.length>=2&&(i=o[o.length-2],a=o[o.length-1]),[i,a]},e.prototype.getAppendAttributes=function(n){var r=n.start,o=n.end,i;if(r.x===o.x&&r.y===o.y)i="";else{var a={start:r,end:o,offset:10,verticalLength:5},s=Qa(Fo(Fo({},a),{type:"start"})),l=Qa(Fo(Fo({},a),{type:"end"}));i="M".concat(s.leftX," ").concat(s.leftY,`
      L`).concat(s.rightX," ").concat(s.rightY,`
      L`).concat(l.rightX," ").concat(l.rightY,`
      L`).concat(l.leftX," ").concat(l.leftY," z")}return{d:i,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},e.prototype.getAppendShape=function(n){var r=this.getAppendAttributes(n),o=r.d,i=r.strokeWidth,a=r.fill,s=r.strokeDasharray,l=r.stroke;return Y(ns,{d:o,fill:a,strokeWidth:i,stroke:l,strokeDasharray:s})},e.prototype.getAppendWidth=function(){for(var n=this,r=this.props,o=r.model,i=r.graphModel,a=o.pointsList,s=o.draggable,l=[],u=a.length,d=function(h){var v="lf-polyline-append",p={start:{x:a[h].x,y:a[h].y},end:{x:a[h+1].x,y:a[h+1].y},startIndex:h,endIndex:h+1,direction:Bt.HORIZONTAL,draggable:!0},g=Y("g",{className:v,children:c.getAppendShape(p)}),m=i.editConfigModel,y=m.adjustEdge,A=m.adjustEdgeMiddle;if(y&&s){var M=p.startIndex,O=p.endIndex,w=A&&(M===0||O===u-1);p.draggable=!w,p.start.x===p.end.x?(p.draggable&&(v+="-ew-resize"),p.direction=Bt.VERTICAL):p.start.y===p.end.y&&(p.draggable&&(v+="-ns-resize"),p.direction=Bt.HORIZONTAL),g=Y("g",{className:c.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(_){return n.beforeDragStart(_,p)},children:Y("g",{className:v,children:c.getAppendShape(p)})})}l.push(g)},c=this,f=0;f<u-1;f++)d(f);return Y("g",{children:l})},e}(V0),Oi=function(){return Oi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Oi.apply(this,arguments)},DP=function(){function t(e){var n=this;this.nodeConfig=null,this.fakeNode=null,this.stopDrag=function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)},this.dragEnter=function(o){!n.nodeConfig||n.fakeNode||(n.fakeNode=n.lf.createFakeNode(Oi(Oi({},n.nodeConfig),n.clientToLocalPoint({x:o.clientX,y:o.clientY}))))},this.onDragOver=function(o){if(o.preventDefault(),n.fakeNode){var i=n.clientToLocalPoint({x:o.clientX,y:o.clientY}),a=i.x,s=i.y;n.fakeNode.moveTo(a,s);var l=n.fakeNode.getData();n.lf.setNodeSnapLine(l),n.lf.graphModel.eventCenter.emit(De.NODE_DND_DRAG,{data:l,e:o})}return!1},this.onDragLeave=function(){n.fakeNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakeNode(),n.fakeNode=null)},this.onDrop=function(o){!n.lf.graphModel||!o||!n.nodeConfig||(n.lf.addNode(Oi(Oi({},n.nodeConfig),n.clientToLocalPoint({x:o.clientX,y:o.clientY})),De.NODE_DND_ADD,o),o.preventDefault(),o.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakeNode(),n.fakeNode=null)};var r=e.lf;this.lf=r}return t.prototype.clientToLocalPoint=function(e){var n=e.x,r=e.y,o=fs(this.lf.options,["grid","size"]),i=this.lf.graphModel.getPointByClient({x:n,y:r}),a=i.canvasOverlayPosition,s=a.x,l=a.y,u=this.lf.graphModel.editConfigModel.snapGrid;return{x:Vi(s,o,u),y:Vi(l,o,u)}},t.prototype.startDrag=function(e){var n=this.lf.graphModel.editConfigModel;n!=null&&n.isSilentMode||(this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag))},t.prototype.eventMap=function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}},t}();function RP(t,e){t.on("node:mousemove",function(n){var r=n.data;e.setNodeSnapLine(r)}),t.on("node:mouseup",function(){e.clearSnapline()})}var IP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gr=function(){return Gr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Gr.apply(this,arguments)},HP=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},BP=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},jP=function(t){IP(e,t);function e(n){var r=t.call(this,n)||this;return r.ref=L0(),r.__prevText={type:"",text:"",id:""},r.keyupHandler=function(o){var i=r.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&(i==null||i.setElementState(gt.DEFAULT))},r.inputHandler=function(o){var i=o.target.innerText,a=r.props.graphModel.textEditElement;a&&(r.__prevText={type:a.type,text:i.replace(/(\r\n)+$|(\n)+$/,""),id:a.id})},r.keydownHandler=function(o){o.stopPropagation()},r.state={style:{left:0,top:0}},r}return e.getDerivedStateFromProps=function(n){var r,o=n.textEditElement,i=n.graphModel,a=i.transformModel,s=i.theme,l=s.inputText,u;if(o){if(!(!((r=o.text)===null||r===void 0)&&r.value)&&o.BaseType===$t.EDGE){var d=o.text,c=o.textPosition,f=c.x,h=c.y;d.x=f,d.y=h,o.setText(d)}var v={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(o.BaseType===$t.EDGE){var p=s.edgeText,g=p.overflowMode,m=p.lineHeight,y=p.wrapPadding,A=p.textWidth;A&&g==="autoWrap"&&(u=Gr(Gr({},v),{width:A,minWidth:A,lineHeight:m,padding:y}))}else if(o.BaseType===$t.NODE){var M=s.nodeText,g=M.overflowMode,m=M.lineHeight,y=M.wrapPadding,A=M.textWidth,O=o.width,w=o.modelType,_=o.textWidth,N=_||A||O;(w!==et.TEXT_NODE&&g==="autoWrap"||w===et.TEXT_NODE&&A)&&(u=Gr(Gr({},v),{width:N,minWidth:N,lineHeight:m,padding:y}))}var R=o.text,I=R.x,W=R.y,G=BP(a.CanvasPointToHtmlPoint([I,W]),2),C=G[0],L=G[1];return{style:Gr(Gr({left:C,top:L},u),l)}}return null},e.prototype.componentDidUpdate=function(){var n=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var r=this.__prevText,o=r.text,i=r.id;n.updateText(i,o),n.eventCenter.emit(De.TEXT_UPDATE,{data:Gr({},this.__prevText)}),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}},e.prototype.placeCaretAtEnd=function(n){if(window.getSelection!==void 0&&document.createRange!==void 0){var r=document.createRange();r.selectNodeContents(n),r.collapse(!1);var o=window.getSelection();o==null||o.removeAllRanges(),o==null||o.addRange(r)}},e.prototype.render=function(){var n,r=this.props.graphModel.textEditElement,o=this.state.style;return r?Y("div",{contentEditable:!0,className:"lf-text-input",style:o,ref:this.ref,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler,children:(n=r.text)===null||n===void 0?void 0:n.value},r.id):null},e.toolName="text-edit-tool",e=HP([bn],e),e}(ut),$P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),FP=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},_2=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},VP=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},zP=function(t){$P(e,t);function e(n){var r=t.call(this,n)||this;r.handleMouseDown=function(s){r.stepDrag.handleMouseDown(s)},r.handleWheelEvent=function(s){var l,u;s.preventDefault();var d=s.deltaX,c=s.deltaY,f=s.clientX,h=s.clientY,v=s.ctrlKey,p=new WheelEvent("wheel",{deltaX:d,deltaY:c,clientX:f,clientY:h,ctrlKey:v});(u=(l=r.props.lf.container)===null||l===void 0?void 0:l.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||u===void 0||u.dispatchEvent(p)},r.onDragging=function(s){var l=s.deltaX,u=s.deltaY,d=r.props,c=d.graphModel,f=d.lf,h=f.getTransform(),v=h.SCALE_X,p=h.SCALE_Y,g=c.getSelectElements(!0);c.moveNodes(g.nodes.map(function(m){return m.id}),l/v,u/p)},r.handleContextMenu=function(s){s.preventDefault();var l=r.props,u=l.graphModel,d=l.graphModel,c=d.eventCenter,f=d.selectElements,h=u.getPointByClient({x:s.clientX,y:s.clientY}),v={nodes:[],edges:[]},p=VP([],_2(f.values()),!1);p.forEach(function(g){g.BaseType===$t.NODE&&v.nodes.push(g.getData()),g.BaseType===$t.EDGE&&v.edges.push(g.getData())}),c.emit(De.SELECTION_CONTEXTMENU,{data:v,e:s,position:h})};var o=n.graphModel,i=o.gridSize,a=o.eventCenter;return r.stepDrag=new rr({onDragging:r.onDragging,step:i,eventType:"SELECTION",eventCenter:a}),r}return e.prototype.render=function(){var n,r,o=this.props.graphModel,i=o.selectElements,a=o.transformModel,s=this.props.lf.getTransform(),l=s.SCALE_X,u=s.SCALE_Y;if(!(i.size<=1)){var d=Number.MAX_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;i.forEach(function(p){var g;p.BaseType===$t.NODE&&(g=FA(p)),p.BaseType===$t.EDGE&&(g=UA(p)),g!==void 0&&(d=Math.min(d,g.x),c=Math.min(c,g.y),f=Math.max(f,g.x1),h=Math.max(h,g.y1))}),n=_2(a.CanvasPointToHtmlPoint([d,c]),2),d=n[0],c=n[1],r=_2(a.CanvasPointToHtmlPoint([f,h]),2),f=r[0],h=r[1];var v={left:"".concat(d-20*l/2,"px"),top:"".concat(c-20*u/2,"px"),width:"".concat(f-d+20*l,"px"),height:"".concat(h-c+20*u,"px"),"border-width":"".concat(2*l,"px")};return Y("div",{className:"lf-multiple-select",style:v,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}},e.toolName="multiple-select-tool",e=FP([bn],e),e}(ut),C2=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},WP=[jP,zP],UP=function(){function t(e){var n=this;this.toolMap=new Map,this.disabledToolMap=new Map,this.instance=e,Ct(WP,function(i){n.isDisabled(i.toolName)||n.registerTool(i.toolName,i)});var r=e.graphModel,o=r.eventCenter;o.on("".concat(De.GRAPH_TRANSFORM,",").concat(De.NODE_CLICK,",").concat(De.BLANK_CLICK," "),function(){var i,a=r.textEditElement,s=r.editConfigModel,l=s.edgeTextEdit,u=s.nodeTextEdit;(l||u)&&a&&((i=r.textEditElement)===null||i===void 0||i.setElementState(gt.DEFAULT))})}return t.prototype.isDisabled=function(e){var n;return((n=this.instance.options.disabledTools)===null||n===void 0?void 0:n.indexOf(e))!==-1},t.prototype.registerTool=function(e,n){this.toolMap.set(e,n)},t.prototype.disableTool=function(e){var n=this.toolMap.get(e);if(n)return this.disabledToolMap.set(e,n),this.toolMap.delete(e),!0;throw new Error("禁用失败，不存在名为 ${tool} 的工具")},t.prototype.enableTool=function(e){var n=this.disabledToolMap.get(e);if(n)return this.toolMap.set(e,n),this.disabledToolMap.delete(e),!0;throw new Error("不存在名为 ${tool} 的工具")},t.prototype.getTools=function(){return Array.from(this.toolMap.values())},t.prototype.getInstance=function(){return this.instance},t.prototype.destroy=function(){this.toolMap.clear(),this.disabledToolMap.clear()},C2([J],t.prototype,"toolMap",void 0),C2([K],t.prototype,"disableTool",null),C2([K],t.prototype,"enableTool",null),t}();function GP(t){throw new Error("[mobx-utils] "+t)}function Hl(t,e){e===void 0&&(e="Illegal state"),t||GP(e)}var ug=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(ug(Object.getPrototypeOf(t))||[])},XP=function(t){var e=ug(t),n=e.filter(function(r,o){return e.indexOf(r)===o});return n},YP=function(t){return XP(t).filter(function(e){return e!=="constructor"&&!~e.indexOf("__")})},dg="pending",Bl="fulfilled",rc="rejected";function ZP(t){switch(this.state){case dg:return t.pending&&t.pending(this.value);case rc:return t.rejected&&t.rejected(this.value);case Bl:return t.fulfilled?t.fulfilled(this.value):this.value}}function Sh(t,e){if(Hl(arguments.length<=2,"fromPromise expects up to two arguments"),Hl(typeof t=="function"||typeof t=="object"&&t&&typeof t.then=="function","Please pass a promise or function to fromPromise"),t.isPromiseBasedObservable===!0)return t;typeof t=="function"&&(t=new Promise(t));var n=t;t.then(K("observableFromPromise-resolve",function(o){n.value=o,n.state=Bl}),K("observableFromPromise-reject",function(o){n.value=o,n.state=rc})),n.isPromiseBasedObservable=!0,n.case=ZP;var r=e&&e.state===Bl?e.value:void 0;return eu(n,{value:r,state:dg},{},{deep:!1}),n}(function(t){t.reject=K("fromPromise.reject",function(n){var r=t(Promise.reject(n));return r.state=rc,r.value=n,r});function e(n){n===void 0&&(n=void 0);var r=t(Promise.resolve(n));return r.state=Bl,r.value=n,r}t.resolve=K("fromPromise.resolve",e)})(Sh||(Sh={}));var Gs=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i};(function(){function t(e,n){var r=this;RO(function(){r.current=n,r.subscription=e.subscribe(r)})}return t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(e){this.current=e},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(e){this.current=e,this.dispose()},Gs([J.ref],t.prototype,"current",void 0),Gs([K.bound],t.prototype,"next",null),Gs([K.bound],t.prototype,"complete",null),Gs([K.bound],t.prototype,"error",null),t})();var jl=function(){return jl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},jl.apply(this,arguments)},ba=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},KP=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function t(e){var n=this;this.model=e,this.localValues=J.map({}),this.localComputedValues=J.map({}),this.isPropertyDirty=function(r){return n.localValues.has(r)},Hl(er(e),"createViewModel expects an observable object"),YP(e).forEach(function(r){if(!(r===Ue||r==="__mobxDidRunLazyInitializers")){if(Hl(KP.indexOf(r)===-1,"The propertyname "+r+" is reserved and cannot be used with viewModels"),pf(e,r)){var o=Es(e,r).derivation;n.localComputedValues.set(r,kt(o.bind(n)))}var i=Object.getOwnPropertyDescriptor(e,r),a=i?{enumerable:i.enumerable}:{};Object.defineProperty(n,r,jl(jl({},a),{configurable:!0,get:function(){return pf(e,r)?n.localComputedValues.get(r).get():n.isPropertyDirty(r)?n.localValues.get(r):n.model[r]},set:K(function(s){s!==n.model[r]?n.localValues.set(r,s):n.localValues.delete(r)})}))}})}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var e=this;Fi(this.localValues).forEach(function(n){var r=e.localValues.get(n),o=e.model[n];Fr(o)?o.replace(r):In(o)?(o.clear(),o.merge(r)):VO(r)||(e.model[n]=r)}),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(e){this.localValues.delete(e)},ba([kt],t.prototype,"isDirty",null),ba([kt],t.prototype,"changedValues",null),ba([K.bound],t.prototype,"submit",null),ba([K.bound],t.prototype,"reset",null),ba([K.bound],t.prototype,"resetProperty",null),t})();function b2(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function x2(t){return er(t)||Fr(t)||In(t)}function qP(t,e){var n=new WeakMap;function r(s){var l=n.get(s.object);o(s,l),e(s,b2(l),t)}function o(s,l){switch(s.type){case"add":i(s.newValue,l,s.name);break;case"update":a(s.oldValue),i(s.newValue,l,s.name||""+s.index);break;case"remove":case"delete":a(s.oldValue);break;case"splice":s.removed.map(a),s.added.forEach(function(c,f){return i(c,l,""+(s.index+f))});for(var u=s.index+s.addedCount;u<s.object.length;u++)if(x2(s.object[u])){var d=n.get(s.object[u]);d&&(d.path=""+u)}break}}function i(s,l,u){if(x2(s)){var d=n.get(s);if(d){if(d.parent!==l||d.path!==u)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+b2(l)+"/"+u+"',")+(" but it already exists at '"+b2(d.parent)+"/"+d.path+"'"))}else{var c={parent:l,path:u,dispose:Dv(s,r)};n.set(s,c),UO(s).forEach(function(f){var h=f[0],v=f[1];return i(v,c,h)})}}}function a(s){if(x2(s)){var l=n.get(s);if(!l)return;n.delete(s),l.dispose(),WO(s).forEach(a)}}return i(t,void 0,""),function(){a(t)}}var JP=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){JP(e,t);function e(n,r,o){var i=o===void 0?{}:o,a=i.name,s=a===void 0?"ogm"+(Math.random()*1e3|0):a,l=i.keyToName,u=l===void 0?function(f){return""+f}:l,d=t.call(this)||this;d._keyToName=u,d._groupBy=r,d._ogmInfoKey=Symbol("ogmInfo"+s),d._base=n;for(var c=0;c<n.length;c++)d._addItem(n[c]);return d._disposeBaseObserver=Dv(d._base,function(f){if(f.type==="splice")hr(function(){for(var h=0,v=f.removed;h<v.length;h++){var p=v[h];d._removeItem(p)}for(var g=0,m=f.added;g<m.length;g++){var y=m[g];d._addItem(y)}});else if(f.type==="update")hr(function(){d._removeItem(f.oldValue),d._addItem(f.newValue)});else throw new Error("illegal state")}),d}return e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(n){throw new Error("not supported")},e.prototype.set=function(n,r){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var n=0;n<this._base.length;n++){var r=this._base[n],o=r[this._ogmInfoKey];o.reaction(),delete r[this._ogmInfoKey]}},e.prototype._getGroupArr=function(n){var r=t.prototype.get.call(this,n);return r===void 0&&(r=J([],{name:"GroupArray["+this._keyToName(n)+"]",deep:!1}),t.prototype.set.call(this,n,r)),r},e.prototype._removeFromGroupArr=function(n,r){var o=t.prototype.get.call(this,n);o.length===1?t.prototype.delete.call(this,n):(r===o.length-1||(o[r]=o[o.length-1],o[r][this._ogmInfoKey].groupArrIndex=r),o.length--)},e.prototype._addItem=function(n){var r=this,o=this._groupBy(n),i=this._getGroupArr(o),a={groupByValue:o,groupArrIndex:i.length,reaction:Ov(function(){return r._groupBy(n)},function(s,l){var u=n[r._ogmInfoKey];r._removeFromGroupArr(u.groupByValue,u.groupArrIndex);var d=r._getGroupArr(s),c=d.length;d.push(n),u.groupByValue=s,u.groupArrIndex=c})};Object.defineProperty(n,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:a}),i.push(n)},e.prototype._removeItem=function(n){var r=n[this._ogmInfoKey];this._removeFromGroupArr(r.groupByValue,r.groupArrIndex),r.reaction(),delete n[this._ogmInfoKey]},e})(Zd);Promise.resolve(),typeof queueMicrotask<"u"||typeof process<"u"&&process.nextTick;var Pu=function(){return Pu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Pu.apply(this,arguments)},QP=function(){function t(e){this.undos=[],this.redos=[],this.callbacks=[],this.stopWatch=null,this.curData=null,this.maxSize=50,this.waitTime=100,this.eventCenter=e}return t.prototype.add=function(e){k2(Fn(this.undos),e)||(this.undos.push(e),k2(this.curData,e)||(this.redos=[]),this.eventCenter.emit(De.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undoAble(),redoAble:this.redoAble()}}),this.undos.length>this.maxSize&&this.undos.shift())},t.prototype.undoAble=function(){return this.undos.length>1},t.prototype.undo=function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var n=this.undos.pop();return this.curData=Ke(n),n}},t.prototype.redoAble=function(){return this.redos.length>0},t.prototype.redo=function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=Ke(e),e}},t.prototype.watch=function(e){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=qP(e,p0(function(){var r=e.modelToHistoryData();r&&n.add(Pu({},r))},this.waitTime))},t.prototype.destroy=function(){this.undos=[],this.redos=[],this.curData=null,this.stopWatch&&this.stopWatch()},t}(),cg={exports:{}};(function(t){(function(e,n,r){if(!e)return;for(var o={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},s={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,u=1;u<20;++u)o[111+u]="f"+u;for(u=0;u<=9;++u)o[u+96]=u.toString();function d(_,N,R){if(_.addEventListener){_.addEventListener(N,R,!1);return}_.attachEvent("on"+N,R)}function c(_){if(_.type=="keypress"){var N=String.fromCharCode(_.which);return _.shiftKey||(N=N.toLowerCase()),N}return o[_.which]?o[_.which]:i[_.which]?i[_.which]:String.fromCharCode(_.which).toLowerCase()}function f(_,N){return _.sort().join(",")===N.sort().join(",")}function h(_){var N=[];return _.shiftKey&&N.push("shift"),_.altKey&&N.push("alt"),_.ctrlKey&&N.push("ctrl"),_.metaKey&&N.push("meta"),N}function v(_){if(_.preventDefault){_.preventDefault();return}_.returnValue=!1}function p(_){if(_.stopPropagation){_.stopPropagation();return}_.cancelBubble=!0}function g(_){return _=="shift"||_=="ctrl"||_=="alt"||_=="meta"}function m(){if(!l){l={};for(var _ in o)_>95&&_<112||o.hasOwnProperty(_)&&(l[o[_]]=_)}return l}function y(_,N,R){return R||(R=m()[_]?"keydown":"keypress"),R=="keypress"&&N.length&&(R="keydown"),R}function A(_){return _==="+"?["+"]:(_=_.replace(/\+{2}/g,"+plus"),_.split("+"))}function M(_,N){var R,I,W,G=[];for(R=A(_),W=0;W<R.length;++W)I=R[W],s[I]&&(I=s[I]),N&&N!="keypress"&&a[I]&&(I=a[I],G.push("shift")),g(I)&&G.push(I);return N=y(I,G,N),{key:I,modifiers:G,action:N}}function O(_,N){return _===null||_===n?!1:_===N?!0:O(_.parentNode,N)}function w(_){var N=this;if(_=_||n,!(N instanceof w))return new w(_);N.target=_,N._callbacks={},N._directMap={};var R={},I,W=!1,G=!1,C=!1;function L(se){se=se||{};var me=!1,be;for(be in R){if(se[be]){me=!0;continue}R[be]=0}me||(C=!1)}function k(se,me,be,ue,we,H){var Z,Q,he=[],X=be.type;if(!N._callbacks[se])return[];for(X=="keyup"&&g(se)&&(me=[se]),Z=0;Z<N._callbacks[se].length;++Z)if(Q=N._callbacks[se][Z],!(!ue&&Q.seq&&R[Q.seq]!=Q.level)&&X==Q.action&&(X=="keypress"&&!be.metaKey&&!be.ctrlKey||f(me,Q.modifiers))){var ie=!ue&&Q.combo==we,oe=ue&&Q.seq==ue&&Q.level==H;(ie||oe)&&N._callbacks[se].splice(Z,1),he.push(Q)}return he}function B(se,me,be,ue){N.stopCallback(me,me.target||me.srcElement,be,ue)||se(me,be)===!1&&(v(me),p(me))}N._handleKey=function(se,me,be){var ue=k(se,me,be),we,H={},Z=0,Q=!1;for(we=0;we<ue.length;++we)ue[we].seq&&(Z=Math.max(Z,ue[we].level));for(we=0;we<ue.length;++we){if(ue[we].seq){if(ue[we].level!=Z)continue;Q=!0,H[ue[we].seq]=1,B(ue[we].callback,be,ue[we].combo,ue[we].seq);continue}Q||B(ue[we].callback,be,ue[we].combo)}var he=be.type=="keypress"&&G;be.type==C&&!g(se)&&!he&&L(H),G=Q&&be.type=="keydown"};function V(se){typeof se.which!="number"&&(se.which=se.keyCode);var me=c(se);if(me){if(se.type=="keyup"&&W===me){W=!1;return}N.handleKey(me,h(se),se)}}function $(){clearTimeout(I),I=setTimeout(L,1e3)}function te(se,me,be,ue){R[se]=0;function we(X){return function(){C=X,++R[se],$()}}function H(X){B(be,X,se),ue!=="keyup"&&(W=c(X)),setTimeout(L,10)}for(var Z=0;Z<me.length;++Z){var Q=Z+1===me.length,he=Q?H:we(ue||M(me[Z+1]).action);ne(me[Z],he,ue,se,Z)}}function ne(se,me,be,ue,we){N._directMap[se+":"+be]=me,se=se.replace(/\s+/g," ");var H=se.split(" "),Z;if(H.length>1){te(se,H,me,be);return}Z=M(se,be),N._callbacks[Z.key]=N._callbacks[Z.key]||[],k(Z.key,Z.modifiers,{type:Z.action},ue,se,we),N._callbacks[Z.key][ue?"unshift":"push"]({callback:me,modifiers:Z.modifiers,action:Z.action,seq:ue,level:we,combo:se})}N._bindMultiple=function(se,me,be){for(var ue=0;ue<se.length;++ue)ne(se[ue],me,be)},d(_,"keypress",V),d(_,"keydown",V),d(_,"keyup",V)}w.prototype.bind=function(_,N,R){var I=this;return _=_ instanceof Array?_:[_],I._bindMultiple.call(I,_,N,R),I},w.prototype.unbind=function(_,N){var R=this;return R.bind.call(R,_,function(){},N)},w.prototype.trigger=function(_,N){var R=this;return R._directMap[_+":"+N]&&R._directMap[_+":"+N]({},_),R},w.prototype.reset=function(){var _=this;return _._callbacks={},_._directMap={},_},w.prototype.stopCallback=function(_,N){var R=this;if((" "+N.className+" ").indexOf(" mousetrap ")>-1||O(N,R.target))return!1;if("composedPath"in _&&typeof _.composedPath=="function"){var I=_.composedPath()[0];I!==_.target&&(N=I)}return N.tagName=="INPUT"||N.tagName=="SELECT"||N.tagName=="TEXTAREA"||N.isContentEditable},w.prototype.handleKey=function(){var _=this;return _._handleKey.apply(_,arguments)},w.addKeycodes=function(_){for(var N in _)_.hasOwnProperty(N)&&(o[N]=_[N]);l=null},w.init=function(){var _=w(n);for(var N in _)N.charAt(0)!=="_"&&(w[N]=function(R){return function(){return _[R].apply(_,arguments)}}(N))},w.init(),e.Mousetrap=w,t.exports&&(t.exports=w),typeof r=="function"&&r.amd&&r(function(){return w})})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(cg);var ek=cg.exports;const tk=u0(ek);var Ar=null;function Mh(t,e){return t.x+=e,t.y+=e,Fu(t.text)||(t.text.x+=e,t.text.y+=e),t}function Oh(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),Fu(t.text)||(t.text.x+=e,t.text.y+=e),t}var _i=40,Xs=40;function nk(t,e){var n=t.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],function(){if(Xs=_i,!(r!=null&&r.enabled)||e.textEditElement)return!0;var o=t.options.guards,i=e.getSelectElements(!1),a=o&&o.beforeClone?o.beforeClone(i):!0;return!a||i.nodes.length===0&&i.edges.length===0?(Ar=null,!0):(Ar=i,Ar.nodes.forEach(function(s){return Mh(s,_i)}),Ar.edges.forEach(function(s){return Oh(s,_i)}),!1)}),n.on(["cmd + v","ctrl + v"],function(){if(!(r!=null&&r.enabled)||e.textEditElement)return!0;if(Ar&&(Ar.nodes||Ar.edges)){t.clearSelectElements();var o=t.addElements(Ar,Xs);if(!o)return!0;o.nodes.forEach(function(i){return t.selectElementById(i.id,!0)}),o.edges.forEach(function(i){return t.selectElementById(i.id,!0)}),Ar.nodes.forEach(function(i){return Mh(i,_i)}),Ar.edges.forEach(function(i){return Oh(i,_i)}),Xs=Xs+_i}return!1}),n.on(["cmd + z","ctrl + z"],function(){return!(r!=null&&r.enabled)||e.textEditElement?!0:(t.undo(),!1)}),n.on(["cmd + y","ctrl + y"],function(){return!(r!=null&&r.enabled)||e.textEditElement?!0:(t.redo(),!1)}),n.on(["backspace"],function(){if(!(r!=null&&r.enabled)||e.textEditElement)return!0;var o=e.getSelectElements(!0);return t.clearSelectElements(),o.edges.forEach(function(i){return i.id&&t.deleteEdge(i.id)}),o.nodes.forEach(function(i){return i.id&&t.deleteNode(i.id)}),!1})}var rk=function(){function t(e){e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var n=e.lf;this.target=n.container,this.mousetrap=new tk(this.target),e.keyboard.enabled&&!n.options.isSilentMode&&this.enable(!0)}return t.prototype.initShortcuts=function(){var e=this,n,r=((n=this.options.keyboard)!==null&&n!==void 0?n:{}).shortcuts;if(r)if(xt(r))r.forEach(function(s){var l=s.keys,u=s.callback,d=s.action;return e.on(l,u,d)});else{var o=r.keys,i=r.callback,a=r.action;this.on(o,i,a)}},t.prototype.on=function(e,n,r){this.mousetrap.bind(this.getKeys(e),n,r)},Object.defineProperty(t.prototype,"disabled",{get:function(){var e,n;return((n=(e=this.options)===null||e===void 0?void 0:e.keyboard)===null||n===void 0?void 0:n.enabled)!==!0},enumerable:!1,configurable:!0}),t.prototype.off=function(e,n){this.mousetrap.unbind(this.getKeys(e),n)},t.prototype.enable=function(e){(this.disabled||e)&&(this.options.keyboard&&(this.options.keyboard.enabled=!0),this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))},t.prototype.disable=function(){this.disabled||(this.options.keyboard&&(this.options.keyboard.enabled=!1),this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))},t.prototype.destroy=function(){this.mousetrap.reset()},t.prototype.getKeys=function(e){var n=this;return(Array.isArray(e)?e:[e]).map(function(r){return n.formatKey(r)})},t.prototype.formatKey=function(e){return e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")},t}(),ao=function(){return ao=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ao.apply(this,arguments)},Ys=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},w2=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},E2=Symbol("plugin registered by Logicflow.use"),ku=function(){function t(e){var n=this,r;this.viewMap=new Map,this.components=[],this.extension={},this.setView=function(u,d){return n.viewMap.set(u,d)},this.getView=function(u){return n.viewMap.get(u)};var o=qa.get(e),i=o.container,a=o.width,s=o.height;this.options=o,this.container=this.initContainer(i,a,s),this.graphModel=new XT(ao(ao({},o),{container:this.container})),this.plugins=(r=o.plugins)!==null&&r!==void 0?r:[];var l=this.graphModel.eventCenter;this.tool=new UP(this),this.dnd=new DP({lf:this}),this.history=new QP(l),this.keyboard=new rk({lf:this,keyboard:o.keyboard}),o.snapline!==!1&&(this.snaplineModel=new YT(this.graphModel),RP(l,this.snaplineModel)),o.isSilentMode||(nk(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(o.disabledPlugins)}return t.prototype.initContainer=function(e,n,r){var o=document.createElement("div");return o.style.position="relative",o.style.width=n?"".concat(n,"px"):"100%",o.style.height=r?"".concat(r,"px"):"100%",e.innerHTML="",e.appendChild(o),o},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return t.toStringTag},enumerable:!1,configurable:!0}),t.prototype.register=function(e,n,r){if(r===void 0&&(r=!0),typeof e!="string"){this.registerElement(e);return}var o={BaseEdge:V0,BaseEdgeModel:F0,BaseNode:Mo,BaseNodeModel:So,RectNode:Jo,RectNodeModel:Gi,CircleNode:Dl,CircleNodeModel:Tl,PolygonNode:Il,PolygonNodeModel:Pl,TextNode:bh,TextNodeModel:_h,LineEdge:Eh,LineEdgeModel:vh,DiamondNode:Eu,DiamondNodeModel:vu,PolylineEdge:Xi,PolylineEdgeModel:Ui,BezierEdge:wh,BezierEdgeModel:hh,EllipseNode:Mu,EllipseNodeModel:gu,HtmlNode:as,HtmlNodeModel:os,h:Oe,type:e};if(this.viewMap.forEach(function(u){var d=u.extendKey;d&&(o[d]=u)}),this.graphModel.modelMap.forEach(function(u){var d=u.extendKey;d&&(o[d]=u)}),n){var i=n(o),a=i.view,s=i.model,l=a;r&&!l.isObserved&&(l.isObserved=!0,l=bn(l)),this.setView(e,l),this.graphModel.setModel(e,s)}},t.prototype.registerElement=function(e){var n=e.view;e.isObserverView!==!1&&!n.isObserved&&(n.isObserved=!0,n=bn(n)),this.setView(e.type,n),this.graphModel.setModel(e.type,e.model)},t.prototype.batchRegister=function(e){var n=this;e===void 0&&(e=[]),Ct(e,function(r){n.registerElement(r)})},t.prototype.defaultRegister=function(){var e=[{type:"rect",view:Jo,model:Gi},{type:"circle",view:Dl,model:Tl},{type:"polygon",view:Il,model:Pl},{type:"text",view:bh,model:_h},{type:"ellipse",view:Mu,model:gu},{type:"diamond",view:Eu,model:vu},{type:"html",view:as,model:os},{type:"line",view:Eh,model:vh},{type:"polyline",view:Xi,model:Ui},{type:"bezier",view:wh,model:hh}];this.batchRegister(e)},t.prototype.addNode=function(e,n,r){return n===void 0&&(n=De.NODE_ADD),this.graphModel.addNode(e,n,r)},t.prototype.deleteNode=function(e){var n=this.graphModel.getNodeModelById(e);if(!n)return!1;var r=n.getData(),o=this.options.guards,i=o!=null&&o.beforeDelete?o.beforeDelete(r):!0;return i&&this.graphModel.deleteNode(e),i},t.prototype.cloneNode=function(e){var n=this.graphModel.getNodeModelById(e),r=n==null?void 0:n.getData();if(r){var o=this.options.guards,i=o!=null&&o.beforeClone?o.beforeClone(r):!0;if(i)return this.graphModel.cloneNode(e)}},t.prototype.changeNodeId=function(e,n){return this.graphModel.changeNodeId(e,n)},t.prototype.changeNodeType=function(e,n){this.graphModel.changeNodeType(e,n)},t.prototype.getNodeModelById=function(e){return this.graphModel.getNodeModelById(e)},t.prototype.getNodeDataById=function(e){var n=this.getNodeModelById(e);return n==null?void 0:n.getData()},t.prototype.getNodeIncomingEdge=function(e){return this.graphModel.getNodeIncomingEdge(e)},t.prototype.getNodeOutgoingEdge=function(e){return this.graphModel.getNodeOutgoingEdge(e)},t.prototype.getNodeIncomingNode=function(e){return this.graphModel.getNodeIncomingNode(e)},t.prototype.getNodeOutgoingNode=function(e){return this.graphModel.getNodeOutgoingNode(e)},t.prototype.createFakeNode=function(e){var n=this.graphModel.modelMap.get(e.type);if(!n)return console.warn("不存在为".concat(e.type,"类型的节点")),null;var r=new n(ao(ao({},e),{virtual:!0}),this.graphModel);return this.graphModel.setFakeNode(r),r},t.prototype.removeFakeNode=function(){this.graphModel.removeFakeNode()},t.prototype.setNodeSnapLine=function(e){var n;(n=this.snaplineModel)===null||n===void 0||n.setNodeSnapLine(e)},t.prototype.removeNodeSnapLine=function(){var e;(e=this.snaplineModel)===null||e===void 0||e.clearSnapline()},t.prototype.setDefaultEdgeType=function(e){this.graphModel.setDefaultEdgeType(e)},t.prototype.addEdge=function(e){return this.graphModel.addEdge(e)},t.prototype.getEdgeDataById=function(e){var n=this.getEdgeModelById(e);return n==null?void 0:n.getData()},t.prototype.getEdgeModelById=function(e){return this.graphModel.getEdgeModelById(e)},t.prototype.getEdgeModels=function(e){var n=e.sourceNodeId,r=e.targetNodeId,o=[],i=this.graphModel.edges;return n&&r?Ct(i,function(a){a.sourceNodeId===n&&a.targetNodeId===r&&o.push(a)}):n?Ct(i,function(a){a.sourceNodeId===n&&o.push(a)}):r&&Ct(i,function(a){a.targetNodeId===r&&o.push(a)}),o},t.prototype.changeEdgeId=function(e,n){return this.graphModel.changeEdgeId(e,n)},t.prototype.changeEdgeType=function(e,n){this.graphModel.changeEdgeType(e,n)},t.prototype.deleteEdge=function(e){var n=this.graphModel.getEdgeModelById(e);if(!n)return!1;var r=n.getData(),o=this.options.guards,i=o!=null&&o.beforeDelete?o.beforeDelete(r):!0;return i&&this.graphModel.deleteEdgeById(e),i},t.prototype.deleteEdgeByNodeId=function(e){var n=e.sourceNodeId,r=e.targetNodeId;n&&r?this.graphModel.deleteEdgeBySourceAndTarget(n,r):n?this.graphModel.deleteEdgeBySource(n):r&&this.graphModel.deleteEdgeByTarget(r)},t.prototype.getNodeEdges=function(e){return this.graphModel.getNodeEdges(e)},t.prototype.addElements=function(e,n){var r=this,o=e.nodes,i=e.edges;n===void 0&&(n=40);var a={},s={nodes:[],edges:[]};return Ct(o,function(l){var u=l.id,d=r.addNode(l);u&&(a[u]=d.id),s.nodes.push(d)}),Ct(i,function(l){var u=l.sourceNodeId,d=l.targetNodeId;a[u]&&(u=a[u]),a[d]&&(d=a[d]);var c=r.graphModel.addEdge(ao(ao({},l),{sourceNodeId:u,targetNodeId:d}));s.edges.push(c)}),s},t.prototype.selectElementById=function(e,n,r){n===void 0&&(n=!1),r===void 0&&(r=!0),this.graphModel.selectElementById(e,n),!n&&r&&this.graphModel.toFront(e)},t.prototype.getSelectElements=function(e){return e===void 0&&(e=!0),this.graphModel.getSelectElements(e)},t.prototype.clearSelectElements=function(){this.graphModel.clearSelectElements()},t.prototype.getModelById=function(e){return this.graphModel.getElement(e)},t.prototype.getDataById=function(e){var n;return(n=this.graphModel.getElement(e))===null||n===void 0?void 0:n.getData()},t.prototype.deleteElement=function(e){var n,r,o,i=this.getModelById(e);if(!i)return!1;var a=(n={},n[$t.NODE]=this.deleteNode,n[$t.EDGE]=this.deleteEdge,n);return(o=(r=a[i.BaseType])===null||r===void 0?void 0:r.call(this,e))!==null&&o!==void 0?o:!1},t.prototype.setElementZIndex=function(e,n){return this.graphModel.setElementZIndex(e,n)},t.prototype.getAreaElement=function(e,n,r,o,i){return r===void 0&&(r=!0),o===void 0&&(o=!0),i===void 0&&(i=!1),this.graphModel.getAreaElement(e,n,r,o,i).map(function(a){return a.getData()})},t.prototype.setProperties=function(e,n){var r;(r=this.graphModel.getElement(e))===null||r===void 0||r.setProperties(pn(n))},t.prototype.getProperties=function(e){var n;return(n=this.graphModel.getElement(e))===null||n===void 0?void 0:n.getProperties()},t.prototype.deleteProperty=function(e,n){var r;(r=this.graphModel.getElement(e))===null||r===void 0||r.deleteProperty(n)},t.prototype.updateAttributes=function(e,n){this.graphModel.updateAttributes(e,n)},t.prototype.editText=function(e){this.graphModel.editText(e)},t.prototype.updateText=function(e,n){this.graphModel.updateText(e,n)},t.prototype.updateEditConfig=function(e){var n=this.graphModel,r=n.editConfigModel,o=n.transformModel,i=r.snapGrid;if(r.updateEditConfig(e),(e==null?void 0:e.stopMoveGraph)!==void 0&&o.updateTranslateLimits(e.stopMoveGraph),e!=null&&e.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0),!_n(e==null?void 0:e.snapGrid)&&e.snapGrid!==i){var a=this.graphModel.grid.size,s=a===void 0?1:a;this.graphModel.updateGridSize(e.snapGrid?s:1)}},t.prototype.getEditConfig=function(){return this.graphModel.editConfigModel.getConfig()},t.prototype.setTheme=function(e){this.graphModel.setTheme(e)},t.prototype.focusByElement=function(e){var n=void 0,r=this.getNodeModelById(e);if(r){var o=r.getData(),i=o.x,a=o.y;n={x:i,y:a}}var s=this.getEdgeModelById(e);if(s){var l=s.textPosition,i=l.x,a=l.y;n={x:i,y:a}}n&&this.focusByCoordinate(n)},t.prototype.focusByCoordinate=function(e){var n=this.graphModel,r=n.transformModel,o=n.width,i=n.height,a=e.x,s=e.y;r.focusOn(a,s,o,i)},t.prototype.focusOn=function(e){if(typeof e=="string")this.focusByElement(e);else if("x"in e&&"y"in e)this.focusByCoordinate(e);else{var n=e.id,r=e.coordinate;n&&this.focusByElement(n),r&&this.focusByCoordinate(r)}},t.prototype.resize=function(e,n){this.graphModel.resize(e,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height},t.prototype.toFront=function(e){this.graphModel.toFront(e)},t.prototype.getPointByClient=function(e,n){if(typeof e=="object")return this.graphModel.getPointByClient(e);if(typeof n=="number")return this.graphModel.getPointByClient({x:e,y:n})},t.prototype.getGraphData=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this.getGraphRawData();return this.adapterOut?this.adapterOut.apply(this,w2([r],Ys(e),!1)):r},t.prototype.getGraphRawData=function(){return this.graphModel.modelToGraphData()},t.prototype.clearData=function(){this.graphModel.clearData(),this.render({})},t.prototype.renderRawData=function(e){this.graphModel.graphDataToModel(pn(e)),this.options.history!==!1&&this.history.watch(this.graphModel),Ff(Y(tP,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(De.GRAPH_RENDERED,{data:this.graphModel.modelToGraphData(),graphModel:this.graphModel})},t.prototype.render=function(e){var n=Ke(e);this.adapterIn&&(n=this.adapterIn(n)),this.renderRawData(n)},t.prototype.undo=function(){if(this.history.undoAble()){var e=pn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}},t.prototype.redo=function(){if(this.history.redoAble()){var e=pn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}},t.prototype.zoom=function(e,n){var r=this.graphModel.transformModel;return r.zoom(e,n)},t.prototype.resetZoom=function(){var e=this.graphModel.transformModel;e.resetZoom()},t.prototype.setZoomMiniSize=function(e){var n=this.graphModel.transformModel;n.setZoomMiniSize(e)},t.prototype.setZoomMaxSize=function(e){var n=this.graphModel.transformModel;n.setZoomMaxSize(e)},t.prototype.getTransform=function(){var e=this.graphModel.transformModel,n=e.SCALE_X,r=e.SCALE_Y,o=e.TRANSLATE_X,i=e.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:r,TRANSLATE_X:o,TRANSLATE_Y:i}},t.prototype.translate=function(e,n){var r=this.graphModel.transformModel;r.translate(e,n)},t.prototype.resetTranslate=function(){var e=this.graphModel.transformModel,n=e.TRANSLATE_X,r=e.TRANSLATE_Y;this.translate(-n,-r)},t.prototype.translateCenter=function(){this.graphModel.translateCenter()},t.prototype.fitView=function(e,n){n===void 0&&(n=e),this.graphModel.fitView(e,n)},t.prototype.openEdgeAnimation=function(e){this.graphModel.openEdgeAnimation(e)},t.prototype.closeEdgeAnimation=function(e){this.graphModel.closeEdgeAnimation(e)},t.prototype.on=function(e,n){this.graphModel.eventCenter.on(e,n)},t.prototype.off=function(e,n){this.graphModel.eventCenter.off(e,n)},t.prototype.once=function(e,n){this.graphModel.eventCenter.once(e,n)},t.prototype.emit=function(e,n){this.graphModel.eventCenter.emit(e,n)},t.use=function(e,n){var r,o=e.pluginName;if(!o)throw new Error("请给插件指定 pluginName!");this.extensions.set(o,(r={},r[E2]=E2,r.extension=e,r.props=n,r))},t.prototype.installPlugins=function(e){var n=this;e===void 0&&(e=[]);var r=Array.from(t.extensions,function(i){var a=Ys(i,2),s=a[1];return s}),o=w2(w2([],Ys(this.plugins),!1),Ys(r),!1);Ct(o,function(i){var a,s;E2 in i?(a=i.extension,s=i.props):a=i;var l=a==null?void 0:a.pluginName;Gp(e,l)===-1&&n.installPlugin(a,s)})},t.prototype.installPlugin=function(e,n){var r,o;if("pluginName"in e&&"install"in e){var i=e.pluginName,a=e.install,s=e.render;i&&(a&&a.call(e,this,t),s&&this.components.push(s.bind(e)),this.extension[i]=e);return}var l=e,u=l.pluginName,d=new l({lf:this,LogicFlow:t,props:n,options:(o=(r=this.options.pluginsOptions)===null||r===void 0?void 0:r[u])!==null&&o!==void 0?o:{}});d.render&&this.components.push(d.render.bind(d)),this.extension[u]=d},t.prototype.destroy=function(){this.clearData(),Ff(null,this.container),this.keyboard.destroy(),this.graphModel.destroy(),this.tool.destroy(),this.history.destroy()},t.extensions=new Map,t}();(function(t){t.toStringTag="LF.".concat(t.name)})(ku||(ku={}));const ok=ku;function bn(t){return Jd(t)}var Ah={width:40,height:40},Nh={width:40,height:40},Th={width:40,height:40},Ph={width:100,height:80},kh={width:100,height:80},ik=function(){function t(){globalThis._ids=this,this._ids=new Set}return t.prototype.generateId=function(){return"xxxxxxx".replace(/[x]/g,function(e){var n=Math.random()*16|0,r=e==="x"?n:n&3|8;return r.toString(16)})},t.prototype.next=function(){for(var e=this.generateId();this._ids.has(e);)e=this.generateId();return this._ids.add(e),e},t}(),ak=(globalThis==null?void 0:globalThis._ids)||new ik;function ca(){return ak.next()}var fg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){fg(e,t);function e(n,r){return n.id||(n.id="Event_".concat(ca())),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),t.call(this,n,r)||this}return e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedTargetRules=function(){var n=t.prototype.getConnectedTargetRules.call(this),r={message:"起始节点不能作为边的终点",validate:function(){return!1}};return n.push(r),n},e.extendKey="StartEventModel",e})(Tl);(function(t){fg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.extendKey="StartEventNode",e})(Dl);var hg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$l=function(){return $l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$l.apply(this,arguments)};(function(t){hg(e,t);function e(n,r){return n.id||(n.id="Event_".concat(ca())),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),t.call(this,n,r)||this}return e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedSourceRules=function(){var n=t.prototype.getConnectedSourceRules.call(this),r={message:"结束节点不能作为边的起点",validate:function(){return!1}};return n.push(r),n},e.extendKey="EndEventModel",e})(Tl);(function(t){hg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var n=this.props.model,r=n.getNodeStyle(),o=n,i=o.x,a=o.y,s=o.r,l=t.prototype.getShape.call(this);return Oe("g",{},l,Oe("circle",$l($l({},r),{cx:i,cy:a,r:s-5})))},e.extendKey="EndEventView",e})(Dl);var pg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){pg(e,t);function e(n,r){return n.id||(n.id="Flow_".concat(ca())),t.call(this,n,r)||this}return e.extendKey="SequenceFlowModel",e})(Ui);(function(t){pg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.extendKey="SequenceFlowEdge",e})(Xi);var vg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Va=function(){return Va=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Va.apply(this,arguments)};(function(t){vg(e,t);function e(n,r){var o=this;return n.id||(n.id="Gateway_".concat(ca())),n.text||(n.text=""),n.text&&typeof n.text=="string"&&(n.text={value:n.text,x:n.x,y:n.y+40}),o=t.call(this,n,r)||this,o.points=[[25,0],[50,25],[25,50],[0,25]],o}return e.extendKey="ExclusiveGatewayModel",e})(Pl);(function(t){vg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getShape=function(){var n=this.props.model,r=n,o=r.x,i=r.y,a=r.width,s=r.height,l=r.points,u=n.getNodeStyle();return Oe("g",{transform:"matrix(1 0 0 1 ".concat(o-a/2," ").concat(i-s/2,")")},Oe("polygon",Va(Va({},u),{x:o,y:i,points:l})),Oe("path",Va({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},u)))},e.extendKey="ExclusiveGatewayNode",e})(Il);var gg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lu=function(){return Lu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Lu.apply(this,arguments)};(function(t){gg(e,t);function e(n,r){return n.id||(n.id="Activity_".concat(ca())),t.call(this,n,r)||this}return e.extendKey="ServiceTaskModel",e})(Gi);(function(t){gg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getNodeStyle();return Oe("svg",{x:r-i/2+5,y:o-a/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Oe("path",{fill:s.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},e.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.radius,l=n.getNodeStyle();return Oe("g",{},[Oe("rect",Lu({x:r-i/2,y:o-a/2,rx:s,ry:s,width:i,height:a},l)),this.getLabelShape()])},e.extendKey="ServiceTaskNode",e})(Jo);var mg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fl=function(){return Fl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Fl.apply(this,arguments)};(function(t){mg(e,t);function e(n,r){return n.id||(n.id="Activity_".concat(ca())),t.call(this,n,r)||this}return e.extendKey="UserTaskModel",e})(Gi);(function(t){mg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getNodeStyle();return Oe("svg",{x:r-i/2+5,y:o-a/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Oe("path",{fill:s.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},e.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.radius,l=n.getNodeStyle();return Oe("g",{},[Oe("rect",Fl(Fl({},l),{x:r-i/2,y:o-a/2,rx:s,ry:s,width:i,height:a})),this.getLabelShape()])},e.extendKey="UserTaskNode",e})(Jo);var sk=function(){function t(){globalThis._ids=this,this._ids=new Set}return t.prototype.generateId=function(){return"xxxxxxx".replace(/[x]/g,function(e){var n=Math.random()*16|0,r=e==="x"?n:n&3|8;return r.toString(16)})},t.prototype.next=function(){for(var e=this.generateId();this._ids.has(e);)e=this.generateId();return this._ids.add(e),e},t}(),lk=(globalThis==null?void 0:globalThis._ids)||new sk;function Lh(){return lk.next()}function yg(t){return Object.prototype.toString.call(t)}function uk(t){return"  ".repeat(t)}function Vl(t){var e=t;return yg(t)==="[object Object]"?(e={},Object.keys(t).forEach(function(n){var r=n;n.charAt(0)==="-"&&(r=n.substring(1)),e[r]=Vl(t[n])})):Array.isArray(t)&&(e=[],t.forEach(function(n,r){e[r]=Vl(n)})),e}function dk(t){var e=t;try{typeof e!="string"&&(e=JSON.parse(t))}catch{e=JSON.stringify(Vl(t)).replace(/"/g,"'")}return e}var Lo=`	
`;function nl(t,e,n){var r=uk(n);if(t!==0&&t!==!1&&!t)return Lo+r+"<".concat(e," />");var o="";if(e==="#text")return Lo+r+t;if(e==="#cdata-section")return Lo+r+"<![CDATA["+t+"]]>";if(e==="#comment")return Lo+r+"<!--"+t+"-->";if("".concat(e).charAt(0)==="-")return" "+e.substring(1)+'="'+dk(t)+'"';if(Array.isArray(t))t.forEach(function(l){o+=nl(l,e,n+1)});else if(yg(t)==="[object Object]"){var i=Object.keys(t),a="",s="";o+=(n===0?"":Lo+r)+"<"+e,i.forEach(function(l){l.charAt(0)==="-"?a+=nl(t[l],l,n+1):s+=nl(t[l],l,n+1)}),o+=a+(s!==""?">".concat(s).concat(Lo+r,"</").concat(e,">"):" />")}else o+=Lo+r+"<".concat(e,">").concat(t.toString(),"</").concat(e,">");return o}function ck(t){var e="";for(var n in t)e+=nl(t[n],n,0);return e}var Sn=function(){};Sn.ObjTree=function(){return this};Sn.ObjTree.VERSION="0.23";Sn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Sn.ObjTree.prototype.attr_prefix="-";Sn.ObjTree.prototype.parseXML=function(t){var e;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(t,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t),e=n.documentElement);if(e)return this.parseDOM(e)};Sn.ObjTree.prototype.parseHTTP=function(t,e,n){var r={};for(var o in e)r[o]=e[o];if(r.method||(typeof r.postBody>"u"&&typeof r.postbody>"u"&&typeof r.parameters>"u"?r.method="get":r.method="post"),n){r.asynchronous=!0;var i=this,a=n,s=r.onComplete;r.onComplete=function(d){var c;d&&d.responseXML&&d.responseXML.documentElement&&(c=i.parseDOM(d.responseXML.documentElement)),a(c,d),s&&s(d)}}else r.asynchronous=!1;var l;if(typeof HTTP<"u"&&HTTP.Request){r.uri=t;var u=new HTTP.Request(r);u&&(l=u.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var u=new Ajax.Request(t,r);u&&(l=u.transport)}if(n)return l;if(l&&l.responseXML&&l.responseXML.documentElement)return this.parseDOM(l.responseXML.documentElement)};Sn.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var n=this.parseElement(t);if(this.__force_array[t.nodeName]&&(n=[n]),t.nodeType!=11){var r={};r[t.nodeName]=n,n=r}return n}};Sn.ObjTree.prototype.parseElement=function(t){if(t.nodeType!=7){if(t.nodeType==3||t.nodeType==4||t.nodeType==8){var e=t.nodeValue.match(/[^\x00-\x20]/);return e==null?void 0:t.nodeValue}var n=null,r={};if(t.attributes&&t.attributes.length){n={};for(var o=0;o<t.attributes.length;o++){var i=t.attributes[o].nodeName;if(typeof i=="string"){var a=t.attributes[o].nodeValue;try{a=JSON.parse(t.attributes[o].nodeValue.replace(/'/g,'"'))}catch{a=t.attributes[o].nodeValue}a&&(i=this.attr_prefix+i,typeof r[i]>"u"&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(t.childNodes&&t.childNodes.length){var s=!0;n&&(s=!1);for(var o=0;o<t.childNodes.length&&s;o++){var l=t.childNodes[o].nodeType;l==3||l==4||l==8||(s=!1)}if(s){n||(n="");for(var o=0;o<t.childNodes.length;o++)n+=t.childNodes[o].nodeValue}else{n||(n={});for(var o=0;o<t.childNodes.length;o++){var i=t.childNodes[o].nodeName;if(typeof i=="string"){var a=this.parseElement(t.childNodes[o]);a&&(typeof r[i]>"u"&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}else n===null&&(n={});return n}};Sn.ObjTree.prototype.addNode=function(t,e,n,r){this.__force_array[e]?(n==1&&(t[e]=[]),t[e][t[e].length]=r):n==1?t[e]=r:n==2?t[e]=[t[e],r]:t[e][t[e].length]=r};Sn.ObjTree.prototype.writeXML=function(t){var e=this.hash_to_xml(null,t);return this.xmlDecl+e};Sn.ObjTree.prototype.hash_to_xml=function(t,e){var n=[],r=[];for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];o.charAt(0)!=this.attr_prefix?typeof i>"u"||i==null?n[n.length]="<"+o+" />":typeof i=="object"&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):typeof i=="object"?n[n.length]=this.hash_to_xml(o,i):n[n.length]=this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),s=n.join("");return typeof t>"u"||t==null||(n.length>0?s.match(/\n/)?s="<"+t+a+`>
`+s+"</"+t+`>
`:s="<"+t+a+">"+s+"</"+t+`>
`:s="<"+t+a+` />
`),s};Sn.ObjTree.prototype.array_to_xml=function(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r];typeof o>"u"||o==null?n[n.length]="<"+t+" />":typeof o=="object"&&o.constructor==Array?n[n.length]=this.array_to_xml(t,o):typeof o=="object"?n[n.length]=this.hash_to_xml(t,o):n[n.length]=this.scalar_to_xml(t,o)}return n.join("")};Sn.ObjTree.prototype.scalar_to_xml=function(t,e){return t=="#text"?this.xml_escape(e):"<"+t+">"+this.xml_escape(e)+"</"+t+`>
`};Sn.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var fk=function(t){return new Sn.ObjTree().parseXML(t)},hk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Du=function(){return Du=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Du.apply(this,arguments)},z0=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Br;(function(t){t.START="bpmn:startEvent",t.END="bpmn:endEvent",t.GATEWAY="bpmn:exclusiveGateway",t.USER="bpmn:userTask",t.SYSTEM="bpmn:serviceTask",t.FLOW="bpmn:sequenceFlow"})(Br||(Br={}));var _g=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],Dh=["properties","startPoint","endPoint","pointsList"];function Rh(t){var e=t?Dh.concat(t):Dh;return function(n){function r(o){var i={};return typeof o=="string"?o:Array.isArray(o)?o.map(function(a){return r(a)}):(Object.entries(o).forEach(function(a){var s=z0(a,2),l=s[0],u=s[1];typeof u!="object"?l.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(l)?i[l]=u:i["-".concat(l)]=u:e.includes(l)?i["-".concat(l)]=r(u):i[l]=r(u)}),i)}return r(n)}}function zl(t){var e={};return Object.entries(t).forEach(function(n){var r=z0(n,2),o=r[0],i=r[1];o.indexOf("-")===0?e[o.substring(1)]=Vl(i):typeof i=="string"?e[o]=i:Object.prototype.toString.call(i)==="[object Object]"?e[o]=zl(i):Array.isArray(i)?e[o]=i.map(function(a){return zl(a)}):e[o]=i}),e}function pk(t,e,n){var r=new Map;e.nodes.forEach(function(i){var a,s={"-id":i.id};if(!((a=i.text)===null||a===void 0)&&a.value&&(s["-name"]=i.text.value),i.properties){var l=Rh(n)(i.properties);Object.assign(s,l)}r.set(i.id,s),t[i.type]?Array.isArray(t[i.type])?t[i.type].push(s):t[i.type]=[t[i.type],s]:t[i.type]=s});var o=e.edges.map(function(i){var a,s,l=r.get(i.targetNodeId);l["bpmn:incoming"]?Array.isArray(l["bpmn:incoming"])?l["bpmn:incoming"].push(i.id):l["bpmn:incoming"]=[l["bpmn:incoming"],i.id]:l["bpmn:incoming"]=i.id;var u={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((a=i.text)===null||a===void 0)&&a.value&&(u["-name"]=(s=i.text)===null||s===void 0?void 0:s.value),i.properties){var d=Rh(n)(i.properties);Object.assign(u,d)}return u});e.edges.forEach(function(i){var a=r.get(i.sourceNodeId);a["bpmn:outgoing"]?Array.isArray(a["bpmn:outgoing"])?a["bpmn:outgoing"].push(i.id):a["bpmn:outgoing"]=[a["bpmn:outgoing"],i.id]:a["bpmn:outgoing"]=i.id}),t[Br.FLOW]=o}function vk(t,e){t["bpmndi:BPMNEdge"]=e.edges.map(function(n){var r,o=n.id,i=n.pointsList.map(function(s){var l=s.x,u=s.y;return{"-x":l,"-y":u}}),a={"-id":"".concat(o,"_di"),"-bpmnElement":o,"di:waypoint":i};return!((r=n.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),a}),t["bpmndi:BPMNShape"]=e.nodes.map(function(n){var r,o=n.id,i=100,a=80,s=n.x,l=n.y,u=Oo.shapeConfigMap.get(n.type);u&&(i=u.width,a=u.height),s-=i/2,l-=a/2;var d={"-id":"".concat(o,"_di"),"-bpmnElement":o,"dc:Bounds":{"-x":s,"-y":l,"-width":i,"-height":a}};return!((r=n.text)===null||r===void 0)&&r.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),d})}function gk(t){var e=[],n=[],r=t["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach(function(i){if(i.indexOf("bpmn:")===0){var a=o[i];if(i===Br.FLOW){var s=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=yk(a,s)}else{var l=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];e=e.concat(mk(a,l,i))}}})}return{nodes:e,edges:n}}function mk(t,e,n){var r=[];if(Array.isArray(t))t.forEach(function(a){var s;Array.isArray(e)?s=e.find(function(u){return u["-bpmnElement"]===a["-id"]}):s=e;var l=Ih(s,n,a);r.push(l)});else{var o=void 0;Array.isArray(e)?o=e.find(function(a){return a["-bpmnElement"]===t["-id"]}):o=e;var i=Ih(o,n,t);r.push(i)}return r}function Ih(t,e,n){var r=Number(t["dc:Bounds"]["-x"]),o=Number(t["dc:Bounds"]["-y"]),i=n["-name"],a=Oo.shapeConfigMap.get(e);a&&(r+=a.width/2,o+=a.height/2);var s;Object.entries(n).forEach(function(c){var f=z0(c,2),h=f[0],v=f[1];_g.indexOf(h)===-1&&(s||(s={}),s[h]=v)}),s&&(s=zl(s));var l;if(i&&(l={x:r,y:o,value:i},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){var u=t["bpmndi:BPMNLabel"]["dc:Bounds"];l.x=Number(u["-x"])+Number(u["-width"])/2,l.y=Number(u["-y"])+Number(u["-height"])/2}var d={id:t["-bpmnElement"],type:e,x:r,y:o,properties:s};return l&&(d.text=l),d}function yk(t,e){var n=[];if(Array.isArray(t))t.forEach(function(o){var i;Array.isArray(e)?i=e.find(function(a){return a["-bpmnElement"]===o["-id"]}):i=e,n.push(Hh(i,o))});else{var r=void 0;Array.isArray(e)?r=e.find(function(o){return o["-bpmnElement"]===t["-id"]}):r=e,n.push(Hh(r,t))}return n}function Hh(t,e){var n,r=e["-name"]?"".concat(e["-name"]):"";if(r){var o=t["bpmndi:BPMNLabel"]["dc:Bounds"],i=0;r.split(`
`).forEach(function(l){i<l.length&&(i=l.length)}),n={value:r,x:Number(o["-x"])+i*10/2,y:Number(o["-y"])+7}}var a;Object.entries(e).forEach(function(l){var u=z0(l,2),d=u[0],c=u[1];_g.indexOf(d)===-1&&(a||(a={}),a[d]=c)}),a&&(a=zl(a));var s={id:e["-id"],type:Br.FLOW,pointsList:t["di:waypoint"].map(function(l){return{x:Number(l["-x"]),y:Number(l["-y"])}}),sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:a};return n&&(s.text=n),s}var Oo=function(){function t(e){var n=e.lf,r=this;this.adapterOut=function(o,i){var a=Du({},r.processAttributes);pk(a,o,i);var s={"-id":"BPMNPlane_1","-bpmnElement":a["-id"]};vk(s,o);var l=r.definitionAttributes;l["bpmn:process"]=a,l["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":s};var u={"bpmn:definitions":l};return u},this.adapterIn=function(o){if(o)return gk(o)},n.adapterIn=function(o){return r.adapterIn(o)},n.adapterOut=function(o,i){return r.adapterOut(o,i)},this.processAttributes={"-isExecutable":"true","-id":"Process_".concat(Lh())},this.definitionAttributes={"-id":"Definitions_".concat(Lh()),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return t.prototype.setCustomShape=function(e,n){t.shapeConfigMap.set(e,n)},t.pluginName="bpmn-adapter",t.shapeConfigMap=new Map,t}();Oo.shapeConfigMap.set(Br.START,{width:Ah.width,height:Ah.height});Oo.shapeConfigMap.set(Br.END,{width:Nh.width,height:Nh.height});Oo.shapeConfigMap.set(Br.GATEWAY,{width:Th.width,height:Th.height});Oo.shapeConfigMap.set(Br.SYSTEM,{width:Ph.width,height:Ph.height});Oo.shapeConfigMap.set(Br.USER,{width:kh.width,height:kh.height});(function(t){hk(e,t);function e(n){var r=t.call(this,n)||this;r.adapterXmlIn=function(i){var a=fk(i);return r.adapterIn(a)},r.adapterXmlOut=function(i,a){var s=r.adapterOut(i,a);return ck(s)};var o=n.lf;return o.adapterIn=r.adapterXmlIn,o.adapterOut=r.adapterXmlOut,r}return e.pluginName="bpmnXmlAdapter",e})(Oo);var _k=function(){function t(){globalThis._ids=this,this._ids=new Set}return t.prototype.generateId=function(){var e="xxxxxxx".replace(/[x]/g,function(n){var r=Math.random()*16|0,o=n==="x"?r:r&3|8;return o.toString(16)});return e},t.prototype.next=function(){for(var e=this.generateId();this._ids.has(e);)e=this.generateId();return this._ids.add(e),e},t}(),Ck=(globalThis==null?void 0:globalThis._ids)||new _k;function bk(){return Ck.next()}Oe("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),Oe("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),Oe("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});Oe("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});Oe("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var xk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vo=function(){return Vo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Vo.apply(this,arguments)},wk=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Ek=rr,Sk=function(t){xk(e,t);function e(n){var r=t.call(this)||this;return r.updatePosition=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,l=s.x,u=s.y;r.nodeModel.x=l+i/2,r.nodeModel.y=u+a/2,r.nodeModel.moveText(i/2,a/2)},r.getResize=function(o){var i=o.index,a=o.deltaX,s=o.deltaY,l=o.width,u=o.height,d=o.PCTResizeInfo,c=o.pct,f=c===void 0?1:c,h=o.freezeWidth,v=h===void 0?!1:h,p=o.freezeHeight,g=p===void 0?!1:p,m={width:l,height:u,deltaX:a,deltaY:s};if(d){var y=4,A=0,M=0;switch(i){case 0:M=(a*-1-s)/y;break;case 1:M=(a-s)/y;break;case 2:M=(a+s)/y;break;case 3:M=(a*-1+s)/y;break}M!==0&&(A=Math.round(M/d.ResizeBasis.basisHeight*1e5)/1e3),d.ResizePCT.widthPCT=Math.max(Math.min(d.ResizePCT.widthPCT+A,d.ScaleLimit.maxScaleLimit),d.ScaleLimit.minScaleLimit),d.ResizePCT.heightPCT=Math.max(Math.min(d.ResizePCT.heightPCT+A,d.ScaleLimit.maxScaleLimit),d.ScaleLimit.minScaleLimit);var O=Math.round(d.ResizePCT.widthPCT*d.ResizeBasis.basisWidth/100),w=Math.round(d.ResizePCT.heightPCT*d.ResizeBasis.basisHeight/100);switch(i){case 0:a=l-O,s=u-w;break;case 1:a=O-l,s=u-w;break;case 2:a=O-l,s=w-u;break;case 3:a=l-O,s=w-u;break}return m.width=O,m.height=w,m.deltaX=a/f,m.deltaY=s/f,m}switch(i){case 0:m.width=v?l:l-a*f,m.height=g?u:u-s*f;break;case 1:m.width=v?l:l+a*f,m.height=g?u:u-s*f;break;case 2:m.width=v?l:l+a*f,m.height=g?u:u+s*f;break;case 3:m.width=v?l:l-a*f,m.height=g?u:u+s*f;break}return m},r.updateEdgePointByAnchors=function(){var o=r.nodeModel,i=o.id,a=o.anchors,s=r.getNodeEdges(i);s.sourceEdges.forEach(function(l){var u=a.find(function(d){return d.id===l.sourceAnchorId});u&&l.updateStartPoint({x:u.x,y:u.y})}),s.targetEdges.forEach(function(l){var u=a.find(function(d){return d.id===l.targetAnchorId});u&&l.updateEndPoint({x:u.x,y:u.y})})},r.updateRect=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,l=s.x,u=s.y,d=s.width,c=s.height,f=s.radius,h=s.PCTResizeInfo,v=r.nodeModel,p=v.minWidth,g=v.minHeight,m=v.maxWidth,y=v.maxHeight,A=r.index,M=p===m,O=g===y,w=r.getResize({index:A,deltaX:i,deltaY:a,width:d,height:c,PCTResizeInfo:h,pct:1,freezeWidth:M,freezeHeight:O});if(w.width<p||w.width>m||w.height<g||w.height>y){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:M?0:w.deltaX,deltaY:O?0:w.deltaY}),r.nodeModel.width=w.width,r.nodeModel.height=w.height,r.nodeModel.setProperties({nodeSize:{width:w.width,height:w.height}});var _={x:l,y:u,width:d,height:c,radius:f},N={x:r.nodeModel.x,y:r.nodeModel.y,width:r.nodeModel.width,height:r.nodeModel.height,radius:f};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:i,deltaY:a,beforeNode:_,afterNode:N})},r.updateEllipse=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,l=s.rx,u=s.ry,d=s.x,c=s.y,f=s.PCTResizeInfo,h=r.index,v=r.nodeModel,p=v.minWidth,g=v.minHeight,m=v.maxWidth,y=v.maxHeight,A=p===m,M=g===y,O=l,w=u,_=r.getResize({index:h,deltaX:i,deltaY:a,width:O,height:w,PCTResizeInfo:f,pct:1/2,freezeWidth:A,freezeHeight:M});if(_.width<p/2||_.width>m/2||_.height<g/2||_.height>y/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:A?0:_.deltaX,deltaY:M?0:_.deltaY}),r.nodeModel.rx=_.width,r.nodeModel.ry=_.height,r.nodeModel.setProperties({nodeSize:{rx:_.width,ry:_.height}});var N={x:d,y:c},R={rx:_.width,ry:_.height,x:r.nodeModel.x,y:r.nodeModel.y};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:i,deltaY:a,beforeNode:Vo(Vo({},N),{rx:l,ry:u}),afterNode:R})},r.updateDiamond=function(o){var i=o.deltaX,a=o.deltaY,s=r.nodeModel,l=s.rx,u=s.ry,d=s.x,c=s.y,f=s.PCTResizeInfo,h=r.index,v=r.nodeModel,p=v.minWidth,g=v.minHeight,m=v.maxWidth,y=v.maxHeight,A=p===m,M=g===y,O=l,w=u,_=r.getResize({index:h,deltaX:i,deltaY:a,width:O,height:w,PCTResizeInfo:f,pct:1/2,freezeWidth:A,freezeHeight:M});if(_.width<p/2||_.width>m/2||_.height<g/2||_.height>y/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:A?0:_.deltaX,deltaY:M?0:_.deltaY}),r.nodeModel.rx=_.width,r.nodeModel.ry=_.height,r.nodeModel.setProperties({nodeSize:{rx:_.width,ry:_.height}});var N={x:d,y:c,rx:l,ry:u},R={rx:_.width,ry:_.height,x:r.nodeModel.x,y:r.nodeModel.y};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:i,deltaY:a,beforeNode:N,afterNode:R})},r.eventEmit=function(o){var i=o.deltaX,a=o.deltaY,s=o.beforeNode,l=o.afterNode,u=r.nodeModel,d=u.id,c=u.modelType,f=u.type,h=Vo({id:d,modelType:c,type:f},s),v=Vo({id:d,modelType:c,type:f},l);r.graphModel.eventCenter.emit("node:resize",{preData:h,data:v,deltaX:i,deltaY:a,index:r.index,model:r.nodeModel})},r.onDragging=function(o){var i,a=o.deltaX,s=o.deltaY,l=r.graphModel.transformModel,u=r.nodeModel.modelType;i=wk(l.fixDeltaXY(a,s),2),a=i[0],s=i[1],u===et.RECT_NODE||u===et.HTML_NODE?r.updateRect({deltaX:a,deltaY:s}):u===et.ELLIPSE_NODE?r.updateEllipse({deltaX:a,deltaY:s}):u===et.DIAMOND_NODE&&r.updateDiamond({deltaX:a,deltaY:s})},r.onDragEnd=function(){var o=r.graphModel.gridSize,i=o===void 0?1:o,a=i*Math.round(r.nodeModel.x/i),s=i*Math.round(r.nodeModel.y/i);r.nodeModel.moveTo(a,s),r.updateEdgePointByAnchors()},r.index=n.index,r.nodeModel=n.model,r.graphModel=n.graphModel,r.dragHandler=new Ek({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:1}),r}return e.prototype.getNodeEdges=function(n){for(var r=this.graphModel,o=r.edges,i=[],a=[],s=0;s<o.length;s++){var l=o[s];l.sourceNodeId===n?i.push(l):o[s].targetNodeId===n&&a.push(l)}return{sourceEdges:i,targetEdges:a}},e.prototype.render=function(){var n=this.props,r=n.x,o=n.y,i=n.index,a=n.model,s=a.getControlPointStyle();return Y("g",{className:"lf-resize-control-".concat(i),children:Y(Zn,Vo({className:"lf-node-control",x:r,y:o},s,{onMouseDown:this.dragHandler.handleMouseDown}))})},e}(ut),Mk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wl=function(){return Wl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Wl.apply(this,arguments)},W0=function(t){Mk(e,t);function e(){var n=t.call(this)||this;return n.state={},n}return e.prototype.getResizeControl=function(){var n=this.props,r=n.model,o=n.graphModel,i=r.x,a=r.y,s=r.width,l=r.height,u={minX:i-s/2,minY:a-l/2,maxX:i+s/2,maxY:a+l/2},d=u.minX,c=u.minY,f=u.maxX,h=u.maxY,v=[{x:d,y:c},{x:f,y:c},{x:f,y:h},{x:d,y:h}];return v.map(function(p,g){return Y(Sk,Wl({index:g},p,{model:r,graphModel:o}))})},e.prototype.getGroupSolid=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.getResizeOutlineStyle();return Y(Zn,Wl({},s,{x:r,y:o,width:i,height:a}))},e.prototype.render=function(){return Y("g",{className:"lf-resize-control",children:[this.getGroupSolid(),this.getResizeControl()]})},e}(ut),Cg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){Cg(e,t);function e(n,r){var o=t.call(this,n,r)||this,i=n.properties.nodeSize;return i&&(o.rx=i.rx,o.ry=i.ry),o}return e.prototype.initNodeData=function(n){t.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var n=t.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},i={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:o,ScaleLimit:i}}else delete this.PCTResizeInfo},e})(gu);(function(t){Cg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return Y(W0,{model:r,graphModel:o})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var n=this.props,r=n.model,o=n.graphModel.editConfigModel.isSilentMode;return Y("g",{children:[this.getResizeShape(),r.isSelected&&!o?this.getControlGroup():""]})},e})(Mu);var bg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ru=function(){return Ru=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ru.apply(this,arguments)};(function(t){bg(e,t);function e(n,r){var o=t.call(this,n,r)||this,i=n.properties.nodeSize;return i&&(o.rx=i.rx,o.ry=i.ry),o}return e.prototype.initNodeData=function(n){t.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},e.prototype.getOutlineStyle=function(){var n=t.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},o={basisWidth:this.rx,basisHeight:this.ry},i={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:o,ScaleLimit:i}}else delete this.PCTResizeInfo},e})(vu);(function(t){bg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return Y(W0,{model:r,graphModel:o})},e.prototype.getResizeShape=function(){var n=this.props.model,r=n.points,o=n.getNodeStyle();return Y("g",{children:Y(tc,Ru({},o,{points:r}))})},e.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,o=n.graphModel.editConfigModel.isSilentMode;return Y("g",{children:[this.getResizeShape(),r&&!o?this.getControlGroup():""]})},e})(Eu);var xg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(t){xg(e,t);function e(n,r){var o=t.call(this,n,r)||this,i=n.properties.nodeSize;return i&&(o.width=i.width,o.height=i.height),o}return e.prototype.initNodeData=function(n){t.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var n=t.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},o={basisWidth:this.width,basisHeight:this.height},i={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:o,ScaleLimit:i}}else delete this.PCTResizeInfo},e})(os);(function(t){xg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return Y(W0,{model:r,graphModel:o})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,o=n.graphModel.editConfigModel.isSilentMode;return Y("g",{children:[this.getResizeShape(),r&&!o?this.getControlGroup():""]})},e})(as);var wg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ok=function(t){wg(e,t);function e(n,r){var o=t.call(this,n,r)||this,i=n.properties.nodeSize;return i&&(o.width=i.width,o.height=i.height),o}return e.prototype.initNodeData=function(n){t.prototype.initNodeData.call(this,n),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var n=t.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(n.stroke="none",n.hover&&(n.hover.stroke="none")),n},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(n){if(n===void 0&&(n=!0),n){var r={widthPCT:100,heightPCT:100},o={basisWidth:this.width,basisHeight:this.height},i={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:o,ScaleLimit:i}}else delete this.PCTResizeInfo},e}(Gi),Ak=function(t){wg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var n=this.props,r=n.model,o=n.graphModel;return Y(W0,{model:r,graphModel:o})},e.prototype.getResizeShape=function(){return t.prototype.getShape.call(this)},e.prototype.getShape=function(){var n=this.props,r=n.model.isSelected,o=n.graphModel.editConfigModel.isSilentMode;return Y("g",{children:[this.getResizeShape(),r&&!o?this.getControlGroup():""]})},e}(Jo),Eg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ul=function(){return Ul=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ul.apply(this,arguments)},Do=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Ro=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Bh=500,jh=300,Nk=-1e4;(function(t){Eg(e,t);function e(){var n=t.apply(this,Ro([],Do(arguments),!1))||this;return n.isGroup=!0,n.isFolded=!1,n.unfoldedWidth=Bh,n.unfoldedHeight=jh,n.childrenLastFoldStatus={},n}return e.prototype.initNodeData=function(n){var r=this;t.prototype.initNodeData.call(this,n);var o=[];xt(n.children)&&(o=n.children),this.children=new Set(o),this.width=Bh,this.height=jh,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=Nk,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=!!this.properties.isFolded,setTimeout(function(){r.isFolded&&r.foldGroup(r.isFolded)})},e.prototype.getResizeOutlineStyle=function(){var n=t.prototype.getResizeOutlineStyle.call(this);return n.stroke="none",n},e.prototype.foldGroup=function(n){var r=this;if(n!==this.isFolded){this.setProperty("isFolded",n),this.isFolded=n,n?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHeight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHeight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var o=Ro(Ro([],Do(this.incoming.edges),!1),Do(this.outgoing.edges),!1);this.children.forEach(function(i){var a=r.graphModel.getElement(i);if(a){var s=a.isFolded;if(a.isGroup&&!a.isFolded&&a.foldGroup(n),a.isGroup&&!n){var l=r.childrenLastFoldStatus[i];l!==void 0&&l!==a.isFolded&&a.foldGroup(l)}r.childrenLastFoldStatus[i]=!!s,a.visible=!n;var u=a.incoming.edges,d=a.outgoing.edges;o=Ro(Ro(Ro([],Do(o),!1),Do(u),!1),Do(d),!1)}}),this.foldEdge(n,o)}},e.prototype.getAnchorStyle=function(n){var r=t.prototype.getAnchorStyle.call(this,n);return r.stroke="transparent",r.fill="transparent",r.hover.fill="transparent",r.hover.stroke="transparent",r},e.prototype.foldEdge=function(n,r){var o=this;r.forEach(function(i,a){var s=i.id,l=i.sourceNodeId,u=i.targetNodeId,d=i.startPoint,c=i.endPoint,f=i.type,h=i.text,v=i.getProperties(),p={id:"".concat(s,"__").concat(a),sourceNodeId:l,targetNodeId:u,startPoint:d,endPoint:c,type:f,properties:v,text:h==null?void 0:h.value};i.virtual&&o.graphModel.deleteEdgeById(i.id);var g=o.graphModel.group.getNodeGroup(u);g||(g=o.graphModel.getNodeModelById(u));var m=o.graphModel.group.getNodeGroup(l);m||(m=o.graphModel.getNodeModelById(l)),n&&i.visible!==!1&&(o.children.has(l)||o.id===l?(p.startPoint=void 0,p.sourceNodeId=o.id):(p.endPoint=void 0,p.targetNodeId=o.id),(g.id!==o.id||m.id!==o.id)&&o.createVirtualEdge(p),i.visible=!1),!n&&i.visible===!1&&(g&&g.isGroup&&g.isFolded?(p.targetNodeId=g.id,p.endPoint=void 0,o.createVirtualEdge(p)):m&&m.isGroup&&m.isFolded?(p.sourceNodeId=m.id,p.startPoint=void 0,o.createVirtualEdge(p)):i.visible=!0)})},e.prototype.createVirtualEdge=function(n){n.pointsList=void 0;var r=this.graphModel.addEdge(n);r.virtual=!0,r.text.editable=!1,r.isFoldedEdge=!0},e.prototype.isInRange=function(n){var r=n.minX,o=n.minY,i=n.maxX,a=n.maxY;return r>=this.x-this.width/2&&i<=this.x+this.width/2&&o>=this.y-this.height/2&&a<=this.y+this.height/2},e.prototype.isAllowMoveTo=function(n){var r=n.minX,o=n.minY,i=n.maxX,a=n.maxY;return{x:r>=this.x-this.width/2&&i<=this.x+this.width/2,y:o>=this.y-this.height/2&&a<=this.y+this.height/2}},e.prototype.setAllowAppendChild=function(n){this.setProperty("groupAddable",n)},e.prototype.addChild=function(n){this.children.add(n),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},e.prototype.removeChild=function(n){this.children.delete(n),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},e.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},e.prototype.getData=function(){var n=this,r=t.prototype.getData.call(this);r.children=[],this.children,this.children.forEach(function(i){var a=n.graphModel.getNodeModelById(i);a&&!a.virtual&&r.children.push(i)});var o=r.properties;return o==null||delete o.groupAddable,o==null||delete o.isFolded,r},e.prototype.getHistoryData=function(){var n=t.prototype.getData.call(this);n.children=Ro([],Do(this.children),!1),n.isGroup=!0;var r=n.properties;return r==null||delete r.groupAddable,r!=null&&r.isFolded&&(n.x=n.x+this.unfoldedWidth/2-this.foldedWidth/2,n.y=n.y+this.unfoldedHeight/2-this.foldedHeight/2),n},e.prototype.isAllowAppendIn=function(n){return console.info("_nodeData",n),!0},e.prototype.toBack=function(){this.zIndex--},e})(Ok);(function(t){Eg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var n=this.props.model,r=n.resizable,o=n.properties;return r&&!o.isFolded?t.prototype.getControlGroup.call(this):null},e.prototype.getAddableShape=function(){var n=this.props.model,r=n.width,o=n.height,i=n.x,a=n.y,s=n.radius,l=n.properties,u=n.getAddableOutlineStyle;if(!l.groupAddable)return null;var d=this.props.model.getNodeStyle().strokeWidth,c=d===void 0?0:d,f=u(),h=r+c+8,v=o+c+8;return Oe("rect",Ul(Ul({},f),{width:h,height:v,x:i-h/2,y:a-v/2,rx:s,ry:s}))},e.prototype.getFoldIcon=function(){var n=this.props.model,r=n.x-n.width/2+5,o=n.y-n.height/2+5;if(!n.foldable)return null;var i=Oe("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:n.properties.isFolded?"M ".concat(r+3,",").concat(o+6," ").concat(r+11,",").concat(o+6," M").concat(r+7,",").concat(o+2," ").concat(r+7,",").concat(o+10):"M ".concat(r+3,",").concat(o+6," ").concat(r+11,",").concat(o+6," ")});return Oe("g",{},[Oe("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:n.x-n.width/2+5,y:n.y-n.height/2+5,onClick:function(){n.foldGroup(!n.properties.isFolded)}}),i])},e.prototype.getResizeShape=function(){return Oe("g",{},[this.getAddableShape(),t.prototype.getResizeShape.call(this),this.getFoldIcon()])},e})(Ak);var $h=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),za=function(){return za=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},za.apply(this,arguments)};function Tk(t){var e=function(r){$h(o,r);function o(i,a){i.id||(i.id="Flow_".concat(bk()));var s=za(za(za({},t||{}),i.properties),{isDefaultFlow:!1});return i.properties=s,r.call(this,i,a)||this}return o.extendKey="SequenceFlowModel",o}(Ui),n=function(r){$h(o,r);function o(){return r!==null&&r.apply(this,arguments)||this}return o.prototype.getStartArrow=function(){var i=this.props.model,a=i.properties.isDefaultFlow;return a?Oe("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):Oe("path",{d:""})},o.extendKey="SequenceFlowEdge",o}(Xi);return{type:"bpmn:sequenceFlow",view:n,model:e}}Tk();var Fh={width:40,height:40},Vh={width:40,height:40},zh={width:100,height:80},Gl={width:100,height:80},Wh={width:100,height:80},Uh={width:100,height:80},Gh={width:100,height:80},Xh={width:100,height:80},Yh={width:100,height:80},Zh={width:100,height:80},Mn=function(){};Mn.ObjTree=function(){return this};Mn.ObjTree.VERSION="0.23";Mn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Mn.ObjTree.prototype.attr_prefix="-";Mn.ObjTree.prototype.parseXML=function(t){var e;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(t,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t),e=n.documentElement);if(e){var o=this.parseDOM(e);return o}};Mn.ObjTree.prototype.parseHTTP=function(t,e,n){var r={};for(var o in e)r[o]=e[o];if(r.method||(typeof r.postBody>"u"&&typeof r.postbody>"u"&&typeof r.parameters>"u"?r.method="get":r.method="post"),n){r.asynchronous=!0;var i=this,a=n,s=r.onComplete;r.onComplete=function(d){var c;d&&d.responseXML&&d.responseXML.documentElement&&(c=i.parseDOM(d.responseXML.documentElement)),a(c,d),s&&s(d)}}else r.asynchronous=!1;var l;if(typeof HTTP<"u"&&HTTP.Request){r.uri=t;var u=new HTTP.Request(r);u&&(l=u.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var u=new Ajax.Request(t,r);u&&(l=u.transport)}if(n)return l;if(l&&l.responseXML&&l.responseXML.documentElement)return this.parseDOM(l.responseXML.documentElement)};Mn.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var n=this.parseElement(t);if(this.__force_array[t.nodeName]&&(n=[n]),t.nodeType!==11){var r={};r[t.nodeName]=n,n=r}return n}};Mn.ObjTree.prototype.parseElement=function(t){if(t.nodeType!==7){if(t.nodeType===3||t.nodeType===4||t.nodeType===8){var e=t.nodeValue.match(/[^\x00-\x20]/);return e==null?void 0:t.nodeValue}var n=null,r={};if(t.attributes&&t.attributes.length){n={};for(var o=0;o<t.attributes.length;o++){var i=t.attributes[o].nodeName;if(typeof i=="string"){var a=t.attributes[o].nodeValue;try{a=JSON.parse(t.attributes[o].nodeValue.replace(/'/g,'"'))}catch{a=t.attributes[o].nodeValue}a!=null&&(i=this.attr_prefix+i,typeof r[i]>"u"&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}if(t.childNodes&&t.childNodes.length){var s=!0;n&&(s=!1);for(var o=0;o<t.childNodes.length&&s;o++){var l=t.childNodes[o].nodeType;l===3||l===4||l===8||(s=!1)}if(s){n||(n="");for(var o=0;o<t.childNodes.length;o++)n+=t.childNodes[o].nodeValue}else{n||(n={});for(var o=0;o<t.childNodes.length;o++){var i=t.childNodes[o].nodeName;if(typeof i=="string"){var a=this.parseElement(t.childNodes[o]);a&&(typeof r[i]>"u"&&(r[i]=0),r[i]++,this.addNode(n,i,r[i],a))}}}}else n===null&&(n={});return n}};Mn.ObjTree.prototype.addNode=function(t,e,n,r){this.__force_array[e]?(n===1&&(t[e]=[]),t[e][t[e].length]=r):n===1?t[e]=r:n===2?t[e]=[t[e],r]:t[e][t[e].length]=r};Mn.ObjTree.prototype.writeXML=function(t){var e=this.hash_to_xml(null,t);return this.xmlDecl+e};Mn.ObjTree.prototype.hash_to_xml=function(t,e){var n=[],r=[];for(var o in e)if(ul(e,o)){var i=e[o];o.charAt(0)!==this.attr_prefix?typeof i>"u"||i==null?n[n.length]="<".concat(o," />"):typeof i=="object"&&i.constructor===Array?n[n.length]=this.array_to_xml(o,i):typeof i=="object"?n[n.length]=this.hash_to_xml(o,i):n[n.length]=this.scalar_to_xml(o,i):r[r.length]=" ".concat(o.substring(1),'="').concat(this.xml_escape(i),'"')}var a=r.join(""),s=n.join("");return typeof t>"u"||t==null||(n.length>0?s.match(/\n/)?s="<".concat(t).concat(a,`>
`).concat(s,"</").concat(t,`>
`):s="<".concat(t).concat(a,">").concat(s,"</").concat(t,`>
`):s="<".concat(t).concat(a,` />
`)),s};Mn.ObjTree.prototype.array_to_xml=function(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r];typeof o>"u"||o==null?n[n.length]="<".concat(t," />"):typeof o=="object"&&o.constructor===Array?n[n.length]=this.array_to_xml(t,o):typeof o=="object"?n[n.length]=this.hash_to_xml(t,o):n[n.length]=this.scalar_to_xml(t,o)}return n.join("")};Mn.ObjTree.prototype.scalar_to_xml=function(t,e){return t==="#text"?this.xml_escape(e):"<".concat(t,">").concat(this.xml_escape(e),"</").concat(t,`>
`)};Mn.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Pk=function(t){return new Mn.ObjTree().parseXML(t)};function Sg(t){return Object.prototype.toString.call(t)}function Kh(t){return"  ".repeat(t)}function Xl(t){return Sg(t)==="[object Object]"?Object.keys(t).reduce(function(e,n){var r=n;return n.charAt(0)==="-"&&(r=n.substring(1)),e[r]=Xl(t[n]),e},{}):Array.isArray(t)?t.map(function(e){return Xl(e)}):t}function kk(t){var e=t;try{typeof e!="string"&&(e=JSON.parse(t))}catch{e=JSON.stringify(Xl(t)).replace(/"/g,"'")}return e}var qh=`	
`;function rl(t,e,n){var r=Kh(n),o="",i=qh+r;if(e==="-json")return"";if(e==="#text")return i+t;if(e==="#cdata-section")return"".concat(i,"<![CDATA[").concat(t,"]]>");if(e==="#comment")return"".concat(i,"<!--").concat(t,"-->");if("".concat(e).charAt(0)==="-")return" ".concat(e.substring(1),'="').concat(kk(t),'"');if(Array.isArray(t))o+=t.map(function(u){return rl(u,e,n+1)}).join("");else if(Sg(t)==="[object Object]"){var a=Object.keys(t),s="",l=t["-json"]?qh+Kh(n+1)+t["-json"]:"";o+="".concat(n===0?"":i,"<").concat(e),a.forEach(function(u){u.charAt(0)==="-"?s+=rl(t[u],u,n+1):l+=rl(t[u],u,n+1)}),o+=s+(l!==""?">".concat(l).concat(i,"</").concat(e,">"):" />")}else o+="".concat(i,"<").concat(e,">").concat(t.toString(),"</").concat(e,">");return o}function Lk(t){var e="";for(var n in t)e+=rl(t[n],n,0);return e}var Dk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Iu=function(){return Iu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Iu.apply(this,arguments)},Jh=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},oc=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hn=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},fr=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},xn;(function(t){t.START="bpmn:startEvent",t.END="bpmn:endEvent",t.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",t.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",t.BOUNDARY="bpmn:boundaryEvent",t.PARALLEL_GATEWAY="bpmn:parallelGateway",t.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",t.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",t.USER="bpmn:userTask",t.SYSTEM="bpmn:serviceTask",t.FLOW="bpmn:sequenceFlow",t.SUBPROCESS="bpmn:subProcess"})(xn||(xn={}));var Mg=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],Rk=["properties","startPoint","endPoint","pointsList"],Yl={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},Og=function(t,e){var n=Object.keys(e||{});return n.forEach(function(r){if(t[r]){var o=e[r],i=o.in,a=o.out;i&&(t[r].in=i),a&&(t[r].out=a)}else t[r]=e[r]}),t},Xn={"bpmn:startEvent":{out:function(t){var e,n,r=t.properties;return((n=(e=Xn[r.definitionType])===null||e===void 0?void 0:e.out)===null||n===void 0?void 0:n.call(e,t))||{}}},"bpmn:intermediateCatchEvent":{out:function(t){var e,n,r=t.properties;return((n=(e=Xn[r.definitionType])===null||e===void 0?void 0:e.out)===null||n===void 0?void 0:n.call(e,t))||{}}},"bpmn:intermediateThrowEvent":{out:function(t){var e,n,r=t.properties;return((n=(e=Xn[r.definitionType])===null||e===void 0?void 0:e.out)===null||n===void 0?void 0:n.call(e,t))||{}}},"bpmn:boundaryEvent":{out:function(t){var e,n,r=t.properties;return((n=(e=Xn[r.definitionType])===null||e===void 0?void 0:e.out)===null||n===void 0?void 0:n.call(e,t))||{}}},"bpmn:sequenceFlow":{out:function(t){var e=t.properties,n=e.expressionType,r=e.condition;return r?n==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'.concat(r,"}]]></bpmn:conditionExpression>")}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'.concat(r,"</bpmn:conditionExpression>")}:{json:""}}},"bpmn:timerEventDefinition":{out:function(t){var e=t.properties,n=e.timerType,r=e.timerValue,o=e.definitionId,i=function(){return"<bpmn:".concat(n,' xsi:type="bpmn:tFormalExpression">').concat(r,"</bpmn:").concat(n,">")};return{json:'<bpmn:timerEventDefinition id="'.concat(o,'"').concat(n&&r?">".concat(i(),"</bpmn:timerEventDefinition>"):"/>")}},in:function(t,e){var n,r,o,i,a=t,s=e["-id"],l="",u="";try{for(var d=oc(Object.keys(e)),c=d.next();!c.done;c=d.next()){var f=c.value;f.includes("bpmn:")&&(o=hn(f.split(":"),2),l=o[1],u=(i=e[f])===null||i===void 0?void 0:i["#text"])}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return{"-definitionId":s,"-definitionType":a,"-timerType":l,"-timerValue":u}}},"bpmn:conditionExpression":{in:function(t,e){var n,r="",o="";return e["#cdata-section"]?(o="cdata",r=((n=/^\$\{(.*)\}$/g.exec(e["#cdata-section"]))===null||n===void 0?void 0:n[1])||""):e["#text"]&&(o="normal",r=e["#text"]),{"-condition":r,"-expressionType":o}}}};function Ik(t){var e=t??{},n=e.retainedAttrsFields,r=e.excludeFields,o=e.transformer,i=new Set(fr(fr([],hn(Rk),!1),hn(n||[]),!1)),a={in:new Set(fr(fr([],hn(Yl.in),!1),hn((r==null?void 0:r.in)||[]),!1)),out:new Set(fr(fr([],hn(Yl.out),!1),hn((r==null?void 0:r.out)||[]),!1))};return Xn=Og(Xn,o),function(s){var l=s.nodes,u=s.edges;function d(c,f){var h,v;if((c==null?void 0:c.flag)!==1){var p;if((p=Xn[c.type])&&p.out){var g=p.out(c),m=Object.keys(g);m.length>0&&m.forEach(function(R){c[R]=g[R]})}c!=null&&c.children&&(c.children=c.children.map(function(R){var I=l.find(function(W){return W.id===R})||u.find(function(W){return W.id===R});return I||{}}));var y={};if(typeof c=="string")return c;if(Array.isArray(c))return c.map(function(R){return d(R,"")}).filter(function(R){return R!=null});try{for(var A=oc(Object.entries(c)),M=A.next();!M.done;M=A.next()){var O=hn(M.value,2),w=O[0],_=O[1];if((_==null?void 0:_.flag)===1)return;var N=[f,w].filter(function(R){return R}).join(".");a.out.has(N)||(typeof _!="object"?w.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(w)?y[w]=_:y["-".concat(w)]=_:i.has(N)?y["-".concat(w)]=d(_,N):y[w]=d(_,N))}}catch(R){h={error:R}}finally{try{M&&!M.done&&(v=A.return)&&v.call(A)}finally{if(h)throw h.error}}return y}}return d(s,"")}}function Zl(t){var e,n,r={};try{for(var o=oc(Object.entries(t)),i=o.next();!i.done;i=o.next()){var a=hn(i.value,2),s=a[0],l=a[1];s.indexOf("-")===0?r[s.substring(1)]=Xl(l):typeof l=="string"?r[s]=l:Object.prototype.toString.call(l)==="[object Object]"?r[s]=Zl(l):Array.isArray(l)?r[s]=l.map(function(u){return Zl(u)}):r[s]=l}}catch(u){e={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function Hk(t,e,n){var r,o=new Map,i=Ik(n)(e);i.nodes.forEach(function(s){var l=s["-id"],u=s["-type"],d=s.text,c=s.children,f=Jh(s,["-id","-type","text","children"]),h={"-id":l};d!=null&&d["-value"]&&(h["-name"]=d["-value"]),f["-json"]&&(h["-json"]=f["-json"]),f["-properties"]&&Object.assign(h,f["-properties"]),c&&(h.children=c),t[u]||(t[u]=[]),t[u].push(h),o.set(l,h)});var a=i.edges.map(function(s){var l=s["-id"],u=s["-sourceNodeId"],d=s["-targetNodeId"],c=s.text,f=Jh(s,["-id","-sourceNodeId","-targetNodeId","text"]),h=o.get(d);h["bpmn:incoming"]||(h["bpmn:incoming"]=[]),h["bpmn:incoming"].push(l);var v={"-id":l,"-sourceRef":u,"-targetRef":d};return c!=null&&c["-value"]&&(v["-name"]=c["-value"]),f["-json"]&&(v["-json"]=f["-json"]),f["-properties"]&&Object.assign(v,f["-properties"]),v});return e.edges.forEach(function(s){var l=s.sourceNodeId,u=s.id,d=o.get(l);d["bpmn:outgoing"]||(d["bpmn:outgoing"]=[]),d["bpmn:outgoing"].push(u)}),(r=t["bpmn:subProcess"])===null||r===void 0||r.forEach(function(s){var l={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},u=[];s.children.forEach(function(p){var g,m=o.get(p["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(A){m[A]&&m[A].forEach(function(M){l[A].add(M)})});var y=(g=t[p["-type"]])===null||g===void 0?void 0:g.findIndex(function(A){return A["-id"]===p["-id"]});y>=0&&t[p["-type"]].splice(y,1),o.delete(p["-id"]),s[p["-type"]]||(s[p["-type"]]=[]),s[p["-type"]].push(m)});var d=l["bpmn:incoming"],c=l["bpmn:outgoing"];c.forEach(function(p){d.has(p)&&u.push(p)});for(var f=function(p){var g=a.findIndex(function(m){return m["-id"]===u[p]});g>=0?(s["bpmn:sequenceFlow"]||(s["bpmn:sequenceFlow"]=[]),s["bpmn:sequenceFlow"].push(a[g]),a.splice(g,1)):p++,h=p},h,v=0;v<u.length;)f(v),v=h;delete s.children}),t[xn.FLOW]=a,t}function Bk(t,e){t["bpmndi:BPMNEdge"]=e.edges.map(function(n){var r,o=n.id,i=n.pointsList.map(function(s){var l=s.x,u=s.y;return{"-x":l,"-y":u}}),a={"-id":"".concat(o,"_di"),"-bpmnElement":o,"di:waypoint":i};return!((r=n.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),a}),t["bpmndi:BPMNShape"]=e.nodes.map(function(n){var r,o=n.id,i=100,a=80,s=n.x,l=n.y,u=Hn.shapeConfigMap.get(n.type);u&&(i=u.width,a=u.height),s-=i/2,l-=a/2;var d={"-id":"".concat(o,"_di"),"-bpmnElement":o,"dc:Bounds":{"-x":s,"-y":l,"-width":i,"-height":a}};return!((r=n.text)===null||r===void 0)&&r.value&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":n.text.x-n.text.value.length*10/2,"-y":n.text.y-7,"-width":n.text.value.length*10,"-height":14}}),d})}var jk=["bpmn:incoming","bpmn:outgoing"];function $k(t,e){var n=[],r=[],o=new Map,i=e??{},a=i.transformer,s=i.excludeFields,l={in:new Set(fr(fr([],hn(Yl.in),!1),hn((s==null?void 0:s.in)||[]),!1)),out:new Set(fr(fr([],hn(Yl.out),!1),hn((s==null?void 0:s.out)||[]),!1))};Xn=Og(Xn,a);var u=t["bpmn:definitions"];if(u){var d=u["bpmn:process"];(function(f,h){h.forEach(function(v){try{Object.keys(f).forEach(function(p){try{v(p)}catch(g){console.error(g)}})}catch(p){console.error(p)}})})(d,[function(f){function h(p){p["-children"]||(p["-children"]=[]),Object.keys(p).forEach(function(g){var m;g.indexOf("bpmn:")===0&&!jk.includes(g)&&(d[g]||(d[g]=[]),!Array.isArray(d[g])&&(d[g]=[d[g]]),Array.isArray(p[g])?(m=d[g]).push.apply(m,fr([],hn(p[g]),!1)):d[g].push(p[g]),Array.isArray(p[g])?p[g].forEach(function(y){!g.includes("Flow")&&p["-children"].push(y["-id"])}):!g.includes("Flow")&&p["-children"].push(p[g]["-id"]),delete p[g])})}if(f==="bpmn:subProcess"){var v=d[f];Array.isArray(v)?v.forEach(function(p){f==="bpmn:subProcess"&&h(p)}):h(v)}},function(f){var h=function(p){Object.keys(p).forEach(function(g){var m,y;if(g.includes("bpmn:")){var A={};Xn[g]&&Xn[g].in?(A=(y=(m=Xn[g]).in)===null||y===void 0?void 0:y.call(m,g,b.cloneDeep(p[g])),delete p[g]):v(p[g]);var M=void 0;(M=Reflect.ownKeys(A)).length>0&&M.forEach(function(O){Reflect.set(p,O,A[O])})}})};function v(p){o.set(p["-id"],p),Array.isArray(p)?p.forEach(function(g){v(g)}):typeof p=="object"&&h(p)}v(d[f])},function(f){if(f.indexOf("bpmn:")===0){var h=d[f];if(f==="bpmn:sequenceFlow"){var v=u["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=Vk(h,v)}else{var p=u["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(f==="bpmn:boundaryEvent"){var g=d[f],m=function(y){var A=y["-attachedToRef"],M=o.get(A);M["-boundaryEvents"]||(M["-boundaryEvents"]=[]),M["-boundaryEvents"].push(y["-id"])};Array.isArray(g)?g.forEach(function(y){m(y)}):m(g)}n=n.concat(Fk(h,p,f))}}}])}var c=function(f,h,v){Object.keys(f).forEach(function(p){var g=v?"".concat(v,".").concat(p):p;h.has(g)?delete f[p]:typeof f[p]=="object"&&c(f[p],h,g)})};return n.forEach(function(f){var h,v;if(!((h=e==null?void 0:e.mapping)===null||h===void 0)&&h.in){var p=(v=e==null?void 0:e.mapping)===null||v===void 0?void 0:v.in,g=f.type;p[g]&&(f.type=p[g])}c(f,l.in,"")}),r.forEach(function(f){var h,v;if(!((h=e==null?void 0:e.mapping)===null||h===void 0)&&h.in){var p=(v=e==null?void 0:e.mapping)===null||v===void 0?void 0:v.in,g=f.type;p[g]&&(f.type=p[g])}c(f,l.in,"")}),{nodes:n,edges:r}}function Fk(t,e,n){var r=[];if(Array.isArray(t))t.forEach(function(a){var s;Array.isArray(e)?s=e.find(function(u){return u["-bpmnElement"]===a["-id"]}):s=e;var l=Qh(s,n,a);r.push(l)});else{var o=void 0;Array.isArray(e)?o=e.find(function(a){return a["-bpmnElement"]===t["-id"]}):o=e;var i=Qh(o,n,t);r.push(i)}return r}function Qh(t,e,n){var r=Number(t["dc:Bounds"]["-x"]),o=Number(t["dc:Bounds"]["-y"]),i=n["-children"],a=n["-name"],s=Hn.shapeConfigMap.get(e);s&&(r+=s.width/2,o+=s.height/2);var l={};Object.entries(n).forEach(function(f){var h=hn(f,2),v=h[0],p=h[1];Mg.includes(v)||(l[v]=p)}),l=Zl(l);var u;if(a&&(u={x:r,y:o,value:a},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"])){var d=t["bpmndi:BPMNLabel"]["dc:Bounds"];u.x=Number(d["-x"])+Number(d["-width"])/2,u.y=Number(d["-y"])+Number(d["-height"])/2}var c={id:t["-bpmnElement"],type:e,x:r,y:o,properties:l};return i&&(c.children=i),u&&(c.text=u),c}function Vk(t,e){var n=[];if(Array.isArray(t))t.forEach(function(o){var i;Array.isArray(e)?i=e.find(function(a){return a["-bpmnElement"]===o["-id"]}):i=e,n.push(e1(i,o))});else{var r=void 0;Array.isArray(e)?r=e.find(function(o){return o["-bpmnElement"]===t["-id"]}):r=e,n.push(e1(r,t))}return n}function e1(t,e){var n,r=e["-name"]?"".concat(e["-name"]):"";if(r){var o=t["bpmndi:BPMNLabel"]["dc:Bounds"],i=0;r.split(`
`).forEach(function(u){i<u.length&&(i=u.length)}),n={value:r,x:Number(o["-x"])+i*10/2,y:Number(o["-y"])+7}}var a={};Object.entries(e).forEach(function(u){var d=hn(u,2),c=d[0],f=d[1];Mg.includes(c)||(a[c]=f)}),a=Zl(a);var s=t["di:waypoint"].map(function(u){return{x:Number(u["-x"]),y:Number(u["-y"])}}),l={id:e["-id"],type:xn.FLOW,pointsList:s,sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:a};return n&&(l.text=n),l}var Hn=function(){function t(e){var n=e.lf,r=this;this.adapterOut=function(o,i){var a,s,l=Iu({},r.processAttributes);Hk(l,o,i);var u={"-id":"BPMNPlane_1","-bpmnElement":l["-id"]};Bk(u,o);var d=r.definitionAttributes;d["bpmn:process"]=l,d["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u};var c={"bpmn:definitions":d};if(!((a=i==null?void 0:i.mapping)===null||a===void 0)&&a.out){var f=(s=i==null?void 0:i.mapping)===null||s===void 0?void 0:s.out,h=function(v){Array.isArray(v)&&v.forEach(function(p){return h(p)}),typeof v=="object"&&Object.keys(v).forEach(function(p){var g;(g=f[p])?(v[g]=b.cloneDeep(v[p]),delete v[p],h(v[g])):h(v[p])})};h(c)}return c},this.adapterIn=function(o,i){if(o)return $k(o,i)},n.adapterIn=this.adapterIn,n.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return t.prototype.setCustomShape=function(e,n){t.shapeConfigMap.set(e,n)},t.pluginName="bpmn-adapter",t.shapeConfigMap=new Map,t}();Hn.shapeConfigMap.set(xn.START,{width:Fh.width,height:Fh.height});Hn.shapeConfigMap.set(xn.END,{width:Vh.width,height:Vh.height});Hn.shapeConfigMap.set(xn.INTERMEDIATE_CATCH,{width:Gl.width,height:Gl.height});Hn.shapeConfigMap.set(xn.INTERMEDIATE_THROW,{width:Gl.width,height:Gl.height});Hn.shapeConfigMap.set(xn.BOUNDARY,{width:zh.width,height:zh.height});Hn.shapeConfigMap.set(xn.PARALLEL_GATEWAY,{width:Wh.width,height:Wh.height});Hn.shapeConfigMap.set(xn.INCLUSIVE_GATEWAY,{width:Uh.width,height:Uh.height});Hn.shapeConfigMap.set(xn.EXCLUSIVE_GATEWAY,{width:Gh.width,height:Gh.height});Hn.shapeConfigMap.set(xn.SYSTEM,{width:Xh.width,height:Xh.height});Hn.shapeConfigMap.set(xn.USER,{width:Yh.width,height:Yh.height});Hn.shapeConfigMap.set(xn.SUBPROCESS,{width:Zh.width,height:Zh.height});(function(t){Dk(e,t);function e(n){var r=t.call(this,n)||this;r.adapterXmlIn=function(a){var s=Pk(a);return r.adapterIn(s,r.props)},r.adapterXmlOut=function(a){var s=r.adapterOut(a,r.props);return Lk(s)};var o=n.lf,i=n.props;return o.adapterIn=r.adapterXmlIn,o.adapterOut=r.adapterXmlOut,r.props=i,r}return e.pluginName="BPMNAdapter",e})(Hn);function zk(t,e,n){var r=e.x,o=e.y,i=t.x,a=t.y,s=i-r,l=a-o,u=s*Math.cos(n)-l*Math.sin(n),d=s*Math.sin(n)+l*Math.cos(n),c=u+r,f=d+o;return{x:c,y:f}}var Wk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kl=function(){return Kl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Kl.apply(this,arguments)},Uk=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},Gk=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};(function(t){Wk(e,t);function e(){var n=t.apply(this,Gk([],Uk(arguments),!1))||this;return n.childrenPositionMap=new Map,n.onNodeRotate=function(r){var o=r.model,i=n.props,a=i.model,s=i.graphModel,l=a.transformWithContainer,u=a.isRestrict,d=n.childrenPositionMap;if(!(!l||u)&&o.id===a.id){var c={x:a.x,y:a.y};Ct(Array.from(a.children),function(f){var h=s.getNodeModelById(f);if(h){var v={x:h.x,y:h.y};d.has(h.id)?v=d.get(h.id):d.set(h.id,v);var p=o.rotate*(180/Math.PI);p<0&&(p+=360);var g=p*(Math.PI/180),m=zk(v,c,g);h.moveTo(m.x,m.y),h.rotate=o.rotate}})}},n.onNodeResize=function(r){var o=r.deltaX,i=r.deltaY,a=r.index,s=r.model,l=r.preData,u=n.props,d=u.model,c=u.graphModel,f=d.transformWithContainer,h=d.isRestrict;if(!(!f||h)&&s.id===d.id){var v=l.properties,p=v||{},g=p.width,m=p.height;Ct(Array.from(d.children),function(y){var A=c.getNodeModelById(y);if(A){var M=A.width/g*o,O=A.height/m*i;og({deltaX:M,deltaY:O,index:a,nodeModel:A,graphModel:c,cancelCallback:function(){}})}})}},n.onNodeMouseMove=function(){},n.graphRendered=function(){var r=n.props.model;r.isCollapsed&&r.toggleCollapse(!0)},n}return e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this);var n=this.props.graphModel.eventCenter;n.on("node:rotate",this.onNodeRotate),n.on("node:resize",this.onNodeResize),n.on("node:mousemove",this.onNodeMouseMove),n.on("graph:rendered",this.graphRendered)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this);var n=this.props.graphModel.eventCenter;n.off("node:rotate",this.onNodeRotate),n.off("node:resize",this.onNodeResize),n.off("node:mousemove",this.onNodeMouseMove),n.off("graph:rendered",this.graphRendered)},e.prototype.getNodesInGroup=function(n,r){var o=this,i=[];return n.isGroup&&Ct(Array.from(n.children),function(a){i.push(a);var s=r.getNodeModelById(a);s!=null&&s.isGroup&&(i=i.concat(o.getNodesInGroup(s,r)))}),i},e.prototype.getResizeControl=function(){var n=this.props.model,r=n.resizable,o=n.isCollapsed,i=r&&!o;return i?t.prototype.getResizeControl.call(this):null},e.prototype.getAppendAreaShape=function(){var n=this.props.model,r=n.width,o=n.height,i=n.x,a=n.y,s=n.radius,l=n.groupAddable;if(!l)return null;var u=n.getNodeStyle().strokeWidth,d=u===void 0?0:u,c=n.getAddableOutlineStyle(),f=r+d+8,h=o+d+8;return Oe("rect",Kl(Kl({},c),{width:f,height:h,x:i-f/2,y:a-h/2,rx:s,ry:s}))},e.prototype.getCollapseIcon=function(n,r){return"M ".concat(n+3,",").concat(r+6," ").concat(n+11,",").concat(r+6," M").concat(n+7,",").concat(r+2," ").concat(n+7,",").concat(r+10)},e.prototype.getExpandIcon=function(n,r){return"M ".concat(n+3,",").concat(r+6," ").concat(n+11,",").concat(r+6," ")},e.prototype.getOperateIcon=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=r-i/2+10,l=o-a/2+10;if(!n.collapsible)return null;var u=n!=null&&n.isCollapsed?this.getCollapseIcon(s,l):this.getExpandIcon(s,l),d=Oe("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u});return Oe("g",{},[Oe("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#f4f5f6",stroke:"#cecece",cursor:"pointer",x:s,y:l,onClick:function(){n.toggleCollapse(!n.isCollapsed)}}),d])},e.prototype.getShape=function(){return Oe("g",{},[this.getAppendAreaShape(),t.prototype.getShape.call(this),this.getOperateIcon()])},e})(Jo);var Xk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ql=function(){return ql=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ql.apply(this,arguments)},S2=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},Ci=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},xa=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Yk=400,Zk=230,Kk=80,qk=60,Jk=-1e4;(function(t){Xk(e,t);function e(n,r){var o=t.call(this,n,r)||this;return o.isGroup=!0,o.isRestrict=!1,o.autoResize=!1,o.collapsible=!0,o.isCollapsed=!1,o.groupAddable=!1,o.transformWithContainer=!1,o.childrenLastCollapseStateDict=new Map,o.childrenLastCollapseStateDict=new Map,o.initNodeData(n),o.setAttributes(),o}return e.prototype.initNodeData=function(n){var r;t.prototype.initNodeData.call(this,n);var o=(r=n.properties)!==null&&r!==void 0?r:{},i=o.children,a=o.width,s=o.height,l=o.collapsedWidth,u=o.collapsedHeight,d=o.collapsible,c=o.isCollapsed,f=o.zIndex,h=o.isRestrict,v=o.autoResize,p=o.autoToFront,g=o.transformWithContainer;this.children=i?new Set(i):new Set,this.zIndex=f??Jk,this.isCollapsed=c??!1;var m=a??Yk,y=s??Zk;this.width=m,this.height=y,this.expandWidth=m,this.expandHeight=y,this.collapsedWidth=l??Kk,this.collapsedHeight=u??qk,this.isRestrict=h??!1,this.transformWithContainer=g??!1,this.autoResize=v??!1,this.collapsible=d??!0,this.autoToFront=p??!1,this.text.editable=!1,this.text.draggable=!1},e.prototype.setAttributes=function(){t.prototype.setAttributes.call(this)},e.prototype.getData=function(){var n=this,r=t.prototype.getData.call(this),o=[];return Ct(Array.from(this.children),function(i){var a=n.graphModel.getNodeModelById(i);a&&!a.virtual&&o.push(i)}),r.children=o,r.properties&&(r.properties.children=o,r.properties.isCollapsed=this.isCollapsed),r},e.prototype.getNodesInGroup=function(n){var r=[];return n.isGroup&&Ct(Array.from(n.children),function(o){r.push(o)}),r},e.prototype.getMoveDistance=function(n,r,o){o===void 0&&(o=!1);var i=Ci(t.prototype.getMoveDistance.call(this,n,r,o),2),a=i[0],s=i[1],l=this.getNodesInGroup(this);return this.graphModel.moveNodes(l,n,r,o),[a,s]},e.prototype.getHistoryData=function(){var n=t.prototype.getHistoryData.call(this);n.children=Array.from(this.children),n.isGroup=!0;var r=this,o=r.x,i=r.y,a=r.collapsedWidth,s=r.collapsedHeight,l=r.expandWidth,u=r.expandHeight,d=r.isCollapsed;return d&&(n.x=o+l/2-a/2,n.y=i+u/2-s/2,n.text&&(n.text.x=n.text.x+l/2-a/2,n.text.y=n.text.y+u/2-s/2)),n},e.prototype.toggleCollapse=function(n){var r=this,o=!!n;this.isCollapsed=o,o?this.collapse():this.expand();var i=xa(xa([],Ci(this.incoming.edges),!1),Ci(this.outgoing.edges),!1),a=Array.from(this.children);Ct(a,function(s){var l,u,d=r.graphModel.elementsModelMap.get(s);if(d){var c=d.isCollapsed;if(d.isGroup){var f=d;if(f.isCollapsed||f.toggleCollapse(n),!n){var h=(l=r.childrenLastCollapseStateDict)===null||l===void 0?void 0:l.get(s);h!==void 0&&h!==d.isCollapsed&&f.toggleCollapse(h)}}if((u=r.childrenLastCollapseStateDict)===null||u===void 0||u.set(s,!!c),d.visible=!n,d.BaseType===$t.NODE){var v=d.incoming.edges,p=d.outgoing.edges;i=xa(xa(xa([],Ci(i),!1),Ci(v),!1),Ci(p),!1)}}}),this.collapseEdge(o,i)},e.prototype.collapse=function(){var n=this,r=n.x,o=n.y,i=n.text,a=n.width,s=n.height,l=n.collapsedWidth,u=n.collapsedHeight;this.x=r-a/2+l/2,this.y=o-s/2+u/2,this.text.x=i.x-a/2+l/2,this.text.y=i.y-s/2+u/2,this.expandWidth=a,this.expandHeight=s,this.width=l,this.height=u},e.prototype.expand=function(){var n=this,r=n.x,o=n.y,i=n.text,a=n.expandWidth,s=n.expandHeight,l=n.collapsedWidth,u=n.collapsedHeight;this.width=a,this.height=s,this.x=r+this.width/2-l/2,this.y=o+this.height/2-u/2,this.text.x=i.x+this.width/2-l/2,this.text.y=i.y+this.height/2-u/2},e.prototype.createVirtualEdge=function(n){n.pointsList=void 0;var r=this.graphModel.addEdge(n);r.virtual=!0,r.text.editable=!1,r.isCollapsedEdge=!0},e.prototype.collapseEdge=function(n,r){var o=this,i=this.graphModel;Ct(r,function(a,s){var l,u=a.getData(),d=u.targetNodeId,c=u.sourceNodeId,f=ql(ql({},u),{id:"".concat(u.id,"__").concat(s),text:(l=u.text)===null||l===void 0?void 0:l.value});a.virtual&&i.deleteEdgeById(a.id);var h=i.dynamicGroup.getGroupByNodeId(d);h||(h=i.getNodeModelById(d));var v=i.dynamicGroup.getGroupByNodeId(c);v||(v=i.getNodeModelById(c)),n&&a.visible&&(o.children.has(c)||o.id===c?(f.startPoint=void 0,f.sourceNodeId=o.id):(f.endPoint=void 0,f.targetNodeId=o.id),(h.id!==o.id||v.id!==o.id)&&o.createVirtualEdge(f),a.visible=!1),!n&&!a.visible&&(h&&h.isGroup&&h.isCollapsed?(f.targetNodeId=h.id,f.endPoint=void 0,o.createVirtualEdge(f)):v&&v.isGroup&&v.isCollapsed?(f.sourceNodeId=v.id,f.startPoint=void 0,o.createVirtualEdge(f)):a.visible=!0)})},e.prototype.isAllowAppendIn=function(n){return!0},e.prototype.setAllowAppendChild=function(n){this.groupAddable=n},e.prototype.addChild=function(n){this.children.add(n);var r=this.getData();this.graphModel.eventCenter.emit("group:add-node",{data:r})},e.prototype.removeChild=function(n){this.children.delete(n);var r=this.getData();this.graphModel.eventCenter.emit("group:remove-node",{data:r})},e.prototype.toBack=function(){this.zIndex--},e.prototype.getResizeOutlineStyle=function(){var n=t.prototype.getResizeOutlineStyle.call(this);return n.stroke="none",n},e.prototype.getAnchorStyle=function(){var n=t.prototype.getAnchorStyle.call(this);return n.stroke="transparent",n.fill="transparent",n.hover&&(n.hover.fill="transparent",n.hover.stroke="transparent"),n},e.prototype.getAddableOutlineStyle=function(){return{stroke:"#feb663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},S2([J],e.prototype,"isCollapsed",void 0),S2([J],e.prototype,"groupAddable",void 0),S2([J],e.prototype,"transformWithContainer",void 0),e})(Gi);var t1;(function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"})(t1||(t1={}));var Qk=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wa=function(){return Wa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Wa.apply(this,arguments)},eL=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},tL=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},nL=function(t){Qk(e,t);function e(n){var r=t.call(this,n)||this;r.textRef=L0(),r.setHoverOn=function(){var l=r.props.element;l.isDragging||r.state.isHovered||(r.setState({isHovered:!0}),l.setHovered(!0))},r.setHoverOff=function(){var l=r.props.element;r.state.isHovered&&(r.setState({isHovered:!1}),l.setHovered(!1))},r.handleMouseDown=function(l){var u,d=r.props,c=d.label,f=d.graphModel,h=f.editConfigModel.nodeTextDraggable;((u=c.draggable)!==null&&u!==void 0?u:h)&&!r.state.isDragging&&!r.state.isEditing&&r.stepDrag.handleMouseDown(l)},r.handleMouseUp=function(l){r.state.isDragging&&r.stepDrag.handleMouseUp(l)},r.handleDragging=function(l){var u=l.deltaX,d=l.deltaY;r.state.isDragging||r.setState({isDragging:!0});var c=r.props,f=c.label,h=c.graphModel,v=h.transformModel,p=tL(v.fixDeltaXY(u,d),2),g=p[0],m=p[1];r.setElementModelLabelInfo({x:f.x+g,y:f.y+m}),h.eventCenter.emit("label:drag",{data:f.getData(),model:f})},r.handleDragEnd=function(){r.setState({isDragging:!1})},r.handleClick=function(l){var u=r.props,d=u.label,c=u.element,f=u.graphModel;c.setSelected(!r.state.isSelected),r.setState({isSelected:!r.state.isSelected}),r.setElementModelLabelInfo({isSelected:!0}),f.eventCenter.emit("label:click",{data:d.getData(),e:l,model:c})},r.handleDbClick=function(l){var u=r.props,d=u.label,c=u.element,f=u.graphModel;if(f.eventCenter.emit("label:dblclick",{data:d.getData(),e:l,model:c}),!d.editable){c.setSelected(!0);return}if(c.setSelected(),c.setElementState(gt.TEXT_EDIT),r.setState({isEditing:!0}),r.textRef.current){r.textRef.current.contentEditable="true",r.textRef.current.focus();var h=document.createRange(),v=window.getSelection();h.selectNodeContents(r.textRef.current),h.collapse(!1),v==null||v.removeAllRanges(),v==null||v.addRange(h)}},r.handleBlur=function(l){var u=r.props,d=u.label,c=u.element,f=u.graphModel.eventCenter;f.emit("label:blur",{e:l,model:c,data:d.getData(),element:r.textRef.current}),r.setState({isDragging:!1,isHovered:!1,isSelected:!1})},r.handleInput=function(l){var u=r.props,d=u.label,c=u.graphModel;c.eventCenter.emit("label:input",{e:l,data:d.getData()})},r.reCalcLabelSize=function(){};var o=n.label,i=n.graphModel,a=i.gridSize,s=i.eventCenter;return r.stepDrag=new rr({onDragging:r.handleDragging,onDragEnd:r.handleDragEnd,step:a,eventType:"LABEL",model:o,eventCenter:s}),r.state={isEditing:!1,isHovered:!1,isDragging:!1,isSelected:!1},r}return e.prototype.setElementModelLabelInfo=function(n){var r=this.props,o=r.label,i=r.element,a=r.graphModel,s=i.properties._label,l=s,u=N1(l,function(f){return f.id===o.id}),d=l[u];l[u]=Wa(Wa({},d),n);var c=a.getElement(i.id);c==null||c.setProperty("_label",l)},e.prototype.componentDidMount=function(){var n=this,r=this.props,o=r.label,i=r.element,a=r.graphModel;a.eventCenter.on("blank:click,node:click,edge:click,label:click",function(s){var l,u,d,c,f=s.data;if(((f==null?void 0:f.type)!=="label"||f.type==="label"&&f.id!==o.id||n.state.isSelected)&&n.setState({isSelected:!1}),((f==null?void 0:f.type)!=="label"||f.type=="label"&&f.id!==o.id)&&n.state.isEditing){n.setState({isEditing:!1});var h=(u=(l=n.textRef.current)===null||l===void 0?void 0:l.innerText)!==null&&u!==void 0?u:"",v=(c=(d=n.textRef.current)===null||d===void 0?void 0:d.innerHTML)!==null&&c!==void 0?c:"";n.setElementModelLabelInfo({value:h,content:v,isSelected:!1}),i.setElementState(gt.DEFAULT)}((f==null?void 0:f.type)!=="label"||f.type=="label"&&f.id!==o.id)&&n.textRef.current&&(n.textRef.current.contentEditable="false")})},e.prototype.componentDidUpdate=function(){},e.prototype.componentWillUnmount=function(){var n=this.props.graphModel;n.eventCenter.off("blank:click,node:click,edge:click")},e.prototype.render=function(){var n,r=this.props,o=r.label,i=r.element,a=r.graphModel,s=this.state,l=s.isDragging,u=s.isHovered,d=s.isSelected,c=s.isEditing,f=a.transformModel,h=f.getTransformStyle().transform,v=o.id,p=o.x,g=o.y,m=o.zIndex,y=o.vertical,A=o.style,M=o.rotate,O=o.content,w=o.labelWidth,_=o.textOverflowMode,N=w??(i.BaseType==="node"?i.width-20:80),R={left:"".concat(p-N/2,"px"),top:"".concat(g-10,"px"),width:"".concat(N,"px"),height:"20px",zIndex:m??1,transform:M?"".concat(h," rotate(").concat(M,"deg)"):"".concat(h," rotate(").concat(y?-.25:0,"turn)")};return Y("div",{id:"element-container-".concat(v),className:_u("lf-label-editor-container"),style:R,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onDblClick:this.handleDbClick,onBlur:this.handleBlur,onMouseEnter:this.setHoverOn,onMouseOver:this.setHoverOn,onMouseLeave:this.setHoverOff,children:Y("div",{ref:this.textRef,id:"editor-container-".concat(v),className:_u("lf-label-editor",(n={"lf-label-editor-dragging":l,"lf-label-editor-editing":c,"lf-label-editor-hover":!c&&(u||d)},n["lf-label-editor-".concat(_)]=!c,n)),onInput:this.handleInput,style:Wa({maxWidth:"".concat(N,"px"),boxSizing:"border-box",display:"inline-block",background:c||i.BaseType==="edge"?"#fff":"transparent"},A),dangerouslySetInnerHTML:{__html:O}})})},e=eL([bn],e),e}(ut),Gn=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},rL=mo,oL=function(){function t(e,n,r){var o;this.type="label",this.content="",this.value="",this.style={},this.vertical=!1,this.editable=!0,this.draggable=!0,this.textOverflowMode="default",this.element=n,this.graphModel=r,this.id=(o=e.id)!==null&&o!==void 0?o:rL(),this.initLabelData(e)}return t.prototype.initLabelData=function(e){Mt(this,e)},t.prototype.getData=function(){return{id:this.id,x:this.x,y:this.y,type:"label",content:this.content,value:this.value,rotate:this.rotate,style:cr(this.style),draggable:this.draggable,editable:this.editable,labelWidth:this.labelWidth,textOverflowMode:this.textOverflowMode,vertical:this.vertical}},Gn([J],t.prototype,"x",void 0),Gn([J],t.prototype,"y",void 0),Gn([J],t.prototype,"content",void 0),Gn([J],t.prototype,"value",void 0),Gn([J],t.prototype,"rotate",void 0),Gn([J],t.prototype,"style",void 0),Gn([J],t.prototype,"zIndex",void 0),Gn([J],t.prototype,"vertical",void 0),Gn([J],t.prototype,"editable",void 0),Gn([J],t.prototype,"draggable",void 0),Gn([J],t.prototype,"labelWidth",void 0),Gn([J],t.prototype,"textOverflowMode",void 0),t}(),Ag={exports:{}};(function(t){/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */"classList"in document.createElement("_")||function(e){if("Element"in e){var n="classList",r="prototype",o=e.Element[r],i=Object,a=String[r].trim||function(){return this.replace(/^\s+|\s+$/g,"")},s=Array[r].indexOf||function(v){for(var p=0,g=this.length;p<g;p++)if(p in this&&this[p]===v)return p;return-1},l=function(v,p){this.name=v,this.code=DOMException[v],this.message=p},u=function(v,p){if(p==="")throw new l("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(p))throw new l("INVALID_CHARACTER_ERR","String contains an invalid character");return s.call(v,p)},d=function(v){for(var p=a.call(v.getAttribute("class")||""),g=p?p.split(/\s+/):[],m=0,y=g.length;m<y;m++)this.push(g[m]);this._updateClassName=function(){v.setAttribute("class",this.toString())}},c=d[r]=[],f=function(){return new d(this)};if(l[r]=Error[r],c.item=function(v){return this[v]||null},c.contains=function(v){return v+="",u(this,v)!==-1},c.add=function(){var v=arguments,p=0,g=v.length,m,y=!1;do m=v[p]+"",u(this,m)===-1&&(this.push(m),y=!0);while(++p<g);y&&this._updateClassName()},c.remove=function(){var v=arguments,p=0,g=v.length,m,y=!1,A;do for(m=v[p]+"",A=u(this,m);A!==-1;)this.splice(A,1),y=!0,A=u(this,m);while(++p<g);y&&this._updateClassName()},c.toggle=function(v,p){v+="";var g=this.contains(v),m=g?p!==!0&&"remove":p!==!1&&"add";return m&&this[m](v),p===!0||p===!1?p:!g},c.toString=function(){return this.join(" ")},i.defineProperty){var h={get:f,enumerable:!0,configurable:!0};try{i.defineProperty(o,n,h)}catch(v){v.number===-2146823252&&(h.enumerable=!1,i.defineProperty(o,n,h))}}else i[r].__defineGetter__&&o.__defineGetter__(n,f)}}(self);/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */(function(e){if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{new Blob;return}catch{}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(o){var i=function(_){return Object.prototype.toString.call(_).match(/^\[object\s(.*)\]$/)[1]},a=function(){this.data=[]},s=function(N,R,I){this.data=N,this.size=N.length,this.type=R,this.encoding=I},l=a.prototype,u=s.prototype,d=o.FileReaderSync,c=function(_){this.code=this[this.name=_]},f="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),h=f.length,v=o.URL||o.webkitURL||o,p=v.createObjectURL,g=v.revokeObjectURL,m=v,y=o.btoa,A=o.atob,M=o.ArrayBuffer,O=o.Uint8Array,w=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(s.fake=u.fake=!0;h--;)c.prototype[f[h]]=h+1;return v.createObjectURL||(m=o.URL=function(_){var N=document.createElementNS("http://www.w3.org/1999/xhtml","a"),R;return N.href=_,"origin"in N||(N.protocol.toLowerCase()==="data:"?N.origin=null:(R=_.match(w),N.origin=R&&R[1])),N}),m.createObjectURL=function(_){var N=_.type,R;if(N===null&&(N="application/octet-stream"),_ instanceof s)return R="data:"+N,_.encoding==="base64"?R+";base64,"+_.data:_.encoding==="URI"?R+","+decodeURIComponent(_.data):y?R+";base64,"+y(_.data):R+","+encodeURIComponent(_.data);if(p)return p.call(v,_)},m.revokeObjectURL=function(_){_.substring(0,5)!=="data:"&&g&&g.call(v,_)},l.append=function(_){var N=this.data;if(O&&(_ instanceof M||_ instanceof O)){for(var R="",I=new O(_),W=0,G=I.length;W<G;W++)R+=String.fromCharCode(I[W]);N.push(R)}else if(i(_)==="Blob"||i(_)==="File")if(d){var C=new d;N.push(C.readAsBinaryString(_))}else throw new c("NOT_READABLE_ERR");else _ instanceof s?_.encoding==="base64"&&A?N.push(A(_.data)):_.encoding==="URI"?N.push(decodeURIComponent(_.data)):_.encoding==="raw"&&N.push(_.data):(typeof _!="string"&&(_+=""),N.push(unescape(encodeURIComponent(_))))},l.getBlob=function(_){return arguments.length||(_=null),new s(this.data.join(""),_,"raw")},l.toString=function(){return"[object BlobBuilder]"},u.slice=function(_,N,R){var I=arguments.length;return I<3&&(R=null),new s(this.data.slice(_,I>1?N:this.data.length),R,this.encoding)},u.toString=function(){return"[object Blob]"},u.close=function(){this.size=0,delete this.data},a}(e);e.Blob=function(o,i){var a=i&&i.type||"",s=new n;if(o)for(var l=0,u=o.length;l<u;l++)Uint8Array&&o[l]instanceof Uint8Array?s.append(o[l].buffer):s.append(o[l]);var d=s.getBlob(a);return!d.slice&&d.webkitSlice&&(d.slice=d.webkitSlice),d};var r=Object.getPrototypeOf||function(o){return o.__proto__};e.Blob.prototype=r(new e.Blob)})(typeof self<"u"&&self||typeof window<"u"&&window||J0.content||J0),function(e,n){var r=typeof process<"u"&&process&&process.versions&&process.versions.electron;r?e.MediumEditor=n:t.exports=n}(J0,function(){function e(n,r){return this.init(n,r)}return e.extensions={},function(n){function r(l,u){var d,c=Array.prototype.slice.call(arguments,2);u=u||{};for(var f=0;f<c.length;f++){var h=c[f];if(h)for(d in h)h.hasOwnProperty(d)&&typeof h[d]<"u"&&(l||u.hasOwnProperty(d)===!1)&&(u[d]=h[d])}return u}var o=!1;try{var i=document.createElement("div"),a=document.createTextNode(" ");i.appendChild(a),o=i.contains(a)}catch{}var s={isIE:navigator.appName==="Microsoft Internet Explorer"||navigator.appName==="Netscape"&&new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!==null,isEdge:/Edge\/\d+/.exec(navigator.userAgent)!==null,isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:n.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(l){return!!(s.isMac&&l.metaKey||!s.isMac&&l.ctrlKey)},isKey:function(l,u){var d=s.getKeyCode(l);return Array.isArray(u)===!1?d===u:u.indexOf(d)!==-1},getKeyCode:function(l){var u=l.which;return u===null&&(u=l.charCode!==null?l.charCode:l.keyCode),u},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var u=[!0].concat(Array.prototype.slice.call(arguments));return r.apply(this,u)},defaults:function(){var u=[!1].concat(Array.prototype.slice.call(arguments));return r.apply(this,u)},createLink:function(l,u,d,c){var f=l.createElement("a");return s.moveTextRangeIntoElement(u[0],u[u.length-1],f),f.setAttribute("href",d),c&&(c==="_blank"&&f.setAttribute("rel","noopener noreferrer"),f.setAttribute("target",c)),f},findOrCreateMatchingTextNodes:function(l,u,d){for(var c=l.createTreeWalker(u,NodeFilter.SHOW_ALL,null,!1),f=[],h=0,v=!1,p=null,g=null;(p=c.nextNode())!==null;)if(!(p.nodeType>3))if(p.nodeType===3){if(!v&&d.start<h+p.nodeValue.length&&(v=!0,g=s.splitStartNodeIfNeeded(p,d.start,h)),v&&s.splitEndNodeIfNeeded(p,g,d.end,h),v&&h===d.end)break;if(v&&h>d.end+1)throw new Error("PerformLinking overshot the target!");v&&f.push(g||p),h+=p.nodeValue.length,g!==null&&(h+=g.nodeValue.length,c.nextNode()),g=null}else p.tagName.toLowerCase()==="img"&&(!v&&d.start<=h&&(v=!0),v&&f.push(p));return f},splitStartNodeIfNeeded:function(l,u,d){return u!==d?l.splitText(u-d):null},splitEndNodeIfNeeded:function(l,u,d,c){var f,h;f=c+l.nodeValue.length+(u?u.nodeValue.length:0)-1,h=d-c-(u?l.nodeValue.length:0),f>=d&&c!==f&&h!==0&&(u||l).splitText(h)},splitByBlockElements:function(l){if(l.nodeType!==3&&l.nodeType!==1)return[];var u=[],d=e.util.blockContainerElementNames.join(",");if(l.nodeType===3||l.querySelectorAll(d).length===0)return[l];for(var c=0;c<l.childNodes.length;c++){var f=l.childNodes[c];if(f.nodeType===3)u.push(f);else if(f.nodeType===1){var h=f.querySelectorAll(d);h.length===0?u.push(f):u=u.concat(e.util.splitByBlockElements(f))}}return u},findAdjacentTextNodeWithContent:function(u,d,c){var f=!1,h,v=c.createNodeIterator(u,NodeFilter.SHOW_TEXT,null,!1);for(h=v.nextNode();h;){if(h===d)f=!0;else if(f&&h.nodeType===3&&h.nodeValue&&h.nodeValue.trim().length>0)break;h=v.nextNode()}return h},findPreviousSibling:function(l){if(!l||s.isMediumEditorElement(l))return!1;for(var u=l.previousSibling;!u&&!s.isMediumEditorElement(l.parentNode);)l=l.parentNode,u=l.previousSibling;return u},isDescendant:function(u,d,c){if(!u||!d)return!1;if(u===d)return!!c;if(u.nodeType!==1)return!1;if(o||d.nodeType!==3)return u.contains(d);for(var f=d.parentNode;f!==null;){if(f===u)return!0;f=f.parentNode}return!1},isElement:function(u){return!!(u&&u.nodeType===1)},throttle:function(l,u){var d=50,c,f,h,v=null,p=0,g=function(){p=Date.now(),v=null,h=l.apply(c,f),v||(c=f=null)};return!u&&u!==0&&(u=d),function(){var m=Date.now(),y=u-(m-p);return c=this,f=arguments,y<=0||y>u?(v&&(clearTimeout(v),v=null),p=m,h=l.apply(c,f),v||(c=f=null)):v||(v=setTimeout(g,y)),h}},traverseUp:function(l,u){if(!l)return!1;do{if(l.nodeType===1){if(u(l))return l;if(s.isMediumEditorElement(l))return!1}l=l.parentNode}while(l);return!1},htmlEntities:function(l){return String(l).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(l,u){var d,c,f,h,v,p,g,m=!1,y=["insertHTML",!1,u];if(!e.util.isEdge&&l.queryCommandSupported("insertHTML"))try{return l.execCommand.apply(l,y)}catch{}if(d=l.getSelection(),d.rangeCount){if(c=d.getRangeAt(0),g=c.commonAncestorContainer,s.isMediumEditorElement(g)&&!g.firstChild)c.selectNode(g.appendChild(l.createTextNode("")));else if(g.nodeType===3&&c.startOffset===0&&c.endOffset===g.nodeValue.length||g.nodeType!==3&&g.innerHTML===c.toString()){for(;!s.isMediumEditorElement(g)&&g.parentNode&&g.parentNode.childNodes.length===1&&!s.isMediumEditorElement(g.parentNode);)g=g.parentNode;c.selectNode(g)}for(c.deleteContents(),f=l.createElement("div"),f.innerHTML=u,h=l.createDocumentFragment();f.firstChild;)v=f.firstChild,p=h.appendChild(v);c.insertNode(h),p&&(c=c.cloneRange(),c.setStartAfter(p),c.collapse(!0),e.selection.selectRange(l,c)),m=!0}return l.execCommand.callListeners&&l.execCommand.callListeners(y,m),m},execFormatBlock:function(l,u){var d=s.getTopBlockContainer(e.selection.getSelectionStart(l)),c;if(u==="blockquote"){if(d&&(c=Array.prototype.slice.call(d.childNodes),c.some(function(f){return s.isBlockContainer(f)})))return l.execCommand("outdent",!1,null);if(s.isIE)return l.execCommand("indent",!1,u)}if(d&&u===d.nodeName.toLowerCase()&&(u="p"),s.isIE&&(u="<"+u+">"),d&&d.nodeName.toLowerCase()==="blockquote"){if(s.isIE&&u==="<p>")return l.execCommand("outdent",!1,u);if((s.isFF||s.isEdge)&&u==="p")return c=Array.prototype.slice.call(d.childNodes),c.some(function(f){return!s.isBlockContainer(f)})&&l.execCommand("formatBlock",!1,u),l.execCommand("outdent",!1,u)}return l.execCommand("formatBlock",!1,u)},setTargetBlank:function(l,u){var d,c=u||!1;if(l.nodeName.toLowerCase()==="a")l.target="_blank",l.rel="noopener noreferrer";else for(l=l.getElementsByTagName("a"),d=0;d<l.length;d+=1)(c===!1||c===l[d].attributes.href.value)&&(l[d].target="_blank",l[d].rel="noopener noreferrer")},removeTargetBlank:function(l,u){var d;if(l.nodeName.toLowerCase()==="a")l.removeAttribute("target"),l.removeAttribute("rel");else for(l=l.getElementsByTagName("a"),d=0;d<l.length;d+=1)u===l[d].attributes.href.value&&(l[d].removeAttribute("target"),l[d].removeAttribute("rel"))},addClassToAnchors:function(l,u){var d=u.split(" "),c,f;if(l.nodeName.toLowerCase()==="a")for(f=0;f<d.length;f+=1)l.classList.add(d[f]);else{var h=l.getElementsByTagName("a");if(h.length===0){var v=s.getClosestTag(l,"a");l=v?[v]:[]}else l=h;for(c=0;c<l.length;c+=1)for(f=0;f<d.length;f+=1)l[c].classList.add(d[f])}},isListItem:function(l){if(!l)return!1;if(l.nodeName.toLowerCase()==="li")return!0;for(var u=l.parentNode,d=u.nodeName.toLowerCase();d==="li"||!s.isBlockContainer(u)&&d!=="div";){if(d==="li")return!0;if(u=u.parentNode,u)d=u.nodeName.toLowerCase();else return!1}return!1},cleanListDOM:function(l,u){if(u.nodeName.toLowerCase()==="li"){var d=u.parentElement;d.parentElement.nodeName.toLowerCase()==="p"&&(s.unwrap(d.parentElement,l),e.selection.moveCursor(l,u.firstChild,u.firstChild.textContent.length))}},splitOffDOMTree:function(l,u,d){for(var c=u,f=null,h=!d;c!==l;){var v=c.parentNode,p=v.cloneNode(!1),g=h?c:v.firstChild,m;for(f&&(h?p.appendChild(f):m=f),f=p;g;){var y=g.nextSibling;g===c?(g.hasChildNodes()?g=g.cloneNode(!1):g.parentNode.removeChild(g),g.textContent&&f.appendChild(g),g=h?y:null):(g.parentNode.removeChild(g),(g.hasChildNodes()||g.textContent)&&f.appendChild(g),g=y)}m&&f.appendChild(m),c=v}return f},moveTextRangeIntoElement:function(l,u,d){if(!l||!u)return!1;var c=s.findCommonRoot(l,u);if(!c)return!1;if(u===l){var f=l.parentNode,h=l.nextSibling;return f.removeChild(l),d.appendChild(l),h?f.insertBefore(d,h):f.appendChild(d),d.hasChildNodes()}for(var v=[],p,g,m,y=0;y<c.childNodes.length;y++)if(m=c.childNodes[y],!p)s.isDescendant(m,l,!0)&&(p=m);else if(s.isDescendant(m,u,!0)){g=m;break}else v.push(m);var A=g.nextSibling,M=c.ownerDocument.createDocumentFragment();return p===l?(p.parentNode.removeChild(p),M.appendChild(p)):M.appendChild(s.splitOffDOMTree(p,l)),v.forEach(function(O){O.parentNode.removeChild(O),M.appendChild(O)}),g===u?(g.parentNode.removeChild(g),M.appendChild(g)):M.appendChild(s.splitOffDOMTree(g,u,!0)),d.appendChild(M),g.parentNode===c?c.insertBefore(d,g):A?c.insertBefore(d,A):c.appendChild(d),d.hasChildNodes()},depthOfNode:function(l){for(var u=0,d=l;d.parentNode!==null;)d=d.parentNode,u++;return u},findCommonRoot:function(l,u){for(var d=s.depthOfNode(l),c=s.depthOfNode(u),f=l,h=u;d!==c;)d>c?(f=f.parentNode,d-=1):(h=h.parentNode,c-=1);for(;f!==h;)f=f.parentNode,h=h.parentNode;return f},isElementAtBeginningOfBlock:function(l){for(var u,d;!s.isBlockContainer(l)&&!s.isMediumEditorElement(l);){for(d=l;d=d.previousSibling;)if(u=d.nodeType===3?d.nodeValue:d.textContent,u.length>0)return!1;l=l.parentNode}return!0},isMediumEditorElement:function(l){return l&&l.getAttribute&&!!l.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(l){return s.traverseUp(l,function(u){return s.isMediumEditorElement(u)})},isBlockContainer:function(l){return l&&l.nodeType!==3&&s.blockContainerElementNames.indexOf(l.nodeName.toLowerCase())!==-1},getClosestBlockContainer:function(l){return s.traverseUp(l,function(u){return s.isBlockContainer(u)||s.isMediumEditorElement(u)})},getTopBlockContainer:function(l){var u=s.isBlockContainer(l)?l:!1;return s.traverseUp(l,function(d){return s.isBlockContainer(d)&&(u=d),!u&&s.isMediumEditorElement(d)?(u=d,!0):!1}),u},getFirstSelectableLeafNode:function(l){for(;l&&l.firstChild;)l=l.firstChild;if(l=s.traverseUp(l,function(d){return s.emptyElementNames.indexOf(d.nodeName.toLowerCase())===-1}),l.nodeName.toLowerCase()==="table"){var u=l.querySelector("th, td");u&&(l=u)}return l},getFirstTextNode:function(l){return s.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),s._getFirstTextNode(l)},_getFirstTextNode:function(l){if(l.nodeType===3)return l;for(var u=0;u<l.childNodes.length;u++){var d=s._getFirstTextNode(l.childNodes[u]);if(d!==null)return d}return null},ensureUrlHasProtocol:function(l){return l.indexOf("://")===-1?"http://"+l:l},warn:function(){n.console!==void 0&&typeof n.console.warn=="function"&&n.console.warn.apply(n.console,arguments)},deprecated:function(l,u,d){var c=l+" is deprecated, please use "+u+" instead.";d&&(c+=" Will be removed in "+d),s.warn(c)},deprecatedMethod:function(l,u,d,c){s.deprecated(l,u,c),typeof this[u]=="function"&&this[u].apply(this,d)},cleanupAttrs:function(l,u){u.forEach(function(d){l.removeAttribute(d)})},cleanupTags:function(l,u){u.indexOf(l.nodeName.toLowerCase())!==-1&&l.parentNode.removeChild(l)},unwrapTags:function(l,u){u.indexOf(l.nodeName.toLowerCase())!==-1&&e.util.unwrap(l,document)},getClosestTag:function(l,u){return s.traverseUp(l,function(d){return d.nodeName.toLowerCase()===u.toLowerCase()})},unwrap:function(l,u){for(var d=u.createDocumentFragment(),c=Array.prototype.slice.call(l.childNodes),f=0;f<c.length;f++)d.appendChild(c[f]);d.childNodes.length?l.parentNode.replaceChild(d,l):l.parentNode.removeChild(l)},guid:function(){function l(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()}};e.util=s}(window),function(){var n=function(r){e.util.extend(this,r)};n.extend=function(r){var o=this,i;r&&r.hasOwnProperty("constructor")?i=r.constructor:i=function(){return o.apply(this,arguments)},e.util.extend(i,o);var a=function(){this.constructor=i};return a.prototype=o.prototype,i.prototype=new a,r&&e.util.extend(i.prototype,r),i},n.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(r){return this.base.options[r]}},["execAction","on","off","subscribe","trigger"].forEach(function(r){n.prototype[r]=function(){return this.base[r].apply(this.base,arguments)}}),e.Extension=n}(),function(){function n(o){return e.util.isBlockContainer(o)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var r={findMatchingSelectionParent:function(o,i){var a=i.getSelection(),s,l;return a.rangeCount===0?!1:(s=a.getRangeAt(0),l=s.commonAncestorContainer,e.util.traverseUp(l,o))},getSelectionElement:function(o){return this.findMatchingSelectionParent(function(i){return e.util.isMediumEditorElement(i)},o)},exportSelection:function(o,i){if(!o)return null;var a=null,s=i.getSelection();if(s.rangeCount>0){var l=s.getRangeAt(0),u=l.cloneRange(),d;u.selectNodeContents(o),u.setEnd(l.startContainer,l.startOffset),d=u.toString().length,a={start:d,end:d+l.toString().length},this.doesRangeStartWithImages(l,i)&&(a.startsWithImage=!0);var c=this.getTrailingImageCount(o,a,l.endContainer,l.endOffset);if(c&&(a.trailingImageCount=c),d!==0){var f=this.getIndexRelativeToAdjacentEmptyBlocks(i,o,l.startContainer,l.startOffset);f!==-1&&(a.emptyBlocksIndex=f)}}return a},importSelection:function(o,i,a,s){if(!(!o||!i)){var l=a.createRange();l.setStart(i,0),l.collapse(!0);var u=i,d=[],c=0,f=!1,h=!1,v=0,p=!1,g,m=!1,y=null;for((s||o.startsWithImage||typeof o.emptyBlocksIndex<"u")&&(m=!0);!p&&u;){if(u.nodeType>3){u=d.pop();continue}if(u.nodeType===3&&!h)g=c+u.length,!f&&o.start>=c&&o.start<=g&&(m||o.start<g?(l.setStart(u,o.start-c),f=!0):y=u),f&&o.end>=c&&o.end<=g&&(o.trailingImageCount?h=!0:(l.setEnd(u,o.end-c),p=!0)),c=g;else{if(o.trailingImageCount&&h&&(u.nodeName.toLowerCase()==="img"&&v++,v===o.trailingImageCount)){for(var A=0;u.parentNode.childNodes[A]!==u;)A++;l.setEnd(u.parentNode,A+1),p=!0}if(!p&&u.nodeType===1)for(var M=u.childNodes.length-1;M>=0;)d.push(u.childNodes[M]),M-=1}p||(u=d.pop())}!f&&y&&(l.setStart(y,y.length),l.setEnd(y,y.length)),typeof o.emptyBlocksIndex<"u"&&(l=this.importSelectionMoveCursorPastBlocks(a,i,o.emptyBlocksIndex,l)),s&&(l=this.importSelectionMoveCursorPastAnchor(o,l)),this.selectRange(a,l)}},importSelectionMoveCursorPastAnchor:function(o,i){var a=function(c){return c.nodeName.toLowerCase()==="a"};if(o.start===o.end&&i.startContainer.nodeType===3&&i.startOffset===i.startContainer.nodeValue.length&&e.util.traverseUp(i.startContainer,a)){for(var s=i.startContainer,l=i.startContainer.parentNode;l!==null&&l.nodeName.toLowerCase()!=="a";)l.childNodes[l.childNodes.length-1]!==s?l=null:(s=l,l=l.parentNode);if(l!==null&&l.nodeName.toLowerCase()==="a"){for(var u=null,d=0;u===null&&d<l.parentNode.childNodes.length;d++)l.parentNode.childNodes[d]===l&&(u=d);i.setStart(l.parentNode,u+1),i.collapse(!0)}}return i},importSelectionMoveCursorPastBlocks:function(o,i,a,s){var l=o.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,n,!1),u=s.startContainer,d,c,f=0;for(a=a||1,u.nodeType===3&&e.util.isBlockContainer(u.previousSibling)?d=u.previousSibling:d=e.util.getClosestBlockContainer(u);l.nextNode();)if(!c)d===l.currentNode&&(c=l.currentNode);else if(c=l.currentNode,f++,f===a||c.textContent.length>0)break;return c||(c=d),s.setStart(e.util.getFirstSelectableLeafNode(c),0),s},getIndexRelativeToAdjacentEmptyBlocks:function(o,i,a,s){if(a.textContent.length>0&&s>0)return-1;var l=a;if(l.nodeType!==3&&(l=a.childNodes[s]),l){if(!e.util.isElementAtBeginningOfBlock(l))return-1;var u=e.util.findPreviousSibling(l);if(u){if(u.nodeValue)return-1}else return-1}for(var d=e.util.getClosestBlockContainer(a),c=o.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,n,!1),f=0;c.nextNode();){var h=c.currentNode.textContent==="";if((h||f>0)&&(f+=1),c.currentNode===d)return f;h||(f=0)}return f},doesRangeStartWithImages:function(o,i){if(o.startOffset!==0||o.startContainer.nodeType!==1)return!1;if(o.startContainer.nodeName.toLowerCase()==="img")return!0;var a=o.startContainer.querySelector("img");if(!a)return!1;for(var s=i.createTreeWalker(o.startContainer,NodeFilter.SHOW_ALL,null,!1);s.nextNode();){var l=s.currentNode;if(l===a)break;if(l.nodeValue)return!1}return!0},getTrailingImageCount:function(o,i,a,s){if(s===0||a.nodeType!==1||a.nodeName.toLowerCase()!=="img"&&!a.querySelector("img"))return 0;for(var l=a.childNodes[s-1];l.hasChildNodes();)l=l.lastChild;for(var u=o,d=[],c=0,f=!1,h=!1,v=!1,p,g=0;!v&&u;){if(u.nodeType>3){u=d.pop();continue}if(u.nodeType===3&&!h)g=0,p=c+u.length,!f&&i.start>=c&&i.start<=p&&(f=!0),f&&i.end>=c&&i.end<=p&&(h=!0),c=p;else if(u.nodeName.toLowerCase()==="img"&&g++,u===l)v=!0;else if(u.nodeType===1)for(var m=u.childNodes.length-1;m>=0;)d.push(u.childNodes[m]),m-=1;v||(u=d.pop())}return g},selectionContainsContent:function(o){var i=o.getSelection();if(!i||i.isCollapsed||!i.rangeCount)return!1;if(i.toString().trim()!=="")return!0;var a=this.getSelectedParentElement(i.getRangeAt(0));return!!(a&&(a.nodeName.toLowerCase()==="img"||a.nodeType===1&&a.querySelector("img")))},selectionInContentEditableFalse:function(o){var i,a=this.findMatchingSelectionParent(function(s){var l=s&&s.getAttribute("contenteditable");return l==="true"&&(i=!0),s.nodeName!=="#text"&&l==="false"},o);return!i&&a},getSelectionHtml:function(i){var a,s="",l=i.getSelection(),u,d;if(l.rangeCount){for(d=i.createElement("div"),a=0,u=l.rangeCount;a<u;a+=1)d.appendChild(l.getRangeAt(a).cloneContents());s=d.innerHTML}return s},getCaretOffsets:function(i,a){var s,l;return a||(a=window.getSelection().getRangeAt(0)),s=a.cloneRange(),l=a.cloneRange(),s.selectNodeContents(i),s.setEnd(a.endContainer,a.endOffset),l.selectNodeContents(i),l.setStart(a.endContainer,a.endOffset),{left:s.toString().length,right:l.toString().length}},rangeSelectsSingleNode:function(o){var i=o.startContainer;return i===o.endContainer&&i.hasChildNodes()&&o.endOffset===o.startOffset+1},getSelectedParentElement:function(o){return o?this.rangeSelectsSingleNode(o)&&o.startContainer.childNodes[o.startOffset].nodeType!==3?o.startContainer.childNodes[o.startOffset]:o.startContainer.nodeType===3?o.startContainer.parentNode:o.startContainer:null},getSelectedElements:function(o){var i=o.getSelection(),a,s,l;if(!i.rangeCount||i.isCollapsed||!i.getRangeAt(0).commonAncestorContainer)return[];if(a=i.getRangeAt(0),a.commonAncestorContainer.nodeType===3){for(s=[],l=a.commonAncestorContainer;l.parentNode&&l.parentNode.childNodes.length===1;)s.push(l.parentNode),l=l.parentNode;return s}return[].filter.call(a.commonAncestorContainer.getElementsByTagName("*"),function(u){return typeof i.containsNode=="function"?i.containsNode(u,!0):!0})},selectNode:function(o,i){var a=i.createRange();a.selectNodeContents(o),this.selectRange(i,a)},select:function(o,i,a,s,l){var u=o.createRange();return u.setStart(i,a),s?u.setEnd(s,l):u.collapse(!0),this.selectRange(o,u),u},clearSelection:function(o,i){i?o.getSelection().collapseToStart():o.getSelection().collapseToEnd()},moveCursor:function(o,i,a){this.select(o,i,a)},getSelectionRange:function(o){var i=o.getSelection();return i.rangeCount===0?null:i.getRangeAt(0)},selectRange:function(o,i){var a=o.getSelection();a.removeAllRanges(),a.addRange(i)},getSelectionStart:function(o){var i=o.getSelection().anchorNode,a=i&&i.nodeType===3?i.parentNode:i;return a}};e.selection=r}(),function(){function n(o,i){return o?o.some(function(a){if(typeof a.getInteractionElements!="function")return!1;var s=a.getInteractionElements();return s?(Array.isArray(s)||(s=[s]),s.some(function(l){return e.util.isDescendant(l,i,!0)})):!1}):!1}var r=function(o){this.base=o,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};r.prototype={InputEventOnContenteditableSupported:!e.util.isIE&&!e.util.isEdge,attachDOMEvent:function(o,i,a,s){var l=this.base.options.contentWindow,u=this.base.options.ownerDocument;o=e.util.isElement(o)||[l,u].indexOf(o)>-1?[o]:o,Array.prototype.forEach.call(o,(function(d){d.addEventListener(i,a,s),this.events.push([d,i,a,s])}).bind(this))},detachDOMEvent:function(o,i,a,s){var l,u,d=this.base.options.contentWindow,c=this.base.options.ownerDocument;o&&(o=e.util.isElement(o)||[d,c].indexOf(o)>-1?[o]:o,Array.prototype.forEach.call(o,(function(f){l=this.indexOfListener(f,i,a,s),l!==-1&&(u=this.events.splice(l,1)[0],u[0].removeEventListener(u[1],u[2],u[3]))}).bind(this)))},indexOfListener:function(o,i,a,s){var l,u,d;for(l=0,u=this.events.length;l<u;l=l+1)if(d=this.events[l],d[0]===o&&d[1]===i&&d[2]===a&&d[3]===s)return l;return-1},detachAllDOMEvents:function(){for(var o=this.events.pop();o;)o[0].removeEventListener(o[1],o[2],o[3]),o=this.events.pop()},detachAllEventsFromElement:function(o){for(var i=this.events.filter(function(u){return u&&u[0].getAttribute&&u[0].getAttribute("medium-editor-index")===o.getAttribute("medium-editor-index")}),a=0,s=i.length;a<s;a++){var l=i[a];this.detachDOMEvent(l[0],l[1],l[2],l[3])}},attachAllEventsToElement:function(o){this.listeners.editableInput&&(this.contentCache[o.getAttribute("medium-editor-index")]=o.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(i){this.attachDOMEvent(o,i.name,i.handler.bind(this))},this)},enableCustomEvent:function(o){this.disabledEvents[o]!==void 0&&delete this.disabledEvents[o]},disableCustomEvent:function(o){this.disabledEvents[o]=!0},attachCustomEvent:function(o,i){this.setupListener(o),this.customEvents[o]||(this.customEvents[o]=[]),this.customEvents[o].push(i)},detachCustomEvent:function(o,i){var a=this.indexOfCustomListener(o,i);a!==-1&&this.customEvents[o].splice(a,1)},indexOfCustomListener:function(o,i){return!this.customEvents[o]||!this.customEvents[o].length?-1:this.customEvents[o].indexOf(i)},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(o,i,a){this.customEvents[o]&&!this.disabledEvents[o]&&this.customEvents[o].forEach(function(s){s(i,a)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(o){o.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=(function(o){this.handleDocumentExecCommand(o)}).bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var o=this.options.ownerDocument;if(!(!this.execCommandListener||!o.execCommand.listeners)){var i=o.execCommand.listeners.indexOf(this.execCommandListener);i!==-1&&o.execCommand.listeners.splice(i,1),o.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var o=this.options.ownerDocument;if(!o.execCommand.listeners){var i=function(s,l){o.execCommand.listeners&&o.execCommand.listeners.forEach(function(u){u({command:s[0],value:s[2],args:s,result:l})})},a=function(){var s=o.execCommand.orig.apply(this,arguments);if(!o.execCommand.listeners)return s;var l=Array.prototype.slice.call(arguments);return i(l,s),s};a.orig=o.execCommand,a.listeners=[],a.callListeners=i,o.execCommand=a}},unwrapExecCommand:function(){var o=this.options.ownerDocument;o.execCommand.orig&&(o.execCommand=o.execCommand.orig)},setupListener:function(o){if(!this.listeners[o]){switch(o){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(i){this.contentCache[i.getAttribute("medium-editor-index")]=i.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste);break}this.listeners[o]=!0}},attachToEachElement:function(o,i){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(a){this.attachDOMEvent(a,o,i.bind(this))},this),this.eventsCache.push({name:o,handler:i})},cleanupElement:function(o){var i=o.getAttribute("medium-editor-index");i&&(this.detachAllEventsFromElement(o),this.contentCache&&delete this.contentCache[i])},focusElement:function(o){o.focus(),this.updateFocus(o,{target:o,type:"focus"})},updateFocus:function(o,i){var a=this.base.getFocusedElement(),s;a&&i.type==="click"&&this.lastMousedownTarget&&(e.util.isDescendant(a,this.lastMousedownTarget,!0)||n(this.base.extensions,this.lastMousedownTarget))&&(s=a),s||this.base.elements.some(function(u){return!s&&e.util.isDescendant(u,o,!0)&&(s=u),!!s},this);var l=!e.util.isDescendant(a,o,!0)&&!n(this.base.extensions,o);s!==a&&(a&&l&&(a.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",i,a)),s&&(s.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",i,s))),l&&this.triggerCustomEvent("externalInteraction",i)},updateInput:function(o,i){if(this.contentCache){var a=o.getAttribute("medium-editor-index"),s=o.innerHTML;s!==this.contentCache[a]&&this.triggerCustomEvent("editableInput",i,o),this.contentCache[a]=s}},handleDocumentSelectionChange:function(o){if(o.currentTarget&&o.currentTarget.activeElement){var i=o.currentTarget.activeElement,a;this.base.elements.some(function(s){return e.util.isDescendant(s,i,!0)?(a=s,!0):!1},this),a&&this.updateInput(a,{target:i,currentTarget:a})}},handleDocumentExecCommand:function(){var o=this.base.getFocusedElement();o&&this.updateInput(o,{target:o,currentTarget:o})},handleBodyClick:function(o){this.updateFocus(o.target,o)},handleBodyFocus:function(o){this.updateFocus(o.target,o)},handleBodyMousedown:function(o){this.lastMousedownTarget=o.target},handleInput:function(o){this.updateInput(o.currentTarget,o)},handleClick:function(o){this.triggerCustomEvent("editableClick",o,o.currentTarget)},handleBlur:function(o){this.triggerCustomEvent("editableBlur",o,o.currentTarget)},handleKeypress:function(o){if(this.triggerCustomEvent("editableKeypress",o,o.currentTarget),this.keypressUpdateInput){var i={target:o.target,currentTarget:o.currentTarget};setTimeout((function(){this.updateInput(i.currentTarget,i)}).bind(this),0)}},handleKeyup:function(o){this.triggerCustomEvent("editableKeyup",o,o.currentTarget)},handleMouseover:function(o){this.triggerCustomEvent("editableMouseover",o,o.currentTarget)},handleDragging:function(o){this.triggerCustomEvent("editableDrag",o,o.currentTarget)},handleDrop:function(o){this.triggerCustomEvent("editableDrop",o,o.currentTarget)},handlePaste:function(o){this.triggerCustomEvent("editablePaste",o,o.currentTarget)},handleKeydown:function(o){if(this.triggerCustomEvent("editableKeydown",o,o.currentTarget),e.util.isKey(o,e.util.keyCode.SPACE))return this.triggerCustomEvent("editableKeydownSpace",o,o.currentTarget);if(e.util.isKey(o,e.util.keyCode.ENTER)||o.ctrlKey&&e.util.isKey(o,e.util.keyCode.M))return this.triggerCustomEvent("editableKeydownEnter",o,o.currentTarget);if(e.util.isKey(o,e.util.keyCode.TAB))return this.triggerCustomEvent("editableKeydownTab",o,o.currentTarget);if(e.util.isKey(o,[e.util.keyCode.DELETE,e.util.keyCode.BACKSPACE]))return this.triggerCustomEvent("editableKeydownDelete",o,o.currentTarget)}},e.Events=r}(),function(){var n=e.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(r){n.isBuiltInButton(r)?e.Extension.call(this,this.defaults[r]):e.Extension.call(this,r)},init:function(){e.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return typeof this.action=="function"?this.action(this.base.options):this.action},getAria:function(){return typeof this.aria=="function"?this.aria(this.base.options):this.aria},getTagNames:function(){return typeof this.tagNames=="function"?this.tagNames(this.base.options):this.tagNames},createButton:function(){var r=this.document.createElement("button"),o=this.contentDefault,i=this.getAria(),a=this.getEditorOption("buttonLabels");return r.classList.add("medium-editor-action"),r.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(s){r.classList.add(s)}),r.setAttribute("data-action",this.getAction()),i&&(r.setAttribute("title",i),r.setAttribute("aria-label",i)),this.attrs&&Object.keys(this.attrs).forEach(function(s){r.setAttribute(s,this.attrs[s])},this),a==="fontawesome"&&this.contentFA&&(o=this.contentFA),r.innerHTML=o,r},handleClick:function(r){r.preventDefault(),r.stopPropagation();var o=this.getAction();o&&this.execAction(o)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var r=null;return this.useQueryState&&(r=this.base.queryCommandState(this.getAction())),r},isAlreadyApplied:function(r){var o=!1,i=this.getTagNames(),a,s;return this.knownState===!1||this.knownState===!0?this.knownState:(i&&i.length>0&&(o=i.indexOf(r.nodeName.toLowerCase())!==-1),!o&&this.style&&(a=this.style.value.split("|"),s=this.window.getComputedStyle(r,null).getPropertyValue(this.style.prop),a.forEach(function(l){this.knownState||(o=s.indexOf(l)!==-1,(o||this.style.prop!=="text-decoration")&&(this.knownState=o))},this)),o)}});n.isBuiltInButton=function(r){return typeof r=="string"&&e.extensions.button.prototype.defaults.hasOwnProperty(r)},e.extensions.button=n}(),function(){e.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var n=e.extensions.button.extend({init:function(){e.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return this.hasForm?this.getForm().classList.contains(this.activeClass):!1},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var r=this.base.getExtensionByName("toolbar");r&&r.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var r=this.base.getExtensionByName("toolbar");r&&r.hideToolbarDefaultActions()},setToolbarPosition:function(){var r=this.base.getExtensionByName("toolbar");r&&r.setToolbarPosition()}});e.extensions.form=n}(),function(){var n=e.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(r){r.preventDefault(),r.stopPropagation();var o=e.selection.getSelectionRange(this.document);return o.startContainer.nodeName.toLowerCase()==="a"||o.endContainer.nodeName.toLowerCase()==="a"||e.util.getClosestTag(e.selection.getSelectedParentElement(o),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(r){e.util.isKey(r,e.util.keyCode.K)&&e.util.isMetaCtrlKey(r)&&!r.shiftKey&&this.handleClick(r)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var r=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return r.push('<a href="#" class="medium-editor-toolbar-save">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),r.push('<a href="#" class="medium-editor-toolbar-close">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&r.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target" id="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">','<label for="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">',this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&r.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),r.join("")},isDisplayed:function(){return e.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){e.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(r){var o=this.getInput(),i=this.getAnchorTargetCheckbox(),a=this.getAnchorButtonCheckbox();if(r=r||{value:""},typeof r=="string"&&(r={value:r}),this.base.saveSelection(),this.hideToolbarDefaultActions(),e.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),o.value=r.value,o.focus(),i&&(i.checked=r.target==="_blank"),a){var s=r.buttonClass?r.buttonClass.split(" "):[];a.checked=s.indexOf(this.customClassOption)!==-1}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var r=this.getAnchorTargetCheckbox(),o=this.getAnchorButtonCheckbox(),i={value:this.getInput().value.trim()};return this.linkValidation&&(i.value=this.checkLinkFormat(i.value)),i.target="_self",r&&r.checked&&(i.target="_blank"),o&&o.checked&&(i.buttonClass=this.customClassOption),i},doFormSave:function(){var r=this.getFormOpts();this.completeFormSave(r)},completeFormSave:function(r){this.base.restoreSelection(),this.execAction(this.action,r),this.base.checkSelection()},ensureEncodedUri:function(r){return r===decodeURI(r)?encodeURI(r):r},ensureEncodedUriComponent:function(r){return r===decodeURIComponent(r)?encodeURIComponent(r):r},ensureEncodedParam:function(r){var o=r.split("="),i=o[0],a=o[1];return i+(a===void 0?"":"="+this.ensureEncodedUriComponent(a))},ensureEncodedQuery:function(r){return r.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(r){var o=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i,i=o.test(r),a="",s=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/,l=r.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),u=l[1],d=l[2],c=l[3];if(s.test(r))return"tel:"+r;if(!i){var f=u.split("/")[0];(f.match(/.+(\.|:).+/)||f==="localhost")&&(a="http://")}return a+this.ensureEncodedUri(u)+(d===void 0?"":"?"+this.ensureEncodedQuery(d))+(c===void 0?"":"#"+c)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(r){var o=r.querySelector(".medium-editor-toolbar-close"),i=r.querySelector(".medium-editor-toolbar-save"),a=r.querySelector(".medium-editor-toolbar-input");this.on(r,"click",this.handleFormClick.bind(this)),this.on(a,"keyup",this.handleTextboxKeyup.bind(this)),this.on(o,"click",this.handleCloseClick.bind(this)),this.on(i,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var r=this.document,o=r.createElement("div");return o.className="medium-editor-toolbar-form",o.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),o.innerHTML=this.getTemplate(),this.attachFormEvents(o),o},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(r){if(r.keyCode===e.util.keyCode.ENTER){r.preventDefault(),this.doFormSave();return}r.keyCode===e.util.keyCode.ESCAPE&&(r.preventDefault(),this.doFormCancel())},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});e.extensions.anchor=n}(),function(){var n=e.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var r=this.document.createElement("div");return r.id="medium-editor-anchor-preview-"+this.getEditorId(),r.className="medium-editor-anchor-preview",r.innerHTML=this.getTemplate(),this.on(r,"click",this.handleClick.bind(this)),r},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(r){return this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||r.getAttribute("data-disable-preview")?!0:(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=r.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=r.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=r,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(r){r=r||this.activeAnchor;var o=this.window.innerWidth,i=this.anchorPreview.offsetHeight,a=r.getBoundingClientRect(),s=this.diffLeft,l=this.diffTop,u=this.getEditorOption("elementsContainer"),d=["absolute","fixed"].indexOf(window.getComputedStyle(u).getPropertyValue("position"))>-1,c={},f,h,v,p,g;f=this.anchorPreview.offsetWidth/2;var m=this.base.getExtensionByName("toolbar");m&&(s=m.diffLeft,l=m.diffTop),h=s-f,d?(p=u.getBoundingClientRect(),["top","left"].forEach(function(y){c[y]=a[y]-p[y]}),c.width=a.width,c.height=a.height,a=c,o=p.width,g=u.scrollTop):g=this.window.pageYOffset,v=a.left+a.width/2,g+=i+a.top+a.height-l-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(g)+"px",this.anchorPreview.style.right="initial",v<f?(this.anchorPreview.style.left=h+f+"px",this.anchorPreview.style.right="initial"):o-v<f?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=h+v+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(r){var o=this.base.getExtensionByName("anchor"),i=this.activeAnchor;o&&i&&(r.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay((function(){if(i){var a={value:i.attributes.href.value,target:i.getAttribute("target"),buttonClass:i.getAttribute("class")};o.showForm(a),i=null}}).bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(r){var o=e.util.getClosestTag(r.target,"a");if(o!==!1){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(o.outerHTML)||/href=["']#\S+["']/.test(o.outerHTML)))return!0;var i=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&i&&i.isDisplayed&&i.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==o&&this.detachPreviewHandlers(),this.anchorToPreview=o,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay((function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}).bind(this))}},handlePreviewMouseover:function(){this.lastOver=new Date().getTime(),this.hovering=!0},handlePreviewMouseout:function(r){(!r.relatedTarget||!/anchor-preview/.test(r.relatedTarget.className))&&(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var r=new Date().getTime()-this.lastOver;r>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=new Date().getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});e.extensions.anchorPreview=n}(),function(){var n,r,o,i,a;n=[" ","	",`
`,"\r"," "," "," "," "," ","\u2028","\u2029"],r="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",o="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+r+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+r+"))",i=new RegExp("^("+r+")$","i"),a=new RegExp(o,"gi");function s(u){return!e.util.getClosestTag(u,"a")}var l=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var u=0,d=0;d<this.window._mediumEditors.length;d++){var c=this.window._mediumEditors[d];c!==null&&c.getExtensionByName("autoLink")!==void 0&&u++}return u===1},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(u,d){this.performLinking(d)},onKeypress:function(u){this.disableEventHandling||e.util.isKey(u,[e.util.keyCode.SPACE,e.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout((function(){try{var d=this.base.exportSelection();this.performLinking(u.target)&&this.base.importSelection(d,!0)}catch(c){window.console&&window.console.error("Failed to perform linking",c),this.disableEventHandling=!0}}).bind(this),0))},performLinking:function(u){var d=e.util.splitByBlockElements(u),c=!1;d.length===0&&(d=[u]);for(var f=0;f<d.length;f++)c=this.removeObsoleteAutoLinkSpans(d[f])||c,c=this.performLinkingWithinElement(d[f])||c;return this.base.events.updateInput(u,{target:u,currentTarget:u}),c},removeObsoleteAutoLinkSpans:function(u){if(!u||u.nodeType===3)return!1;for(var d=u.querySelectorAll('span[data-auto-link="true"]'),c=!1,f=0;f<d.length;f++){var h=d[f].textContent;if(h.indexOf("://")===-1&&(h=e.util.ensureUrlHasProtocol(h)),d[f].getAttribute("data-href")!==h&&s(d[f])){c=!0;var v=h.replace(/\s+$/,"");if(d[f].getAttribute("data-href")===v){var p=h.length-v.length,g=e.util.splitOffDOMTree(d[f],this.splitTextBeforeEnd(d[f],p));d[f].parentNode.insertBefore(g,d[f].nextSibling)}else e.util.unwrap(d[f],this.document)}}return c},splitTextBeforeEnd:function(u,d){for(var c=this.document.createTreeWalker(u,NodeFilter.SHOW_TEXT,null,!1),f=!0;f;)f=c.lastChild()!==null;for(var h,v,p;d>0&&p!==null;)h=c.currentNode,v=h.nodeValue,v.length>d?(p=h.splitText(v.length-d),d=0):(p=c.previousNode(),d-=v.length);return p},performLinkingWithinElement:function(u){for(var d=this.findLinkableText(u),c=!1,f=0;f<d.length;f++){var h=e.util.findOrCreateMatchingTextNodes(this.document,u,d[f]);this.shouldNotLink(h)||this.createAutoLink(h,d[f].href)}return c},shouldNotLink:function(u){for(var d=!1,c=0;c<u.length&&d===!1;c++)d=!!e.util.traverseUp(u[c],function(f){return f.nodeName.toLowerCase()==="a"||f.getAttribute&&f.getAttribute("data-auto-link")==="true"});return d},findLinkableText:function(u){for(var d=u.textContent,c=null,f=[];(c=a.exec(d))!==null;){var h=!0,v=c.index+c[0].length;h=(c.index===0||n.indexOf(d[c.index-1])!==-1)&&(v===d.length||n.indexOf(d[v])!==-1),h=h&&(c[0].indexOf("/")!==-1||i.test(c[0].split(".").pop().split("?").shift())),h&&f.push({href:c[0],start:c.index,end:v})}return f},createAutoLink:function(u,d){d=e.util.ensureUrlHasProtocol(d);var c=e.util.createLink(this.document,u,d,this.getEditorOption("targetBlank")?"_blank":null),f=this.document.createElement("span");for(f.setAttribute("data-auto-link","true"),f.setAttribute("data-href",d),c.insertBefore(f,c.firstChild);c.childNodes.length>1;)f.appendChild(c.childNodes[1])}});e.extensions.autoLink=l}(),function(){var n="medium-editor-dragover";function r(i){var a=e.util.getContainerEditorElement(i),s=Array.prototype.slice.call(a.parentElement.querySelectorAll("."+n));s.forEach(function(l){l.classList.remove(n)})}var o=e.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(i){i.preventDefault(),i.dataTransfer.dropEffect="copy";var a=i.target.classList?i.target:i.target.parentElement;r(a),i.type==="dragover"&&a.classList.add(n)},handleDrop:function(i){i.preventDefault(),i.stopPropagation(),this.base.selectElement(i.target);var a=this.base.exportSelection();a.start=a.end,this.base.importSelection(a),i.dataTransfer.files&&Array.prototype.slice.call(i.dataTransfer.files).forEach(function(s){this.isAllowedFile(s)&&s.type.match("image")&&this.insertImageFile(s)},this),r(i.target)},isAllowedFile:function(i){return this.allowedTypes.some(function(a){return!!i.type.match(a)})},insertImageFile:function(i){if(typeof FileReader=="function"){var a=new FileReader;a.readAsDataURL(i),a.addEventListener("load",(function(s){var l=this.document.createElement("img");l.src=s.target.result,e.util.insertHTMLCommand(this.document,l.outerHTML)}).bind(this))}}});e.extensions.fileDragging=o}(),function(){var n=e.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(r){var o=r.key.charCodeAt(0);this.keys[o]||(this.keys[o]=[]),this.keys[o].push(r)},this)},handleKeydown:function(r){var o=e.util.getKeyCode(r);if(this.keys[o]){var i=e.util.isMetaCtrlKey(r),a=!!r.shiftKey,s=!!r.altKey;this.keys[o].forEach(function(l){l.meta===i&&l.shift===a&&(l.alt===s||l.alt===void 0)&&(r.preventDefault(),r.stopPropagation(),typeof l.command=="function"?l.command.apply(this):l.command!==!1&&this.execAction(l.command))},this)}}});e.extensions.keyboardCommands=n}(),function(){var n=e.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(r){if(r.preventDefault(),r.stopPropagation(),!this.isDisplayed()){var o=this.document.queryCommandValue("fontName")+"";this.showForm(o)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(r){var o=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),o.value=r||"",o.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var r=this.document,o=r.createElement("div"),i=r.createElement("select"),a=r.createElement("a"),s=r.createElement("a"),l;o.className="medium-editor-toolbar-form",o.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(o,"click",this.handleFormClick.bind(this));for(var u=0;u<this.fonts.length;u++)l=r.createElement("option"),l.innerHTML=this.fonts[u],l.value=this.fonts[u],i.appendChild(l);return i.className="medium-editor-toolbar-select",o.appendChild(i),this.on(i,"change",this.handleFontChange.bind(this)),s.setAttribute("href","#"),s.className="medium-editor-toobar-save",s.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",o.appendChild(s),this.on(s,"click",this.handleSaveClick.bind(this),!0),a.setAttribute("href","#"),a.className="medium-editor-toobar-close",a.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",o.appendChild(a),this.on(a,"click",this.handleCloseClick.bind(this)),o},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){e.selection.getSelectedElements(this.document).forEach(function(r){r.nodeName.toLowerCase()==="font"&&r.hasAttribute("face")&&r.removeAttribute("face")})},handleFontChange:function(){var r=this.getSelect().value;r===""?this.clearFontName():this.execAction("fontName",{value:r})},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});e.extensions.fontName=n}(),function(){var n=e.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(r){if(r.preventDefault(),r.stopPropagation(),!this.isDisplayed()){var o=this.document.queryCommandValue("fontSize")+"";this.showForm(o)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(r){var o=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),o.value=r||"",o.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var r=this.document,o=r.createElement("div"),i=r.createElement("input"),a=r.createElement("a"),s=r.createElement("a");return o.className="medium-editor-toolbar-form",o.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(o,"click",this.handleFormClick.bind(this)),i.setAttribute("type","range"),i.setAttribute("min","1"),i.setAttribute("max","7"),i.className="medium-editor-toolbar-input",o.appendChild(i),this.on(i,"change",this.handleSliderChange.bind(this)),s.setAttribute("href","#"),s.className="medium-editor-toobar-save",s.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",o.appendChild(s),this.on(s,"click",this.handleSaveClick.bind(this),!0),a.setAttribute("href","#"),a.className="medium-editor-toobar-close",a.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",o.appendChild(a),this.on(a,"click",this.handleCloseClick.bind(this)),o},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){e.selection.getSelectedElements(this.document).forEach(function(r){r.nodeName.toLowerCase()==="font"&&r.hasAttribute("size")&&r.removeAttribute("size")})},handleSliderChange:function(){var r=this.getInput().value;r==="4"?this.clearFontSize():this.execAction("fontSize",{value:r})},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});e.extensions.fontSize=n}(),function(){var n="%ME_PASTEBIN%",r=null,o=null,i=function(u){u.stopPropagation()};function a(){return[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]]}function s(u,d,c){var f=u.clipboardData||d.clipboardData||c.dataTransfer,h={};if(!f)return h;if(f.getData){var v=f.getData("Text");v&&v.length>0&&(h["text/plain"]=v)}if(f.types)for(var p=0;p<f.types.length;p++){var g=f.types[p];h[g]=f.getData(g)}return h}var l=e.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){e.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach(function(u){this.on(u,"paste",this.handlePaste.bind(this))},this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(u,d){this.on(d,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(u,d){if(!u.defaultPrevented){var c=s(u,this.window,this.document),f=c["text/html"],h=c["text/plain"];this.window.clipboardData&&u.clipboardData===void 0&&!f&&(f=h),(f||h)&&(u.preventDefault(),this.doPaste(f,h,d))}},doPaste:function(u,d,c){var f,h="",v;if(this.cleanPastedHTML&&u)return this.cleanPaste(u);if(d){if(this.getEditorOption("disableReturn")||c&&c.getAttribute("data-disable-return"))h=e.util.htmlEntities(d);else if(f=d.split(/[\r\n]+/g),f.length>1)for(v=0;v<f.length;v+=1)f[v]!==""&&(h+="<p>"+e.util.htmlEntities(f[v])+"</p>");else h=e.util.htmlEntities(f[0]);e.util.insertHTMLCommand(this.document,h)}},handlePasteBinPaste:function(u){if(u.defaultPrevented){this.removePasteBin();return}var d=s(u,this.window,this.document),c=d["text/html"],f=d["text/plain"],h=o;if(!this.cleanPastedHTML||c){u.preventDefault(),this.removePasteBin(),this.doPaste(c,f,h),this.trigger("editablePaste",{currentTarget:h,target:h},h);return}setTimeout((function(){this.cleanPastedHTML&&(c=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(c,f,h),this.trigger("editablePaste",{currentTarget:h,target:h},h)}).bind(this),0)},handleKeydown:function(u,d){e.util.isKey(u,e.util.keyCode.V)&&e.util.isMetaCtrlKey(u)&&(u.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(d))},createPasteBin:function(u){var d,c=e.selection.getSelectionRange(this.document),f=this.window.pageYOffset;o=u,c&&(d=c.getClientRects(),d.length?f+=d[0].top:c.startContainer.getBoundingClientRect!==void 0?f+=c.startContainer.getBoundingClientRect().top:f+=c.getBoundingClientRect().top),r=c;var h=this.document.createElement("div");h.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),h.setAttribute("style","border: 1px red solid; position: absolute; top: "+f+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),h.setAttribute("contentEditable",!0),h.innerHTML=n,this.document.body.appendChild(h),this.on(h,"focus",i),this.on(h,"focusin",i),this.on(h,"focusout",i),h.focus(),e.selection.selectNode(h,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(h,"paste",this.boundHandlePaste)},removePasteBin:function(){r!==null&&(e.selection.selectRange(this.document,r),r=null),o!==null&&(o=null);var u=this.getPasteBin();u&&u&&(this.off(u,"focus",i),this.off(u,"focusin",i),this.off(u,"focusout",i),this.off(u,"paste",this.boundHandlePaste),u.parentElement.removeChild(u))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var u=this.getPasteBin();if(!u||u.firstChild&&u.firstChild.id==="mcepastebin")return!1;var d=u.innerHTML;return!d||d===n?!1:d},cleanPaste:function(u){var d,c,f,h,v=/<p|<br|<div/.test(u),p=[].concat(this.preCleanReplacements||[],a(),this.cleanReplacements||[]);for(d=0;d<p.length;d+=1)u=u.replace(p[d][0],p[d][1]);if(!v)return this.pasteHTML(u);for(f=this.document.createElement("div"),f.innerHTML="<p>"+u.split("<br><br>").join("</p><p>")+"</p>",c=f.querySelectorAll("a,p,div,br"),d=0;d<c.length;d+=1)switch(h=c[d],h.innerHTML=h.innerHTML.replace(/\n/gi," "),h.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(h);break;case"br":this.filterLineBreak(h);break}this.pasteHTML(f.innerHTML)},pasteHTML:function(u,d){d=e.util.defaults({},d,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var c,f,h,v,p=this.document.createDocumentFragment();for(p.appendChild(this.document.createElement("body")),v=p.querySelector("body"),v.innerHTML=u,this.cleanupSpans(v),c=v.querySelectorAll("*"),h=0;h<c.length;h+=1)f=c[h],f.nodeName.toLowerCase()==="a"&&this.getEditorOption("targetBlank")&&e.util.setTargetBlank(f),e.util.cleanupAttrs(f,d.cleanAttrs),e.util.cleanupTags(f,d.cleanTags),e.util.unwrapTags(f,d.unwrapTags);e.util.insertHTMLCommand(this.document,v.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(u){return u&&(u.nodeName.toLowerCase()==="p"||u.nodeName.toLowerCase()==="div")},filterCommonBlocks:function(u){/^\s*$/.test(u.textContent)&&u.parentNode&&u.parentNode.removeChild(u)},filterLineBreak:function(u){this.isCommonBlock(u.previousElementSibling)?this.removeWithParent(u):this.isCommonBlock(u.parentNode)&&(u.parentNode.firstChild===u||u.parentNode.lastChild===u)?this.removeWithParent(u):u.parentNode&&u.parentNode.childElementCount===1&&u.parentNode.textContent===""&&this.removeWithParent(u)},removeWithParent:function(u){u&&u.parentNode&&(u.parentNode.parentNode&&u.parentNode.childElementCount===1?u.parentNode.parentNode.removeChild(u.parentNode):u.parentNode.removeChild(u))},cleanupSpans:function(u){var d,c,f,h=u.querySelectorAll(".replace-with"),v=function(p){return p&&p.nodeName!=="#text"&&p.getAttribute("contenteditable")==="false"};for(d=0;d<h.length;d+=1)c=h[d],f=this.document.createElement(c.classList.contains("bold")?"b":"i"),c.classList.contains("bold")&&c.classList.contains("italic")?f.innerHTML="<i>"+c.innerHTML+"</i>":f.innerHTML=c.innerHTML,c.parentNode.replaceChild(f,c);for(h=u.querySelectorAll("span"),d=0;d<h.length;d+=1){if(c=h[d],e.util.traverseUp(c,v))return!1;e.util.unwrap(c,this.document)}}});e.extensions.paste=l}(),function(){var n=e.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(r,o){this.initElement(o)},initElement:function(r){r.getAttribute("data-placeholder")||r.setAttribute("data-placeholder",this.text),this.updatePlaceholder(r)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(r,o){this.cleanupElement(o)},cleanupElement:function(r){r.getAttribute("data-placeholder")===this.text&&r.removeAttribute("data-placeholder")},showPlaceholder:function(r){r&&(e.util.isFF&&r.childNodes.length===0?(r.classList.add("medium-editor-placeholder-relative"),r.classList.remove("medium-editor-placeholder")):(r.classList.add("medium-editor-placeholder"),r.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(r){r&&(r.classList.remove("medium-editor-placeholder"),r.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(r,o){if(r.querySelector("img, blockquote, ul, ol, table")||r.textContent.replace(/^\s+|\s+$/g,"")!=="")return this.hidePlaceholder(r);o||this.showPlaceholder(r)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(r,o){var i=this.hideOnClick&&o===this.base.getFocusedElement();this.updatePlaceholder(o,i)},handleFocus:function(r,o){this.hidePlaceholder(o)},handleBlur:function(r,o){this.updatePlaceholder(o)}});e.extensions.placeholder=n}(),function(){var n=e.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(r,o){return this.base.extensions.forEach(function(i){if(i!==this)return r.apply(o||this,arguments)},this)},createToolbar:function(){var r=this.document.createElement("div");return r.id="medium-editor-toolbar-"+this.getEditorId(),r.className="medium-editor-toolbar",this.static?r.className+=" static-toolbar":this.relativeContainer?r.className+=" medium-editor-relative-toolbar":r.className+=" medium-editor-stalker-toolbar",r.appendChild(this.createToolbarButtons()),this.forEachExtension(function(o){o.hasForm&&r.appendChild(o.getForm())}),this.attachEventHandlers(),r},createToolbarButtons:function(){var r=this.document.createElement("ul"),o,i,a,s,l,u;return r.id="medium-editor-toolbar-actions"+this.getEditorId(),r.className="medium-editor-toolbar-actions",r.style.display="block",this.buttons.forEach(function(d){typeof d=="string"?(l=d,u=null):(l=d.name,u=d),s=this.base.addBuiltInExtension(l,u),s&&typeof s.getButton=="function"&&(i=s.getButton(this.base),o=this.document.createElement("li"),e.util.isElement(i)?o.appendChild(i):o.innerHTML=i,r.appendChild(o))},this),a=r.querySelectorAll("button"),a.length>0&&(a[0].classList.add(this.firstButtonClass),a[a.length-1].classList.add(this.lastButtonClass)),r},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=e.util.throttle((function(){this.base.isActive&&this.positionToolbarIfShown()}).bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(r){if(r&&r.target&&e.util.isDescendant(this.getToolbarElement(),r.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout((function(){this.checkState()}).bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout((function(){this.hideToolbar()}).bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return this.getToolbarActionsElement().style.display==="block"},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay((function(){this.showToolbar()}).bind(this))},hideExtensionForms:function(){this.forEachExtension(function(r){r.hasForm&&r.isDisplayed()&&r.hideForm()})},multipleBlockElementsSelected:function(){var r=/<[^\/>][^>]*><\/[^>]+>/gim,o=new RegExp("<("+e.util.blockContainerElementNames.join("|")+")[^>]*>","g"),i=e.selection.getSelectionHtml(this.document).replace(r,""),a=i.match(o);return!!a&&a.length>1},modifySelection:function(){var r=this.window.getSelection(),o=r.getRangeAt(0);if(this.standardizeSelectionStart&&o.startContainer.nodeValue&&o.startOffset===o.startContainer.nodeValue.length){var i=e.util.findAdjacentTextNodeWithContent(e.selection.getSelectionElement(this.window),o.startContainer,this.document);if(i){for(var a=0;i.nodeValue.substr(a,1).trim().length===0;)a=a+1;o=e.selection.select(this.document,i,a,o.endContainer,o.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||e.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var r=e.selection.getSelectionElement(this.window);if(!r||this.getEditorElements().indexOf(r)===-1||r.getAttribute("data-disable-toolbar"))return this.hideToolbar();if(this.updateOnEmptySelection&&this.static)return this.showAndUpdateToolbar();if(!e.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected())return this.hideToolbar();this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(r){typeof r.isActive=="function"&&typeof r.setInactive=="function"&&r.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var r=[],o=null,i=e.selection.getSelectionRange(this.document),a,s=function(l){typeof l.checkState=="function"?l.checkState(a):typeof l.isActive=="function"&&typeof l.isAlreadyApplied=="function"&&typeof l.setActive=="function"&&!l.isActive()&&l.isAlreadyApplied(a)&&l.setActive()};if(i&&(this.forEachExtension(function(l){if(typeof l.queryCommandState=="function"&&(o=l.queryCommandState(),o!==null)){o&&typeof l.setActive=="function"&&l.setActive();return}r.push(l)}),a=e.selection.getSelectedParentElement(i),!!this.getEditorElements().some(function(l){return e.util.isDescendant(l,a,!0)})))for(;a&&(r.forEach(s),!e.util.isMediumEditorElement(a));)a=a.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var r=this.base.getFocusedElement(),o=this.window.getSelection();if(!r)return this;(this.static||!o.isCollapsed)&&(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(r):this.positionToolbar(o)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(r){this.getToolbarElement().style.left="0";var o=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,i=this.window.innerWidth,a=this.getToolbarElement(),s=r.getBoundingClientRect(),l=s.top+o,u=s.left+s.width/2,d=a.offsetHeight,c=a.offsetWidth,f=c/2,h;switch(this.sticky?o>l+r.offsetHeight-d-this.stickyTopOffset?(a.style.top=l+r.offsetHeight-d+"px",a.classList.remove("medium-editor-sticky-toolbar")):o>l-d-this.stickyTopOffset?(a.classList.add("medium-editor-sticky-toolbar"),a.style.top=this.stickyTopOffset+"px"):(a.classList.remove("medium-editor-sticky-toolbar"),a.style.top=l-d+"px"):a.style.top=l-d+"px",this.align){case"left":h=s.left;break;case"right":h=s.right-c;break;case"center":h=u-f;break}h<0?h=0:h+c>i&&(h=i-Math.ceil(c)-1),a.style.left=h+"px"},positionToolbar:function(r){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var o=r.getRangeAt(0),i=o.getBoundingClientRect();(!i||i.height===0&&i.width===0&&o.startContainer===o.endContainer)&&(o.startContainer.nodeType===1&&o.startContainer.querySelector("img")?i=o.startContainer.querySelector("img").getBoundingClientRect():i=o.startContainer.getBoundingClientRect());var a=this.window.innerWidth,s=this.getToolbarElement(),l=s.offsetHeight,u=s.offsetWidth,d=u/2,c=50,f=this.diffLeft-d,h=this.getEditorOption("elementsContainer"),v=["absolute","fixed"].indexOf(window.getComputedStyle(h).getPropertyValue("position"))>-1,p={},g={},m,y;v?(y=h.getBoundingClientRect(),["top","left"].forEach(function(A){g[A]=i[A]-y[A]}),g.width=i.width,g.height=i.height,i=g,a=y.width,p.top=h.scrollTop):p.top=this.window.pageYOffset,m=i.left+i.width/2,p.top+=i.top-l,i.top<c?(s.classList.add("medium-toolbar-arrow-over"),s.classList.remove("medium-toolbar-arrow-under"),p.top+=c+i.height-this.diffTop):(s.classList.add("medium-toolbar-arrow-under"),s.classList.remove("medium-toolbar-arrow-over"),p.top+=this.diffTop),m<d?(p.left=f+d,p.right="initial"):a-m<d?(p.left="auto",p.right=0):(p.left=f+m,p.right="initial"),["top","left","right"].forEach(function(A){s.style[A]=p[A]+(isNaN(p[A])?"":"px")})}});e.extensions.toolbar=n}(),function(){var n=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(r){var o="medium-editor-dragover";r.preventDefault(),r.dataTransfer.dropEffect="copy",r.type==="dragover"?r.target.classList.add(o):r.type==="dragleave"&&r.target.classList.remove(o)},handleDrop:function(r){var o="medium-editor-dragover",i;r.preventDefault(),r.stopPropagation(),r.dataTransfer.files&&(i=Array.prototype.slice.call(r.dataTransfer.files,0),i.some((function(a){if(a.type.match("image")){var s,l;s=new FileReader,s.readAsDataURL(a),l="medium-img-"+ +new Date,e.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+l+'" />'),s.onload=(function(){var u=this.document.getElementById(l);u&&(u.removeAttribute("id"),u.removeAttribute("class"),u.src=s.result)}).bind(this)}}).bind(this))),r.target.classList.remove(o)}});e.extensions.imageDragging=n}(),function(){function n(C){var L=e.selection.getSelectionStart(this.options.ownerDocument),k=L.textContent,B=e.selection.getCaretOffsets(L);(k[B.left-1]===void 0||k[B.left-1].trim()===""||k[B.left]!==void 0&&k[B.left].trim()==="")&&C.preventDefault()}function r(C,L){if(this.options.disableReturn||L.getAttribute("data-disable-return"))C.preventDefault();else if(this.options.disableDoubleReturn||L.getAttribute("data-disable-double-return")){var k=e.selection.getSelectionStart(this.options.ownerDocument);(k&&k.textContent.trim()===""&&k.nodeName.toLowerCase()!=="li"||k.previousElementSibling&&k.previousElementSibling.nodeName.toLowerCase()!=="br"&&k.previousElementSibling.textContent.trim()==="")&&C.preventDefault()}}function o(C){var L=e.selection.getSelectionStart(this.options.ownerDocument),k=L&&L.nodeName.toLowerCase();k==="pre"&&(C.preventDefault(),e.util.insertHTMLCommand(this.options.ownerDocument,"    ")),e.util.isListItem(L)&&(C.preventDefault(),C.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function i(C){var L,k=e.selection.getSelectionStart(this.options.ownerDocument),B=k.nodeName.toLowerCase(),V=/^(\s+|<br\/?>)?$/i,$=/h\d/i;e.util.isKey(C,[e.util.keyCode.BACKSPACE,e.util.keyCode.ENTER])&&k.previousElementSibling&&$.test(B)&&e.selection.getCaretOffsets(k).left===0?e.util.isKey(C,e.util.keyCode.BACKSPACE)&&V.test(k.previousElementSibling.innerHTML)?(k.previousElementSibling.parentNode.removeChild(k.previousElementSibling),C.preventDefault()):!this.options.disableDoubleReturn&&e.util.isKey(C,e.util.keyCode.ENTER)&&(L=this.options.ownerDocument.createElement("p"),L.innerHTML="<br>",k.previousElementSibling.parentNode.insertBefore(L,k),C.preventDefault()):e.util.isKey(C,e.util.keyCode.DELETE)&&k.nextElementSibling&&k.previousElementSibling&&!$.test(B)&&V.test(k.innerHTML)&&$.test(k.nextElementSibling.nodeName.toLowerCase())?(e.selection.moveCursor(this.options.ownerDocument,k.nextElementSibling),k.previousElementSibling.parentNode.removeChild(k),C.preventDefault()):e.util.isKey(C,e.util.keyCode.BACKSPACE)&&B==="li"&&V.test(k.innerHTML)&&!k.previousElementSibling&&!k.parentElement.previousElementSibling&&k.nextElementSibling&&k.nextElementSibling.nodeName.toLowerCase()==="li"?(L=this.options.ownerDocument.createElement("p"),L.innerHTML="<br>",k.parentElement.parentElement.insertBefore(L,k.parentElement),e.selection.moveCursor(this.options.ownerDocument,L),k.parentElement.removeChild(k),C.preventDefault()):e.util.isKey(C,e.util.keyCode.BACKSPACE)&&e.util.getClosestTag(k,"blockquote")!==!1&&e.selection.getCaretOffsets(k).left===0?(C.preventDefault(),e.util.execFormatBlock(this.options.ownerDocument,"p")):e.util.isKey(C,e.util.keyCode.ENTER)&&e.util.getClosestTag(k,"blockquote")!==!1&&e.selection.getCaretOffsets(k).right===0?(L=this.options.ownerDocument.createElement("p"),L.innerHTML="<br>",k.parentElement.insertBefore(L,k.nextSibling),e.selection.moveCursor(this.options.ownerDocument,L),C.preventDefault()):e.util.isKey(C,e.util.keyCode.BACKSPACE)&&e.util.isMediumEditorElement(k.parentElement)&&!k.previousElementSibling&&k.nextElementSibling&&V.test(k.innerHTML)&&(C.preventDefault(),e.selection.moveCursor(this.options.ownerDocument,k.nextSibling),k.parentElement.removeChild(k))}function a(C){var L=e.selection.getSelectionStart(this.options.ownerDocument),k;L&&(e.util.isMediumEditorElement(L)&&L.children.length===0&&!e.util.isBlockContainer(L)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),e.util.isKey(C,e.util.keyCode.ENTER)&&!e.util.isListItem(L)&&!e.util.isBlockContainer(L)&&(k=L.nodeName.toLowerCase(),k==="a"?this.options.ownerDocument.execCommand("unlink",!1,null):!C.shiftKey&&!C.ctrlKey&&this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function s(C,L){var k=L.parentNode.querySelector('textarea[medium-editor-textarea-id="'+L.getAttribute("medium-editor-textarea-id")+'"]');k&&(k.value=L.innerHTML.trim())}function l(C){C._mediumEditors||(C._mediumEditors=[null]),this.id||(this.id=C._mediumEditors.length),C._mediumEditors[this.id]=this}function u(C){!C._mediumEditors||!C._mediumEditors[this.id]||(C._mediumEditors[this.id]=null)}function d(C,L,k){var B=[];if(C||(C=[]),typeof C=="string"&&(C=L.querySelectorAll(C)),e.util.isElement(C)&&(C=[C]),k)for(var V=0;V<C.length;V++){var $=C[V];e.util.isElement($)&&!$.getAttribute("data-medium-editor-element")&&!$.getAttribute("medium-editor-textarea-id")&&B.push($)}else B=Array.prototype.slice.apply(C);return B}function c(C){var L=C.parentNode.querySelector('textarea[medium-editor-textarea-id="'+C.getAttribute("medium-editor-textarea-id")+'"]');L&&(L.classList.remove("medium-editor-hidden"),L.removeAttribute("medium-editor-textarea-id")),C.parentNode&&C.parentNode.removeChild(C)}function f(C,L){return Object.keys(L).forEach(function(k){C[k]===void 0&&(C[k]=L[k])}),C}function h(C,L,k){var B={window:k.options.contentWindow,document:k.options.ownerDocument,base:k};return C=f(C,B),typeof C.init=="function"&&C.init(),C.name||(C.name=L),C}function v(){return this.elements.every(function(C){return!!C.getAttribute("data-disable-toolbar")})?!1:this.options.toolbar!==!1}function p(){return v.call(this)?this.options.anchorPreview!==!1:!1}function g(){return this.options.placeholder!==!1}function m(){return this.options.autoLink!==!1}function y(){return this.options.imageDragging!==!1}function A(){return this.options.keyboardCommands!==!1}function M(){return!this.options.extensions.imageDragging}function O(C){for(var L=this.options.ownerDocument.createElement("div"),k=Date.now(),B="medium-editor-"+k,V=C.attributes;this.options.ownerDocument.getElementById(B);)k++,B="medium-editor-"+k;L.className=C.className,L.id=B,L.innerHTML=C.value,C.setAttribute("medium-editor-textarea-id",B);for(var $=0,te=V.length;$<te;$++)L.hasAttribute(V[$].nodeName)||L.setAttribute(V[$].nodeName,V[$].value);return C.form&&this.on(C.form,"reset",(function(ne){ne.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(B))}).bind(this)),C.classList.add("medium-editor-hidden"),C.parentNode.insertBefore(L,C),L}function w(C,L){if(!C.getAttribute("data-medium-editor-element")){C.nodeName.toLowerCase()==="textarea"&&(C=O.call(this,C),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=s.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),!this.options.disableEditing&&!C.getAttribute("data-disable-editing")&&(C.setAttribute("contentEditable",!0),C.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(C.getAttribute("data-disable-return")||C.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=r.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),!this.options.disableReturn&&!C.getAttribute("data-disable-return")&&this.on(C,"keyup",a.bind(this));var k=e.util.guid();C.setAttribute("data-medium-editor-element",!0),C.classList.add("medium-editor-element"),C.setAttribute("role","textbox"),C.setAttribute("aria-multiline",!0),C.setAttribute("data-medium-editor-editor-index",L),C.setAttribute("medium-editor-index",k),G[k]=C.innerHTML,this.events.attachAllEventsToElement(C)}return C}function _(){this.subscribe("editableKeydownTab",o.bind(this)),this.subscribe("editableKeydownDelete",i.bind(this)),this.subscribe("editableKeydownEnter",i.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",n.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=r.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function N(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(V){V!=="toolbar"&&this.options.extensions[V]&&this.extensions.push(h(this.options.extensions[V],V,this))},this),M.call(this)){var C=this.options.fileDragging;C||(C={},y.call(this)||(C.allowedTypes=[])),this.addBuiltInExtension("fileDragging",C)}var L={paste:!0,"anchor-preview":p.call(this),autoLink:m.call(this),keyboardCommands:A.call(this),placeholder:g.call(this)};Object.keys(L).forEach(function(V){L[V]&&this.addBuiltInExtension(V)},this);var k=this.options.extensions.toolbar;if(!k&&v.call(this)){var B=e.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});k=new e.extensions.toolbar(B)}k&&this.extensions.push(h(k,"toolbar",this))}function R(C,L){var k=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return L&&k.forEach(function(B){L.hasOwnProperty(B[0])&&L[B[0]]!==void 0&&e.util.deprecated(B[0],B[1],"v6.0.0")}),e.util.defaults({},L,C)}function I(C,L){var k=/^append-(.+)$/gi,B=/justify([A-Za-z]*)$/g,V,$;if(V=k.exec(C),V)return e.util.execFormatBlock(this.options.ownerDocument,V[1]);if(C==="fontSize")return L.size&&e.util.deprecated(".size option for fontSize command",".value","6.0.0"),$=L.value||L.size,this.options.ownerDocument.execCommand("fontSize",!1,$);if(C==="fontName")return L.name&&e.util.deprecated(".name option for fontName command",".value","6.0.0"),$=L.value||L.name,this.options.ownerDocument.execCommand("fontName",!1,$);if(C==="createLink")return this.createLink(L);if(C==="image"){var te=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,te)}if(C==="html"){var ne=this.options.contentWindow.getSelection().toString().trim();return e.util.insertHTMLCommand(this.options.ownerDocument,ne)}if(B.exec(C)){var se=this.options.ownerDocument.execCommand(C,!1,null),me=e.selection.getSelectedParentElement(e.selection.getSelectionRange(this.options.ownerDocument));return me&&W.call(this,e.util.getTopBlockContainer(me)),se}return $=L&&L.value,this.options.ownerDocument.execCommand(C,!1,$)}function W(C){if(C){var L,k=Array.prototype.slice.call(C.childNodes).filter(function(B){var V=B.nodeName.toLowerCase()==="div";return V&&!L&&(L=B.style.textAlign),V});k.length&&(this.saveSelection(),k.forEach(function(B){if(B.style.textAlign===L){var V=B.lastChild;if(V){e.util.unwrap(B,this.options.ownerDocument);var $=this.options.ownerDocument.createElement("BR");V.parentNode.insertBefore($,V.nextSibling)}}},this),C.style.textAlign=L,this.restoreSelection())}}var G={};e.prototype={init:function(C,L){return this.options=R.call(this,this.defaults,L),this.origElements=C,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(l.call(this,this.options.contentWindow),this.events=new e.Events(this),this.elements=[],this.addElements(this.origElements),this.elements.length!==0&&(this.isActive=!0,N.call(this),_.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(C){typeof C.destroy=="function"&&C.destroy()},this),this.events.destroy(),this.elements.forEach(function(C){this.options.spellcheck&&(C.innerHTML=C.innerHTML),C.removeAttribute("contentEditable"),C.removeAttribute("spellcheck"),C.removeAttribute("data-medium-editor-element"),C.classList.remove("medium-editor-element"),C.removeAttribute("role"),C.removeAttribute("aria-multiline"),C.removeAttribute("medium-editor-index"),C.removeAttribute("data-medium-editor-editor-index"),C.getAttribute("medium-editor-textarea-id")&&c(C)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,u.call(this,this.options.contentWindow))},on:function(C,L,k,B){return this.events.attachDOMEvent(C,L,k,B),this},off:function(C,L,k,B){return this.events.detachDOMEvent(C,L,k,B),this},subscribe:function(C,L){return this.events.attachCustomEvent(C,L),this},unsubscribe:function(C,L){return this.events.detachCustomEvent(C,L),this},trigger:function(C,L,k){return this.events.triggerCustomEvent(C,L,k),this},delay:function(C){var L=this;return setTimeout(function(){L.isActive&&C()},this.options.delay)},serialize:function(){var C,L,k={},B=this.elements.length;for(C=0;C<B;C+=1)L=this.elements[C].id!==""?this.elements[C].id:"element-"+C,k[L]={value:this.elements[C].innerHTML.trim()};return k},getExtensionByName:function(C){var L;return this.extensions&&this.extensions.length&&this.extensions.some(function(k){return k.name===C?(L=k,!0):!1}),L},addBuiltInExtension:function(C,L){var k=this.getExtensionByName(C),B;if(k)return k;switch(C){case"anchor":B=e.util.extend({},this.options.anchor,L),k=new e.extensions.anchor(B);break;case"anchor-preview":k=new e.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":k=new e.extensions.autoLink;break;case"fileDragging":k=new e.extensions.fileDragging(L);break;case"fontname":k=new e.extensions.fontName(this.options.fontName);break;case"fontsize":k=new e.extensions.fontSize(L);break;case"keyboardCommands":k=new e.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":k=new e.extensions.paste(this.options.paste);break;case"placeholder":k=new e.extensions.placeholder(this.options.placeholder);break;default:e.extensions.button.isBuiltInButton(C)&&(L?(B=e.util.defaults({},L,e.extensions.button.prototype.defaults[C]),k=new e.extensions.button(B)):k=new e.extensions.button(C))}return k&&this.extensions.push(h(k,C,this)),k},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var C=this.getExtensionByName("toolbar");return C&&C.checkState(),this},queryCommandState:function(C){var L=/^full-(.+)$/gi,k,B=null;k=L.exec(C),k&&(C=k[1]);try{B=this.options.ownerDocument.queryCommandState(C)}catch{B=null}return B},execAction:function(C,L){var k=/^full-(.+)$/gi,B,V;return B=k.exec(C),B?(this.saveSelection(),this.selectAllContents(),V=I.call(this,B[1],L),this.restoreSelection()):V=I.call(this,C,L),(C==="insertunorderedlist"||C==="insertorderedlist")&&e.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),V},getSelectedParentElement:function(C){return C===void 0&&(C=this.options.contentWindow.getSelection().getRangeAt(0)),e.selection.getSelectedParentElement(C)},selectAllContents:function(){var C=e.selection.getSelectionElement(this.options.contentWindow);if(C){for(;C.children.length===1;)C=C.children[0];this.selectElement(C)}},selectElement:function(C){e.selection.selectNode(C,this.options.ownerDocument);var L=e.selection.getSelectionElement(this.options.contentWindow);L&&this.events.focusElement(L)},getFocusedElement:function(){var C;return this.elements.some(function(L){return!C&&L.getAttribute("data-medium-focused")&&(C=L),!!C},this),C},exportSelection:function(){var C=e.selection.getSelectionElement(this.options.contentWindow),L=this.elements.indexOf(C),k=null;return L>=0&&(k=e.selection.exportSelection(C,this.options.ownerDocument)),k!==null&&L!==0&&(k.editableElementIndex=L),k},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(C,L){if(C){var k=this.elements[C.editableElementIndex||0];e.selection.importSelection(C,k,this.options.ownerDocument,L)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(C){var L=e.selection.getSelectionElement(this.options.contentWindow),k={},B;if(this.elements.indexOf(L)!==-1){try{if(this.events.disableCustomEvent("editableInput"),C.url&&e.util.deprecated(".url option for createLink",".value","6.0.0"),B=C.url||C.value,B&&B.trim().length>0){var V=this.options.contentWindow.getSelection();if(V){var $=V.getRangeAt(0),te=$.commonAncestorContainer,ne,se,me,be;if($.endContainer.nodeType===3&&$.startContainer.nodeType!==3&&$.startOffset===0&&$.startContainer.firstChild===$.endContainer&&(te=$.endContainer),se=e.util.getClosestBlockContainer($.startContainer),me=e.util.getClosestBlockContainer($.endContainer),te.nodeType!==3&&te.textContent.length!==0&&se===me){var ue=se||L,we=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),ne=this.exportSelection(),we.appendChild(ue.cloneNode(!0)),L===ue?e.selection.select(this.options.ownerDocument,ue.firstChild,0,ue.lastChild,ue.lastChild.nodeType===3?ue.lastChild.nodeValue.length:ue.lastChild.childNodes.length):e.selection.select(this.options.ownerDocument,ue,0,ue,ue.childNodes.length);var H=this.exportSelection();be=e.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,we,{start:ne.start-H.start,end:ne.end-H.start,editableElementIndex:ne.editableElementIndex}),be.length===0&&(we=this.options.ownerDocument.createDocumentFragment(),we.appendChild(te.cloneNode(!0)),be=[we.firstChild.firstChild,we.firstChild.lastChild]),e.util.createLink(this.options.ownerDocument,be,B.trim());var Z=(we.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;e.util.insertHTMLCommand(this.options.ownerDocument,we.firstChild.innerHTML.replace(/^\s+/,"")),ne.start-=Z,ne.end-=Z,this.importSelection(ne)}else this.options.ownerDocument.execCommand("createLink",!1,B);this.options.targetBlank||C.target==="_blank"?e.util.setTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),B):e.util.removeTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),B),C.buttonClass&&e.util.addClassToAnchors(e.selection.getSelectionStart(this.options.ownerDocument),C.buttonClass)}}if(this.options.targetBlank||C.target==="_blank"||C.buttonClass){k=this.options.ownerDocument.createEvent("HTMLEvents"),k.initEvent("input",!0,!0,this.options.contentWindow);for(var Q=0,he=this.elements.length;Q<he;Q+=1)this.elements[Q].dispatchEvent(k)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",k,L)}},cleanPaste:function(C){this.getExtensionByName("paste").cleanPaste(C)},pasteHTML:function(C,L){this.getExtensionByName("paste").pasteHTML(C,L)},setContent:function(C,L){if(L=L||0,this.elements[L]){var k=this.elements[L];k.innerHTML=C,this.checkContentChanged(k)}},getContent:function(C){return C=C||0,this.elements[C]?this.elements[C].innerHTML.trim():null},checkContentChanged:function(C){C=C||e.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(C,{target:C,currentTarget:C})},resetContent:function(C){if(C){var L=this.elements.indexOf(C);L!==-1&&this.setContent(G[C.getAttribute("medium-editor-index")],L);return}this.elements.forEach(function(k,B){this.setContent(G[k.getAttribute("medium-editor-index")],B)},this)},addElements:function(C){var L=d(C,this.options.ownerDocument,!0);if(L.length===0)return!1;L.forEach(function(k){k=w.call(this,k,this.id),this.elements.push(k),this.trigger("addElement",{target:k,currentTarget:k},k)},this)},removeElements:function(C){var L=d(C,this.options.ownerDocument),k=L.map(function(B){return B.getAttribute("medium-editor-textarea-id")&&B.parentNode?B.parentNode.querySelector('div[medium-editor-textarea-id="'+B.getAttribute("medium-editor-textarea-id")+'"]'):B});this.elements=this.elements.filter(function(B){return k.indexOf(B)!==-1?(this.events.cleanupElement(B),B.getAttribute("medium-editor-textarea-id")&&c(B),this.trigger("removeElement",{target:B,currentTarget:B},B),!1):!0},this)}},e.getEditorFromElement=function(C){var L=C.getAttribute("data-medium-editor-editor-index"),k=C&&C.ownerDocument&&(C.ownerDocument.defaultView||C.ownerDocument.parentWindow);return k&&k._mediumEditors&&k._mediumEditors[L]?k._mediumEditors[L]:null}}(),function(){e.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),e.parseVersionString=function(n){var r=n.split("-"),o=r[0].split("."),i=r.length>1?r[1]:"";return{major:parseInt(o[0],10),minor:parseInt(o[1],10),revision:parseInt(o[2],10),preRelease:i,toString:function(){return[o[0],o[1],o[2]].join(".")+(i?"-"+i:"")}}},e.version=e.parseVersionString.call(this,"5.23.3"),e}())})(Ag);var iL=Ag.exports;const Jl=u0(iL);/*!
 * vanilla-picker v2.12.3
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2024 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */var ic=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ac=function(){function t(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zs=function(){function t(e,n){var r=[],o=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),l;!(o=(l=s.next()).done)&&(r.push(l.value),!(n&&r.length===n));o=!0);}catch(u){i=!0,a=u}finally{try{!o&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(t){return this.indexOf(t)===0};String.prototype.padStart=String.prototype.padStart||function(t,e){for(var n=this;n.length<t;)n=e+n;return n};var aL={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function n1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=e>0?t.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):t.toString();return n||"0"}var sL=function(){function t(e,n,r,o){ic(this,t);var i=this;function a(l){if(l.startsWith("hsl")){var u=l.match(/([\-\d\.e]+)/g).map(Number),d=Zs(u,4),c=d[0],f=d[1],h=d[2],v=d[3];v===void 0&&(v=1),c/=360,f/=100,h/=100,i.hsla=[c,f,h,v]}else if(l.startsWith("rgb")){var p=l.match(/([\-\d\.e]+)/g).map(Number),g=Zs(p,4),m=g[0],y=g[1],A=g[2],M=g[3];M===void 0&&(M=1),i.rgba=[m,y,A,M]}else l.startsWith("#")?i.rgba=t.hexToRgb(l):i.rgba=t.nameToRgb(l)||t.hexToRgb(l)}if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(r===void 0){var s=e&&""+e;s&&a(s.toLowerCase())}else this.rgba=[e,n,r,o===void 0?1:o]}return ac(t,[{key:"printRGB",value:function(n){var r=n?this.rgba:this.rgba.slice(0,3),o=r.map(function(i,a){return n1(i,a===3?3:0)});return n?"rgba("+o+")":"rgb("+o+")"}},{key:"printHSL",value:function(n){var r=[360,100,100,1],o=["","%","%",""],i=n?this.hsla:this.hsla.slice(0,3),a=i.map(function(s,l){return n1(s*r[l],l===3?3:1)+o[l]});return n?"hsla("+a+")":"hsl("+a+")"}},{key:"printHex",value:function(n){var r=this.hex;return n?r:r.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=t.hslToRgb(this._hsla)},set:function(n){n.length===3&&(n[3]=1),this._rgba=n,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=t.rgbToHsl(this._rgba)},set:function(n){n.length===3&&(n[3]=1),this._hsla=n,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var n=this.rgba,r=n.map(function(o,i){return i<3?o.toString(16):Math.round(o*255).toString(16)});return"#"+r.map(function(o){return o.padStart(2,"0")}).join("")},set:function(n){this.rgba=t.hexToRgb(n)}}],[{key:"hexToRgb",value:function(n){var r=(n.startsWith("#")?n.slice(1):n).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!r.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+n);var o=r.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(i){return parseInt(i,16)});return o[3]=o[3]/255,o}},{key:"nameToRgb",value:function(n){var r=n.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),o=aL[r];return o===void 0?o:t.hexToRgb(o.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(n){var r=Zs(n,4),o=r[0],i=r[1],a=r[2],s=r[3];o/=255,i/=255,a/=255;var l=Math.max(o,i,a),u=Math.min(o,i,a),d=void 0,c=void 0,f=(l+u)/2;if(l===u)d=c=0;else{var h=l-u;switch(c=f>.5?h/(2-l-u):h/(l+u),l){case o:d=(i-a)/h+(i<a?6:0);break;case i:d=(a-o)/h+2;break;case a:d=(o-i)/h+4;break}d/=6}return[d,c,f,s]}},{key:"hslToRgb",value:function(n){var r=Zs(n,4),o=r[0],i=r[1],a=r[2],s=r[3],l=void 0,u=void 0,d=void 0;if(i===0)l=u=d=a;else{var c=function(g,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<.16666666666666666?g+(m-g)*6*y:y<.5?m:y<.6666666666666666?g+(m-g)*(.6666666666666666-y)*6:g},f=a<.5?a*(1+i):a+i-a*i,h=2*a-f;l=c(h,f,o+1/3),u=c(h,f,o),d=c(h,f,o-1/3)}var v=[l*255,u*255,d*255].map(Math.round);return v[3]=s,v}}]),t}(),lL=function(){function t(){ic(this,t),this._events=[]}return ac(t,[{key:"add",value:function(n,r,o){n.addEventListener(r,o,!1),this._events.push({target:n,type:r,handler:o})}},{key:"remove",value:function(n,r,o){this._events=this._events.filter(function(i){var a=!0;return n&&n!==i.target&&(a=!1),r&&r!==i.type&&(a=!1),o&&o!==i.handler&&(a=!1),a&&t._doRemove(i.target,i.type,i.handler),!a})}},{key:"destroy",value:function(){this._events.forEach(function(n){return t._doRemove(n.target,n.type,n.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(n,r,o){n.removeEventListener(r,o,!1)}}]),t}();function uL(t){var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}function M2(t,e,n){var r=!1;function o(l,u,d){return Math.max(u,Math.min(l,d))}function i(l,u,d){if(d&&(r=!0),!!r){l.preventDefault();var c=e.getBoundingClientRect(),f=c.width,h=c.height,v=u.clientX,p=u.clientY,g=o(v-c.left,0,f),m=o(p-c.top,0,h);n(g/f,m/h)}}function a(l,u){var d=l.buttons===void 0?l.which:l.buttons;d===1?i(l,l,u):r=!1}function s(l,u){l.touches.length===1?i(l,l.touches[0],u):r=!1}t.add(e,"mousedown",function(l){a(l,!0)}),t.add(e,"touchstart",function(l){s(l,!0)}),t.add(window,"mousemove",a),t.add(e,"touchmove",s),t.add(window,"mouseup",function(l){r=!1}),t.add(e,"touchend",function(l){r=!1}),t.add(e,"touchcancel",function(l){r=!1})}var dL=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,cL=360,Ng="keydown",Ks="mousedown",O2="focusin";function Nr(t,e){return(e||document).querySelector(t)}function Tg(t){t.preventDefault(),t.stopPropagation()}function A2(t,e,n,r,o){t.add(e,Ng,function(i){n.indexOf(i.key)>=0&&(o&&Tg(i),r(i))})}var Pg=function(){function t(e){ic(this,t),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new lL,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return ac(t,[{key:"setOptions",value:function(n){var r=this;if(!n)return;var o=this.settings;function i(u,d,c){for(var f in u)c&&c.indexOf(f)>=0||(d[f]=u[f])}if(n instanceof HTMLElement)o.parent=n;else{o.parent&&n.parent&&o.parent!==n.parent&&(this._events.remove(o.parent),this._popupInited=!1),i(n,o),n.onChange&&(this.onChange=n.onChange),n.onDone&&(this.onDone=n.onDone),n.onOpen&&(this.onOpen=n.onOpen),n.onClose&&(this.onClose=n.onClose);var a=n.color||n.colour;a&&this._setColor(a)}var s=o.parent;if(s&&o.popup&&!this._popupInited){var l=function(d){return r.openHandler(d)};this._events.add(s,"click",l),A2(this._events,s,[" ","Spacebar","Enter"],l),this._popupInited=!0}else n.parent&&!o.popup&&this.show()}},{key:"openHandler",value:function(n){if(this.show()){n&&n.preventDefault(),this.settings.parent.style.pointerEvents="none";var r=n&&n.type===Ng?this._domEdit:this.domElement;setTimeout(function(){return r.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(n){var r=n&&n.type,o=!1;if(!n)o=!0;else if(r===Ks||r===O2){var i=(this.__containedEvent||0)+100;n.timeStamp>i&&(o=!0)}else Tg(n),o=!0;o&&this.hide()&&(this.settings.parent.style.pointerEvents="",r!==Ks&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(n,r){this.closeHandler(),this.setOptions(n),r&&this.openHandler()}},{key:"setColor",value:function(n,r){this._setColor(n,{silent:r})}},{key:"_setColor",value:function(n,r){if(typeof n=="string"&&(n=n.trim()),!!n){r=r||{};var o=void 0;try{o=new sL(n)}catch(a){if(r.failSilently)return;throw a}if(!this.settings.alpha){var i=o.hsla;i[3]=1,o.hsla=i}this.colour=this.color=o,this._setHSLA(null,null,null,null,r)}}},{key:"setColour",value:function(n,r){this.setColor(n,r)}},{key:"show",value:function(){var n=this.settings.parent;if(!n)return!1;if(this.domElement){var r=this._toggleDOM(!0);return this._setPosition(),r}var o=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',i=uL(o);return this.domElement=i,this._domH=Nr(".picker_hue",i),this._domSL=Nr(".picker_sl",i),this._domA=Nr(".picker_alpha",i),this._domEdit=Nr(".picker_editor input",i),this._domSample=Nr(".picker_sample",i),this._domOkay=Nr(".picker_done button",i),this._domCancel=Nr(".picker_cancel button",i),i.classList.add("layout_"+this.settings.layout),this.settings.alpha||i.classList.add("no_alpha"),this.settings.editor||i.classList.add("no_editor"),this.settings.cancelButton||i.classList.add("no_cancel"),this._ifPopup(function(){return i.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var n=this,r=this,o=this.domElement,i=this._events;function a(u,d,c){i.add(u,d,c)}a(o,"click",function(u){return u.preventDefault()}),M2(i,this._domH,function(u,d){return r._setHSLA(u)}),M2(i,this._domSL,function(u,d){return r._setHSLA(null,u,1-d)}),this.settings.alpha&&M2(i,this._domA,function(u,d){return r._setHSLA(null,null,null,1-d)});var s=this._domEdit;a(s,"input",function(u){r._setColor(this.value,{fromEditor:!0,failSilently:!0})}),a(s,"focus",function(u){var d=this;d.selectionStart===d.selectionEnd&&d.select()}),this._ifPopup(function(){var u=function(f){return n.closeHandler(f)};a(window,Ks,u),a(window,O2,u),A2(i,o,["Esc","Escape"],u);var d=function(f){n.__containedEvent=f.timeStamp};a(o,Ks,d),a(o,O2,d),a(n._domCancel,"click",u)});var l=function(d){n._ifPopup(function(){return n.closeHandler(d)}),n.onDone&&n.onDone(n.colour)};a(this._domOkay,"click",l),A2(i,o,["Enter"],l)}},{key:"_setPosition",value:function(){var n=this.settings.parent,r=this.domElement;n!==r.parentNode&&n.appendChild(r),this._ifPopup(function(o){getComputedStyle(n).position==="static"&&(n.style.position="relative");var i=o===!0?"popup_right":"popup_"+o;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(a){a===i?r.classList.add(a):r.classList.remove(a)}),r.classList.add(i)})}},{key:"_setHSLA",value:function(n,r,o,i,a){a=a||{};var s=this.colour,l=s.hsla;[n,r,o,i].forEach(function(u,d){(u||u===0)&&(l[d]=u)}),s.hsla=l,this._updateUI(a),this.onChange&&!a.silent&&this.onChange(s)}},{key:"_updateUI",value:function(n){if(!this.domElement)return;n=n||{};var r=this.colour,o=r.hsla,i="hsl("+o[0]*cL+", 100%, 50%)",a=r.hslString,s=r.hslaString,l=this._domH,u=this._domSL,d=this._domA,c=Nr(".picker_selector",l),f=Nr(".picker_selector",u),h=Nr(".picker_selector",d);function v(w,_,N){_.style.left=N*100+"%"}function p(w,_,N){_.style.top=N*100+"%"}v(l,c,o[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,v(u,f,o[1]),p(u,f,1-o[2]),u.style.color=a,p(d,h,1-o[3]);var g=a,m=g.replace("hsl","hsla").replace(")",", 0)"),y="linear-gradient("+[g,m]+")";if(this._domA.style.background=y+", "+dL,!n.fromEditor){var A=this.settings.editorFormat,M=this.settings.alpha,O=void 0;switch(A){case"rgb":O=r.printRGB(M);break;case"hsl":O=r.printHSL(M);break;default:O=r.printHex(M)}this._domEdit.value=O}this._domSample.style.color=s}},{key:"_ifPopup",value:function(n,r){this.settings.parent&&this.settings.popup?n&&n(this.settings.popup):r&&r()}},{key:"_toggleDOM",value:function(n){var r=this.domElement;if(!r)return!1;var o=n?"":"none",i=r.style.display!==o;return i&&(r.style.display=o),i}}]),t}();{var N2=document.createElement("style");N2.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(N2),Pg.StyleElement=N2}var kg={exports:{}};(function(t,e){(function(n,r){t.exports=n()})(function(){var n="object",r="function",o="undefined",i=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],a=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],s=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],l=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function u(H,Z){var Q=typeof H[Z];return Q==r||!!(Q==n&&H[Z])||Q=="unknown"}function d(H,Z){return!!(typeof H[Z]==n&&H[Z])}function c(H,Z){return typeof H[Z]!=o}function f(H){return function(Z,Q){for(var he=Q.length;he--;)if(!H(Z,Q[he]))return!1;return!0}}var h=f(u),v=f(d),p=f(c);function g(H){return H&&h(H,l)&&p(H,s)}function m(H){return d(H,"body")?H.body:H.getElementsByTagName("body")[0]}var y=[].forEach?function(H,Z){H.forEach(Z)}:function(H,Z){for(var Q=0,he=H.length;Q<he;++Q)Z(H[Q],Q)},A={},M=typeof window!=o&&typeof document!=o,O={isHostMethod:u,isHostObject:d,isHostProperty:c,areHostMethods:h,areHostObjects:v,areHostProperties:p,isTextRange:g,getBody:m,forEach:y},w={version:"1.3.2",initialized:!1,isBrowser:M,supported:!0,util:O,features:{},modules:A,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==o?!0:rangyAutoInitialize}};function _(H){typeof console!=o&&u(console,"log")}function N(H,Z){M&&Z?alert(H):_(H)}function R(H){w.initialized=!0,w.supported=!1,N("Rangy is not supported in this environment. Reason: "+H,w.config.alertOnFail)}w.fail=R;function I(H){N("Rangy warning: "+H,w.config.alertOnWarn)}w.warn=I;var W;({}).hasOwnProperty?(O.extend=W=function(H,Z,Q){var he,X;for(var ie in Z)ie==="__proto__"||ie==="constructor"||ie==="prototype"||Z.hasOwnProperty(ie)&&(he=H[ie],X=Z[ie],Q&&he!==null&&typeof he=="object"&&X!==null&&typeof X=="object"&&W(he,X,!0),H[ie]=X);return Z.hasOwnProperty("toString")&&(H.toString=Z.toString),H},O.createOptions=function(H,Z){var Q={};return W(Q,Z),H&&W(Q,H),Q}):R("hasOwnProperty not supported"),M||R("Rangy can only run in a browser"),function(){var H;if(M){var Z=document.createElement("div");Z.appendChild(document.createElement("span"));var Q=[].slice;try{Q.call(Z.childNodes,0)[0].nodeType==1&&(H=function(he){return Q.call(he,0)})}catch{}}H||(H=function(he){for(var X=[],ie=0,oe=he.length;ie<oe;++ie)X[ie]=he[ie];return X}),O.toArray=H}();var G;M&&(u(document,"addEventListener")?G=function(H,Z,Q){H.addEventListener(Z,Q,!1)}:u(document,"attachEvent")?G=function(H,Z,Q){H.attachEvent("on"+Z,Q)}:R("Document does not have required addEventListener or attachEvent method"),O.addListener=G);var C=[];function L(H){return H.message||H.description||String(H)}function k(){if(!(!M||w.initialized)){var H,Z=!1,Q=!1;u(document,"createRange")&&(H=document.createRange(),h(H,a)&&p(H,i)&&(Z=!0));var he=m(document);if(!he||he.nodeName.toLowerCase()!="body"){R("No body element found");return}if(he&&u(he,"createTextRange")&&(H=he.createTextRange(),g(H)&&(Q=!0)),!Z&&!Q){R("Neither Range nor TextRange are available");return}w.initialized=!0,w.features={implementsDomRange:Z,implementsTextRange:Q};var X,ie;for(var oe in A)(X=A[oe])instanceof ne&&X.init(X,w);for(var Te=0,Xe=C.length;Te<Xe;++Te)try{C[Te](w)}catch(Et){ie="Rangy init listener threw an exception. Continuing. Detail: "+L(Et),_(ie)}}}function B(H,Z,Q){Q&&(H+=" in module "+Q.name),w.warn("DEPRECATED: "+H+" is deprecated. Please use "+Z+" instead.")}function V(H,Z,Q,he){H[Z]=function(){return B(Z,Q,he),H[Q].apply(H,O.toArray(arguments))}}O.deprecationNotice=B,O.createAliasForDeprecatedMethod=V,w.init=k,w.addInitListener=function(H){w.initialized?H(w):C.push(H)};var $=[];w.addShimListener=function(H){$.push(H)};function te(H){H=H||window,k();for(var Z=0,Q=$.length;Z<Q;++Z)$[Z](H)}M&&(w.shim=w.createMissingNativeApi=te,V(w,"createMissingNativeApi","shim"));function ne(H,Z,Q){this.name=H,this.dependencies=Z,this.initialized=!1,this.supported=!1,this.initializer=Q}ne.prototype={init:function(){for(var H=this.dependencies||[],Z=0,Q=H.length,he,X;Z<Q;++Z){if(X=H[Z],he=A[X],!he||!(he instanceof ne))throw new Error("required module '"+X+"' not found");if(he.init(),!he.supported)throw new Error("required module '"+X+"' not supported")}this.initializer(this)},fail:function(H){throw this.initialized=!0,this.supported=!1,new Error(H)},warn:function(H){w.warn("Module "+this.name+": "+H)},deprecationNotice:function(H,Z){w.warn("DEPRECATED: "+H+" in module "+this.name+" is deprecated. Please use "+Z+" instead")},createError:function(H){return new Error("Error in Rangy "+this.name+" module: "+H)}};function se(H,Z,Q){var he=new ne(H,Z,function(X){if(!X.initialized){X.initialized=!0;try{Q(w,X),X.supported=!0}catch(oe){var ie="Module '"+H+"' failed to load: "+L(oe);_(ie),oe.stack&&_(oe.stack)}}});return A[H]=he,he}w.createModule=function(H){var Z,Q;arguments.length==2?(Z=arguments[1],Q=[]):(Z=arguments[2],Q=arguments[1]);var he=se(H,Q,Z);w.initialized&&w.supported&&he.init()},w.createCoreModule=function(H,Z,Q){se(H,Z,Q)};function me(){}w.RangePrototype=me,w.rangePrototype=new me;function be(){}w.selectionPrototype=new be,w.createCoreModule("DomUtil",[],function(H,Z){var Q="undefined",he=H.util,X=he.getBody;he.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||Z.fail("document missing a Node creation method"),he.isHostMethod(document,"getElementsByTagName")||Z.fail("document missing getElementsByTagName method");var ie=document.createElement("div");he.areHostMethods(ie,["insertBefore","appendChild","cloneNode"])||Z.fail("Incomplete Element implementation"),he.isHostProperty(ie,"innerHTML")||Z.fail("Element is missing innerHTML property");var oe=document.createTextNode("test");he.areHostMethods(oe,["splitText","deleteData","insertData","appendData","cloneNode"])||Z.fail("Incomplete Text Node implementation");var Te=function(q,_e){for(var Ze=q.length;Ze--;)if(q[Ze]===_e)return!0;return!1};function Xe(q){var _e;return typeof q.namespaceURI==Q||(_e=q.namespaceURI)===null||_e=="http://www.w3.org/1999/xhtml"}function Et(q){var _e=q.parentNode;return _e.nodeType==1?_e:null}function Qe(q){for(var _e=0;q=q.previousSibling;)++_e;return _e}function ke(q){switch(q.nodeType){case 7:case 10:return 0;case 3:case 8:return q.length;default:return q.childNodes.length}}function ft(q,_e){var Ze=[],$e;for($e=q;$e;$e=$e.parentNode)Ze.push($e);for($e=_e;$e;$e=$e.parentNode)if(Te(Ze,$e))return $e;return null}function S(q,_e,Ze){for(var $e=Ze?_e:_e.parentNode;$e;){if($e===q)return!0;$e=$e.parentNode}return!1}function P(q,_e){return S(q,_e,!0)}function j(q,_e,Ze){for(var $e,jt=Ze?q:q.parentNode;jt;){if($e=jt.parentNode,$e===_e)return jt;jt=$e}return null}function ee(q){var _e=q.nodeType;return _e==3||_e==4||_e==8}function F(q){if(!q)return!1;var _e=q.nodeType;return _e==3||_e==8}function fe(q,_e){var Ze=_e.nextSibling,$e=_e.parentNode;return Ze?$e.insertBefore(q,Ze):$e.appendChild(q),q}function de(q,_e,Ze){var $e=q.cloneNode(!1);if($e.deleteData(0,_e),q.deleteData(_e,q.length-_e),fe($e,q),Ze)for(var jt=0,St;St=Ze[jt++];)St.node==q&&St.offset>_e?(St.node=$e,St.offset-=_e):St.node==q.parentNode&&St.offset>Qe(q)&&++St.offset;return $e}function pe(q){if(q.nodeType==9)return q;if(typeof q.ownerDocument!=Q)return q.ownerDocument;if(typeof q.document!=Q)return q.document;if(q.parentNode)return pe(q.parentNode);throw Z.createError("getDocument: no document found for node")}function Ve(q){var _e=pe(q);if(typeof _e.defaultView!=Q)return _e.defaultView;if(typeof _e.parentWindow!=Q)return _e.parentWindow;throw Z.createError("Cannot get a window object for node")}function Re(q){if(typeof q.contentDocument!=Q)return q.contentDocument;if(typeof q.contentWindow!=Q)return q.contentWindow.document;throw Z.createError("getIframeDocument: No Document object found for iframe element")}function Ee(q){if(typeof q.contentWindow!=Q)return q.contentWindow;if(typeof q.contentDocument!=Q)return q.contentDocument.defaultView;throw Z.createError("getIframeWindow: No Window object found for iframe element")}function pt(q){return q&&he.isHostMethod(q,"setTimeout")&&he.isHostObject(q,"document")}function it(q,_e,Ze){var $e;if(q?he.isHostProperty(q,"nodeType")?$e=q.nodeType==1&&q.tagName.toLowerCase()=="iframe"?Re(q):pe(q):pt(q)&&($e=q.document):$e=document,!$e)throw _e.createError(Ze+"(): Parameter must be a Window object or DOM node");return $e}function dt(q){for(var _e;_e=q.parentNode;)q=_e;return q}function nn(q,_e,Ze,$e){var jt,St,or,jn,mn;if(q==Ze)return _e===$e?0:_e<$e?-1:1;if(jt=j(Ze,q,!0))return _e<=Qe(jt)?-1:1;if(jt=j(q,Ze,!0))return Qe(jt)<$e?-1:1;if(St=ft(q,Ze),!St)throw new Error("comparePoints error: nodes have no common ancestor");if(or=q===St?St:j(q,St,!0),jn=Ze===St?St:j(Ze,St,!0),or===jn)throw Z.createError("comparePoints got to case 4 and childA and childB are the same!");for(mn=St.firstChild;mn;){if(mn===or)return-1;if(mn===jn)return 1;mn=mn.nextSibling}}var Se=!1;function He(q){var _e;try{return _e=q.parentNode,!1}catch{return!0}}(function(){var q=document.createElement("b");q.innerHTML="1";var _e=q.firstChild;q.innerHTML="<br />",Se=He(_e),H.features.crashyTextNodes=Se})();function mt(q){if(!q)return"[No node]";if(Se&&He(q))return"[Broken node]";if(ee(q))return'"'+q.data+'"';if(q.nodeType==1){var _e=q.id?' id="'+q.id+'"':"";return"<"+q.nodeName+_e+">[index:"+Qe(q)+",length:"+q.childNodes.length+"]["+(q.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return q.nodeName}function Pt(q){for(var _e=pe(q).createDocumentFragment(),Ze;Ze=q.firstChild;)_e.appendChild(Ze);return _e}var Ut;typeof window.getComputedStyle!=Q?Ut=function(q,_e){return Ve(q).getComputedStyle(q,null)[_e]}:typeof document.documentElement.currentStyle!=Q?Ut=function(q,_e){return q.currentStyle?q.currentStyle[_e]:""}:Z.fail("No means of obtaining computed style properties found");function Bn(q,_e,Ze){var $e=X(q),jt=q.createElement("div");jt.contentEditable=""+!!Ze,_e&&(jt.innerHTML=_e);var St=$e.firstChild;return St?$e.insertBefore(jt,St):$e.appendChild(jt),jt}function gn(q){return q.parentNode.removeChild(q)}function rn(q){this.root=q,this._next=q}rn.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var q=this._current=this._next,_e,Ze;if(this._current)if(_e=q.firstChild,_e)this._next=_e;else{for(Ze=null;q!==this.root&&!(Ze=q.nextSibling);)q=q.parentNode;this._next=Ze}return this._current},detach:function(){this._current=this._next=this.root=null}};function on(q){return new rn(q)}function cn(q,_e){this.node=q,this.offset=_e}cn.prototype={equals:function(q){return!!q&&this.node===q.node&&this.offset==q.offset},inspect:function(){return"[DomPosition("+mt(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};function On(q){this.code=this[q],this.codeName=q,this.message="DOMException: "+this.codeName}On.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},On.prototype.toString=function(){return this.message},H.dom={arrayContains:Te,isHtmlNamespace:Xe,parentElement:Et,getNodeIndex:Qe,getNodeLength:ke,getCommonAncestor:ft,isAncestorOf:S,isOrIsAncestorOf:P,getClosestAncestorIn:j,isCharacterDataNode:ee,isTextOrCommentNode:F,insertAfter:fe,splitDataNode:de,getDocument:pe,getWindow:Ve,getIframeWindow:Ee,getIframeDocument:Re,getBody:X,isWindow:pt,getContentDocument:it,getRootContainer:dt,comparePoints:nn,isBrokenNode:He,inspectNode:mt,getComputedStyleProperty:Ut,createTestElement:Bn,removeNode:gn,fragmentFromNodeChildren:Pt,createIterator:on,DomPosition:cn},H.DOMException=On}),w.createCoreModule("DomRange",["DomUtil"],function(H,Z){var Q=H.dom,he=H.util,X=Q.DomPosition,ie=H.DOMException,oe=Q.isCharacterDataNode,Te=Q.getNodeIndex,Xe=Q.isOrIsAncestorOf,Et=Q.getDocument,Qe=Q.comparePoints,ke=Q.splitDataNode,ft=Q.getClosestAncestorIn,S=Q.getNodeLength,P=Q.arrayContains,j=Q.getRootContainer,ee=H.features.crashyTextNodes,F=Q.removeNode;function fe(E,z){return E.nodeType!=3&&(Xe(E,z.startContainer)||Xe(E,z.endContainer))}function de(E){return E.document||Et(E.startContainer)}function pe(E){return j(E.startContainer)}function Ve(E){return new X(E.parentNode,Te(E))}function Re(E){return new X(E.parentNode,Te(E)+1)}function Ee(E,z,le){var ye=E.nodeType==11?E.firstChild:E;return oe(z)?le==z.length?Q.insertAfter(E,z):z.parentNode.insertBefore(E,le==0?z:ke(z,le)):le>=z.childNodes.length?z.appendChild(E):z.insertBefore(E,z.childNodes[le]),ye}function pt(E,z,le){if(At(E),At(z),de(z)!=de(E))throw new ie("WRONG_DOCUMENT_ERR");var ye=Qe(E.startContainer,E.startOffset,z.endContainer,z.endOffset),Be=Qe(E.endContainer,E.endOffset,z.startContainer,z.startOffset);return le?ye<=0&&Be>=0:ye<0&&Be>0}function it(E){for(var z,le,ye=de(E.range).createDocumentFragment(),Be;le=E.next();){if(z=E.isPartiallySelectedSubtree(),le=le.cloneNode(!z),z&&(Be=E.getSubtreeIterator(),le.appendChild(it(Be)),Be.detach()),le.nodeType==10)throw new ie("HIERARCHY_REQUEST_ERR");ye.appendChild(le)}return ye}function dt(E,z,le){var ye,Be;le=le||{stop:!1};for(var ht,ve;ht=E.next();)if(E.isPartiallySelectedSubtree()){if(z(ht)===!1){le.stop=!0;return}else if(ve=E.getSubtreeIterator(),dt(ve,z,le),ve.detach(),le.stop)return}else for(ye=Q.createIterator(ht);Be=ye.next();)if(z(Be)===!1){le.stop=!0;return}}function nn(E){for(var z;E.next();)E.isPartiallySelectedSubtree()?(z=E.getSubtreeIterator(),nn(z),z.detach()):E.remove()}function Se(E){for(var z,le=de(E.range).createDocumentFragment(),ye;z=E.next();){if(E.isPartiallySelectedSubtree()?(z=z.cloneNode(!1),ye=E.getSubtreeIterator(),z.appendChild(Se(ye)),ye.detach()):E.remove(),z.nodeType==10)throw new ie("HIERARCHY_REQUEST_ERR");le.appendChild(z)}return le}function He(E,z,le){var ye=!!(z&&z.length),Be,ht=!!le;ye&&(Be=new RegExp("^("+z.join("|")+")$"));var ve=[];return dt(new Pt(E,!1),function(Le){if(!(ye&&!Be.test(Le.nodeType))&&!(ht&&!le(Le))){var ze=E.startContainer;if(!(Le==ze&&oe(ze)&&E.startOffset==ze.length)){var at=E.endContainer;Le==at&&oe(at)&&E.endOffset==0||ve.push(Le)}}}),ve}function mt(E){var z=typeof E.getName>"u"?"Range":E.getName();return"["+z+"("+Q.inspectNode(E.startContainer)+":"+E.startOffset+", "+Q.inspectNode(E.endContainer)+":"+E.endOffset+")]"}function Pt(E,z){if(this.range=E,this.clonePartiallySelectedTextNodes=z,!E.collapsed){this.sc=E.startContainer,this.so=E.startOffset,this.ec=E.endContainer,this.eo=E.endOffset;var le=E.commonAncestorContainer;this.sc===this.ec&&oe(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc===le&&!oe(this.sc)?this.sc.childNodes[this.so]:ft(this.sc,le,!0),this._last=this.ec===le&&!oe(this.ec)?this.ec.childNodes[this.eo-1]:ft(this.ec,le,!0))}}Pt.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var E=this._current=this._next;return E&&(this._next=E!==this._last?E.nextSibling:null,oe(E)&&this.clonePartiallySelectedTextNodes&&(E===this.ec&&(E=E.cloneNode(!0)).deleteData(this.eo,E.length-this.eo),this._current===this.sc&&(E=E.cloneNode(!0)).deleteData(0,this.so))),E},remove:function(){var E=this._current,z,le;oe(E)&&(E===this.sc||E===this.ec)?(z=E===this.sc?this.so:0,le=E===this.ec?this.eo:E.length,z!=le&&E.deleteData(z,le-z)):E.parentNode&&F(E)},isPartiallySelectedSubtree:function(){var E=this._current;return fe(E,this.range)},getSubtreeIterator:function(){var E;if(this.isSingleCharacterDataNode)E=this.range.cloneRange(),E.collapse(!1);else{E=new Gt(de(this.range));var z=this._current,le=z,ye=0,Be=z,ht=S(z);Xe(z,this.sc)&&(le=this.sc,ye=this.so),Xe(z,this.ec)&&(Be=this.ec,ht=this.eo),yt(E,le,ye,Be,ht)}return new Pt(E,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Ut=[1,3,4,5,7,8,10],Bn=[2,9,11],gn=[5,6,10,12],rn=[1,3,4,5,7,8,10,11],on=[1,3,4,5,7,8];function cn(E){return function(z,le){for(var ye,Be=le?z:z.parentNode;Be;){if(ye=Be.nodeType,P(E,ye))return Be;Be=Be.parentNode}return null}}var On=cn([9,11]),q=cn(gn),_e=cn([6,10,12]),Ze=cn([1]);function $e(E,z){if(_e(E,z))throw new ie("INVALID_NODE_TYPE_ERR")}function jt(E,z){if(!P(z,E.nodeType))throw new ie("INVALID_NODE_TYPE_ERR")}function St(E,z){if(z<0||z>(oe(E)?E.length:E.childNodes.length))throw new ie("INDEX_SIZE_ERR")}function or(E,z){if(On(E,!0)!==On(z,!0))throw new ie("WRONG_DOCUMENT_ERR")}function jn(E){if(q(E,!0))throw new ie("NO_MODIFICATION_ALLOWED_ERR")}function mn(E,z){if(!E)throw new ie(z)}function ha(E,z){return z<=(oe(E)?E.length:E.childNodes.length)}function No(E){return!!E.startContainer&&!!E.endContainer&&!(ee&&(Q.isBrokenNode(E.startContainer)||Q.isBrokenNode(E.endContainer)))&&j(E.startContainer)==j(E.endContainer)&&ha(E.startContainer,E.startOffset)&&ha(E.endContainer,E.endOffset)}function At(E){if(!No(E))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+E.inspect()+")")}var pa=document.createElement("style"),Ur=!1;try{pa.innerHTML="<b>x</b>",Ur=pa.firstChild.nodeType==3}catch{}H.features.htmlParsingConforms=Ur;var va=Ur?function(E){var z=this.startContainer,le=Et(z);if(!z)throw new ie("INVALID_STATE_ERR");var ye=null;return z.nodeType==1?ye=z:oe(z)&&(ye=Q.parentElement(z)),ye===null||ye.nodeName=="HTML"&&Q.isHtmlNamespace(Et(ye).documentElement)&&Q.isHtmlNamespace(ye)?ye=le.createElement("body"):ye=ye.cloneNode(!1),ye.innerHTML=E,Q.fragmentFromNodeChildren(ye)}:function(E){var z=de(this),le=z.createElement("body");return le.innerHTML=E,Q.fragmentFromNodeChildren(le)};function ui(E,z){At(E);var le=E.startContainer,ye=E.startOffset,Be=E.endContainer,ht=E.endOffset,ve=le===Be;oe(Be)&&ht>0&&ht<Be.length&&ke(Be,ht,z),oe(le)&&ye>0&&ye<le.length&&(le=ke(le,ye,z),ve?(ht-=ye,Be=le):Be==le.parentNode&&ht>=Te(le)&&ht++,ye=0),E.setStartAndEnd(le,ye,Be,ht)}function qe(E){At(E);var z=E.commonAncestorContainer.parentNode.cloneNode(!1);return z.appendChild(E.cloneContents()),z.innerHTML}var di=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ci=0,To=1,Ss=2,to=3,Po=0,ga=1,ma=2,fi=3;he.extend(H.rangePrototype,{compareBoundaryPoints:function(E,z){At(this),or(this.startContainer,z.startContainer);var le,ye,Be,ht,ve=E==to||E==ci?"start":"end",Le=E==To||E==ci?"start":"end";return le=this[ve+"Container"],ye=this[ve+"Offset"],Be=z[Le+"Container"],ht=z[Le+"Offset"],Qe(le,ye,Be,ht)},insertNode:function(E){if(At(this),jt(E,rn),jn(this.startContainer),Xe(E,this.startContainer))throw new ie("HIERARCHY_REQUEST_ERR");var z=Ee(E,this.startContainer,this.startOffset);this.setStartBefore(z)},cloneContents:function(){At(this);var E,z;if(this.collapsed)return de(this).createDocumentFragment();if(this.startContainer===this.endContainer&&oe(this.startContainer))return E=this.startContainer.cloneNode(!0),E.data=E.data.slice(this.startOffset,this.endOffset),z=de(this).createDocumentFragment(),z.appendChild(E),z;var le=new Pt(this,!0);return E=it(le),le.detach(),E},canSurroundContents:function(){At(this),jn(this.startContainer),jn(this.endContainer);var E=new Pt(this,!0),z=E._first&&fe(E._first,this)||E._last&&fe(E._last,this);return E.detach(),!z},surroundContents:function(E){if(jt(E,on),!this.canSurroundContents())throw new ie("INVALID_STATE_ERR");var z=this.extractContents();if(E.hasChildNodes())for(;E.lastChild;)E.removeChild(E.lastChild);Ee(E,this.startContainer,this.startOffset),E.appendChild(z),this.selectNode(E)},cloneRange:function(){At(this);for(var E=new Gt(de(this)),z=di.length,le;z--;)le=di[z],E[le]=this[le];return E},toString:function(){At(this);var E=this.startContainer;if(E===this.endContainer&&oe(E))return E.nodeType==3||E.nodeType==4?E.data.slice(this.startOffset,this.endOffset):"";var z=[],le=new Pt(this,!0);return dt(le,function(ye){(ye.nodeType==3||ye.nodeType==4)&&z.push(ye.data)}),le.detach(),z.join("")},compareNode:function(E){At(this);var z=E.parentNode,le=Te(E);if(!z)throw new ie("NOT_FOUND_ERR");var ye=this.comparePoint(z,le),Be=this.comparePoint(z,le+1);return ye<0?Be>0?ma:Po:Be>0?ga:fi},comparePoint:function(E,z){return At(this),mn(E,"HIERARCHY_REQUEST_ERR"),or(E,this.startContainer),Qe(E,z,this.startContainer,this.startOffset)<0?-1:Qe(E,z,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:va,toHtml:function(){return qe(this)},intersectsNode:function(E,z){if(At(this),j(E)!=pe(this))return!1;var le=E.parentNode,ye=Te(E);if(!le)return!0;var Be=Qe(le,ye,this.endContainer,this.endOffset),ht=Qe(le,ye+1,this.startContainer,this.startOffset);return z?Be<=0&&ht>=0:Be<0&&ht>0},isPointInRange:function(E,z){return At(this),mn(E,"HIERARCHY_REQUEST_ERR"),or(E,this.startContainer),Qe(E,z,this.startContainer,this.startOffset)>=0&&Qe(E,z,this.endContainer,this.endOffset)<=0},intersectsRange:function(E){return pt(this,E,!1)},intersectsOrTouchesRange:function(E){return pt(this,E,!0)},intersection:function(E){if(this.intersectsRange(E)){var z=Qe(this.startContainer,this.startOffset,E.startContainer,E.startOffset),le=Qe(this.endContainer,this.endOffset,E.endContainer,E.endOffset),ye=this.cloneRange();return z==-1&&ye.setStart(E.startContainer,E.startOffset),le==1&&ye.setEnd(E.endContainer,E.endOffset),ye}return null},union:function(E){if(this.intersectsOrTouchesRange(E)){var z=this.cloneRange();return Qe(E.startContainer,E.startOffset,this.startContainer,this.startOffset)==-1&&z.setStart(E.startContainer,E.startOffset),Qe(E.endContainer,E.endOffset,this.endContainer,this.endOffset)==1&&z.setEnd(E.endContainer,E.endOffset),z}else throw new ie("Ranges do not intersect")},containsNode:function(E,z){return z?this.intersectsNode(E,!1):this.compareNode(E)==fi},containsNodeContents:function(E){return this.comparePoint(E,0)>=0&&this.comparePoint(E,S(E))<=0},containsRange:function(E){var z=this.intersection(E);return z!==null&&E.equals(z)},containsNodeText:function(E){var z=this.cloneRange();z.selectNode(E);var le=z.getNodes([3]);if(le.length>0){z.setStart(le[0],0);var ye=le.pop();return z.setEnd(ye,ye.length),this.containsRange(z)}else return this.containsNodeContents(E)},getNodes:function(E,z){return At(this),He(this,E,z)},getDocument:function(){return de(this)},collapseBefore:function(E){this.setEndBefore(E),this.collapse(!1)},collapseAfter:function(E){this.setStartAfter(E),this.collapse(!0)},getBookmark:function(E){var z=de(this),le=H.createRange(z);E=E||Q.getBody(z),le.selectNodeContents(E);var ye=this.intersection(le),Be=0,ht=0;return ye&&(le.setEnd(ye.startContainer,ye.startOffset),Be=le.toString().length,ht=Be+ye.toString().length),{start:Be,end:ht,containerNode:E}},moveToBookmark:function(E){var z=E.containerNode,le=0;this.setStart(z,0),this.collapse(!0);for(var ye=[z],Be,ht=!1,ve=!1,Le,ze,at;!ve&&(Be=ye.pop());)if(Be.nodeType==3)Le=le+Be.length,!ht&&E.start>=le&&E.start<=Le&&(this.setStart(Be,E.start-le),ht=!0),ht&&E.end>=le&&E.end<=Le&&(this.setEnd(Be,E.end-le),ve=!0),le=Le;else for(at=Be.childNodes,ze=at.length;ze--;)ye.push(at[ze])},getName:function(){return"DomRange"},equals:function(E){return Gt.rangesEqual(this,E)},isValid:function(){return No(this)},inspect:function(){return mt(this)},detach:function(){}});function x(E){E.START_TO_START=ci,E.START_TO_END=To,E.END_TO_END=Ss,E.END_TO_START=to,E.NODE_BEFORE=Po,E.NODE_AFTER=ga,E.NODE_BEFORE_AND_AFTER=ma,E.NODE_INSIDE=fi}function U(E){x(E),x(E.prototype)}function ce(E,z){return function(){At(this);var le=this.startContainer,ye=this.startOffset,Be=this.commonAncestorContainer,ht=new Pt(this,!0),ve,Le;le!==Be&&(ve=ft(le,Be,!0),Le=Re(ve),le=Le.node,ye=Le.offset),dt(ht,jn),ht.reset();var ze=E(ht);return ht.detach(),z(this,le,ye,le,ye),ze}}function Me(E,z){function le(ve,Le){return function(ze){jt(ze,Ut),jt(j(ze),Bn);var at=(ve?Ve:Re)(ze);(Le?ye:Be)(this,at.node,at.offset)}}function ye(ve,Le,ze){var at=ve.endContainer,yn=ve.endOffset;(Le!==ve.startContainer||ze!==ve.startOffset)&&((j(Le)!=j(at)||Qe(Le,ze,at,yn)==1)&&(at=Le,yn=ze),z(ve,Le,ze,at,yn))}function Be(ve,Le,ze){var at=ve.startContainer,yn=ve.startOffset;(Le!==ve.endContainer||ze!==ve.endOffset)&&((j(Le)!=j(at)||Qe(Le,ze,at,yn)==-1)&&(at=Le,yn=ze),z(ve,at,yn,Le,ze))}var ht=function(){};ht.prototype=H.rangePrototype,E.prototype=new ht,he.extend(E.prototype,{setStart:function(ve,Le){$e(ve,!0),St(ve,Le),ye(this,ve,Le)},setEnd:function(ve,Le){$e(ve,!0),St(ve,Le),Be(this,ve,Le)},setStartAndEnd:function(){var ve=arguments,Le=ve[0],ze=ve[1],at=Le,yn=ze;switch(ve.length){case 3:yn=ve[2];break;case 4:at=ve[2],yn=ve[3];break}$e(Le,!0),St(Le,ze),$e(at,!0),St(at,yn),z(this,Le,ze,at,yn)},setBoundary:function(ve,Le,ze){this["set"+(ze?"Start":"End")](ve,Le)},setStartBefore:le(!0,!0),setStartAfter:le(!1,!0),setEndBefore:le(!0,!1),setEndAfter:le(!1,!1),collapse:function(ve){At(this),ve?z(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):z(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(ve){$e(ve,!0),z(this,ve,0,ve,S(ve))},selectNode:function(ve){$e(ve,!1),jt(ve,Ut);var Le=Ve(ve),ze=Re(ve);z(this,Le.node,Le.offset,ze.node,ze.offset)},extractContents:ce(Se,z),deleteContents:ce(nn,z),canSurroundContents:function(){At(this),jn(this.startContainer),jn(this.endContainer);var ve=new Pt(this,!0),Le=ve._first&&fe(ve._first,this)||ve._last&&fe(ve._last,this);return ve.detach(),!Le},splitBoundaries:function(){ui(this)},splitBoundariesPreservingPositions:function(ve){ui(this,ve)},normalizeBoundaries:function(){At(this);var ve=this.startContainer,Le=this.startOffset,ze=this.endContainer,at=this.endOffset,yn=function(An){var Or=An.nextSibling;Or&&Or.nodeType==An.nodeType&&(ze=An,at=An.length,An.appendData(Or.data),F(Or))},lc=function(An){var Or=An.previousSibling;if(Or&&Or.nodeType==An.nodeType){ve=An;var $g=An.length;if(Le=Or.length,An.insertData(0,Or.data),F(Or),ve==ze)at+=Le,ze=ve;else if(ze==An.parentNode){var uc=Te(An);at==uc?(ze=An,at=$g):at>uc&&at--}}},Y0=!0,Wn;if(oe(ze))at==ze.length?yn(ze):at==0&&(Wn=ze.previousSibling,Wn&&Wn.nodeType==ze.nodeType&&(at=Wn.length,ve==ze&&(Y0=!1),Wn.appendData(ze.data),F(ze),ze=Wn));else{if(at>0){var Z0=ze.childNodes[at-1];Z0&&oe(Z0)&&yn(Z0)}Y0=!this.collapsed}if(Y0){if(oe(ve))Le==0?lc(ve):Le==ve.length&&(Wn=ve.nextSibling,Wn&&Wn.nodeType==ve.nodeType&&(ze==Wn&&(ze=ve,at+=ve.length),ve.appendData(Wn.data),F(Wn)));else if(Le<ve.childNodes.length){var K0=ve.childNodes[Le];K0&&oe(K0)&&lc(K0)}}else ve=ze,Le=at;z(this,ve,Le,ze,at)},collapseToPoint:function(ve,Le){$e(ve,!0),St(ve,Le),this.setStartAndEnd(ve,Le)},parentElement:function(){At(this);var ve=this.commonAncestorContainer;return ve?Ze(this.commonAncestorContainer,!0):null}}),U(E)}function Ge(E){E.collapsed=E.startContainer===E.endContainer&&E.startOffset===E.endOffset,E.commonAncestorContainer=E.collapsed?E.startContainer:Q.getCommonAncestor(E.startContainer,E.endContainer)}function yt(E,z,le,ye,Be){E.startContainer=z,E.startOffset=le,E.endContainer=ye,E.endOffset=Be,E.document=Q.getDocument(z),Ge(E)}function Gt(E){yt(this,E,0,E,0)}Me(Gt,yt),he.extend(Gt,{rangeProperties:di,RangeIterator:Pt,copyComparisonConstants:U,createPrototypeRange:Me,inspect:mt,toHtml:qe,getRangeDocument:de,rangesEqual:function(E,z){return E.startContainer===z.startContainer&&E.startOffset===z.startOffset&&E.endContainer===z.endContainer&&E.endOffset===z.endOffset}}),H.DomRange=Gt}),w.createCoreModule("WrappedRange",["DomRange"],function(H,Z){var Q,he,X=H.dom,ie=H.util,oe=X.DomPosition,Te=H.DomRange,Xe=X.getBody,Et=X.getContentDocument,Qe=X.isCharacterDataNode;if(H.features.implementsDomRange&&function(){var F,fe=Te.rangeProperties;function de(Se){for(var He=fe.length,mt;He--;)mt=fe[He],Se[mt]=Se.nativeRange[mt];Se.collapsed=Se.startContainer===Se.endContainer&&Se.startOffset===Se.endOffset}function pe(Se,He,mt,Pt,Ut){var Bn=Se.startContainer!==He||Se.startOffset!=mt,gn=Se.endContainer!==Pt||Se.endOffset!=Ut,rn=!Se.equals(Se.nativeRange);(Bn||gn||rn)&&(Se.setEnd(Pt,Ut),Se.setStart(He,mt))}var Ve;Q=function(Se){if(!Se)throw Z.createError("WrappedRange: Range must be specified");this.nativeRange=Se,de(this)},Te.createPrototypeRange(Q,pe),F=Q.prototype,F.selectNode=function(Se){this.nativeRange.selectNode(Se),de(this)},F.cloneContents=function(){return this.nativeRange.cloneContents()},F.surroundContents=function(Se){this.nativeRange.surroundContents(Se),de(this)},F.collapse=function(Se){this.nativeRange.collapse(Se),de(this)},F.cloneRange=function(){return new Q(this.nativeRange.cloneRange())},F.refresh=function(){de(this)},F.toString=function(){return this.nativeRange.toString()};var Re=document.createTextNode("test");Xe(document).appendChild(Re);var Ee=document.createRange();Ee.setStart(Re,0),Ee.setEnd(Re,0);try{Ee.setStart(Re,1),F.setStart=function(Se,He){this.nativeRange.setStart(Se,He),de(this)},F.setEnd=function(Se,He){this.nativeRange.setEnd(Se,He),de(this)},Ve=function(Se){return function(He){this.nativeRange[Se](He),de(this)}}}catch{F.setStart=function(He,mt){try{this.nativeRange.setStart(He,mt)}catch{this.nativeRange.setEnd(He,mt),this.nativeRange.setStart(He,mt)}de(this)},F.setEnd=function(He,mt){try{this.nativeRange.setEnd(He,mt)}catch{this.nativeRange.setStart(He,mt),this.nativeRange.setEnd(He,mt)}de(this)},Ve=function(He,mt){return function(Pt){try{this.nativeRange[He](Pt)}catch{this.nativeRange[mt](Pt),this.nativeRange[He](Pt)}de(this)}}}F.setStartBefore=Ve("setStartBefore","setEndBefore"),F.setStartAfter=Ve("setStartAfter","setEndAfter"),F.setEndBefore=Ve("setEndBefore","setStartBefore"),F.setEndAfter=Ve("setEndAfter","setStartAfter"),F.selectNodeContents=function(Se){this.setStartAndEnd(Se,0,X.getNodeLength(Se))},Ee.selectNodeContents(Re),Ee.setEnd(Re,3);var pt=document.createRange();pt.selectNodeContents(Re),pt.setEnd(Re,4),pt.setStart(Re,2),Ee.compareBoundaryPoints(Ee.START_TO_END,pt)==-1&&Ee.compareBoundaryPoints(Ee.END_TO_START,pt)==1?F.compareBoundaryPoints=function(Se,He){return He=He.nativeRange||He,Se==He.START_TO_END?Se=He.END_TO_START:Se==He.END_TO_START&&(Se=He.START_TO_END),this.nativeRange.compareBoundaryPoints(Se,He)}:F.compareBoundaryPoints=function(Se,He){return this.nativeRange.compareBoundaryPoints(Se,He.nativeRange||He)};var it=document.createElement("div");it.innerHTML="123";var dt=it.firstChild,nn=Xe(document);nn.appendChild(it),Ee.setStart(dt,1),Ee.setEnd(dt,2),Ee.deleteContents(),dt.data=="13"&&(F.deleteContents=function(){this.nativeRange.deleteContents(),de(this)},F.extractContents=function(){var Se=this.nativeRange.extractContents();return de(this),Se}),nn.removeChild(it),nn=null,ie.isHostMethod(Ee,"createContextualFragment")&&(F.createContextualFragment=function(Se){return this.nativeRange.createContextualFragment(Se)}),Xe(document).removeChild(Re),F.getName=function(){return"WrappedRange"},H.WrappedRange=Q,H.createNativeRange=function(Se){return Se=Et(Se,Z,"createNativeRange"),Se.createRange()}}(),H.features.implementsTextRange){var ke=function(F){var fe=F.parentElement(),de=F.duplicate();de.collapse(!0);var pe=de.parentElement();de=F.duplicate(),de.collapse(!1);var Ve=de.parentElement(),Re=pe==Ve?pe:X.getCommonAncestor(pe,Ve);return Re==fe?Re:X.getCommonAncestor(fe,Re)},ft=function(F){return F.compareEndPoints("StartToEnd",F)==0},S=function(F,fe,de,pe,Ve){var Re=F.duplicate();Re.collapse(de);var Ee=Re.parentElement();if(X.isOrIsAncestorOf(fe,Ee)||(Ee=fe),!Ee.canHaveHTML){var pt=new oe(Ee.parentNode,X.getNodeIndex(Ee));return{boundaryPosition:pt,nodeInfo:{nodeIndex:pt.offset,containerElement:pt.node}}}var it=X.getDocument(Ee).createElement("span");it.parentNode&&X.removeNode(it);for(var dt,nn=de?"StartToStart":"StartToEnd",Se,He,mt,Pt,Ut=Ve&&Ve.containerElement==Ee?Ve.nodeIndex:0,Bn=Ee.childNodes.length,gn=Bn,rn=gn;rn==Bn?Ee.appendChild(it):Ee.insertBefore(it,Ee.childNodes[rn]),Re.moveToElementText(it),dt=Re.compareEndPoints(nn,F),!(dt==0||Ut==gn);){if(dt==-1){if(gn==Ut+1)break;Ut=rn}else gn=gn==Ut+1?Ut:rn;rn=Math.floor((Ut+gn)/2),Ee.removeChild(it)}if(Pt=it.nextSibling,dt==-1&&Pt&&Qe(Pt)){Re.setEndPoint(de?"EndToStart":"EndToEnd",F);var on;if(/[\r\n]/.test(Pt.data)){var cn=Re.duplicate(),On=cn.text.replace(/\r\n/g,"\r").length;for(on=cn.moveStart("character",On);(dt=cn.compareEndPoints("StartToEnd",cn))==-1;)on++,cn.moveStart("character",1)}else on=Re.text.length;mt=new oe(Pt,on)}else Se=(pe||!de)&&it.previousSibling,He=(pe||de)&&it.nextSibling,He&&Qe(He)?mt=new oe(He,0):Se&&Qe(Se)?mt=new oe(Se,Se.data.length):mt=new oe(Ee,X.getNodeIndex(it));return X.removeNode(it),{boundaryPosition:mt,nodeInfo:{nodeIndex:rn,containerElement:Ee}}},P=function(F,fe){var de,pe,Ve=F.offset,Re=X.getDocument(F.node),Ee,pt,it=Xe(Re).createTextRange(),dt=Qe(F.node);return dt?(de=F.node,pe=de.parentNode):(pt=F.node.childNodes,de=Ve<pt.length?pt[Ve]:null,pe=F.node),Ee=Re.createElement("span"),Ee.innerHTML="&#feff;",de?pe.insertBefore(Ee,de):pe.appendChild(Ee),it.moveToElementText(Ee),it.collapse(!fe),pe.removeChild(Ee),dt&&it[fe?"moveStart":"moveEnd"]("character",Ve),it};he=function(F){this.textRange=F,this.refresh()},he.prototype=new Te(document),he.prototype.refresh=function(){var F,fe,de,pe=ke(this.textRange);ft(this.textRange)?fe=F=S(this.textRange,pe,!0,!0).boundaryPosition:(de=S(this.textRange,pe,!0,!1),F=de.boundaryPosition,fe=S(this.textRange,pe,!1,!1,de.nodeInfo).boundaryPosition),this.setStart(F.node,F.offset),this.setEnd(fe.node,fe.offset)},he.prototype.getName=function(){return"WrappedTextRange"},Te.copyComparisonConstants(he);var j=function(F){if(F.collapsed)return P(new oe(F.startContainer,F.startOffset),!0);var fe=P(new oe(F.startContainer,F.startOffset),!0),de=P(new oe(F.endContainer,F.endOffset),!1),pe=Xe(Te.getRangeDocument(F)).createTextRange();return pe.setEndPoint("StartToStart",fe),pe.setEndPoint("EndToEnd",de),pe};if(he.rangeToTextRange=j,he.prototype.toTextRange=function(){return j(this)},H.WrappedTextRange=he,!H.features.implementsDomRange||H.config.preferTextRange){var ee=function(F){return F("return this;")()}(Function);typeof ee.Range>"u"&&(ee.Range=he),H.createNativeRange=function(F){return F=Et(F,Z,"createNativeRange"),Xe(F).createTextRange()},H.WrappedRange=he}}H.createRange=function(F){return F=Et(F,Z,"createRange"),new H.WrappedRange(H.createNativeRange(F))},H.createRangyRange=function(F){return F=Et(F,Z,"createRangyRange"),new Te(F)},ie.createAliasForDeprecatedMethod(H,"createIframeRange","createRange"),ie.createAliasForDeprecatedMethod(H,"createIframeRangyRange","createRangyRange"),H.addShimListener(function(F){var fe=F.document;typeof fe.createRange>"u"&&(fe.createRange=function(){return H.createRange(fe)}),fe=F=null})}),w.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(H,Z){H.config.checkSelectionRanges=!0;var Q="boolean",he="number",X=H.dom,ie=H.util,oe=ie.isHostMethod,Te=H.DomRange,Xe=H.WrappedRange,Et=H.DOMException,Qe=X.DomPosition,ke,ft,S=H.features,P="Control",j=X.getDocument,ee=X.getBody,F=Te.rangesEqual;function fe(x){return typeof x=="string"?/^backward(s)?$/i.test(x):!!x}function de(x,U){if(x){if(X.isWindow(x))return x;if(x instanceof At)return x.win;var ce=X.getContentDocument(x,Z,U);return X.getWindow(ce)}else return window}function pe(x){return de(x,"getWinSelection").getSelection()}function Ve(x){return de(x,"getDocSelection").document.selection}function Re(x){var U=!1;return x.anchorNode&&(U=X.comparePoints(x.anchorNode,x.anchorOffset,x.focusNode,x.focusOffset)==1),U}var Ee=oe(window,"getSelection"),pt=ie.isHostObject(document,"selection");S.implementsWinGetSelection=Ee,S.implementsDocSelection=pt;var it=pt&&(!Ee||H.config.preferTextRange);if(it)ke=Ve,H.isSelectionValid=function(x){var U=de(x,"isSelectionValid").document,ce=U.selection;return ce.type!="None"||j(ce.createRange().parentElement())==U};else if(Ee)ke=pe,H.isSelectionValid=function(){return!0};else return Z.fail("Neither document.selection or window.getSelection() detected."),!1;H.getNativeSelection=ke;var dt=ke();if(!dt)return Z.fail("Native selection was null (possibly issue 138?)"),!1;var nn=H.createNativeRange(document),Se=ee(document),He=ie.areHostProperties(dt,["anchorNode","focusNode","anchorOffset","focusOffset"]);S.selectionHasAnchorAndFocus=He;var mt=oe(dt,"extend");S.selectionHasExtend=mt;var Pt=oe(dt,"setBaseAndExtent");S.selectionHasSetBaseAndExtent=Pt;var Ut=typeof dt.rangeCount==he;S.selectionHasRangeCount=Ut;var Bn=!1,gn=!0,rn=mt?function(x,U){var ce=Te.getRangeDocument(U),Me=H.createRange(ce);Me.collapseToPoint(U.endContainer,U.endOffset),x.addRange($e(Me)),x.extend(U.startContainer,U.startOffset)}:null;ie.areHostMethods(dt,["addRange","getRangeAt","removeAllRanges"])&&typeof dt.rangeCount==he&&S.implementsDomRange&&function(){var x=window.getSelection();if(x){for(var U=x.rangeCount,ce=U>1,Me=[],Ge=Re(x),yt=0;yt<U;++yt)Me[yt]=x.getRangeAt(yt);var Gt=X.createTestElement(document,"",!1),E=Gt.appendChild(document.createTextNode("   ")),z=document.createRange();if(z.setStart(E,1),z.collapse(!0),x.removeAllRanges(),x.addRange(z),gn=x.rangeCount==1,x.removeAllRanges(),!ce){var le=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(le&&parseInt(le[1])>=36)Bn=!1;else{var ye=z.cloneRange();z.setStart(E,0),ye.setEnd(E,3),ye.setStart(E,2),x.addRange(z),x.addRange(ye),Bn=x.rangeCount==2}}for(X.removeNode(Gt),x.removeAllRanges(),yt=0;yt<U;++yt)yt==0&&Ge?rn?rn(x,Me[yt]):(H.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),x.addRange(Me[yt])):x.addRange(Me[yt])}}(),S.selectionSupportsMultipleRanges=Bn,S.collapsedNonEditableSelectionsSupported=gn;var on=!1,cn;Se&&oe(Se,"createControlRange")&&(cn=Se.createControlRange(),ie.areHostProperties(cn,["item","add"])&&(on=!0)),S.implementsControlRange=on,He?ft=function(x){return x.anchorNode===x.focusNode&&x.anchorOffset===x.focusOffset}:ft=function(x){return x.rangeCount?x.getRangeAt(x.rangeCount-1).collapsed:!1};function On(x,U,ce){var Me=ce?"end":"start",Ge=ce?"start":"end";x.anchorNode=U[Me+"Container"],x.anchorOffset=U[Me+"Offset"],x.focusNode=U[Ge+"Container"],x.focusOffset=U[Ge+"Offset"]}function q(x){var U=x.nativeSelection;x.anchorNode=U.anchorNode,x.anchorOffset=U.anchorOffset,x.focusNode=U.focusNode,x.focusOffset=U.focusOffset}function _e(x){x.anchorNode=x.focusNode=null,x.anchorOffset=x.focusOffset=0,x.rangeCount=0,x.isCollapsed=!0,x._ranges.length=0,Ze(x)}function Ze(x){x.type=x.rangeCount==0?"None":ft(x)?"Caret":"Range"}function $e(x){var U;return x instanceof Te?(U=H.createNativeRange(x.getDocument()),U.setEnd(x.endContainer,x.endOffset),U.setStart(x.startContainer,x.startOffset)):x instanceof Xe?U=x.nativeRange:S.implementsDomRange&&x instanceof X.getWindow(x.startContainer).Range&&(U=x),U}function jt(x){if(!x.length||x[0].nodeType!=1)return!1;for(var U=1,ce=x.length;U<ce;++U)if(!X.isAncestorOf(x[0],x[U]))return!1;return!0}function St(x){var U=x.getNodes();if(!jt(U))throw Z.createError("getSingleElementFromRange: range "+x.inspect()+" did not consist of a single element");return U[0]}function or(x){return!!x&&typeof x.text<"u"}function jn(x,U){var ce=new Xe(U);x._ranges=[ce],On(x,ce,!1),x.rangeCount=1,x.isCollapsed=ce.collapsed,Ze(x)}function mn(x){if(x._ranges.length=0,x.docSelection.type=="None")_e(x);else{var U=x.docSelection.createRange();if(or(U))jn(x,U);else{x.rangeCount=U.length;for(var ce,Me=j(U.item(0)),Ge=0;Ge<x.rangeCount;++Ge)ce=H.createRange(Me),ce.selectNode(U.item(Ge)),x._ranges.push(ce);x.isCollapsed=x.rangeCount==1&&x._ranges[0].collapsed,On(x,x._ranges[x.rangeCount-1],!1),Ze(x)}}}function ha(x,U){for(var ce=x.docSelection.createRange(),Me=St(U),Ge=j(ce.item(0)),yt=ee(Ge).createControlRange(),Gt=0,E=ce.length;Gt<E;++Gt)yt.add(ce.item(Gt));try{yt.add(Me)}catch{throw Z.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}yt.select(),mn(x)}var No;oe(dt,"getRangeAt")?No=function(x,U){try{return x.getRangeAt(U)}catch{return null}}:He&&(No=function(x){var U=j(x.anchorNode),ce=H.createRange(U);return ce.setStartAndEnd(x.anchorNode,x.anchorOffset,x.focusNode,x.focusOffset),ce.collapsed!==this.isCollapsed&&ce.setStartAndEnd(x.focusNode,x.focusOffset,x.anchorNode,x.anchorOffset),ce});function At(x,U,ce){this.nativeSelection=x,this.docSelection=U,this._ranges=[],this.win=ce,this.refresh()}At.prototype=H.selectionPrototype;function pa(x){x.win=x.anchorNode=x.focusNode=x._ranges=null,x.rangeCount=x.anchorOffset=x.focusOffset=0,x.detached=!0,Ze(x)}var Ur=[];function va(x,U){for(var ce=Ur.length,Me,Ge;ce--;)if(Me=Ur[ce],Ge=Me.selection,U=="deleteAll")pa(Ge);else if(Me.win==x)return U=="delete"?(Ur.splice(ce,1),!0):Ge;return U=="deleteAll"&&(Ur.length=0),null}var ui=function(x){if(x&&x instanceof At)return x.refresh(),x;x=de(x,"getNativeSelection");var U=va(x),ce=ke(x),Me=pt?Ve(x):null;return U?(U.nativeSelection=ce,U.docSelection=Me,U.refresh()):(U=new At(ce,Me,x),Ur.push({win:x,selection:U})),U};H.getSelection=ui,ie.createAliasForDeprecatedMethod(H,"getIframeSelection","getSelection");var qe=At.prototype;function di(x,U){for(var ce=j(U[0].startContainer),Me=ee(ce).createControlRange(),Ge=0,yt,Gt=U.length;Ge<Gt;++Ge){yt=St(U[Ge]);try{Me.add(yt)}catch{throw Z.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}Me.select(),mn(x)}if(!it&&He&&ie.areHostMethods(dt,["removeAllRanges","addRange"])){qe.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),_e(this)};var ci=function(x,U){rn(x.nativeSelection,U),x.refresh()};Ut?qe.addRange=function(x,U){if(on&&pt&&this.docSelection.type==P)ha(this,x);else if(fe(U)&&mt)ci(this,x);else{var ce;Bn?ce=this.rangeCount:(this.removeAllRanges(),ce=0);var Me=$e(x).cloneRange();try{this.nativeSelection.addRange(Me)}catch{}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==ce+1){if(H.config.checkSelectionRanges){var Ge=No(this.nativeSelection,this.rangeCount-1);Ge&&!F(Ge,x)&&(x=new Xe(Ge))}this._ranges[this.rangeCount-1]=x,On(this,x,to(this.nativeSelection)),this.isCollapsed=ft(this),Ze(this)}else this.refresh()}}:qe.addRange=function(x,U){fe(U)&&mt?ci(this,x):(this.nativeSelection.addRange($e(x)),this.refresh())},qe.setRanges=function(x){if(on&&pt&&x.length>1)di(this,x);else{this.removeAllRanges();for(var U=0,ce=x.length;U<ce;++U)this.addRange(x[U])}}}else if(oe(dt,"empty")&&oe(nn,"select")&&on&&it)qe.removeAllRanges=function(){try{if(this.docSelection.empty(),this.docSelection.type!="None"){var x;if(this.anchorNode)x=j(this.anchorNode);else if(this.docSelection.type==P){var U=this.docSelection.createRange();U.length&&(x=j(U.item(0)))}if(x){var ce=ee(x).createTextRange();ce.select(),this.docSelection.empty()}}}catch{}_e(this)},qe.addRange=function(x){this.docSelection.type==P?ha(this,x):(H.WrappedTextRange.rangeToTextRange(x).select(),this._ranges[0]=x,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,On(this,x,!1),Ze(this))},qe.setRanges=function(x){this.removeAllRanges();var U=x.length;U>1?di(this,x):U&&this.addRange(x[0])};else return Z.fail("No means of selecting a Range or TextRange was found"),!1;qe.getRangeAt=function(x){if(x<0||x>=this.rangeCount)throw new Et("INDEX_SIZE_ERR");return this._ranges[x].cloneRange()};var To;if(it)To=function(x){var U;H.isSelectionValid(x.win)?U=x.docSelection.createRange():(U=ee(x.win.document).createTextRange(),U.collapse(!0)),x.docSelection.type==P?mn(x):or(U)?jn(x,U):_e(x)};else if(oe(dt,"getRangeAt")&&typeof dt.rangeCount==he)To=function(x){if(on&&pt&&x.docSelection.type==P)mn(x);else if(x._ranges.length=x.rangeCount=x.nativeSelection.rangeCount,x.rangeCount){for(var U=0,ce=x.rangeCount;U<ce;++U)x._ranges[U]=new H.WrappedRange(x.nativeSelection.getRangeAt(U));On(x,x._ranges[x.rangeCount-1],to(x.nativeSelection)),x.isCollapsed=ft(x),Ze(x)}else _e(x)};else if(He&&typeof dt.isCollapsed==Q&&typeof nn.collapsed==Q&&S.implementsDomRange)To=function(x){var U,ce=x.nativeSelection;ce.anchorNode?(U=No(ce,0),x._ranges=[U],x.rangeCount=1,q(x),x.isCollapsed=ft(x),Ze(x)):_e(x)};else return Z.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;qe.refresh=function(x){var U=x?this._ranges.slice(0):null,ce=this.anchorNode,Me=this.anchorOffset;if(To(this),x){var Ge=U.length;if(Ge!=this._ranges.length||this.anchorNode!=ce||this.anchorOffset!=Me)return!0;for(;Ge--;)if(!F(U[Ge],this._ranges[Ge]))return!0;return!1}};var Ss=function(x,U){var ce=x.getAllRanges();x.removeAllRanges();for(var Me=0,Ge=ce.length;Me<Ge;++Me)F(U,ce[Me])||x.addRange(ce[Me]);x.rangeCount||_e(x)};on&&pt?qe.removeRange=function(x){if(this.docSelection.type==P){for(var U=this.docSelection.createRange(),ce=St(x),Me=j(U.item(0)),Ge=ee(Me).createControlRange(),yt,Gt=!1,E=0,z=U.length;E<z;++E)yt=U.item(E),yt!==ce||Gt?Ge.add(U.item(E)):Gt=!0;Ge.select(),mn(this)}else Ss(this,x)}:qe.removeRange=function(x){Ss(this,x)};var to;!it&&He&&S.implementsDomRange?(to=Re,qe.isBackward=function(){return to(this)}):to=qe.isBackward=function(){return!1},qe.isBackwards=qe.isBackward,qe.toString=function(){for(var x=[],U=0,ce=this.rangeCount;U<ce;++U)x[U]=""+this._ranges[U];return x.join("")};function Po(x,U){if(x.win.document!=j(U))throw new Et("WRONG_DOCUMENT_ERR")}function ga(x,U){if(U<0||U>(X.isCharacterDataNode(x)?x.length:x.childNodes.length))throw new Et("INDEX_SIZE_ERR")}qe.collapse=function(x,U){Po(this,x);var ce=H.createRange(x);ce.collapseToPoint(x,U),this.setSingleRange(ce),this.isCollapsed=!0},qe.collapseToStart=function(){if(this.rangeCount){var x=this._ranges[0];this.collapse(x.startContainer,x.startOffset)}else throw new Et("INVALID_STATE_ERR")},qe.collapseToEnd=function(){if(this.rangeCount){var x=this._ranges[this.rangeCount-1];this.collapse(x.endContainer,x.endOffset)}else throw new Et("INVALID_STATE_ERR")},qe.selectAllChildren=function(x){Po(this,x);var U=H.createRange(x);U.selectNodeContents(x),this.setSingleRange(U)},Pt?qe.setBaseAndExtent=function(x,U,ce,Me){this.nativeSelection.setBaseAndExtent(x,U,ce,Me),this.refresh()}:mt&&(qe.setBaseAndExtent=function(x,U,ce,Me){ga(x,U),ga(ce,Me),Po(this,x),Po(this,ce);var Ge=H.createRange(node),yt=X.comparePoints(x,U,ce,Me)==-1;yt?Ge.setStartAndEnd(ce,Me,x,U):Ge.setStartAndEnd(x,U,ce,Me),this.setSingleRange(Ge,yt)}),qe.deleteFromDocument=function(){if(on&&pt&&this.docSelection.type==P){for(var x=this.docSelection.createRange(),U;x.length;)U=x.item(0),x.remove(U),X.removeNode(U);this.refresh()}else if(this.rangeCount){var ce=this.getAllRanges();if(ce.length){this.removeAllRanges();for(var Me=0,Ge=ce.length;Me<Ge;++Me)ce[Me].deleteContents();this.addRange(ce[Ge-1])}}},qe.eachRange=function(x,U){for(var ce=0,Me=this._ranges.length;ce<Me;++ce)if(x(this.getRangeAt(ce)))return U},qe.getAllRanges=function(){var x=[];return this.eachRange(function(U){x.push(U)}),x},qe.setSingleRange=function(x,U){this.removeAllRanges(),this.addRange(x,U)},qe.callMethodOnEachRange=function(x,U){var ce=[];return this.eachRange(function(Me){ce.push(Me[x].apply(Me,U||[]))}),ce};function ma(x){return function(U,ce){var Me;this.rangeCount?(Me=this.getRangeAt(0),Me["set"+(x?"Start":"End")](U,ce)):(Me=H.createRange(this.win.document),Me.setStartAndEnd(U,ce)),this.setSingleRange(Me,this.isBackward())}}qe.setStart=ma(!0),qe.setEnd=ma(!1),H.rangePrototype.select=function(x){ui(this.getDocument()).setSingleRange(this,x)},qe.changeEachRange=function(x){var U=[],ce=this.isBackward();this.eachRange(function(Me){x(Me),U.push(Me)}),this.removeAllRanges(),ce&&U.length==1?this.addRange(U[0],"backward"):this.setRanges(U)},qe.containsNode=function(x,U){return this.eachRange(function(ce){return ce.containsNode(x,U)},!0)||!1},qe.getBookmark=function(x){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[x])}},qe.moveToBookmark=function(x){for(var U=[],ce=0,Me,Ge;Me=x.rangeBookmarks[ce++];)Ge=H.createRange(this.win),Ge.moveToBookmark(Me),U.push(Ge);x.backward?this.setSingleRange(U[0],"backward"):this.setRanges(U)},qe.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},qe.restoreRanges=function(x){this.removeAllRanges();for(var U=0,ce;ce=x.ranges[U];++U)this.addRange(ce,x.backward&&U==0)},qe.toHtml=function(){var x=[];return this.eachRange(function(U){x.push(Te.toHtml(U))}),x.join("")},S.implementsTextRange&&(qe.getNativeTextRange=function(){var x;if(x=this.docSelection){var U=x.createRange();if(or(U))return U;throw Z.createError("getNativeTextRange: selection is a control selection")}else{if(this.rangeCount>0)return H.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw Z.createError("getNativeTextRange: selection contains no range")}});function fi(x){var U=[],ce=new Qe(x.anchorNode,x.anchorOffset),Me=new Qe(x.focusNode,x.focusOffset),Ge=typeof x.getName=="function"?x.getName():"Selection";if(typeof x.rangeCount<"u")for(var yt=0,Gt=x.rangeCount;yt<Gt;++yt)U[yt]=Te.inspect(x.getRangeAt(yt));return"["+Ge+"(Ranges: "+U.join(", ")+")(anchor: "+ce.inspect()+", focus: "+Me.inspect()+"]"}qe.getName=function(){return"WrappedSelection"},qe.inspect=function(){return fi(this)},qe.detach=function(){va(this.win,"delete"),pa(this)},At.detachAll=function(){va(null,"deleteAll")},At.inspect=fi,At.isDirectionBackward=fe,H.Selection=At,H.selectionPrototype=qe,H.addShimListener(function(x){typeof x.getSelection>"u"&&(x.getSelection=function(){return ui(x)}),x=null})});var ue=!1,we=function(H){ue||(ue=!0,!w.initialized&&w.config.autoInitialize&&k())};return M&&(document.readyState=="complete"?we():(u(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",we,!1),G(window,"load",we))),w})})(kg);var Lg=kg.exports;const r1=u0(Lg);var fL={exports:{}};(function(t,e){(function(n,r){t.exports=n(Lg)})(function(n){return n.createModule("ClassApplier",["WrappedSelection"],function(r,o){var i=r.dom,a=i.DomPosition,s=i.arrayContains,l=r.util,u=l.forEach,d="span",c=l.isHostMethod(document,"createElementNS");function f(S,P){for(var j in S)if(S.hasOwnProperty(j)&&P(j,S[j])===!1)return!1;return!0}function h(S){return S.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function v(S,P){return!!S&&new RegExp("(?:^|\\s)"+P+"(?:\\s|$)").test(S)}function p(S,P){if(typeof S.classList=="object")return S.classList.contains(P);var j=typeof S.className=="string",ee=j?S.className:S.getAttribute("class");return v(ee,P)}function g(S,P){if(typeof S.classList=="object")S.classList.add(P);else{var j=typeof S.className=="string",ee=j?S.className:S.getAttribute("class");ee?v(ee,P)||(ee+=" "+P):ee=P,j?S.className=ee:S.setAttribute("class",ee)}}var m=function(){function S(P,j,ee){return j&&ee?" ":""}return function(P,j){if(typeof P.classList=="object")P.classList.remove(j);else{var ee=typeof P.className=="string",F=ee?P.className:P.getAttribute("class");F=F.replace(new RegExp("(^|\\s)"+j+"(\\s|$)"),S),ee?P.className=F:P.setAttribute("class",F)}}}();function y(S){var P=typeof S.className=="string";return P?S.className:S.getAttribute("class")}function A(S){return S&&S.split(/\s+/).sort().join(" ")}function M(S){return A(y(S))}function O(S,P){return M(S)==M(P)}function w(S,P){for(var j=P.split(/\s+/),ee=0,F=j.length;ee<F;++ee)if(!p(S,h(j[ee])))return!1;return!0}function _(S){var P=S.parentNode;return P&&P.nodeType==1&&!/^(textarea|style|script|select|iframe)$/i.test(P.nodeName)}function N(S,P,j,ee,F){var fe=S.node,de=S.offset,pe=fe,Ve=de;fe==ee&&de>F&&++Ve,fe==P&&(de==j||de==j+1)&&(pe=ee,Ve+=F-j),fe==P&&de>j+1&&--Ve,S.node=pe,S.offset=Ve}function R(S,P,j){S.node==P&&S.offset>j&&--S.offset}function I(S,P,j,ee){j==-1&&(j=P.childNodes.length);var F=S.parentNode,fe=i.getNodeIndex(S);u(ee,function(de){N(de,F,fe,P,j)}),P.childNodes.length==j?P.appendChild(S):P.insertBefore(S,P.childNodes[j])}function W(S,P){var j=S.parentNode,ee=i.getNodeIndex(S);u(P,function(F){R(F,j,ee)}),i.removeNode(S)}function G(S,P,j,ee,F){for(var fe,de=[];fe=S.firstChild;)I(fe,P,j++,F),de.push(fe);return ee&&W(S,F),de}function C(S,P){return G(S,S.parentNode,i.getNodeIndex(S),!0,P)}function L(S,P){var j=S.cloneRange();j.selectNodeContents(P);var ee=j.intersection(S),F=ee?ee.toString():"";return F!=""}function k(S){for(var P=S.getNodes([3]),j=0,ee;(ee=P[j])&&!L(S,ee);)++j;for(var F=P.length-1;(ee=P[F])&&!L(S,ee);)--F;return P.slice(j,F+1)}function B(S,P){if(S.attributes.length!=P.attributes.length)return!1;for(var j=0,ee=S.attributes.length,F,fe,de;j<ee;++j)if(F=S.attributes[j],de=F.name,de!="class"&&(fe=P.attributes.getNamedItem(de),F===null!=(fe===null)||F.specified!=fe.specified||F.specified&&F.nodeValue!==fe.nodeValue))return!1;return!0}function V(S,P){for(var j=0,ee=S.attributes.length,F;j<ee;++j)if(F=S.attributes[j].name,!(P&&s(P,F))&&S.attributes[j].specified&&F!="class")return!0;return!1}var $=i.getComputedStyleProperty,te=function(){var S=document.createElement("div");return typeof S.isContentEditable=="boolean"?function(P){return P&&P.nodeType==1&&P.isContentEditable}:function(P){return!P||P.nodeType!=1||P.contentEditable=="false"?!1:P.contentEditable=="true"||te(P.parentNode)}}();function ne(S){var P;return S&&S.nodeType==1&&((P=S.parentNode)&&P.nodeType==9&&P.designMode=="on"||te(S)&&!te(S.parentNode))}function se(S){return(te(S)||S.nodeType!=1&&te(S.parentNode))&&!ne(S)}var me=/^inline(-block|-table)?$/i;function be(S){return S&&S.nodeType==1&&!me.test($(S,"display"))}var ue=/[^\r\n\t\f \u200B]/;function we(S){if(S.data.length==0)return!0;if(ue.test(S.data))return!1;var P=$(S.parentNode,"whiteSpace");switch(P){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(S.data))return!1}return be(S.previousSibling)||be(S.nextSibling)}function H(S){var P=[],j,ee;for(j=0;ee=S[j++];)P.push(new a(ee.startContainer,ee.startOffset),new a(ee.endContainer,ee.endOffset));return P}function Z(S,P){for(var j=0,ee,F,fe,de=S.length;j<de;++j)ee=S[j],F=P[j*2],fe=P[j*2+1],ee.setStartAndEnd(F.node,F.offset,fe.node,fe.offset)}function Q(S,P){return i.isCharacterDataNode(S)?P==0?!!S.previousSibling:P==S.length?!!S.nextSibling:!0:P>0&&P<S.childNodes.length}function he(S,P,j,ee){var F,fe,de=j==0;if(i.isAncestorOf(P,S))return S;if(i.isCharacterDataNode(P)){var pe=i.getNodeIndex(P);if(j==0)j=pe;else if(j==P.length)j=pe+1;else throw o.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+j+" in "+P.data);P=P.parentNode}if(Q(P,j)){F=P.cloneNode(!1),fe=P.parentNode,F.id&&F.removeAttribute("id");for(var Ve,Re=0;Ve=P.childNodes[j];)I(Ve,F,Re++,ee);return I(F,fe,i.getNodeIndex(P)+1,ee),P==S?F:he(S,fe,i.getNodeIndex(F),ee)}else if(S!=P){F=P.parentNode;var Ee=i.getNodeIndex(P);return de||Ee++,he(S,F,Ee,ee)}return S}function X(S,P){return S.namespaceURI==P.namespaceURI&&S.tagName.toLowerCase()==P.tagName.toLowerCase()&&O(S,P)&&B(S,P)&&$(S,"display")=="inline"&&$(P,"display")=="inline"}function ie(S){var P=S?"nextSibling":"previousSibling";return function(j,ee){var F=j.parentNode,fe=j[P];if(fe){if(fe&&fe.nodeType==3)return fe}else if(ee&&(fe=F[P],fe&&fe.nodeType==1&&X(F,fe))){var de=fe[S?"firstChild":"lastChild"];if(de&&de.nodeType==3)return de}return null}}var oe=ie(!1),Te=ie(!0);function Xe(S){this.isElementMerge=S.nodeType==1,this.textNodes=[];var P=this.isElementMerge?S.lastChild:S;P&&(this.textNodes[0]=P)}Xe.prototype={doMerge:function(S){var P=this.textNodes,j=P[0];if(P.length>1){var ee=i.getNodeIndex(j),F=[],fe=0,de;u(P,function(pe,Ve){de=pe.parentNode,Ve>0&&(de.removeChild(pe),de.hasChildNodes()||i.removeNode(de),S&&u(S,function(Re){Re.node==pe&&(Re.node=j,Re.offset+=fe),Re.node==de&&Re.offset>ee&&(--Re.offset,Re.offset==ee+1&&Ve<P.length-1&&(Re.node=j,Re.offset=fe))})),F[Ve]=pe.data,fe+=pe.data.length}),j.data=F.join("")}return j.data},getLength:function(){for(var S=this.textNodes.length,P=0;S--;)P+=this.textNodes[S].length;return P},toString:function(){var S=[];return u(this.textNodes,function(P,j){S[j]="'"+P.data+"'"}),"[Merge("+S.join(",")+")]"}};var Et=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],Qe={};function ke(S,P,j){var ee,F,fe,de,pe=this;pe.cssClass=pe.className=S;var Ve=null,Re={};if(typeof P=="object"&&P!==null){for(typeof P.elementTagName<"u"&&(P.elementTagName=P.elementTagName.toLowerCase()),j=P.tagNames,Ve=P.elementProperties,Re=P.elementAttributes,F=0;de=Et[F++];)P.hasOwnProperty(de)&&(pe[de]=P[de]);ee=P.normalize}else ee=P;pe.normalize=typeof ee>"u"?!0:ee,pe.attrExceptions=[];var Ee=document.createElement(pe.elementTagName);pe.elementProperties=pe.copyPropertiesToElement(Ve,Ee,!0),f(Re,function(it,dt){pe.attrExceptions.push(it),Re[it]=""+dt}),pe.elementAttributes=Re,pe.elementSortedClassName=pe.elementProperties.hasOwnProperty("className")?A(pe.elementProperties.className+" "+S):S,pe.applyToAnyTagName=!1;var pt=typeof j;if(pt=="string")j=="*"?pe.applyToAnyTagName=!0:pe.tagNames=h(j.toLowerCase()).split(/\s*,\s*/);else if(pt=="object"&&typeof j.length=="number")for(pe.tagNames=[],F=0,fe=j.length;F<fe;++F)j[F]=="*"?pe.applyToAnyTagName=!0:pe.tagNames.push(j[F].toLowerCase());else pe.tagNames=[pe.elementTagName]}ke.prototype={elementTagName:d,elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(S,P,j){var ee,F,fe={},de,pe,Ve,Re;for(var Ee in S)if(S.hasOwnProperty(Ee))if(pe=S[Ee],Ve=P[Ee],Ee=="className")g(P,pe),g(P,this.className),P[Ee]=A(P[Ee]),j&&(fe[Ee]=pe);else if(Ee=="style"){F=Ve,j&&(fe[Ee]=de={});for(ee in S[Ee])S[Ee].hasOwnProperty(ee)&&(F[ee]=pe[ee],j&&(de[ee]=F[ee]));this.attrExceptions.push(Ee)}else P[Ee]=pe,j&&(fe[Ee]=P[Ee],Re=Qe.hasOwnProperty(Ee)?Qe[Ee]:Ee,this.attrExceptions.push(Re));return j?fe:""},copyAttributesToElement:function(S,P){for(var j in S)S.hasOwnProperty(j)&&!/^class(?:Name)?$/i.test(j)&&P.setAttribute(j,S[j])},appliesToElement:function(S){return s(this.tagNames,S.tagName.toLowerCase())},getEmptyElements:function(S){var P=this;return S.getNodes([1],function(j){return P.appliesToElement(j)&&!j.hasChildNodes()})},hasClass:function(S){return S.nodeType==1&&(this.applyToAnyTagName||this.appliesToElement(S))&&p(S,this.className)},getSelfOrAncestorWithClass:function(S){for(;S;){if(this.hasClass(S))return S;S=S.parentNode}return null},isModifiable:function(S){return!this.applyToEditableOnly||se(S)},isIgnorableWhiteSpaceNode:function(S){return this.ignoreWhiteSpace&&S&&S.nodeType==3&&we(S)},postApply:function(S,P,j,ee){var F=S[0],fe=S[S.length-1],de=[],pe,Ve=F,Re=fe,Ee=0,pt=fe.length,it;u(S,function(He){it=oe(He,!ee),it?(pe||(pe=new Xe(it),de.push(pe)),pe.textNodes.push(He),He===F&&(Ve=pe.textNodes[0],Ee=Ve.length),He===fe&&(Re=pe.textNodes[0],pt=pe.getLength())):pe=null});var dt=Te(fe,!ee);if(dt&&(pe||(pe=new Xe(fe),de.push(pe)),pe.textNodes.push(dt)),de.length){for(var nn=0,Se=de.length;nn<Se;++nn)de[nn].doMerge(j);P.setStartAndEnd(Ve,Ee,Re,pt)}},createContainer:function(S){var P=i.getDocument(S),j=c&&!i.isHtmlNamespace(S)&&S.namespaceURI?P.createElementNS(S.namespaceURI,this.elementTagName):P.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,j,!1),this.copyAttributesToElement(this.elementAttributes,j),g(j,this.className),this.onElementCreate&&this.onElementCreate(j,this),j},elementHasProperties:function(S,P){var j=this;return f(P,function(ee,F){if(ee=="className")return w(S,F);if(typeof F=="object"){if(!j.elementHasProperties(S[ee],F))return!1}else if(S[ee]!==F)return!1})},elementHasAttributes:function(S,P){return f(P,function(j,ee){if(S.getAttribute(j)!==ee)return!1})},applyToTextNode:function(S,P){if(_(S)){var j=S.parentNode;if(j.childNodes.length==1&&this.useExistingElements&&this.appliesToElement(j)&&this.elementHasProperties(j,this.elementProperties)&&this.elementHasAttributes(j,this.elementAttributes))g(j,this.className);else{var ee=S.parentNode,F=this.createContainer(ee);ee.insertBefore(F,S),F.appendChild(S)}}},isRemovable:function(S){return S.tagName.toLowerCase()==this.elementTagName&&M(S)==this.elementSortedClassName&&this.elementHasProperties(S,this.elementProperties)&&!V(S,this.attrExceptions)&&this.elementHasAttributes(S,this.elementAttributes)&&this.isModifiable(S)},isEmptyContainer:function(S){var P=S.childNodes.length;return S.nodeType==1&&this.isRemovable(S)&&(P==0||P==1&&this.isEmptyContainer(S.firstChild))},removeEmptyContainers:function(S){var P=this,j=S.getNodes([1],function(fe){return P.isEmptyContainer(fe)}),ee=[S],F=H(ee);u(j,function(fe){W(fe,F)}),Z(ee,F)},undoToTextNode:function(S,P,j,ee){if(!P.containsNode(j)){var F=P.cloneRange();F.selectNode(j),F.isPointInRange(P.endContainer,P.endOffset)&&(he(j,P.endContainer,P.endOffset,ee),P.setEndAfter(j)),F.isPointInRange(P.startContainer,P.startOffset)&&(j=he(j,P.startContainer,P.startOffset,ee))}this.isRemovable(j)?C(j,ee):m(j,this.className)},splitAncestorWithClass:function(S,P,j){var ee=this.getSelfOrAncestorWithClass(S);ee&&he(ee,S,P,j)},undoToAncestor:function(S,P){this.isRemovable(S)?C(S,P):m(S,this.className)},applyToRange:function(S,P){var j=this;P=P||[];var ee=H(P||[]);S.splitBoundariesPreservingPositions(ee),j.removeEmptyElements&&j.removeEmptyContainers(S);var F=k(S);if(F.length){u(F,function(pe){!j.isIgnorableWhiteSpaceNode(pe)&&!j.getSelfOrAncestorWithClass(pe)&&j.isModifiable(pe)&&j.applyToTextNode(pe,ee)});var fe=F[F.length-1];S.setStartAndEnd(F[0],0,fe,fe.length),j.normalize&&j.postApply(F,S,ee,!1),Z(P,ee)}var de=j.getEmptyElements(S);u(de,function(pe){g(pe,j.className)})},applyToRanges:function(S){for(var P=S.length;P--;)this.applyToRange(S[P],S);return S},applyToSelection:function(S){var P=r.getSelection(S);P.setRanges(this.applyToRanges(P.getAllRanges()))},undoToRange:function(S,P){var j=this;P=P||[];var ee=H(P);S.splitBoundariesPreservingPositions(ee),j.removeEmptyElements&&j.removeEmptyContainers(S,ee);var F=k(S),fe,de,pe=F[F.length-1];if(F.length){j.splitAncestorWithClass(S.endContainer,S.endOffset,ee),j.splitAncestorWithClass(S.startContainer,S.startOffset,ee);for(var Ve=0,Re=F.length;Ve<Re;++Ve)fe=F[Ve],de=j.getSelfOrAncestorWithClass(fe),de&&j.isModifiable(fe)&&j.undoToAncestor(de,ee);S.setStartAndEnd(F[0],0,pe,pe.length),j.normalize&&j.postApply(F,S,ee,!0),Z(P,ee)}var Ee=j.getEmptyElements(S);u(Ee,function(pt){m(pt,j.className)})},undoToRanges:function(S){for(var P=S.length;P--;)this.undoToRange(S[P],S);return S},undoToSelection:function(S){var P=r.getSelection(S),j=r.getSelection(S).getAllRanges();this.undoToRanges(j),P.setRanges(j)},isAppliedToRange:function(S){if(S.collapsed||S.toString()=="")return!!this.getSelfOrAncestorWithClass(S.commonAncestorContainer);var P=S.getNodes([3]);if(P.length){for(var j=0,ee;ee=P[j++];)if(!this.isIgnorableWhiteSpaceNode(ee)&&L(S,ee)&&this.isModifiable(ee)&&!this.getSelfOrAncestorWithClass(ee))return!1}return!0},isAppliedToRanges:function(S){var P=S.length;if(P==0)return!1;for(;P--;)if(!this.isAppliedToRange(S[P]))return!1;return!0},isAppliedToSelection:function(S){var P=r.getSelection(S);return this.isAppliedToRanges(P.getAllRanges())},toggleRange:function(S){this.isAppliedToRange(S)?this.undoToRange(S):this.applyToRange(S)},toggleSelection:function(S){this.isAppliedToSelection(S)?this.undoToSelection(S):this.applyToSelection(S)},getElementsWithClassIntersectingRange:function(S){var P=[],j=this;return S.getNodes([3],function(ee){var F=j.getSelfOrAncestorWithClass(ee);F&&!s(P,F)&&P.push(F)}),P},detach:function(){}};function ft(S,P,j){return new ke(S,P,j)}ke.util={hasClass:p,addClass:g,removeClass:m,getClass:y,hasSameClasses:O,hasAllClasses:w,replaceWithOwnChildren:C,elementsHaveSameNonClassAttributes:B,elementHasNonClassAttributes:V,splitNodeAt:he,isEditableElement:te,isEditingHost:ne,isEditable:se},r.CssClassApplier=r.ClassApplier=ke,r.createClassApplier=ft,l.createAliasForDeprecatedMethod(r,"createCssClassApplier","createClassApplier",o)}),n})})(fL);var o1={toolbar:{allowMultiParagraphSelection:!0,buttons:["bold","colorpicker","italic","underline","strikethrough","quote","justifyLeft","justifyCenter","justifyRight","justifyFull","superscript","subscript","orderedlist","unorderedlist","pre","removeFormat","outdent","indent","h2","h3"],standardizeSelectionStart:!1,updateOnEmptySelection:!1},placeholder:{text:"请输入内容",hideOnClick:!0},disableEditing:!0},i1=Jl.extensions.button.extend({name:"colorpicker",tagNames:["mark"],contentDefault:"<b>Color</b>",aria:"Color Picker",action:"colorPicker",init:function(){var t=this;r1.init(),Jl.extensions.button.prototype.init.call(this),this.colorPicker=new Pg({parent:this.button,color:"#000",onDone:function(e){t.coloredText&&t.coloredText.isAppliedToSelection()&&t.coloredText.undoToSelection(),t.coloredText=r1.createClassApplier("colored",{elementTagName:"span",elementProperties:{style:{color:e.hex}},normalize:!0}),t.coloredText.toggleSelection(),t.base.checkContentChanged(),t.setInactive()}})},getButton:function(){return this.button},handleClick:function(){this.setActive(),this.colorPicker.show()},isAlreadyApplied:function(t){return t.nodeName.toLowerCase()==="mark"},isActive:function(){return this.button.classList.contains("medium-editor-button-active")},setInactive:function(){this.button.classList.remove("medium-editor-button-active")},setActive:function(){this.button.classList.add("medium-editor-button-active")}}),hL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pL=function(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(i=(o<3?a(i):o>3?a(e,n,i):a(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i},a1=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},s1=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))};(function(t){hL(e,t);function e(n){var r=t.call(this,n)||this;r.labelMap=new Map;var o=n.lf,i=n.graphModel;return r.lf=o,r.graphModel=i,r.state={tick:0},r}return e.prototype.componentDidMount=function(){var n=this,r=this.props.graphModel;this.editor=new Jl(".lf-label-editor",Li(o1,{autoLink:!0,extensions:{colorPicker:new i1}})),r.eventCenter.on("text:update,node:mousemove,node:resize,node:rotate,node:drag,label:drop,node:drop",function(){}),r.eventCenter.on("node:properties-change,node:properties-delete",function(){n.setState({tick:n.state.tick+1})})},e.prototype.componentDidUpdate=function(){var n;this.editor&&this.editor.elements.length>0?this.editor.addElements(".lf-label-editor"):((n=this.editor)===null||n===void 0||n.destroy(),this.editor=new Jl(".lf-label-editor",Li(o1,{autoLink:!0,extensions:{colorPicker:new i1}})))},e.prototype.componentWillUnmount=function(){var n;(n=this.editor)===null||n===void 0||n.destroy()},e.prototype.getLabels=function(){var n=this,r=this.props,o=r.lf.extension,i=r.graphModel,a=s1(s1([],a1(i.nodes),!1),a1(i.edges),!1),s=o.label;if(s){var l=[];return Ct(a,function(u){var d,c,f=u.getData(),h=(c=(d=f.properties)===null||d===void 0?void 0:d._label)!==null&&c!==void 0?c:[];Ct(h,function(v){var p=n.labelMap,g=new oL(v,u,i);p.set(g.id,g),l.push(Y(nL,{label:g,element:u,graphModel:i},g.id))})}),l}return null},e.prototype.render=function(){return Y("foreignObject",{id:"lf-label-overlay",class:"lf-label-overlay",children:this.getLabels()})},e.toolName="label-edit-tool",e=pL([bn],e),e})(ut);var vL=function(){function t(e){var n=e.lf,r=this;this.lf=n,this.lf.setPatternItems=function(o){r.setPatternItems(o)}}return t.prototype.render=function(e,n){var r=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=n;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(o){var i;(i=r.panelEl)===null||i===void 0||i.appendChild(r.createDndItem(o))}),n.appendChild(this.panelEl),this.domContainer=n},t.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},t.prototype.setPatternItems=function(e){this.shapeList=e,this.domContainer&&this.render(this.lf,this.domContainer)},t.prototype.createDndItem=function(e){var n=this,r=document.createElement("div");r.className=e.className?"lf-dnd-item ".concat(e.className):"lf-dnd-item";var o=document.createElement("div");if(o.className="lf-dnd-shape",e.icon&&(o.style.backgroundImage="url(".concat(e.icon,")")),r.appendChild(o),e.label){var i=document.createElement("div");i.innerText=e.label,i.className="lf-dnd-text",r.appendChild(i)}return e.disabled?(r.classList.add("disabled"),r.onmousedown=function(){e.callback&&e.callback(n.lf,n.domContainer)},r):(r.onmousedown=function(){e.type&&n.lf.dnd.startDrag({type:e.type,properties:e.properties,text:e.text}),e.callback&&e.callback(n.lf,n.domContainer)},r.ondblclick=function(a){n.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:a,data:e})},r.onclick=function(a){n.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:a,data:e})},r.oncontextmenu=function(a){n.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:a,data:e})},r)},t.pluginName="dndPanel",t}(),gL=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mL=function(){function t(e){var n=e.lf,r=e.LogicFlow,o=e.options,i=this;this.width=200,this.height=150,this.scale=1,this.translateX=0,this.translateY=0,this.showEdge=!1,this.viewPortTop=0,this.viewPortLeft=0,this.viewPortWidth=150,this.viewPortHeight=75,this.isShow=!1,this.isShowHeader=!1,this.isShowCloseIcon=!1,this.headerTitle="导航",this.disabledPlugins=["miniMap","control","selectionSelect"],this.onGraphResize=function(){i.updateViewPortBounds(),i.isShow&&i.updateViewPort()},this.render=function(s,l){i.container=l,i.lf.on("history:change",function(){i.isShow&&i.setView()}),i.lf.on("graph:transform",function(){i.isShow&&i.setView(!1)})},this.show=function(s,l){i.isShow||(i.createMiniMap(s,l),i.setView()),i.isShow=!0},this.hide=function(){i.isShow&&(i.removeMiniMap(),i.lf.emit("miniMap:close",{})),i.isShow=!1},this.updatePosition=function(s){if(typeof s=="object")(s.left!==void 0||s.right!==void 0)&&(i.leftPosition=s.left,i.rightPosition=s.right),(s.top!==void 0||s.bottom!==void 0)&&(i.topPosition=s.top,i.bottomPosition=s.bottom);else switch(s){case"left-top":i.leftPosition=0,i.rightPosition=void 0,i.topPosition=0,i.bottomPosition=void 0;break;case"right-top":i.leftPosition=void 0,i.rightPosition=0,i.topPosition=0,i.bottomPosition=void 0;break;case"left-bottom":i.leftPosition=0,i.rightPosition=void 0,i.topPosition=void 0,i.bottomPosition=0;break;case"right-bottom":i.leftPosition=void 0,i.rightPosition=0,i.topPosition=void 0,i.bottomPosition=0;break}i.updateMiniMapPosition()},this.reset=function(){i.lf.resetTranslate(),i.lf.resetZoom()},this.setShowEdge=function(s){i.showEdge!==s&&(i.showEdge=s,i.setView())},this.startDrag=function(s){document.addEventListener("mousemove",i.drag),document.addEventListener("mouseup",i.drop);var l=s.x,u=s.y;i.startPosition={x:l,y:u}},this.drag=function(s){var l=s.x,u=s.y,d=(l-i.startPosition.x)/i.scale,c=(u-i.startPosition.y)/i.scale,f=i.viewPortLeft+d+i.viewPortWidth/i.scale/2,h=i.viewPortTop+c+i.viewPortHeight/i.scale/2;i.startPosition={x:l,y:u},i.lf.focusOn({coordinate:{x:f,y:h}})},this.drop=function(){document.removeEventListener("mousemove",i.drag),document.removeEventListener("mouseup",i.drop)},this.mapClick=function(s){var l=s.offsetX,u=s.offsetY,d=i.translateX+l/i.scale,c=i.translateY+u/i.scale;i.lf.focusOn({coordinate:{x:d,y:c}})},this.lf=n,this.LFCtor=r,o&&this.setOption(o),this.viewPortWidth=n.graphModel.width,this.viewPortHeight=n.graphModel.height;var a={left:0,right:this.viewPortWidth,top:0,bottom:this.viewPortHeight};this.bounds=a,this.elementAreaBounds=a,this.viewPortBounds=a,this.initMiniMap(),n.on("graph:resize",this.onGraphResize)}return t.prototype.setOption=function(e){var n=e.width,r=n===void 0?150:n,o=e.height,i=o===void 0?220:o,a=e.showEdge,s=a===void 0?!1:a,l=e.isShowHeader,u=l===void 0?!1:l,d=e.isShowCloseIcon,c=d===void 0?!1:d,f=e.leftPosition,h=e.topPosition,v=e.rightPosition,p=v===void 0?0:v,g=e.bottomPosition,m=g===void 0?0:g,y=e.headerTitle,A=y===void 0?"导航":y;this.width=r,this.height=i,this.showEdge=s,this.isShowHeader=u,this.isShowCloseIcon=c,this.leftPosition=f,this.rightPosition=f!==void 0?void 0:p,this.topPosition=h,this.bottomPosition=h!==void 0?void 0:m,this.headerTitle=A},t.prototype.initMiniMap=function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width="".concat(this.width,"px"),e.style.height="".concat(this.height,"px"),this.lfMap=new this.LFCtor({container:e,grid:!1,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!1,history:!1,snapline:!1,disabledPlugins:this.disabledPlugins}),this.miniMapWrap=e,this.createViewPort(),e.addEventListener("click",this.mapClick)},t.prototype.createMiniMap=function(e,n){var r,o=document.createElement("div");this.miniMapContainer=o,o.appendChild(this.miniMapWrap),o.style.position="absolute",(e!==void 0||n!==void 0)&&(this.leftPosition=e||0,this.topPosition=n||0,this.rightPosition=void 0,this.bottomPosition=void 0),this.updateMiniMapPosition(),o.className="lf-mini-map",this.isShowCloseIcon||o.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||o.classList.add("lf-mini-map-no-header"),(r=this.container)===null||r===void 0||r.appendChild(o),this.miniMapWrap.appendChild(this.viewport);var i=document.createElement("div");i.className="lf-mini-map-header",i.innerText=this.headerTitle,o.appendChild(i);var a=document.createElement("span");a.className="lf-mini-map-close",a.addEventListener("click",this.hide),o.appendChild(a)},t.prototype.updateMiniMapPosition=function(){if(this.miniMapContainer){var e=this.miniMapContainer.style;this.rightPosition!==void 0?(e.right="".concat(this.rightPosition,"px"),e.left=""):(e.left="".concat(this.leftPosition,"px"),e.right=""),this.bottomPosition!==void 0?(e.bottom="".concat(this.bottomPosition,"px"),e.top=""):(e.top="".concat(this.topPosition,"px"),e.bottom="")}},t.prototype.removeMiniMap=function(){var e;this.miniMapContainer&&((e=this.container)===null||e===void 0||e.removeChild(this.miniMapContainer))},t.prototype.updateBounds=function(e){e&&this.updateElementAreaBounds(e),this.updateViewPortBounds(),this.bounds={left:Math.min(this.elementAreaBounds.left,this.viewPortBounds.left),right:Math.max(this.elementAreaBounds.right,this.viewPortBounds.right),top:Math.min(this.elementAreaBounds.top,this.viewPortBounds.top),bottom:Math.max(this.elementAreaBounds.bottom,this.viewPortBounds.bottom)}},t.prototype.updateElementAreaBounds=function(e){var n={left:0,right:0,top:0,bottom:0},r=e.nodes;r&&r.length>0&&r.forEach(function(o){var i,a,s=o.x,l=o.y,u=(i=o.width)!==null&&i!==void 0?i:200,d=(a=o.height)!==null&&a!==void 0?a:200,c=s-u/2,f=s+u/2,h=l-d/2,v=l+d/2;n.left=Math.min(c,n.left),n.right=Math.max(f,n.right),n.top=Math.min(h,n.top),n.bottom=Math.max(v,n.bottom)}),this.elementAreaBounds=n},t.prototype.updateViewPortBounds=function(){var e=this.lf.getTransform(),n=e.TRANSLATE_X,r=e.TRANSLATE_Y,o=e.SCALE_X,i=e.SCALE_Y,a=this.lf.graphModel,s=a.width,l=a.height;this.viewPortBounds={left:-n/o,right:(-n+s)/o,top:-r/i,bottom:(-r+l)/i}},t.prototype.resetData=function(e){var n=e.nodes,r=e.edges;return n.forEach(function(o){o.text=void 0}),this.showEdge&&r.forEach(function(o){o.text=void 0}),{nodes:n,edges:this.showEdge?r:[]}},t.prototype.setView=function(e){var n,r;if(e===void 0&&(e=!0),e){var o=this.lf.getGraphRawData(),i=this.resetData(o),a=this.lf.viewMap,s=this.lf.graphModel.modelMap,l=this.lfMap.viewMap;try{for(var u=gL(a.keys()),d=u.next();!d.done;d=u.next()){var c=d.value;l.has(c)||this.lfMap.register({type:c,view:a.get(c),model:s.get(c)})}}catch(R){n={error:R}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}this.lfMap.render(i),this.updateBounds(i)}else this.updateBounds();var f=this.bounds,h=f.left,v=f.top,p=f.right,g=f.bottom,m=p-h,y=g-v,A=this.width/m,M=this.height/y,O=Math.min(A,M);this.scale=O;var w=h-(this.width/O-m)/2,_=v-(this.height/O-y)/2;if(this.lfMap.graphModel.transformModel.translate(-w+this.translateX,-_+this.translateY),this.translateX=w,this.translateY=_,this.miniMapWrap.firstChild){var N=this.miniMapWrap.firstChild.style;N.pointerEvents="none",N.transform="matrix(".concat(O,", 0, 0, ").concat(O,", 0, 0)"),N.transformOrigin="left top",N.height="".concat(this.height/O,"px"),N.width="".concat(this.width/O,"px"),this.updateViewPort()}},t.prototype.updateViewPort=function(){var e=this.viewport.style,n=this.lf.getTransform(),r=n.TRANSLATE_X,o=n.TRANSLATE_Y,i=n.SCALE_X,a=n.SCALE_Y,s=this.lf.graphModel,l=s.width,u=s.height;this.viewPortLeft=-r/i,this.viewPortTop=-o/a,this.viewPortWidth=l/i*this.scale,this.viewPortHeight=u/a*this.scale,e.width="".concat(this.viewPortWidth,"px"),e.height="".concat(this.viewPortHeight,"px"),e.left="".concat((this.viewPortLeft-this.translateX)*this.scale,"px"),e.top="".concat((this.viewPortTop-this.translateY)*this.scale,"px")},t.prototype.createViewPort=function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",this.startDrag),e.addEventListener("click",function(n){n.stopPropagation()}),this.viewport=e},t.prototype.destroy=function(){this.lf.off("graph:resize",this.onGraphResize)},t.pluginName="miniMap",t}();var Dg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ai=function(){return Ai=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ai.apply(this,arguments)},Ua=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},yL={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function _L(t){for(var e=t,n=1;n<e.length-1;){var r=Ua(e[n-1],2),o=r[0],i=r[1],a=Ua(e[n],2),s=a[0],l=a[1],u=Ua(e[n+1],2),d=u[0],c=u[1];o===s&&s===d||i===l&&l===c?e.splice(n,1):n++}return e}function CL(t,e,n,r){var o=[t[0],t[1]],i=[t[0],t[1]];switch(n){case"tl":return e==="tr"?(o[1]+=r,i[0]+=r):e==="lb"&&(o[0]+=r,i[1]+=r),[o,i];case"tr":return e==="tl"?(o[1]+=r,i[0]-=r):e==="rb"&&(o[0]-=r,i[1]+=r),[o,i];case"bl":return e==="br"?(o[1]-=r,i[0]+=r):e==="lt"&&(o[0]+=r,i[1]-=r),[o,i];case"br":return e==="bl"?(o[1]-=r,i[0]-=r):e==="rt"&&(o[0]-=r,i[1]-=r),[o,i];default:return[]}}function bL(t,e,n,r){var o,i="",a="";t[0]===e[0]?i=t[1]>e[1]?"t":"b":t[1]===e[1]&&(i=t[0]>e[0]?"l":"r"),e[0]===n[0]?a=e[1]>n[1]?"t":"b":e[1]===n[1]&&(a=e[0]>n[0]?"l":"r");var s=Math.min(Math.hypot(e[0]-t[0],e[1]-t[1])/2,Math.hypot(n[0]-e[0],n[1]-e[1])/2,r)||1/5*r,l="".concat(i).concat(a),u=yL[l]||"-",d="L ".concat(t[0]," ").concat(t[1]);if(u==="-")d+="L ".concat(e[0]," ").concat(e[1]," L ").concat(n[0]," ").concat(n[1]);else{var c=Ua(CL(e,l,u,s),2),f=c[0],h=c[1];f&&h&&(d+="L ".concat(f[0]," ").concat(f[1]," Q ").concat(e[0]," ").concat(e[1]," ").concat(h[0]," ").concat(h[1]),o=Ua(h,2),e[0]=o[0],e[1]=o[1])}return d}function xL(t,e){var n=0,r="";if(t.length===2)r+="M".concat(t[n][0]," ").concat(t[n++][1]," L ").concat(t[n][0]," ").concat(t[n][1]);else{for(r+="M".concat(t[n][0]," ").concat(t[n++][1]);n+1<t.length;){var o=t[n-1],i=t[n],a=t[n+++1];r+=bL(o,i,a,e)}r+="L ".concat(t[n][0]," ").concat(t[n][1])}return r}(function(t){Dg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEdge=function(){var n=this.props.model,r=n.points,o=n.isAnimation,i=n.arrowConfig,a=n.radius,s=a===void 0?5:a,l=n.getEdgeStyle(),u=n.getEdgeAnimationStyle(),d=_L(r.split(" ").map(function(h){return h.split(",").map(function(v){return+v})})),c=xL(d,s),f=Ai(Ai(Ai({style:o?u:{}},l),i),{fill:"none"});return Oe("path",Ai({d:c},f))},e})(Xi);(function(t){Dg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Ui);var Rg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ql=function(){return Ql=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ql.apply(this,arguments)},l1=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},u1=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},wL=function(t){Rg(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var n=this.props.model,r=n.id,o=n.x,i=n.y,a=n.width,s=n.height,l=n.properties,u=this.props.model.getNodeStyle();return Oe("svg",{x:o-a/2,y:i-s/2,width:50,height:24,style:"z-index: 0; background: none; overflow: auto;"},[l.labelText?Oe("text",{x:0,y:-5,fontSize:"16px",fill:u.stroke},l.labelText):"",l.disabledDelete?"":Oe("text",{x:l.labelText?50:0,y:-5,fontSize:"24px",cursor:"pointer",fill:u.stroke,onclick:this.handleCustomDeleteIconClick.bind(this,r)},"x")])},e.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.id,l=this.props.model.getNodeStyle();return Oe("g",{},[Oe("rect",Ql(Ql({},l),{x:r-i/2,y:o-a/2,width:i,height:a,id:s})),this.getLabelShape()])},e.prototype.toFront=function(){},e.prototype.handleCustomDeleteIconClick=function(n){var r=this.props.graphModel;r.deleteNode(n)},e}(Il),EL=function(t){Rg(e,t);function e(){var n=t.apply(this,u1([],l1(arguments),!1))||this;return n.d=10,n.isResize=!1,n}return e.prototype.initNodeData=function(n){n.text={value:"",x:n.x,y:n.y,draggable:!1,editable:!1},t.prototype.initNodeData.call(this,n),this.zIndex=0,this.draggable=!0},e.prototype.setAttributes=function(){var n=this,r;this.points=[],((r=this.properties)===null||r===void 0?void 0:r.node_selection_ids).length>1&&setTimeout(function(){var o;n.updatePointsByNodes(((o=n.properties)===null||o===void 0?void 0:o.node_selection_ids)||[])})},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this);return n.stroke=this.properties.strokeColor||"#008000",n.strokeDasharray="10 5",n},e.prototype.getDefaultAnchor=function(){return[]},e.prototype.updatePoints=function(n){this.points=n},e.prototype.updateCoordinate=function(n){var r=n.x,o=n.y;this.x=r,this.y=o},e.prototype.updatePointsByNodes=function(n){var r=this,o=[],i=1/0,a=1/0,s=-1/0,l=-1/0;n.forEach(function(u){var d=r.graphModel.getNodeModelById(u);if(d){var c=d.width,f=d.height,h=d.x,v=d.y;i=Math.min(i,h-c/2-r.d),a=Math.min(a,v-f/2-r.d),s=Math.max(s,h+c/2+r.d),l=Math.max(l,v+f/2+r.d)}}),o.push([i,a],[s,a],[s,l],[i,l]),![i,a,s,l].some(function(u){return Math.abs(u)===1/0})&&(this.updatePoints(o),this.updateCoordinate({x:(s+i)/2,y:(l+a)/2}))},e.prototype.resize=function(n){var r;this.isResize=!0;for(var o=n.width,i=n.height,a={x:o/this.width,y:i/this.height},s=(this.properties.node_selection_ids||[]).slice(),l=[],u=new Set;s.length;){var d=s.shift(),c=(r=this.graphModel.nodesMap[d])===null||r===void 0?void 0:r.model;if(c){if(!ol(c)){l.push(c);continue}u.has(c.id)||(u.add(c.id),s.push.apply(s,u1([],l1(c.properties.node_selection_ids||[]),!1)))}}var f={x:this.x-this.width/2,y:this.y-this.height/2},h=t.prototype.resize.call(this,n),v={x:this.x-this.width/2,y:this.y-this.height/2};return l.forEach(function(p){p.width=p.width*a.x,p.height=p.height*a.y;var g=(p.x-f.x)*a.x+v.x-p.x,m=(p.y-f.y)*a.y+v.y-p.y;p.move(g,m,!0)}),this.isResize=!1,h},e}(Pl),Hu="node-selection";(function(){function t(e){var n=e.lf;this.selectNodes=[],this.d=10,this.lf=n,n.register({type:Hu,view:wL,model:EL})}return Object.defineProperty(t.prototype,"selectNodesIds",{get:function(){return this.selectNodes.map(function(e){return e.id})},enumerable:!1,configurable:!0}),t.prototype.addNodeSelection=function(){var e=this.lf.addNode({type:"node-selection",text:"",properties:{node_selection_ids:this.selectNodesIds},x:0,y:0});e.updatePointsByNodes(this.selectNodesIds)},t.prototype.updateNodeSelection=function(){var e,n=this.getNodeSelection();n&&(this.lf.setProperties(n.id,{node_selection_ids:this.selectNodesIds}),(e=this.lf.getNodeModelById(n.id))===null||e===void 0||e.updatePointsByNodes(this.selectNodesIds))},t.prototype.getNodeSelection=function(){var e=this,n=this.selectNodesIds,r=this.lf.getGraphRawData(),o=n.filter(function(i){return i!==e.currentClickNode.id});return r.nodes.find(function(i){if(i.type==="node-selection"){var a=fs(i,"properties.node_selection_ids",[]);return o.every(function(s){return a.includes(s)})}return!1})},t.prototype.onNodeChange=function(e,n){var r=e.graphModel.nodes.filter(function(o){if(!ol(o))return!1;var i=o.properties.node_selection_ids||[];return i.includes(n.id)});Promise.resolve().then(function(){r.forEach(function(o){o.updatePointsByNodes(o.properties.node_selection_ids||[])})})},t.prototype.render=function(e){var n=this;this.lf=e,e.on("node:click",function(r){var o;if(!(!r.e.shiftKey||r.data.type===Hu)){n.currentClickNode=r.data;var i=!1;n.selectNodesIds.includes(r.data.id)&&((o=n.lf.getNodeModelById(r.data.id))===null||o===void 0||o.setSelected(!1),i=!0);var a=e.getSelectElements(!0).nodes;n.selectNodes=a,n.selectNodes.length===1?i?n.updateNodeSelection():n.addNodeSelection():n.selectNodes.length>1&&n.updateNodeSelection()}}),e.graphModel.addNodeMoveRules(function(r,o,i){if(n.onNodeChange(e,r),ol(r)&&!r.isResize){var a=r.properties.node_selection_ids||[];return e.graphModel.moveNodes(a,o,i,!0),!0}return!0}),e.graphModel.addNodeResizeRules(function(r){return ol(r)||n.onNodeChange(e,r),!0})},t.pluginName="node-selection",t})();var ol=function(t){return!!(t&&t.type===Hu)},SL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),e0=function(){return e0=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},e0.apply(this,arguments)};(function(t){SL(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=n.properties;return Oe("text",{x:r-i/2+5,y:o-a/2+16,fontSize:12,fill:"blue"},s.moreText)},e.prototype.getShape=function(){var n=this.props.model,r=n.x,o=n.y,i=n.width,a=n.height,s=this.props.model.getNodeStyle();return Oe("g",{},[Oe("rect",e0(e0({},s),{fill:"#FFFFFF",x:r-i/2,y:o-a/2})),this.getLabelShape()])},e})(Jo);var ML=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zo=function(){return zo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},zo.apply(this,arguments)},OL=function(t){ML(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.setAttributes=function(){var n=this.properties,r=n.width,o=n.height,i=n.radius;_n(r)||(this.width=r),_n(o)||(this.height=o),_n(i)||(this.radius=i)},e.prototype.getTextStyle=function(){var n=this.properties,r=n.refX,o=r===void 0?0:r,i=n.refY,a=i===void 0?0:i,s=n.textStyle,l=t.prototype.getTextStyle.call(this);return zo(zo(zo({},l),Ke(s)||{}),{transform:"matrix(1 0 0 1 ".concat(o," ").concat(a,")")})},e.prototype.getNodeStyle=function(){var n=t.prototype.getNodeStyle.call(this),r=this.properties.style;return zo(zo({},n),Ke(r)||{})},e}(os),Ig={};function sr(t,e){var n=t.type,r=t.component,o=t.effect,i=t.view,a=t.model;if(!n)throw new Error("You should specify type in config");Ig[n]={component:r,effect:o},e.register({type:n,view:i||kL,model:a||OL})}var U0=!1,t0=kn({});function AL(t,e,n,r,o){U0&&(t0[t]=O6(vn({render:function(){return ln(A6,{to:n},[ln(e,{node:r,graph:o})])},provide:function(){return{getNode:function(){return r},getGraph:function(){return o}}}})))}function NL(t){U0&&delete t0[t]}function d1(){return U0}function TL(){return U0=!0,vn({props:{flowId:{type:String,required:!0}},setup:function(t){return function(){var e=[];return Object.keys(t0).forEach(function(n){n.startsWith(t.flowId)&&e.push(t0[n])}),ln(It,{},e.map(function(n){return ln(n)}))}}})}var PL=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kL=function(t){PL(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getComponentContainer=function(){return this.root},e.prototype.targetId=function(){return"".concat(this.props.graphModel.flowId,":").concat(this.props.model.id)},e.prototype.componentWillUnmount=function(){t.prototype.componentWillUnmount.call(this),this.unmount()},e.prototype.setHtml=function(n){var r=document.createElement("div");r.className="custom-vue-node-content",this.root=r,n.appendChild(r),this.renderVueComponent()},e.prototype.confirmUpdate=function(n){},e.prototype.renderVueComponent=function(){var n;this.unmountVueComponent();var r=this.getComponentContainer(),o=this.props,i=o.model,a=o.graphModel;if(r){var s=Ig[i.type].component;s&&(d1()?AL(this.targetId(),s,r,i,a):(this.vm=d0({render:function(){return ln(s,{node:i,graph:a})},provide:function(){return{getNode:function(){return i},getGraph:function(){return a}}}}),(n=this.vm)===null||n===void 0||n.mount(r)))}},e.prototype.unmountVueComponent=function(){var n=this.getComponentContainer();return this.vm&&(this.vm.unmount(),this.vm=null),n&&(n.innerHTML=""),n},e.prototype.unmount=function(){d1()&&NL(this.targetId()),this.unmountVueComponent()},e}(as);const LL={name:"CustomLine",emits:["delete"],inject:["getGraphModel","getModel"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},methods:{handleDelete(){const t=this.getGraphModel(),e=this.getModel();t.deleteEdgeById(e.id),this.$emit("delete")}}},DL={class:"custom-line-popup"};function RL(t,e,n,r,o,i){return us((ae(),Ce("div",DL,[T("button",{class:"delete-btn",onClick:e[0]||(e[0]=Nn((...a)=>i.handleDelete&&i.handleDelete(...a),["stop"]))},"删 除")],512)),[[l0,n.isSelected]])}const IL=Dt(LL,[["render",RL],["__scopeId","data-v-6456a6d9"]]),HL=70,BL=36;class jL extends Xi{constructor(e){super(e),this.isMounted=!1,this.r=ln(IL,{properties:e.model.getProperties(),isSelected:e.model.isSelected,isHovered:e.model.isHovered}),this.app=d0({render:()=>this.r,provide:()=>({getModel:()=>e.model,getGraphModel:()=>e.graphModel}),mounted:()=>{}})}getText(){const{model:e}=this.props,{customWidth:n=HL,customHeight:r=BL}=e.getProperties(),o=e.id,{startPoint:i,endPoint:a,arrowConfig:s,pointsList:l}=e;let u={x:(i.x+a.x-n)/2,y:(i.y+a.y-r)/2,width:n,height:r};if(l.length>2){let c=Math.round(l.length/2);u.x=l[c-1].x+5,u.y=l[c-1].y}const d={width:n,height:r};return setTimeout(()=>{const c=document.querySelector("#line_"+o).querySelector(".vue-app-wrapper");this.isMounted?(this.r.component.props.isSelected=this.props.model.isSelected,this.r.component.props.isHovered=this.props.model.isHovered,this.r.component.props.properties=this.props.model.getProperties()):(this.isMounted=!0,this.app.mount(c))},0),Oe("foreignObject",{...u,id:"line_"+o},[Oe("div",{id:o,style:d,className:"vue-app-wrapper"})])}}class $L extends Ui{initEdgeData(e){super.initEdgeData(e)}createId(){return ls("customEdge")}getEdgeStyle(){const e=super.getEdgeStyle();return this.isSelected||this.isHovered?e.stroke="#2475FC":e.stroke="#A1A7B3",e.strokeWidth=2,e}getArrowStyle(){const e=super.getArrowStyle();return e.refX=0,e}getOutlineStyle(){const e=super.getOutlineStyle();return e.stroke="none",e.hover.stroke="none",e}getData(){const e=super.getData();return e.sourceAnchorId=this.sourceAnchorId,e.targetAnchorId=this.targetAnchorId,e}updatePathByAnchor(){const e=this.graphModel.getNodeModelById(this.sourceNodeId),n=e==null?void 0:e.getDefaultAnchor().find(i=>i.id===this.sourceAnchorId),r=this.graphModel.getNodeModelById(this.targetNodeId),o=r==null?void 0:r.getDefaultAnchor().find(i=>i.id===this.targetAnchorId);if(n){const i={x:n==null?void 0:n.x,y:n==null?void 0:n.y};this.updateStartPoint(i)}if(o){const i={x:o==null?void 0:o.x,y:o==null?void 0:o.y};this.updateEndPoint(i)}this.pointsList=[],this.initPoints()}}const FL={type:"custom-edge",view:jL,model:$L};class Vr extends as{constructor(e){super(e)}renderVue(e,n){this.isMounted=!1,this.r=ln(e,{properties:n.model.getProperties(),isSelected:n.model.isSelected,isHovered:n.model.isHovered}),this.app=d0({render:()=>this.r,provide:()=>({getNode:()=>n.model,getGraph:()=>n.graphModel,setData:r=>{n.model.properties={...n.model.properties,...r},n.model._height=r.height||n.model.properties.height,n.model.refreshBranch()},setTitle:r=>{n.model.properties.node_name=r}}),mounted:()=>{}})}shouldUpdate(){const e={...this.props.model.properties,isSelected:this.props.model.isSelected,isHovered:this.props.model.isHovered};if(!(this.preProperties&&this.preProperties===JSON.stringify(e)))return this.preProperties=JSON.stringify(e),!0}getAnchorShape(e){let n=this.props.graphModel.getNodeEdges(this.props.model.id),r=n.map(p=>p.sourceAnchorId),o=n.map(p=>p.targetAnchorId),i=!1;const{x:a,y:s,type:l,id:u}=e,d=10;l==="left"?i=o.includes(e.id):i=r.includes(e.id);const c=Oe("circle",{className:"custom-anchor-circle",cx:a,cy:s,r:d,fill:"#fff",stroke:"#2475FC","stroke-width":2}),f=Oe("g",{className:"custom-anchor-arrow",transform:`translate(${a-d-2}, ${s-d-2})`},[Oe("circle",{cx:12,cy:12,r:d,fill:"#2475FC",stroke:"#2475FC","stroke-width":1}),Oe("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",fill:"#fff"})]),h=Oe("g",{className:`custom-anchor-plus ${i?"anchor-hide":""}`,transform:`translate(${a-d-2}, ${s-d-2})`},[Oe("circle",{cx:12,cy:12,r:d,fill:"#2475FC",stroke:"#2475FC","stroke-width":1}),Oe("line",{x1:12,y1:6,x2:12,y2:18,strokeWidth:2.4,strokeLinecap:"round",strokeLinejoin:"round",stroke:"#fff"}),Oe("line",{x1:6,y1:12,x2:18,y2:12,strokeWidth:2.4,strokeLinecap:"round",strokeLinejoin:"round",stroke:"#fff"})]);return Oe("g",{id:e.id,className:`custom-anchor custom-anchor-${l} ${i?"anchor-selected":"anchor-not-selected"}`,onClick:p=>{p.stopPropagation();const{graphModel:g,model:m}=this.props;l==="right"&&!i&&g.eventCenter.emit("custom:showPopupMenu",{anchorData:e,model:m})}},c,f,h)}setHtml(e){if(this.isMounted)this.r.component.props.isSelected=this.props.model.isSelected,this.r.component.props.isHovered=this.props.model.isHovered,this.r.component.props.properties=this.props.model.getProperties();else{this.isMounted=!0;const n=document.createElement("div");e.appendChild(n),this.app.mount(n)}}}class zr extends os{createId(){return ls(this.type)}initNodeData(e){this.width=e.properties.width,this.height=e.properties.height,super.initNodeData(e)}getAnchorLineStyle(e){const n=super.getAnchorLineStyle();return n.stroke="#2475FC",n}getOutlineStyle(){const e=super.getOutlineStyle();return e.stroke="none",e.hover.stroke="none",e}refreshBranch(){this.incoming.edges.forEach(e=>{e.updatePathByAnchor()}),this.outgoing.edges.forEach(e=>{e.updatePathByAnchor()})}}const VL="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%232469F1'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.13965%204.41084C8.62106%204.45199%209.03903%204.78056%209.21839%205.25886L12.3963%2013.7334C12.6571%2014.4287%2012.34%2015.2178%2011.6882%2015.4959C11.0363%2015.7741%2010.2966%2015.4359%2010.0358%2014.7406L7.80964%208.80409L5.51634%2012.8811H7.08473C7.78679%2012.8811%208.35592%2013.4881%208.35592%2014.237C8.35592%2014.9859%207.78679%2015.5929%207.08473%2015.5929H3.27118C2.81321%2015.5929%202.39064%2015.3302%202.165%2014.9051C1.93936%2014.48%201.94553%2013.9583%202.18115%2013.5394L6.94809%205.06482C7.19657%204.62309%207.65825%204.3697%208.13965%204.41084Z'%20fill='%23fff'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15.2431%208.00767C15.9438%208.05526%2016.4756%208.69968%2016.431%209.44703L16.1399%2014.3221C16.0953%2015.0695%2015.4912%2015.6367%2014.7905%2015.5892C14.0899%2015.5416%2013.5581%2014.8971%2013.6027%2014.1498L13.8937%209.27469C13.9384%208.52735%2014.5425%207.96008%2015.2431%208.00767Z'%20fill='%23fff'/%3e%3cpath%20d='M16.9998%206.18753C16.9998%207.03%2016.3595%207.71295%2015.5697%207.71295C14.7799%207.71295%2014.1396%207.03%2014.1396%206.18753C14.1396%205.34506%2014.7799%204.66211%2015.5697%204.66211C16.3595%204.66211%2016.9998%205.34506%2016.9998%206.18753Z'%20fill='%23fff'/%3e%3c/svg%3e",zL="/assets/img/ai-mark-Cfm00TPS.svg",WL="/assets/img/anthrop-siiSUDZo.svg",UL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='24'%20height='24'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M36%2018L24%2030L12%2018'%20stroke='%23000'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",GL="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M12.5999%204.54102H20.4269L12.3024%2028.613C12.219%2028.8607%2012.06%2029.076%2011.8478%2029.2285C11.6355%2029.381%2011.3808%2029.463%2011.1194%2029.463H5.02777C4.82989%2029.4631%204.63484%2029.4161%204.45877%2029.3258C4.2827%2029.2354%204.1307%2029.1045%204.01534%2028.9437C3.89999%2028.7829%203.82461%2028.597%203.79545%2028.4013C3.7663%2028.2055%203.7842%2028.0057%203.84768%2027.8183L11.4184%205.3896C11.5019%205.14217%2011.6611%204.9272%2011.8733%204.77497C12.0855%204.62274%2012.3401%204.54091%2012.6013%204.54102H12.5999Z'%20fill='%2301579B'/%3e%3cpath%20d='M23.9728%2020.6875H11.5628C11.4473%2020.687%2011.3343%2020.7214%2011.2386%2020.7862C11.143%2020.851%2011.0691%2020.9432%2011.0267%2021.0507C10.9843%2021.1581%2010.9754%2021.2759%2011.001%2021.3885C11.0266%2021.5012%2011.0857%2021.6035%2011.1704%2021.682L19.1448%2029.1238C19.3757%2029.3405%2019.6831%2029.4609%2019.999%2029.4609H27.0257L23.9728%2020.6875Z'%20fill='%231976D2'/%3e%3cpath%20d='M22.5959%205.38677C22.5123%205.14009%2022.3535%204.92583%2022.1418%204.77411C21.9301%204.6224%2021.6762%204.54088%2021.4158%204.54102H12.6934C12.954%204.54079%2013.2081%204.62226%2013.4201%204.77397C13.632%204.92567%2013.791%205.13998%2013.8749%205.38677L21.4441%2027.8154C21.5073%2028.003%2021.5249%2028.2028%2021.4956%2028.3985C21.4662%2028.5942%2021.3907%2028.7801%2021.2752%2028.9408C21.1598%2029.1016%2021.0077%2029.2325%2020.8316%2029.3228C20.6555%2029.4131%2020.4605%2029.4602%2020.2626%2029.4602H28.985C29.1829%2029.4604%2029.3779%2029.4136%2029.554%2029.3234C29.7301%2029.2333%2029.8822%2029.1025%2029.9977%2028.9419C30.1132%2028.7812%2030.1887%2028.5954%2030.2181%2028.3998C30.2474%2028.2041%2030.2298%2028.0043%2030.1665%2027.8169L22.5959%205.38818V5.38677Z'%20fill='%2329B6F6'/%3e%3c/svg%3e",XL="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M14.9194%2018.1394V6.33661C14.9194%205.74238%2014.9194%205.74083%2015.523%205.74005H21.0444C21.5407%205.74005%2021.5593%205.75249%2021.5593%206.24094C21.5593%2011.4777%2021.5578%2016.7153%2021.5554%2021.9552C21.5554%2024.5973%2021.5694%2027.2394%2021.5749%2029.8807C21.5749%2030.4827%2021.5749%2030.4858%2020.941%2030.4866H15.4196C14.9334%2030.4866%2014.9241%2030.4781%2014.9241%2030.0122V18.1378L14.9194%2018.1394ZM3%2030.6173C3.25122%2030.1195%203.44178%2029.7259%203.64556%2029.3371C4.28956%2028.0864%204.94756%2026.8404%205.57522%2025.5819C5.681%2025.3688%205.70122%2025.1028%205.702%2024.8609C5.70978%2020.5474%205.70978%2016.2354%205.702%2011.9249C5.69733%2011.4521%205.80311%2010.9838%206.01%2010.5553C6.7184%209.0711%207.41505%207.58135%208.09989%206.08616C8.215%205.83494%208.369%205.72449%208.65678%205.73072C9.63833%205.74238%2010.6199%205.73461%2011.6014%205.73694C12.1062%205.73694%2012.1171%205.74705%2012.1171%206.23472V19.9882C12.1171%2021.6347%2012.1303%2023.2813%2012.1101%2024.9278C12.1039%2025.2444%2012.0323%2025.5571%2011.8986%2025.8456C11.2359%2027.2845%2010.5374%2028.7086%209.86389%2030.1436C9.70833%2030.4742%209.503%2030.6087%209.10478%2030.6041C7.30189%2030.5885%205.49744%2030.6103%203.69533%2030.6181L3%2030.6173ZM24.3383%2021.7265V13.4494C24.3383%2012.9018%2024.3383%2012.8941%2024.9123%2012.8933C26.7526%2012.8902%2028.5928%2012.8902%2030.4346%2012.8933C30.972%2012.8933%2030.9883%2012.9166%2030.9883%2013.4377L31%2029.9585C31%2030.0767%2030.9922%2030.1949%2030.9876%2030.3139C30.9798%2030.5146%2030.8818%2030.6079%2030.664%2030.6079C28.6651%2030.6079%2026.6662%2030.6111%2024.6689%2030.6173C24.4534%2030.6173%2024.3484%2030.5356%2024.3539%2030.3248V21.7265H24.3383ZM27.64%2010.8042C26.6724%2010.8042%2025.7033%2010.7925%2024.7358%2010.8104C24.4239%2010.8158%2024.3352%2010.7093%2024.3368%2010.4215C24.3461%209.02538%2024.3368%207.62849%2024.3368%206.23161C24.3368%205.76649%2024.3632%205.74316%2024.8307%205.74161C26.7549%205.73772%2028.6791%205.74161%2030.6041%205.73149C30.8919%205.73149%2030.9883%205.82405%2030.9868%206.10172C30.9813%207.49938%2030.9946%208.89627%2030.9969%2010.2924C30.9969%2010.7645%2030.9704%2010.7847%2030.4696%2010.7855H27.6384L27.6408%2010.8042H27.64Z'%20fill='%23E06639'/%3e%3c/svg%3e",YL="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.5%2012.3335H7L3.66667%2014.0002V12.3335H1.33333V2.3335H14.6667V6.00016'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%205H5H6'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%207H6H8'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.0536%207.43018C13.0536%2010.0968%2011.3869%2010.4302%209.72025%2010.4302C9.72025%2011.7635%2011.8869%2013.0968%2013.7202%2011.7635C15.5536%2010.4302%2014.3869%207.43018%2013.0536%207.43018Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ZL="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3cpath%20d='M31.6194%2022.1391H15.7352C13.316%2022.1391%2011.3545%2020.1776%2011.3545%2017.7584V9.9027C11.3545%207.48352%2013.316%205.52197%2015.7352%205.52197H31.6194C34.0386%205.52197%2036.0001%207.48352%2036.0001%209.9027V17.7584C36.0001%2020.1776%2034.0386%2022.1391%2031.6194%2022.1391Z'%20fill='%232475FC'/%3e%3cpath%20d='M27.6433%2029.4327H19.9034L13.3845%2034.178C12.4009%2034.8939%2010.9673%2034.2483%2010.9521%2033.0843L10.9084%2029.4327H9.1918C6.32448%2029.4327%204.00024%2027.2604%204.00024%2024.583V14.8075C4.00024%2012.1282%206.32448%209.95776%209.1918%209.95776H27.6452C30.5125%209.95776%2032.8367%2012.1301%2032.8367%2014.8075V24.5811C32.8367%2027.2604%2030.5125%2029.4327%2027.6433%2029.4327Z'%20fill='%232CAAFF'/%3e%3cpath%20d='M25.5317%2018.6604H10.9482C10.1792%2018.6604%209.55444%2018.0375%209.55444%2017.2666C9.55444%2016.4956%2010.1773%2015.8728%2010.9482%2015.8728H25.5317C26.3007%2015.8728%2026.9254%2016.4956%2026.9254%2017.2666C26.9254%2018.0375%2026.3007%2018.6604%2025.5317%2018.6604ZM17.3%2024.3475H10.9482C10.1792%2024.3475%209.55444%2023.7247%209.55444%2022.9537C9.55444%2022.1828%2010.1773%2021.56%2010.9482%2021.56H17.3C18.069%2021.56%2018.6938%2022.1828%2018.6938%2022.9537C18.6938%2023.7247%2018.069%2024.3475%2017.3%2024.3475Z'%20fill='%23fff'/%3e%3c/svg%3e",KL="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3cg%20clip-path='url(%23o2qmq8nz9__clip0_819_29347)'%3e%3cpath%20transform='matrix(.7071%20.7071%20.7071%20-.7071%20-13%2037.0391)'%20fill='%232475FC'%20d='M0%200H65V65H0z'/%3e%3cpath%20d='M13%2016.5L15.6667%2019L21%2014'%20stroke='%23fff'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='o2qmq8nz9__clip0_819_29347'%3e%3cpath%20d='M0%2024H22C23.1046%2024%2024%2023.1046%2024%2022V0H2C0.89543%200%200%200.895432%200%202V24Z'%20fill='%23fff'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",qL="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.23567%203.1886L3.28591%208.13837C2.11433%209.30993%202.11433%2011.2094%203.28591%2012.381C4.45747%2013.5526%206.35697%2013.5526%207.52854%2012.381L13.4211%206.48843C14.2021%205.7074%2014.2021%204.44107%2013.4211%203.66C12.6401%202.87896%2011.3737%202.87896%2010.5927%203.66L4.70014%209.55257C4.3096%209.9431%204.3096%2010.5763%204.70014%2010.9668C5.09064%2011.3573%205.7238%2011.3573%206.11434%2010.9668L11.0641%206.01703'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",JL="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.33335%201.66602C0.965164%201.66602%200.666687%201.96449%200.666687%202.33268V10.9993C0.666687%2011.3675%200.965164%2011.666%201.33335%2011.666H7.33336V12.9995H4.00003C3.63184%2012.9995%203.33336%2013.298%203.33336%2013.6662C3.33336%2014.0344%203.63184%2014.3328%204.00003%2014.3328H12C12.3682%2014.3328%2012.6667%2014.0344%2012.6667%2013.6662C12.6667%2013.298%2012.3682%2012.9995%2012%2012.9995H8.66669V11.666H14.6667C15.0349%2011.666%2015.3334%2011.3675%2015.3334%2010.9993V2.33268C15.3334%201.96449%2015.0349%201.66602%2014.6667%201.66602H1.33335Z'%20fill='currentColor'/%3e%3c/svg%3e",QL="data:image/svg+xml,%3csvg%20viewBox='0%200%2016%2016'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.98464%203.32704C1.98418%203.32813%201.98359%203.32983%201.98359%203.33333V12.6667C1.98359%2012.6702%201.98418%2012.6719%201.98464%2012.673C1.98528%2012.6745%201.9865%2012.6765%201.98848%2012.6784C1.99046%2012.6804%201.99245%2012.6816%201.99397%2012.6823C1.99506%2012.6827%201.99676%2012.6833%202.00026%2012.6833H14.0003C14.002%2012.6833%2014.0034%2012.6832%2014.0044%2012.683C14.0053%2012.6828%2014.006%2012.6825%2014.0065%2012.6823C14.0081%2012.6816%2014.0101%2012.6804%2014.012%2012.6784C14.014%2012.6765%2014.0152%2012.6745%2014.0159%2012.673C14.0163%2012.6719%2014.0169%2012.6702%2014.0169%2012.6667V3.33333C14.0169%203.32983%2014.0163%203.32813%2014.0159%203.32704C14.0152%203.32552%2014.014%203.32352%2014.012%203.32154C14.0101%203.31956%2014.0081%203.31835%2014.0065%203.31771C14.0055%203.31724%2014.0038%203.31666%2014.0003%203.31666H2.00026C1.99676%203.31666%201.99506%203.31724%201.99397%203.31771C1.99245%203.31835%201.99046%203.31956%201.98848%203.32154C1.9865%203.32352%201.98528%203.32552%201.98464%203.32704ZM0.683594%203.33333C0.683594%202.60615%201.27309%202.01666%202.00026%202.01666H14.0003C14.7274%202.01666%2015.3169%202.60615%2015.3169%203.33333V12.6667C15.3169%2013.3938%2014.7274%2013.9833%2014.0003%2013.9833H2.00026C1.27309%2013.9833%200.683594%2013.3938%200.683594%2012.6667V3.33333Z'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.50708%205.57697C3.74071%205.30441%204.15105%205.27285%204.42361%205.50647L6.75695%207.50647C6.90102%207.62996%206.98393%207.81024%206.98393%207.99999C6.98393%208.18974%206.90102%208.37002%206.75695%208.4935L4.42361%2010.4935C4.15105%2010.7271%203.74071%2010.6956%203.50708%2010.423C3.27346%2010.1504%203.30502%209.7401%203.57758%209.50647L5.33515%207.99999L3.57758%206.4935C3.30502%206.25988%203.27346%205.84953%203.50708%205.57697Z'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.0166%2010.6667C7.0166%2010.3077%207.30762%2010.0167%207.6666%2010.0167H11.9999C12.3589%2010.0167%2012.6499%2010.3077%2012.6499%2010.6667C12.6499%2011.0256%2012.3589%2011.3167%2011.9999%2011.3167H7.6666C7.30762%2011.3167%207.0166%2011.0256%207.0166%2010.6667Z'%20/%3e%3c/svg%3e",eD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M12.0695%2019.6693C12.8232%2019.6693%2014.3236%2019.6273%2016.3934%2018.7744C18.8085%2017.7804%2023.613%2015.9743%2027.0782%2014.1215C29.5026%2012.8265%2030.5643%2011.1091%2030.5643%208.8013C30.5645%208.03916%2030.4145%207.28446%2030.1229%206.58031C29.8313%205.87616%2029.4038%205.23635%2028.8649%204.69744C28.326%204.15853%2027.6862%203.73107%2026.9821%203.43948C26.2779%203.14789%2025.5232%202.99789%2024.7611%202.99805H11.3333C9.12273%202.99805%207.00268%203.8762%205.43956%205.43932C3.87644%207.00244%202.99829%209.12249%202.99829%2011.3331C2.99829%2015.9358%206.49144%2019.6693%2012.0695%2019.6693Z'%20fill='%2339594D'/%3e%3cpath%20d='M14.34%2025.4099C14.3398%2024.3064%2014.6666%2023.2276%2015.2792%2022.3097C15.8918%2021.3919%2016.7627%2020.6762%2017.7818%2020.253L22.0123%2018.4982C26.2895%2016.7248%2030.9984%2019.8668%2030.9984%2024.4987C30.9984%2025.3519%2030.8302%2026.1968%2030.5036%2026.9851C30.177%2027.7733%2029.6982%2028.4895%2029.0947%2029.0927C28.4912%2029.6958%2027.7748%2030.1742%2026.9864%2030.5004C26.198%2030.8266%2025.353%2030.9942%2024.4997%2030.9938H19.9215C19.1884%2030.9936%2018.4625%2030.8491%2017.7852%2030.5684C17.1079%2030.2877%2016.4926%2029.8763%2015.9743%2029.3578C15.456%2028.8393%2015.0449%2028.2238%2014.7645%2027.5464C14.4841%2026.869%2014.3398%2026.143%2014.34%2025.4099Z'%20fill='%23D18EE2'/%3e%3cpath%20d='M7.80283%2020.7676C7.17169%2020.7676%206.54674%2020.8919%205.96368%2021.1335C5.38061%2021.3751%204.85086%2021.7292%204.40468%2022.1756C3.95851%2022.622%203.60466%2023.1519%203.36335%2023.7351C3.12203%2024.3183%202.99799%2024.9433%202.99829%2025.5745V26.1963C2.99829%2027.4707%203.50454%2028.6929%204.40568%2029.594C5.30682%2030.4952%206.52902%2031.0014%207.80342%2031.0014C9.07781%2031.0014%2010.3%2030.4952%2011.2012%2029.594C12.1023%2028.6929%2012.6085%2027.4707%2012.6085%2026.1963V25.5745C12.6085%2024.9434%2012.4842%2024.3186%2012.2427%2023.7356C12.0012%2023.1526%2011.6472%2022.6229%2011.2009%2022.1767C10.7546%2021.7306%2010.2249%2021.3767%209.64181%2021.1353C9.05876%2020.8939%208.43387%2020.7698%207.80283%2020.7699V20.7676Z'%20fill='%23FF7759'/%3e%3c/svg%3e",tD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='20'%20fill='%232475FC'/%3e%3cpath%20d='M10.0835%2030.5H31.0835'%20stroke='%23fff'%20stroke-width='2.275'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.4165%2021.5867V25.8333H16.6848L28.7498%2013.763L24.4886%209.5L12.4165%2021.5867Z'%20stroke='%23fff'%20stroke-width='2.275'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",nD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M0.68335%202.33262C0.68335%201.97363%200.974365%201.68262%201.33335%201.68262H14.6667C15.0257%201.68262%2015.3167%201.97363%2015.3167%202.33262V5.99928C15.3167%206.35827%2015.0257%206.64928%2014.6667%206.64928C14.3077%206.64928%2014.0167%206.35827%2014.0167%205.99928V2.98262H1.98335V11.6826H3.66668C4.02567%2011.6826%204.31668%2011.9736%204.31668%2012.3326V12.9476L6.70933%2011.7512C6.79958%2011.7061%206.89911%2011.6826%207.00002%2011.6826H8.50002C8.859%2011.6826%209.15002%2011.9736%209.15002%2012.3326C9.15002%2012.6916%208.859%2012.9826%208.50002%2012.9826H7.15346L3.95737%2014.5807C3.75588%2014.6814%203.51659%2014.6706%203.32496%2014.5522C3.13333%2014.4338%203.01668%2014.2246%203.01668%2013.9993V12.9826H1.33335C0.974365%2012.9826%200.68335%2012.6916%200.68335%2012.3326V2.33262Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.68335%209.33262C8.68335%207.86906%209.86979%206.68262%2011.3333%206.68262C12.7969%206.68262%2013.9833%207.86906%2013.9833%209.33262C13.9833%209.72434%2013.8984%2010.0962%2013.7458%2010.4308L15.0728%2011.4924C15.3531%2011.7166%2015.3985%2012.1257%2015.1743%2012.406C14.95%2012.6863%2014.541%2012.7318%2014.2607%2012.5075L12.9331%2011.4455C12.4885%2011.7826%2011.9343%2011.9826%2011.3333%2011.9826C9.86979%2011.9826%208.68335%2010.7962%208.68335%209.33262ZM11.3333%207.98262C10.5878%207.98262%209.98335%208.58703%209.98335%209.33262C9.98335%2010.0782%2010.5878%2010.6826%2011.3333%2010.6826C12.0789%2010.6826%2012.6833%2010.0782%2012.6833%209.33262C12.6833%208.58703%2012.0789%207.98262%2011.3333%207.98262Z'%20fill='currentColor'/%3e%3cpath%20d='M3.35004%204.99961C3.35004%204.64062%203.64105%204.34961%204.00004%204.34961H6.00004C6.35902%204.34961%206.65004%204.64062%206.65004%204.99961C6.65004%205.35859%206.35902%205.64961%206.00004%205.64961H4.00004C3.64105%205.64961%203.35004%205.35859%203.35004%204.99961Z'%20fill='currentColor'/%3e%3cpath%20d='M4.00004%206.34961C3.64105%206.34961%203.35004%206.64062%203.35004%206.99961C3.35004%207.35859%203.64105%207.64961%204.00004%207.64961H8.00004C8.35902%207.64961%208.65004%207.35859%208.65004%206.99961C8.65004%206.64062%208.35902%206.34961%208.00004%206.34961H4.00004Z'%20fill='currentColor'/%3e%3c/svg%3e",rD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M12.6667%207.0013L14.3333%2010.0013L12.6667%2010.3346V12.3346H11.6667L9.66667%2012.0013L9.33333%2014.3346H4.33333L3.66667%2010.8743C2.64026%209.90224%202%208.52654%202%207.0013C2%204.05577%204.3878%201.66797%207.33333%201.66797C10.2789%201.66797%2012.6667%204.05577%2012.6667%207.0013Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.66675%206.33464C5.66675%205.41417%206.41295%204.66797%207.33341%204.66797C8.25388%204.66797%209.00008%205.41417%209.00008%206.33464C9.00008%207.2551%208.25388%208.0013%207.33341%208.0013V9.0013'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.33337%2011V11.3333'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",oD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.3501%202.00026C2.3501%201.27309%202.93959%200.683594%203.66676%200.683594H13.0001C13.7273%200.683594%2014.3168%201.27309%2014.3168%202.00026V14.0003C14.3168%2014.7274%2013.7273%2015.3169%2013.0001%2015.3169H3.66676C2.9396%2015.3169%202.3501%2014.7275%202.3501%2014.0003V2.00026ZM3.65114%201.99397C3.65068%201.99506%203.6501%201.99676%203.6501%202.00026V14.0003C3.6501%2014.0038%203.65068%2014.0055%203.65114%2014.0066C3.65179%2014.0081%203.653%2014.0101%203.65498%2014.012C3.65696%2014.014%203.65895%2014.0152%203.66047%2014.0159C3.66156%2014.0163%203.66326%2014.0169%203.66676%2014.0169H13.0001C13.0027%2014.0169%2013.0043%2014.0166%2013.0054%2014.0162L13.0064%2014.0159C13.0079%2014.0152%2013.0099%2014.014%2013.0119%2014.012C13.0139%2014.0101%2013.0151%2014.0081%2013.0157%2014.0066L13.016%2014.0058L13.0165%2014.0038C13.0167%2014.0029%2013.0168%2014.0017%2013.0168%2014.0003V2.00026C13.0168%201.99676%2013.0162%201.99506%2013.0157%201.99397C13.0151%201.99244%2013.0139%201.99045%2013.0119%201.98847C13.0099%201.98649%2013.0079%201.98528%2013.0064%201.98464C13.0053%201.98418%2013.0036%201.98359%2013.0001%201.98359H3.66676C3.66326%201.98359%203.66157%201.98418%203.66048%201.98464C3.65895%201.98528%203.65696%201.9865%203.65498%201.98848C3.653%201.99046%203.65178%201.99245%203.65114%201.99397ZM5.0166%205.65C5.0166%205.29101%205.30762%205%205.6666%205H10.3333C10.6923%205%2010.9833%205.29101%2010.9833%205.65C10.9833%206.00899%2010.6923%206.3%2010.3333%206.3H5.6666C5.30762%206.3%205.0166%206.00899%205.0166%205.65ZM5.6666%207C5.30762%207%205.0166%207.29101%205.0166%207.65C5.0166%208.00899%205.30762%208.3%205.6666%208.3H7.99994H10.3333C10.6923%208.3%2010.9833%208.00899%2010.9833%207.65C10.9833%207.29101%2010.6923%207%2010.3333%207H7.99994H5.6666ZM5.0166%209.65C5.0166%209.29101%205.30762%209%205.6666%209H8C8.35898%209%208.65%209.29101%208.65%209.65C8.65%2010.009%208.35898%2010.3%208%2010.3H5.6666C5.30762%2010.3%205.0166%2010.009%205.0166%209.65Z'%20fill='%232475FC'/%3e%3c/svg%3e",iD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.3501%202.00026C2.3501%201.27309%202.93959%200.683594%203.66676%200.683594H13.0001C13.7273%200.683594%2014.3168%201.27309%2014.3168%202.00026V14.0003C14.3168%2014.7274%2013.7273%2015.3169%2013.0001%2015.3169H3.66676C2.9396%2015.3169%202.3501%2014.7275%202.3501%2014.0003V2.00026ZM3.65114%201.99397C3.65068%201.99506%203.6501%201.99676%203.6501%202.00026V14.0003C3.6501%2014.0038%203.65068%2014.0055%203.65114%2014.0066C3.65179%2014.0081%203.653%2014.0101%203.65498%2014.012C3.65696%2014.014%203.65895%2014.0152%203.66047%2014.0159C3.66156%2014.0163%203.66326%2014.0169%203.66676%2014.0169H13.0001C13.0027%2014.0169%2013.0043%2014.0166%2013.0054%2014.0162L13.0064%2014.0159C13.0079%2014.0152%2013.0099%2014.014%2013.0119%2014.012C13.0139%2014.0101%2013.0151%2014.0081%2013.0157%2014.0066L13.016%2014.0058L13.0165%2014.0038C13.0167%2014.0029%2013.0168%2014.0017%2013.0168%2014.0003V2.00026C13.0168%201.99676%2013.0162%201.99506%2013.0157%201.99397C13.0151%201.99244%2013.0139%201.99045%2013.0119%201.98847C13.0099%201.98649%2013.0079%201.98528%2013.0064%201.98464C13.0053%201.98418%2013.0036%201.98359%2013.0001%201.98359H3.66676C3.66326%201.98359%203.66157%201.98418%203.66048%201.98464C3.65895%201.98528%203.65696%201.9865%203.65498%201.98848C3.653%201.99046%203.65178%201.99245%203.65114%201.99397ZM5.0166%205.65C5.0166%205.29101%205.30762%205%205.6666%205H10.3333C10.6923%205%2010.9833%205.29101%2010.9833%205.65C10.9833%206.00899%2010.6923%206.3%2010.3333%206.3H5.6666C5.30762%206.3%205.0166%206.00899%205.0166%205.65ZM5.6666%207C5.30762%207%205.0166%207.29101%205.0166%207.65C5.0166%208.00899%205.30762%208.3%205.6666%208.3H7.99994H10.3333C10.6923%208.3%2010.9833%208.00899%2010.9833%207.65C10.9833%207.29101%2010.6923%207%2010.3333%207H7.99994H5.6666ZM5.0166%209.65C5.0166%209.29101%205.30762%209%205.6666%209H8C8.35898%209%208.65%209.29101%208.65%209.65C8.65%2010.009%208.35898%2010.3%208%2010.3H5.6666C5.30762%2010.3%205.0166%2010.009%205.0166%209.65Z'%20fill='%23262626'/%3e%3c/svg%3e",aD="/assets/img/data-security-D3HeAenc.svg",sD="/assets/img/database-menu-icon-CpopCCW6.svg",lD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M8.73927%2027.0214C-2.46384%2022.0705%20-1.16796%206.50506%2010.4532%206.50506C11.8745%206.50506%2013.9646%206.22781%2015.1351%205.95056C17.5596%205.31685%2019.1899%205.55449%2017.9777%206.34663C17.6014%206.62388%2017.3506%207.09916%2017.4342%207.45562C17.6432%208.24775%2023.9136%2013.7135%2024.6661%2013.7135C25.7948%2013.7135%2025.7948%2012.4461%2024.7079%2011.4955C22.9522%209.99045%2022.4505%208.01011%2023.2448%206.02978L23.621%205L25.8366%207.01994C27.2997%208.36657%2028.2193%208.92107%2028.6373%208.72303C29.0136%208.56461%2029.8914%208.36657%2030.6439%208.24775C31.3963%208.16854%2032.2324%207.85169%2032.4832%207.53483C33.2774%206.62388%2034.2389%206.86152%2033.9463%207.89129C33.8209%208.36657%2033.6955%208.96068%2033.6955%209.23792C33.6955%2010.1489%2031.1455%2012.4857%2029.9332%2012.7233C28.9718%2012.9214%2028.6791%2013.1986%2028.6791%2013.9115C28.6791%2015.6938%2027.0906%2019.6545%2025.5857%2021.5952L24.039%2023.5756L25.5439%2024.1697C27.8431%2025.0806%2027.216%2025.7935%2023.9972%2025.8332C22.2415%2025.8728%2020.9038%2026.1104%2020.235%2026.5461C17.4342%2028.2888%2012.1253%2028.4868%208.73927%2027.0214ZM19.0227%2023.6944C18.0195%2022.625%2016.3056%2020.6051%2015.2187%2019.1396C12.3761%2015.3374%208.73927%2013.3174%204.76802%2013.3174C3.22132%2013.3174%203.17952%2013.357%203.17952%2014.664C3.17952%2018.3079%207.23438%2023.9716%2010.3278%2024.6053C11.9163%2024.9618%2012.7523%2024.3281%2011.9581%2023.4567C11.6655%2023.1003%2011.54%2022.5458%2011.7073%2022.2289C11.9163%2021.6744%2012.0835%2021.6744%2013.2958%2022.2685C14.0482%2022.625%2015.3441%2023.4171%2016.1383%2024.0112C17.6014%2025.0806%2018.5211%2025.4767%2020.0678%2025.5559C20.653%2025.5955%2020.444%2025.1598%2019.0227%2023.6944ZM22.6178%2018.0702C22.9522%2017.5553%2021.3219%2015.0205%2020.3186%2014.5056C19.9006%2014.268%2019.2317%2014.1096%2018.8973%2014.1096C17.9359%2014.1096%2018.0613%2015.1789%2019.0645%2015.4166C19.608%2015.5354%2019.9006%2015.9711%2019.9006%2016.5652C19.9006%2017.0801%2020.1096%2017.7138%2020.4022%2017.991C21.0293%2018.5851%2022.2833%2018.6247%2022.6178%2018.0702Z'%20fill='%234D6BFE'/%3e%3c/svg%3e",uD="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_983_5783)'%3e%3cpath%20d='M6.6666%206.01562C7.02559%206.01562%207.3166%206.30664%207.3166%206.66563V10.999C7.3166%2011.3579%207.02559%2011.649%206.6666%2011.649C6.30762%2011.649%206.0166%2011.3579%206.0166%2010.999V6.66563C6.0166%206.30664%206.30762%206.01562%206.6666%206.01562Z'%20fill='currentColor'/%3e%3cpath%20d='M9.98359%206.66563C9.98359%206.30664%209.69258%206.01562%209.33359%206.01562C8.97461%206.01562%208.68359%206.30664%208.68359%206.66563V10.999C8.68359%2011.3579%208.97461%2011.649%209.33359%2011.649C9.69258%2011.649%209.98359%2011.3579%209.98359%2010.999V6.66563Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.42993%200.683594C6.19255%200.683594%205.97405%200.812994%205.85995%201.02115L4.94865%202.68359H1.33359C0.974609%202.68359%200.683594%202.97461%200.683594%203.33359C0.683594%203.69258%200.974609%203.98359%201.33359%203.98359H2.3501V14.6669C2.3501%2015.0259%202.64111%2015.3169%203.0001%2015.3169H13.0001C13.3591%2015.3169%2013.6501%2015.0259%2013.6501%2014.6669V3.98359H14.6669C15.0259%203.98359%2015.3169%203.69258%2015.3169%203.33359C15.3169%202.97461%2015.0259%202.68359%2014.6669%202.68359H11.0556L10.1652%201.02601C10.052%200.815146%209.83199%200.683594%209.59263%200.683594H6.42993ZM9.57994%202.68359L9.20394%201.98359H6.81487L6.43115%202.68359H9.57994ZM3.6501%203.98359V14.0169H12.3501V3.98359H3.6501Z'%20fill='currentColor'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_983_5783'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",dD="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.66665%205.33398H4.33331C2.67646%205.33398%201.33331%206.67712%201.33331%208.33398C1.33331%209.99085%202.67646%2011.334%204.33331%2011.334C5.15858%2011.334%205.90601%2011.0008%206.44841%2010.4615C6.99495%209.91815%207.99998%208.33398%207.99998%208.33398C7.99998%208.33398%209.00188%206.75682%209.54398%206.21402C10.087%205.67032%2010.8375%205.33398%2011.6666%205.33398C13.3235%205.33398%2014.6666%206.67712%2014.6666%208.33398C14.6666%209.99085%2013.3235%2011.334%2011.6666%2011.334H10.3333'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.6666%2010L10.3333%2011.3333L11.6666%2012.6667'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.33331%204L5.66665%205.33333L4.33331%206.66667'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",cD="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.7931%209.80007V12.2001C6.7931%2013.1942%207.59897%2014.0001%208.5931%2014.0001L10.9931%208.60007V2.00008H4.0211C3.42273%201.99331%202.91081%202.42843%202.82109%203.02008L1.99309%208.42007C1.94026%208.76817%202.04295%209.1219%202.27397%209.38757C2.505%209.65324%202.84104%209.80407%203.19309%209.80007H6.7931Z'%20fill='%232475FC'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.9932%202.00022H12.5952C13.2981%201.98779%2013.8989%202.50356%2013.9932%203.20022V7.40023C13.8989%208.09686%2013.2981%208.67933%2012.5952%208.6669H10.9932V2.00022Z'%20fill='%232475FC'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3c/svg%3e",fD="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.2931%2013.8001V16.2001C11.2931%2017.1942%2012.099%2018.0001%2013.0931%2018.0001L15.4931%2012.6001V6.00008H8.5211C7.92273%205.99331%207.41081%206.42843%207.32109%207.02008L6.49309%2012.4201C6.44026%2012.7682%206.54295%2013.1219%206.77397%2013.3876C7.005%2013.6532%207.34104%2013.8041%207.69309%2013.8001H11.2931Z'%20stroke='%237A8699'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.4932%206.00022H17.0952C17.7981%205.98779%2018.3989%206.50356%2018.4932%207.20022V11.4002C18.3989%2012.0969%2017.7981%2012.6793%2017.0952%2012.6669H15.4932V6.00022Z'%20stroke='%237A8699'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3c/svg%3e",hD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3crect%20width='24'%20height='24'%20rx='4.8'%20fill='%232475FC'/%3e%3cg%20filter='url(%23iwy0zeq7u__filter0_d_341_3700)'%20fill-rule='evenodd'%20clip-rule='evenodd'%3e%3cpath%20d='M6.30335%2011.1H16.5003C16.5993%2011.1%2016.6893%2011.082%2016.7703%2011.037L16.7791%2011.0321C16.9156%2010.9576%2018.3003%2010.2012%2018.3003%208.39995C18.3003%206.54595%2016.8333%205.78995%2016.7703%205.76295C16.6893%205.71795%2016.5903%205.69995%2016.5003%205.69995H6.30335C6.02435%205.69995%205.79035%205.88895%205.71835%206.15895C5.65535%206.42895%205.78135%206.70795%206.02435%206.83395C6.06035%206.85195%206.90635%207.31095%206.90635%208.39995C6.90635%209.45901%206.12325%209.91372%206.0388%209.96276L6.03335%209.96595C5.78135%2010.092%205.65535%2010.371%205.71835%2010.641C5.78135%2010.911%206.02435%2011.1%206.30335%2011.1ZM7.5002%2017.697H17.6882C17.9672%2017.697%2018.2102%2017.508%2018.2732%2017.238C18.3362%2016.968%2018.2102%2016.689%2017.9582%2016.563C17.9582%2016.5623%2017.9522%2016.5583%2017.9412%2016.5511C17.8202%2016.4717%2017.0942%2015.9953%2017.0942%2014.997C17.0942%2013.938%2017.8773%2013.4832%2017.9617%2013.4342C17.9641%2013.4328%2017.966%2013.4318%2017.9672%2013.431C18.2192%2013.305%2018.3452%2013.026%2018.2822%2012.756C18.2192%2012.486%2017.9762%2012.297%2017.6972%2012.297H7.5002C7.4012%2012.297%207.3112%2012.315%207.2302%2012.36C7.1672%2012.387%205.7002%2013.143%205.7002%2014.997C5.7002%2016.851%207.1672%2017.607%207.2302%2017.634C7.3112%2017.679%207.4102%2017.697%207.5002%2017.697Z'%20fill='%23333'/%3e%3cpath%20d='M6.30335%2011.1H16.5003C16.5993%2011.1%2016.6893%2011.082%2016.7703%2011.037L16.7791%2011.0321C16.9156%2010.9576%2018.3003%2010.2012%2018.3003%208.39995C18.3003%206.54595%2016.8333%205.78995%2016.7703%205.76295C16.6893%205.71795%2016.5903%205.69995%2016.5003%205.69995H6.30335C6.02435%205.69995%205.79035%205.88895%205.71835%206.15895C5.65535%206.42895%205.78135%206.70795%206.02435%206.83395C6.06035%206.85195%206.90635%207.31095%206.90635%208.39995C6.90635%209.45901%206.12325%209.91372%206.0388%209.96276L6.03335%209.96595C5.78135%2010.092%205.65535%2010.371%205.71835%2010.641C5.78135%2010.911%206.02435%2011.1%206.30335%2011.1ZM7.5002%2017.697H17.6882C17.9672%2017.697%2018.2102%2017.508%2018.2732%2017.238C18.3362%2016.968%2018.2102%2016.689%2017.9582%2016.563C17.9582%2016.5623%2017.9522%2016.5583%2017.9412%2016.5511C17.8202%2016.4717%2017.0942%2015.9953%2017.0942%2014.997C17.0942%2013.938%2017.8773%2013.4832%2017.9617%2013.4342C17.9641%2013.4328%2017.966%2013.4318%2017.9672%2013.431C18.2192%2013.305%2018.3452%2013.026%2018.2822%2012.756C18.2192%2012.486%2017.9762%2012.297%2017.6972%2012.297H7.5002C7.4012%2012.297%207.3112%2012.315%207.2302%2012.36C7.1672%2012.387%205.7002%2013.143%205.7002%2014.997C5.7002%2016.851%207.1672%2017.607%207.2302%2017.634C7.3112%2017.679%207.4102%2017.697%207.5002%2017.697Z'%20fill='url(%23iwy0zeq7u__paint0_linear_341_3700)'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='iwy0zeq7u__paint0_linear_341_3700'%20x1='5.7002'%20y1='11.6985'%20x2='18.3002'%20y2='11.6985'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EBF3FF'/%3e%3cstop%20offset='1'%20stop-color='%23C2D9FF'/%3e%3c/linearGradient%3e%3cfilter%20id='iwy0zeq7u__filter0_d_341_3700'%20x='3.3002'%20y='4.5002'%20width='17.4001'%20height='16.7971'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1.2'/%3e%3cfeGaussianBlur%20stdDeviation='1.2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20values='0%200%200%200%200.070708%200%200%200%200%200.175495%200%200%200%200%200.348845%200%200%200%200.32%200'/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_341_3700'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_341_3700'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",pD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.31764%202.65999C2.31718%202.66108%202.3166%202.66278%202.3166%202.66628V13.3329C2.3166%2013.3364%202.31718%2013.3381%202.31764%2013.3392C2.31829%2013.3408%202.3195%2013.3428%202.32148%2013.3447C2.32346%2013.3467%202.32545%2013.3479%202.32698%2013.3486C2.32807%2013.349%202.32976%2013.3496%202.33327%2013.3496H13.6666C13.6681%2013.3496%2013.6693%2013.3495%2013.6702%2013.3493C13.6715%2013.3491%2013.6723%2013.3488%2013.6729%2013.3486C13.674%2013.3481%2013.6753%2013.3473%2013.6768%2013.3462C13.6773%2013.3458%2013.6778%2013.3453%2013.6784%2013.3447C13.6804%2013.3428%2013.6816%2013.3408%2013.6822%2013.3392C13.6827%2013.3382%2013.6833%2013.3365%2013.6833%2013.3329V4.66628C13.6833%204.66277%2013.6827%204.66107%2013.6822%204.65998C13.6816%204.65845%2013.6804%204.65646%2013.6784%204.65449C13.6764%204.65251%2013.6744%204.6513%2013.6729%204.65065C13.6718%204.65019%2013.6701%204.64961%2013.6666%204.64961H7.99994C7.80703%204.64961%207.62409%204.56392%207.50059%204.41573L6.02882%202.64961H2.33327C2.32977%202.64961%202.32807%202.65019%202.32698%202.65065C2.32546%202.6513%202.32346%202.65251%202.32148%202.65449C2.3195%202.65647%202.31829%202.65846%202.31764%202.65999ZM1.0166%202.66628C1.0166%201.9391%201.60609%201.34961%202.33327%201.34961H6.33327C6.52618%201.34961%206.70912%201.43529%206.83261%201.58349L8.30438%203.34961H13.6666C14.3938%203.34961%2014.9833%203.93909%2014.9833%204.66628V13.3329C14.9833%2014.0601%2014.3938%2014.6496%2013.6666%2014.6496H2.33327C1.6061%2014.6496%201.0166%2014.0601%201.0166%2013.3329V2.66628Z'%20fill='%232475FC'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.54048%206.20796C7.79412%205.95432%208.20528%205.95409%208.45921%206.20745L10.4592%208.20302C10.7133%208.45657%2010.7138%208.86813%2010.4602%209.12225C10.2067%209.37638%209.79511%209.37683%209.54099%209.12327L8.00061%207.58631L6.45972%209.1272C6.20588%209.38104%205.79432%209.38104%205.54048%209.1272C5.28664%208.87336%205.28664%208.4618%205.54048%208.20796L7.54048%206.20796Z'%20fill='%232475FC'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.0001%206.01758C8.35908%206.01758%208.6501%206.30859%208.6501%206.66758V11.3342C8.6501%2011.6932%208.35908%2011.9842%208.0001%2011.9842C7.64111%2011.9842%207.3501%2011.6932%207.3501%2011.3342V6.66758C7.3501%206.30859%207.64111%206.01758%208.0001%206.01758Z'%20fill='%232475FC'/%3e%3c/svg%3e",vD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.31764%202.65999C2.31718%202.66108%202.3166%202.66278%202.3166%202.66628V13.3329C2.3166%2013.3364%202.31718%2013.3381%202.31764%2013.3392C2.31829%2013.3408%202.3195%2013.3428%202.32148%2013.3447C2.32346%2013.3467%202.32545%2013.3479%202.32698%2013.3486C2.32807%2013.349%202.32976%2013.3496%202.33327%2013.3496H13.6666C13.6681%2013.3496%2013.6693%2013.3495%2013.6702%2013.3493C13.6715%2013.3491%2013.6723%2013.3488%2013.6729%2013.3486C13.674%2013.3481%2013.6753%2013.3473%2013.6768%2013.3462C13.6773%2013.3458%2013.6778%2013.3453%2013.6784%2013.3447C13.6804%2013.3428%2013.6816%2013.3408%2013.6822%2013.3392C13.6827%2013.3382%2013.6833%2013.3365%2013.6833%2013.3329V4.66628C13.6833%204.66277%2013.6827%204.66107%2013.6822%204.65998C13.6816%204.65845%2013.6804%204.65646%2013.6784%204.65449C13.6764%204.65251%2013.6744%204.6513%2013.6729%204.65065C13.6718%204.65019%2013.6701%204.64961%2013.6666%204.64961H7.99994C7.80703%204.64961%207.62409%204.56392%207.50059%204.41573L6.02882%202.64961H2.33327C2.32977%202.64961%202.32807%202.65019%202.32698%202.65065C2.32546%202.6513%202.32346%202.65251%202.32148%202.65449C2.3195%202.65647%202.31829%202.65846%202.31764%202.65999ZM1.0166%202.66628C1.0166%201.9391%201.60609%201.34961%202.33327%201.34961H6.33327C6.52618%201.34961%206.70912%201.43529%206.83261%201.58349L8.30438%203.34961H13.6666C14.3938%203.34961%2014.9833%203.93909%2014.9833%204.66628V13.3329C14.9833%2014.0601%2014.3938%2014.6496%2013.6666%2014.6496H2.33327C1.6061%2014.6496%201.0166%2014.0601%201.0166%2013.3329V2.66628Z'%20fill='%23262626'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.54048%206.20796C7.79412%205.95432%208.20528%205.95409%208.45921%206.20745L10.4592%208.20302C10.7133%208.45657%2010.7138%208.86813%2010.4602%209.12225C10.2067%209.37638%209.79511%209.37683%209.54099%209.12327L8.00061%207.58631L6.45972%209.1272C6.20588%209.38104%205.79432%209.38104%205.54048%209.1272C5.28664%208.87336%205.28664%208.4618%205.54048%208.20796L7.54048%206.20796Z'%20fill='%23262626'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.0001%206.01758C8.35908%206.01758%208.6501%206.30859%208.6501%206.66758V11.3342C8.6501%2011.6932%208.35908%2011.9842%208.0001%2011.9842C7.64111%2011.9842%207.3501%2011.6932%207.3501%2011.3342V6.66758C7.3501%206.30859%207.64111%206.01758%208.0001%206.01758Z'%20fill='%23262626'/%3e%3c/svg%3e",gD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3crect%20width='24'%20height='24'%20rx='4.8'%20fill='%23A1A7B3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.30335%2011.1H16.5003C16.5993%2011.1%2016.6893%2011.082%2016.7703%2011.037L16.7791%2011.0321C16.9156%2010.9576%2018.3003%2010.2012%2018.3003%208.39995C18.3003%206.54595%2016.8333%205.78995%2016.7703%205.76295C16.6893%205.71795%2016.5903%205.69995%2016.5003%205.69995H6.30335C6.02435%205.69995%205.79035%205.88895%205.71835%206.15895C5.65535%206.42895%205.78135%206.70795%206.02435%206.83395C6.06035%206.85195%206.90635%207.31095%206.90635%208.39995C6.90635%209.45901%206.12325%209.91372%206.0388%209.96276L6.03335%209.96595C5.78135%2010.092%205.65535%2010.371%205.71835%2010.641C5.78135%2010.911%206.02435%2011.1%206.30335%2011.1ZM7.5002%2017.697H17.6882C17.9672%2017.697%2018.2102%2017.508%2018.2732%2017.238C18.3362%2016.968%2018.2102%2016.689%2017.9582%2016.563C17.9582%2016.5623%2017.9522%2016.5583%2017.9412%2016.5511C17.8202%2016.4717%2017.0942%2015.9953%2017.0942%2014.997C17.0942%2013.938%2017.8773%2013.4832%2017.9617%2013.4342C17.9641%2013.4328%2017.966%2013.4318%2017.9672%2013.431C18.2192%2013.305%2018.3452%2013.026%2018.2822%2012.756C18.2192%2012.486%2017.9762%2012.297%2017.6972%2012.297H7.5002C7.4012%2012.297%207.3112%2012.315%207.2302%2012.36C7.1672%2012.387%205.7002%2013.143%205.7002%2014.997C5.7002%2016.851%207.1672%2017.607%207.2302%2017.634C7.3112%2017.679%207.4102%2017.697%207.5002%2017.697Z'%20fill='%233A4559'/%3e%3c/svg%3e",mD="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2016%2016'%3e%3cpath%20fill='currentColor'%20d='M5%204.667A1.333%201.333%200%201%200%205%202a1.333%201.333%200%200%200%200%202.667ZM6.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM6.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM11%204.667A1.333%201.333%200%201%200%2011%202a1.333%201.333%200%200%200%200%202.667ZM12.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM12.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200Z'%20data-follow-fill='%23000'/%3e%3c/svg%3e",yD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M5.70999%207.44846V8.39753C5.70999%208.77626%206.01699%209.08326%206.39575%209.08326C6.77449%209.08326%207.08145%208.77626%207.08145%208.39753V7.44846C7.08145%207.0698%206.77449%206.7627%206.39575%206.7627C6.01699%206.7627%205.70999%207.0698%205.70999%207.44846Z'%20fill='currentColor'/%3e%3cpath%20d='M9.10419%207.44846C9.10419%207.0698%209.41122%206.7627%209.78992%206.7627C10.1687%206.7627%2010.4757%207.0698%2010.4757%207.44846V8.39753C10.4757%208.77626%2010.1687%209.08326%209.78992%209.08326C9.41122%209.08326%209.10419%208.77626%209.10419%208.39753V7.44846Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.86958%2012.3289C1.77379%2011.1261%201.10716%209.53817%201.10716%207.7971C1.10716%204.04237%204.20599%200.998535%208.02855%200.998535C11.8512%200.998535%2014.95%204.04237%2014.95%207.7971C14.95%2010.452%2013.4002%2012.7505%2011.1412%2013.8697C9.75902%2014.5903%208.18225%2014.9985%206.50845%2014.9985C4.45755%2014.9985%202.55232%2014.3857%200.972351%2013.3362C0.972351%2013.3362%202.03215%2013.2204%202.86958%2012.3289ZM11.2799%2011.1618C13.0706%209.3712%2013.0706%206.46803%2011.2799%204.6774C10.4496%203.8471%209.38005%203.40207%208.29315%203.34183C8.26041%202.52773%208.69784%201.97722%208.70144%201.97269C7.45224%202.21401%206.25929%202.81799%205.29199%203.7853C4.55015%204.5271%204.02195%205.4016%203.70705%206.33233C3.75315%206.21027%203.80455%206.08973%203.86125%205.97113C3.79599%206.13757%203.73702%206.30763%203.68369%206.48163C3.15927%208.0736%203.52942%209.89573%204.79549%2011.1618C6.58615%2012.9525%209.48932%2012.9525%2011.2799%2011.1618Z'%20fill='currentColor'/%3e%3c/svg%3e",_D="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.54048%204.53999C5.79432%204.28615%206.20588%204.28615%206.45972%204.53999L8.0001%206.08037L9.54048%204.53999C9.79432%204.28615%2010.2059%204.28615%2010.4597%204.53999C10.7136%204.79383%2010.7136%205.20539%2010.4597%205.45923L8.90234%207.0166H10.3335C10.6925%207.0166%2010.9835%207.30762%2010.9835%207.6666C10.9835%208.02559%2010.6925%208.3166%2010.3335%208.3166H8.6501V9.0166H10.3335C10.6925%209.0166%2010.9835%209.30762%2010.9835%209.6666C10.9835%2010.0256%2010.6925%2010.3166%2010.3335%2010.3166H8.6501V11.3333C8.6501%2011.6923%208.35908%2011.9833%208.0001%2011.9833C7.64111%2011.9833%207.3501%2011.6923%207.3501%2011.3333V10.3166H5.66685C5.30786%2010.3166%205.01685%2010.0256%205.01685%209.6666C5.01685%209.30762%205.30786%209.0166%205.66685%209.0166H7.3501V8.3166H5.66685C5.30786%208.3166%205.01685%208.02559%205.01685%207.6666C5.01685%207.30762%205.30786%207.0166%205.66685%207.0166H7.09785L5.54048%205.45923C5.28664%205.20539%205.28664%204.79383%205.54048%204.53999Z'%20fill='%232475FC'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.68335%203.99928C0.68335%202.71983%201.72056%201.68262%203.00002%201.68262H13C14.2795%201.68262%2015.3167%202.71982%2015.3167%203.99928V11.9993C15.3167%2013.2787%2014.2795%2014.316%2013%2014.316H3.00002C1.72056%2014.316%200.68335%2013.2787%200.68335%2011.9993V3.99928ZM3.00002%202.98262C2.43853%202.98262%201.98335%203.4378%201.98335%203.99928V11.9993C1.98335%2012.5608%202.43853%2013.016%203.00002%2013.016H13C13.5615%2013.016%2014.0167%2012.5608%2014.0167%2011.9993V3.99928C14.0167%203.4378%2013.5615%202.98262%2013%202.98262H3.00002Z'%20fill='%232475FC'/%3e%3c/svg%3e",CD="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.54048%204.53999C5.79432%204.28615%206.20588%204.28615%206.45972%204.53999L8.0001%206.08037L9.54048%204.53999C9.79432%204.28615%2010.2059%204.28615%2010.4597%204.53999C10.7136%204.79383%2010.7136%205.20539%2010.4597%205.45923L8.90234%207.0166H10.3335C10.6925%207.0166%2010.9835%207.30762%2010.9835%207.6666C10.9835%208.02559%2010.6925%208.3166%2010.3335%208.3166H8.6501V9.0166H10.3335C10.6925%209.0166%2010.9835%209.30762%2010.9835%209.6666C10.9835%2010.0256%2010.6925%2010.3166%2010.3335%2010.3166H8.6501V11.3333C8.6501%2011.6923%208.35908%2011.9833%208.0001%2011.9833C7.64111%2011.9833%207.3501%2011.6923%207.3501%2011.3333V10.3166H5.66685C5.30786%2010.3166%205.01685%2010.0256%205.01685%209.6666C5.01685%209.30762%205.30786%209.0166%205.66685%209.0166H7.3501V8.3166H5.66685C5.30786%208.3166%205.01685%208.02559%205.01685%207.6666C5.01685%207.30762%205.30786%207.0166%205.66685%207.0166H7.09785L5.54048%205.45923C5.28664%205.20539%205.28664%204.79383%205.54048%204.53999Z'%20fill='%23262626'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.68335%203.99928C0.68335%202.71983%201.72056%201.68262%203.00002%201.68262H13C14.2795%201.68262%2015.3167%202.71982%2015.3167%203.99928V11.9993C15.3167%2013.2787%2014.2795%2014.316%2013%2014.316H3.00002C1.72056%2014.316%200.68335%2013.2787%200.68335%2011.9993V3.99928ZM3.00002%202.98262C2.43853%202.98262%201.98335%203.4378%201.98335%203.99928V11.9993C1.98335%2012.5608%202.43853%2013.016%203.00002%2013.016H13C13.5615%2013.016%2014.0167%2012.5608%2014.0167%2011.9993V3.99928C14.0167%203.4378%2013.5615%202.98262%2013%202.98262H3.00002Z'%20fill='%23262626'/%3e%3c/svg%3e",bD="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.2316%201.34961C10.4041%201.34958%2010.5695%201.4181%2010.6915%201.54008L13.1265%203.97608C13.3802%204.2299%2013.3802%204.64131%2013.1265%204.89513L6.23215%2011.7925C6.11025%2011.9144%205.94487%2011.9829%205.77243%2011.9829H3.33343C2.97445%2011.9829%202.68343%2011.6919%202.68343%2011.3329V8.90628C2.68343%208.73402%202.75181%208.56881%202.87354%208.44693L9.77187%201.54027C9.89376%201.41823%2010.0592%201.34964%2010.2316%201.34961ZM10.2319%202.91922L3.98343%209.17528V10.6829H5.50311L11.7477%204.43561L10.2319%202.91922Z'%20fill='currentColor'/%3e%3cpath%20d='M1.3501%2013.9996C1.3501%2013.6406%201.64111%2013.3496%202.0001%2013.3496H14.0001C14.3591%2013.3496%2014.6501%2013.6406%2014.6501%2013.9996C14.6501%2014.3586%2014.3591%2014.6496%2014.0001%2014.6496H2.0001C1.64111%2014.6496%201.3501%2014.3586%201.3501%2013.9996Z'%20fill='currentColor'/%3e%3c/svg%3e",xD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%23F33E3E'/%3e%3cg%20clip-path='url(%23n90207hb6__clip0_6476_8985)'%3e%3cpath%20d='M9.99984%2015.8334C13.2215%2015.8334%2015.8332%2013.2217%2015.8332%2010.0001C15.8332%206.77842%2013.2215%204.16675%209.99984%204.16675C6.77817%204.16675%204.1665%206.77842%204.1665%2010.0001C4.1665%2013.2217%206.77817%2015.8334%209.99984%2015.8334Z'%20stroke='%23fff'%20stroke-linejoin='round'/%3e%3cpath%20fill='%23fff'%20d='M10%207.375A2.625%202.625%200%201%200%2010%2012.625A2.625%202.625%200%201%200%2010%207.375Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='n90207hb6__clip0_6476_8985'%3e%3cpath%20fill='%23fff'%20transform='translate(3%203)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",wD="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.33333%201C6.59695%201%206%201.59695%206%202.33333V7H3.33333C2.59695%207%202%207.59695%202%208.33333V13.6665H1.33334C0.965149%2013.6665%200.666672%2013.965%200.666672%2014.3332C0.666672%2014.7014%200.965149%2014.9998%201.33334%2014.9998H3.31227L3.33333%2015H6L6.02107%2014.9998H7.3122L7.33333%2015H12.6667L12.6878%2014.9998H14.6667C15.0349%2014.9998%2015.3333%2014.7014%2015.3333%2014.3332C15.3333%2013.965%2015.0349%2013.6665%2014.6667%2013.6665H14V2.33333C14%201.59695%2013.403%201%2012.6667%201H7.33333ZM8.66667%2011.0024C8.66667%2010.6343%208.96515%2010.3358%209.33334%2010.3358H10.6667C11.0349%2010.3358%2011.3333%2010.6343%2011.3333%2011.0024C11.3333%2011.3706%2011.0349%2011.6691%2010.6667%2011.6691H9.33334C8.96515%2011.6691%208.66667%2011.3706%208.66667%2011.0024ZM4%2010.3358C3.63181%2010.3358%203.33333%2010.6343%203.33333%2011.0024C3.33333%2011.3706%203.63181%2011.6691%204%2011.6691H5.33333C5.70152%2011.6691%206%2011.3706%206%2011.0024C6%2010.6343%205.70152%2010.3358%205.33333%2010.3358H4ZM8.66667%208.00244C8.66667%207.63425%208.96515%207.33577%209.33334%207.33577H10.6667C11.0349%207.33577%2011.3333%207.63425%2011.3333%208.00244C11.3333%208.37063%2011.0349%208.66911%2010.6667%208.66911H9.33334C8.96515%208.66911%208.66667%208.37063%208.66667%208.00244ZM9.33334%204.33577C8.96515%204.33577%208.66667%204.63425%208.66667%205.00244C8.66667%205.37063%208.96515%205.66911%209.33334%205.66911H10.6667C11.0349%205.66911%2011.3333%205.37063%2011.3333%205.00244C11.3333%204.63425%2011.0349%204.33577%2010.6667%204.33577H9.33334Z'%20fill='%232475FC'/%3e%3c/svg%3e",ED="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.33333%201C6.59695%201%206%201.59695%206%202.33333V7H3.33333C2.59695%207%202%207.59695%202%208.33333V13.6665H1.33334C0.965149%2013.6665%200.666672%2013.965%200.666672%2014.3332C0.666672%2014.7014%200.965149%2014.9998%201.33334%2014.9998H3.31227L3.33333%2015H6L6.02107%2014.9998H7.3122L7.33333%2015H12.6667L12.6878%2014.9998H14.6667C15.0349%2014.9998%2015.3333%2014.7014%2015.3333%2014.3332C15.3333%2013.965%2015.0349%2013.6665%2014.6667%2013.6665H14V2.33333C14%201.59695%2013.403%201%2012.6667%201H7.33333ZM8.66667%2011.0024C8.66667%2010.6343%208.96515%2010.3358%209.33334%2010.3358H10.6667C11.0349%2010.3358%2011.3333%2010.6343%2011.3333%2011.0024C11.3333%2011.3706%2011.0349%2011.6691%2010.6667%2011.6691H9.33334C8.96515%2011.6691%208.66667%2011.3706%208.66667%2011.0024ZM4%2010.3358C3.63181%2010.3358%203.33333%2010.6343%203.33333%2011.0024C3.33333%2011.3706%203.63181%2011.6691%204%2011.6691H5.33333C5.70152%2011.6691%206%2011.3706%206%2011.0024C6%2010.6343%205.70152%2010.3358%205.33333%2010.3358H4ZM8.66667%208.00244C8.66667%207.63425%208.96515%207.33577%209.33334%207.33577H10.6667C11.0349%207.33577%2011.3333%207.63425%2011.3333%208.00244C11.3333%208.37063%2011.0349%208.66911%2010.6667%208.66911H9.33334C8.96515%208.66911%208.66667%208.37063%208.66667%208.00244ZM9.33334%204.33577C8.96515%204.33577%208.66667%204.63425%208.66667%205.00244C8.66667%205.37063%208.96515%205.66911%209.33334%205.66911H10.6667C11.0349%205.66911%2011.3333%205.37063%2011.3333%205.00244C11.3333%204.63425%2011.0349%204.33577%2010.6667%204.33577H9.33334Z'%20fill='%23A1A7B3'/%3e%3c/svg%3e",SD="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.33333%201C6.59695%201%206%201.59695%206%202.33333V7H3.33333C2.59695%207%202%207.59695%202%208.33333V13.6665H1.33334C0.965149%2013.6665%200.666672%2013.965%200.666672%2014.3332C0.666672%2014.7014%200.965149%2014.9998%201.33334%2014.9998H3.31227L3.33333%2015H6L6.02107%2014.9998H7.3122L7.33333%2015H12.6667L12.6878%2014.9998H14.6667C15.0349%2014.9998%2015.3333%2014.7014%2015.3333%2014.3332C15.3333%2013.965%2015.0349%2013.6665%2014.6667%2013.6665H14V2.33333C14%201.59695%2013.403%201%2012.6667%201H7.33333ZM8.66667%2011.0024C8.66667%2010.6343%208.96515%2010.3358%209.33334%2010.3358H10.6667C11.0349%2010.3358%2011.3333%2010.6343%2011.3333%2011.0024C11.3333%2011.3706%2011.0349%2011.6691%2010.6667%2011.6691H9.33334C8.96515%2011.6691%208.66667%2011.3706%208.66667%2011.0024ZM4%2010.3358C3.63181%2010.3358%203.33333%2010.6343%203.33333%2011.0024C3.33333%2011.3706%203.63181%2011.6691%204%2011.6691H5.33333C5.70152%2011.6691%206%2011.3706%206%2011.0024C6%2010.6343%205.70152%2010.3358%205.33333%2010.3358H4ZM8.66667%208.00244C8.66667%207.63425%208.96515%207.33577%209.33334%207.33577H10.6667C11.0349%207.33577%2011.3333%207.63425%2011.3333%208.00244C11.3333%208.37063%2011.0349%208.66911%2010.6667%208.66911H9.33334C8.96515%208.66911%208.66667%208.37063%208.66667%208.00244ZM9.33334%204.33577C8.96515%204.33577%208.66667%204.63425%208.66667%205.00244C8.66667%205.37063%208.96515%205.66911%209.33334%205.66911H10.6667C11.0349%205.66911%2011.3333%205.37063%2011.3333%205.00244C11.3333%204.63425%2011.0349%204.33577%2010.6667%204.33577H9.33334Z'%20fill='currentColor'/%3e%3c/svg%3e",MD="data:image/svg+xml,%3csvg%20t='1736306538587'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4283'%20width='256'%20height='256'%3e%3cpath%20d='M863.38266946%20101.16481782a37.65249042%2037.65249042%200%200%200-53.27139798-1e-8l-50.28446283%2050.28446366-74.29836978%2074.2852109-176.79498816%20176.79498816A37.66564847%2037.66564847%200%200%200%20562.00484869%20455.79429989v-0.00657943l176.8015676-176.78182928%2074.29179034-74.29836979%2050.28446283-50.27788421a37.67222791%2037.67222791%200%200%200%200-53.26481937z'%20fill='currentColor'%20p-id='4284'%3e%3c/path%3e%3cpath%20d='M776.47206476%20375.89707126a37.65906903%2037.65906903%200%200%200-37.66564847%2036.94194086v408.03246303a37.67222791%2037.67222791%200%200%201-37.66564847%2037.67222792H203.93447089a37.66564847%2037.66564847%200%200%201-37.66564848-37.67222791V263.40014084a37.66564847%2037.66564847%200%200%201%2037.66564848-37.66564847h349.35958026a37.67222791%2037.67222791%200%201%200%200-75.34445499H156.85405475C120.45160385%20150.39661682%2090.93752548%20179.90411575%2090.93752548%20216.31972552v651.63216577c0%2036.4024509%2029.51407837%2065.9231087%2065.91652927%2065.92310871h591.36712838c36.4024509%200%2065.91652927-29.51407837%2065.9165301-65.92310871V411.31922803a37.64591098%2037.64591098%200%200%200-37.66564847-35.42215677z'%20fill='currentColor'%20p-id='4285'%3e%3c/path%3e%3cpath%20d='M211.47417969%20594.87100573a37.66564847%2037.66564847%200%200%200%2037.66564847%2037.66564847h346.53054501a37.67222791%2037.67222791%200%200%200%200-75.33787637H249.13982816a37.67222791%2037.67222791%200%200%200-37.66564847%2037.6722279z%20m203.39450107-203.40108049h-165.7288526a37.67222791%2037.67222791%200%200%200%200%2075.33787554h165.7288526a37.67222791%2037.67222791%200%200%200%200-75.33787554z'%20fill='currentColor'%20p-id='4286'%3e%3c/path%3e%3c/svg%3e",OD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.667969%202.33268C0.667969%201.96449%200.966446%201.66602%201.33464%201.66602H14.668C15.0362%201.66602%2015.3346%201.96449%2015.3346%202.33268V12.3327C15.3346%2012.7009%2015.0362%2012.9993%2014.668%2012.9993H9.94411L8.47271%2014.4708C8.21236%2014.7311%207.79025%2014.7311%207.5299%2014.4708L6.05849%2012.9993H1.33464C0.966446%2012.9993%200.667969%2012.7009%200.667969%2012.3327V2.33268ZM4.66602%204.68301C4.30703%204.68301%204.01602%204.97402%204.01602%205.33301C4.01602%205.69199%204.30703%205.98301%204.66602%205.98301H6.66602C7.025%205.98301%207.31602%205.69199%207.31602%205.33301C7.31602%204.97402%207.025%204.68301%206.66602%204.68301H4.66602ZM4.01602%208C4.01602%207.64102%204.30703%207.35%204.66602%207.35H5.33268C5.69167%207.35%205.98268%207.64102%205.98268%208C5.98268%208.35898%205.69167%208.65%205.33268%208.65H4.66602C4.30703%208.65%204.01602%208.35898%204.01602%208ZM9.96546%204.07071C10.1494%204.16269%2010.2723%204.32824%2010.3162%204.51387L11.8993%207.68006C11.9103%207.69947%2011.9203%207.71951%2011.9293%207.7401L12.5807%209.04297C12.7413%209.36406%2012.6111%209.75449%2012.29%209.91504C11.969%2010.0756%2011.5785%209.94543%2011.418%209.62435L10.9308%208.65H8.42117L7.93027%209.6318C7.76561%209.96112%207.36516%2010.0946%207.03584%209.92994C6.70652%209.76528%206.57304%209.36484%206.7377%209.03552L9.07103%204.36885C9.23569%204.03953%209.63614%203.90605%209.96546%204.07071ZM9.07117%207.35H10.2808L9.67598%206.14037L9.07117%207.35Z'%20fill='currentColor'/%3e%3c/svg%3e",AD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.33327%200.682617C2.60609%200.682617%202.0166%201.27211%202.0166%201.99928V13.9993C2.0166%2014.7265%202.6061%2015.316%203.33327%2015.316H6.99994C7.35892%2015.316%207.64994%2015.0249%207.64994%2014.666C7.64994%2014.307%207.35892%2014.016%206.99994%2014.016H3.33327C3.32976%2014.016%203.32698%2014.0149%203.32698%2014.0149C3.32698%2014.0149%203.32346%2014.013%203.32148%2014.0111C3.3195%2014.0091%203.31764%2014.0056%203.31764%2014.0056C3.31764%2014.0056%203.3166%2014.0028%203.3166%2013.9993V1.99928C3.3166%201.99578%203.31764%201.993%203.31764%201.993C3.31764%201.993%203.3195%201.98948%203.32148%201.9875C3.32346%201.98552%203.32698%201.98366%203.32698%201.98366C3.32698%201.98366%203.32977%201.98262%203.33327%201.98262H12.6666C12.6701%201.98262%2012.6729%201.98366%2012.6729%201.98366C12.6729%201.98366%2012.6764%201.98552%2012.6784%201.9875C12.6804%201.98948%2012.6822%201.99299%2012.6822%201.99299C12.6822%201.99299%2012.6833%201.99578%2012.6833%201.99928V8.99928C12.6833%209.35827%2012.9743%209.64928%2013.3333%209.64928C13.6923%209.64928%2013.9833%209.35827%2013.9833%208.99928V1.99928C13.9833%201.27212%2013.3938%200.682617%2012.6666%200.682617H3.33327ZM5.6666%203.34961C5.30762%203.34961%205.0166%203.64062%205.0166%203.99961C5.0166%204.35859%205.30762%204.64961%205.6666%204.64961H10.3333C10.6923%204.64961%2010.9833%204.35859%2010.9833%203.99961C10.9833%203.64062%2010.6923%203.34961%2010.3333%203.34961H5.6666ZM5.6666%206.0166C5.30762%206.0166%205.0166%206.30762%205.0166%206.6666C5.0166%207.02559%205.30762%207.3166%205.6666%207.3166H10.3333C10.6923%207.3166%2010.9833%207.02559%2010.9833%206.6666C10.9833%206.30762%2010.6923%206.0166%2010.3333%206.0166H5.6666ZM5.6666%208.68262C5.30762%208.68262%205.0166%208.97363%205.0166%209.33262C5.0166%209.6916%205.30762%209.98262%205.6666%209.98262H7.6666C8.02559%209.98262%208.3166%209.6916%208.3166%209.33262C8.3166%208.97363%208.02559%208.68262%207.6666%208.68262H5.6666ZM8.34991%2012.3333C8.34991%2011.0538%209.38713%2010.0166%2010.6666%2010.0166C11.946%2010.0166%2012.9832%2011.0538%2012.9832%2012.3333C12.9832%2012.7364%2012.8799%2013.1159%2012.6987%2013.4462L13.4595%2014.207C13.7134%2014.4608%2013.7134%2014.8724%2013.4595%2015.1262C13.2057%2015.3801%2012.7941%2015.3801%2012.5403%2015.1262L11.7795%2014.3654C11.4492%2014.5466%2011.0697%2014.6499%2010.6666%2014.6499C9.38713%2014.6499%208.34991%2013.6127%208.34991%2012.3333ZM10.6666%2013.3478C11.2268%2013.3478%2011.6808%2012.8937%2011.6808%2012.3336C11.6808%2011.7734%2011.2268%2011.3193%2010.6666%2011.3193C10.1065%2011.3193%209.6524%2011.7734%209.6524%2012.3336C9.6524%2012.8937%2010.1065%2013.3478%2010.6666%2013.3478Z'%20fill='currentColor'/%3e%3c/svg%3e",ND="/assets/img/finance-AYSdNN-b.svg",TD="/assets/img/gemini-BwEISQmU.svg",PD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%232487FF'/%3e%3cpath%20d='M20.997%2010.2472L30.3226%2017.7081C30.4137%2017.7812%2030.4799%2017.8808%2030.512%2017.9931C30.5441%2018.1055%2030.5406%2018.225%2030.5019%2018.3353C30.4632%2018.4455%2030.3912%2018.541%2030.2959%2018.6086C30.2006%2018.6762%2030.0867%2018.7126%2029.9698%2018.7127H27.6283V28.3069H29.6036C29.8281%2028.3069%2030.0434%2028.3961%2030.2022%2028.5548C30.3609%2028.7136%2030.4501%2028.9289%2030.4501%2029.1535C30.4501%2029.378%2030.3609%2029.5933%2030.2022%2029.7521C30.0434%2029.9108%2029.8281%2030%2029.6036%2030H10.9795C10.7549%2030%2010.5396%2029.9108%2010.3809%2029.7521C10.2221%2029.5933%2010.1329%2029.378%2010.1329%2029.1535C10.1329%2028.9289%2010.2221%2028.7136%2010.3809%2028.5548C10.5396%2028.3961%2010.7549%2028.3069%2010.9795%2028.3069H12.9547V18.7127H10.6126C10.4667%2018.7125%2010.3266%2018.6559%2010.2215%2018.5546L10.1724%2018.501C10.1261%2018.4432%2010.0916%2018.3767%2010.0709%2018.3055C10.0503%2018.2343%2010.0439%2018.1597%2010.052%2018.086C10.0602%2018.0123%2010.0828%2017.941%2010.1186%2017.876C10.1543%2017.8111%2010.2026%2017.7538%2010.2605%2017.7075L19.5866%2010.2472C19.7867%2010.0872%2020.0353%2010%2020.2915%2010C20.5477%2010%2020.7963%2010.0872%2020.9964%2010.2472H20.997ZM23.1133%2025.4851H17.4697C17.32%2025.4851%2017.1764%2025.5445%2017.0706%2025.6504C16.9648%2025.7562%2016.9053%2025.8998%2016.9053%2026.0494C16.9053%2026.1991%2016.9648%2026.3427%2017.0706%2026.4485C17.1764%2026.5543%2017.32%2026.6138%2017.4697%2026.6138H23.1133C23.263%2026.6138%2023.4066%2026.5543%2023.5124%2026.4485C23.6182%2026.3427%2023.6777%2026.1991%2023.6777%2026.0494C23.6777%2025.8998%2023.6182%2025.7562%2023.5124%2025.6504C23.4066%2025.5445%2023.263%2025.4851%2023.1133%2025.4851ZM20.6104%2015.2949C20.4869%2015.2103%2020.3349%2015.1783%2020.1878%2015.2058C20.0406%2015.2333%2019.9105%2015.3181%2019.8259%2015.4416L18.8129%2016.9202C18.7394%2017.0271%2018.6314%2017.1054%2018.507%2017.142L16.7874%2017.6488C16.6993%2017.6747%2016.6189%2017.7217%2016.5531%2017.7856C16.4873%2017.8496%2016.4381%2017.9287%2016.4097%2018.0159C16.3814%2018.1032%2016.3747%2018.1961%2016.3904%2018.2865C16.406%2018.377%2016.4435%2018.4622%2016.4995%2018.5349L17.5927%2019.9548C17.6719%2020.0578%2017.7132%2020.185%2017.7095%2020.3149L17.6604%2022.1068C17.6579%2022.1985%2017.6777%2022.2894%2017.7182%2022.3717C17.7587%2022.454%2017.8186%2022.5252%2017.8928%2022.5791C17.967%2022.633%2018.0533%2022.668%2018.1441%2022.6811C18.2348%2022.6942%2018.3274%2022.685%2018.4139%2022.6542L20.1024%2022.0532C20.2247%2022.0097%2020.3583%2022.0097%2020.4806%2022.0532L22.1692%2022.6536C22.2556%2022.6844%2022.3482%2022.6936%2022.439%2022.6806C22.5297%2022.6675%2022.616%2022.6324%2022.6902%2022.5785C22.7644%2022.5246%2022.8243%2022.4534%2022.8648%2022.3711C22.9053%2022.2888%2022.9251%2022.1979%2022.9226%2022.1062L22.8735%2020.3149C22.8698%2020.185%2022.9111%2020.0578%2022.9903%2019.9548L24.0835%2018.5343C24.1394%2018.4617%2024.1768%2018.3764%2024.1923%2018.2861C24.2079%2018.1957%2024.2012%2018.1029%2024.1729%2018.0157C24.1446%2017.9285%2024.0954%2017.8496%2024.0297%2017.7856C23.9639%2017.7217%2023.8836%2017.6747%2023.7957%2017.6488L22.076%2017.142C21.9515%2017.1053%2021.8435%2017.0268%2021.7701%2016.9197L20.7571%2015.441C20.7176%2015.3837%2020.6679%2015.3341%2020.6104%2015.2949Z'%20fill='%23EBF4FF'/%3e%3c/svg%3e",kD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M2.66669%2013.3335C2.66669%2012.0002%202.66669%203.3335%202.66669%203.3335C2.66669%202.22893%203.62182%201.3335%204.80002%201.3335H13.3334V12.0002C13.3334%2012.0002%206.66052%2012.0002%204.80002%2012.0002C3.12077%2012.0002%202.66669%2012.2282%202.66669%2013.3335Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20clip-rule='evenodd'%20d='M4.00002%2014.6667H13.3334V12H4.00002C3.26364%2012%202.66669%2012.597%202.66669%2013.3333C2.66669%2014.0697%203.26364%2014.6667%204.00002%2014.6667Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",LD="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.60018%204.69531C6.40179%204.69531%206.21426%204.78591%206.09096%204.94133L5.15763%206.1178C4.9669%206.35822%204.9703%206.69928%205.16579%206.93584L7.49913%209.75937C7.62261%209.9088%207.80634%209.99531%208.00018%209.99531C8.19402%209.99531%208.37775%209.9088%208.50123%209.75937L10.8346%206.93584C11.0301%206.69928%2011.0335%206.35822%2010.8427%206.1178L9.9094%204.94133C9.7861%204.78591%209.59857%204.69531%209.40018%204.69531H6.60018ZM6.50317%206.51343L6.91422%205.99531H9.08614L9.49718%206.51343L8.00018%208.32494L6.50317%206.51343Z'%20fill='%232475FC'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.33335%201.34961C0.974365%201.34961%200.68335%201.64062%200.68335%201.99961V11.9996C0.68335%2012.3586%200.974365%2012.6496%201.33335%2012.6496H6.06411L7.5404%2014.1259C7.79424%2014.3797%208.2058%2014.3797%208.45964%2014.1259L9.93592%2012.6496H14.6667C15.0257%2012.6496%2015.3167%2012.3586%2015.3167%2011.9996V1.99961C15.3167%201.64062%2015.0257%201.34961%2014.6667%201.34961H1.33335ZM1.98335%2011.3496V2.64961H14.0167V11.3496H9.66668C9.49429%2011.3496%209.32896%2011.4181%209.20706%2011.54L8.00002%2012.747L6.79297%2011.54C6.67107%2011.4181%206.50574%2011.3496%206.33335%2011.3496H1.98335Z'%20fill='%232475FC'/%3e%3c/svg%3e",DD="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.60018%204.69531C6.40179%204.69531%206.21426%204.78591%206.09096%204.94133L5.15763%206.1178C4.9669%206.35822%204.9703%206.69928%205.16579%206.93584L7.49913%209.75937C7.62261%209.9088%207.80634%209.99531%208.00018%209.99531C8.19402%209.99531%208.37775%209.9088%208.50123%209.75937L10.8346%206.93584C11.0301%206.69928%2011.0335%206.35822%2010.8427%206.1178L9.9094%204.94133C9.7861%204.78591%209.59857%204.69531%209.40018%204.69531H6.60018ZM6.50317%206.51343L6.91422%205.99531H9.08614L9.49718%206.51343L8.00018%208.32494L6.50317%206.51343Z'%20fill='%23262626'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.33335%201.34961C0.974365%201.34961%200.68335%201.64062%200.68335%201.99961V11.9996C0.68335%2012.3586%200.974365%2012.6496%201.33335%2012.6496H6.06411L7.5404%2014.1259C7.79424%2014.3797%208.2058%2014.3797%208.45964%2014.1259L9.93592%2012.6496H14.6667C15.0257%2012.6496%2015.3167%2012.3586%2015.3167%2011.9996V1.99961C15.3167%201.64062%2015.0257%201.34961%2014.6667%201.34961H1.33335ZM1.98335%2011.3496V2.64961H14.0167V11.3496H9.66668C9.49429%2011.3496%209.32896%2011.4181%209.20706%2011.54L8.00002%2012.747L6.79297%2011.54C6.67107%2011.4181%206.50574%2011.3496%206.33335%2011.3496H1.98335Z'%20fill='%23262626'/%3e%3c/svg%3e",RD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2373F'/%3e%3cpath%20d='M13.7917%2015.8333C14.436%2015.8333%2014.9583%2015.311%2014.9583%2014.6667C14.9583%2014.0223%2014.436%2013.5%2013.7917%2013.5C13.1473%2013.5%2012.625%2014.0223%2012.625%2014.6667C12.625%2015.311%2013.1473%2015.8333%2013.7917%2015.8333Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.20817%206.50008C6.85249%206.50008%207.37484%205.97774%207.37484%205.33341C7.37484%204.68908%206.85249%204.16675%206.20817%204.16675C5.56384%204.16675%205.0415%204.68908%205.0415%205.33341C5.0415%205.97774%205.56384%206.50008%206.20817%206.50008Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.20817%2015.8333C6.85249%2015.8333%207.37484%2015.311%207.37484%2014.6667C7.37484%2014.0223%206.85249%2013.5%206.20817%2013.5C5.56384%2013.5%205.0415%2014.0223%205.0415%2014.6667C5.0415%2015.311%205.56384%2015.8333%206.20817%2015.8333Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.2085%206.5V13.5'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%205.91675H12.625C13.2693%205.91675%2013.7917%206.43909%2013.7917%207.08341V13.5001'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.75%207.66675L10%205.91675L11.75%204.16675'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ID="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%231505hnxd3__clip0_717_7570)'%3e%3cpath%20d='M14.6667%208.00016C14.6667%2011.6821%2011.682%2014.6668%208.00005%2014.6668C6.00889%2014.6668%201.33337%2014.6668%201.33337%2014.6668C1.33337%2014.6668%201.33337%209.6909%201.33337%208.00016C1.33337%204.31826%204.31815%201.3335%208.00005%201.3335C11.682%201.3335%2014.6667%204.31826%2014.6667%208.00016Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.33028%207.80445H5.3211C5.28217%207.80445%205.24483%207.7894%205.21731%207.7626C5.18978%207.73581%205.17431%207.69948%205.17431%207.66159V5.57143C5.17431%205.25584%204.91145%205%204.58716%205C4.26288%205%204%205.25584%204%205.57143V11.4286C4%2011.7442%204.26288%2012%204.58716%2012C4.91145%2012%205.17431%2011.7442%205.17431%2011.4286V9.09016C5.17431%209.05227%205.18978%209.01594%205.21731%208.98915C5.24483%208.96235%205.28217%208.9473%205.3211%208.9473H8.33028C8.36921%208.9473%208.40654%208.96235%208.43407%208.98915C8.4616%209.01594%208.47706%209.05227%208.47706%209.09016V11.4286C8.47706%2011.7442%208.73994%2012%209.06422%2012C9.38851%2012%209.65138%2011.7442%209.65138%2011.4286V5.57143C9.65138%205.25584%209.38851%205%209.06422%205C8.73994%205%208.47706%205.25584%208.47706%205.57143V7.66159C8.47706%207.69948%208.4616%207.73581%208.43407%207.7626C8.40654%207.7894%208.36921%207.80445%208.33028%207.80445Z'%20fill='currentColor'/%3e%3cpath%20d='M12%207.57143C12%207.25584%2011.7371%207%2011.4128%207C11.0886%207%2010.8257%207.25584%2010.8257%207.57143V11.4286C10.8257%2011.7442%2011.0886%2012%2011.4128%2012C11.7371%2012%2012%2011.7442%2012%2011.4286V7.57143Z'%20fill='currentColor'/%3e%3cpath%20d='M12%205.57143C12%205.25584%2011.7371%205%2011.4128%205C11.0886%205%2010.8257%205.25584%2010.8257%205.57143V6C10.8257%206.31559%2011.0886%206.57143%2011.4128%206.57143C11.7371%206.57143%2012%206.31559%2012%206V5.57143Z'%20fill='currentColor'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='1505hnxd3__clip0_717_7570'%3e%3cpath%20fill='currentColor'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",HD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M28.7445%2015.6937L24.1654%2033.5977C24.1533%2033.6469%2024.1533%2033.6984%2024.1654%2033.7476C24.1834%2033.8217%2024.2261%2033.8873%2024.2866%2033.9337C24.347%2033.9801%2024.4215%2034.0044%2024.4977%2034.0026H33.6513C33.7018%2034.0038%2033.752%2033.9935%2033.7979%2033.9724C33.8439%2033.9514%2033.8844%2033.9202%2033.9166%2033.8812C33.9487%2033.8422%2033.9716%2033.7965%2033.9835%2033.7474C33.9953%2033.6982%2033.9959%2033.6471%2033.9851%2033.5977L29.3843%2015.6937C29.3684%2015.6425%2029.3405%2015.5959%2029.3028%2015.5576C29.2652%2015.5194%2029.219%2015.4907%2029.1681%2015.4739C29.1171%2015.4572%2029.0629%2015.4528%2029.01%2015.4612C28.957%2015.4696%2028.9068%2015.4905%2028.8635%2015.5222C28.8058%2015.5641%2028.7634%2015.6238%2028.743%2015.6922M3.54916%2019.7505L0.00236171%2033.5977C-0.00849118%2033.6471%20-0.00791318%2033.6984%200.00405171%2033.7475C0.0160166%2033.7967%200.0390523%2033.8425%200.0714016%2033.8814C0.103751%2033.9203%200.144559%2033.9513%200.190714%2033.9721C0.236868%2033.9928%200.28715%2034.0027%200.337723%2034.0011H7.40195C7.4527%2034.0023%207.50308%2033.9921%207.54937%2033.9713C7.59565%2033.9504%207.63664%2033.9194%207.66931%2033.8805C7.70094%2033.8418%207.72316%2033.7963%207.73422%2033.7476C7.74684%2033.6985%207.74737%2033.6471%207.73576%2033.5977L4.18588%2019.7505C4.16518%2019.6827%204.12284%2019.6236%204.06534%2019.5821C4.00823%2019.5406%203.93964%2019.5179%203.86906%2019.5172C3.7969%2019.5169%203.72654%2019.5397%203.66816%2019.5821C3.61123%2019.6238%203.56945%2019.6829%203.54916%2019.7505Z'%20fill='%2300E5E5'/%3e%3cpath%20d='M9.80218%208.28333L3.34222%2033.5946C3.33117%2033.6422%203.33099%2033.6916%203.3417%2033.7392C3.3524%2033.7869%203.37371%2033.8315%203.40404%2033.8697C3.43419%2033.9089%203.47277%2033.9407%203.51691%2033.9629C3.56106%2033.9851%203.60963%2033.9971%203.65904%2033.998H16.5836C16.6339%2033.9993%2016.6839%2033.9892%2016.7297%2033.9684C16.7756%2033.9477%2016.8162%2033.9168%2016.8484%2033.8782C16.8807%2033.8395%2016.9038%2033.7941%2016.916%2033.7452C16.9282%2033.6964%2016.9292%2033.6454%2016.9189%2033.5962L10.4404%208.28024C10.4197%208.21243%2010.3774%208.15326%2010.3199%208.11178C10.2624%208.06999%2010.1932%208.04729%2010.1221%208.04688C10.0505%208.04697%209.98068%208.06969%209.92272%208.11178C9.86495%208.15366%209.82258%208.2134%209.80218%208.28178'%20fill='%23006EFF'/%3e%3cpath%20d='M20.9478%200.233362C20.9271%200.165551%2020.8848%200.106385%2020.8273%200.0649087C20.7693%200.0228113%2020.6995%209.46324e-05%2020.6279%200C20.5568%200.000418756%2020.4876%200.0231196%2020.4301%200.0649087C20.3726%200.106385%2020.3303%200.165551%2020.3096%200.233362L11.4789%2033.5949C11.4683%2033.6441%2011.4691%2033.695%2011.4811%2033.7438C11.4931%2033.7927%2011.516%2033.8382%2011.5482%2033.8769C11.5803%2033.9156%2011.6208%2033.9464%2011.6667%2033.9672C11.7125%2033.988%2011.7624%2033.998%2011.8127%2033.9967H29.4617C29.5122%2033.9977%2029.5622%2033.9874%2029.6082%2033.9665C29.6542%2033.9457%2029.695%2033.9148%2029.7275%2033.8761C29.7596%2033.8374%2029.7829%2033.792%2029.7955%2033.7432C29.8067%2033.6944%2029.8067%2033.6437%2029.7955%2033.5949L20.9478%200.233362Z'%20fill='%23006EFF'/%3e%3cpath%20d='M14.46%2011.9634L8.85777%2033.5935C8.84549%2033.6427%208.8451%2033.6942%208.85666%2033.7437C8.86822%2033.7931%208.89138%2033.8391%208.92423%2033.8778C8.95652%2033.9172%208.9974%2033.9487%209.04375%2033.9699C9.09009%2033.991%209.14066%2034.0013%209.19159%2033.9999H20.3698C20.421%2034.0009%2020.4718%2033.9903%2020.5184%2033.9689C20.565%2033.9475%2020.6061%2033.9158%2020.6387%2033.8763C20.6702%2033.8371%2020.6925%2033.7913%2020.704%2033.7424C20.7155%2033.6935%2020.7159%2033.6426%2020.7051%2033.5935L15.0983%2011.9619C15.0773%2011.8946%2015.035%2011.836%2014.9777%2011.795C14.92%2011.7523%2014.8502%2011.7291%2014.7784%2011.7285C14.7071%2011.7294%2014.6379%2011.7526%2014.5806%2011.795C14.5233%2011.836%2014.481%2011.8946%2014.46%2011.9619'%20fill='%2300E5E5'/%3e%3c/svg%3e",BD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2014%2014'%20class='design-iconfont'%3e%3cpath%20d='M11.375%201.75H2.625C2.14175%201.75%201.75%202.14175%201.75%202.625V11.375C1.75%2011.8583%202.14175%2012.25%202.625%2012.25H11.375C11.8583%2012.25%2012.25%2011.8583%2012.25%2011.375V2.625C12.25%202.14175%2011.8583%201.75%2011.375%201.75Z'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.25008%206.70964C6.05549%206.70964%206.70841%206.05671%206.70841%205.2513C6.70841%204.44589%206.05549%203.79297%205.25008%203.79297C4.44467%203.79297%203.79175%204.44589%203.79175%205.2513C3.79175%206.05671%204.44467%206.70964%205.25008%206.70964Z'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.25%2010.4987L9.04167%207.58203L6.125%2010.207L4.08333%208.45703L1.75%2010.207'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",jD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%233hri3uy6a__clip0_717_7539)'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linejoin='round'%3e%3cpath%20d='M7.99998%201.3335L5.99998%203.3335H3.33331V6.00016L1.33331%208.00016L3.33331%2010.0002V12.6668H5.99998L7.99998%2014.6668L9.99998%2012.6668H12.6666V10.0002L14.6666%208.00016L12.6666%206.00016V3.3335H9.99998L7.99998%201.3335Z'/%3e%3cpath%20d='M8%2010C9.10457%2010%2010%209.10457%2010%208C10%206.89543%209.10457%206%208%206C6.89543%206%206%206.89543%206%208C6%209.10457%206.89543%2010%208%2010Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='3hri3uy6a__clip0_717_7539'%3e%3cpath%20fill='currentColor'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",$D="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%3e%3cg%20clip-path='url(%2385vsyxr4s__clip0_764_5339)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.52862%200.861766C7.78897%200.601417%208.21108%200.601417%208.47143%200.861766L10.2762%202.6665H12.6667C13.0349%202.6665%2013.3334%202.96498%2013.3334%203.33317V5.72369L15.1381%207.52843C15.3984%207.78878%2015.3984%208.21089%2015.1381%208.47124L13.3334%2010.276V12.6665C13.3334%2013.0347%2013.0349%2013.3332%2012.6667%2013.3332H10.2762L8.47143%2015.1379C8.21108%2015.3983%207.78897%2015.3983%207.52862%2015.1379L5.72388%2013.3332H3.33335C2.96516%2013.3332%202.66669%2013.0347%202.66669%2012.6665V10.276L0.861949%208.47124C0.6016%208.21089%200.6016%207.78878%200.861949%207.52843L2.66669%205.72369V3.33317C2.66669%202.96498%202.96516%202.6665%203.33335%202.6665H5.72388L7.52862%200.861766ZM5.33335%208.00016C5.33335%206.52741%206.52726%205.3335%208.00002%205.3335C9.47278%205.3335%2010.6667%206.52741%2010.6667%208.00016C10.6667%209.47292%209.47278%2010.6668%208.00002%2010.6668C6.52726%2010.6668%205.33335%209.47292%205.33335%208.00016Z'%20fill='currentColor'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='85vsyxr4s__clip0_764_5339'%3e%3cpath%20fill='%23fff'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",FD="/assets/img/jina-Ckh08GbV.svg",VD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2338F'/%3e%3cpath%20d='M4.75%206.5893L6.53571%208.01787L9.77283%204.75023'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.25%2012.2498L15.25%2015.2498'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.25%2012.2498L12.25%2015.2498'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.781%205.21899L5.21862%2014.7813'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",zD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2302BFBF'/%3e%3cpath%20d='M5.0415%2013.7916C5.0415%2011.5448%205.0415%206.20825%205.0415%206.20825C5.0415%205.24175%205.82501%204.45825%206.7915%204.45825H13.2082V12.0416C13.2082%2012.0416%208.31768%2012.0416%206.7915%2012.0416C5.829%2012.0416%205.0415%2012.8245%205.0415%2013.7916Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.2082%2012.0415C13.2082%2012.0415%207.128%2012.0415%206.7915%2012.0415C5.82501%2012.0415%205.0415%2012.825%205.0415%2013.7915C5.0415%2014.758%205.82501%2015.5415%206.7915%2015.5415C7.43582%2015.5415%2010.5469%2015.5415%2014.9582%2015.5415V5.0415'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.0835%2013.7915H12.9168'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",WD="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%232475FC'/%3e%3cg%20filter='url(%23filter0_d_1165_6566)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16%2011.5H10.5V26H17C18.6568%2026%2020%2027.3432%2020%2029C20%2027.3432%2021.3432%2026%2023%2026H29.5V11.5H24C21.7908%2011.5%2020%2013.2908%2020%2015.5C20%2013.2908%2018.2092%2011.5%2016%2011.5Z'%20fill='url(%23paint0_linear_1165_6566)'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.5%2011.5C9.5%2010.9477%209.94772%2010.5%2010.5%2010.5H16C17.6356%2010.5%2019.0878%2011.2853%2020%2012.4995C20.9122%2011.2853%2022.3644%2010.5%2024%2010.5H29.5C30.0523%2010.5%2030.5%2010.9477%2030.5%2011.5V26C30.5%2026.5523%2030.0523%2027%2029.5%2027H23C21.8954%2027%2021%2027.8954%2021%2029C21%2029.5523%2020.5523%2030%2020%2030C19.4477%2030%2019%2029.5523%2019%2029C19%2027.8954%2018.1046%2027%2017%2027H10.5C9.94772%2027%209.5%2026.5523%209.5%2026V11.5ZM20%2026.3542C20.7329%2025.5238%2021.8053%2025%2023%2025H28.5V12.5H24C22.3431%2012.5%2021%2013.8431%2021%2015.5C21%2016.0523%2020.5523%2016.5%2020%2016.5C19.4477%2016.5%2019%2016.0523%2019%2015.5C19%2013.8431%2017.6569%2012.5%2016%2012.5H11.5V25H17C18.1947%2025%2019.2671%2025.5238%2020%2026.3542Z'%20fill='url(%23paint1_linear_1165_6566)'/%3e%3c/g%3e%3cpath%20d='M22.0001%2022L24%2019L22.0001%2016H18L16%2019L18%2022H22.0001Z'%20stroke='%232475FC'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cdefs%3e%3cfilter%20id='filter0_d_1165_6566'%20x='5.5'%20y='8.5'%20width='29'%20height='27.5'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='2'/%3e%3cfeGaussianBlur%20stdDeviation='2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.070708%200%200%200%200%200.175495%200%200%200%200%200.348845%200%200%200%200.32%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1165_6566'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_1165_6566'%20result='shape'/%3e%3c/filter%3e%3clinearGradient%20id='paint0_linear_1165_6566'%20x1='9.5'%20y1='20.25'%20x2='30.5'%20y2='20.25'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EBF3FF'/%3e%3cstop%20offset='1'%20stop-color='%23C2D9FF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_1165_6566'%20x1='9.5'%20y1='20.25'%20x2='30.5'%20y2='20.25'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EBF3FF'/%3e%3cstop%20offset='1'%20stop-color='%23C2D9FF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",UD="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%23A1A7B3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16%2011.5H10.5V26H17C18.6568%2026%2020%2027.3432%2020%2029C20%2027.3432%2021.3432%2026%2023%2026H29.5V11.5H24C21.7908%2011.5%2020%2013.2908%2020%2015.5C20%2013.2908%2018.2092%2011.5%2016%2011.5Z'%20fill='%233A4559'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.5%2011.5C9.5%2010.9477%209.94772%2010.5%2010.5%2010.5H16C17.6356%2010.5%2019.0878%2011.2853%2020%2012.4995C20.9122%2011.2853%2022.3644%2010.5%2024%2010.5H29.5C30.0523%2010.5%2030.5%2010.9477%2030.5%2011.5V26C30.5%2026.5523%2030.0523%2027%2029.5%2027H23C21.8954%2027%2021%2027.8954%2021%2029C21%2029.5523%2020.5523%2030%2020%2030C19.4477%2030%2019%2029.5523%2019%2029C19%2027.8954%2018.1046%2027%2017%2027H10.5C9.94772%2027%209.5%2026.5523%209.5%2026V11.5ZM20%2026.3542C20.7329%2025.5238%2021.8053%2025%2023%2025H28.5V12.5H24C22.3431%2012.5%2021%2013.8431%2021%2015.5C21%2016.0523%2020.5523%2016.5%2020%2016.5C19.4477%2016.5%2019%2016.0523%2019%2015.5C19%2013.8431%2017.6569%2012.5%2016%2012.5H11.5V25H17C18.1947%2025%2019.2671%2025.5238%2020%2026.3542Z'%20fill='%233A4559'/%3e%3cpath%20d='M22.0001%2022L24%2019L22.0001%2016H18L16%2019L18%2022H22.0001Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",GD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%234B73FF'/%3e%3cpath%20d='M28.4251%2029.1895C27.8796%2029.1895%2027.7214%2028.4858%2027.7214%2028.4858C27.7214%2028.0003%2027.5687%2027.7821%2027.0177%2027.7821H12.2072C11.6617%2027.7821%2011.5035%2027.9348%2011.5035%2028.4858C11.5035%2028.4858%2011.3835%2029.1895%2010.7998%2029.1895C9.44148%2029.1895%208.68323%2030.6078%208.68323%2032.0098H30.5417C30.5417%2029.8932%2028.4251%2029.1895%2028.4251%2029.1895ZM22.5991%2017.412L25.5448%2014.4663C25.6092%2014.5309%2025.6857%2014.5822%2025.77%2014.6172C25.8542%2014.6523%2025.9445%2014.6703%2026.0358%2014.6703C26.127%2014.6703%2026.2174%2014.6523%2026.3016%2014.6172C26.3859%2014.5822%2026.4624%2014.5309%2026.5267%2014.4663C26.655%2014.334%2026.7268%2014.1569%2026.7268%2013.9726C26.7268%2013.7883%2026.655%2013.6112%2026.5267%2013.4789L21.3008%208.20933C21.1694%208.08137%2020.9932%208.00977%2020.8098%208.00977C20.6264%208.00977%2020.4503%208.08137%2020.3189%208.20933C20.2542%208.2737%2020.2029%208.3502%2020.1679%208.43446C20.1329%208.51871%2020.1149%208.60905%2020.1149%208.70028C20.1149%208.79152%2020.1329%208.88185%2020.1679%208.96611C20.2029%209.05036%2020.2542%209.12687%2020.3189%209.19124L12.9545%2016.5501C12.8231%2016.4222%2012.647%2016.3506%2012.4636%2016.3506C12.2802%2016.3506%2012.104%2016.4222%2011.9726%2016.5501V16.5774C11.908%2016.6418%2011.8567%2016.7183%2011.8217%2016.8025C11.7867%2016.8868%2011.7686%2016.9771%2011.7686%2017.0683C11.7686%2017.1596%2011.7867%2017.2499%2011.8217%2017.3342C11.8567%2017.4184%2011.908%2017.4949%2011.9726%2017.5593L17.2204%2022.8125C17.2848%2022.8772%2017.3613%2022.9285%2017.4455%2022.9635C17.5298%2022.9985%2017.6201%2023.0165%2017.7114%2023.0165C17.8026%2023.0165%2017.8929%2022.9985%2017.9772%2022.9635C18.0614%2022.9285%2018.1379%2022.8772%2018.2023%2022.8125L18.2296%2022.7853C18.3575%2022.6539%2018.4291%2022.4777%2018.4291%2022.2943C18.4291%2022.1109%2018.3575%2021.9347%2018.2296%2021.8033L21.1753%2018.8631L28.8124%2027.0457C29.0786%2027.3119%2029.4397%2027.4614%2029.8161%2027.4614C30.1926%2027.4614%2030.5537%2027.3119%2030.8199%2027.0457C31.0861%2026.7795%2031.2356%2026.4184%2031.2356%2026.0419C31.2356%2025.6655%2031.0861%2025.3044%2030.8199%2025.0382L22.5991%2017.412Z'%20fill='%23EBEFFF'/%3e%3c/svg%3e",XD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1%202.83478C1%202.37374%201.37374%202%201.83478%202H14.3565C14.8176%202%2015.1913%202.37374%2015.1913%202.83478V10.3478C15.1913%2010.8089%2014.8176%2011.1826%2014.3565%2011.1826H8.93043V12.3304H13.1043C13.5654%2012.3304%2013.9391%2012.7042%2013.9391%2013.1652C13.9391%2013.6263%2013.5654%2014%2013.1043%2014H3.08696C2.62592%2014%202.25217%2013.6263%202.25217%2013.1652C2.25217%2012.7042%202.62592%2012.3304%203.08696%2012.3304H7.26087V11.1826H1.83478C1.37374%2011.1826%201%2010.8089%201%2010.3478V2.83478ZM6.18159%203.49668C6.50759%203.82268%206.50759%204.35123%206.18159%204.67724L4.26752%206.5913L6.18159%208.50537C6.50759%208.83137%206.50759%209.35993%206.18159%209.68593C5.85558%2010.0119%205.32703%2010.0119%205.00102%209.68593L2.49668%207.18158C2.17067%206.85558%202.17067%206.32703%202.49668%206.00102L5.00102%203.49668C5.32703%203.17067%205.85558%203.17067%206.18159%203.49668ZM10.0097%204.67724C9.68372%204.35123%209.68372%203.82268%2010.0097%203.49668C10.3357%203.17067%2010.8643%203.17067%2011.1903%203.49668L13.6946%206.00102C14.0206%206.32703%2014.0206%206.85558%2013.6946%207.18158L11.1903%209.68593C10.8643%2010.0119%2010.3357%2010.0119%2010.0097%209.68593C9.68372%209.35993%209.68372%208.83137%2010.0097%208.50537L11.9238%206.5913L10.0097%204.67724Z'%20fill='currentColor'/%3e%3c/svg%3e",YD="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.2%2010.2V7.80001C13.2%206.80589%2012.3941%206%2011.4%206L9%2011.4V18H15.972C16.5704%2018.0068%2017.0823%2017.5716%2017.172%2016.98L18%2011.58C18.0528%2011.2319%2017.9501%2010.8782%2017.7191%2010.6125C17.4881%2010.3468%2017.1521%2010.196%2016.8%2010.2H13.2Z'%20fill='%232475FC'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%2011.3332H7.398C6.69511%2011.3208%206.09423%2011.903%206%2012.5996V16.7996C6.09423%2017.4963%206.69511%2018.0121%207.398%2017.9996H9V11.3332Z'%20fill='%232475FC'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3c/svg%3e",ZD="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.2%2010.2V7.80001C13.2%206.80589%2012.3941%206%2011.4%206L9%2011.4V18H15.972C16.5704%2018.0068%2017.0823%2017.5716%2017.172%2016.98L18%2011.58C18.0528%2011.2319%2017.9501%2010.8782%2017.7191%2010.6125C17.4881%2010.3468%2017.1521%2010.196%2016.8%2010.2H13.2Z'%20stroke='%237A8699'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%2011.3332H7.398C6.69511%2011.3208%206.09423%2011.903%206%2012.5996V16.7996C6.09423%2017.4963%206.69511%2018.0121%207.398%2017.9996H9V11.3332Z'%20stroke='%237A8699'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3c/svg%3e",KD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M17%2034C26.3889%2034%2034%2026.3889%2034%2017C34%207.6111%2026.3889%200%2017%200C7.6111%200%200%207.6111%200%2017C0%2026.3889%207.6111%2034%2017%2034Z'%20fill='%23003425'/%3e%3cpath%20d='M25.6199%2020.4704C25.6199%2020.1519%2025.4934%2019.8465%2025.2682%2019.6213C25.043%2019.3961%2024.7375%2019.2695%2024.419%2019.2695C24.1005%2019.2695%2023.7951%2019.3961%2023.5699%2019.6213C23.3447%2019.8465%2023.2181%2020.1519%2023.2181%2020.4704V26.6619C23.2181%2026.9804%2023.3447%2027.2859%2023.5699%2027.5111C23.7951%2027.7363%2024.1005%2027.8628%2024.419%2027.8628C24.7375%2027.8628%2025.043%2027.7363%2025.2682%2027.5111C25.4934%2027.2859%2025.6199%2026.9804%2025.6199%2026.6619V20.4704Z'%20fill='%23fff'/%3e%3cpath%20d='M23.9137%207.55569C23.7936%207.4535%2023.6545%207.37597%2023.5044%207.32755C23.3543%207.27912%2023.1961%207.26073%2023.0389%207.27343C22.8817%207.28614%2022.7286%207.32969%2022.5882%207.40159C22.4478%207.4735%2022.323%207.57235%2022.2208%207.6925L15.5098%2015.5838C15.343%2015.7792%2015.2436%2016.0232%2015.2263%2016.2795C15.2168%2016.3402%2015.2119%2016.4019%2015.2119%2016.4653V26.5533C15.2119%2026.8717%2015.3384%2027.1772%2015.5636%2027.4024C15.7889%2027.6276%2016.0943%2027.7541%2016.4128%2027.7541C16.7313%2027.7541%2017.0367%2027.6276%2017.2619%2027.4024C17.4872%2027.1772%2017.6137%2026.8717%2017.6137%2026.5533V16.8167L24.0506%209.24861C24.1527%209.12848%2024.2303%208.98939%2024.2787%208.83929C24.3271%208.68919%2024.3455%208.53102%2024.3328%208.37381C24.3201%208.2166%2024.2766%208.06344%2024.2046%207.92306C24.1327%207.78269%2024.0339%207.65785%2023.9137%207.55569Z'%20fill='%23fff'/%3e%3cpath%20d='M9.07729%207.0138C8.97731%206.89184%208.85429%206.79076%208.71524%206.71634C8.5762%206.64192%208.42386%206.59561%208.26692%206.58007C8.10999%206.56452%207.95152%206.58004%207.80058%206.62573C7.64964%206.67143%207.50918%206.74641%207.38721%206.84638C7.26525%206.94636%207.16417%207.06939%207.08975%207.20843C7.01533%207.34747%206.96903%207.49981%206.95348%207.65675C6.93793%207.81369%206.95345%207.97215%206.99915%208.12309C7.04484%208.27403%207.11982%208.41449%207.2198%208.53646L11.9749%2014.3369C12.1768%2014.5832%2012.4683%2014.7393%2012.7853%2014.7707C13.1023%2014.8021%2013.4188%2014.7063%2013.6651%2014.5044C13.9115%2014.3025%2014.0675%2014.011%2014.0989%2013.694C14.1304%2013.377%2014.0346%2013.0606%2013.8327%2012.8142L9.07701%207.0138H9.07729Z'%20fill='%23fff'/%3e%3cpath%20d='M26.0739%2017.2931C26.4632%2017.2931%2026.8366%2017.1385%2027.1119%2016.8632C27.3871%2016.5879%2027.5418%2016.2146%2027.5418%2015.8253C27.5418%2015.436%2027.3871%2015.0626%2027.1119%2014.7873C26.8366%2014.5121%2026.4632%2014.3574%2026.0739%2014.3574C25.6846%2014.3574%2025.3113%2014.5121%2025.036%2014.7873C24.7607%2015.0626%2024.6061%2015.436%2024.6061%2015.8253C24.6061%2016.2146%2024.7607%2016.5879%2025.036%2016.8632C25.3113%2017.1385%2025.6846%2017.2931%2026.0739%2017.2931Z'%20fill='%2300FF25'/%3e%3c/svg%3e",qD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M7.25319%205.45723L10.2999%202.41057C11.187%201.52346%2012.6448%201.543%2013.556%202.45422C14.4673%203.36543%2014.4868%204.8233%2013.5997%205.7104L10.9546%208.3555'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.03249%207.66797L2.38739%2010.3131C1.50025%2011.2002%201.51982%2012.658%202.43102%2013.5693C3.34225%2014.4805%204.80009%2014.5%205.68722%2013.6129L8.73389%2010.5662'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.29688%208.71323C6.38564%207.802%206.36611%206.34416%207.25321%205.45703'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.73376%207.26562C9.64499%208.17686%209.66453%209.63469%208.77743%2010.5218'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",JD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M7.25319%205.45723L10.2999%202.41057C11.187%201.52346%2012.6448%201.543%2013.556%202.45422C14.4673%203.36543%2014.4868%204.8233%2013.5997%205.7104L10.9546%208.3555'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.03249%207.66797L2.38739%2010.3131C1.50025%2011.2002%201.51982%2012.658%202.43102%2013.5693C3.34225%2014.4805%204.80009%2014.5%205.68722%2013.6129L8.73389%2010.5662'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.29688%208.71323C6.38564%207.802%206.36611%206.34416%207.25321%205.45703'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.73376%207.26562C9.64499%208.17686%209.66453%209.63469%208.77743%2010.5218'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",QD="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M8.01777%2015C6.1434%2015%204.3823%2014.2716%203.05647%2012.9502C1.73065%2011.6288%201%209.86992%201%208C1%206.13008%201.73065%204.37119%203.05647%203.04981C4.3823%201.72843%206.1434%201%208.01777%201C9.02157%201%209.99207%201.20654%2010.9004%201.61739C11.2357%201.7684%2011.3867%202.16371%2011.2357%202.49905C11.0847%202.83439%2010.6894%202.98541%2010.3541%202.83439C9.61897%202.50349%208.83281%202.33471%208.01777%202.33471C6.50095%202.33471%205.07297%202.92322%204.00032%203.99365C2.92766%205.06409%202.33693%206.48541%202.33693%207.99778C2.33693%209.51015%202.92766%2010.9337%204.00032%2012.0019C5.07297%2013.0723%206.50095%2013.6608%208.01777%2013.6608C9.43465%2013.6608%2010.7916%2013.139%2011.8376%2012.1885C12.8769%2011.2468%2013.5276%2010.0187%2013.6697%208.63071C13.7075%208.26428%2014.0339%207.99778%2014.4004%208.03331C14.7668%208.07107%2015.0333%208.39753%2014.9978%208.76396C14.8223%2010.4806%2014.0184%2012.0108%2012.7348%2013.1745C11.4423%2014.3537%209.76555%2015%208.01777%2015Z'%20fill='%232475FC'/%3e%3cpath%20d='M14.3205%202.46245C14.0606%202.20039%2013.6387%202.20039%2013.3766%202.46022L7.94673%207.87456L5.59267%205.52717C5.33061%205.26733%204.90866%205.26733%204.64882%205.52939C4.38899%205.79144%204.38899%206.2134%204.65104%206.47323L7.47592%209.29144C7.60695%209.42247%207.77573%209.48687%207.94673%209.48687C8.11773%209.48687%208.28873%209.42247%208.41976%209.29144L14.3182%203.40629C14.5803%203.14423%2014.5803%202.72228%2014.3205%202.46245Z'%20fill='%232475FC'/%3e%3c/svg%3e",eR="/assets/img/manufacture-Y0ZEk7jW.svg",tR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%2300D273'/%3e%3cpath%20d='M27.3451%2012.2343H26.0993V10.3765C26.0993%209.61945%2025.2848%209%2024.2889%209H15.7086C14.7127%209%2013.8979%209.61945%2013.8979%2010.3765V12.2343H12.6521C10.8539%2012.2343%209.38257%2013.7057%209.38257%2015.5039V27.7302C9.38257%2029.5286%2010.8539%2031%2012.6521%2031H27.3451C29.1436%2031%2030.6149%2029.5286%2030.6149%2027.7302V15.5039C30.6149%2013.7057%2029.1436%2012.2343%2027.3451%2012.2343ZM24.4946%2022.7663C24.4938%2023.0551%2024.3787%2023.3319%2024.1745%2023.5361C23.9702%2023.7403%2023.6935%2023.8554%2023.4047%2023.8563H21.8655V25.3963C21.8646%2025.6851%2021.7495%2025.9618%2021.5453%2026.1661C21.3411%2026.3703%2021.0643%2026.4854%2020.7755%2026.4862H19.2228C18.934%2026.4854%2018.6572%2026.3703%2018.453%2026.1661C18.2488%2025.9618%2018.1337%2025.6851%2018.1328%2025.3963V23.8563H16.5928C16.3042%2023.8552%2016.0277%2023.7399%2015.8237%2023.5357C15.6197%2023.3315%2015.5048%2023.055%2015.5039%2022.7663V21.2133C15.5048%2020.9245%2015.6199%2020.6478%2015.8241%2020.4436C16.0283%2020.2393%2016.3051%2020.1242%2016.5939%2020.1234H18.1339V18.5842C18.1347%2018.2954%2018.2498%2018.0186%2018.4541%2017.8144C18.6583%2017.6102%2018.935%2017.4951%2019.2238%2017.4942H20.7758C21.0646%2017.4951%2021.3412%2017.6103%2021.5454%2017.8145C21.7496%2018.0187%2021.8646%2018.2954%2021.8655%2018.5842V20.1244H23.4055C23.694%2020.1255%2023.9704%2020.2405%2024.1744%2020.4445C24.3784%2020.6485%2024.4935%2020.9248%2024.4946%2021.2133V22.7663ZM24.5161%2012.2343H15.4822V11.1494C15.4822%2010.6458%2016.0256%2010.2317%2016.6893%2010.2317H23.3082C23.9722%2010.2317%2024.5153%2010.6447%2024.5153%2011.1494L24.5161%2012.2343Z'%20fill='%23EBFFF6'/%3e%3c/svg%3e",nR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.6668%202H1.3335V12H4.3335V13.6667L7.66683%2012H14.6668V2Z'%20stroke='%233A4559'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.6665%206.5V7.5'%20stroke='%233A4559'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%206.5V7.5'%20stroke='%233A4559'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3335%206.5V7.5'%20stroke='%233A4559'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",rR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2080%2080'%20class='design-iconfont'%3e%3cg%20clip-path='url(%2347w73pk4d__clip0_1039_22435)'%3e%3cg%20clip-path='url(%2347w73pk4d__clip1_1039_22435)'%20opacity='.4'%3e%3cg%20filter='url(%2347w73pk4d__filter0_f_1039_22435)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M21.8912%2078.8171L69.6967%20106.419L103.421%2074.3703L48.6269%2063.7988L21.8912%2078.8171Z'%20fill='%23595656'%20fill-opacity='.316569'/%3e%3c/g%3e%3cpath%20d='M39.7888%2098.8554L0%2073.8278V55.9844L39.7888%2080.9808V98.8554Z'%20fill='%23B6D5FF'/%3e%3cpath%20d='M39.7888%2098.8554L79.5788%2073.8278V55.9844L39.7888%2080.9808V98.8554Z'%20fill='%2395AFE7'/%3e%3cpath%20d='M79.5788%2055.9853L39.7888%2080.9817L0%2055.9853L39.7888%2034.6465L79.5788%2055.9853Z'%20fill='url(%2347w73pk4d__paint0_linear_1039_22435)'/%3e%3cg%20filter='url(%2347w73pk4d__filter1_f_1039_22435)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.4281%2049.5299L40.3739%2068.5997L79.8781%2046.8609L45.6531%2026.9082L11.4281%2049.5299Z'%20fill='%235F6FA5'%20fill-opacity='.13537'/%3e%3c/g%3e%3cpath%20d='M39.7888%2064.2089L0%2039.1813V21.3379L39.7888%2046.3343V64.2089Z'%20fill='%235DA4FF'/%3e%3cpath%20d='M39.7888%2064.2089L79.5788%2039.1813V21.3379L39.7888%2046.3343V64.2089Z'%20fill='url(%2347w73pk4d__paint1_linear_1039_22435)'/%3e%3cpath%20d='M79.5788%2021.3388L39.7888%2046.3352L0%2021.3388L39.7888%200L79.5788%2021.3388Z'%20fill='url(%2347w73pk4d__paint2_linear_1039_22435)'/%3e%3cpath%20d='M25.454%2022.823L23.6475%2012.0281L32.6466%2011.95L36.1409%2011.8948L37.0249%2011.86L37.3552%2011.8203L38.1216%2016.0604L29.168%2016.0592L30.0365%2022.8243L25.454%2022.823Z'%20fill='%231960D1'/%3e%3cpath%20d='M39.9016%2030.3349L52.1632%2030.3361L52.1392%2020.8565L52.162%2018.8926H46.8336V25.6047L39.9016%2025.6035V30.3349Z'%20fill='%231960D1'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='47w73pk4d__paint0_linear_1039_22435'%20x1='57.3672'%20y1='51.0575'%20x2='39.8147'%20y2='72.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23A5BFFF'/%3e%3cstop%20offset='1'%20stop-color='%23B5D7FF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='47w73pk4d__paint1_linear_1039_22435'%20x1='67.7313'%20y1='32.6614'%20x2='46.8586'%20y2='60.3491'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%233E83EE'/%3e%3cstop%20offset='1'%20stop-color='%235986F0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='47w73pk4d__paint2_linear_1039_22435'%20x1='64.0878'%20y1='16.8856'%20x2='16.6444'%20y2='55.0542'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23459FFF'/%3e%3cstop%20offset='1'%20stop-color='%234B95F2'/%3e%3c/linearGradient%3e%3cclipPath%20id='47w73pk4d__clip0_1039_22435'%3e%3cpath%20fill='%23fff'%20d='M0%200H80V80H0z'/%3e%3c/clipPath%3e%3cclipPath%20id='47w73pk4d__clip1_1039_22435'%3e%3cpath%20fill='%23fff'%20d='M0%200H123V123H0z'/%3e%3c/clipPath%3e%3cfilter%20id='47w73pk4d__filter0_f_1039_22435'%20x='-78.1088'%20y='-36.2012'%20width='281.53'%20height='242.619'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='BackgroundImageFix'%20result='shape'/%3e%3cfeGaussianBlur%20stdDeviation='50'%20result='effect1_foregroundBlur_1039_22435'/%3e%3c/filter%3e%3cfilter%20id='47w73pk4d__filter1_f_1039_22435'%20x='9.4281'%20y='24.9082'%20width='72.4501'%20height='45.6914'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='BackgroundImageFix'%20result='shape'/%3e%3cfeGaussianBlur%20stdDeviation='1'%20result='effect1_foregroundBlur_1039_22435'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",oR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M1.33331%202H14.6666V12H9.66665L7.99998%2013.6667L6.33331%2012H1.33331V2Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.66669%207H8.33419'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M11.0003%207H11.6666'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M4.33368%207H4.99998'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3c/svg%3e",iR="/assets/img/multimode-box-llOBPaEG.svg",aR="/assets/img/open-ai-B7K992jd.svg",sR="/assets/img/out-the-box-DLcsylEx.svg",lR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.66665%2010.666H6.33331V13.666H9.66665V10.666Z'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.6667%202.66602H2.33335C1.96516%202.66602%201.66669%202.96449%201.66669%203.33268V9.99935C1.66669%2010.3675%201.96516%2010.666%202.33335%2010.666H13.6667C14.0349%2010.666%2014.3334%2010.3675%2014.3334%209.99935V3.33268C14.3334%202.96449%2014.0349%202.66602%2013.6667%202.66602Z'%20stroke='%23262626'%20stroke-width='1.33333'/%3e%3cpath%20d='M7.33331%209H8.66665'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.66669%2013.666H11.3334'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",uR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.3332%201.33398H4.6665C4.11422%201.33398%203.6665%201.7817%203.6665%202.33398V13.6673C3.6665%2014.2196%204.11422%2014.6673%204.6665%2014.6673H11.3332C11.8855%2014.6673%2012.3332%2014.2196%2012.3332%2013.6673V2.33398C12.3332%201.7817%2011.8855%201.33398%2011.3332%201.33398Z'%20stroke='%23262626'%20stroke-width='1.33333'/%3e%3cpath%20d='M7.3335%203.33398H8.66683'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.6665%2012.666H9.33317'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",dR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%231w20r4uhu__clip0_1582_11917)'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linejoin='round'%3e%3cpath%20d='M8.00004%2014.6654C11.6819%2014.6654%2014.6667%2011.6806%2014.6667%207.9987C14.6667%204.3168%2011.6819%201.33203%208.00004%201.33203C4.31814%201.33203%201.33337%204.3168%201.33337%207.9987C1.33337%208.9026%201.51326%209.7645%201.8392%2010.5505C2.00748%2010.9563%202.21469%2011.3419%202.45618%2011.7027C2.53723%2011.8237%202.38518%2012.5891%202.00004%2013.9987C3.40967%2013.6136%204.17501%2013.4615%204.29607%2013.5426C4.65681%2013.784%205.04241%2013.9913%205.44824%2014.1595C6.23424%2014.4855%207.09614%2014.6654%208.00004%2014.6654Z'/%3e%3cpath%20d='M5.53479%206.60547H11.1279'%20stroke-linecap='round'/%3e%3cpath%20d='M7.28227%205.24609L6.31104%2010.7542'%20stroke-linecap='round'/%3e%3cpath%20d='M9.61552%205.24609L8.64429%2010.7542'%20stroke-linecap='round'/%3e%3cpath%20d='M4.86816%209.33203H10.4613'%20stroke-linecap='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='1w20r4uhu__clip0_1582_11917'%3e%3cpath%20fill='%23fff'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",cR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.33333%201.33301C0.965141%201.33301%200.666664%201.63148%200.666664%201.99967V11.9997C0.666664%2012.3679%200.965141%2012.6663%201.33333%2012.6663H6.05719L7.52859%2014.1377C7.78894%2014.3981%208.21105%2014.3981%208.4714%2014.1377L9.94281%2012.6663H14.6667C15.0349%2012.6663%2015.3333%2012.3679%2015.3333%2011.9997V1.99967C15.3333%201.63148%2015.0349%201.33301%2014.6667%201.33301H1.33333ZM8%203.83301C8.36819%203.83301%208.66667%204.13148%208.66667%204.49967V7.83301C8.66667%208.2012%208.36819%208.49967%208%208.49967C7.63181%208.49967%207.33333%208.2012%207.33333%207.83301V4.49967C7.33333%204.13148%207.63181%203.83301%208%203.83301ZM8.83333%2010.3328C8.83333%2010.7931%208.46023%2011.1662%208%2011.1662C7.53976%2011.1662%207.16666%2010.7931%207.16666%2010.3328C7.16666%209.87261%207.53976%209.49951%208%209.49951C8.46023%209.49951%208.83333%209.87261%208.83333%2010.3328Z'%20fill='currentColor'/%3e%3c/svg%3e",fR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%232469F1'/%3e%3cpath%20d='M8.25%204.75H5.33333C5.01117%204.75%204.75%205.01117%204.75%205.33333V8.25C4.75%208.57218%205.01117%208.83333%205.33333%208.83333H8.25C8.57218%208.83333%208.83333%208.57218%208.83333%208.25V5.33333C8.83333%205.01117%208.57218%204.75%208.25%204.75Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.25%2011.1667H5.33333C5.01117%2011.1667%204.75%2011.4279%204.75%2011.7501V14.6667C4.75%2014.9889%205.01117%2015.2501%205.33333%2015.2501H8.25C8.57218%2015.2501%208.83333%2014.9889%208.83333%2014.6667V11.7501C8.83333%2011.4279%208.57218%2011.1667%208.25%2011.1667Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.6665%204.75H11.7498C11.4277%204.75%2011.1665%205.01117%2011.1665%205.33333V8.25C11.1665%208.57218%2011.4277%208.83333%2011.7498%208.83333H14.6665C14.9887%208.83333%2015.2498%208.57218%2015.2498%208.25V5.33333C15.2498%205.01117%2014.9887%204.75%2014.6665%204.75Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.6665%2011.1667H11.7498C11.4277%2011.1667%2011.1665%2011.4279%2011.1665%2011.7501V14.6667C11.1665%2014.9889%2011.4277%2015.2501%2011.7498%2015.2501H14.6665C14.9887%2015.2501%2015.2498%2014.9889%2015.2498%2014.6667V11.7501C15.2498%2011.4279%2014.9887%2011.1667%2014.6665%2011.1667Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3c/svg%3e",hR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M13.9999%202.66797H1.99992C1.63173%202.66797%201.33325%202.96645%201.33325%203.33464V12.668C1.33325%2013.0362%201.63173%2013.3346%201.99992%2013.3346H13.9999C14.3681%2013.3346%2014.6666%2013.0362%2014.6666%2012.668V3.33464C14.6666%202.96645%2014.3681%202.66797%2013.9999%202.66797Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.33325%203.33464C1.33325%202.96645%201.63173%202.66797%201.99992%202.66797H13.9999C14.3681%202.66797%2014.6666%202.96645%2014.6666%203.33464V5.33464H1.33325V3.33464Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.33341%207.66797L7.66675%2011.3346'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M10.3333%207.66797L12.3333%209.33464L10.3333%2011.3346'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.66675%207.66797L3.66675%209.33464L5.66675%2011.3346'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",pR="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.1763%202.07461C9.70446%200.602734%207.30758%200.602734%205.83727%202.07461L1.75915%206.14961C1.73258%206.17617%201.71852%206.21211%201.71852%206.24961C1.71852%206.28711%201.73258%206.32305%201.75915%206.34961L2.33571%206.92617C2.36206%206.95241%202.39774%206.96714%202.43493%206.96714C2.47212%206.96714%202.50779%206.95241%202.53415%206.92617L6.61227%202.85117C7.11852%202.34492%207.79196%202.0668%208.50758%202.0668C9.22321%202.0668%209.89665%202.34492%2010.4013%202.85117C10.9076%203.35742%2011.1857%204.03086%2011.1857%204.74492C11.1857%205.46055%2010.9076%206.13242%2010.4013%206.63867L6.24508%2010.7934L5.57165%2011.4668C4.94196%2012.0965%203.91852%2012.0965%203.28883%2011.4668C2.98415%2011.1621%202.81696%2010.7574%202.81696%2010.3262C2.81696%209.89492%202.98415%209.49024%203.28883%209.18555L7.41227%205.06367C7.51696%204.96055%207.65446%204.90273%207.80133%204.90273H7.8029C7.94977%204.90273%208.08571%204.96055%208.18883%205.06367C8.29352%205.16836%208.34977%205.30586%208.34977%205.45273C8.34977%205.59805%208.29196%205.73555%208.18883%205.83867L4.81852%209.20586C4.79196%209.23242%204.7779%209.26836%204.7779%209.30586C4.7779%209.34336%204.79196%209.3793%204.81852%209.40586L5.39508%209.98242C5.42144%2010.0087%205.45711%2010.0234%205.4943%2010.0234C5.53149%2010.0234%205.56717%2010.0087%205.59352%209.98242L8.96227%206.61367C9.27321%206.30273%209.44352%205.89023%209.44352%205.45117C9.44352%205.01211%209.27165%204.59805%208.96227%204.28867C8.32008%203.64648%207.27633%203.64805%206.63415%204.28867L6.23415%204.69023L2.51227%208.41055C2.25966%208.66167%202.05942%208.96045%201.92317%209.28956C1.78691%209.61866%201.71735%209.97154%201.71852%2010.3277C1.71852%2011.0512%202.00133%2011.7309%202.51227%2012.2418C3.04196%2012.7699%203.73571%2013.034%204.42946%2013.034C5.12321%2013.034%205.81696%2012.7699%206.34508%2012.2418L11.1763%207.41367C11.8873%206.70117%2012.281%205.75273%2012.281%204.74492C12.2826%203.73555%2011.8888%202.78711%2011.1763%202.07461Z'%20fill='%23164799'/%3e%3c/svg%3e",vR="data:image/svg+xml,%3csvg%20width='40'%20height='20'%20viewBox='0%200%2040%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='4'%20width='36'%20height='20'%20rx='4'%20fill='%23FB363F'/%3e%3cpath%20d='M14.144%209.56V11.18H16.28V9.56H14.144ZM14.144%2011.984V13.772H16.28V11.984H14.144ZM14.144%2014.6V15.152H13.292V8.12C13.004%208.576%2012.68%209.008%2012.344%209.416L12.056%208.504C13.04%207.208%2013.724%205.78%2014.132%204.22L14.972%204.388C14.792%205.036%2014.564%205.66%2014.3%206.272H16.472C16.28%205.636%2016.04%205.012%2015.764%204.412L16.592%204.184C16.88%204.904%2017.096%205.552%2017.252%206.152L16.928%206.272H19.22V7.112H17.132V8.744H18.98V9.56H17.132V11.18H18.98V11.984H17.132V13.772H19.352V14.6H14.144ZM16.28%207.112H14.144V8.744H16.28V7.112ZM12.188%209.14V10.016C11.828%2010.196%2011.456%2010.364%2011.072%2010.52V13.988C11.072%2014.66%2010.712%2015.008%2010.004%2015.008H8.9L8.72%2014.168C9.056%2014.204%209.392%2014.228%209.704%2014.228C10.028%2014.228%2010.196%2014.072%2010.196%2013.76V10.868C9.704%2011.036%209.2%2011.204%208.696%2011.348L8.48%2010.484C9.068%2010.352%209.644%2010.184%2010.196%209.992V7.232H8.66V6.392H10.196V4.172H11.072V6.392H12.284V7.232H11.072V9.656C11.456%209.488%2011.828%209.32%2012.188%209.14ZM20.804%205.072H23.528V4.208H24.416V5.072H27.584V4.208H28.472V5.072H31.196V5.864H28.472V6.74H27.584V5.864H24.416V6.728H23.528V5.864H20.804V5.072ZM20.96%207.544H24.344C24.488%207.232%2024.62%206.932%2024.74%206.632L25.58%206.776C25.484%207.04%2025.376%207.292%2025.28%207.544H31.136V8.336H24.884C24.524%208.972%2024.092%209.572%2023.6%2010.136V15.224H22.772V10.976C22.268%2011.432%2021.716%2011.852%2021.116%2012.26L20.576%2011.564C22.004%2010.628%2023.108%209.548%2023.888%208.336H20.96V7.544ZM27.752%2011.024C28.184%2010.76%2028.676%2010.436%2029.252%2010.052H25.304V9.26H30.476V9.884C29.924%2010.316%2029.3%2010.784%2028.616%2011.264V11.768H31.256V12.584H28.616V14.204C28.616%2014.852%2028.292%2015.176%2027.656%2015.176H26.252L26%2014.336C26.552%2014.372%2026.996%2014.396%2027.308%2014.396C27.596%2014.396%2027.752%2014.252%2027.752%2013.964V12.584H24.44V11.768H27.752V11.024Z'%20fill='white'/%3e%3cpath%20d='M0.5%2010.4256C-0.166667%2010.0407%20-0.166667%209.07844%200.5%208.69354L7.33935%204.74484C8.00602%204.35994%208.83935%204.84107%208.83936%205.61087L8.83936%2013.5083C8.83936%2014.2781%208.00602%2014.7592%207.33936%2014.3743L0.5%2010.4256Z'%20fill='%23FB363F'/%3e%3c/svg%3e",gR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%23FE5019'/%3e%3cpath%20d='M29.8%209.5H9.8L8%2015.5112C8%2017.3688%209.3%2018.7896%2011%2018.7896C12.6%2018.7896%2014%2017.26%2014%2015.5112C14%2017.3688%2015.3%2018.7896%2017%2018.7896C18.6%2018.7896%2020%2017.26%2020%2015.5112C20%2017.3688%2021.3%2018.7896%2023%2018.7896C24.6%2018.7896%2026%2017.26%2026%2015.5112C26%2017.3688%2027.3%2018.7896%2029%2018.7896C30.6%2018.7896%2032%2017.26%2032%2015.5112L29.8%209.5ZM26.3808%2018.8992C25.5504%2019.7736%2024.5112%2020.2104%2023.2656%2020.2104C22.1232%2020.2104%2020.9808%2019.7736%2020.1496%2018.8984C19.3192%2019.7736%2018.2808%2020.2104%2017.0344%2020.2104C15.892%2020.2104%2014.7496%2019.7736%2013.9192%2018.8984C13.0888%2019.7736%2012.0504%2020.2104%2010.804%2020.2104H10.596V27.5328C10.596%2028.7352%2011.6344%2029.5%2012.4656%2029.5H27.5232C28.6656%2029.5%2029.392%2028.6256%2029.392%2027.5328V20.2104H29.184C28.3536%2020.2104%2027.2112%2019.7736%2026.3808%2018.8984V18.8992Z'%20fill='%23FFF1EB'/%3e%3c/svg%3e",mR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20class='design-iconfont'%3e%3cpath%20d='M10%200V16M10%2032V16M10%2016H23'%20stroke='%23BFBFBF'%20stroke-linejoin='round'/%3e%3c/svg%3e",yR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.66659%2013.332L1.33325%2010.9987V5.66536L5.66659%203.33203L9.99992%205.66536V9.66536'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.0001%202.66797L14.3334%205.0013V10.3346L10.0001%2012.668L5.66675%2010.3346V6.33464'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",_R="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M4.65486%204.32102C5.25434%203.72154%206.0844%203.34961%207.00008%203.34961C7.91578%203.34961%208.74584%203.72153%209.34533%204.32102C9.59917%204.57486%209.59917%204.98642%209.34533%205.24026C9.09149%205.4941%208.67993%205.4941%208.42609%205.24026C8.06045%204.87462%207.55717%204.64961%207.00008%204.64961C6.44302%204.64961%205.93974%204.87461%205.5741%205.24026C5.32026%205.4941%204.9087%205.4941%204.65486%205.24026C4.40102%204.98642%204.40102%204.57486%204.65486%204.32102Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.68335%206.99928C0.68335%203.5107%203.51143%200.682617%207.00002%200.682617C10.4886%200.682617%2013.3167%203.5107%2013.3167%206.99928C13.3167%208.50963%2012.7866%209.89617%2011.9023%2010.983L14.3619%2013.4426C14.6158%2013.6965%2014.6158%2014.108%2014.3619%2014.3619C14.1081%2014.6157%2013.6965%2014.6157%2013.4427%2014.3619L10.983%2011.9022C9.89628%2012.7861%208.51002%2013.316%207.00002%2013.316C3.51143%2013.316%200.68335%2010.4879%200.68335%206.99928ZM7.00002%201.98262C4.2294%201.98262%201.98335%204.22867%201.98335%206.99928C1.98335%209.7699%204.2294%2012.016%207.00002%2012.016C9.77063%2012.016%2012.0167%209.7699%2012.0167%206.99928C12.0167%204.22867%209.77063%201.98262%207.00002%201.98262Z'%20fill='currentColor'/%3e%3c/svg%3e",CR="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_791_4493)'%3e%3crect%20width='65'%20height='65'%20transform='matrix(0.707107%200.707107%200.707107%20-0.707107%20-13%2037.0391)'%20fill='%23BFBFBF'/%3e%3cpath%20d='M13%2016.5L15.6667%2019L21%2014'%20stroke='white'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_791_4493'%3e%3cpath%20d='M0%2024H22C23.1046%2024%2024%2023.1046%2024%2022V0H2C0.89543%200%200%200.895432%200%202V24Z'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",bR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.666672%202.00065C0.666672%201.63246%200.965149%201.33398%201.33334%201.33398H14.6667C15.0349%201.33398%2015.3333%201.63246%2015.3333%202.00065V12.0007C15.3333%2012.3688%2015.0349%2012.6673%2014.6667%2012.6673H7.82405L4.63148%2014.2636C4.42482%2014.3669%204.1794%2014.3559%203.98285%2014.2344C3.78631%2014.1129%203.66667%2013.8984%203.66667%2013.6673V12.6673H1.33334C0.965149%2012.6673%200.666672%2012.3688%200.666672%2012.0007V2.00065ZM3.68333%207.33392C3.68333%205.13398%205.46673%203.35059%207.66667%203.35059C9.8666%203.35059%2011.65%205.13398%2011.65%207.33392C11.65%209.53385%209.8666%2011.3173%207.66667%2011.3173C5.46673%2011.3173%203.68333%209.53385%203.68333%207.33392ZM7.66667%204.65059C6.1847%204.65059%204.98333%205.85195%204.98333%207.33392C4.98333%208.81588%206.1847%2010.0173%207.66667%2010.0173C9.14863%2010.0173%2010.35%208.81588%2010.35%207.33392C10.35%205.85195%209.14863%204.65059%207.66667%204.65059ZM7.24999%205.43359C7.60898%205.43359%207.89999%205.72461%207.89999%206.08359V7.10026H8.91666C9.27564%207.10026%209.56666%207.39128%209.56666%207.75026C9.56666%208.10925%209.27564%208.40026%208.91666%208.40026H7.24999C6.89101%208.40026%206.59999%208.10925%206.59999%207.75026V6.08359C6.59999%205.72461%206.89101%205.43359%207.24999%205.43359Z'%20fill='currentColor'/%3e%3c/svg%3e",xR="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719823121880'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='7203'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M723.6%20926.7H301.9c-17.5%200-33.7-9.4-42.4-24.5L48.6%20537c-8.7-15.1-8.7-33.9%200-49l210.9-365.2c8.7-15.1%2025-24.5%2042.4-24.5h421.7c17.5%200%2033.7%209.4%2042.4%2024.5L976.9%20488c8.7%2015.1%208.7%2033.9%200%2049L766%20902.2c-8.7%2015.1-25%2024.5-42.4%2024.5z%20m-410.7-68.2h399.6l199.8-346.1-199.8-346H312.9l-199.8%20346%20199.8%20346.1z'%20fill=''%20p-id='7204'%3e%3c/path%3e%3cpath%20d='M512.7%20663.5c-83.3%200-151.1-67.8-151.1-151.1s67.8-151.1%20151.1-151.1%20151.1%2067.8%20151.1%20151.1c0%2083.4-67.8%20151.1-151.1%20151.1z%20m0-234c-45.7%200-82.9%2037.2-82.9%2082.9s37.2%2082.9%2082.9%2082.9%2082.9-37.2%2082.9-82.9-37.1-82.9-82.9-82.9z'%20fill=''%20p-id='7205'%3e%3c/path%3e%3c/svg%3e",wR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M7.61198%2013.2782C10.7416%2013.2782%2013.2786%2010.7411%2013.2786%207.61149C13.2786%204.48188%2010.7416%201.94482%207.61198%201.94482C4.48237%201.94482%201.94531%204.48188%201.94531%207.61149C1.94531%2010.7411%204.48237%2013.2782%207.61198%2013.2782Z'%20stroke='%238C8C8C'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.667%2011.6667L13.667%2013.6667'%20stroke='%238C8C8C'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M7.66699%205.66675V10.3334'%20stroke='%238C8C8C'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%205.66675H7.66667H9.33333'%20stroke='%238C8C8C'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ER="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%2300D273'/%3e%3cpath%20d='M20.0769%208.58398C20.0769%208.58398%2010.7385%2016.1348%2010.7385%2021.2754C10.7385%2026.4166%2014.9185%2030.584%2020.0769%2030.584C25.2347%2030.584%2029.4152%2026.4166%2029.4152%2021.2754C29.4152%2016.1348%2020.0769%208.58398%2020.0769%208.58398ZM19.2655%2026.4338L20.0769%2022.2813H16.0171L21.2962%2015.6381L20.4848%2019.7905H24.5463L19.2649%2026.4338H19.2655Z'%20fill='%23EBFFF6'/%3e%3c/svg%3e",SR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2335C759'/%3e%3cg%20clip-path='url(%23josbyd8eh__clip0_6476_8271)'%20stroke='%23fff'%20stroke-linejoin='round'%3e%3cpath%20d='M9.99984%2015.8334C13.2215%2015.8334%2015.8332%2013.2217%2015.8332%2010.0001C15.8332%206.77842%2013.2215%204.16675%209.99984%204.16675C6.77817%204.16675%204.1665%206.77842%204.1665%2010.0001C4.1665%2013.2217%206.77817%2015.8334%209.99984%2015.8334Z'/%3e%3cpath%20d='M8.8335%209.99997V7.97925L10.5835%208.98961L12.3335%209.99997L10.5835%2011.0103L8.8335%2012.0207V9.99997Z'%20fill='%23fff'%20stroke-width='1.16667'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='josbyd8eh__clip0_6476_8271'%3e%3cpath%20fill='%23fff'%20transform='translate(3%203)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",MR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.666672%201.83366C0.666672%201.46547%200.965149%201.16699%201.33334%201.16699H2.33334H13.6667H14.6667C15.0349%201.16699%2015.3333%201.46547%2015.3333%201.83366C15.3333%202.20185%2015.0349%202.50033%2014.6667%202.50033H14.3333V11.167C14.3333%2011.5352%2014.0349%2011.8337%2013.6667%2011.8337H9.60981L11.1381%2013.3619C11.3984%2013.6223%2011.3984%2014.0444%2011.1381%2014.3047C10.8777%2014.5651%2010.4556%2014.5651%2010.1953%2014.3047L8.00001%2012.1095L5.80474%2014.3047C5.54439%2014.5651%205.12228%2014.5651%204.86193%2014.3047C4.60158%2014.0444%204.60158%2013.6223%204.86193%2013.3619L6.3902%2011.8337H2.33334C1.96515%2011.8337%201.66667%2011.5352%201.66667%2011.167V2.50033H1.33334C0.965149%202.50033%200.666672%202.20185%200.666672%201.83366ZM11.7942%204.97792C12.0543%204.7173%2012.0538%204.29519%2011.7932%204.03511C11.5326%203.77503%2011.1105%203.77546%2010.8504%204.03608L7.99711%206.89526L6.98831%205.90849C6.72939%205.65523%206.31564%205.65501%206.05646%205.908L4.17562%207.74393C3.91215%208.00112%203.90705%208.4232%204.16423%208.68667C4.42142%208.95015%204.8435%208.95525%205.10698%208.69806L6.52165%207.31716L7.53659%208.30995C7.79794%208.56558%208.21641%208.56306%208.47466%208.30429L11.7942%204.97792Z'%20fill='currentColor'/%3e%3c/svg%3e",OR="data:image/svg+xml,%3csvg%20width='62'%20height='62'%20viewBox='0%200%2062%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_143_1465)'%3e%3ccircle%20cx='31'%20cy='31'%20r='27.125'%20fill='%2321A665'/%3e%3cpath%20d='M23.25%2031L31%2038.75L46.5%2023.25'%20stroke='white'%20stroke-width='5.0375'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_143_1465'%3e%3crect%20width='62'%20height='62'%20rx='31'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",AR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M14.6667%202.66797H1.33337V12.668H6.33337L8.00004%2014.3346L9.66671%2012.668H14.6667V2.66797Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%207.66797V10.668'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M8%205.33203V5.66536'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3c/svg%3e",NR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.17082%201.44106C8.06101%201.40898%207.94431%201.40897%207.83449%201.44102L2.43191%203.01771C2.17595%203.09241%202%203.32705%202%203.59368V6.8256C2%2010.4833%204.34095%2013.7305%207.81116%2014.8864C7.93427%2014.9274%208.06735%2014.9274%208.19045%2014.8864C11.6598%2013.7304%2014%2010.4839%2014%206.8271V3.59368C14%203.32711%2013.8241%203.0925%2013.5682%203.01775L8.17082%201.44106ZM9.68367%207.11249C9.37179%207.42437%208.98568%207.61679%208.58222%207.68975L8.58222%208.65868H9.69417C10.0173%208.65868%2010.2792%208.9206%2010.2792%209.24368C10.2792%209.56677%2010.0173%209.82868%209.69417%209.82868H8.58222V10.7799H9.69428C10.0174%2010.7799%2010.2793%2011.0418%2010.2793%2011.3649C10.2793%2011.688%2010.0174%2011.9499%209.69428%2011.9499H8.58222V12.5169C8.58222%2012.84%208.3203%2013.1019%207.99722%2013.1019C7.67413%2013.1019%207.41222%2012.84%207.41222%2012.5169L7.41222%209.25455L7.41212%209.24368L7.41222%209.23281L7.41222%207.56537C7.16594%207.46362%206.9352%207.31266%206.73503%207.11249C5.92079%206.29825%205.92079%204.9781%206.73503%204.16386C7.54927%203.34961%208.86942%203.34961%209.68367%204.16386C10.4979%204.9781%2010.4979%206.29825%209.68367%207.11249ZM7.56235%206.28518C7.20502%205.92785%207.20502%205.3485%207.56235%204.99117C7.91968%204.63384%208.49902%204.63384%208.85635%204.99117C9.21368%205.3485%209.21368%205.92785%208.85635%206.28518C8.64946%206.49207%208.36815%206.57917%208.09859%206.54649C8.08639%206.54435%208.07407%206.5426%208.06162%206.54124C7.87882%206.51149%207.70331%206.42614%207.56235%206.28518Z'%20fill='%23A1A7B3'/%3e%3c/svg%3e",TR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.17082%201.44106C8.06101%201.40898%207.94431%201.40897%207.83449%201.44102L2.43191%203.01771C2.17595%203.09241%202%203.32705%202%203.59368V6.8256C2%2010.4833%204.34095%2013.7305%207.81116%2014.8864C7.93427%2014.9274%208.06735%2014.9274%208.19045%2014.8864C11.6598%2013.7304%2014%2010.4839%2014%206.8271V3.59368C14%203.32711%2013.8241%203.0925%2013.5682%203.01775L8.17082%201.44106ZM9.68367%207.11249C9.37179%207.42437%208.98568%207.61679%208.58222%207.68975L8.58222%208.65868H9.69417C10.0173%208.65868%2010.2792%208.9206%2010.2792%209.24368C10.2792%209.56677%2010.0173%209.82868%209.69417%209.82868H8.58222V10.7799H9.69428C10.0174%2010.7799%2010.2793%2011.0418%2010.2793%2011.3649C10.2793%2011.688%2010.0174%2011.9499%209.69428%2011.9499H8.58222V12.5169C8.58222%2012.84%208.3203%2013.1019%207.99722%2013.1019C7.67413%2013.1019%207.41222%2012.84%207.41222%2012.5169L7.41222%209.25455L7.41212%209.24368L7.41222%209.23281L7.41222%207.56537C7.16594%207.46362%206.9352%207.31266%206.73503%207.11249C5.92079%206.29825%205.92079%204.9781%206.73503%204.16386C7.54927%203.34961%208.86942%203.34961%209.68367%204.16386C10.4979%204.9781%2010.4979%206.29825%209.68367%207.11249ZM7.56235%206.28518C7.20502%205.92785%207.20502%205.3485%207.56235%204.99117C7.91968%204.63384%208.49902%204.63384%208.85635%204.99117C9.21368%205.3485%209.21368%205.92785%208.85635%206.28518C8.64946%206.49207%208.36815%206.57917%208.09859%206.54649C8.08639%206.54435%208.07407%206.5426%208.06162%206.54124C7.87882%206.51149%207.70331%206.42614%207.56235%206.28518Z'%20fill='%232475FC'/%3e%3c/svg%3e",PR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.17082%201.44106C8.06101%201.40898%207.94431%201.40897%207.83449%201.44102L2.43191%203.01771C2.17595%203.09241%202%203.32705%202%203.59368V6.8256C2%2010.4833%204.34095%2013.7305%207.81116%2014.8864C7.93427%2014.9274%208.06735%2014.9274%208.19045%2014.8864C11.6598%2013.7304%2014%2010.4839%2014%206.8271V3.59368C14%203.32711%2013.8241%203.0925%2013.5682%203.01775L8.17082%201.44106ZM9.68367%207.11249C9.37179%207.42437%208.98568%207.61679%208.58222%207.68975L8.58222%208.65868H9.69417C10.0173%208.65868%2010.2792%208.9206%2010.2792%209.24368C10.2792%209.56677%2010.0173%209.82868%209.69417%209.82868H8.58222V10.7799H9.69428C10.0174%2010.7799%2010.2793%2011.0418%2010.2793%2011.3649C10.2793%2011.688%2010.0174%2011.9499%209.69428%2011.9499H8.58222V12.5169C8.58222%2012.84%208.3203%2013.1019%207.99722%2013.1019C7.67413%2013.1019%207.41222%2012.84%207.41222%2012.5169L7.41222%209.25455L7.41212%209.24368L7.41222%209.23281L7.41222%207.56537C7.16594%207.46362%206.9352%207.31266%206.73503%207.11249C5.92079%206.29825%205.92079%204.9781%206.73503%204.16386C7.54927%203.34961%208.86942%203.34961%209.68367%204.16386C10.4979%204.9781%2010.4979%206.29825%209.68367%207.11249ZM7.56235%206.28518C7.20502%205.92785%207.20502%205.3485%207.56235%204.99117C7.91968%204.63384%208.49902%204.63384%208.85635%204.99117C9.21368%205.3485%209.21368%205.92785%208.85635%206.28518C8.64946%206.49207%208.36815%206.57917%208.09859%206.54649C8.08639%206.54435%208.07407%206.5426%208.06162%206.54124C7.87882%206.51149%207.70331%206.42614%207.56235%206.28518Z'%20fill='currentColor'/%3e%3c/svg%3e",kR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M15.0563%2031.635L14.6775%2017.1627C13.9136%2016.8805%2016.9993%2013.2218%2018.2659%2013.5446C21.9799%2012.6039%2026.0172%206.64656%2018.6463%202.22852C-3.65612%202.22852%20-1.21229%2029.8644%2015.0563%2031.635Z'%20fill='%23B3DDF2'/%3e%3cpath%20d='M14.9855%2031.6275C8.34013%2030.0879%201.83654%2020.7167%209.79142%2012.3055C11.6185%2010.6824%207.9689%205.89074%204.97923%208.53347C-2.96401%2019.6048%207.48296%2031.6575%2014.9855%2031.6275Z'%20fill='%230055E9'/%3e%3cpath%20d='M13.9139%2017.7027C13.7306%2017.8356%2013.9139%2017.6257%2013.9139%2017.7027V17.7027ZM13.9139%2017.7027V18.8574C13.9139%2019.0114%2013.7001%2020.0352%2013.6084%2020.474L14.7542%2022.9374C14.7542%2022.9374%2015.518%2023.1683%2015.5944%2023.2453C15.6707%2023.3223%2016.045%2023.3762%2016.2054%2023.3993L17.8095%2024.4L20.4829%2024.0151L23.9202%2022.9374L27.1283%2020.1661L28.1213%2018.4725L28.9615%2014.1616L28.8087%2012.1601V10.3896L27.0519%207.15639L26.1353%206.00172L24.5312%204.53907L23.1563%203.6923L22.7744%203.46134L22.3161%203.3074L21.4759%202.99947L18.8025%202.30664C24.6077%204.23119%2025.066%2010.1586%2023.3855%2013.007C21.705%2015.8553%2018.0642%2017.4995%2014.525%2017.1639L13.9139%2017.7027Z'%20fill='%2300BCFF'/%3e%3cpath%20d='M15.4408%2031.6379C20.6348%2033.0228%2032.0112%2028.0254%2031.8632%2017.3196C32.2454%2012.546%2027.8244%203.05039%2020.6348%202.69336C28.6499%204.33841%2031.712%2019.1763%2021.3238%2022.8622C16.1285%2024.1708%2014.2194%2020.1678%2014.6021%2017.3196C9.25707%2017.5918%206.4217%2029.1424%2015.4408%2031.6379Z'%20fill='%230055DF'/%3e%3c/svg%3e",LR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3crect%20width='24'%20height='24'%20rx='4.8'%20fill='%232475FC'/%3e%3cg%20filter='url(%236qvugxzk4__filter0_d_341_3719)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.5999%206.6001C5.93716%206.6001%205.3999%207.13736%205.3999%207.8001V16.2001C5.3999%2016.8628%205.93716%2017.4001%206.5999%2017.4001H17.3999C18.0626%2017.4001%2018.5999%2016.8628%2018.5999%2016.2001V7.8001C18.5999%207.13736%2018.0626%206.6001%2017.3999%206.6001H6.5999Z'%20fill='url(%236qvugxzk4__paint0_linear_341_3719)'/%3e%3c/g%3e%3cpath%20d='M8.3999%2010.2L10.4999%2012L8.3999%2013.8'%20stroke='%232475FC'%20stroke-width='.6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.7002%2014.3999H15.6002'%20stroke='%232475FC'%20stroke-width='.6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cdefs%3e%3clinearGradient%20id='6qvugxzk4__paint0_linear_341_3719'%20x1='5.3999'%20y1='12.0001'%20x2='18.5999'%20y2='12.0001'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EBF3FF'/%3e%3cstop%20offset='1'%20stop-color='%23C2D9FF'/%3e%3c/linearGradient%3e%3cfilter%20id='6qvugxzk4__filter0_d_341_3719'%20x='2.9999'%20y='5.4001'%20width='18.0002'%20height='15.6'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1.2'/%3e%3cfeGaussianBlur%20stdDeviation='1.2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20values='0%200%200%200%200.070708%200%200%200%200%200.175495%200%200%200%200%200.348845%200%200%200%200.32%200'/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_341_3719'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_341_3719'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",DR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3crect%20width='24'%20height='24'%20rx='4.8'%20fill='%23A1A7B3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.5999%206.6001C5.93716%206.6001%205.3999%207.13736%205.3999%207.8001V16.2001C5.3999%2016.8628%205.93716%2017.4001%206.5999%2017.4001H17.3999C18.0626%2017.4001%2018.5999%2016.8628%2018.5999%2016.2001V7.8001C18.5999%207.13736%2018.0626%206.6001%2017.3999%206.6001H6.5999Z'%20fill='%233A4559'/%3e%3cpath%20d='M8.3999%2010.2L10.4999%2012L8.3999%2013.8'%20stroke='%23fff'%20stroke-width='.6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.7002%2014.3999H15.6002'%20stroke='%23fff'%20stroke-width='.6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",RR="/assets/img/tongyiqianwen-CnkLl0aK.svg",IR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%234462FF'/%3e%3cpath%20d='M30.9999%2028.9047H29.9523V16.3333C29.9523%2015.1809%2029.0094%2014.2381%2027.857%2014.2381H23.6665V28.9047H22.6189V11.0952C22.6189%209.94286%2021.6761%209%2020.5237%209H12.1427C10.9904%209%2010.0475%209.94284%2010.0475%2011.0952V28.9047H8.99987C8.6856%2028.9047%208.47607%2029.1143%208.47607%2029.4286V30.4762C8.47607%2030.7905%208.68562%2031%208.99989%2031H30.9999C31.3142%2031%2031.5237%2030.7905%2031.5237%2030.4762V29.4286C31.5237%2029.1143%2031.3141%2028.9048%2030.9999%2028.9048V28.9047ZM15.2856%2024.1905C15.2856%2024.5047%2015.0761%2024.7143%2014.7618%2024.7143H12.6666C12.3523%2024.7143%2012.1427%2024.5047%2012.1427%2024.1905V23.1428C12.1427%2022.8286%2012.3523%2022.619%2012.6666%2022.619H14.7618C15.0761%2022.619%2015.2856%2022.8286%2015.2856%2023.1428V24.1905ZM15.2856%2020C15.2856%2020.3143%2015.0761%2020.5238%2014.7618%2020.5238H12.6666C12.3523%2020.5238%2012.1427%2020.3143%2012.1427%2020V18.9524C12.1427%2018.6381%2012.3523%2018.4286%2012.6666%2018.4286H14.7618C15.0761%2018.4286%2015.2856%2018.6381%2015.2856%2018.9524V20ZM15.2856%2015.8095C15.2856%2016.1238%2015.0761%2016.3333%2014.7618%2016.3333H12.6666C12.3523%2016.3333%2012.1427%2016.1238%2012.1427%2015.8095V14.7619C12.1427%2014.4476%2012.3523%2014.2381%2012.6666%2014.2381H14.7618C15.0761%2014.2381%2015.2856%2014.4476%2015.2856%2014.7619V15.8095ZM20.5237%2024.1905C20.5237%2024.5047%2020.3141%2024.7143%2019.9999%2024.7143H17.9047C17.5903%2024.7143%2017.3808%2024.5047%2017.3808%2024.1905V23.1428C17.3808%2022.8286%2017.5904%2022.619%2017.9046%2022.619H19.9999C20.3142%2022.619%2020.5237%2022.8286%2020.5237%2023.1428V24.1905ZM20.5237%2020C20.5237%2020.3143%2020.3141%2020.5238%2019.9999%2020.5238H17.9047C17.5903%2020.5238%2017.3808%2020.3143%2017.3808%2020V18.9524C17.3808%2018.6381%2017.5904%2018.4286%2017.9046%2018.4286H19.9999C20.3142%2018.4286%2020.5237%2018.6381%2020.5237%2018.9524V20ZM20.5237%2015.8095C20.5237%2016.1238%2020.3141%2016.3333%2019.9999%2016.3333H17.9047C17.5903%2016.3333%2017.3808%2016.1238%2017.3808%2015.8095V14.7619C17.3808%2014.4476%2017.5904%2014.2381%2017.9046%2014.2381H19.9999C20.3142%2014.2381%2020.5237%2014.4476%2020.5237%2014.7619V15.8095ZM28.3808%2024.1905C28.3808%2024.5047%2028.1713%2024.7143%2027.857%2024.7143H25.7618C25.4475%2024.7143%2025.238%2024.5047%2025.238%2024.1905V23.1428C25.238%2022.8286%2025.4475%2022.619%2025.7618%2022.619H27.857C28.1713%2022.619%2028.3808%2022.8286%2028.3808%2023.1428V24.1905H28.3808ZM28.3808%2020C28.3808%2020.3143%2028.1713%2020.5238%2027.857%2020.5238H25.7618C25.4475%2020.5238%2025.238%2020.3143%2025.238%2020V18.9524C25.238%2018.6381%2025.4475%2018.4286%2025.7618%2018.4286H27.857C28.1713%2018.4286%2028.3808%2018.6381%2028.3808%2018.9524V20H28.3808Z'%20fill='%23EBEEFF'/%3e%3c/svg%3e",HR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1163_6530)'%3e%3cpath%20d='M14.6667%208.00016C14.6667%2011.6821%2011.6819%2014.6668%208.00003%2014.6668C6.00887%2014.6668%201.33335%2014.6668%201.33335%2014.6668C1.33335%2014.6668%201.33335%209.6909%201.33335%208.00016C1.33335%204.31826%204.31813%201.3335%208.00003%201.3335C11.6819%201.3335%2014.6667%204.31826%2014.6667%208.00016Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%209.33333V8C9.10457%208%2010%207.10457%2010%206C10%204.89543%209.10457%204%208%204C6.89543%204%206%204.89543%206%206'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.66666%2011.4998C8.66666%2011.868%208.36818%2012.1665%208%2012.1665C7.63181%2012.1665%207.33333%2011.868%207.33333%2011.4998C7.33333%2011.1317%207.63181%2010.8332%208%2010.8332C8.36818%2010.8332%208.66666%2011.1317%208.66666%2011.4998Z'%20fill='%23091E41'%20stroke='%23262626'%20stroke-width='0.333333'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1163_6530'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",BR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%2010.4062V2.09375C11%201.76719%2010.7328%201.5%2010.4062%201.5H2.09375C1.76719%201.5%201.5%201.76719%201.5%202.09375V10.4062C1.5%2010.7328%201.76719%2011%202.09375%2011H10.4062C10.7328%2011%2011%2010.7328%2011%2010.4062ZM7.82344%204.35C7.34796%204.35%206.9625%204.73545%206.9625%205.21094V8.41719C6.9625%208.74511%206.69667%209.01094%206.36875%209.01094V9.01094C6.04083%209.01094%205.775%208.74511%205.775%208.41719V5.19609C5.775%204.72881%205.39619%204.35%204.92891%204.35H4.5875C4.30877%204.35%204.08281%204.12404%204.08281%203.84531V3.84531C4.08281%203.56658%204.30877%203.34062%204.5875%203.34062H8.17969C8.45842%203.34062%208.68438%203.56658%208.68438%203.84531V3.84531C8.68438%204.12404%208.45842%204.35%208.17969%204.35H7.82344Z'%20fill='%232475FC'/%3e%3cpath%20d='M13.9062%205H11.8281V11.2344C11.8281%2011.5609%2011.5609%2011.8281%2011.2344%2011.8281H5.92857C5.41574%2011.8281%205%2012.2439%205%2012.7567V13.9062C5%2014.2328%205.26719%2014.5%205.59375%2014.5H13.9062C14.2328%2014.5%2014.5%2014.2328%2014.5%2013.9062V5.59375C14.5%205.26719%2014.2328%205%2013.9062%205Z'%20fill='%232475FC'/%3e%3c/svg%3e",jR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%2010.4062V2.09375C11%201.76719%2010.7328%201.5%2010.4062%201.5H2.09375C1.76719%201.5%201.5%201.76719%201.5%202.09375V10.4062C1.5%2010.7328%201.76719%2011%202.09375%2011H10.4062C10.7328%2011%2011%2010.7328%2011%2010.4062ZM7.82344%204.35C7.34796%204.35%206.9625%204.73545%206.9625%205.21094V8.41719C6.9625%208.74511%206.69667%209.01094%206.36875%209.01094V9.01094C6.04083%209.01094%205.775%208.74511%205.775%208.41719V5.19609C5.775%204.72881%205.39619%204.35%204.92891%204.35H4.5875C4.30877%204.35%204.08281%204.12404%204.08281%203.84531V3.84531C4.08281%203.56658%204.30877%203.34062%204.5875%203.34062H8.17969C8.45842%203.34062%208.68438%203.56658%208.68438%203.84531V3.84531C8.68438%204.12404%208.45842%204.35%208.17969%204.35H7.82344Z'%20fill='%23A1A7B3'/%3e%3cpath%20d='M13.9062%205H11.8281V11.2344C11.8281%2011.5609%2011.5609%2011.8281%2011.2344%2011.8281H5.92857C5.41574%2011.8281%205%2012.2439%205%2012.7567V13.9062C5%2014.2328%205.26719%2014.5%205.59375%2014.5H13.9062C14.2328%2014.5%2014.5%2014.2328%2014.5%2013.9062V5.59375C14.5%205.26719%2014.2328%205%2013.9062%205Z'%20fill='%23A1A7B3'/%3e%3c/svg%3e",$R="data:image/svg+xml,%3csvg%20width='34'%20height='35'%20viewBox='0%200%2034%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.7151%200.0996094L2.89606%208.43231L2.70285%2025.4323L17.329%2034.0996L32.1477%2025.7669L32.3409%208.76691L17.7151%200.0996094ZM17.487%204.66114L23.984%208.4947L12.1019%2015.0664L12.0521%2026.2632L6.62563%2023.0605L6.7455%2010.7262L17.487%204.66114ZM29.3782%2011.1712L29.2583%2023.6272L17.4206%2029.6443L17.3801%2017.8059L29.3782%2011.1712Z'%20fill='%231E91EF'/%3e%3cpath%20d='M11.2795%2016.7489C11.2795%2017.1829%2011.365%2017.6126%2011.5311%2018.0136C11.6972%2018.4145%2011.9406%2018.7788%2012.2474%2019.0856C12.5543%2019.3925%2012.9186%2019.6359%2013.3195%2019.802C13.7205%2019.9681%2014.1502%2020.0535%2014.5841%2020.0535C15.0181%2020.0535%2015.4478%2019.9681%2015.8488%2019.802C16.2497%2019.6359%2016.614%2019.3925%2016.9209%2019.0856C17.2277%2018.7788%2017.4711%2018.4145%2017.6372%2018.0136C17.8033%2017.6126%2017.8887%2017.1829%2017.8887%2016.7489C17.8887%2015.8725%2017.5406%2015.032%2016.9209%2014.4122C16.3011%2013.7925%2015.4606%2013.4443%2014.5841%2013.4443C13.7077%2013.4443%2012.8672%2013.7925%2012.2474%2014.4122C11.6277%2015.032%2011.2795%2015.8725%2011.2795%2016.7489Z'%20fill='%23002F8E'/%3e%3c/svg%3e",FR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3cpath%20d='M30.125%207.625C31.9152%207.625%2033.6321%208.33616%2034.898%209.60203C36.1638%2010.8679%2036.875%2012.5848%2036.875%2014.375C36.875%2016.1652%2036.1638%2017.8821%2034.898%2019.148C33.6321%2020.4138%2031.9152%2021.125%2030.125%2021.125H26.75V18.875H30.125C31.2603%2018.8754%2032.3538%2018.4466%2033.1862%2017.6746C34.0187%2016.9027%2034.5286%2015.8446%2034.6138%2014.7125L34.625%2014.375C34.625%2013.1815%2034.1509%2012.0369%2033.307%2011.193C32.4631%2010.3491%2031.3185%209.875%2030.125%209.875H26.75V7.625H30.125ZM11%2017.75C9.20979%2017.75%207.4929%2018.4612%206.22703%2019.727C4.96116%2020.9929%204.25%2022.7098%204.25%2024.5C4.25%2026.2902%204.96116%2028.0071%206.22703%2029.273C7.4929%2030.5388%209.20979%2031.25%2011%2031.25H14.375V29H11C9.8647%2029.0004%208.77122%2028.5716%207.93877%2027.7996C7.10631%2027.0277%206.5964%2025.9696%206.51125%2024.8375L6.5%2024.5C6.5%2023.3065%206.97411%2022.1619%207.81802%2021.318C8.66193%2020.4741%209.80653%2020%2011%2020H14.375V17.75H11Z'%20fill='%232475FC'/%3e%3cpath%20d='M13.25%204.25H26.75C28.25%204.25%2029%205%2029%206.5V11C29%2012.5%2028.25%2013.25%2026.75%2013.25H13.25C11.75%2013.25%2011%2012.5%2011%2011V6.5C11%205%2011.75%204.25%2013.25%204.25Z'%20fill='%232CAAFF'/%3e%3cpath%20d='M13.25%2015.5H26.75C28.25%2015.5%2029%2016.25%2029%2017.75V22.25C29%2023.75%2028.25%2024.5%2026.75%2024.5H13.25C11.75%2024.5%2011%2023.75%2011%2022.25V17.75C11%2016.25%2011.75%2015.5%2013.25%2015.5Z'%20fill='%232CAAFF'/%3e%3cpath%20d='M13.25%2026.75H26.75C28.25%2026.75%2029%2027.5%2029%2029V33.5C29%2035%2028.25%2035.75%2026.75%2035.75H13.25C11.75%2035.75%2011%2035%2011%2033.5V29C11%2027.5%2011.75%2026.75%2013.25%2026.75Z'%20fill='%232475FC'/%3e%3c/svg%3e",VR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%234ozvprixb__clip0_6470_44315)'%20fill='currentColor'%3e%3cpath%20d='M12.5%202.5C13.2956%202.5%2014.0587%202.81607%2014.6213%203.37868C15.1839%203.94129%2015.5%204.70435%2015.5%205.5C15.5%206.29565%2015.1839%207.05871%2014.6213%207.62132C14.0587%208.18393%2013.2956%208.5%2012.5%208.5H11V7.5H12.5C13.0046%207.50016%2013.4906%207.30959%2013.8605%206.9665C14.2305%206.62341%2014.4572%206.15316%2014.495%205.65L14.5%205.5C14.5%204.96957%2014.2893%204.46086%2013.9142%204.08579C13.5391%203.71071%2013.0304%203.5%2012.5%203.5H11V2.5H12.5ZM4%207C3.20435%207%202.44129%207.31607%201.87868%207.87868C1.31607%208.44129%201%209.20435%201%2010C1%2010.7956%201.31607%2011.5587%201.87868%2012.1213C2.44129%2012.6839%203.20435%2013%204%2013H5.5V12H4C3.49542%2012.0002%203.00943%2011.8096%202.63945%2011.4665C2.26947%2011.1234%202.04284%2010.6532%202.005%2010.15L2%2010C2%209.46957%202.21071%208.96086%202.58579%208.58579C2.96086%208.21071%203.46957%208%204%208H5.5V7H4Z'/%3e%3cpath%20d='M5%201H11C11.6667%201%2012%201.33333%2012%202V4C12%204.66667%2011.6667%205%2011%205H5C4.33333%205%204%204.66667%204%204V2C4%201.33333%204.33333%201%205%201Z'/%3e%3cpath%20d='M5%206H11C11.6667%206%2012%206.33333%2012%207V9C12%209.66667%2011.6667%2010%2011%2010H5C4.33333%2010%204%209.66667%204%209V7C4%206.33333%204.33333%206%205%206Z'/%3e%3cpath%20d='M5%2011H11C11.6667%2011%2012%2011.3333%2012%2012V14C12%2014.6667%2011.6667%2015%2011%2015H5C4.33333%2015%204%2014.6667%204%2014V12C4%2011.3333%204.33333%2011%205%2011Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='4ozvprixb__clip0_6470_44315'%3e%3cpath%20fill='%23fff'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",zR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M13.3334%206.66683C13.3334%208.93606%2011.9162%2010.8743%209.91852%2011.6447H8.00002H6.08152C4.08389%2010.8743%202.66669%208.93606%202.66669%206.66683C2.66669%203.7213%205.05449%201.3335%208.00002%201.3335C10.9456%201.3335%2013.3334%203.7213%2013.3334%206.66683Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.91858%2011.6445L9.69221%2014.361C9.67781%2014.5338%209.53338%2014.6667%209.36001%2014.6667H6.64011C6.46674%2014.6667%206.32231%2014.5338%206.30794%2014.361L6.08154%2011.6445'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%205.6665V7.6665L8%206.6665L10%207.6665V5.6665'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",WR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2035'%20class='design-iconfont'%3e%3cpath%20d='M15.8086%2034.2242C13.75%2034.0657%2012.0267%2033.6022%2010.3368%2032.7527C6.07407%2030.6107%203.19331%2026.5103%202.60321%2021.7485C2.49702%2020.8899%202.4955%2019.1863%202.60093%2018.2898C2.92201%2015.6261%203.98246%2013.1056%205.66221%2011.0135C5.89279%2010.7253%207.42571%209.17041%209.1619%207.46077C13.3412%203.34594%2013.2927%203.39221%2013.3579%203.45744C13.3958%203.49536%2013.3859%203.66451%2013.3275%203.99294C13.2115%204.64372%2013.2115%206.06666%2013.3291%206.84487C13.6871%209.23337%2014.7239%2011.4489%2016.5572%2013.7456C17.0275%2014.335%2018.7508%2016.0879%2019.3932%2016.6302C20.1388%2017.2597%2020.622%2018.0205%2020.8503%2018.9208C21.0012%2019.5163%2021.0012%2020.4803%2020.8503%2021.0765C20.471%2022.5791%2019.3371%2023.7646%2017.8277%2024.2386C17.481%2024.3471%2017.3149%2024.3645%2016.6171%2024.3645C15.9193%2024.3645%2015.7524%2024.3471%2015.4035%2024.2386C14.3288%2023.9026%2013.3146%2023.1252%2014.199%2023.3148C14.6784%2023.4172%2015.2973%2023.1934%2015.5879%2022.8119C15.9883%2022.2885%2016.0536%2021.7182%2015.7767%2021.1645C15.6372%2020.8853%2015.5226%2020.7602%2015.0683%2020.3931C13.8395%2019.3979%2012.6335%2018.1859%2011.7764%2017.0876C11.3388%2016.5255%2010.7069%2015.5842%2010.5188%2015.2141C10.4475%2015.0738%2010.3649%2014.9585%2010.3353%2014.9585C10.261%2014.9585%209.6716%2015.8634%209.41903%2016.3647C9.12852%2016.9397%208.85091%2017.7679%208.71059%2018.4771C8.53841%2019.3418%208.53842%2020.6676%208.70908%2021.5202C9.36745%2024.803%2011.7749%2027.2514%2015.0433%2027.9598C15.5021%2028.0599%2015.7615%2028.0796%2016.6171%2028.0796C17.4719%2028.0796%2017.7321%2028.0599%2018.1902%2027.9598C19.7846%2027.6147%2021.0953%2026.8979%2022.252%2025.7412C23.464%2024.5291%2024.1876%2023.1692%2024.5221%2021.4709C24.6905%2020.6168%2024.6913%2019.3835%2024.5237%2018.534C24.3803%2017.8096%2024.199%2017.2317%2023.9366%2016.6681C23.6886%2016.1364%2023.7128%2016.1046%2024.2741%2016.2206C25.7888%2016.5339%2027.4446%2017.3841%2028.5111%2018.3967C29.7929%2019.6133%2030.336%2020.8209%2030.336%2022.46C30.336%2023.3489%2030.207%2024.0035%2029.8415%2024.985C29.0807%2027.0215%2027.9695%2028.7115%2026.3676%2030.2687C24.469%2032.1133%2022.0404%2033.4179%2019.5548%2033.9276C18.4269%2034.159%2016.7203%2034.294%2015.8078%2034.2234L15.8086%2034.2242ZM30.3094%2018.1532C29.6776%2016.9336%2028.7629%2016.0613%2027.4651%2015.4424C26.7688%2015.1102%2026.1438%2014.9046%2024.9188%2014.6058C23.2721%2014.2038%2022.4651%2013.9307%2021.4684%2013.4347C20.4976%2012.9515%2019.7588%2012.4221%2019.0109%2011.675C18.0219%2010.6844%2017.4317%209.73321%2016.9979%208.42785C16.6141%207.26963%2016.6262%207.41905%2016.6042%203.65161C16.5875%200.748861%2016.5966%200.242188%2016.6604%200.242188C16.7021%200.242188%2018.3594%201.83426%2020.3421%203.7798C27.4143%2010.7193%2027.5485%2010.8581%2028.3707%2012.105C29.1163%2013.2359%2029.8248%2014.7749%2030.1767%2016.0279C30.3512%2016.6476%2030.5863%2017.8127%2030.6144%2018.1912C30.6409%2018.5552%2030.5089%2018.5378%2030.3094%2018.1532Z'%20fill='%233DC8F9'/%3e%3cpath%20d='M16.6605%200.242188C16.596%200.242188%2016.5877%200.748861%2016.6044%203.65161C16.6256%207.41981%2016.6135%207.26963%2016.9988%208.42785C17.4311%209.73245%2018.022%2010.6844%2019.0111%2011.6742C19.7589%2012.4221%2020.4977%2012.9515%2021.4686%2013.4339C22.4652%2013.9307%2023.2723%2014.2045%2024.9182%2014.6058C26.1439%2014.9054%2026.7689%2015.1102%2027.4645%2015.4424C28.7623%2016.0613%2029.677%2016.9328%2030.3088%2018.1532C30.5091%2018.5378%2030.641%2018.5552%2030.6145%2018.1912C30.5864%2017.8127%2030.3505%2016.6476%2030.1768%2016.0279C29.8249%2014.7749%2029.1165%2013.2367%2028.3709%2012.105C27.5487%2010.8581%2027.4144%2010.7193%2020.3422%203.7798C18.3588%201.83426%2016.7015%200.242188%2016.6605%200.242188Z'%20fill='%23EA0100'/%3e%3cpath%20d='M11.781%2026.4804C11.781%2026.4804%2014.9743%2029.7548%2020.7426%2030.1864C26.5109%2030.6172%2027.9104%2028.5033%2027.9104%2028.5033C27.9104%2028.5033%2030.7395%2024.7677%2030.3209%2021.9279C29.9014%2019.0881%2027.6904%2017.0682%2023.841%2016.1914C23.841%2016.1914%2025.0228%2019.1647%2024.6033%2020.9373C24.1839%2022.7099%2023.86%2026.0829%2018.6947%2027.8548C18.6947%2027.8548%2014.8916%2028.9735%2011.781%2026.4804Z'%20fill='%231652D8'/%3e%3c/svg%3e",UR="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cg%20clip-path='url(%237yundzdfo__clip0_1024_10932)'%3e%3cpath%20d='M1.42486%2023.8235L14.9556%2027.523V30.5012L23.2448%2032.8164C21.3116%2033.5802%2019.2048%2034%2017%2034C10.0381%2034%204.05349%2029.815%201.42486%2023.8235ZM0.0540616%2015.6341L16.1541%2020.0868L15.7743%2021.5496L15.5346%2022.9336L30.6885%2027.0829C29.9365%2028.1018%2029.0737%2029.0341%2028.1159%2029.8625L0.913488%2022.5119C0.321308%2020.7835%200%2018.9292%200%2017C0%2016.5402%200.0182891%2016.0847%200.0540616%2015.6341ZM2.32046%208.4208L19.2816%2012.9365C18.9123%2013.4278%2018.6083%2013.8961%2018.3697%2014.3412C18.1328%2014.7822%2017.9381%2015.2446%2017.7881%2015.7222L33.7216%2020.0808C33.5194%2021.1856%2033.2075%2022.2675%2032.7903%2023.3103L0.18273%2014.4989C0.498621%2012.3545%201.22438%2010.2909%202.32038%208.4208H2.32046ZM8.58508%202.22539L24.563%206.50689C24.06%206.81507%2023.628%207.14338%2023.2668%207.4916C22.9057%207.8399%2022.4818%208.33701%2021.9953%208.98293L33.2705%2012.0575C33.6354%2013.2614%2033.8651%2014.5021%2033.9553%2015.7568L2.95236%207.42296C4.41211%205.28624%206.33813%203.509%208.58508%202.22539ZM17%200C22.6492%200%2027.6547%202.75545%2030.7461%206.9957L10.0931%201.46176C12.2034%200.522085%2014.5407%200%2017%200Z'%20fill='%23000'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='7yundzdfo__clip0_1024_10932'%3e%3cpath%20fill='%23fff'%20d='M0%200H34V34H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",GR="/assets/img/zhipuai-CAkD-pZG.svg",XR="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%205C8.55228%205%209%204.55228%209%204C9%203.44772%208.55228%203%208%203C7.44772%203%207%203.44772%207%204C7%204.55228%207.44772%205%208%205Z'%20fill='%23595959'/%3e%3cpath%20d='M8%209C8.55228%209%209%208.55228%209%208C9%207.44772%208.55228%207%208%207C7.44772%207%207%207.44772%207%208C7%208.55228%207.44772%209%208%209Z'%20fill='%23595959'/%3e%3cpath%20d='M8%2012.666C8.55228%2012.666%209%2012.2183%209%2011.666C9%2011.1137%208.55228%2010.666%208%2010.666C7.44772%2010.666%207%2011.1137%207%2011.666C7%2012.2183%207.44772%2012.666%208%2012.666Z'%20fill='%23595959'/%3e%3c/svg%3e",YR={name:"NodeCommon",inject:["setTitle"],components:{SvgIcon:s0},props:{iconName:{type:String,default:""},node_type:{default:""},nodeKey:{type:String,default:""},value:{type:String,default:""},title:{type:String,default:""},menus:{type:Array,default(){return[]}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{isShowMenu:!1}},mounted(){document.addEventListener("click",this.documentClick)},beforeUnmount(){document.removeEventListener("click",this.documentClick)},methods:{handleMenu(t){this.$emit("handleMenu",t)},showMenu(){this.isShowMenu=!this.isShowMenu},documentClick(t){this.isShowMenu&&!this.$el.querySelector(".node-menus").contains(t.target)&&t.target!==this.$el.querySelector(".node-menu-btn")&&t.target!==this.$el.querySelector(".btn-icon")&&(this.isShowMenu=!1)},getImggeUrl(t){return new URL(Object.assign({"../../../../assets/svg/ai-dialogue-node.svg":VL,"../../../../assets/svg/ai-mark.svg":zL,"../../../../assets/svg/anthrop.svg":WL,"../../../../assets/svg/arrow-down.svg":UL,"../../../../assets/svg/azure.svg":GL,"../../../../assets/svg/baichuan.svg":XL,"../../../../assets/svg/chat-mode.svg":YL,"../../../../assets/svg/chat-robot-icon.svg":ZL,"../../../../assets/svg/check-arrow-filled.svg":KL,"../../../../assets/svg/circularNeedle.svg":qL,"../../../../assets/svg/client.svg":JL,"../../../../assets/svg/cmd.svg":QL,"../../../../assets/svg/cohere.svg":eD,"../../../../assets/svg/colour-edit.svg":tD,"../../../../assets/svg/comment-search.svg":nD,"../../../../assets/svg/common-quession.svg":rD,"../../../../assets/svg/cu-doc-active.svg":oD,"../../../../assets/svg/cu-doc-icon.svg":iD,"../../../../assets/svg/data-security.svg":aD,"../../../../assets/svg/database-menu-icon.svg":sD,"../../../../assets/svg/deepseek.svg":lD,"../../../../assets/svg/delete.svg":uD,"../../../../assets/svg/direct-connection.svg":dD,"../../../../assets/svg/dislike-active.svg":cD,"../../../../assets/svg/dislike.svg":fD,"../../../../assets/svg/doc-active-menu-icon.svg":hD,"../../../../assets/svg/doc-icon-active.svg":pD,"../../../../assets/svg/doc-icon.svg":vD,"../../../../assets/svg/doc-menu-icon.svg":gD,"../../../../assets/svg/drag.svg":mD,"../../../../assets/svg/duiwaifuwu.svg":yD,"../../../../assets/svg/economic-active.svg":_D,"../../../../assets/svg/economic.svg":CD,"../../../../assets/svg/edit.svg":bD,"../../../../assets/svg/end-node.svg":xD,"../../../../assets/svg/enterprise-active.svg":wD,"../../../../assets/svg/enterprise.svg":ED,"../../../../assets/svg/enterprise2.svg":SD,"../../../../assets/svg/export-record.svg":MD,"../../../../assets/svg/field-menu-icon.svg":OD,"../../../../assets/svg/file-search.svg":AD,"../../../../assets/svg/finance.svg":ND,"../../../../assets/svg/gemini.svg":TD,"../../../../assets/svg/government.svg":PD,"../../../../assets/svg/guanlianzhishiku.svg":kD,"../../../../assets/svg/high-active.svg":LD,"../../../../assets/svg/high.svg":DD,"../../../../assets/svg/http-node.svg":RD,"../../../../assets/svg/huanyingyu.svg":ID,"../../../../assets/svg/huoshanyinqin.svg":HD,"../../../../assets/svg/img-icon.svg":BD,"../../../../assets/svg/jibenpeizhi.svg":jD,"../../../../assets/svg/jichupeizhi.svg":$D,"../../../../assets/svg/jina.svg":FD,"../../../../assets/svg/judge-node.svg":VD,"../../../../assets/svg/knowledge-base-node.svg":zD,"../../../../assets/svg/knowledge-config-active-icon.svg":WD,"../../../../assets/svg/knowledge-config-icon.svg":UD,"../../../../assets/svg/law.svg":GD,"../../../../assets/svg/liaotianceshi.svg":XD,"../../../../assets/svg/like-active.svg":YD,"../../../../assets/svg/like.svg":ZD,"../../../../assets/svg/lingyiwanwu.svg":KD,"../../../../assets/svg/link-icon-active.svg":qD,"../../../../assets/svg/link-icon.svg":JD,"../../../../assets/svg/login-success.svg":QD,"../../../../assets/svg/manufacture.svg":eR,"../../../../assets/svg/medical-treatment.svg":tR,"../../../../assets/svg/message.svg":nR,"../../../../assets/svg/more-compatible.svg":rR,"../../../../assets/svg/moxingshezhi.svg":oR,"../../../../assets/svg/multimode-box.svg":iR,"../../../../assets/svg/open-ai.svg":aR,"../../../../assets/svg/out-the-box.svg":sR,"../../../../assets/svg/pc.svg":lR,"../../../../assets/svg/phone.svg":uR,"../../../../assets/svg/problem-optimization.svg":dR,"../../../../assets/svg/qa-feedback.svg":cR,"../../../../assets/svg/question-node.svg":fR,"../../../../assets/svg/quick-Instruction.svg":hR,"../../../../assets/svg/quotes.svg":pR,"../../../../assets/svg/recommendation.svg":vR,"../../../../assets/svg/retail.svg":gR,"../../../../assets/svg/right-fork-icon.svg":mR,"../../../../assets/svg/sdk.svg":yR,"../../../../assets/svg/search.svg":_R,"../../../../assets/svg/select-disabled.svg":CR,"../../../../assets/svg/session-record.svg":bR,"../../../../assets/svg/setting.svg":xR,"../../../../assets/svg/similarity.svg":wR,"../../../../assets/svg/source-energy.svg":ER,"../../../../assets/svg/start-node.svg":SR,"../../../../assets/svg/statistical-analysis.svg":MR,"../../../../assets/svg/success.svg":OR,"../../../../assets/svg/suggested-issues.svg":AR,"../../../../assets/svg/team-manage-active.svg":NR,"../../../../assets/svg/team-manage.svg":TR,"../../../../assets/svg/team-manage2.svg":PR,"../../../../assets/svg/tengxunhunyuan.svg":kR,"../../../../assets/svg/test-active-menu-icon.svg":LR,"../../../../assets/svg/test-menu-icon.svg":DR,"../../../../assets/svg/tongyiqianwen.svg":RR,"../../../../assets/svg/unit.svg":IR,"../../../../assets/svg/unknown-prompt.svg":HR,"../../../../assets/svg/use-token-active.svg":BR,"../../../../assets/svg/use-token.svg":jR,"../../../../assets/svg/wenxinyiyan.svg":$R,"../../../../assets/svg/workflow-robot-icon.svg":FR,"../../../../assets/svg/workflow.svg":VR,"../../../../assets/svg/xitongtishici.svg":zR,"../../../../assets/svg/xunfeixinghuo.svg":WR,"../../../../assets/svg/yuezhianmian.svg":UR,"../../../../assets/svg/zhipuai.svg":GR})[`../../../../assets/svg/${t}.svg`],import.meta.url).href},updateTitle(t){this.setTitle(t)}}},ZR=t=>(Jt("data-v-7f91f7a1"),t=t(),Qt(),t),KR={class:"node-common-wrapper"},qR={class:"node-header"},JR={class:"node-header-left"},QR={class:"node-icon"},eI=["src"],tI={key:0,class:"node-title"},nI={key:0,class:"node-menu-wrapper"},rI=ZR(()=>T("img",{class:"btn-icon",src:XR,alt:""},null,-1)),oI=[rI],iI={class:"node-menus"},aI=["onClick"],sI={class:"node-body"};function lI(t,e,n,r,o,i){const a=qi;return ae(),Ce("div",KR,[T("div",{class:Ga(["node-common",{isHovered:n.isHovered,isSelected:n.isSelected}])},[T("div",qR,[T("div",JR,[T("span",QR,[T("img",{src:i.getImggeUrl(n.iconName),alt:""},null,8,eI)]),["1",1].includes(n.node_type)?(ae(),Ce("span",tI,st(n.title),1)):(ae(),lt(a,{key:1,size:"small",class:"node-title-input",value:n.title,onInput:e[0]||(e[0]=s=>i.updateTitle(s.target.value))},null,8,["value"]))]),T("div",null,[n.menus.length>0?(ae(),Ce("div",nI,[T("div",{class:"node-menu-btn",onClick:e[1]||(e[1]=Nn((...s)=>i.showMenu&&i.showMenu(...s),["stop"]))},oI),us(T("div",iI,[(ae(!0),Ce(It,null,Vt(n.menus,s=>(ae(),Ce("div",{class:"node-menu del-btn",key:s.key,onClick:Nn(l=>i.handleMenu(s),["stop"])},st(s.name),9,aI))),128))],512),[[l0,o.isShowMenu]])])):Ht("",!0)])]),T("div",sI,[N6(t.$slots,"default",{},void 0,!0)])],2)])}const Wr=Dt(YR,[["render",lI],["__scopeId","data-v-7f91f7a1"]]),uI={name:"StartNode",components:{NodeCommon:Wr},props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{}},computed:{},created(){},methods:{}},dI=t=>(Jt("data-v-be5f42a0"),t=t(),Qt(),t),cI=dI(()=>T("div",{class:"start-node"},[T("div",{class:"node-desc"},"流程开始节点，点击可以设置全局变量、触发方式等"),T("div",{class:"start-node-options"},[T("div",{class:"options-title"},"输出"),T("div",{class:"options-item"},[T("div",{class:"option-label"},"用户消息"),T("div",{class:"option-type"},"string")]),T("div",{class:"options-item"},[T("div",{class:"option-label"},"open_id"),T("div",{class:"option-type"},"string")])])],-1));function fI(t,e,n,r,o,i){const a=tn("node-common");return ae(),lt(a,{title:n.properties.node_name,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type},{default:re(()=>[cI]),_:1},8,["title","icon-name","isSelected","isHovered","node-key","node_type"])}const hI=Dt(uI,[["render",fI],["__scopeId","data-v-be5f42a0"]]);let pI=class extends Vr{constructor(e){super(e),this.renderVue(hI,e)}},vI=class extends zr{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,o,i,a)=>{if(r.id==o.id)return!1;const s=r.graphModel.edges.map(u=>u.sourceAnchorId),l=i.id;return i.type==="right"&&!s.includes(l)}};this.sourceRules=[e];const n={message:"只允许连接左边的锚点",validate:(r,o,i,a)=>r.id==o.id?!1:a.type==="left"};this.targetRules=[n]}getDefaultAnchor(){const{id:e,x:n,y:r,width:o,height:i,isHovered:a,isSelected:s}=this,{nodeSortKey:l}=this.properties;return[{x:n+o/2,y:r-i/2+25,id:l+"-anchor_right",type:"right",isHovered:a,isSelected:s,nodeId:e}]}};const gI={type:"start-node",model:vI,view:pI},fa=t=>(Jt("data-v-0f07fd4c"),t=t(),Qt(),t),mI={class:"gray-block"},yI=fa(()=>T("div",{class:"gray-block-title"},"输入",-1)),_I={class:"flex-block-item"},CI=["src"],bI={key:0},xI={key:1},wI=fa(()=>T("span",null,"温度 ",-1)),EI={class:"number-box"},SI={class:"number-slider-box"},MI={class:"number-input-box"},OI=fa(()=>T("span",null,"最大token ",-1)),AI={class:"number-box"},NI={class:"number-slider-box"},TI={class:"number-input-box"},PI=fa(()=>T("span",null,"上下文数量 ",-1)),kI={class:"number-box"},LI={class:"number-slider-box"},DI={class:"number-input-box"};const RI=fa(()=>T("div",{class:"diy-form-item"},[T("div",{class:"form-label"},"用户问题"),T("div",{class:"form-content"},"流程开始>用户问题")],-1)),II={class:"gray-block mt16"},HI=fa(()=>T("div",{class:"gray-block-title"},"问题分类设置",-1)),BI={class:"array-form-box"},jI={class:"flex-block-item"},$I=["onClick"],FI={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(t,{expose:e,emit:n}){const r=n0(),o=xr("getGraph"),i=xr("getNode"),a=t,s=xe(()=>r.modelList),l=n,u=Ie(!1),d=()=>{u.value=!u.value,l("setData",{...f,showMoreBtn:u.value,height:g()})},c=Ie(),f=kn({model_config_id:void 0,use_model:void 0,temperature:0,max_token:0,context_pair:0,prompt:"",categorys:[{category:"",next_node_key:"",key:Math.random()*1e4}]});let h=!1;const v=Ie(!1),p=Ie([]);qt(()=>a.properties,R=>{try{if(v.value||O(),h)return;let I=JSON.parse(R.node_params).cate||{};I=JSON.parse(JSON.stringify(I));for(let W in I)W=="categorys"?I.categorys&&I.categorys.length>0?f[W]=I.categorys.map(G=>({...G,key:Math.random()*1e4})):f[W]=[{category:"",next_node_key:"",key:Math.random()*1e4}]:f[W]=I[W];!f.model_config_id&&s.value.length>0&&(f.model_config_id=s.value[0].id,f.use_model=s.value[0].children[0].name),h=!0,setTimeout(()=>{l("setData",{...f,node_params:JSON.stringify({cate:{...f,model_config_id:f.model_config_id?+f.model_config_id:f.model_config_id}}),showMoreBtn:u.value,height:g()})},100)}catch{}},{immediate:!0,deep:!0}),qt(()=>f,R=>{l("setData",{...f,node_params:JSON.stringify({cate:{...f,model_config_id:f.model_config_id?+f.model_config_id:f.model_config_id}}),showMoreBtn:u.value,height:g()})},{deep:!0});function g(){let R=464+f.categorys.length*42;return u.value?R+144:R}const m=()=>{f.categorys.push({category:"",next_node_key:"",key:Math.random()*1e4})},y=R=>{f.categorys.splice(R,1)},A=()=>{let R=/ +【/g;f.prompt=f.prompt.replace(/\//g,"").replace(R,"【")};function M(R,I=""){let W=[];return R.forEach(G=>{let C=I?`${I}.${G.key}`:String(G.key),L=I?`${I}.${G.key}`:String(G.key);W.push({label:C,value:L,payload:{typ:G.typ},hasSub:G.subs&&G.subs.length>0}),G.subs&&Array.isArray(G.subs)&&(W=W.concat(M(G.subs,C)))}),W}function O(){let R=i(),I=o().getNodeIncomingNode(R.id),W=[];I&&I.length&&I.forEach(C=>{let L=C.properties.node_type,k=C.properties.output;L==4&&k&&k.length&&(W=M(k),W=W.filter(B=>!B.hasSub),W=W.map(B=>({...B,value:`【${B.value}】`})))});let G=[{label:"用户消息",value:"【global.question】",payload:{typ:"string"}},{label:"open_id",value:"【global.openid】",payload:{typ:"string"}},...W];p.value=G}const w=(R,I)=>Promise.resolve(),_=["azure","ollama","xinference","openaiAgent"],N=(R,I)=>{const W=I.current_obj;f.use_model=_.indexOf(W.model_define)>-1&&W.deployment_name?W.deployment_name:W.name,f.model_config_id=W.id||I.model_config_id};return e({}),(R,I)=>{const W=g0,G=Ji,C=qu,L=Qi,k=ni,B=f0,V=c0,$=Ju,te=Yu,ne=v0,se=Rd,me=qi,be=hs;return ae(),Ce("div",{class:"form-block",onMousedown:I[11]||(I[11]=Nn(()=>{},["stop"]))},[D(be,{ref_key:"formRef",ref:c,layout:"vertical",model:f},{default:re(()=>[T("div",mI,[yI,D(B,{label:"LLM模型",name:"use_model"},{default:re(()=>[T("div",_I,[D(L,{value:f.use_model,"onUpdate:value":I[0]||(I[0]=ue=>f.use_model=ue),placeholder:"请选择LLM模型",onChange:N,style:{width:"348px"}},{default:re(()=>[(ae(!0),Ce(It,null,Vt(s.value,ue=>(ae(),lt(C,{key:ue.id},{label:re(()=>[D(W,{align:"center",gap:6},{default:re(()=>[T("img",{class:"model-icon",src:ue.icon,alt:""},null,8,CI),ot(st(ue.name),1)]),_:2},1024)]),default:re(()=>[(ae(!0),Ce(It,null,Vt(ue.children,we=>(ae(),lt(G,{value:_.indexOf(ue.model_define)>-1&&we.deployment_name?we.deployment_name:we.name+we.id,model_config_id:ue.id,current_obj:we,key:we.name+we.id},{default:re(()=>[_.indexOf(ue.model_define)>-1&&we.deployment_name?(ae(),Ce("span",bI,st(we.deployment_name),1)):(ae(),Ce("span",xI,st(we.name),1))]),_:2},1032,["value","model_config_id","current_obj"]))),128))]),_:2},1024))),128))]),_:1},8,["value"]),D(k,{onClick:d},{default:re(()=>[ot("高级设置 "),u.value?(ae(),lt(Je(H1),{key:0})):(ae(),lt(Je(B1),{key:1}))]),_:1})])]),_:1}),u.value?(ae(),lt(B,{key:0,name:"temperature"},{label:re(()=>[wI,D(V,null,{title:re(()=>[ot("温度越低，回答越严谨。温度越高，回答越发散。")]),default:re(()=>[D(Je(po),{class:"question-icon"})]),_:1})]),default:re(()=>[T("div",EI,[T("div",SI,[D(te,null,{default:re(()=>[D($,{class:"custom-slider",value:f.temperature,"onUpdate:value":I[1]||(I[1]=ue=>f.temperature=ue),min:0,max:2,step:.1},null,8,["value"])]),_:1})]),T("div",MI,[D(ne,{value:f.temperature,"onUpdate:value":I[2]||(I[2]=ue=>f.temperature=ue),min:0,max:2,step:.1},null,8,["value"])])])]),_:1})):Ht("",!0),u.value?(ae(),lt(B,{key:1,name:"max_token"},{label:re(()=>[OI,D(V,null,{title:re(()=>[ot("问题+答案的最大token数，如果出现回答被截断，可调高此值")]),default:re(()=>[D(Je(po),{class:"question-icon"})]),_:1})]),default:re(()=>[T("div",AI,[T("div",NI,[D(te,null,{default:re(()=>[D($,{class:"custom-slider",value:f.max_token,"onUpdate:value":I[3]||(I[3]=ue=>f.max_token=ue),min:0,max:100*1024},null,8,["value"])]),_:1})]),T("div",TI,[D(ne,{value:f.max_token,"onUpdate:value":I[4]||(I[4]=ue=>f.max_token=ue),min:0,max:100*1024},null,8,["value"])])])]),_:1})):Ht("",!0),D(B,{name:"context_pair"},{label:re(()=>[PI,D(V,null,{title:re(()=>[ot("提示词中携带的历史聊天记录轮次。设置为0则不携带聊天记录。最多设置10轮。注意，携带的历史聊天记录越多，消耗的token相应也就越多。")]),default:re(()=>[D(Je(po),{class:"question-icon"})]),_:1})]),default:re(()=>[T("div",kI,[T("div",LI,[D(te,null,{default:re(()=>[D($,{class:"custom-slider",value:f.context_pair,"onUpdate:value":I[5]||(I[5]=ue=>f.context_pair=ue),min:0,max:10},null,8,["value"])]),_:1})]),T("div",DI,[D(ne,{value:f.context_pair,"onUpdate:value":I[6]||(I[6]=ue=>f.context_pair=ue),min:0,max:10},null,8,["value"])])])]),_:1}),Ht("",!0),RI]),T("div",II,[HI,T("div",BI,[(ae(!0),Ce(It,null,Vt(f.categorys,(ue,we)=>(ae(),Ce("div",{class:"form-item-list",key:ue.key},[D(B,{label:null,name:["categorys",we,"category"],rules:{required:!0,validator:(H,Z)=>w(H,Z)}},{default:re(()=>[T("div",jI,[D(me,{class:"flex1",value:ue.category,"onUpdate:value":H=>ue.category=H,placeholder:"请输入"},null,8,["value","onUpdate:value"]),T("div",{class:"btn-hover-wrap",onClick:H=>y(we)},[D(Je(Yr))],8,$I)])]),_:2},1032,["name","rules"])]))),128)),D(k,{onClick:m,icon:ln(Je(so)),block:"",type:"dashed"},{default:re(()=>[ot("添加问题分类")]),_:1},8,["icon"])])])]),_:1},8,["model"])],32)}}},VI=Dt(FI,[["__scopeId","data-v-0f07fd4c"]]),zI={name:"QuestionNode",components:{NodeCommon:Wr,FormBlock:VI},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(t){if(t.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(t){this.setData({...t})}},mounted(){}},WI=t=>(Jt("data-v-0088e0e6"),t=t(),Qt(),t),UI={class:"question-node"},GI=WI(()=>T("div",{class:"node-desc"},"由大模型判断用户消息属于哪个分类，不同分类走不同分支",-1));function XI(t,e,n,r,o,i){const a=tn("FormBlock"),s=tn("node-common");return ae(),lt(s,{title:n.properties.node_name,menus:o.menus,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type,onHandleMenu:i.handleMenu},{default:re(()=>[T("div",UI,[GI,D(a,{onSetData:i.handleSetData,properties:n.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const YI=Dt(zI,[["render",XI],["__scopeId","data-v-0088e0e6"]]);let ZI=class extends Vr{constructor(e){super(e),this.renderVue(YI,e)}},KI=class extends zr{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,o,i,a)=>{if(r.id==o.id)return!1;const s=r.graphModel.edges.map(u=>u.sourceAnchorId),l=i.id;return i.type==="right"&&!s.includes(l)}};this.sourceRules=[e];const n={message:"只允许连接左边的锚点",validate:(r,o,i,a)=>r.id==o.id?!1:a.type==="left"};this.targetRules=[n]}getAnchorPos(){return SS(this.properties)}getDefaultAnchor(){const{id:e,x:n,y:r,width:o,height:i,isHovered:a,isSelected:s}=this,{nodeSortKey:l}=this.properties;let u=[{x:n-o/2,y:r-i/2+24,id:l+"-anchor_left",type:"left",nodeId:e}],d=this.getAnchorPos();for(let c=0;c<d.length;c++){let{offsetTop:f,offsetHeight:h}=d[c],v=r-i/2;u.push({id:d[c].id,x:n+o/2,y:v+f+h/2,type:"right"})}return u}};const qI={type:"question-node",model:KI,view:ZI},JI={name:"MessageNode",components:{NodeCommon:Wr},inject:["getNode","getGraph"],props:{properties:{type:Object,default(){return{message_list:[]}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(t){if(t.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}}}},QI={class:"message-node"},eH={key:0,class:"no-data"},tH={class:"node-desc"},nH={key:0,class:"q-title"},rH={key:1,class:"q-image"},oH=["src"],iH={key:2,class:"q-btn-box"};function aH(t,e,n,r,o,i){const a=tn("node-common");return ae(),lt(a,{title:n.properties.node_name,menus:o.menus,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,onHandleMenu:i.handleMenu},{default:re(()=>[T("div",QI,[n.properties.message_list.length==0?(ae(),Ce("div",eH,"点击设置消息内容")):Ht("",!0),(ae(!0),Ce(It,null,Vt(n.properties.message_list,(s,l)=>(ae(),Ce("div",{class:"message-item",key:l},[T("div",tH,"延时"+st(s.delay)+"s",1),s.msg_type=="text"||s.msg_type=="menu"?(ae(),Ce("div",nH,st(s.sort_content),1)):Ht("",!0),s.msg_type=="image"?(ae(),Ce("div",rH,[T("img",{class:"image",src:s.content,alt:""},null,8,oH)])):Ht("",!0),s.msg_type=="menu"&&s.question.length?(ae(),Ce("div",iH,[(ae(!0),Ce(It,null,Vt(s.question,(u,d)=>(ae(),Ce("div",{class:"q-btn",key:d},st(u.content),1))),128))])):Ht("",!0)]))),128))])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","onHandleMenu"])}const sH=Dt(JI,[["render",aH],["__scopeId","data-v-6c85bc49"]]);let lH=class extends Vr{constructor(e){super(e),this.renderVue(sH,e)}},uH=class extends zr{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,o,i,a)=>{if(r.id==o.id)return!1;const s=r.graphModel.edges.map(u=>u.sourceAnchorId),l=i.id;return i.type==="right"&&!s.includes(l)}};this.sourceRules=[e];const n={message:"只允许连接左边的锚点",validate:(r,o,i,a)=>r.id==o.id?!1:a.type==="left"};this.targetRules=[n]}getAnchorPos(){return K3(this)}getDefaultAnchor(){const{id:e,x:n,y:r,width:o,height:i,isHovered:a,isSelected:s}=this,{nodeSortKey:l}=this.properties;let u=[{x:n-o/2,y:r-i/2+24,id:l+"-anchor_left",type:"left",nodeId:e},{x:n+o/2,y:r-i/2+24,id:l+"-anchor_right",type:"right",nodeId:e}],d=this.getAnchorPos();for(let c=0;c<d.length;c++){let{offsetTop:f,offsetHeight:h}=d[c],v=r-i/2;u.push({id:d[c].id,x:n+o/2,y:v+f+h/2,type:"right"})}return u}};const dH={type:"message-node",model:uH,view:lH},cH={name:"QuestionNode",components:{NodeCommon:Wr},inject:["getNode","getGraph"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},mounted(){},methods:{handleMenu(t){if(t.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}}}},fH={class:"question-node"},hH={class:"node-desc"};function pH(t,e,n,r,o,i){const a=tn("node-common");return ae(),lt(a,{title:n.properties.node_name,menus:o.menus,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,onHandleMenu:i.handleMenu},{default:re(()=>[T("div",fH,[T("div",hH,st(n.properties.content||"点击设置消息内容"),1)])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","onHandleMenu"])}const vH=Dt(cH,[["render",pH],["__scopeId","data-v-2201925d"]]);let gH=class extends Vr{constructor(e){super(e),this.renderVue(vH,e)}},mH=class extends zr{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,o,i,a)=>{if(r.id==o.id)return!1;const s=r.graphModel.edges.map(u=>u.sourceAnchorId),l=i.id;return i.type==="right"&&!s.includes(l)}};this.sourceRules=[e];const n={message:"只允许连接左边的锚点",validate:(r,o,i,a)=>r.id==o.id?!1:a.type==="left"};this.targetRules=[n]}getDefaultAnchor(){const{id:e,x:n,y:r,width:o,height:i,isHovered:a,isSelected:s}=this,{nodeSortKey:l}=this.properties;let u=[{x:n-o/2,y:r-i/2+24,id:l+"-anchor_left",type:"left",nodeId:e}];return this.properties.node_type!=5&&u.push({x:n+o/2,y:r-i/2+24,id:l+"-anchor_right",type:"right",nodeId:e}),u}};const yH={type:"action-node",model:mH,view:gH},_H={name:"QuestionNode",components:{NodeCommon:Wr},inject:["getNode","getGraph"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(t){if(t.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},secondsToMinutes(t){return y6(t)}}},CH={class:"qa-node"},bH={key:0,class:"no-data"};function xH(t,e,n,r,o,i){const a=tn("node-common");return ae(),lt(a,{title:n.properties.node_name,menus:o.menus,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,onHandleMenu:i.handleMenu},{default:re(()=>[T("div",CH,[n.properties.no_resp_jump_time?Ht("",!0):(ae(),Ce("div",bH,"点击设置消息内容"))])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","onHandleMenu"])}const wH=Dt(_H,[["render",xH],["__scopeId","data-v-745358a5"]]);let EH=class extends Vr{constructor(e){super(e),this.renderVue(wH,e)}},SH=class extends zr{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,o,i,a)=>{if(r.id==o.id)return!1;const s=r.graphModel.edges.map(u=>u.sourceAnchorId),l=i.id;return i.type==="right"&&!s.includes(l)}};this.sourceRules=[e];const n={message:"只允许连接左边的锚点",validate:(r,o,i,a)=>r.id==o.id?!1:a.type==="left"};this.targetRules=[n]}getDefaultAnchor(){const{id:e,x:n,y:r,width:o,height:i,isHovered:a,isSelected:s}=this,{nodeSortKey:l}=this.properties;return[{x:n-o/2,y:r-i/2+24,id:l+"-anchor_left",type:"left",nodeId:e},{x:n+o/2,y:r-i/2+24,id:l+"-anchor_right",type:"right",nodeId:e}]}};const MH={type:"qa-node",model:SH,view:EH},Ao=t=>(Jt("data-v-cea80c0f"),t=t(),Qt(),t),OH={class:"gray-block"},AH=Ao(()=>T("div",{class:"gray-block-title"},"输入",-1)),NH={class:"flex-block-item"},TH=["src"],PH={key:0},kH={key:1},LH=Ao(()=>T("span",null,"温度 ",-1)),DH={class:"number-box"},RH={class:"number-slider-box"},IH={class:"number-input-box"},HH=Ao(()=>T("span",null,"最大token ",-1)),BH={class:"number-box"},jH={class:"number-slider-box"},$H={class:"number-input-box"},FH=Ao(()=>T("span",null,"上下文数量 ",-1)),VH={class:"number-box"},zH={class:"number-slider-box"},WH={class:"number-input-box"},UH={class:"field-list-item"},GH={class:"field-label"},XH={class:"field-type"},YH=Ao(()=>T("div",{class:"form-tip"},"输入 / 插入变量",-1)),ZH=Ao(()=>T("div",{class:"diy-form-item"},[T("div",{class:"form-label"},"用户问题"),T("div",{class:"form-content"},"流程开始>用户问题")],-1)),KH=Ao(()=>T("div",{class:"diy-form-item mt12"},[T("div",{class:"form-label"},"知识库引用"),T("div",{class:"form-content"},"流程开始>用户问题")],-1)),qH=Ao(()=>T("div",{class:"gray-block mt16"},[T("div",{class:"gray-block-title"},"输出"),T("div",{class:"options-item"},[T("div",{class:"option-label"},"AI回复内容"),T("div",{class:"option-type"},"string")])],-1)),JH={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(t,{expose:e,emit:n}){const r=n0(),o=xr("getGraph"),i=xr("getNode"),a=t,s=xe(()=>r.modelList),l=Ie(!1),u=Ie([]),d=Ie(!1),c=()=>{d.value=!d.value,f("setData",{height:d.value?810:670})},f=n,h=Ie(),v=kn({model_config_id:void 0,use_model:void 0,temperature:0,max_token:0,context_pair:0,prompt:""});let p=!1;qt(()=>a.properties,O=>{try{if(l.value||y(),p)return;let w=JSON.parse(O.node_params).llm||{};w=JSON.parse(JSON.stringify(w));let{model_config_id:_,use_model:N,context_pair:R,temperature:I,max_token:W,prompt:G}=w;v.model_config_id=_,v.use_model=N,v.context_pair=R,v.temperature=I,v.max_token=W,v.prompt=G,!v.model_config_id&&s.value.length>0&&(v.model_config_id=s.value[0].id,v.use_model=s.value[0].children[0].name),p=!0,setTimeout(()=>{f("setData",{...v,node_params:JSON.stringify({llm:{...v,model_config_id:v.model_config_id?+v.model_config_id:v.model_config_id}})})},100)}catch(w){}},{immediate:!0,deep:!0}),qt(()=>v,O=>{f("setData",{...v,node_params:JSON.stringify({llm:{...v,model_config_id:v.model_config_id?+v.model_config_id:v.model_config_id}})})},{deep:!0});const g=()=>{let O=/ +【/g;v.prompt=v.prompt.replace(/\//g,"").replace(O,"【")};function m(O,w=""){let _=[];return O.forEach(N=>{let R=w?`${w}.${N.key}`:String(N.key),I=w?`${w}.${N.key}`:String(N.key);_.push({label:R,value:I,payload:{typ:N.typ},hasSub:N.subs&&N.subs.length>0}),N.subs&&Array.isArray(N.subs)&&(_=_.concat(m(N.subs,R)))}),_}function y(){let O=i(),w=o().getNodeIncomingNode(O.id),_=[];w&&w.length&&w.forEach(R=>{let I=R.properties.node_type,W=R.properties.output;I==4&&W&&W.length&&(_=m(W),_=_.filter(G=>!G.hasSub),_=_.map(G=>({...G,value:`【${G.value}】`})))});let N=[{label:"用户消息",value:"【global.question】",payload:{typ:"string"}},{label:"open_id",value:"【global.openid】",payload:{typ:"string"}},..._];u.value=N}const A=["azure","ollama","xinference","openaiAgent"],M=(O,w)=>{const _=w.current_obj;v.use_model=A.indexOf(_.model_define)>-1&&_.deployment_name?_.deployment_name:_.name,v.model_config_id=_.id||w.model_config_id};return e({}),(O,w)=>{const _=g0,N=Ji,R=qu,I=Qi,W=ni,G=f0,C=c0,L=Ju,k=Yu,B=v0,V=Rd,$=hs;return ae(),Ce("div",{class:"form-block",onMousedown:w[11]||(w[11]=Nn(()=>{},["stop"]))},[D($,{ref_key:"formRef",ref:h,layout:"vertical",model:v},{default:re(()=>[T("div",OH,[AH,D(G,{label:"LLM模型",name:"use_model"},{default:re(()=>[T("div",NH,[D(I,{value:v.use_model,"onUpdate:value":w[0]||(w[0]=te=>v.use_model=te),placeholder:"请选择LLM模型",onChange:M,style:{width:"348px"}},{default:re(()=>[(ae(!0),Ce(It,null,Vt(s.value,te=>(ae(),lt(R,{key:te.id},{label:re(()=>[D(_,{align:"center",gap:6},{default:re(()=>[T("img",{class:"model-icon",src:te.icon,alt:""},null,8,TH),ot(st(te.name),1)]),_:2},1024)]),default:re(()=>[(ae(!0),Ce(It,null,Vt(te.children,ne=>(ae(),lt(N,{value:A.indexOf(te.model_define)>-1&&ne.deployment_name?ne.deployment_name:ne.name+ne.id,model_config_id:te.id,current_obj:ne,key:ne.name+ne.id},{default:re(()=>[A.indexOf(te.model_define)>-1&&ne.deployment_name?(ae(),Ce("span",PH,st(ne.deployment_name),1)):(ae(),Ce("span",kH,st(ne.name),1))]),_:2},1032,["value","model_config_id","current_obj"]))),128))]),_:2},1024))),128))]),_:1},8,["value"]),D(W,{onClick:c},{default:re(()=>[ot("高级设置 "),d.value?(ae(),lt(Je(H1),{key:0})):(ae(),lt(Je(B1),{key:1}))]),_:1})])]),_:1}),d.value?(ae(),lt(G,{key:0,name:"temperature"},{label:re(()=>[LH,D(C,null,{title:re(()=>[ot("温度越低，回答越严谨。温度越高，回答越发散。")]),default:re(()=>[D(Je(po),{class:"question-icon"})]),_:1})]),default:re(()=>[T("div",DH,[T("div",RH,[D(k,null,{default:re(()=>[D(L,{class:"custom-slider",value:v.temperature,"onUpdate:value":w[1]||(w[1]=te=>v.temperature=te),min:0,max:2,step:.1},null,8,["value"])]),_:1})]),T("div",IH,[D(B,{value:v.temperature,"onUpdate:value":w[2]||(w[2]=te=>v.temperature=te),min:0,max:2,step:.1},null,8,["value"])])])]),_:1})):Ht("",!0),d.value?(ae(),lt(G,{key:1,name:"max_token"},{label:re(()=>[HH,D(C,null,{title:re(()=>[ot("问题+答案的最大token数，如果出现回答被截断，可调高此值")]),default:re(()=>[D(Je(po),{class:"question-icon"})]),_:1})]),default:re(()=>[T("div",BH,[T("div",jH,[D(k,null,{default:re(()=>[D(L,{class:"custom-slider",value:v.max_token,"onUpdate:value":w[3]||(w[3]=te=>v.max_token=te),min:0,max:100*1024},null,8,["value"])]),_:1})]),T("div",$H,[D(B,{value:v.max_token,"onUpdate:value":w[4]||(w[4]=te=>v.max_token=te),min:0,max:100*1024},null,8,["value"])])])]),_:1})):Ht("",!0),D(G,{name:"context_pair"},{label:re(()=>[FH,D(C,null,{title:re(()=>[ot("提示词中携带的历史聊天记录轮次。设置为0则不携带聊天记录。最多设置10轮。注意，携带的历史聊天记录越多，消耗的token相应也就越多。")]),default:re(()=>[D(Je(po),{class:"question-icon"})]),_:1})]),default:re(()=>[T("div",VH,[T("div",zH,[D(k,null,{default:re(()=>[D(L,{class:"custom-slider",value:v.context_pair,"onUpdate:value":w[5]||(w[5]=te=>v.context_pair=te),min:0,max:10},null,8,["value"])]),_:1})]),T("div",WH,[D(B,{value:v.context_pair,"onUpdate:value":w[6]||(w[6]=te=>v.context_pair=te),min:0,max:10},null,8,["value"])])])]),_:1}),D(G,{label:"提示词",name:"prompt"},{default:re(()=>[D(V,{onWheel:w[7]||(w[7]=Nn(()=>{},["stop"])),value:v.prompt,"onUpdate:value":w[8]||(w[8]=te=>v.prompt=te),prefix:"/",placeholder:"输入 / 插入变量",options:u.value,onSelect:g,onBlur:w[9]||(w[9]=()=>l.value=!1),onFocus:w[10]||(w[10]=()=>l.value=!0),rows:"4"},{option:re(({value:te,label:ne,payload:se})=>[T("div",UH,[T("div",GH,st(ne),1),T("div",XH,st(se.typ),1)])]),_:1},8,["value","options"]),YH]),_:1}),ZH,KH]),qH]),_:1},8,["model"])],32)}}},QH=Dt(JH,[["__scopeId","data-v-cea80c0f"]]),eB={name:"AiDialogueNode",components:{NodeCommon:Wr,FormBlock:QH},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(t){if(t.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(t){this.setData({...t})}},mounted(){}},tB=t=>(Jt("data-v-305c4dda"),t=t(),Qt(),t),nB={class:"ai-dialogue-node"},rB=tB(()=>T("div",{class:"node-desc"},"由大模型判断用户消息属于哪个分类，不同分类走不同分支",-1));function oB(t,e,n,r,o,i){const a=tn("FormBlock"),s=tn("node-common");return ae(),lt(s,{title:n.properties.node_name,menus:o.menus,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type,onHandleMenu:i.handleMenu},{default:re(()=>[T("div",nB,[rB,D(a,{onSetData:i.handleSetData,properties:n.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const iB=Dt(eB,[["render",oB],["__scopeId","data-v-305c4dda"]]);let aB=class extends Vr{constructor(e){super(e),this.renderVue(iB,e)}},sB=class extends zr{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,o,i,a)=>{if(r.id==o.id)return!1;const s=r.graphModel.edges.map(u=>u.sourceAnchorId),l=i.id;return i.type==="right"&&!s.includes(l)}};this.sourceRules=[e];const n={message:"只允许连接左边的锚点",validate:(r,o,i,a)=>r.id==o.id?!1:a.type==="left"};this.targetRules=[n]}getDefaultAnchor(){const{id:e,x:n,y:r,width:o,height:i,isHovered:a,isSelected:s}=this,{nodeSortKey:l}=this.properties;return[{x:n-o/2,y:r-i/2+24,id:l+"-anchor_left",type:"left",nodeId:e},{x:n+o/2,y:r-i/2+24,id:l+"-anchor_right",type:"right",nodeId:e}]}};const lB={type:"ai-dialogue-node",model:sB,view:aB},Hg="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20class='design-iconfont'%3e%3cpath%20d='M10%200V16M10%2032V16M10%2016H23'%20stroke='%23BFBFBF'%20stroke-linejoin='round'/%3e%3c/svg%3e",Bg=t=>(Jt("data-v-a4534228"),t=t(),Qt(),t),uB={class:"sub-field-item"},dB=Bg(()=>T("img",{class:"fork-icon",src:Hg,alt:""},null,-1)),cB=Bg(()=>T("img",{class:"fork-icon",src:Hg,alt:""},null,-1)),fB=["onClick"],hB=["onClick"],pB={__name:"subs-key",props:{data:{},level:{type:Number},typOptions:{type:Array}},setup(t){const e=t,n=xe(()=>e.level>2?e.typOptions.filter(l=>l.value!="object"):e.typOptions),r=xe(()=>e.level==2?"180px":"146px"),o=(l,u)=>{u[l].subs.push({key:"",value:"",subs:[],cu_key:Math.random()*1e4})},i=(l,u)=>{u.splice(l,1)},a=l=>{l.subs=[]},s=l=>l.typ=="object"&&e.level<=2;return(l,u)=>{const d=qi,c=Ji,f=Qi,h=tn("SubsKey",!0);return ae(!0),Ce(It,null,Vt(e.data,(v,p)=>(ae(),Ce("div",{class:Ga(["sub-field-item-box",`sub-field-item-box_${e.level}`]),key:v.cu_key},[T("div",uB,[dB,D(d,{class:"mr12",style:pc({width:r.value}),value:v.key,"onUpdate:value":g=>v.key=g,placeholder:"请输入"},null,8,["style","value","onUpdate:value"]),cB,D(f,{class:"mr12",onChange:g=>a(v),value:v.typ,"onUpdate:value":g=>v.typ=g,placeholder:"请选择",style:pc({width:r.value})},{default:re(()=>[(ae(!0),Ce(It,null,Vt(n.value,g=>(ae(),lt(c,{value:g.value},{default:re(()=>[ot(st(g.value),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["onChange","value","onUpdate:value","style"]),s(v)?(ae(),Ce("div",{key:0,class:"btn-hover-wrap mr12",onClick:g=>o(p,e.data)},[D(Je(V1))],8,fB)):Ht("",!0),T("div",{class:"btn-hover-wrap",onClick:g=>i(p,e.data)},[D(Je(Yr))],8,hB)]),v.subs&&v.subs.length>0?(ae(),lt(h,{key:0,level:e.level+1,typOptions:e.typOptions,data:v.subs},null,8,["level","typOptions","data"])):Ht("",!0)],2))),128)}}},vB=Dt(pB,[["__scopeId","data-v-a4534228"]]),G0=t=>(Jt("data-v-4c119938"),t=t(),Qt(),t),gB={class:"form-block"},mB={class:"gray-block"},yB=G0(()=>T("div",{class:"gray-block-title"},"输入",-1)),_B=G0(()=>T("div",{class:"form-item-label"},"HEADERS",-1)),CB={class:"flex-block-item"},bB={class:"field-list-item"},xB={class:"field-label"},wB={class:"field-type"},EB=["onClick"],SB=G0(()=>T("div",{class:"form-item-label"},"PARAMS",-1)),MB={class:"flex-block-item"},OB={class:"field-list-item"},AB={class:"field-label"},NB={class:"field-type"},TB=["onClick"],PB={key:0,class:"array-form-box"},kB={class:"flex-block-item"},LB={class:"field-list-item"},DB={class:"field-label"},RB={class:"field-type"},IB=["onClick"],HB={class:"flex-block-item"},BB={class:"gray-block mt16"},jB={class:"output-box"},$B=G0(()=>T("div",{class:"output-block"},[T("div",{class:"output-item"},"参数Key"),T("div",{class:"output-item"},"类型")],-1)),FB={class:"flex-block-item",style:{gap:"12px"}},VB=["onClick"],zB=["onClick"],WB={key:0,class:"sub-field-box"},UB={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(t,{expose:e,emit:n}){const r=xr("getGraph"),o=xr("getNode"),i=t,a=n,s=Ie(),l=kn({method:"POST",rawurl:"",headers:[{key:"",value:""}],params:[{key:"",value:""}],type:1,body:[],body_raw:"",timeout:30,output:[{key:"",typ:"",subs:[]}]});function u(B){return B.forEach(V=>{V.cu_key=Math.random()*1e4,V.subs&&V.subs.length?u(V.subs):V.subs=[]}),B}let d=!1;const c=Ie([]),f=Ie(!1);qt(()=>i.properties,B=>{try{if(f.value||k(),d)return;let V=JSON.parse(B.node_params).curl||{};V=JSON.parse(JSON.stringify(V));for(let $ in V){if($=="headers"||$=="params"||$=="body"){V[$]&&V[$].length>0?l[$]=V[$].map(te=>({...te,cu_key:Math.random()*1e4})):l[$]=[];continue}if($=="output"){l.output=u(V[$]);continue}l[$]=V[$]}d=!0,setTimeout(()=>{a("setData",{...l,node_params:JSON.stringify({curl:{...l}}),height:v()})},100)}catch{}},{immediate:!0,deep:!0}),qt(()=>l,B=>{a("setData",{...l,node_params:JSON.stringify({curl:{...l}}),height:v()})},{deep:!0});const h=()=>{l.output};function v(){let B=562,V=0;l.type==1&&(B=640+(l.body.length-1)*36),l.type==2&&(B=670),l.method=="GET"&&(B=505),V=B+(l.headers.length-1)*36+(l.params.length-1)*36;let $=p(l.output);return V+180+($-1)*36}function p(B){let V=B.length;for(const $ of B)$.subs&&Array.isArray($.subs)&&(V+=p($.subs));return V}const g=()=>{l.headers.push({key:"",value:"",cu_key:Math.random()*1e4})},m=B=>{l.headers.splice(B,1)},y=()=>{l.params.push({key:"",value:"",cu_key:Math.random()*1e4})},A=B=>{l.params.splice(B,1)},M=()=>{l.body.push({key:"",value:"",cu_key:Math.random()*1e4})},O=B=>{l.body.splice(B,1)},w=()=>{l.output.push({key:"",typ:"string",subs:[],cu_key:Math.random()*1e4})},_=B=>{l.output.splice(B,1)},N=B=>{B.subs=[]},R=B=>{l.output[B].subs.push({key:"",value:"",subs:[],cu_key:Math.random()*1e4})},I=(B,V)=>Promise.resolve(),W=[{lable:"string",value:"string"},{lable:"number",value:"number"},{lable:"boole",value:"boole"},{lable:"float",value:"float"},{lable:"object",value:"object"},{lable:"array<string>",value:"array<string>"},{lable:"array<number>",value:"array<number>"},{lable:"array<boole>",value:"array<boole>"},{lable:"array<float>",value:"array<float>"}],G=(B,V,$)=>{let te=/ +【/g;l[B][V].value=$.replace(/\//g,"").replace(te,"【")},C=()=>{let B=/ +【/g;l.body_raw=l.body_raw.replace(/\//g,"").replace(B,"【")};function L(B,V=""){let $=[];return B.forEach(te=>{let ne=V?`${V}.${te.key}`:String(te.key),se=V?`${V}.${te.key}`:String(te.key);$.push({label:ne,value:se,payload:{typ:te.typ},hasSub:te.subs&&te.subs.length>0}),te.subs&&Array.isArray(te.subs)&&($=$.concat(L(te.subs,ne)))}),$}function k(){let B=o(),V=r().getNodeIncomingNode(B.id),$=[];V&&V.length&&V.forEach(ne=>{let se=ne.properties.node_type,me=ne.properties.output;se==4&&me&&me.length&&($=L(me),$=$.filter(be=>!be.hasSub),$=$.map(be=>({...be,value:`【${be.value}】`})))});let te=[{label:"用户消息",value:"【global.question】",payload:{typ:"string"}},{label:"open_id",value:"【global.openid】",payload:{typ:"string"}},...$];c.value=te}return e({}),(B,V)=>{const $=Ji,te=Qi,ne=Yu,se=qi,me=f0,be=Rd,ue=ni,we=km,H=Lm,Z=g0,Q=v0,he=hs;return ae(),Ce("div",gB,[D(he,{ref_key:"formRef",ref:s,layout:"vertical",model:l},{default:re(()=>[T("div",mB,[yB,D(me,{label:"请求地址",name:"rawurl",rules:[{required:!0,message:"请输入请求地址"}]},{default:re(()=>[T("div",{class:"flex-block-item",onMousedown:V[2]||(V[2]=Nn(()=>{},["stop"]))},[D(ne,null,{default:re(()=>[D(te,{value:l.method,"onUpdate:value":V[0]||(V[0]=X=>l.method=X),style:{width:"160px"}},{default:re(()=>[D($,{value:"POST"},{default:re(()=>[ot("POST")]),_:1}),D($,{value:"GET"},{default:re(()=>[ot("GET")]),_:1})]),_:1},8,["value"])]),_:1}),D(se,{class:"flex1",value:l.rawurl,"onUpdate:value":V[1]||(V[1]=X=>l.rawurl=X),placeholder:"请输入请求地址"},null,8,["value"])],32)]),_:1}),T("div",{class:"array-form-box",onMousedown:V[5]||(V[5]=Nn(()=>{},["stop"]))},[_B,(ae(!0),Ce(It,null,Vt(l.headers,(X,ie)=>(ae(),Ce("div",{class:"form-item-list",key:ie},[D(me,{label:null,name:["headers",ie,"value"],rules:{required:!0,validator:(oe,Te)=>I(oe,Te)}},{default:re(()=>[T("div",CB,[D(ne,null,{default:re(()=>[D(se,{style:{width:"160px"},value:X.key,"onUpdate:value":oe=>X.key=oe,placeholder:"请输入参数KEY"},null,8,["value","onUpdate:value"])]),_:2},1024),D(be,{class:"flex1",value:X.value,"onUpdate:value":oe=>X.value=oe,prefix:"/",placeholder:"请输入参数值，键入“/”插入变量",options:c.value,onBlur:V[3]||(V[3]=()=>f.value=!1),onFocus:V[4]||(V[4]=()=>f.value=!0),onSelect:oe=>G("headers",ie,X.value)},{option:re(({value:oe,label:Te,payload:Xe})=>[T("div",bB,[T("div",xB,st(Te),1),T("div",wB,st(Xe.typ),1)])]),_:2},1032,["value","onUpdate:value","options","onSelect"]),T("div",{class:"btn-hover-wrap",onClick:oe=>m(ie)},[D(Je(Yr))],8,EB)])]),_:2},1032,["name","rules"])]))),128)),D(ue,{onClick:g,icon:ln(Je(so)),block:"",type:"dashed"},{default:re(()=>[ot("添加参数")]),_:1},8,["icon"])],32),T("div",{class:"array-form-box",onMousedown:V[8]||(V[8]=Nn(()=>{},["stop"]))},[SB,(ae(!0),Ce(It,null,Vt(l.params,(X,ie)=>(ae(),Ce("div",{class:"form-item-list",key:ie},[D(me,{label:null,name:["params",ie,"value"],rules:{required:!0,validator:(oe,Te)=>I(oe,Te)}},{default:re(()=>[T("div",MB,[D(ne,null,{default:re(()=>[D(se,{style:{width:"160px"},value:X.key,"onUpdate:value":oe=>X.key=oe,placeholder:"请输入参数KEY"},null,8,["value","onUpdate:value"])]),_:2},1024),D(be,{class:"flex1",value:X.value,"onUpdate:value":oe=>X.value=oe,prefix:"/",onBlur:V[6]||(V[6]=()=>f.value=!1),onFocus:V[7]||(V[7]=()=>f.value=!0),placeholder:"请输入参数值，键入“/”插入变量",options:c.value,onSelect:oe=>G("params",ie,X.value)},{option:re(({value:oe,label:Te,payload:Xe})=>[T("div",OB,[T("div",AB,st(Te),1),T("div",NB,st(Xe.typ),1)])]),_:2},1032,["value","onUpdate:value","options","onSelect"]),T("div",{class:"btn-hover-wrap",onClick:oe=>A(ie)},[D(Je(Yr))],8,TB)])]),_:2},1032,["name","rules"])]))),128)),D(ue,{onClick:y,icon:ln(Je(so)),block:"",type:"dashed"},{default:re(()=>[ot("添加参数")]),_:1},8,["icon"])],32),l.method=="POST"?(ae(),Ce("div",{key:0,onMousedown:V[17]||(V[17]=Nn(()=>{},["stop"]))},[D(me,{label:"BODY",name:"type",class:"line-height-22"},{default:re(()=>[D(H,{value:l.type,"onUpdate:value":V[9]||(V[9]=X=>l.type=X)},{default:re(()=>[D(we,{value:0},{default:re(()=>[ot("none")]),_:1}),D(we,{value:1},{default:re(()=>[ot("x-www-form-urlencoded")]),_:1}),D(we,{value:2},{default:re(()=>[ot("JSON")]),_:1})]),_:1},8,["value"])]),_:1}),l.type==1?(ae(),Ce("div",PB,[(ae(!0),Ce(It,null,Vt(l.body,(X,ie)=>(ae(),Ce("div",{class:"form-item-list",key:ie},[D(me,{label:null,name:["body",ie,"value"],rules:{required:!0,validator:(oe,Te)=>I(oe,Te)}},{default:re(()=>[T("div",kB,[D(ne,null,{default:re(()=>[D(se,{style:{width:"160px"},value:X.key,"onUpdate:value":oe=>X.key=oe,placeholder:"请输入参数KEY"},null,8,["value","onUpdate:value"])]),_:2},1024),D(be,{class:"flex1",onBlur:V[10]||(V[10]=()=>f.value=!1),onFocus:V[11]||(V[11]=()=>f.value=!0),value:X.value,"onUpdate:value":oe=>X.value=oe,prefix:"/",placeholder:"请输入参数值，键入“/”插入变量",options:c.value,onSelect:oe=>G("body",ie,X.value)},{option:re(({value:oe,label:Te,payload:Xe})=>[T("div",LB,[T("div",DB,st(Te),1),T("div",RB,st(Xe.typ),1)])]),_:2},1032,["value","onUpdate:value","options","onSelect"]),T("div",{class:"btn-hover-wrap",onClick:oe=>O(ie)},[D(Je(Yr))],8,IB)])]),_:2},1032,["name","rules"])]))),128)),D(ue,{onClick:M,icon:ln(Je(so)),block:"",type:"dashed"},{default:re(()=>[ot("添加参数")]),_:1},8,["icon"])])):Ht("",!0),l.type==2?(ae(),lt(me,{key:1,label:null,name:"body_raw"},{default:re(()=>[D(be,{onWheel:V[12]||(V[12]=Nn(()=>{},["stop"])),value:l.body_raw,"onUpdate:value":V[13]||(V[13]=X=>l.body_raw=X),onBlur:V[14]||(V[14]=()=>f.value=!1),onFocus:V[15]||(V[15]=()=>f.value=!0),prefix:"/",rows:4,options:c.value,onSelect:V[16]||(V[16]=X=>C()),placeholder:"请输入json, 输入 / 插入变量"},null,8,["value","options"])]),_:1})):Ht("",!0)],32)):Ht("",!0),D(me,{name:"timeout"},{label:re(()=>[D(Z,{gap:2},{default:re(()=>[ot("超时时长")]),_:1})]),default:re(()=>[T("div",HB,[D(Q,{placeholder:"请输入请求地址",style:{width:"138px"},precision:0,value:l.timeout,"onUpdate:value":V[18]||(V[18]=X=>l.timeout=X),min:0,max:3e3},null,8,["value"]),ot(" 秒 ")])]),_:1})]),T("div",BB,[T("div",{class:"gray-block-title",onClick:h},"输出 (输出字段提取)"),T("div",jB,[$B,T("div",{class:"array-form-box",onMousedown:V[19]||(V[19]=Nn(()=>{},["stop"]))},[(ae(!0),Ce(It,null,Vt(l.output,(X,ie)=>(ae(),Ce("div",{class:"form-item-list",key:ie},[D(me,{label:null,name:["output",ie,"key"],rules:{required:!0,validator:(oe,Te)=>I(oe,Te)}},{default:re(()=>[T("div",FB,[D(se,{style:{width:"214px"},value:X.key,"onUpdate:value":oe=>X.key=oe,placeholder:"请输入"},null,8,["value","onUpdate:value"]),D(ne,null,{default:re(()=>[D(te,{onChange:oe=>N(X),value:X.typ,"onUpdate:value":oe=>X.typ=oe,placeholder:"请选择",style:{width:"214px"}},{default:re(()=>[(ae(),Ce(It,null,Vt(W,oe=>D($,{value:oe.value},{default:re(()=>[ot(st(oe.value),1)]),_:2},1032,["value"])),64))]),_:2},1032,["onChange","value","onUpdate:value"])]),_:2},1024),X.typ=="object"?(ae(),Ce("div",{key:0,class:"btn-hover-wrap",onClick:oe=>R(ie)},[D(Je(V1))],8,VB)):Ht("",!0),T("div",{class:"btn-hover-wrap",onClick:oe=>_(ie)},[D(Je(Yr))],8,zB)]),X.subs&&X.subs.length>0?(ae(),Ce("div",WB,[D(ne,null,{default:re(()=>[D(vB,{data:X.subs,level:2,typOptions:W},null,8,["data"])]),_:2},1024)])):Ht("",!0)]),_:2},1032,["name","rules"])]))),128)),D(ue,{onClick:w,icon:ln(Je(so)),block:"",type:"dashed"},{default:re(()=>[ot("添加参数")]),_:1},8,["icon"])],32)])])]),_:1},8,["model"])])}}},GB=Dt(UB,[["__scopeId","data-v-4c119938"]]),XB={name:"HttpNode",components:{NodeCommon:Wr,FormBlock:GB},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{message_list:[]}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(t){if(t.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(t){this.setData({...t})}}},YB=t=>(Jt("data-v-ab89d90a"),t=t(),Qt(),t),ZB={class:"http-node"},KB=YB(()=>T("div",{class:"node-desc"},"发起一个http请求，实现与第三方系统数据交互",-1));function qB(t,e,n,r,o,i){const a=tn("FormBlock"),s=tn("node-common");return ae(),lt(s,{title:n.properties.node_name,menus:o.menus,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type,onHandleMenu:i.handleMenu},{default:re(()=>[T("div",ZB,[KB,D(a,{onSetData:i.handleSetData,properties:n.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const JB=Dt(XB,[["render",qB],["__scopeId","data-v-ab89d90a"]]);let QB=class extends Vr{constructor(e){super(e),this.renderVue(JB,e)}},ej=class extends zr{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,o,i,a)=>{if(r.id==o.id)return!1;const s=r.graphModel.edges.map(u=>u.sourceAnchorId),l=i.id;return i.type==="right"&&!s.includes(l)}};this.sourceRules=[e];const n={message:"只允许连接左边的锚点",validate:(r,o,i,a)=>r.id==o.id?!1:a.type==="left"};this.targetRules=[n]}getAnchorPos(){return K3(this)}getDefaultAnchor(){const{id:e,x:n,y:r,width:o,height:i,isHovered:a,isSelected:s}=this,{nodeSortKey:l}=this.properties;let u=[{x:n-o/2,y:r-i/2+24,id:l+"-anchor_left",type:"left",nodeId:e},{x:n+o/2,y:r-i/2+24,id:l+"-anchor_right",type:"right",nodeId:e}],d=this.getAnchorPos();for(let c=0;c<d.length;c++){let{offsetTop:f,offsetHeight:h}=d[c],v=r-i/2;u.push({id:d[c].id,x:n+o/2,y:v+f+h/2,type:"right"})}return u}};const tj={type:"http-node",model:ej,view:QB},nj={class:"library-checkbox-box"},rj={class:"list-tools"},oj={class:"list-box",ref:"scrollContainer"},ij={class:"library-name"},aj={class:"library-desc"},sj={__name:"library-select-alert",emits:["change","close"],setup(t,{expose:e,emit:n}){const r=n,o=kn({indeterminate:!1,checkAll:!1,checkedList:[]}),i=Ie(!1),a=m=>{f(),o.checkedList=m,i.value=!0},s=()=>{i.value=!1,c()},l=Ie(""),u=()=>{f()},d=Ie([]),c=()=>{r("change",[...o.checkedList])},f=async()=>{const m=await z1({library_name:l.value});if(m){let y=m.data||[];d.value=y}},h=Ie(!1),v=async()=>{h.value=!0,await f(),h.value=!1,Io.success("刷新完成")},p=()=>{window.open("/#/library/add")},g=()=>{r("close")};return e({open:a}),(m,y)=>{const A=qi,M=ni,O=Rm,w=Im,_=Zu,N=m1;return ae(),lt(N,{width:"746px",open:i.value,"onUpdate:open":y[2]||(y[2]=R=>i.value=R),title:"关联知识库",onCancel:g,onOk:s,okText:"确定",cancelText:"取消"},{default:re(()=>[T("div",nj,[T("div",rj,[T("div",null,[D(A,{style:{width:"282px"},value:l.value,"onUpdate:value":y[0]||(y[0]=R=>l.value=R),placeholder:"请输入知识库名称搜索",onChange:u},{suffix:re(()=>[D(Je(Hm),{style:{color:"rgba(0, 0, 0, 0.25)"}})]),_:1},8,["value"])]),T("div",null,[D(M,{style:{"margin-right":"8px"},onClick:v},{default:re(()=>[D(Je(Bm)),ot(" 刷新 ")]),_:1}),D(M,{type:"primary",ghost:"",onClick:p},{default:re(()=>[ot("新建知识库")]),_:1})])]),D(_,{spinning:h.value,delay:100},{default:re(()=>[D(w,{value:o.checkedList,"onUpdate:value":y[1]||(y[1]=R=>o.checkedList=R),style:{width:"100%"}},{default:re(()=>[T("div",oj,[(ae(!0),Ce(It,null,Vt(d.value,R=>(ae(),Ce("div",{class:"list-item-wraapper",key:R.id},[D(O,{class:"list-item",value:R.id},{default:re(()=>[T("div",ij,st(R.library_name),1),T("div",aj,st(R.library_intro),1)]),_:2},1032,["value"])]))),128))],512)]),_:1},8,["value"])]),_:1},8,["spinning"])])]),_:1},8,["open"])}}},lj=Dt(sj,[["__scopeId","data-v-9d93022b"]]),X0=t=>(Jt("data-v-7f127ee3"),t=t(),Qt(),t),uj={class:"recall-settings-box"},dj={class:"form-box"},cj={class:"form-item is-required"},fj=X0(()=>T("div",{class:"form-item-label"},[T("span",null,"检索模式")],-1)),hj={class:"form-item-body"},pj={class:"retrieval-mode-items"},vj=["onClick"],gj={class:"retrieval-mode-title"},mj={class:"title-text"},yj={class:"retrieval-mode-desc"},_j={class:"form-item"},Cj={class:"form-item-label"},bj=X0(()=>T("span",null,"Top K ",-1)),xj={class:"form-item-body"},wj={class:"number-box"},Ej={class:"number-slider-box"},Sj={class:"number-input-box"},Mj={class:"form-item"},Oj={class:"form-item-label"},Aj=X0(()=>T("span",null,"相似度阈值 ",-1)),Nj={class:"form-item-body"},Tj={class:"number-box"},Pj={class:"number-slider-box"},kj={class:"number-input-box"},Lj={class:"form-item"},Dj={class:"form-item-label"},Rj=X0(()=>T("span",null,"Rerank模型",-1)),Ij={class:"form-item-body"},Hj=["src"],Bj={__name:"recall-settings-alert",emits:["change"],setup(t,{expose:e,emit:n}){const r=n,o=Ie([{iconName:"search",title:"混合检索",value:1,isRecommendation:!0,desc:"同时执行全文检索和向量检索，使用RRF算法进行排序，从两中查询结果中选择更匹配用户问题的结果"},{iconName:"file-search",title:"向量检索",value:2,desc:"将用户提问转成向量之后与知识库分段匹配相似度，返回相似度高的结果"},{iconName:"comment-search",title:"全文检索",value:3,desc:"通过分词匹配文档中的词汇，返回包含这些词汇的文本片段"}]),i=kn({rerank_status:0,rerank_use_model:void 0,rerank_model_config_id:void 0,search_type:1}),a=Ie(!1),s=p=>{v(),i.rerank_status=p.rerank_status||0,i.rerank_use_model=p.rerank_use_model||void 0,i.rerank_model_config_id=p.rerank_model_config_id||"",i.top_k=p.top_k,i.similarity=p.similarity,i.search_type=p.search_type,a.value=!0},l=(p,g)=>{i.rerank_model_config_id=g.rerank_model_config_id},u=p=>{i.search_type=p},d=()=>i.rerank_status==1&&!i.rerank_model_config_id,c=()=>{if(d())return Io.error("请选择Rerank模型");a.value=!1,f()},f=()=>{r("change",b1(i))},h=Ie([]),v=()=>{W1({model_type:"RERANK"}).then(p=>{let g=p.data||[];h.value=g.map(m=>({id:m.model_config.id,name:m.model_info.model_name,icon:m.model_info.model_icon_url,children:m.model_info.rerank_model_list}))})};return e({open:s}),(p,g)=>{const m=s0,y=c0,A=Ju,M=v0,O=jm,w=Ji,_=qu,N=Qi,R=m1;return ae(),lt(R,{width:"472px",open:a.value,"onUpdate:open":g[6]||(g[6]=I=>a.value=I),title:"召回设置",onOk:c,okText:"确定",cancelText:"取消"},{default:re(()=>[T("div",uj,[T("div",dj,[T("div",cj,[fj,T("div",hj,[T("div",pj,[(ae(!0),Ce(It,null,Vt(o.value,I=>(ae(),Ce("div",{class:Ga(["retrieval-mode-item",{active:i.search_type==I.value}]),key:I.value,onClick:W=>u(I.value)},[i.search_type==I.value?(ae(),lt(m,{key:0,class:"check-arrow",name:"check-arrow-filled"})):Ht("",!0),T("div",gj,[D(m,{name:I.iconName,class:"title-icon"},null,8,["name"]),T("span",mj,st(I.title),1),I.isRecommendation?(ae(),lt(m,{key:0,class:"recommendation-icon",name:"recommendation"})):Ht("",!0)]),T("div",yj,st(I.desc),1)],10,vj))),128))])])]),T("div",_j,[T("div",Cj,[bj,D(y,null,{title:re(()=>[ot("最多从知识库中召回分段数，最低为1，最高为10。召回分段数越多，消耗的token也会越多。")]),default:re(()=>[D(Je(po),{class:"question-icon"})]),_:1})]),T("div",xj,[T("div",wj,[T("div",Ej,[D(A,{class:"custom-slider",value:i.top_k,"onUpdate:value":g[0]||(g[0]=I=>i.top_k=I),min:1,max:10},null,8,["value"])]),T("div",Sj,[D(M,{value:i.top_k,"onUpdate:value":g[1]||(g[1]=I=>i.top_k=I),min:1,max:10},null,8,["value"])])])])]),T("div",Mj,[T("div",Oj,[Aj,D(y,null,{title:re(()=>[ot("召回时，只会召回相似度大于阈值的文本分段。取值范围：0~1，阈值越大回答的越准确，建议不超过0.9")]),default:re(()=>[D(Je(po),{class:"question-icon"})]),_:1})]),T("div",Nj,[T("div",Tj,[T("div",Pj,[D(A,{class:"custom-slider",value:i.similarity,"onUpdate:value":g[2]||(g[2]=I=>i.similarity=I),min:0,max:1,step:.01},null,8,["value"])]),T("div",kj,[D(M,{value:i.similarity,"onUpdate:value":g[3]||(g[3]=I=>i.similarity=I),min:0,max:1,step:.01},null,8,["value"])])])])]),T("div",Lj,[T("div",Dj,[Rj,ot("   "),D(O,{checkedValue:1,unCheckedValue:0,checked:i.rerank_status,"onUpdate:checked":g[4]||(g[4]=I=>i.rerank_status=I)},null,8,["checked"])]),T("div",Ij,[D(N,{value:i.rerank_use_model,"onUpdate:value":g[5]||(g[5]=I=>i.rerank_use_model=I),placeholder:"请选择Rerank模型",onChange:l,style:{width:"320px"}},{default:re(()=>[(ae(!0),Ce(It,null,Vt(h.value,I=>(ae(),lt(_,{key:I.id},{label:re(()=>[T("span",null,[T("img",{class:"model-icon",src:I.icon,alt:""},null,8,Hj)])]),default:re(()=>[(ae(!0),Ce(It,null,Vt(I.children,W=>(ae(),lt(w,{value:W,rerank_model_config_id:I.id,key:W},{default:re(()=>[T("span",null,st(W),1)]),_:2},1032,["value","rerank_model_config_id"]))),128))]),_:2},1024))),128))]),_:1},8,["value"])])])])])]),_:1},8,["open"])}}},jj=Dt(Bj,[["__scopeId","data-v-7f127ee3"]]),sc=t=>(Jt("data-v-9550b279"),t=t(),Qt(),t),$j={class:"gray-block"},Fj=sc(()=>T("div",{class:"gray-block-title"},"输入",-1)),Vj={class:"avatar-box"},zj=["src"],Wj={class:"content-box"},Uj={class:"list-name"},Gj={class:"list-intro"},Xj=["onClick"],Yj={class:"btn-block"},Zj=sc(()=>T("div",{class:"diy-form-item"},[T("div",{class:"form-label"},"用户问题"),T("div",{class:"form-content"},"流程开始>用户问题")],-1)),Kj=sc(()=>T("div",{class:"gray-block mt16"},[T("div",{class:"gray-block-title"},"输出"),T("div",{class:"options-item"},[T("div",{class:"option-label"},"知识库引用"),T("div",{class:"option-type"},"知识库引用")])],-1)),qj={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(t,{expose:e,emit:n}){const r=t,o=n,i=Ie(),a=kn({library_ids:[],rerank_status:0,rerank_use_model:void 0,rerank_model_config_id:void 0,top_k:5,similarity:.5,search_type:1});let s=!1;qt(()=>r.properties,y=>{try{if(s)return;let A=JSON.parse(y.node_params).libs||{};A=JSON.parse(JSON.stringify(A));for(let M in A)M=="library_ids"?a[M]=A[M]?A[M].split(","):[]:a[M]=A[M];s=!0}catch{}},{immediate:!0,deep:!0}),qt(()=>a,y=>{o("setData",{...a,library_ids:a.library_ids.join(","),node_params:JSON.stringify({libs:{...a,rerank_model_config_id:a.rerank_model_config_id?+a.rerank_model_config_id:void 0,library_ids:a.library_ids.join(",")}}),height:416+a.library_ids.length*72})},{deep:!0});const l=Ie([]),u=Ie(null),d=xe(()=>l.value.filter(y=>a.library_ids.includes(y.id))),c=y=>{let A=a.library_ids.indexOf(y.id);a.library_ids.splice(A,1)},f=y=>{m(),a.library_ids=[...y]},h=()=>{u.value.open([...a.library_ids])},v=Ie(null),p=()=>{v.value.open(b1(a))},g=y=>{a.rerank_status=y.rerank_status,a.rerank_use_model=y.rerank_use_model,a.rerank_model_config_id=y.rerank_model_config_id,a.top_k=y.top_k,a.similarity=y.similarity,a.search_type=y.search_type},m=async()=>{const y=await z1();y&&(l.value=y.data||[])};return m(),e({}),(y,A)=>{const M=ni,O=f0,w=hs;return ae(),Ce("div",{class:"form-block",onMousedown:A[0]||(A[0]=Nn(()=>{},["stop"]))},[D(w,{ref_key:"formRef",ref:i,layout:"vertical",model:a},{default:re(()=>[T("div",$j,[Fj,D(O,{label:"关联知识库"},{default:re(()=>[(ae(!0),Ce(It,null,Vt(d.value,_=>(ae(),Ce("div",{class:"konwledge-list-item",key:_.id},[T("div",Vj,[T("img",{src:_.avatar,alt:""},null,8,zj)]),T("div",Wj,[T("div",Uj,st(_.library_name),1),T("div",Gj,st(_.library_intro),1)]),T("div",{class:"btn-hover-wrap",onClick:N=>c(_)},[D(Je(Yr))],8,Xj)]))),128)),T("div",Yj,[T("div",null,[D(M,{onClick:h,icon:ln(Je(so)),block:"",type:"dashed"},{default:re(()=>[ot("添加知识库")]),_:1},8,["icon"])]),T("div",null,[D(M,{onClick:p,icon:ln(Je($m)),block:"",type:"dashed"},{default:re(()=>[ot("召回设置")]),_:1},8,["icon"])])])]),_:1}),Zj]),Kj]),_:1},8,["model"]),D(lj,{ref_key:"librarySelectAlertRef",ref:u,onClose:m,onChange:f},null,512),D(jj,{ref_key:"recallSettingsAlertRef",ref:v,onChange:g},null,512)],32)}}},Jj=Dt(qj,[["__scopeId","data-v-9550b279"]]),Qj={name:"KnowledgeBaseNode",components:{NodeCommon:Wr,FormBlock:Jj},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(t){if(t.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(t){this.setData({...t})}},mounted(){}},e$=t=>(Jt("data-v-c7c67742"),t=t(),Qt(),t),t$={class:"knowledge-base-node"},n$=e$(()=>T("div",{class:"node-desc"}," 从指定知识库中检索相关的分段，点击召回设置可以规定检索数据的条数和相似度阈值 ",-1));function r$(t,e,n,r,o,i){const a=tn("FormBlock"),s=tn("node-common");return ae(),lt(s,{title:n.properties.node_name,menus:o.menus,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type,onHandleMenu:i.handleMenu},{default:re(()=>[T("div",t$,[n$,D(a,{onSetData:i.handleSetData,properties:n.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const o$=Dt(Qj,[["render",r$],["__scopeId","data-v-c7c67742"]]);let i$=class extends Vr{constructor(e){super(e),this.renderVue(o$,e)}},a$=class extends zr{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,o,i,a)=>{if(r.id==o.id)return!1;const s=r.graphModel.edges.map(u=>u.sourceAnchorId),l=i.id;return i.type==="right"&&!s.includes(l)}};this.sourceRules=[e];const n={message:"只允许连接左边的锚点",validate:(r,o,i,a)=>r.id==o.id?!1:a.type==="left"};this.targetRules=[n]}getDefaultAnchor(){const{id:e,x:n,y:r,width:o,height:i,isHovered:a,isSelected:s}=this,{nodeSortKey:l}=this.properties;return[{x:n-o/2,y:r-i/2+24,id:l+"-anchor_left",type:"left",nodeId:e},{x:n+o/2,y:r-i/2+24,id:l+"-anchor_right",type:"right",nodeId:e}]}};const s$={type:"knowledge-base-node",model:a$,view:i$},l$={name:"EndNode",inject:["getNode","getGraph","setData"],components:{NodeCommon:Wr},props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},computed:{},methods:{handleMenu(t){if(t.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}}}},u$=t=>(Jt("data-v-986bb121"),t=t(),Qt(),t),d$=u$(()=>T("div",{class:"end-node"},[T("div",{class:"node-desc"},"触发该节点结束调用,并返回流程执行结果")],-1));function c$(t,e,n,r,o,i){const a=tn("node-common");return ae(),lt(a,{title:n.properties.node_name,menus:o.menus,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type,onHandleMenu:i.handleMenu},{default:re(()=>[d$]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const f$=Dt(l$,[["render",c$],["__scopeId","data-v-986bb121"]]);let h$=class extends Vr{constructor(e){super(e),this.renderVue(f$,e)}},p$=class extends zr{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,o,i,a)=>{if(r.id==o.id)return!1;const s=r.graphModel.edges.map(u=>u.sourceAnchorId),l=i.id;return i.type==="right"&&!s.includes(l)}};this.sourceRules=[e];const n={message:"只允许连接左边的锚点",validate:(r,o,i,a)=>r.id==o.id?!1:a.type==="left"};this.targetRules=[n]}getDefaultAnchor(){const{id:e,x:n,y:r,width:o,height:i,isHovered:a,isSelected:s}=this,{nodeSortKey:l}=this.properties;return[{x:n-o/2,y:r-i/2+24,id:l+"-anchor_left",type:"left",nodeId:e}]}};const v$={type:"end-node",model:p$,view:h$},g$=t=>(Jt("data-v-578bf88b"),t=t(),Qt(),t),m$={class:"gray-block-title"},y$=["onClick"],_$={class:"condition-list-box"},C$={class:"left-select-box"},b$={class:"condition-body"},x$=["onClick"],w$={class:"btn-wrap"},E$={class:"add-btn-block"},S$=g$(()=>T("div",{class:"gray-block mt8"},[T("div",{class:"gray-block-title"},"else"),T("div",{class:"main-text"},"不符合上述所有分支的条件时，走默认分支")],-1)),M$={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(t,{expose:e,emit:n}){const r=t,o=xr("getGraph"),i=xr("getNode"),a=n,s=Ie(),l=kn({term:[]}),u=Ie([]);let d=!1;qt(()=>r.properties,_=>{y();try{if(d)return;let N=JSON.parse(_.node_params).term||[];N=N.map(R=>{let I=R.terms.map(W=>{if(W.variable.includes("global."))W.variable=[W.variable];else{let G=W.variable.split(".");W.variable=G}return{...W,type:W.type>0?W.type:1,key:Math.random()*1e4}});return{...R,is_or:R.is_or?1:0,terms:I,key:Math.random()*1e4}}),l.term=N,d=!0,setTimeout(()=>{a("setData",{...l,height:c()})},100)}catch{}},{immediate:!0,deep:!0}),qt(()=>l,_=>{let N=JSON.parse(JSON.stringify(l.term));N=N.map(R=>({is_or:R.is_or==1,next_node_key:R.next_node_key,terms:R.terms.map(I=>({variable:I.variable.join("."),is_mult:I.is_mult,type:I.type,value:I.value}))})),a("setData",{...l,term:N,node_params:JSON.stringify({term:N}),height:c()})},{deep:!0});function c(){let _=0,N=l.term.length;return l.term.forEach(R=>{_+=R.terms.length}),_=_-N,240+150*N+46*_}const f=_=>{l.term[_].terms.push({is_mult:!1,type:void 0,value:"",variable:[],key:Math.random()*1e4})},h=(_,N)=>{l.term[_].terms.splice(N,1)},v=()=>{l.term.push({is_or:0,key:Math.random()*1e4,next_node_key:"",terms:[{is_mult:!1,type:void 0,value:"",variable:[],key:Math.random()*1e4}]})},p=_=>{l.term.splice(_,1)},g=_=>{let N=O(_);_.is_mult=N.includes("array"),_.type=void 0};function m(_){return _.forEach(N=>{N.value=N.key,N.label=N.key,N.subs&&N.subs.length&&m(N.subs)}),_}function y(){let _=i(),N=o().getNodeIncomingNode(_.id),R=[];N&&N.length&&N.forEach(W=>{let G=W.properties.node_type,C=W.properties.output;G==4&&C&&C.length&&(R=m(C))});let I=[{key:"global.question",label:"用户消息",value:"global.question",typ:"string"},{key:"global.openid",label:"open_id",value:"global.openid",typ:"string"},...R];u.value=I}let A=[{label:"等于",value:1},{label:"不等于",value:2},{label:"包含",value:3},{label:"不包含",value:4},{label:"为空",value:5},{label:"不为空",value:6}],M=[{label:"包含其中一项",value:3},{label:"不包含其中一项",value:4},{label:"为空",value:5},{label:"不为空",value:6}];function O(_){let N="";if(_.variable&&_.variable.length>0){let R=u.value.filter(I=>I.key==_.variable[0]);R&&R.length&&(N=R[0].typ),N=="object"&&(R[0]&&R[0].subs&&(R=R[0].subs.filter(I=>I.key==_.variable[1])),R&&R.length&&(N=R[0].typ),N=="object"&&(R[0]&&R[0].subs&&(R=R[0].subs.filter(I=>I.key==_.variable[2])),R&&R.length&&(N=R[0].typ)))}return N}function w(_){if(!_.variable)return[];let N=O(_);return N==""?_.is_mult?M:A:N=="boole"?[{label:"等于",value:1},{label:"不等于",value:2}]:N.includes("array")?M:A}return e({}),(_,N)=>{const R=g0,I=Ji,W=Qi,G=fE,C=qi,L=ni,k=hs;return ae(),Ce("div",{class:"form-block",onMousedown:N[1]||(N[1]=Nn(()=>{},["stop"]))},[D(k,{ref_key:"formRef",ref:s,layout:"vertical",model:l},{default:re(()=>[D(Je(Fm),{style:{display:"flex","flex-direction":"column",gap:"8px"},handle:".drag-btn",modelValue:l.term,"onUpdate:modelValue":N[0]||(N[0]=B=>l.term=B),"item-key":"key"},{item:re(({element:B,index:V})=>[(ae(),Ce("div",{class:"gray-block",key:B.key},[T("div",m$,[D(R,{gap:8},{default:re(()=>[D(Je(bS),{class:"icon drag-btn"}),ot(st(V==0?"if":"else if"),1)]),_:2},1024),l.term.length>1?(ae(),Ce("div",{key:0,class:"btn-hover-wrap",onClick:$=>p(V)},[D(Je(Yr))],8,y$)):Ht("",!0)]),T("div",_$,[T("div",C$,[D(W,{size:"small",value:B.is_or,"onUpdate:value":$=>B.is_or=$,bordered:!1,style:{width:"64px"}},{default:re(()=>[D(I,{value:0},{default:re(()=>[ot("and")]),_:1}),D(I,{value:1},{default:re(()=>[ot("or")]),_:1})]),_:2},1032,["value","onUpdate:value"])]),T("div",b$,[(ae(!0),Ce(It,null,Vt(B.terms,($,te)=>(ae(),Ce("div",{class:"condition-item",key:$.key},[D(G,{value:$.variable,"onUpdate:value":ne=>$.variable=ne,onChange:ne=>g($),style:{width:"100px"},options:u.value,allowClear:!1,displayRender:({labels:ne})=>ne.join("."),"field-names":{children:"subs"},placeholder:"请选择"},null,8,["value","onUpdate:value","onChange","options","displayRender"]),D(W,{value:$.type,"onUpdate:value":ne=>$.type=ne,style:{width:"130px"},placeholder:"请选择"},{default:re(()=>[(ae(!0),Ce(It,null,Vt(w($),ne=>(ae(),lt(I,{value:ne.value},{default:re(()=>[ot(st(ne.label),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["value","onUpdate:value"]),$.type!=5&&$.type!=6?(ae(),lt(C,{key:0,placeholder:"请输入",value:$.value,"onUpdate:value":ne=>$.value=ne,style:{width:"150px"}},null,8,["value","onUpdate:value"])):Ht("",!0),T("div",{class:"btn-hover-wrap",onClick:ne=>h(V,te)},[D(Je(Yr))],8,x$)]))),128))])]),T("div",w$,[D(L,{onClick:$=>f(V),icon:ln(Je(so)),block:"",type:"dashed"},{default:re(()=>[ot("添加条件")]),_:2},1032,["onClick","icon"])])]))]),_:1},8,["modelValue"]),T("div",E$,[D(L,{onClick:v,icon:ln(Je(so)),block:"",type:"dashed"},{default:re(()=>[ot("添加分支")]),_:1},8,["icon"])]),S$]),_:1},8,["model"])],32)}}},O$=Dt(M$,[["__scopeId","data-v-578bf88b"]]),A$={name:"MessageNode",components:{NodeCommon:Wr,FormBlock:O$},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(t){if(t.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(t){this.setData({...t})}}},N$=t=>(Jt("data-v-93d3bcf8"),t=t(),Qt(),t),T$={class:"judge-node"},P$=N$(()=>T("div",{class:"no-data"},"指定条件创建不同分支，系统根据变量值判断应该走哪个分支",-1));function k$(t,e,n,r,o,i){const a=tn("FormBlock"),s=tn("node-common");return ae(),lt(s,{title:n.properties.node_name,menus:o.menus,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type,onHandleMenu:i.handleMenu},{default:re(()=>[T("div",T$,[P$,D(a,{onSetData:i.handleSetData,properties:n.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const L$=Dt(A$,[["render",k$],["__scopeId","data-v-93d3bcf8"]]);class D$ extends Vr{constructor(e){super(e),this.renderVue(L$,e)}}class R$ extends zr{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,o,i,a)=>{if(r.id==o.id)return!1;const s=r.graphModel.edges.map(u=>u.sourceAnchorId),l=i.id;return i.type==="right"&&!s.includes(l)}};this.sourceRules=[e];const n={message:"只允许连接左边的锚点",validate:(r,o,i,a)=>r.id==o.id?!1:a.type==="left"};this.targetRules=[n]}getAnchorPos(){return ES(this.properties)}getDefaultAnchor(){const{id:e,x:n,y:r,width:o,height:i,isHovered:a,isSelected:s}=this,{nodeSortKey:l}=this.properties;let u=[{x:n-o/2,y:r-i/2+24,id:l+"-anchor_left",type:"left",nodeId:e}],d=this.getAnchorPos();for(let c=0;c<d.length;c++){let{offsetTop:f,offsetHeight:h}=d[c],v=r-i/2;u.push({id:d[c].id,x:n+o/2,y:v+f+h/2,type:"right"})}return u}}const I$={type:"judge-node",model:R$,view:D$},H$={name:"QuestionNode",components:{PopupMenu:J3},emits:["click-item"],inject:["getNode","getGraph"],props:{properties:{type:Object,default(){return{}}}},data(){return{}},mounted(){},methods:{handleAddNode(t){this.$emit("click-item",t)}}};function B$(t,e,n,r,o,i){const a=tn("PopupMenu");return ae(),lt(a,{onAddNode:i.handleAddNode},null,8,["onAddNode"])}const j$=Dt(H$,[["render",B$]]),$$=130,F$=440;class V${constructor({lf:e}){dc(this,"listenDelete",()=>{this.hideMenu()});this.menuTypeMap=new Map,this.lf=e,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.__menuDOM.style.width=`${$$}px`,this.__menuDOM.style.height=`${F$}px`,this.isMounted=!1,this.r=ln(j$,{properties:{},isSelected:!1,isHovered:!1,onClickItem:n=>{this.hideMenu(),e.graphModel.eventCenter.emit("custom:addNode",{data:n,model:this._activeData,anchorData:this._activeAnchorData})}}),this.app=d0({render:()=>this.r,provide:()=>({getNode:()=>this._activeData,getGraph:()=>e.graphModel}),mounted:()=>{}})}render(e,n){this.container=n,this.isMounted||(this.isMounted=!0,this.container.appendChild(this.__menuDOM),this.app.mount(this.__menuDOM)),e.on("custom:showPopupMenu",({anchorData:r,model:o})=>{this._activeData=o,this._activeAnchorData=r,this.createMenu()}),e.on("node:click",({data:r})=>{this.hideMenu()}),e.on("edge:click",({data:r})=>{this.hideMenu()}),e.on("blank:click",()=>{this.hideMenu()})}createMenu(){this.showMenu()}getContextMenuPosition(){const e=this._activeAnchorData;let n=e.x+5,r=e.y-10;return this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([n,r])}showMenu(){const[e,n]=this.getContextMenuPosition();this.__menuDOM.style.display="flex",this.__menuDOM.style.top=`${n}px`,this.__menuDOM.style.left=`${e+10}px`,!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0}hideMenu(){this.__menuDOM.style.display="none",this.isShow,this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1}}const z$={class:"logic-flow-wrapper"},W$={__name:"workflow-canvas",emits:["selectedNode","deleteNode"],setup(t,{expose:e,emit:n}){const r=n;let o=null;const i=Ie(null),a=TL(),s=Ie(""),l={nodes:[]},u={width:200,height:160,bottomPosition:76,rightPosition:16};function d(){if(i.value){o=new ok({container:i.value,nodeTextEdit:!1,edgeTextEdit:!1,textEdit:!1,grid:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!0,edgeSelectedOutline:!0,nodeSelectedOutline:!0,hoverOutline:!0,background:{backgroundColor:"#f0f2f5"},plugins:[vL,mL,V$],pluginsOptions:{miniMap:u}}),sr(FL,o),sr(gI,o),sr(dH,o),sr(qI,o),sr(yH,o),sr(tj,o),sr(MH,o),sr(lB,o),sr(s$,o),sr(v$,o),sr(I$,o),o.setDefaultEdgeType("custom-edge"),o.on("graph:rendered",({graphModel:g})=>{s.value=g.flowId});let p=1;o.on("node:dragstart",({data:g})=>{let m=o.graphModel.getElement(g.id);p=m.zIndex,m.setZIndex(999999)}),o.on("node:drop",({data:g})=>{o.graphModel.getElement(g.id).setZIndex(p)}),o.on("custom:addNode",({data:g,model:m,anchorData:y})=>{h(g,m,y)}),o.on("node:click",({data:g})=>{r("selectedNode",JSON.parse(JSON.stringify(g)))}),o.on("node:delete",({data:g})=>{r("deleteNode",JSON.parse(JSON.stringify(g)))}),o.render(l),o.setZoomMiniSize(.01),o.setZoomMaxSize(8),o.extension.miniMap.show()}}const c=()=>o.getGraphRawData(),f=p=>{p.nodes.forEach(g=>{g.properties.width=g.width=U2(g),g.properties.height=g.height=d2(g)}),o.graphModel.graphDataToModel(p),o.graphModel.translateCenter()},h=(p,g,m)=>{if(p.id=ls(p.type),p.nodeSortKey=p.id.substring(0,8)+p.id.substring(p.id.length-8),p.width=U2(p),p.height=d2(p),p.properties.width=p.width,p.properties.height=p.height,p.properties.nodeSortKey=p.nodeSortKey,m)p.x=m.x+p.width+100,p.y=m.y+p.height/2-24;else{const{transformModel:M}=o.graphModel,O=M.HtmlPointToCanvasPoint([o.graphModel.width/2,o.graphModel.height/2]);p.x=O[0],p.y=O[1]}let y=0;o.graphModel.nodes.forEach(M=>{M.zIndex>y&&(y=M.zIndex)}),y=y+1;let A=o.addNode(p);m&&o.graphModel.addEdge({type:"custom-edge",sourceNodeId:g.id,targetNodeId:A.id,sourceAnchorId:m.id,startPoint:{x:m.x,y:m.y}}),A.setZIndex(y),o.graphModel.clearSelectElements(),A.setSelected(!0)},v=p=>{p.properties.height=p.height=d2(p);let g=o.getNodeModelById(p.id);g.height=p.height,g.properties=p.properties,p.properties.node_type==2&&p.properties.node_sub_type==21&&g.graphModel.getNodeEdges(p.id).forEach(y=>{y.sourceNodeId==g.id&&(g.getAnchorInfo(y.sourceAnchorId)||g.graphModel.deleteEdgeById(y.id))}),g.refreshBranch()};return ri(()=>{d()}),e({setData:f,getData:c,updateNode:v}),(p,g)=>(ae(),Ce("div",z$,[T("div",{ref_key:"containerRef",ref:i,class:"logic-flow-container"},null,512),D(Je(a),{"flow-id":s.value},null,8,["flow-id"]),Je(o)?(ae(),lt(PM,{key:0,lf:Je(o),onAddNode:h},null,8,["lf"])):Ht("",!0),Je(o)?(ae(),lt(zM,{key:1,lf:Je(o)},null,8,["lf"])):Ht("",!0)]))}},jg=t=>(Jt("data-v-e2338f6f"),t=t(),Qt(),t),U$={class:"page-header"},G$={class:"header-left"},X$={class:"header-content"},Y$={class:"robot-name ml8"},Z$={key:0,class:"robot-status-box status-1"},K$=jg(()=>T("div",{class:"robot-status-text"},"已发布",-1)),q$={key:1,class:"robot-status-box status-0"},J$=jg(()=>T("div",{class:"robot-status-text"},"未发布",-1)),Q$={key:0,class:"header-right"},eF={key:0,class:"last-save-time"},tF={__name:"page-header",props:{saveLoading:{default:!1,type:Boolean},showRight:{default:!0,type:Boolean}},emits:["save","release"],setup(t,{emit:e}){const n=n0(),r=xe(()=>n.robotInfo),o=xe(()=>n.draftSaveTime),i=_1(),a=e,s=t,l=()=>{i.push("/")},u=()=>{a("save","handle")},d=()=>{a("release")};return(c,f)=>{const h=qE,v=ni;return ae(),Ce("div",U$,[T("div",G$,[T("div",{class:"back-btn",onClick:l},[D(Je(Qu))])]),T("div",X$,[D(h,{width:32,src:r.value.robot_avatar_url},null,8,["src"]),T("div",Y$,st(r.value.robot_name),1),r.value.start_node_key!=""?(ae(),Ce("div",Z$,[D(Je(_6),{class:"robot-status-icon"}),K$])):(ae(),Ce("div",q$,[D(Je(C6),{class:"robot-status-icon"}),J$]))]),s.showRight?(ae(),Ce("div",Q$,[o.value&&o.value.time?(ae(),Ce("div",eF,st(o.value.time)+" "+st(o.value.type=="handle"?"手动":"自动")+"保存草稿 ",1)):Ht("",!0),D(v,{class:"save-draft",onClick:u},{default:re(()=>[ot("保存草稿")]),_:1}),D(v,{type:"primary",loading:s.saveLoading,class:"publish-robot",onClick:d},{default:re(()=>[ot("发布机器人")]),_:1},8,["loading"])])):Ht("",!0)])}}},nF=Dt(tF,[["__scopeId","data-v-e2338f6f"]]),rF={class:"workflow-page"},oF={class:"page-body"},iF={class:"page-left"},aF={class:"page-container"},sF={__name:"index",setup(t){const e=C1(),n=Ie(e.query.robot_key);Ie(null);const r=Ie(null),o=n0(),i={1:"start-node",2:"judge-node",3:"question-node",4:"http-node",5:"knowledge-base-node",6:"ai-dialogue-node",7:"end-node"};function a(){zg({robot_key:n.value,data_type:1}).then(m=>{let y=m.data||[],A=[],M=[];y.forEach(O=>{if(O.node_type==0){let w=JSON.parse(O.node_info_json);M.push(w)}else{let w=JSON.parse(O.node_info_json);O.node_type!=0&&(w.type=i[O.node_type],w.id=O.node_key||ls(w.type),w.x=w.x||0,w.y=w.y||0),w.nodeSortKey?O.nodeSortKey=w.nodeSortKey:O.nodeSortKey=w.id.substring(0,8)+w.id.substring(w.id.length-8);let _=i[O.node_type];O.iconKey=_,O.node_icon_name=xS(_),delete O.node_info_json,w.properties=O,A.push(w)}}),s({nodes:A,edges:M})})}const s=m=>{r.value.setData(m)},l=()=>{let m=r.value.getData(),y=[],A={};return m.edges.forEach(M=>{let O={node_key:M.id,node_name:"edge",node_type:0},w={...M};O.node_info_json=w,y.push(O),M.sourceAnchorId&&(A[M.sourceAnchorId]=M.targetNodeId),M.targetAnchorId&&(A[M.targetAnchorId]=M.sourceNodeId)}),m.nodes.forEach(M=>{let O={...M.properties,node_type:+M.properties.node_type,node_key:M.id};O.node_info_json={type:M.type,x:M.x,y:M.y,id:M.id,nodeSortKey:O.nodeSortKey},O.next_node_key=A[O.nodeSortKey+"-anchor_right"]||"",O.prev_node_key=A[O.nodeSortKey+"-anchor_left"]||"";let w=JSON.parse(O.node_params);O.node_type==2&&w.term&&w.term.length>0&&w.term.forEach((_,N)=>{let R=O.nodeSortKey+"-anchor_"+N;_.next_node_key=A[R]||""}),O.node_type==3&&w.cate&&w.cate.categorys&&w.cate.categorys.length>0&&(w.cate.categorys,w.cate.categorys.forEach((_,N)=>{let R=O.nodeSortKey+"-anchor_"+N;_.next_node_key=A[R]||""})),O.node_params=w,y.push(O)}),y},u=m=>{let y=l();q0({robot_key:n.value,data_type:1,node_list:JSON.stringify(y)}).then(A=>{m=="handle"&&Io.success("保存成功"),o.setDrafSaveTime({type:m,time:T6().format("MM/DD HH:mm:ss")})})};let d=setInterval(()=>{u("automatic")},1*60*1e3);Uu(()=>{d&&clearInterval(d)});const c=Ie(!1),f=async()=>{let m=l(),y=[];for(let A=0;A<m.length;A++){let M=m[A];M.node_type!=0&&(M.node_type,M.node_type==1?M.next_node_key==""&&y.push(M):M.node_type==7||M.node_type==3?M.prev_node_key==""&&y.push(M):(M.next_node_key==""||M.prev_node_key=="")&&y.push(M))}if(y.length>0){Io.error("存在未关联的节点，请先关联");return}c.value=!0;try{Io.loading("保存中..."),await q0({robot_key:n.value,data_type:1,node_list:JSON.stringify(m)});const A=await q0({robot_key:n.value,data_type:2,node_list:JSON.stringify(m)});setTimeout(()=>{Io.destroy(),c.value=!1,A&&A.res==0&&Io.success("发布成功")},400)}catch{c.value=!1}};let h=Ie(null);const v=m=>{h.value=m,m.properties.node_sub_type!=51},p=()=>{},g=async()=>{let m=(y,A,M)=>{const O=new Set(y.map(w=>w.model_define));return A.filter(w=>{let _=w[M];O.has(_)&&y.filter(N=>{if(N.model_define==_)return N.children=x6(N.children,w.children),!1})}),y};return W1({model_type:"LLM"}).then(y=>{let A=y.data||[],M=[],O=[];O=A.map(w=>{M=[];for(let _=0;_<w.model_info.llm_model_list.length;_++){const N=w.model_info.llm_model_list[_];M.push({name:N,deployment_name:w.model_config.deployment_name,id:w.model_config.id,model_define:w.model_info.model_define})}return{id:w.model_config.id,name:w.model_info.model_name,model_define:w.model_info.model_define,icon:w.model_info.model_icon_url,children:M,deployment_name:w.model_config.deployment_name}}),O=m(b6(O,"model_define"),O,"model_define"),o.setModelList(O)})};return ri(async()=>{await g(),a()}),(m,y)=>(ae(),Ce("div",rF,[D(nF,{onSave:u,onRelease:f,saveLoading:c.value},null,8,["saveLoading"]),T("div",oF,[T("div",iF,[D(BS)]),T("div",aF,[D(W$,{ref_key:"workflowCanvasRef",ref:r,onSelectedNode:v,onDeleteNode:p},null,512)])])]))}},MV=Dt(sF,[["__scopeId","data-v-d0d7b43a"]]);export{MV as default};
