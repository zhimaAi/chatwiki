import{b as fe,w as ge,A as W,r as k,L as c,M as p,V as e,a2 as B,F as E,j as a,Q as _,a1 as V,P as M,X as F,Y as I,a8 as A,a9 as ne,a3 as le,a4 as ie,ah as he,E as be,U as H,u as K,a0 as ye,$ as ke,a5 as xe}from"./vue-chunks-XoCroLmQ.js";import{_ as X,e as Z,c as re,M as J,E as ae,B as qe}from"../../index-BokOG9ZU.js";import{a as we,b as $e,e as Fe,f as Ie,s as Se}from"./index-CbAgVi9e.js";import{F as ee,_ as Pe}from"./index-fISAHuLd.js";import"./index-BitUTYbL.js";import{I as ce}from"./Input-CUxLS_nc.js";import{S as Ce,_ as Ee}from"./index-DgLLvjt3.js";import{_ as Le}from"./index-D_iED9iI.js";import{_ as Te}from"./index-D35cinO1.js";import{_ as Ne}from"./index-BPT5gdLF.js";import{U as Ue}from"./index-CndiKh4n.js";import{_ as je,T as Oe}from"./index-CTUPCv9m.js";import{_ as ze}from"./TextArea-TiJWDxF4.js";import{B as De,_ as Qe}from"./index-B3Zs9moa.js";import{S as Be}from"./index-Bf_Ayn3y.js";import{L as Ae}from"./LeftOutlined-DN6j0fW4.js";import"./dayjs-D8VPPBbu.js";import"./axios-Cm0UX6qg.js";import"./qs-D73tJGQG.js";import"./crypto-js-D323TfIu.js";import"./colors-Cfqlh7qR.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./responsiveObserve-Cyut9UHK.js";import"./collapseMotion-DWwsCVG2.js";import"./index-BOYSy9Pq.js";import"./QuestionCircleOutlined-DEWzrvxy.js";import"./FormItemContext-Ch_K4tn1.js";import"./index-Co375E0k.js";import"./Search-CbUpX_hw.js";import"./SearchOutlined-BfUHdq7e.js";import"./inputProps-CWzf5mAp.js";import"./Password-D_H-hnpK.js";import"./slide-BpJSAeCl.js";import"./index-CnyiohbP.js";import"./isMobile-D_4OiXLP.js";import"./CheckOutlined-Byfa85ke.js";import"./DownOutlined-I-3QmTPt.js";import"./move-ChusaJh2.js";import"./index-1KQ010za.js";import"./index-CAuXv0Mv.js";import"./partition-CenmkQe8.js";import"./useRefs-C13sH2-_.js";import"./index-CvsTLiPQ.js";import"./shallowequal-BeorLzKa.js";import"./Dropdown-aJrAR27s.js";import"./pick-CWDMpHLW.js";import"./PlusOutlined-B3xrJfbK.js";import"./dropdown-_4lkCpvo.js";import"./RightOutlined-CViLB99g.js";const g=x=>(le("data-v-5774cd6e"),x=x(),ie(),x),Re={class:"segmentation-setting"},Ve={class:"setting-items"},Me={class:"setting-item intelligent-setting active"},Ke={class:"setting-item-body"},Je=g(()=>e("div",{class:"sub-setting-item-name"},"文档类型",-1)),We={class:"document-types"},Xe=g(()=>e("div",{class:"sub-setting-item-name"},"文件切分",-1)),Ye={key:0,class:"custom-setting-form excel-qa-form"},Ge={class:"form-item"},He=g(()=>e("div",{class:"form-item-label"},"问题所在列：",-1)),Ze={class:"form-item-body"},et={class:"form-item"},tt=g(()=>e("div",{class:"form-item-label"},"答案所在列：",-1)),ot={class:"form-item-body"},st=g(()=>e("div",{class:"sub-setting-item-name"},"索引方式",-1)),at={class:"indexing-methods-box"},nt={class:"list-title-block"},lt=g(()=>e("div",{class:"list-content"}," 回答用户提问时，将用户提问与导入的问题和答案一起对比相似度，根据相似度高的问题和答案回复 ",-1)),it={class:"list-title-block"},rt=g(()=>e("div",{class:"list-content"}," 回答用户提问时，将用户提问与导入的问题一起对比相似度，再根据相似度高的问题和对应的答案来回复 ",-1)),ct={key:1,class:"custom-setting-form"},_t={class:"form-item"},dt=g(()=>e("div",{class:"form-item-label"},"问题开始标识符：",-1)),ut={class:"form-item-body"},mt={class:"form-item"},pt=g(()=>e("div",{class:"form-item-label"},"答案开始标识符：",-1)),vt={class:"form-item-body"},ft=g(()=>e("div",{class:"sub-setting-item-name"},"索引方式",-1)),gt={class:"indexing-methods-box"},ht={class:"list-title-block"},bt=g(()=>e("div",{class:"list-content"}," 回答用户提问时，将用户提问与导入的问题和答案一起对比相似度，根据相似度高的问题和答案回复 ",-1)),yt={class:"list-title-block"},kt=g(()=>e("div",{class:"list-content"}," 回答用户提问时，将用户提问与导入的问题一起对比相似度，再根据相似度高的问题和对应的答案来回复 ",-1)),xt={key:0,class:"custom-setting-form subsection-form"},qt={class:"form-item",style:{"margin-bottom":"18px"}},wt=g(()=>e("div",{class:"form-item-label"},"分段标识符：",-1)),$t={class:"form-item-body"},Ft={class:"form-item"},It=g(()=>e("div",{class:"form-item-label"},"分段最大长度：",-1)),St={class:"form-item-body"},Pt=g(()=>e("span",{class:"unit-text"},"字符",-1)),Ct={class:"form-item"},Et=g(()=>e("div",{class:"form-item-label not-required"},"分段重叠长度：",-1)),Lt={class:"form-item-body"},Tt=g(()=>e("span",{class:"unit-text"},"字符",-1)),Nt={__name:"segmentation-setting",props:{mode:{type:Number,default:0},excellQaLists:{type:Array,default:()=>[]},libFileInfo:{type:Object,default:()=>{}}},emits:["change","validate"],setup(x,{emit:L}){const S=ee.useForm,u=L,d=x;fe(()=>d.libFileInfo.doc_type=="1"&&(d.libFileInfo.file_ext=="docx"||d.libFileInfo.file_ext=="html")),ge(d,l=>{let t=l.libFileInfo,f=t.separators_no?t.separators_no.split(","):[11,12];s.separators_no=f.map(b=>+b),s.chunk_size=+t.chunk_size||512,s.chunk_overlap=+t.chunk_overlap||50,s.is_qa_doc=+t.is_qa_doc,s.question_lable=t.question_lable,s.answer_lable=t.answer_lable,s.question_column=t.question_column||void 0,s.answer_column=t.answer_column||void 0,s.qa_index_type=+t.qa_index_type,s.enable_extract_image=t.enable_extract_image=="true"});const s=W({separators_no:[],chunk_size:512,chunk_overlap:50,is_qa_doc:0,question_lable:"",answer_lable:"",question_column:void 0,answer_column:void 0,qa_index_type:1,enable_extract_image:!0}),q=W({question_lable:[{message:"请输入问题开始标识符",validator:async(l,t)=>s.is_qa_doc==1&&d.mode==0?t?Promise.resolve():Promise.reject("请输入问题开始标识符"):Promise.resolve()}],answer_lable:[{message:"请输入答案开始标识符",validator:async(l,t)=>s.is_qa_doc==1&&d.mode==0?t?Promise.resolve():Promise.reject("请输入答案开始标识符"):Promise.resolve()}],separators_no:[{message:"请选择分段标识符",validator:async(l,t)=>d.mode!=1&&s.is_qa_doc==0&&t.length==0?Promise.reject("请选择分段标识符"):Promise.resolve()}],chunk_size:[{validator:async(l,t)=>{if(d.mode!=1)if(t){if(t>2e3)return Promise.reject("最大分段长最大值不得超过2000")}else return Promise.reject("请输入分段最大长度");return Promise.resolve()}}],chunk_overlap:[{validator:async(l,t)=>d.mode!=1&&t>parseInt(s.chunk_size/2)?Promise.reject("分段重叠长度最大不得超过最大分段长度的50%"):Promise.resolve()}],question_column:[{message:"请选择问题所在列",validator:async(l,t)=>d.mode==1&&s.is_qa_doc==1?t?Promise.resolve():Promise.reject("请选择问题所在列"):Promise.resolve()}],answer_column:[{message:"请选择答案所在列",validator:async(l,t)=>d.mode==1&&s.is_qa_doc==1?t?Promise.resolve():Promise.reject("请选择答案所在列"):Promise.resolve()}]}),{resetFields:r,validate:T,validateInfos:R}=S(s,q),N=l=>{s.is_qa_doc=l,$()},$=(l=!0)=>{let t=ne(s);T().then(()=>{u("change",{...t}),u("validate","")}).catch(f=>{const{errorFields:b}=f;if(b.length>0){l&&b[0].name=="chunk_overlap"&&Z.error(b[0].errors[0]),u("validate",b[0].errors[0]);return}u("validate",""),u("change",{...t})})};let w=null;const y=()=>{w&&(clearTimeout(w),w=null),w=setTimeout(()=>{$()},500)},O=k([]);(()=>{we().then(l=>{O.value=l.data||[]})})();const i=l=>{l!=s.qa_index_type&&(s.qa_index_type=l,$())};return(l,t)=>{const f=Ce,b=Ee,m=re,D=ce,U=Le,Q=Te;return c(),p("div",Re,[e("div",Ve,[e("div",Me,[e("div",Ke,[Je,e("div",We,[e("div",{class:B(["document-type",{active:s.is_qa_doc==0}]),onClick:t[0]||(t[0]=o=>N(0))}," 普通文档 ",2),e("div",{class:B(["document-type",{active:s.is_qa_doc==1}]),onClick:t[1]||(t[1]=o=>N(1))}," QA文档 ",2)]),s.is_qa_doc==1?(c(),p(E,{key:0},[Xe,d.mode==1?(c(),p("div",Ye,[e("div",Ge,[He,e("div",Ze,[a(b,{value:s.question_column,"onUpdate:value":t[2]||(t[2]=o=>s.question_column=o),onChange:y,placeholder:"请选择列名",style:{width:"100%"}},{default:_(()=>[(c(!0),p(E,null,V(d.excellQaLists,o=>(c(),M(f,{value:o.value,key:o.value},{default:_(()=>[F(I(o.lable),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),e("div",et,[tt,e("div",ot,[a(b,{value:s.answer_column,"onUpdate:value":t[3]||(t[3]=o=>s.answer_column=o),onChange:y,placeholder:"请选择答案所在列",style:{width:"100%"}},{default:_(()=>[(c(!0),p(E,null,V(d.excellQaLists,o=>(c(),M(f,{value:o.value,key:o.value},{default:_(()=>[F(I(o.lable),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),st,e("div",at,[e("div",{class:B(["list-item",{active:s.qa_index_type==1}]),onClick:t[4]||(t[4]=o=>i(1))},[a(m,{class:"check-icon",name:"check-arrow-filled"}),e("div",nt,[a(m,{name:"file-search"}),F(" 问题与答案一起生成索引 ")]),lt],2),e("div",{class:B(["list-item",{active:s.qa_index_type==2}]),onClick:t[5]||(t[5]=o=>i(2))},[a(m,{class:"check-icon",name:"check-arrow-filled"}),e("div",it,[a(m,{name:"comment-search"}),F(" 仅对问题生成索引 ")]),rt],2)])])):(c(),p("div",ct,[a(U,{gap:16},{default:_(()=>[e("div",_t,[dt,e("div",ut,[a(D,{placeholder:"请输入标识符",value:s.question_lable,"onUpdate:value":t[6]||(t[6]=o=>s.question_lable=o),onChange:y},null,8,["value"])])]),e("div",mt,[pt,e("div",vt,[a(D,{placeholder:"请输入标识符",value:s.answer_lable,"onUpdate:value":t[7]||(t[7]=o=>s.answer_lable=o),onChange:y},null,8,["value"])])])]),_:1}),ft,e("div",gt,[e("div",{class:B(["list-item",{active:s.qa_index_type==1}]),onClick:t[8]||(t[8]=o=>i(1))},[a(m,{class:"check-icon",name:"check-arrow-filled"}),e("div",ht,[a(m,{name:"file-search"}),F(" 问题与答案一起生成索引 ")]),bt],2),e("div",{class:B(["list-item",{active:s.qa_index_type==2}]),onClick:t[9]||(t[9]=o=>i(2))},[a(m,{class:"check-icon",name:"check-arrow-filled"}),e("div",yt,[a(m,{name:"comment-search"}),F(" 仅对问题生成索引 ")]),kt],2)])]))],64)):(c(),p(E,{key:1},[d.mode!=1?(c(),p("div",xt,[e("div",qt,[wt,e("div",$t,[a(b,{placeholder:"请选择",style:{width:"100%"},mode:"multiple",value:s.separators_no,"onUpdate:value":t[10]||(t[10]=o=>s.separators_no=o),onChange:y},{default:_(()=>[(c(!0),p(E,null,V(O.value,o=>(c(),M(f,{value:o.no,key:o.no},{default:_(()=>[F(I(o.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])]),a(U,{gap:16},{default:_(()=>[e("div",Ft,[It,e("div",St,[a(U,{align:"center",gap:8},{default:_(()=>[a(Q,{style:{flex:"1"},value:s.chunk_size,"onUpdate:value":t[11]||(t[11]=o=>s.chunk_size=o),placeholder:"分段最大长度",min:200,max:2e3,precision:0,formatter:o=>parseInt(o),parser:o=>parseInt(o),onChange:y},null,8,["value","formatter","parser"]),Pt]),_:1})])]),e("div",Ct,[Et,e("div",Lt,[a(U,{align:"center",gap:8},{default:_(()=>[a(Q,{style:{flex:"1"},value:s.chunk_overlap,"onUpdate:value":t[12]||(t[12]=o=>s.chunk_overlap=o),placeholder:"分段重叠长度",min:0,formatter:o=>parseInt(o),parser:o=>parseInt(o),onChange:y},null,8,["value","formatter","parser"]),Tt]),_:1})])])]),_:1})])):A("",!0)],64))])])])])}}},Ut=X(Nt,[["__scopeId","data-v-5774cd6e"]]),jt={class:"document-fragment"},Ot={class:"fragment-header"},zt={class:"fragment-info"},Dt={class:"fragment-number"},Qt={key:0,class:"fragment-title"},Bt={class:"fragment-content-lenght"},At={class:"fragment-action"},Rt={class:"fragment-content"},Vt={key:0,class:"fragment-content"},Mt={key:1,class:"fragment-content"},Kt={class:"fragment-img"},Jt=["src"],Wt={__name:"document-fragment",props:{number:{type:[Number,String]},total:{type:[Number,String]},title:{type:[Number,String]},content:{type:[Number,String]},question:{type:[Number,String]},answer:{type:[Number,String]},images:{type:[Array,String]}},emits:["edit","delete"],setup(x,{emit:L}){const S=L,u=x,d=()=>{S("edit")},s=()=>{S("delete")};return(q,r)=>{const T=Ne,R=he("viewer");return c(),p("div",jt,[e("div",Ot,[e("div",zt,[e("span",Dt,"#"+I(u.number),1),u.title?(c(),p("span",Qt,I(u.title),1)):A("",!0),e("span",Bt,"共"+I(u.total)+"个字符",1)]),e("div",At,[e("a",{onClick:d},"编辑"),a(T,{type:"vertical"}),e("a",{onClick:s},"删除")])]),e("div",Rt,I(u.content),1),u.question?(c(),p("div",Vt,"Q："+I(u.question),1)):A("",!0),u.answer?(c(),p("div",Mt,"A："+I(u.answer),1)):A("",!0),be((c(),p("div",Kt,[(c(!0),p(E,null,V(u.images,(N,$)=>(c(),p("img",{key:$,src:N,alt:""},null,8,Jt))),128))])),[[R]])])}}},Xt=X(Wt,[["__scopeId","data-v-3a2afee8"]]),Yt={class:"upload-box-wrapper"},Gt={key:0},Ht={__name:"edit-fragment-alert",emits:["ok"],setup(x,{expose:L,emit:S}){const u=S,d=k("1"),s=ee.useForm,q=k(!1),r=W({title:"",content:"",question:"",answer:"",images:[]}),T=W({content:[{message:"请输入分段内容",validator:async(P,i)=>w.value||i?Promise.resolve():Promise.reject("请输入分段内容")}],question:[{message:"请输入分段问题",validator:async(P,i)=>w.value?i?Promise.resolve():Promise.reject("请输入分段问题"):Promise.resolve()}],answer:[{message:"请输入分段答案",validator:async(P,i)=>w.value?i?Promise.resolve():Promise.reject("请输入分段答案"):Promise.resolve()}]}),{resetFields:R,validate:N,validateInfos:$}=s(r,T),w=k(!1),y=({title:P,content:i,question:l,answer:t,images:f})=>{r.title=P,r.content=i,r.question=l,r.answer=t,r.images=f||[],w.value=l!="",q.value=!0},O=()=>{N().then(()=>{q.value=!1,u("ok",ne(r))})};return L({open:y}),(P,i)=>{const l=ce,t=Pe,f=ze,b=re,m=je,D=Oe,U=ee,Q=J;return c(),p("div",null,[a(Q,{open:q.value,"onUpdate:open":i[6]||(i[6]=o=>q.value=o),title:"编辑分段",onOk:O,width:"746px"},{default:_(()=>[a(U,{layout:"vertical"},{default:_(()=>[a(t,{label:"分段标题："},{default:_(()=>[a(l,{type:"text",placeholder:"请输入分段标题",value:r.title,"onUpdate:value":i[0]||(i[0]=o=>r.title=o)},null,8,["value"])]),_:1}),w.value?(c(),p(E,{key:0},[a(t,H({label:"分段问题："},K($).question),{default:_(()=>[a(f,{placeholder:"请输入分段问题",value:r.question,"onUpdate:value":i[1]||(i[1]=o=>r.question=o),style:{height:"100px"}},null,8,["value"])]),_:1},16),a(t,H({label:"分段答案："},K($).answer),{default:_(()=>[a(f,{placeholder:"请输入分段答案",value:r.answer,"onUpdate:value":i[2]||(i[2]=o=>r.answer=o),style:{height:"140px"}},null,8,["value"])]),_:1},16)],64)):(c(),M(t,H({key:1,label:"分段内容："},K($).content),{default:_(()=>[a(f,{placeholder:"请输入分段内容",value:r.content,"onUpdate:value":i[3]||(i[3]=o=>r.content=o),style:{height:"150px"}},null,8,["value"])]),_:1},16)),a(t,{label:"附件"},{default:_(()=>[e("div",Yt,[a(D,{activeKey:d.value,"onUpdate:activeKey":i[4]||(i[4]=o=>d.value=o),size:"small"},{default:_(()=>[a(m,{key:"1"},{tab:_(()=>[e("span",null,[a(b,{name:"img-icon",style:{"font-size":"14px",color:"#2475fc"}}),F(" 图片 "),r.images.length?(c(),p("span",Gt,"("+I(r.images.length)+")",1)):A("",!0)])]),_:1})]),_:1},8,["activeKey"]),a(Ue,{value:r.images,"onUpdate:value":i[5]||(i[5]=o=>r.images=o)},null,8,["value"])])]),_:1})]),_:1})]),_:1},8,["open"])])}}},Zt=X(Ht,[["__scopeId","data-v-6df5439f"]]),_e=x=>(le("data-v-88944b64"),x=x(),ie(),x),eo={key:0,class:"loading-wrap"},to={class:"document-segmentation"},oo={class:"breadcrumb-block"},so={class:"page-title"},ao=_e(()=>e("span",{class:"title"},"文档分段与清洗",-1)),no={class:"page-container"},lo={class:"page-left"},io={class:"page-right"},ro={class:"document-fragment-preview"},co={class:"preview-header"},_o=_e(()=>e("span",{class:"label-text"},"分段预览",-1)),uo={class:"fragment-number"},mo={class:"footer-btn-box"},po={__name:"document-segmentation",setup(x){const L=ye(),S=ke(),{document_id:u}=L.query,d=k(!0),s=k(1);let q=!1,r={id:u,separators_no:"",chunk_size:512,chunk_overlap:50,is_qa_doc:0,question_lable:"",answer_lable:"",enable_extract_image:!0},T=!1;const R=n=>{typeof n.separators_no=="object"&&(n.separators_no=n.separators_no.join(",")),T=!0,r={...r,...n},q?J.confirm({title:"提醒",icon:a(ae),content:"文档片段已被编辑重新获取文档片段会丢失当前修改过的文档片段内容，确定要重新获取吗？",okText:"确定",okType:"danger",cancelText:"取消",onOk(){q=!1,f()},onCancel(){}}):(q=!1,f())};let N=60*10,$=0,w=null;const y=k({}),O=()=>{d.value||(d.value=!0),$e({id:u}).then(n=>{const{status:v}=n.data;if(y.value=n.data,r={...r,separators_no:n.data.separators_no||"11,12",chunk_size:+n.data.chunk_size||512,chunk_overlap:+n.data.chunk_overlap||50,is_qa_doc:+n.data.is_qa_doc,question_lable:n.data.question_lable,answer_lable:n.data.answer_lable,question_column:n.data.question_column,answer_column:n.data.answer_column,enable_extract_image:n.data.enable_extract_image=="true",qa_index_type:+n.data.qa_index_type},v==0){if($++,$>N){J.error({title:"提醒",content:"文档解析速度慢请稍后再试"});return}setTimeout(()=>{O()},1e3)}else v==4||v==2?(d.value=!1,s.value=parseInt(n.data.is_table_file),w=n.data.library_id,f()):S.replace("/library/details?id="+n.data.library_id);n.data.is_table_file==1&&i()})};O();const P=k([]),i=()=>{Fe({id:u}).then(n=>{let v=[];for(let h in n.data)v.push({lable:n.data[h],value:h});P.value=v})},l=k([]),t=k(0),f=()=>{Ie(r).then(n=>{l.value=n.data.list||[],t.value=n.data.list.length||0})},b=k(null);let m=null;const D=({title:n,content:v,question:h,answer:j,images:z},G)=>{m=G,b.value.open({title:n,content:v,question:h,answer:j,images:z})},U=({title:n,content:v,question:h,answer:j,images:z})=>{(l.value[m].title!=n||l.value[m].content!=v||l.value[m].question!=h||l.value[m].answer!=j)&&(q=!0),l.value[m].title=n,l.value[m].content=v,l.value[m].question=h,l.value[m].answer=j,l.value[m].images=z,l.value[m].word_total=j.length+h.length+v.length},Q=n=>{J.confirm({title:"提醒",icon:a(ae),content:"确定要删除这个片段吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk(){q=!0,l.value.splice(n,1)},onCancel(){}})},o=k(""),de=n=>{o.value=n},Y=k(!1),ue=()=>{if(o.value)return Z.error(o.value);let n={...r,is_table_file:s.value};delete n.id;let v={id:u,word_total:t.value,split_params:JSON.stringify(n),list:JSON.stringify(l.value)};n.is_qa_doc==1&&(v.qa_index_type=n.qa_index_type),Y.value=!0,Se(v).then(()=>{if(Z.success("保存成功"),L.query.source=="preview"&&!T){oe();return}S.replace("/library/details?id="+w)}).finally(()=>{Y.value=!1}).catch(h=>{h.data&&h.data.index&&me(h.data.index)})},te=k(null),me=n=>{n=n-1;let v=te.value.querySelectorAll(".fragment-item");v.length>=n&&v[n].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},oe=()=>{S.back()};return(n,v)=>{const h=Be,j=xe("router-link"),z=Qe,G=De,pe=qe;return c(),p(E,null,[d.value?(c(),p("div",eo,[a(h)])):A("",!0),e("div",to,[e("div",oo,[a(G,null,{default:_(()=>[a(z,null,{default:_(()=>[a(j,{to:"/library/list"},{default:_(()=>[F(" 知识库管理 ")]),_:1})]),_:1}),a(z,null,{default:_(()=>[a(j,{to:{path:"/library/details/knowledge-document",query:{id:y.value.library_id}}},{default:_(()=>[F(I(y.value.library_name)+"知识库",1)]),_:1},8,["to"])]),_:1}),a(z,null,{default:_(()=>[F("分段设置")]),_:1})]),_:1})]),e("div",so,[a(K(Ae),{onClick:oe}),ao]),e("div",no,[e("div",lo,[a(Ut,{excellQaLists:P.value,libFileInfo:y.value,mode:s.value,onChange:R,onValidate:de},null,8,["excellQaLists","libFileInfo","mode"])]),e("div",io,[e("div",ro,[e("div",co,[_o,e("span",uo,"共"+I(t.value)+"个分段",1)]),e("div",{class:"preview-box",ref_key:"previewBoxRef",ref:te},[(c(!0),p(E,null,V(l.value,(C,se)=>(c(),p("div",{class:"fragment-item",key:C.number},[a(Xt,{number:C.number,title:C.title,content:C.content,total:C.word_total,question:C.question,answer:C.answer,images:C.images,onDelete:ve=>Q(se),onEdit:ve=>D(C,se)},null,8,["number","title","content","total","question","answer","images","onDelete","onEdit"])]))),128))],512)])])]),e("div",mo,[a(pe,{type:"primary",loading:Y.value,onClick:ue},{default:_(()=>[F("保存")]),_:1},8,["loading"])]),a(Zt,{ref_key:"editFragmentAlertRef",ref:b,onOk:U},null,512)])],64)}}},_s=X(po,[["__scopeId","data-v-88944b64"]]);export{_s as default};
