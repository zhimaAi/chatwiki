import{e as i,ab as w,l as e,Y as u,_ as r,k as g,a2 as b,F as N,a9 as B,a1 as k,ae as V,G as q,a7 as L,u as I,af as h,d as K,a5 as l,ad as T}from"./vue-chunks-Ci-XTWEs.js";import{b as R,ay as A,h as Y,d as n,ar as E,ba as F}from"../../index-BLRnoXQj.js";import{c as O,b as z}from"./ui-antd-BKz8sshA.js";import"./utils-ChQO-_r6.js";const D={class:"left-menu-box"},G={__name:"left-menus",emits:["changeMenu"],setup(a,{emit:d}){const t=A(),c=i(()=>t.graph_switch),m=Y(),p=d,_=w(),y=_.query,v=i(()=>m.getRobotNums),f=i(()=>[_.path.split("/")[3]]),x=i(()=>{let o=[{key:"knowledge-document",id:"knowledge-document",icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:t.type==2?"知识管理":"知识库文档",title:"知识库文档",path:"/library/details/knowledge-document"},{key:"knowledge-graph",id:"knowledge-graph",hidden:c.value==0,icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:"知识图谱",title:"知识图谱",path:"/library/details/knowledge-graph"},{key:"categary-manage",id:"categary-manage",icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:"精选",title:"精选",path:"/library/details/categary-manage"},{key:"recall-testing",id:"recall-testing",icon:()=>e("span",{},[e(n,{name:"test-menu-icon",class:"menu-icon"}),e(n,{name:"test-active-menu-icon",class:"menu-icon-active"})]),label:"召回测试",title:"召回测试",path:"/library/details/recall-testing"},{key:"knowledge-config",id:"knowledge-config",icon:()=>e("span",{},[e(n,{name:"knowledge-config-icon",class:"menu-icon"}),e(n,{name:"knowledge-config-active-icon",class:"menu-icon-active"})]),label:"知识库配置",title:"知识库配置",path:"/library/details/knowledge-config"},{key:"related-robots",id:"related-robots",icon:()=>e("span",{},[e(n,{name:"knowledge-config-icon",class:"menu-icon"}),e(n,{name:"knowledge-config-active-icon",class:"menu-icon-active"})]),label:`关联机器人${v.value>0?` (${v.value})`:""}`,path:"/library/details/related-robots"}];return t.type==2?(o.push({key:"import-record",id:"import-record",icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:"导入记录",title:"导入记录",path:"/library/details/import-record"}),o.push({key:"export-record",id:"export-record",icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:"导出记录",title:"导出记录",path:"/library/details/export-record"})):o.push({key:"recycle-bin-record",id:"recycle-bin-record",icon:()=>e("span",{},[e(n,{name:"doc-menu-icon",class:"menu-icon"}),e(n,{name:"doc-active-menu-icon",class:"menu-icon-active"})]),label:"回收站",title:"回收站",path:"/library/details/recycle-bin-record"}),o}),M=({item:o})=>{f.value.includes(o.id)||p("changeMenu",o)};return(o,ae)=>{const S=O,$=h("router-link"),C=z;return r(),u("div",D,[g(C,{class:"left-menu",selectedKeys:f.value,onClick:M},{default:b(()=>[(r(!0),u(N,null,B(x.value,s=>(r(),k($,{class:"default-color",to:{path:s.path,query:I(y)},key:s.key},{default:b(()=>[s.hidden?V("",!0):(r(),k(S,{icon:s.icon,path:s.path,key:s.key},{default:b(()=>[q(L(s.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},P=R(G,[["__scopeId","data-v-1dd40926"]]),U=K({components:{LeftMenus:P},async beforeRouteEnter(a,d,t){let c=F(a.query.id);if(c==0||c==1){t("/no-permission");return}t()},setup(){const a=A(),{getLibraryInfo:d}=a,t=w();t.query;const c=i(()=>t.meta.cuStyle),m=i(()=>a.library_name),p=i(()=>a.avatar);return{cuStyle:c,LIBRARY_NORMAL_AVATAR:E,rotue:t,library_name:m,avatar:p}}}),j={class:"details-library-page"},H={class:"between-content-box"},J={class:"layout-left"},Q={class:"library-name-box"},W=["src"],X={class:"name"},Z={class:"left-menu-wrapper"},ee={key:0,style:{flex:"1"}};function ne(a,d,t,c,m,p){const _=h("LeftMenus"),y=h("router-view");return r(),u("div",j,[l("div",H,[l("div",J,[l("div",Q,[l("img",{class:"avatar",src:a.avatar||a.LIBRARY_NORMAL_AVATAR,alt:""},null,8,W),l("div",X,L(a.library_name),1)]),l("div",Z,[g(_)])]),a.cuStyle?(r(),u("div",ee,[g(y)])):(r(),u("div",{key:1,class:T(["right-content-box",["page-"+a.rotue.name]])},[g(y)],2))])])}const ie=R(U,[["render",ne],["__scopeId","data-v-94a24230"]]);export{ie as default};
