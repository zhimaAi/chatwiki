import{M as x}from"./model-select-CjmsccZQ.js";import{_ as h}from"../../index-DxV-PNCd.js";import{M as p}from"./ui-antd-AfNpv4wx.js";import{f as d,r as M,ac as N,ad as O,k as a,ar as y,as as m,y as C}from"./vue-chunks-CGLjTDrY.js";const T={__name:"open-grapg-modal",emits:["ok"],setup(I,{expose:i,emit:_}){const t=d(!1),l=d(!1),s=d({}),o=M({graph_use_model:"",graph_model_config_id:""}),u=_,c=r=>{l.value||(l.value=!0,g(),s.value=JSON.parse(JSON.stringify(r)))},f=()=>{},g=()=>{p.confirm({title:"确定开启生成知识图谱吗?",icon:null,content:a("div",{style:"color: #262626;"},[a("span",{},"生成知识图谱依赖大模型能力"),a("span",{style:"color:red;"},"可能会产生比较大的Token消耗"),a("span",{},"。知识图谱擅长精准的实体关系推理和逻辑验证（比如需要查询问题是X商品有哪些优惠方案），但对非结构化文本和语义模糊查询支持较弱。建议您优先使用向量，当单纯向量检索无法满足时再尝试知识图谱")]),okText:"确定开启",cancelText:"暂不开启",onOk(){t.value=!0,l.value=!1,C(()=>{o.graph_use_model=s.value.graph_use_model,o.graph_model_config_id=s.value.graph_model_config_id})},onCancel:()=>l.value=!1})},v=()=>{t.value=!1,u("ok",{...o})};return i({show:c}),(r,e)=>{const k=p;return O(),N("div",null,[a(k,{open:t.value,"onUpdate:open":e[2]||(e[2]=n=>t.value=n),title:"请先选择生成知识图谱模型",onOk:v},{default:y(()=>[m("div",null,[e[3]||(e[3]=m("div",{class:"desc-text"},"开启后，会使用指定模型抽取知识中实体和关系。",-1)),a(x,{modelType:"LLM",modeName:o.graph_use_model,"onUpdate:modeName":e[0]||(e[0]=n=>o.graph_use_model=n),modeId:o.graph_model_config_id,"onUpdate:modeId":e[1]||(e[1]=n=>o.graph_model_config_id=n),style:{width:"300px"},onChange:f},null,8,["modeName","modeId"])])]),_:1},8,["open"])])}}},J=h(T,[["__scopeId","data-v-909a5d39"]]);export{J as O};
