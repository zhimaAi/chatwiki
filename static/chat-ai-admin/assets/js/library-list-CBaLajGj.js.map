{"version":3,"file":"library-list-CBaLajGj.js","sources":["../../../../front-end/chat-ai-admin-vue/src/assets/svg/library_ability_official_account.svg","../../../../front-end/chat-ai-admin-vue/src/views/library/library-list/components/libray-list/index.vue","../../../../front-end/chat-ai-admin-vue/src/assets/img/library/a.svg","../../../../front-end/chat-ai-admin-vue/src/assets/img/library/q.svg","../../../../front-end/chat-ai-admin-vue/src/views/library/library-list/components/add-libray-popup.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/add-library/add-library-model.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-list/components/add-group.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-list/components/edit-group.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-list/library-list.vue"],"sourcesContent":["export default \"data:image/svg+xml,%3csvg%20width='62'%20height='62'%20viewBox='0%200%2062%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%2016C0%207.16344%207.16344%200%2016%200H46C54.8366%200%2062%207.16344%2062%2016V46C62%2054.8366%2054.8366%2062%2046%2062H16C7.16344%2062%200%2054.8366%200%2046V16Z'%20fill='%2321A665'/%3e%3cg%20filter='url(%23filter0_d_11589_11828)'%3e%3cpath%20d='M17.5418%2041.2916C17.5418%2035.1931%2017.5418%2020.7083%2017.5418%2020.7083C17.5418%2018.0849%2019.6685%2015.9583%2022.2918%2015.9583H39.7085V36.5416C39.7085%2036.5416%2026.4343%2036.5416%2022.2918%2036.5416C19.6793%2036.5416%2017.5418%2038.6666%2017.5418%2041.2916Z'%20fill='white'%20stroke='white'%20stroke-width='3.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M39.7085%2036.5417C39.7085%2036.5417%2023.2052%2036.5417%2022.2918%2036.5417C19.6685%2036.5417%2017.5418%2038.6684%2017.5418%2041.2917C17.5418%2043.9151%2019.6685%2046.0417%2022.2918%2046.0417C24.0407%2046.0417%2032.4852%2046.0417%2044.4585%2046.0417V17.5417'%20stroke='white'%20stroke-width='3.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M23.0832%2041.2917H38.9165'%20stroke='white'%20stroke-width='3.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M34.1961%2020.5428C33.3496%2018.8498%2031.2939%2017.2778%2028.7545%2017.2778C27.5453%2017.2778%2025.6105%2017.7615%2024.1595%2019.5754C23.0712%2020.6637%2022.8293%2022.1148%2022.9502%2023.4449C23.0712%2024.4123%2023.6758%2025.6215%2024.4013%2026.468C24.6432%2024.4123%2025.7315%2022.8403%2027.1825%2021.752C29.601%2019.8172%2032.2613%2019.9381%2034.1961%2020.5428Z'%20fill='%2321A665'/%3e%3cpath%20d='M36.2518%2023.5658C34.6798%2021.631%2032.1404%2021.0264%2029.722%2021.8729C29.8429%2021.8729%2029.8429%2021.8729%2029.9638%2021.9938C33.4706%2023.2031%2035.4054%2027.0726%2034.1961%2030.5794C33.8334%2031.5467%2033.3497%2032.3932%2032.7451%2032.9978C33.4706%2032.756%2034.3171%2032.5141%2034.9217%2032.0304C37.582%2029.8538%2038.0657%2026.1052%2036.2518%2023.5658Z'%20fill='%2321A665'/%3e%3cpath%20d='M28.7546%2029.8538C28.2709%2029.8538%2027.6663%2029.7329%2027.1826%2029.7329H26.9407C26.8198%2029.7329%2026.6989%2029.7329%2026.578%2029.8538L24.885%2030.9422H24.7641C24.6432%2030.9422%2024.5223%2030.8212%2024.5223%2030.7003V30.4585C24.5223%2030.4585%2024.7641%2029.612%2024.7641%2029.1283V29.0074C24.7641%2028.8865%2024.6432%2028.6446%2024.5223%2028.6446C22.8293%2027.4354%2021.6201%2025.6215%2021.3783%2023.6868C21.0155%2024.4123%2020.8946%2024.896%2020.6527%2025.7425C19.8063%2028.7655%2021.6201%2032.2723%2024.6432%2033.2397C28.15%2034.328%2031.4149%2033.1188%2032.6241%2030.0957C32.745%2029.7329%2032.866%2029.1283%2032.9869%2028.6446C31.7776%2029.4911%2030.4475%2029.8538%2028.7546%2029.8538Z'%20fill='%2321A665'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='filter0_d_11589_11828'%20x='8'%20y='12'%20width='46'%20height='46'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='4'/%3e%3cfeGaussianBlur%20stdDeviation='2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.0886636%200%200%200%200%200.202211%200%200%200%200%200.413084%200%200%200%200.14%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_11589_11828'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_11589_11828'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e\"","<style lang=\"less\" scoped>\r\n.list-box {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  margin: 0 -8px 0 -8px;\r\n  flex: 1;\r\n}\r\n.list-item-wrapper {\r\n  padding: 8px;\r\n  width: 25%;\r\n}\r\n.list-item {\r\n  position: relative;\r\n  width: 100%;\r\n  padding: 24px;\r\n  border: 1px solid #E4E6EB;\r\n  border-radius: 12px;\r\n  background-color: #fff;\r\n  transition: all 0.25s;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.12);\r\n  }\r\n\r\n  .library-type {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    display: flex;\r\n    padding: 1px 8px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    gap: 10px;\r\n    position: absolute;\r\n    right: 0;\r\n    border-radius: 0 8px;\r\n    background: var(--09, #F2F4F7);\r\n\r\n    .type-box {\r\n      color: #595959;\r\n      font-size: 12px;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      line-height: 16px;\r\n    }\r\n  }\r\n\r\n  .library-info {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .library-icon {\r\n      width: 48px;\r\n      height: 48px;\r\n      overflow: hidden;\r\n      position: relative;\r\n      > img {\r\n        width: 100%;\r\n        height: 100%;\r\n        border-radius: 12px;\r\n      }\r\n\r\n      .sync-tag {\r\n        position: absolute;\r\n        left: 0;\r\n        bottom: 0;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        width: 100%;\r\n        height: 18px;\r\n        background: rgba(0,0,0,0.5);\r\n        color: #FFF;\r\n        font-size: 10px;\r\n        border-radius: 0 0 14px 14px;\r\n        &.run {\r\n          background: #2475FC;\r\n        }\r\n        &.fail {\r\n          background: #FB363F;\r\n        }\r\n      }\r\n    }\r\n\r\n    .library-info-content{\r\n      flex: 1;\r\n      padding-left: 12px;\r\n      overflow: hidden;\r\n    }\r\n  }\r\n\r\n  .library-title {\r\n    height: 24px;\r\n    line-height: 24px;\r\n    margin-bottom: 4px;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    color: #262626;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  // .library-type {\r\n  //   display: flex;\r\n  //   .type-tag {\r\n  //     height: 22px;\r\n  //     line-height: 20px;\r\n  //     padding: 0 8px;\r\n  //     font-size: 12px;\r\n  //     font-weight: 400;\r\n  //     border-radius: 6px;\r\n  //     color: rgb(36, 117, 252);\r\n  //     border: 1px solid #CDE0FF;\r\n  //   }\r\n  //   .graph-tag {\r\n  //     margin-left: 4px;\r\n  //     &.gray-tag {\r\n  //       border: 1px solid #00000026;\r\n  //       background: #0000000a;\r\n  //       color: #bfbfbf;\r\n  //     }\r\n  //   }\r\n  // }\r\n  .item-body{\r\n    margin-top: 12px;\r\n  }\r\n  .library-desc {\r\n    height: 44px;\r\n    line-height: 22px;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: rgb(89, 89, 89);\r\n    // 超出2行显示省略号\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n  }\r\n  .item-footer {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-top: 14px;\r\n    color: #7a8699;\r\n  }\r\n  .library-size {\r\n    display: flex;\r\n    line-height: 20px;\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    color: #7a8699;\r\n\r\n    .text-item {\r\n      display: flex;\r\n      align-items: center;\r\n      margin-right: 12px;\r\n      &:last-child{\r\n        margin-right: 0;\r\n      }\r\n\r\n      .icon {\r\n        font-size: 14px;\r\n        margin-right: 4px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .action-box {\r\n    font-size: 14px;\r\n    height: 24px;\r\n    color: #2475fc;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .action-item {\r\n      display: flex;\r\n      align-items: center;\r\n      height: 100%;\r\n      padding: 4px;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      color: #595959;\r\n      transition: all 0.2s;\r\n    }\r\n    .action-item:hover {\r\n      background: #E4E6EB;\r\n    }\r\n\r\n    .action-icon {\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n\r\n// 大于1920px\r\n@media screen and (min-width: 1920px) {\r\n  .list-box {\r\n    .list-item-wrapper {\r\n      width: 20%;\r\n    }\r\n  }\r\n}\r\n\r\n// 大于1920px\r\n@media screen and (max-width: 1500px) {\r\n  .list-box {\r\n    .list-item-wrapper {\r\n      width: 33.3%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"list-box\">\r\n    <div v-if=\"props.list.length\" class=\"list-item-wrapper\" v-for=\"item in props.list\" :key=\"item.id\">\r\n      <div class=\"list-item\" @click.stop=\"toEdit(item)\">\r\n        <div class=\"library-type\">\r\n          <span class=\"type-box\" v-if=\"item.type == 0\">{{ t('normal_knowledge_base') }}</span>\r\n          <span class=\"type-box\" v-if=\"item.type == 1\">{{ t('external_knowledge_base') }}</span>\r\n          <span class=\"type-box\" v-if=\"item.type == 2\">{{ t('qa_knowledge_base') }}</span>\r\n          <span class=\"type-box\" v-if=\"item.type == 3\">{{ t('official_account_knowledge_base') }}</span>\r\n        </div>\r\n        <div class=\"library-info\">\r\n          <div class=\"library-icon\">\r\n            <img :src=\"item.avatar\"/>\r\n            <template v-if=\"item.type == 3\">\r\n              <span v-if=\"item.sync_official_content_status == 2\" class=\"sync-tag run\">{{ t('syncing') }}</span>\r\n              <span v-else-if=\"item.sync_official_content_status == 3\" class=\"sync-tag fail\">{{ t('sync_failed') }}</span>\r\n            </template>\r\n          </div>\r\n          <div class=\"library-info-content\">\r\n            <div class=\"library-title\">{{ item.library_name }}</div>\r\n            <!-- <div class=\"library-type\">\r\n              <span class=\"type-tag\" v-if=\"item.type == 0\">{{ t('normal_knowledge_base') }}</span>\r\n              <span class=\"type-tag\" v-if=\"item.type == 1\">{{ t('external_knowledge_base') }}</span>\r\n              <span class=\"type-tag\" v-if=\"item.type == 2\">{{ t('qa_knowledge_base') }}</span>\r\n              <span class=\"type-tag\" v-if=\"item.type == 3\">{{ t('official_account_knowledge_base') }}</span> -->\r\n              <!-- <a-tooltip v-if=\"neo4j_status\">\r\n                <template #title>{{ item.graph_switch == 0 ? '未' : '已' }}开启知识图谱生成</template>\r\n                <span class=\"type-tag graph-tag\" :class=\"{ 'gray-tag': item.graph_switch == 0 }\"\r\n                  >Graph</span\r\n                >\r\n              </a-tooltip> -->\r\n            <!-- </div> -->\r\n          </div>\r\n        </div>\r\n        <div class=\"item-body\">\r\n          <a-tooltip :title=\"getTooltipTitle(item.library_intro, item, 14, 2, 0)\" placement=\"top\">\r\n            <div class=\"library-desc\" :ref=\"el => setDescRef(el, item)\">{{ item.library_intro }}</div>\r\n          </a-tooltip>\r\n        </div>\r\n\r\n        <div class=\"item-footer\">\r\n          <div class=\"library-size\">\r\n            <a-tooltip :title=\"t('document_count')\">\r\n              <span class=\"text-item\">\r\n                <svg-icon class=\"icon\" name=\"document-icon\"></svg-icon>\r\n                {{ item.file_total }}\r\n              </span>\r\n            </a-tooltip>\r\n            <a-tooltip :title=\"t('storage_size')\">\r\n              <span class=\"text-item\">\r\n              <svg-icon class=\"icon\" name=\"storage-icon\"></svg-icon>\r\n              {{ item.file_size_str }}</span>\r\n            </a-tooltip>\r\n            <a-tooltip :title=\"t('related_app')\">\r\n              <span class=\"text-item\">\r\n                <svg-icon class=\"icon\" name=\"relevance-icon\"></svg-icon>\r\n                {{ item.robot_nums || 0 }}\r\n              </span>\r\n            </a-tooltip>\r\n          </div>\r\n\r\n          <div class=\"action-box\" @click.stop>\r\n            <a-dropdown>\r\n              <div class=\"action-item\" @click.stop>\r\n                <svg-icon class=\"action-icon\" name=\"point-h\"></svg-icon>\r\n              </div>\r\n              <template #overlay>\r\n                <a-menu>\r\n                  <a-menu-item>\r\n                    <a class=\"delete-text-color\" href=\"javascript:;\" @click.stop=\"handleDelete(item)\"\r\n                      >{{ t('delete') }}</a\r\n                    >\r\n                  </a-menu-item>\r\n                  <a-menu-item>\r\n                    <div @click.stop=\"openEditGroupModal(item)\">{{ t('modify_group') }}</div>\r\n                  </a-menu-item>\r\n                </a-menu>\r\n              </template>\r\n            </a-dropdown>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n    </div>\r\n    <EmptyBox v-else style=\"margin-top: 80px;\"/>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\nimport { setDescRef, getTooltipTitle } from '@/utils/index'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nconst emit = defineEmits(['add', 'edit', 'delete', 'openEditGroupModal'])\r\n\r\nimport { useCompanyStore } from '@/stores/modules/company'\r\nimport EmptyBox from \"@/components/common/empty-box.vue\";\r\nconst { t } = useI18n('views.library.library-list.components.library-list.index')\r\n\r\nconst companyStore = useCompanyStore()\r\nconst neo4j_status = computed(()=>{\r\n  return companyStore.companyInfo?.neo4j_status == 'true'\r\n})\r\n\r\nconst props = defineProps({\r\n  list: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n})\r\n\r\nconst toEdit = (item) => {\r\n  emit('edit', item)\r\n}\r\n\r\nconst handleDelete = (item) => {\r\n  emit('delete', item)\r\n}\r\n\r\nconst openEditGroupModal = (item)=>{\r\n  emit('openEditGroupModal', item)\r\n}\r\n</script>\r\n","export default \"data:image/svg+xml,%3csvg%20width='64'%20height='64'%20viewBox='0%200%2064%2064'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.8066%2055.3034C14.0866%2051.3489%2011.0624%2045.5975%2015.5685%2027.6849C20.074%209.77234%2025.4347%206.23271%2041.1546%2010.1872C56.8746%2014.1417%2059.8378%2019.7747%2055.3323%2037.6873C50.8267%2055.5999%2045.5265%2059.2579%2029.8059%2055.3034H29.8066Z'%20fill='%232475FC'/%3e%3cpath%20d='M27.6401%2056.8699C9.97054%2056.8699%205.24487%2051.5938%205.24487%2031.46C5.24487%2011.3261%209.97054%206.15887%2027.6401%206.15887C45.3096%206.15887%2049.9398%2011.3261%2049.9398%2031.46C49.9398%2051.5938%2045.3096%2056.8699%2027.6401%2056.8699Z'%20fill='%232CAAFF'/%3e%3cpath%20d='M38.7639%2045.5143H36.8936C36.3373%2045.5143%2035.8577%2045.4677%2035.4549%2045.3743C35.052%2045.281%2034.7067%2045.1363%2034.419%2044.9403C34.1313%2044.7443%2033.8867%2044.497%2033.6853%2044.1983C33.4838%2043.8997%2033.2968%2043.5543%2033.1242%2043.1623C32.8364%2042.453%2032.5727%2041.809%2032.3329%2041.2303C32.0931%2040.6517%2031.8869%2040.1477%2031.7142%2039.7183C31.5032%2039.233%2031.3114%2038.785%2031.1388%2038.3743H23.974C23.8397%2038.8037%2023.6767%2039.2703%2023.4849%2039.7743C23.3314%2040.2037%2023.13%2040.7217%2022.8806%2041.3283C22.6312%2041.935%2022.3435%2042.593%2022.0174%2043.3023C21.6337%2044.1423%2021.1925%2044.721%2020.6938%2045.0383C20.195%2045.3557%2019.6291%2045.5143%2018.9961%2045.5143H17.0107C16.1667%2045.5143%2015.596%2045.3323%2015.2986%2044.9683C15.0013%2044.6043%2015.0253%2043.9837%2015.3706%2043.1063C15.7159%2042.2663%2016.1187%2041.277%2016.5791%2040.1383C17.0395%2038.9997%2017.5286%2037.791%2018.0466%2036.5123C18.5645%2035.2337%2019.1016%2033.9223%2019.6579%2032.5783C20.2142%2031.2343%2020.7513%2029.9183%2021.2693%2028.6303C22.497%2025.625%2023.7822%2022.4983%2025.125%2019.2503C25.2593%2018.933%2025.4319%2018.6437%2025.6429%2018.3823C25.8347%2018.177%2026.0889%2017.981%2026.4054%2017.7943C26.7219%2017.6077%2027.12%2017.5143%2027.5996%2017.5143C28.0983%2017.5143%2028.5059%2017.6123%2028.8224%2017.8083C29.139%2018.0043%2029.4027%2018.2237%2029.6137%2018.4663C29.8439%2018.7463%2030.0262%2019.0543%2030.1604%2019.3903C31.5224%2022.6757%2032.8172%2025.821%2034.0449%2028.8263C34.5629%2030.1143%2035.1%2031.4257%2035.6563%2032.7603C36.2126%2034.095%2036.7449%2035.3923%2037.2532%2036.6523C37.7616%2037.9123%2038.2412%2039.093%2038.6919%2040.1943C39.1427%2041.2957%2039.5312%2042.2477%2039.8573%2043.0503C40.1259%2043.685%2040.1642%2044.2543%2039.9724%2044.7583C39.7806%2045.2623%2039.3777%2045.5143%2038.7639%2045.5143ZM30.4194%2034.8743L27.6859%2025.3823H27.6571L24.607%2034.8743H30.4194Z'%20fill='white'/%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2062%2062'%20class='design-iconfont'%3e%3cpath%20d='M0%2014.5882C0%206.53137%206.53137%200%2014.5882%200H47.4118C55.4686%200%2062%206.53137%2062%2014.5882V47.4118C62%2055.4686%2055.4686%2062%2047.4118%2062H14.5882C6.53137%2062%200%2055.4686%200%2047.4118V14.5882Z'%20fill='%234876FF'/%3e%3cg%20filter='url(%23kd70btl3k__filter0_d_7802_38768)'%3e%3cpath%20d='M42.8433%2015.6719H27.4866C24.6533%2015.6719%2022.33%2017.9952%2022.33%2020.8852V32.6152C22.33%2035.5052%2024.6533%2037.8285%2027.4866%2037.8285H37.861L41.4876%2041.1719C42.5076%2042.1352%2044.2643%2041.4552%2044.2643%2040.0385V37.7719C47.041%2037.7719%2048%2035.4485%2048%2032.6152V20.8852C48%2017.9952%2045.6766%2015.6719%2042.8433%2015.6719Z'%20fill='%23D6E0FF'/%3e%3cpath%20d='M36.9952%2017.1719H19.7806C16.6044%2017.1719%2014%2019.7763%2014%2023.016V36.1652C14%2039.3413%2016.5409%2041.9458%2019.6535%2042.0093V44.5502C19.6535%2046.1383%2021.6227%2046.9005%2022.7661%2045.8206L26.8316%2042.0728H36.9952C40.1714%2042.0728%2042.7758%2039.4684%2042.7758%2036.2287V23.016C42.7758%2019.7763%2040.1714%2017.1719%2036.9952%2017.1719Z'%20fill='%23EBF0FF'/%3e%3cpath%20d='M35.8572%2028.9015C35.8572%2026.5396%2035.2018%2024.6658%2033.8911%2023.2801C32.5804%2021.8944%2030.8072%2021.1995%2028.5715%2021.1953C26.342%2021.1953%2024.5709%2021.8881%2023.2581%2023.2738C21.9453%2024.6595%2021.2878%2026.5259%2021.2858%2028.8732C21.2858%2031.1973%2021.9401%2033.0564%2023.2487%2034.4505C24.5574%2035.8446%2026.2974%2036.5427%2028.4688%2036.5447C29.0683%2036.5626%2029.6676%2036.5012%2030.2514%2036.3621C30.3074%2036.4093%2030.9638%2037.4265%2031.7726%2037.8863C32.3384%2038.2078%2033.0977%2038.2247%2033.6736%2038.1731C34.1554%2038.1299%2034.4572%2037.6737%2034.3836%2037.1957C34.3104%2036.7211%2033.8837%2036.3943%2033.42%2036.2696C33.3237%2036.2437%2033.2286%2036.2126%2033.1352%2036.1763C32.8819%2036.0309%2032.6781%2035.8113%2032.5503%2035.5464C34.757%2034.1965%2035.8593%2031.9815%2035.8572%2028.9015ZM31.278%2032.8475L31.1286%2033.0396C31.0602%2033.131%2030.6433%2032.1641%2029.6292%2031.8492C29.0996%2031.7142%2028.5513%2031.6807%2028.0124%2031.7487C27.6975%2031.7884%2027.4827%2032.0714%2027.4827%2032.3888C27.4827%2032.7549%2027.771%2033.0497%2028.1222%2033.153C28.3685%2033.2254%2028.6053%2033.33%2028.8266%2033.4648C29.2341%2033.7797%2029.5919%2034.186%2029.4176%2034.2332C29.113%2034.3135%2028.7992%2034.3527%2028.4844%2034.3497C27.9396%2034.3544%2027.403%2034.2154%2026.9274%2033.9465C26.4518%2033.6776%2026.0535%2033.288%2025.7717%2032.816C25.0935%2031.7873%2024.7534%2030.4394%2024.7513%2028.7724C24.7492%2027.1054%2025.0894%2025.7565%2025.7717%2024.7256C26.0684%2024.2609%2026.4754%2023.8788%2026.9555%2023.6142C27.4356%2023.3497%2027.9735%2023.2111%2028.5201%2023.2111C29.0668%2023.2111%2029.6047%2023.3497%2030.0848%2023.6142C30.5649%2023.8788%2030.9719%2024.2609%2031.2686%2024.7256C31.9592%2025.7313%2032.3046%2027.0739%2032.3046%2028.7535C32.3046%2030.4772%2031.9624%2031.8419%2031.278%2032.8475Z'%20fill='%234876FF'/%3e%3c/g%3e%3cdefs%3e%3cfilter%20id='kd70btl3k__filter0_d_7802_38768'%20x='9.875'%20y='15.6719'%20width='42.25'%20height='38.9023'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='4.125'/%3e%3cfeGaussianBlur%20stdDeviation='2.0625'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20values='0%200%200%200%200.413084%200%200%200%200%200.250874%200%200%200%200%200.0886636%200%200%200%200.14%200'/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_7802_38768'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_7802_38768'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e\"","<template>\r\n  <div class=\"add-libray-popup\" ref=\"modal\">\r\n    <a-modal\r\n      :footer=\"null\"\r\n      :getContainer=\"() => $refs.modal\"\r\n      v-model:open=\"open\"\r\n      title=\"\"\r\n      :width=\"520\"\r\n      @ok=\"handleOk\"\r\n    >\r\n      <div class=\"add-libray-popup-body\">\r\n        <div class=\"popup-title\">{{ t('new_library_title') }}</div>\r\n        <!-- 知识库类型列表 -->\r\n        <div class=\"libray-type-list\">\r\n          <div class=\"libray-item\" @click=\"handleSelect(0)\">\r\n            <div class=\"libray-item-header\">\r\n              <img class=\"libray-icon\" src=\"../../../../assets/img/library/a.svg\" alt=\"\" />\r\n              <div class=\"libray-type-name\">{{ t('normal_library_type') }}</div>\r\n            </div>\r\n            <div class=\"libray-desc\">\r\n              {{ t('normal_library_desc') }}\r\n            </div>\r\n\r\n            <div class=\"libray-action\">\r\n              <RightOutlined />\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"libray-item\" @click=\"handleSelect(2)\">\r\n            <div class=\"libray-item-header\">\r\n              <img class=\"libray-icon\" src=\"../../../../assets/img/library/q.svg\" alt=\"\" />\r\n              <div class=\"libray-type-name\">{{ t('qa_library_type') }}</div>\r\n            </div>\r\n            <div class=\"libray-desc\">\r\n              {{ t('qa_library_desc') }}\r\n            </div>\r\n            <div class=\"libray-action\">\r\n              <RightOutlined />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { RightOutlined } from '@ant-design/icons-vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.library-list.components.add-libray-popup')\r\n\r\nconst emit = defineEmits(['ok'])\r\n\r\nconst open = ref(false)\r\nconst show = () => {\r\n  open.value = true\r\n}\r\n\r\nconst close = () => {\r\n  open.value = false\r\n}\r\nconst handleOk = (val) => {\r\n  open.value = false\r\n  emit('ok', val)\r\n}\r\n\r\nconst handleSelect = (val) => {\r\n  handleOk(val)\r\n}\r\n\r\ndefineExpose({\r\n  show,\r\n  close\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.add-libray-popup {\r\n  .add-libray-popup-body {\r\n    padding: 8px;\r\n  }\r\n  .popup-title {\r\n    line-height: 32px;\r\n    margin-bottom: 24px;\r\n    font-size: 24px;\r\n    font-weight: 600;\r\n    color: #242933;\r\n    text-align: center;\r\n  }\r\n  .libray-type-list {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .libray-item {\r\n      width: 216px;\r\n      height: 362px;\r\n      padding: 16px;\r\n      border-radius: 16px;\r\n      background-color: #fff;\r\n      box-shadow: 0 8px 24px 0 rgba(50, 79, 193, 0.08);\r\n      transition: all 0.2s;\r\n      cursor: pointer;\r\n      &:hover {\r\n        box-shadow:\r\n          0 8px 24px 0 rgba(50, 79, 193, 0.32),\r\n          0 8px 24px 0 rgba(50, 79, 193, 0.08);\r\n      }\r\n    }\r\n\r\n    .libray-icon {\r\n      display: block;\r\n      width: 64px;\r\n      height: 64px;\r\n      margin: 16px auto 16px auto;\r\n    }\r\n\r\n    .libray-type-name {\r\n      line-height: 24px;\r\n      margin-bottom: 8px;\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      color: rgb(38, 38, 38);\r\n      text-align: center;\r\n    }\r\n\r\n    .libray-desc {\r\n      height: 132px;\r\n      line-height: 22px;\r\n      font-size: 14px;\r\n      font-weight: 400;\r\n      color: rgb(89, 89, 89);\r\n      text-align: center;\r\n    }\r\n\r\n    .libray-action {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 32px;\r\n      height: 32px;\r\n      margin: 24px auto 0 auto;\r\n      border-radius: 50%;\r\n      color: rgba(36, 117, 252, 1);\r\n      background: #d6e5ff;\r\n    }\r\n  }\r\n  :deep(.ant-modal-content) {\r\n    background-color: #e5efff;\r\n    box-shadow:\r\n      0 6px 30px 5px rgba(0, 0, 0, 0.05),\r\n      0 16px 24px 2px rgba(0, 0, 0, 0.04),\r\n      0 8px 10px -5px rgba(0, 0, 0, 0.08);\r\n  }\r\n}\r\n</style>\r\n","<style lang=\"less\" scoped>\r\n.form-box {\r\n  margin-top: 12px;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n.form-item-tip {\r\n  color: #999;\r\n}\r\n\r\n.form-alert-tip {\r\n  color: #8c8c8c;\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  line-height: 14px;\r\n  margin: 2px 0 6px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.hight-set-text {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  cursor: pointer;\r\n  width: fit-content;\r\n  color: rgba(0, 0, 0, 0.88);\r\n  margin-bottom: 16px;\r\n}\r\n.ml4 {\r\n  margin-left: 4px;\r\n}\r\n.graph-switch-box {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.select-card-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 8px;\r\n  width: 550px;\r\n  .select-card-item {\r\n    width: 100%;\r\n    position: relative;\r\n    padding: 16px;\r\n    border-radius: 6px;\r\n    border: 1px solid #d9d9d9;\r\n    cursor: pointer;\r\n    .check-arrow {\r\n      position: absolute;\r\n      display: block;\r\n      right: -1px;\r\n      bottom: -1px;\r\n      width: 24px;\r\n      height: 24px;\r\n      font-size: 24px;\r\n      color: #fff;\r\n      opacity: 0;\r\n      transition: all 0.2s cubic-bezier(0.8, 0, 1, 1);\r\n    }\r\n    .card-title {\r\n      display: flex;\r\n      align-items: center;\r\n      line-height: 22px;\r\n      margin-bottom: 4px;\r\n      color: #262626;\r\n      font-weight: 600;\r\n      font-size: 14px;\r\n    }\r\n    .title-icon {\r\n      margin-right: 4px;\r\n      font-size: 16px;\r\n    }\r\n    .card-desc {\r\n      line-height: 22px;\r\n      font-size: 14px;\r\n      color: #595959;\r\n    }\r\n\r\n    &.active {\r\n      background: var(--01-, #e5efff);\r\n      border: 2px solid #2475fc;\r\n      .check-arrow {\r\n        opacity: 1;\r\n      }\r\n      .card-title {\r\n        color: #2475fc;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.indexing-methods-box {\r\n  .list-item {\r\n    margin-top: 8px;\r\n    padding: 16px;\r\n    border: 1px solid #d9d9d9;\r\n    position: relative;\r\n    cursor: pointer;\r\n    &.active {\r\n      border: 2px solid #2475fc;\r\n      .list-title-block {\r\n        color: #2475fc;\r\n        .svg-action {\r\n          font-size: 16px;\r\n          color: #2475fc;\r\n        }\r\n      }\r\n      .check-icon {\r\n        display: block;\r\n      }\r\n    }\r\n    .check-icon {\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: 0;\r\n      font-size: 18px;\r\n      color: #fff;\r\n      display: none;\r\n    }\r\n    .list-title-block {\r\n      display: flex;\r\n      align-items: center;\r\n      font-size: 14px;\r\n      font-weight: 600;\r\n      line-height: 22px;\r\n      color: #262626;\r\n      .svg-action {\r\n        font-size: 16px;\r\n        margin-right: 4px;\r\n        color: #262626;\r\n      }\r\n    }\r\n    .list-content {\r\n      margin-top: 4px;\r\n      color: #595959;\r\n      font-size: 14px;\r\n      line-height: 22px;\r\n    }\r\n  }\r\n}\r\n\r\n.main-title-block {\r\n  margin: 16px 0;\r\n  padding-bottom: 8px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  border-bottom: 1px solid #d9d9d9;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <a-modal\r\n    v-model:open=\"visible\"\r\n    :title=\"t('add_library')\"\r\n    @ok=\"handleOk\"\r\n    :confirmLoading=\"saveLoading\"\r\n    wrapClassName=\"no-padding-modal\"\r\n    :bodyStyle=\"{ 'padding-right': '24px', 'max-height': '540px', 'overflow-y': 'auto' }\"\r\n    @cancel=\"handleCancel\"\r\n    width=\"700px\"\r\n  >\r\n    <div class=\"form-box\">\r\n      <a-form layout=\"vertical\" ref=\"formRef\" :model=\"formState\">\r\n        <template v-if=\"formState.type != 3\">\r\n          <a-form-item ref=\"name\"  name=\"library_name\" :label=\"t('library_name')\" :rules=\"[{ required: true, message: t('please_enter_library_name'), trigger: 'change' }]\">\r\n            <a-input\r\n              v-model:value=\"formState.library_name\"\r\n              :placeholder=\"t('library_name_placeholder')\"\r\n              :maxlength=\"20\"\r\n            />\r\n          </a-form-item>\r\n\r\n          <a-form-item :label=\"t('library_intro')\">\r\n            <a-textarea\r\n              :maxlength=\"1000\"\r\n              v-model:value=\"formState.library_intro\"\r\n              :placeholder=\"t('library_intro_placeholder')\"\r\n            />\r\n          </a-form-item>\r\n\r\n          <a-form-item ref=\"name\" :label=\"t('library_cover')\">\r\n            <AvatarInput v-model:value=\"formState.avatar\" @change=\"onAvatarChange\" />\r\n            <div class=\"form-item-tip\">{{ t('upload_cover_tip') }}</div>\r\n          </a-form-item>\r\n        </template>\r\n        <template v-else>\r\n          <a-form-item :label=\"t('history_content_period')\">\r\n            <a-select v-model:value=\"formState.sync_official_history_type\">\r\n              <a-select-option :value=\"10\">{{ t('all') }}</a-select-option>\r\n              <a-select-option :value=\"1\">{{ t('within_half_year') }}</a-select-option>\r\n              <a-select-option :value=\"2\">{{ t('within_one_year') }}</a-select-option>\r\n              <a-select-option :value=\"3\">{{ t('within_three_years') }}</a-select-option>\r\n            </a-select>\r\n          </a-form-item>\r\n          <a-form-item :label=\"t('daily_fetch_latest')\">\r\n            <a-switch v-model:checked=\"formState.enable_cron_sync_official_content\" :checked-children=\"t('on')\" :un-checked-children=\"t('off')\"></a-switch>\r\n          </a-form-item>\r\n        </template>\r\n        <div class=\"hight-set-text\" @click=\"isHide = !isHide\">\r\n          <CaretRightOutlined v-if=\"isHide\" />\r\n          <CaretDownOutlined v-else />\r\n          {{ t('advanced_settings') }}\r\n          <span style=\"color: #8c8c8c\">{{ t('for_advanced_users') }}</span>\r\n        </div>\r\n        <a-form-item v-show=\"!isHide\">\r\n          <template #label\r\n            >{{ t('vector_model') }}\r\n            <a-tooltip>\r\n              <template #title\r\n                >{{ t('vector_model_tooltip') }}</template\r\n              >\r\n              <QuestionCircleOutlined class=\"ml4\" />\r\n            </a-tooltip>\r\n          </template>\r\n          <ModelSelect\r\n            modelType=\"TEXT EMBEDDING\"\r\n            v-model:modeName=\"formState.use_model\"\r\n            v-model:modeId=\"formState.model_config_id\"\r\n            @loaded=\"onTextModelLoaded\"\r\n            style=\"width: 100%\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item :label=\"t('indexing_method')\" v-show=\"!isHide && formState.type == 2\">\r\n          <div class=\"indexing-methods-box\">\r\n            <div\r\n              class=\"list-item\"\r\n              :class=\"{ active: formState.qa_index_type == 1 }\"\r\n              @click=\"handleChangeQaIndexType(1)\"\r\n            >\r\n              <svg-icon class=\"check-icon\" name=\"check-arrow-filled\"></svg-icon>\r\n              <div class=\"list-title-block\">\r\n                <svg-icon name=\"file-search\"></svg-icon>\r\n                {{ t('qa_indexing') }}\r\n              </div>\r\n              <div class=\"list-content\">\r\n                {{ t('qa_indexing_desc') }}\r\n              </div>\r\n            </div>\r\n            <div\r\n              class=\"list-item\"\r\n              :class=\"{ active: formState.qa_index_type == 2 }\"\r\n              @click=\"handleChangeQaIndexType(2)\"\r\n            >\r\n              <svg-icon class=\"check-icon\" name=\"check-arrow-filled\"></svg-icon>\r\n              <div class=\"list-title-block\">\r\n                <svg-icon name=\"comment-search\"></svg-icon>\r\n                {{ t('question_only_indexing') }}\r\n              </div>\r\n              <div class=\"list-content\">\r\n                {{ t('question_only_indexing_desc') }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </a-form-item>\r\n        <div v-show=\"!isHide && (formState.type == 0 || formState.type == 3)\">\r\n          <a-form-item :label=\"t('segmentation_method')\" required>\r\n            <div class=\"form-alert-tip\" style=\"white-space: wrap;\">\r\n              {{ t('segmentation_tip') }}\r\n            </div>\r\n            <div class=\"select-card-box\">\r\n              <div\r\n                class=\"select-card-item\"\r\n                @click=\"handleChangeSegmentationType(1)\"\r\n                :class=\"{ active: formState.chunk_type == 1 }\"\r\n              >\r\n                <svg-icon class=\"check-arrow\" name=\"check-arrow-filled\"></svg-icon>\r\n                <div class=\"card-title\">\r\n                  <svg-icon name=\"ordinary-segmentation\" class=\"title-icon\"></svg-icon>\r\n                  {{ t('ordinary_segmentation') }}\r\n                </div>\r\n                <div class=\"card-desc\">\r\n                  {{ t('ordinary_segmentation_desc') }}\r\n                </div>\r\n              </div>\r\n              <div\r\n                class=\"select-card-item\"\r\n                @click=\"handleChangeSegmentationType(2)\"\r\n                :class=\"{ active: formState.chunk_type == 2 }\"\r\n              >\r\n                <svg-icon class=\"check-arrow\" name=\"check-arrow-filled\"></svg-icon>\r\n                <div class=\"card-title\">\r\n                  <svg-icon name=\"semantic-segmentation\" class=\"title-icon\"></svg-icon>\r\n                  {{ t('semantic_segmentation') }}\r\n                </div>\r\n                <div class=\"card-desc\">\r\n                  {{ t('semantic_segmentation_desc') }}\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                class=\"select-card-item\"\r\n                @click=\"handleChangeSegmentationType(4)\"\r\n                :class=\"{ active: formState.chunk_type == 4 }\"\r\n              >\r\n                <svg-icon class=\"check-arrow\" name=\"check-arrow-filled\"></svg-icon>\r\n                <div class=\"card-title\">\r\n                  <svg-icon name=\"semantic-segmentation\" class=\"title-icon\"></svg-icon>\r\n                  {{ t('parent_child_segmentation') }}\r\n                </div>\r\n                <div class=\"card-desc\">\r\n                  {{ t('parent_child_segmentation_desc') }}\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                class=\"select-card-item\"\r\n                @click=\"handleChangeSegmentationType(3)\"\r\n                :class=\"{ active: formState.chunk_type == 3 }\"\r\n              >\r\n                <svg-icon class=\"check-arrow\" name=\"check-arrow-filled\"></svg-icon>\r\n                <div class=\"card-title\">\r\n                  <svg-icon name=\"semantic-segmentation\" class=\"title-icon\"></svg-icon>\r\n                  {{ t('ai_segmentation') }}\r\n                </div>\r\n                <div class=\"card-desc\">\r\n                  {{ t('ai_segmentation_desc') }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </a-form-item>\r\n          <template v-if=\"formState.chunk_type == 1\">\r\n            <a-form-item :label=\"t('segmentation_separator')\" required>\r\n              <a-select\r\n                v-model:value=\"formState.normal_chunk_default_separators_no\"\r\n                mode=\"tags\"\r\n                style=\"width: 100%\"\r\n                :placeholder=\"t('select_segmentation_separator')\"\r\n                :options=\"segmentationTags\"\r\n              ></a-select>\r\n            </a-form-item>\r\n            <a-flex>\r\n              <a-form-item :label=\"t('max_chunk_size')\" required>\r\n                <a-flex :gap=\"8\" align=\"center\">\r\n                  <a-input-number\r\n                    v-model:value=\"formState.normal_chunk_default_chunk_size\"\r\n                    style=\"width: 230px\"\r\n                    :precision=\"0\"\r\n                    :min=\"1\"\r\n                    :max=\"100000\"\r\n                  />\r\n                  {{ t('characters') }}\r\n                </a-flex>\r\n              </a-form-item>\r\n              <a-form-item :label=\"t('chunk_overlap')\">\r\n                <a-flex :gap=\"8\" align=\"center\">\r\n                  <a-input-number\r\n                    v-model:value=\"formState.normal_chunk_default_chunk_overlap\"\r\n                    style=\"width: 230px\"\r\n                    :precision=\"0\"\r\n                    :min=\"1\"\r\n                    :max=\"100000\"\r\n                  />\r\n                  {{ t('characters') }}\r\n                </a-flex>\r\n              </a-form-item>\r\n            </a-flex>\r\n            <div class=\"graph-switch-box\">\r\n              <div class=\"lable-text\">\r\n                {{ t('auto_merge_small_chunks') }}\r\n                <a-tooltip\r\n                  :title=\"t('auto_merge_tooltip')\"\r\n                >\r\n                  <QuestionCircleOutlined class=\"ml4\" />\r\n                </a-tooltip>\r\n              </div>\r\n              <a-switch\r\n                checkedValue=\"false\"\r\n                unCheckedValue=\"true\"\r\n                v-model:checked=\"formState.normal_chunk_default_not_merged_text\"\r\n                :checked-children=\"t('on')\"\r\n                :un-checked-children=\"t('off')\"\r\n              />\r\n            </div>\r\n          </template>\r\n          <template v-if=\"formState.chunk_type == 2\">\r\n            <a-form-item required v-if=\"formState.chunk_type == 2\">\r\n              <template #label>\r\n                {{ t('segmentation_threshold') }}\r\n                <a-tooltip>\r\n                  <template #title\r\n                    >{{ t('segmentation_threshold_tooltip') }}</template\r\n                  >\r\n                  <QuestionCircleOutlined style=\"cursor: pointer; margin-left: 2px\" />\r\n                </a-tooltip>\r\n              </template>\r\n              <a-input-number\r\n                v-model:value=\"formState.semantic_chunk_default_threshold\"\r\n                style=\"width: 100%\"\r\n                :placeholder=\"t('please_enter_segmentation_threshold')\"\r\n                :precision=\"0\"\r\n                :min=\"0\"\r\n                :max=\"100\"\r\n              />\r\n            </a-form-item>\r\n            <a-flex>\r\n              <a-form-item :label=\"t('max_chunk_size')\" required>\r\n                <a-flex :gap=\"8\" align=\"center\">\r\n                  <a-input-number\r\n                    v-model:value=\"formState.semantic_chunk_default_chunk_size\"\r\n                    style=\"width: 230px\"\r\n                    :precision=\"0\"\r\n                    :min=\"1\"\r\n                    :max=\"100000\"\r\n                  />\r\n                  {{ t('characters') }}\r\n                </a-flex>\r\n              </a-form-item>\r\n              <a-form-item :label=\"t('chunk_overlap')\">\r\n                <a-flex :gap=\"8\" align=\"center\">\r\n                  <a-input-number\r\n                    v-model:value=\"formState.semantic_chunk_default_chunk_overlap\"\r\n                    style=\"width: 230px\"\r\n                    :precision=\"0\"\r\n                    :min=\"1\"\r\n                    :max=\"100000\"\r\n                  />\r\n                  {{ t('characters') }}\r\n                </a-flex>\r\n              </a-form-item>\r\n            </a-flex>\r\n          </template>\r\n\r\n          <template v-if=\"formState.chunk_type == 3\">\r\n            <a-form-item required v-if=\"formState.chunk_type == 3\">\r\n              <template #label> {{ t('ai_llm_model') }} </template>\r\n              <ModelSelect\r\n                modelType=\"LLM\"\r\n                :placeholder=\"t('please_select_ai_model')\"\r\n                v-model:modeName=\"formState.ai_chunk_model\"\r\n                v-model:modeId=\"formState.ai_chunk_model_config_id\"\r\n                :modeName=\"formState.ai_chunk_model\"\r\n                :modeId=\"formState.ai_chunk_model_config_id\"\r\n                style=\"width: 100%\"\r\n                @loaded=\"onVectorModelLoaded\"\r\n              />\r\n            </a-form-item>\r\n            <a-form-item :label=\"t('prompt_setting')\" required>\r\n              <a-flex :gap=\"8\" align=\"center\">\r\n                <a-textarea\r\n                  :maxLength=\"500\"\r\n                  style=\"height: 80px\"\r\n                  v-model:value=\"formState.ai_chunk_prumpt\"\r\n                  :placeholder=\"default_ai_chunk_prumpt\"\r\n                />\r\n              </a-flex>\r\n            </a-form-item>\r\n            <a-form-item>\r\n              <template #label>\r\n                {{ t('max_single_characters') }}\r\n                <a-tooltip>\r\n                  <template #title\r\n                    >{{ t('max_single_characters_tooltip') }}</template\r\n                  >\r\n                  <QuestionCircleOutlined style=\"cursor: pointer; margin-left: 2px\" />\r\n                </a-tooltip>\r\n              </template>\r\n              <a-input-number\r\n                class=\"form-item-inptu-numbner\"\r\n                v-model:value=\"formState.ai_chunk_size\"\r\n                :placeholder=\"t('please_enter_max_characters')\"\r\n                :precision=\"0\"\r\n                :min=\"0\"\r\n                :formatter=\"(value) => parseInt(value)\"\r\n                :parser=\"(value) => parseInt(value)\"\r\n              />\r\n              {{ t('characters') }}\r\n            </a-form-item>\r\n          </template>\r\n\r\n          <template v-if=\"formState.chunk_type == 4\">\r\n            <div class=\"main-title-block\">{{ t('parent_block_context') }}</div>\r\n            <a-form-item :label=\"t('chunk_type')\">\r\n              <a-radio-group v-model:value=\"formState.father_chunk_paragraph_type\">\r\n                <a-radio :value=\"1\"\r\n                  >{{ t('full_text') }}\r\n                  <a-tooltip\r\n                    :title=\"t('full_text_tooltip')\"\r\n                  >\r\n                    <QuestionCircleOutlined />\r\n                  </a-tooltip>\r\n                </a-radio>\r\n                <a-radio :value=\"2\"\r\n                  >{{ t('paragraph') }}\r\n                  <a-tooltip\r\n                    :title=\"t('paragraph_tooltip')\"\r\n                  >\r\n                    <QuestionCircleOutlined />\r\n                  </a-tooltip>\r\n                </a-radio>\r\n              </a-radio-group>\r\n            </a-form-item>\r\n\r\n            <a-form-item :label=\"t('segmentation_separator')\" v-if=\"formState.father_chunk_paragraph_type == 2\">\r\n              <a-select\r\n                :placeholder=\"t('please_select')\"\r\n                style=\"width: 100%\"\r\n                mode=\"tags\"\r\n                :options=\"segmentationTags\"\r\n                v-model:value=\"formState.father_chunk_separators_no\"\r\n              >\r\n              </a-select>\r\n            </a-form-item>\r\n            <a-form-item :label=\"t('max_chunk_size')\" v-if=\"formState.father_chunk_paragraph_type == 2\">\r\n              <a-flex align=\"center\" :gap=\"8\">\r\n                <a-input-number\r\n                  style=\"flex: 1\"\r\n                  v-model:value=\"formState.father_chunk_chunk_size\"\r\n                  :placeholder=\"t('max_chunk_size')\"\r\n                  :min=\"200\"\r\n                  :max=\"10000\"\r\n                  :precision=\"0\"\r\n                  :formatter=\"(value) => parseInt(value)\"\r\n                  :parser=\"(value) => parseInt(value)\"\r\n                /><span class=\"unit-text\">{{ t('characters') }}</span>\r\n              </a-flex>\r\n            </a-form-item>\r\n            <div class=\"main-title-block\">{{ t('child_block_retrieval') }}</div>\r\n\r\n            <a-form-item :label=\"t('segmentation_separator')\">\r\n              <a-select\r\n                :placeholder=\"t('please_select')\"\r\n                style=\"width: 100%\"\r\n                mode=\"tags\"\r\n                :options=\"segmentationTags\"\r\n                v-model:value=\"formState.son_chunk_separators_no\"\r\n              >\r\n              </a-select>\r\n            </a-form-item>\r\n            <a-form-item :label=\"t('max_chunk_size')\">\r\n              <a-flex align=\"center\" :gap=\"8\">\r\n                <a-input-number\r\n                  style=\"flex: 1\"\r\n                  v-model:value=\"formState.son_chunk_chunk_size\"\r\n                  :placeholder=\"t('max_chunk_size')\"\r\n                  :min=\"200\"\r\n                  :max=\"10000\"\r\n                  :precision=\"0\"\r\n                  :formatter=\"(value) => parseInt(value)\"\r\n                  :parser=\"(value) => parseInt(value)\"\r\n                /><span class=\"unit-text\">{{ t('characters') }}</span>\r\n              </a-flex>\r\n            </a-form-item>\r\n          </template>\r\n\r\n          <div class=\"graph-switch-box\" v-show=\"neo4j_status\">\r\n            <div class=\"lable-text\">\r\n              {{ t('generate_knowledge_graph') }}\r\n              <a-tooltip>\r\n                <template #title\r\n                  >{{ t('generate_knowledge_graph_tooltip') }}</template\r\n                >\r\n                <QuestionCircleOutlined class=\"ml4\" />\r\n              </a-tooltip>\r\n            </div>\r\n            <a-switch\r\n              @change=\"handleGraphSwitch\"\r\n              :checked=\"formState.graph_switch\"\r\n              :checked-children=\"t('on')\"\r\n              :un-checked-children=\"t('off')\"\r\n            />\r\n          </div>\r\n          <a-form-item :label=\"t('knowledge_graph_model')\" v-show=\"formState.graph_switch && neo4j_status\">\r\n            <ModelSelect\r\n              modelType=\"LLM\"\r\n              v-model:modeName=\"formState.graph_use_model\"\r\n              v-model:modeId=\"formState.graph_model_config_id\"\r\n              style=\"width: 300px\"\r\n              @loaded=\"onVectorModelLoaded\"\r\n            />\r\n          </a-form-item>\r\n        </div>\r\n      </a-form>\r\n    </div>\r\n  </a-modal>\r\n  <OpenGrapgModal @ok=\"handleOpenGrapgOk\" ref=\"openGrapgModalRef\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, onMounted, computed, nextTick } from 'vue'\r\nimport { Form, message } from 'ant-design-vue'\r\nimport { useRouter } from 'vue-router'\r\nimport {createLibrary, createOfficialLibrary, getSeparatorsList} from '@/api/library/index'\r\nimport AvatarInput from './components/avatar-input.vue'\r\nimport { LIBRARY_NORMAL_AVATAR, LIBRARY_QA_AVATAR } from '@/constants/index'\r\nimport { transformUrlData } from '@/utils/validate.js'\r\nimport {\r\n  CaretRightOutlined,\r\n  CaretDownOutlined,\r\n  QuestionCircleOutlined\r\n} from '@ant-design/icons-vue'\r\nimport ModelSelect from '@/components/model-select/model-select.vue'\r\nimport OpenGrapgModal from '@/views/library/library-details/components/open-grapg-modal.vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nimport { useCompanyStore } from '@/stores/modules/company'\r\n\r\nconst { t } = useI18n('views.library.add-library.add-library-model')\r\nconst companyStore = useCompanyStore()\r\nconst neo4j_status = computed(() => {\r\n  return companyStore.companyInfo?.neo4j_status == 'true'\r\n})\r\n\r\n// 设置全局默认的duration为（2秒）\r\nmessage.config({\r\n  duration: 2\r\n})\r\n\r\nconst formRef = ref(null)\r\nconst isHide = ref(true)\r\n\r\nconst router = useRouter()\r\nconst visible = ref(false)\r\n\r\nconst saveLoading = ref(false)\r\nconst default_ai_chunk_prumpt = t('default_ai_chunk_prompt')\r\nconst formState = reactive({\r\n  type: '0',\r\n  access_rights: 0,\r\n  library_name: '',\r\n  library_intro: '',\r\n  use_model: '',\r\n  model_config_id: '',\r\n  library_files: undefined,\r\n  avatar: '',\r\n  avatar_file: undefined,\r\n  is_offline: false,\r\n  urls: '',\r\n  doc_type: 1,\r\n  file_name: '',\r\n  is_qa_doc: 0, // 0 普通文档 1QA文档\r\n  qa_index_type: 1, // 1问题与答案一起生成索引 2仅对问题生成索引\r\n  doc_auto_renew_frequency: 1,\r\n  chunk_type: 1,\r\n  normal_chunk_default_separators_no: [12, 11],\r\n  normal_chunk_default_chunk_size: 512,\r\n  normal_chunk_default_chunk_overlap: 50,\r\n  semantic_chunk_default_chunk_size: 512,\r\n  semantic_chunk_default_chunk_overlap: 50,\r\n  semantic_chunk_default_threshold: 90,\r\n  normal_chunk_default_not_merged_text: 'false',\r\n  graph_switch: false,\r\n  graph_model_config_id: void 0,\r\n  graph_use_model: '',\r\n  ai_chunk_size: 5000, // ai大模型分段最大字符数\r\n  ai_chunk_model: '', // ai大模型分段模型名称\r\n  ai_chunk_model_config_id: '', // ai大模型分段模型配置id\r\n  ai_chunk_prumpt: default_ai_chunk_prumpt, // ai大模型分段提示词设置\r\n  group_id: 0,\r\n  father_chunk_paragraph_type: 2,\r\n  father_chunk_separators_no: [],\r\n  father_chunk_chunk_size: 1024,\r\n  son_chunk_separators_no: [],\r\n  son_chunk_chunk_size: 512,\r\n\r\n  sync_official_history_type: 2,\r\n  enable_cron_sync_official_content: true,\r\n  app_id_list: '',\r\n})\r\n\r\nconst onAvatarChange = (data) => {\r\n  formState.avatar = data.imageUrl\r\n  formState.avatar_file = data.file\r\n}\r\n\r\nconst segmentationTags = ref([])\r\ngetSeparatorsList().then((res) => {\r\n  segmentationTags.value = res.data.map((item) => {\r\n    return {\r\n      label: item.name,\r\n      value: item.no\r\n    }\r\n  })\r\n})\r\n\r\nconst handleChangeSegmentationType = (type) => {\r\n  formState.chunk_type = type\r\n}\r\n\r\nconst vectorModelList = ref([])\r\nconst onVectorModelLoaded = (list) => {\r\n  vectorModelList.value = list\r\n\r\n  nextTick(() => {\r\n    if (!formState.ai_chunk_model || !Number(formState.ai_chunk_model_config_id)) {\r\n      setDefaultModel()\r\n    }\r\n  })\r\n}\r\n\r\nconst setDefaultModel = () => {\r\n  if (vectorModelList.value.length > 0) {\r\n    // 遍历查找chatwiki模型\r\n    let modelConfig = null\r\n    let model = null\r\n\r\n    // 云版默认选中qwen-max\r\n    for (let item of vectorModelList.value) {\r\n      if (item.model_define === 'tongyi') {\r\n        modelConfig = item\r\n        for (let child of modelConfig.children) {\r\n          if (child.name === 'qwen-max') {\r\n            model = child\r\n            break\r\n          }\r\n        }\r\n        break\r\n      }\r\n    }\r\n\r\n    if (!modelConfig) {\r\n      modelConfig = vectorModelList.value[0]\r\n      model = modelConfig.children[0]\r\n    }\r\n\r\n    if (modelConfig && model) {\r\n      formState.ai_chunk_model = model.name\r\n      formState.ai_chunk_model_config_id = model.model_config_id\r\n    }\r\n  }\r\n}\r\n\r\nconst onTextModelLoaded = (list) => {\r\n  if (list.length) {\r\n    formState.use_model = list[0].children[0].name\r\n    formState.model_config_id = list[0].model_config_id\r\n  }\r\n}\r\n\r\nconst openGrapgModalRef = ref(null)\r\nconst handleGraphSwitch = (val) => {\r\n  if (val) {\r\n    let data = {\r\n      graph_model_config_id: formState.graph_model_config_id,\r\n      graph_use_model: formState.graph_use_model\r\n    }\r\n    if (!formState.graph_model_config_id || !formState.graph_use_model) {\r\n      if (vectorModelList.value.length > 0) {\r\n        let modelConfig = vectorModelList.value[0]\r\n        if (modelConfig) {\r\n          let model = modelConfig.children[0]\r\n          data.graph_use_model = model.name\r\n          data.graph_model_config_id = model.model_config_id\r\n        }\r\n      }\r\n    }\r\n    openGrapgModalRef.value.show(data)\r\n  } else {\r\n    formState.graph_switch = false\r\n  }\r\n}\r\n\r\nconst handleOpenGrapgOk = (data) => {\r\n  if (data.graph_model_config_id) {\r\n    formState.graph_switch = true\r\n    formState.graph_model_config_id = data.graph_model_config_id\r\n    formState.graph_use_model = data.graph_use_model\r\n  }\r\n}\r\n\r\nconst handleCancel = () => {\r\n  visible.value = false\r\n}\r\n\r\nconst handleOk = () => {\r\n  formRef.value.validate()\r\n    .then(() => {\r\n      saveForm()\r\n    })\r\n    .catch((err) => {\r\n      console.log(err, 'err')\r\n    })\r\n}\r\n\r\nconst saveForm = () => {\r\n  let formData = new FormData()\r\n\r\n  let newFormState = JSON.parse(JSON.stringify(formState)) // 深拷贝，不能改变原对象\r\n\r\n  formData.append('type', formState.type)\r\n  formData.append('access_rights', formState.access_rights)\r\n  formData.append('library_name', formState.library_name)\r\n  formData.append('qa_index_type', formState.qa_index_type)\r\n  formData.append('library_intro', formState.library_intro)\r\n  formData.append('use_model', newFormState.use_model)\r\n  formData.append('model_config_id', formState.model_config_id)\r\n  formData.append('avatar', formState.avatar_file ? formState.avatar_file : '')\r\n  formData.append('is_offline', formState.is_offline)\r\n  formData.append('urls', JSON.stringify(transformUrlData(formState.urls)))\r\n  formData.append('doc_type', formState.doc_type)\r\n  formData.append('file_name', formState.file_name)\r\n  formData.append('is_qa_doc', formState.is_qa_doc)\r\n  formData.append('qa_index_type', formState.qa_index_type)\r\n  formData.append('doc_auto_renew_frequency', formState.doc_auto_renew_frequency)\r\n  formData.append('chunk_type', formState.chunk_type)\r\n  formData.append(\r\n    'normal_chunk_default_separators_no',\r\n    JSON.stringify(formState.normal_chunk_default_separators_no)\r\n  )\r\n  formData.append(\r\n    'normal_chunk_default_not_merged_text',\r\n    formState.normal_chunk_default_not_merged_text\r\n  )\r\n  formData.append('normal_chunk_default_chunk_size', formState.normal_chunk_default_chunk_size)\r\n  formData.append(\r\n    'normal_chunk_default_chunk_overlap',\r\n    formState.normal_chunk_default_chunk_overlap\r\n  )\r\n  formData.append('semantic_chunk_default_chunk_size', formState.semantic_chunk_default_chunk_size)\r\n  formData.append(\r\n    'semantic_chunk_default_chunk_overlap',\r\n    formState.semantic_chunk_default_chunk_overlap\r\n  )\r\n  formData.append('semantic_chunk_default_threshold', formState.semantic_chunk_default_threshold)\r\n  formData.append('graph_switch', formState.graph_switch ? 1 : 0)\r\n  formData.append('graph_model_config_id', formState.graph_model_config_id)\r\n  formData.append('graph_use_model', formState.graph_use_model)\r\n\r\n  formData.append('ai_chunk_size', formState.ai_chunk_size)\r\n  formData.append('ai_chunk_model', formState.ai_chunk_model)\r\n  formData.append('ai_chunk_model_config_id', formState.ai_chunk_model_config_id)\r\n  formData.append('ai_chunk_prumpt', formState.ai_chunk_prumpt)\r\n\r\n  formData.append('father_chunk_paragraph_type', formState.father_chunk_paragraph_type)\r\n  formData.append(\r\n    'father_chunk_separators_no',\r\n    JSON.stringify(formState.father_chunk_separators_no)\r\n  )\r\n  formData.append('son_chunk_separators_no', JSON.stringify(formState.son_chunk_separators_no))\r\n  formData.append('father_chunk_chunk_size', formState.father_chunk_chunk_size)\r\n  formData.append('son_chunk_chunk_size', formState.son_chunk_chunk_size)\r\n\r\n  formData.append('group_id', formState.group_id)\r\n  formData.append('is_default', 2)\r\n  let request = createLibrary\r\n  if (formState.type == 3) {\r\n    request = createOfficialLibrary\r\n    formData.append('app_id_list', formState.app_id_list)\r\n    formData.append('sync_official_history_type', formState.sync_official_history_type)\r\n    formData.append('enable_cron_sync_official_content', Number(formState.enable_cron_sync_official_content))\r\n  }\r\n  saveLoading.value = true\r\n  request(formData)\r\n    .then((res) => {\r\n      message.success(t('create_success'))\r\n      visible.value = false\r\n\r\n      let path = '/library/details/knowledge-document'\r\n      let query\r\n      if (formState.type == 3) {\r\n        query = {id: res?.data?.[0]}\r\n      } else {\r\n        query = {id: res?.data?.id}\r\n        if (formState.doc_type == 3) {\r\n          path = '/library/preview'\r\n          query = {\r\n            id: res.data.file_ids[0]\r\n          }\r\n        }\r\n      }\r\n\r\n      router.push({\r\n        path,\r\n        query\r\n      })\r\n      saveLoading.value = false\r\n      visible.value = false\r\n    })\r\n    .catch(() => {\r\n      saveLoading.value = false\r\n    })\r\n}\r\n\r\nconst show = ({ type, group_id, wx_app_ids }) => {\r\n  formState.type = type\r\n  if (type == 3) {\r\n    formState.app_id_list = wx_app_ids\r\n  } else if (type == 0) {\r\n    formState.avatar = LIBRARY_NORMAL_AVATAR\r\n    formState.avatar_file = LIBRARY_NORMAL_AVATAR\r\n  } else {\r\n    formState.avatar = LIBRARY_QA_AVATAR\r\n    formState.avatar_file = LIBRARY_QA_AVATAR\r\n  }\r\n\r\n  formState.library_name = ''\r\n  formState.library_intro = ''\r\n  formState.qa_index_type = 1\r\n  formState.chunk_type = 1\r\n  formState.normal_chunk_default_separators_no = [12, 11]\r\n  formState.normal_chunk_default_chunk_size = 512\r\n  formState.normal_chunk_default_chunk_overlap = 50\r\n  formState.normal_chunk_default_not_merged_text = 'false'\r\n  formState.semantic_chunk_default_chunk_size = 512\r\n  formState.semantic_chunk_default_chunk_overlap = 50\r\n  formState.semantic_chunk_default_threshold = 50\r\n  formState.graph_switch = false\r\n\r\n  formState.father_chunk_paragraph_type = 2\r\n  formState.father_chunk_separators_no = [12, 11]\r\n  formState.father_chunk_chunk_size = 1024\r\n  formState.son_chunk_separators_no = [8, 10]\r\n  formState.son_chunk_chunk_size = 512\r\n\r\n  formState.ai_chunk_size = 5000\r\n  formState.ai_chunk_model = ''\r\n  formState.ai_chunk_model_config_id = ''\r\n  formState.ai_chunk_prumpt = default_ai_chunk_prumpt\r\n  formState.group_id = group_id || 0\r\n  visible.value = true\r\n}\r\n\r\nconst handleChangeQaIndexType = (type) => {\r\n  if (type == formState.qa_index_type) {\r\n    return\r\n  }\r\n  formState.qa_index_type = type\r\n}\r\ndefineExpose({\r\n  show\r\n})\r\n\r\nonMounted(() => {})\r\n</script>\r\n","<template>\r\n  <div>\r\n    <a-modal v-model:open=\"open\" :title=\"modalTitle\" @ok=\"handleOk\" :zIndex=\"2000\">\r\n      <div class=\"form-item\">\r\n        <div class=\"form-label\">{{ t('group_name_label') }}</div>\r\n        <div class=\"form-content\">\r\n          <a-input\r\n            :maxLength=\"15\"\r\n            v-model:value=\"formState.group_name\"\r\n            :placeholder=\"t('group_name_placeholder')\"\r\n          ></a-input>\r\n        </div>\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { saveLibraryListGroup } from '@/api/library'\r\nimport { message } from 'ant-design-vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.library-list.components.add-group')\r\n\r\nconst open = ref(false)\r\nconst emit = defineEmits(['ok'])\r\nconst modalTitle = ref(t('create_group_title'))\r\nconst formState = reactive({\r\n  group_name: '',\r\n  id: ''\r\n})\r\nconst show = (data) => {\r\n  formState.group_name = data.group_name || ''\r\n  formState.id = data.id || ''\r\n  modalTitle.value = data.id ? t('edit_group_title') : t('create_group_title')\r\n  open.value = true\r\n}\r\nconst handleOk = () => {\r\n  if (!formState.group_name) {\r\n    return message.error(t('group_name_required'))\r\n  }\r\n  saveLibraryListGroup({\r\n    ...formState\r\n  }).then((res) => {\r\n    message.success(t('operation_success', { title: modalTitle.value }))\r\n    open.value = false\r\n    emit('ok')\r\n  })\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.form-item {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 24px 0;\r\n  .form-content {\r\n    flex: 1;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <a-modal v-model:open=\"open\" :title=\"t('modal_title')\" @ok=\"handleOk\">\r\n      <div class=\"form-item\">\r\n        <div class=\"form-label\">{{ t('form_label') }}</div>\r\n        <div class=\"form-content\">\r\n          <a-select v-model:value=\"formState.group_id\" style=\"width: 100%\" :placeholder=\"t('select_placeholder')\">\r\n            <a-select-option v-for=\"item in groupLists\" :value=\"item.id\">{{\r\n              item.group_name\r\n            }}</a-select-option>\r\n          </a-select>\r\n        </div>\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { relationLibraryGroup, getLibraryListGroup } from '@/api/library'\r\nimport { message } from 'ant-design-vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nconst { t } = useI18n('views.library.library-list.components.edit-group')\r\nconst open = ref(false)\r\nconst emit = defineEmits(['ok'])\r\nconst modalTitle = ref(t('modal_title'))\r\nconst formState = reactive({\r\n  group_id: '',\r\n  library_id: ''\r\n})\r\n\r\nconst groupLists = ref([])\r\n\r\nconst show = (data) => {\r\n  formState.group_id = data.group_id || '0'\r\n  formState.library_id = data.id || ''\r\n  getGroupList()\r\n  open.value = true\r\n}\r\nconst handleOk = () => {\r\n  if (!formState.group_id) {\r\n    return message.error(t('error_message'))\r\n  }\r\n  relationLibraryGroup({\r\n    ...formState\r\n  }).then((res) => {\r\n    message.success(`${t('modal_title')}成功`)\r\n    open.value = false\r\n    emit('ok')\r\n  })\r\n}\r\nconst getGroupList = () => {\r\n  getLibraryListGroup().then((res) => {\r\n    groupLists.value = res.data || []\r\n  })\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.form-item {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 24px 0;\r\n  .form-content {\r\n    flex: 1;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div bg-color=\"#f5f9ff\" class=\"library-page\">\r\n    <PageTabs class=\"mb-16\" :tabs=\"pageTabs\" active=\"/library/list\"></PageTabs>\r\n\r\n    <page-alert class=\"mb-16 mr-16\" :title=\"t('instruction_title')\">\r\n      <div>\r\n        <p>\r\n          {{ t('instruction_content_1') }}\r\n        </p>\r\n        <p>\r\n          {{ t('instruction_content_2') }}\r\n        </p>\r\n      </div>\r\n    </page-alert>\r\n\r\n    <div class=\"library-page-body\">\r\n      <div class=\"list-toolbar\">\r\n        <div class=\"toolbar-box\">\r\n          <ListTabs :tabs=\"tabs\" v-model:value=\"activeKey\" @change=\"onChangeTab\" />\r\n        </div>\r\n\r\n        <div class=\"toolbar-box\">\r\n          <a-dropdown v-if=\"libraryCreate\">\r\n            <a-button type=\"primary\" @click.prevent=\"\">\r\n              <template #icon>\r\n                <PlusOutlined />\r\n              </template>\r\n              {{ t('create_library_btn') }}\r\n            </a-button>\r\n            <template #overlay>\r\n              <a-menu>\r\n                <a-menu-item @click.prevent=\"handleAdd(0)\">\r\n                  <span class=\"create-action\">\r\n                    <img class=\"icon\" :src=\"LIBRARY_NORMAL_AVATAR\" alt=\"\" />\r\n                    <span>{{ t('normal_library') }}</span>\r\n                  </span>\r\n                </a-menu-item>\r\n                <a-menu-item @click.prevent=\"handleAdd(2)\">\r\n                  <span class=\"create-action\">\r\n                    <img class=\"icon\" :src=\"LIBRARY_QA_AVATAR\" alt=\"\" />\r\n                    <span>{{ t('qa_library') }}</span>\r\n                  </span>\r\n                </a-menu-item>\r\n                <a-menu-item v-if=\"wxAppLibary\" @click.prevent=\"handleAdd(3)\">\r\n                  <span class=\"create-action\">\r\n                    <img class=\"icon\" src=\"@/assets/svg/library_ability_official_account.svg\" alt=\"\" />\r\n                    <span>{{ t('official_account_library') }}</span>\r\n                  </span>\r\n                </a-menu-item>\r\n              </a-menu>\r\n            </template>\r\n          </a-dropdown>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"list-group-box\">\r\n        <div class=\"group-list-box\" :class=\"{ 'hide-group': isHideGroup }\">\r\n          <cu-scroll style=\"padding-right: 16px\">\r\n            <div class=\"group-head-box\">\r\n              <div class=\"head-title\" v-if=\"!isHideGroup\">\r\n                <div>{{ t('library_groups') }}</div>\r\n                <a-tooltip :title=\"t('create_group')\">\r\n                  <div class=\"hover-btn-wrap\" @click=\"openGroupModal({})\"><PlusOutlined /></div>\r\n                </a-tooltip>\r\n              </div>\r\n              <!-- <div class=\"search-box\">\r\n                <a-input\r\n                  v-model:value=\"groupSearchKey\"\r\n                  allowClear\r\n                  :placeholder=\"t('search_groups')\"\r\n                  style=\"width: 100%\"\r\n                >\r\n                  <template #suffix>\r\n                    <SearchOutlined @click.stop=\"\" />\r\n                  </template>\r\n                </a-input>\r\n              </div> -->\r\n            </div>\r\n            <div class=\"classify-box\" style=\"margin-top: 16px\">\r\n              <draggable\r\n                v-model=\"groupLists\"\r\n                item-key=\"id\"\r\n                @end=\"handleDragEnd\"\r\n                :move=\"checkMove\"\r\n                handle=\".drag-btn\"\r\n              >\r\n                <template #item=\"{ element: item }\">\r\n                  <div\r\n                    class=\"classify-item\"\r\n                    @click=\"handleChangeGroup(item)\"\r\n                    :class=\"{ active: item.id == group_id }\"\r\n                  >\r\n                    <div class=\"classify-title\">\r\n                      <span v-if=\"item.id > 0\" class=\"drag-btn\">\r\n                        <svg-icon name=\"drag\" />\r\n                      </span>\r\n                      <span v-else style=\"width: 20px; display: inline-block\"></span>\r\n                      {{ item.group_name }}\r\n                    </div>\r\n                    <div class=\"right-content\">\r\n                      <div class=\"num\" :class=\"{ 'num-block': item.id <= 0 }\">{{ item.total }}</div>\r\n                      <div class=\"btn-box\" v-if=\"item.id > 0\">\r\n                        <a-dropdown placement=\"bottomRight\">\r\n                          <div class=\"hover-btn-wrap\">\r\n                            <EllipsisOutlined />\r\n                          </div>\r\n                          <template #overlay>\r\n                            <a-menu>\r\n                              <a-menu-item>\r\n                                <div @click.stop=\"openGroupModal(item)\">{{ t('rename') }}</div>\r\n                              </a-menu-item>\r\n                              <a-menu-item>\r\n                                <div @click.stop=\"handleDelGroup(item)\">{{ t('delete') }}</div>\r\n                              </a-menu-item>\r\n                            </a-menu>\r\n                          </template>\r\n                        </a-dropdown>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n              </draggable>\r\n            </div>\r\n          </cu-scroll>\r\n          <a-tooltip placement=\"right\" :title=\"isHideGroup ? t('expand_groups') : t('collapse_groups')\">\r\n            <div class=\"hide-group-box\" @click=\"handleChangeHideGroup\">\r\n              <LeftOutlined v-if=\"!isHideGroup\" />\r\n              <RightOutlined v-else />\r\n            </div>\r\n          </a-tooltip>\r\n        </div>\r\n        <cu-scroll style=\"padding-right: 16px; flex: 1\">\r\n          <LibraryList\r\n            :show-create=\"libraryCreate\"\r\n            :list=\"list\"\r\n            @edit=\"toEdit\"\r\n            @delete=\"handleDelete\"\r\n            @openEditGroupModal=\"openEditGroupModal\"\r\n          />\r\n        </cu-scroll>\r\n      </div>\r\n    </div>\r\n    <AddLibrayPopup ref=\"addLibrayPopup\" @ok=\"toAdd\" />\r\n    <AddLibraryModel ref=\"addLibraryModelRef\" />\r\n    <AddGroup ref=\"addGroupRef\" @ok=\"onChangeTab\" />\r\n    <EditGroup ref=\"editGroupRef\" @ok=\"onChangeTab\" />\r\n    <SelectWechatApp\r\n      ref=\"wxAppRef\"\r\n      :title=\"t('create_library_btn')\"\r\n      :okText=\"t('next_step')\"\r\n      :disabled-app-ids=\"wxAppids\"\r\n      @ok=\"showWxLibraryModel\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, createVNode, computed } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { Modal, message } from 'ant-design-vue'\r\nimport {\r\n  getLibraryList,\r\n  deleteLibrary,\r\n  getLibraryListGroup,\r\n  deleteLibraryListGroup,\r\n  sortLibararyListGroup\r\n} from '@/api/library'\r\nimport { formatFileSize } from '@/utils/index'\r\nimport { usePermissionStore } from '@/stores/modules/permission'\r\nimport { LIBRARY_NORMAL_AVATAR, LIBRARY_QA_AVATAR, LIBRARY_OFFICIAL_ACCOUNT_AVATAR } from '@/constants/index'\r\nimport {\r\n  ExclamationCircleOutlined,\r\n  PlusOutlined,\r\n  EllipsisOutlined,\r\n  LeftOutlined,\r\n  RightOutlined\r\n} from '@ant-design/icons-vue'\r\nimport LibraryList from './components/libray-list/index.vue'\r\nimport AddLibrayPopup from './components/add-libray-popup.vue'\r\nimport AddLibraryModel from '@/views/library/add-library/add-library-model.vue'\r\nimport PageTabs from '@/components/cu-tabs/page-tabs.vue'\r\nimport PageAlert from '@/components/page-alert/page-alert.vue'\r\nimport ListTabs from '@/components/cu-tabs/list-tabs.vue'\r\nimport { getLibraryPermission } from '@/utils/permission'\r\nimport AddGroup from '@/views/library/library-list/components/add-group.vue'\r\nimport EditGroup from '@/views/library/library-list/components/edit-group.vue'\r\nimport Draggable from 'vuedraggable'\r\nimport {getSpecifyAbilityConfig, getAbilityList} from \"@/api/explore/index.js\";\r\nimport SelectWechatApp from \"@/components/common/select-wechat-app.vue\";\r\nimport { useI18n } from '@/hooks/web/useI18n';\r\n\r\nconst { t } = useI18n('views.library.library-list.library-list');\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\n\r\nconst pageTabs = ref([\r\n  {\r\n    title: t('library_tab'),\r\n    path: '/library/list'\r\n  },\r\n  {\r\n    title: t('database_tab'),\r\n    path: '/database/list'\r\n  },\r\n  {\r\n    title: t('faq_extraction_tab'),\r\n    path: '/ai-extract-faq/list'\r\n  },\r\n  {\r\n    title: t('trigger_statistics_tab'),\r\n    path: '/trigger-statics/list'\r\n  },\r\n])\r\n\r\nconst tabs = ref([\r\n  {\r\n    title: t('all_count', { count: 0 }),\r\n    value: 'all'\r\n  },\r\n  {\r\n    title: t('normal_count', { count: 0 }),\r\n    value: '0'\r\n  },\r\n  {\r\n    title: t('qa_count', { count: 0 }),\r\n    value: '2'\r\n  }\r\n])\r\n\r\nconst permissionStore = usePermissionStore()\r\nlet { role_permission, role_type } = permissionStore\r\nconst libraryCreate = computed(() => role_type == 1 || role_permission.includes('LibraryCreate'))\r\n\r\nconst addLibraryModelRef = ref(null)\r\nconst addLibrayPopup = ref(null)\r\nconst wxAppRef = ref(null)\r\nconst wxAppLibary = ref(null)\r\nconst wxAppids = ref([])\r\nconst activeKey = ref(String(route.query?.active || 'all'))\r\n\r\nconst group_id = ref('')\r\n\r\nlet hideGroupLocalKey = 'library-list-hide-group-key'\r\nconst isHideGroup = ref(localStorage.getItem(hideGroupLocalKey) == 1)\r\n\r\nconst handleChangeHideGroup = () => {\r\n  isHideGroup.value = !isHideGroup.value\r\n  localStorage.setItem(hideGroupLocalKey, isHideGroup.value ? 1 : 0)\r\n}\r\n\r\nconst groupSearchKey = ref('')\r\nconst groupLists = ref([])\r\n\r\nconst filterGroupLists = computed(() => {\r\n  return groupLists.value.filter((item) => item.group_name.includes(groupSearchKey.value))\r\n})\r\n\r\nconst getGroupList = () => {\r\n  let type = activeKey.value === 'all' ? '' : activeKey.value\r\n  getLibraryListGroup({\r\n    type\r\n  }).then((res) => {\r\n    let lists = res.data || []\r\n    let totalNumber = 0\r\n    // Calculate total number for each group\r\n    lists.forEach((group) => {\r\n      totalNumber += +group.total\r\n    })\r\n    groupLists.value = [\r\n      {\r\n        group_name: t('all_tab'),\r\n        total: totalNumber,\r\n        id: ''\r\n      },\r\n      ...lists\r\n    ]\r\n  })\r\n}\r\ngetGroupList()\r\nconst handleAdd = (type) => {\r\n  if (type == 3) {\r\n    wxAppRef.value.open()\r\n  } else {\r\n    toAdd(type)\r\n  }\r\n}\r\n\r\nconst toAdd = (val) => {\r\n  addLibraryModelRef.value.show({ type: val, group_id: group_id.value })\r\n}\r\n\r\nconst showWxLibraryModel = (ids, rows) => {\r\n  if (!rows.length) return message.warning(t('select_official_account'))\r\n  wxAppRef.value.close()\r\n  addLibraryModelRef.value.show({ type: 3, group_id: group_id.value, wx_app_ids: ids})\r\n}\r\n\r\nconst list = ref([])\r\nconst updateTabNumber = async (data) => {\r\n  // Check if official account library is enabled\r\n  await getSpecifyAbilityConfig({ability_type: 'library_ability_official_account'}).then((res) => {\r\n    let _data = res?.data || {}\r\n    if (_data?.user_config?.switch_status == 1) {\r\n      wxAppLibary.value = _data\r\n    }\r\n  })\r\n\r\n  let all = 0\r\n  let normal = 0\r\n  let qa = 0\r\n  let wx = 0\r\n  wxAppids.value = []\r\n  data.forEach((item) => {\r\n    if (item.type == 0) {\r\n      normal += 1\r\n    }\r\n    if (item.type == 2) {\r\n      qa += 1\r\n    }\r\n    if (item.type == 3) {\r\n      wx += 1\r\n      wxAppids.value.push(item.official_app_id)\r\n    }\r\n    all += 1\r\n  })\r\n\r\n  tabs.value = [\r\n    {\r\n      title: t('all_count', { count: all }),\r\n      value: 'all'\r\n    },\r\n    {\r\n      title: t('normal_count', { count: normal }),\r\n      value: '0'\r\n    },\r\n    {\r\n      title: t('qa_count', { count: qa }),\r\n      value: '2'\r\n    }\r\n  ]\r\n  if (wxAppLibary.value) {\r\n    tabs.value.push({\r\n      title: t('official_account_count', { count: wx }),\r\n      value: '3'\r\n    })\r\n  }\r\n}\r\n\r\nlet allList = ref([])\r\nconst getList = () => {\r\n  let type = activeKey.value === 'all' ? '' : activeKey.value\r\n\r\n  getLibraryList({ type }).then((res) => {\r\n    let data = res.data || []\r\n\r\n    data.forEach((item) => {\r\n      item.file_size_str = formatFileSize(item.file_size)\r\n\r\n      if (!item.avatar) {\r\n        if (item.type == 0) {\r\n          item.avatar = LIBRARY_NORMAL_AVATAR\r\n        } else if (item.type == 2) {\r\n          item.avatar = LIBRARY_QA_AVATAR\r\n        } else if (item.type == 3) {\r\n          item.avatar = LIBRARY_OFFICIAL_ACCOUNT_AVATAR\r\n        }\r\n      }\r\n    })\r\n    if (group_id.value != '') {\r\n      data = data.filter((item) => item.group_id == group_id.value)\r\n    }\r\n\r\n    list.value = data\r\n    if (activeKey.value === 'all') {\r\n      allList.value = res.data\r\n      updateTabNumber(allList.value)\r\n    } else {\r\n      getLibraryList().then((res) => {\r\n        allList.value = res.data\r\n        updateTabNumber(allList.value)\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\ngetList()\r\n\r\nconst onChangeTab = () => {\r\n  getList()\r\n  getGroupList()\r\n}\r\n\r\nconst toEdit = (data) => {\r\n  if (data.type == '1') {\r\n    // router.push({\r\n    //   path: '/public-library/config',\r\n    //   query: {\r\n    //     library_id: data.id\r\n    //   }\r\n    // })\r\n    window.open(`/#/public-library/config?library_id=${data.id}`, '_blank', 'noopener') // 建议添加 noopener 防止安全漏洞\r\n  } else {\r\n    // router.push({\r\n    //   name: 'libraryDetails',\r\n    //   query: {\r\n    //     id: data.id\r\n    //   }\r\n    // })\r\n    window.open(`/#/library/details?id=${data.id}`, '_blank', 'noopener') // 建议添加 noopener 防止安全漏洞\r\n  }\r\n}\r\n\r\nconst handleDelete = (data) => {\r\n  let key = getLibraryPermission(data.id)\r\n  if (key != 4) {\r\n    return message.error(t('no_permission_delete'))\r\n  }\r\n  let secondsToGo = 3\r\n\r\n  let modal = Modal.confirm({\r\n    title: t('confirm_delete_library_title', { library_name: data.library_name }),\r\n    icon: createVNode(ExclamationCircleOutlined),\r\n    content: t('confirm_delete_content'),\r\n    okText: secondsToGo + ' ' + t('confirm_btn'),\r\n    okType: 'danger',\r\n    okButtonProps: {\r\n      disabled: true\r\n    },\r\n    cancelText: t('cancel_btn'),\r\n    onOk() {\r\n      onDelete(data)\r\n    },\r\n    onCancel() {\r\n      // console.log('Cancel')\r\n    }\r\n  })\r\n\r\n  let interval = setInterval(() => {\r\n    if (secondsToGo == 1) {\r\n      modal.update({\r\n        okText: t('confirm_btn'),\r\n        okButtonProps: {\r\n          disabled: false\r\n        }\r\n      })\r\n\r\n      clearInterval(interval)\r\n      interval = undefined\r\n    } else {\r\n      secondsToGo -= 1\r\n\r\n      modal.update({\r\n        okText: secondsToGo + ' ' + t('confirm_btn'),\r\n        okButtonProps: {\r\n          disabled: true\r\n        }\r\n      })\r\n    }\r\n  }, 1000)\r\n}\r\n\r\nconst onDelete = ({ id }) => {\r\n  deleteLibrary({ id }).then(() => {\r\n    message.success(t('delete_success'))\r\n    getList()\r\n    getGroupList()\r\n  })\r\n}\r\n\r\nconst handleChangeGroup = (item) => {\r\n  group_id.value = item.id\r\n  getList()\r\n}\r\n\r\nconst addGroupRef = ref(null)\r\nconst openGroupModal = (data) => {\r\n  addGroupRef.value.show({\r\n    ...data\r\n  })\r\n}\r\n\r\nconst editGroupRef = ref(null)\r\nconst openEditGroupModal = (item) => {\r\n  editGroupRef.value.show({\r\n    ...item\r\n  })\r\n}\r\n\r\nconst handleDelGroup = (item) => {\r\n  Modal.confirm({\r\n    title: t('confirm_delete_group_title', { group_name: item.group_name }),\r\n    icon: createVNode(ExclamationCircleOutlined),\r\n    content: '',\r\n    okText: t('confirm_btn'),\r\n    okType: 'danger',\r\n    cancelText: t('cancel_btn'),\r\n    onOk() {\r\n      deleteLibraryListGroup({\r\n        id: item.id\r\n      }).then(() => {\r\n        message.success(t('delete_success'))\r\n        getGroupList()\r\n        if (group_id.value == item.id) {\r\n          group_id.value = ''\r\n          getList()\r\n        } else {\r\n          getList()\r\n        }\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst isDragEnabled = ref(false)\r\nconst checkMove = (e) => {\r\n  // Only allow dragging items with id > 0\r\n  return e.draggedContext.element.id > 0 && e.relatedContext.element.id > 0\r\n}\r\nconst handleDragEnd = async () => {\r\n  try {\r\n    // Filter out \"All Groups\" (id <= 0)\r\n    const sortList = groupLists.value\r\n      .filter((item) => item.id > 0)\r\n      .map((item, index) => ({\r\n        id: item.id,\r\n        sort: groupLists.value.length - index\r\n      }))\r\n\r\n    // Call API to save sorting\r\n    await sortLibararyListGroup({\r\n      sort_group: JSON.stringify(sortList)\r\n    })\r\n    message.success(t('sort_saved'))\r\n  } catch (error) {\r\n    console.error(t('sort_failed'), error)\r\n    // Restore original order\r\n    getGroupList()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.library-page {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .list-toolbar {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 8px;\r\n  }\r\n}\r\n.create-action {\r\n  display: flex;\r\n  align-items: center;\r\n  .icon {\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 8px;\r\n  }\r\n}\r\n\r\n.toolbar-box {\r\n  padding-right: 16px;\r\n}\r\n\r\n.library-page-body {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.list-group-box {\r\n  display: flex;\r\n  gap: 16px;\r\n  flex: 1;\r\n  overflow: hidden;\r\n}\r\n.group-list-box {\r\n  width: 256px;\r\n  border: 1px solid #d9d9d9;\r\n  border-radius: 6px;\r\n  margin-top: 8px;\r\n  padding: 16px;\r\n  padding-right: 0;\r\n  position: relative;\r\n  &.hide-group {\r\n    width: 0;\r\n    padding: 0;\r\n    border-left: 0;\r\n    border-top: 0;\r\n    border-bottom: 0;\r\n  }\r\n  .hide-group-box {\r\n    position: absolute;\r\n    right: -8px;\r\n    top: 40%;\r\n    height: 50px;\r\n    width: 13px;\r\n    border-radius: 8px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background: #e5e5ea;\r\n    color: #8c8c8c;\r\n    cursor: pointer;\r\n    opacity: 0.78;\r\n    &:hover {\r\n      opacity: 1;\r\n    }\r\n  }\r\n  .head-title {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    gap: 4px;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    color: #262626;\r\n  }\r\n\r\n  .search-box {\r\n    margin-top: 16px;\r\n  }\r\n\r\n  .classify-box {\r\n    flex: 1;\r\n    overflow: hidden;\r\n    font-size: 14px;\r\n    .classify-item {\r\n      height: 32px;\r\n      padding: 0 8px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      margin-top: 4px;\r\n      cursor: pointer;\r\n      border-radius: 6px;\r\n      color: #595959;\r\n      transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n\r\n      .drag-btn {\r\n        margin-right: 8px;\r\n        cursor: grab;\r\n        opacity: 0;\r\n        transition: opacity 0.2s;\r\n      }\r\n      .classify-title {\r\n        flex: 1;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n      }\r\n      .num {\r\n        display: block;\r\n      }\r\n\r\n      .btn-box {\r\n        display: none;\r\n      }\r\n      &:hover {\r\n        background: #f2f4f7;\r\n        .num {\r\n          display: none;\r\n        }\r\n        .num.num-block {\r\n          display: block;\r\n        }\r\n        .btn-box {\r\n          display: block;\r\n        }\r\n        .drag-btn {\r\n          opacity: 1;\r\n        }\r\n      }\r\n      &.active {\r\n        color: #2475fc;\r\n        background: #e6efff;\r\n      }\r\n    }\r\n  }\r\n\r\n  .hover-btn-wrap {\r\n    width: fit-content;\r\n    height: 24px;\r\n    border-radius: 6px;\r\n    padding: 0 4px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n    &:hover {\r\n      background: #e4e6eb;\r\n    }\r\n  }\r\n}\r\n\r\n.mr-16 {\r\n  margin-right: 16px;\r\n}\r\n\r\n// 大于1920px\r\n@media screen and (min-width: 1920px) {\r\n  .library-page {\r\n  }\r\n}\r\n</style>\r\n"],"names":["_imports_0$1","emit","__emit","t","useI18n","companyStore","useCompanyStore","computed","_a","props","__props","toEdit","item","handleDelete","openEditGroupModal","_openBlock","_createElementBlock","_hoisted_1","_Fragment","_renderList","_createElementVNode","_withModifiers","$event","_hoisted_3","_hoisted_4","_toDisplayString","_unref","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_createVNode","_component_a_tooltip","getTooltipTitle","el","_hoisted_16","_hoisted_17","_hoisted_18","_component_svg_icon","_hoisted_19","_hoisted_20","_component_a_dropdown","_component_a_menu","_component_a_menu_item","_hoisted_21","_hoisted_22","_createBlock","EmptyBox","_imports_0","_imports_1","open","ref","show","close","handleOk","val","handleSelect","__expose","_component_a_modal","$refs","_hoisted_2","RightOutlined","_hoisted_10","neo4j_status","message","formRef","isHide","router","useRouter","visible","saveLoading","default_ai_chunk_prumpt","formState","reactive","onAvatarChange","data","segmentationTags","getSeparatorsList","res","handleChangeSegmentationType","type","vectorModelList","onVectorModelLoaded","list","nextTick","setDefaultModel","modelConfig","model","child","onTextModelLoaded","openGrapgModalRef","handleGraphSwitch","handleOpenGrapgOk","handleCancel","saveForm","err","formData","newFormState","transformUrlData","request","createLibrary","createOfficialLibrary","path","query","_b","group_id","wx_app_ids","LIBRARY_NORMAL_AVATAR","LIBRARY_QA_AVATAR","handleChangeQaIndexType","onMounted","_component_a_form","_component_a_form_item","_component_a_input","_cache","_component_a_textarea","AvatarInput","_component_a_select","_component_a_select_option","_component_a_switch","CaretRightOutlined","CaretDownOutlined","_createTextVNode","QuestionCircleOutlined","ModelSelect","_normalizeClass","_component_a_flex","_component_a_input_number","value","_component_a_radio_group","_component_a_radio","_hoisted_23","_hoisted_24","_withDirectives","_hoisted_25","_hoisted_26","_vShow","OpenGrapgModal","modalTitle","saveLibraryListGroup","groupLists","getGroupList","relationLibraryGroup","getLibraryListGroup","route","useRoute","pageTabs","tabs","permissionStore","usePermissionStore","role_permission","role_type","libraryCreate","addLibraryModelRef","addLibrayPopup","wxAppRef","wxAppLibary","wxAppids","activeKey","hideGroupLocalKey","isHideGroup","handleChangeHideGroup","groupSearchKey","lists","totalNumber","group","handleAdd","toAdd","showWxLibraryModel","ids","rows","updateTabNumber","getSpecifyAbilityConfig","_data","all","normal","qa","wx","allList","getList","getLibraryList","formatFileSize","LIBRARY_OFFICIAL_ACCOUNT_AVATAR","onChangeTab","getLibraryPermission","secondsToGo","modal","Modal","createVNode","ExclamationCircleOutlined","onDelete","interval","id","deleteLibrary","handleChangeGroup","addGroupRef","openGroupModal","editGroupRef","handleDelGroup","deleteLibraryListGroup","checkMove","e","handleDragEnd","sortList","index","sortLibararyListGroup","error","PageTabs","PageAlert","ListTabs","_component_a_button","PlusOutlined","_component_cu_scroll","Draggable","_withCtx","EllipsisOutlined","LeftOutlined","LibraryList","AddLibrayPopup","AddLibraryModel","AddGroup","EditGroup","SelectWechatApp"],"mappings":"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"}