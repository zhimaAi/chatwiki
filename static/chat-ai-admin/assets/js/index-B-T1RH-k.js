import{a3 as q,b as h,k as n,N as k,O as u,j as _,U as g,F as R,a1 as S,S as w,Z as T,_ as B,u as K,a7 as y,e as L,X as I,a6 as N,a8 as F,a2 as P}from"./vue-chunks-BRsu9_To.js";import{u as v}from"./robot-CF9aQwVH.js";import{b as M,d as i,aB as $}from"../../index-CzPebXix.js";import{_ as V,M as j}from"./index-DlQVT6K6.js";import{T as H}from"./top-header-BdlxqcjZ.js";import"./index-jmRHMddk.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./shallowequal-C0xnIuy8.js";import"./Trigger-Bvakuge0.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-Brd6xpAT.js";import"./slide-CsbPJG8I.js";import"./index-Bhf8G0AA.js";import"./index-BwqnaIPU.js";import"./colors-DfoziJR7.js";import"./add-group-Csdf_vpc.js";import"./index-BfxXXGE8.js";import"./index-BgVvqN-n.js";import"./isPlainObject-OEy0Jz8l.js";import"./Col-CFxRRwN8.js";import"./responsiveObserve-DqAe0rZk.js";import"./QuestionCircleOutlined-DTfTQPH4.js";import"./FormItemContext-B2RmG14m.js";import"./PlusOutlined-BlmIiILr.js";import"./index-7Ecr060x.js";import"./Password-fnCqxsm2.js";import"./Input-DFtZp9vk.js";import"./index-Bxqtz4sn.js";import"./inputProps-jdR54afw.js";import"./DownloadOutlined-CeWsYko2.js";import"./index-hvcgcTJ4.js";import"./CheckOutlined-Mk6nTpyE.js";import"./useRefs-CRRjy_qY.js";import"./useMergedState-C0iIHNGF.js";import"./index-BFhVTGQQ.js";import"./Search-Cf7bcOZJ.js";import"./SearchOutlined-a_gTycfl.js";import"./TextArea-DrgXbuSS.js";import"./index-6HDf6TPN.js";import"./List-D7uk7Chm.js";import"./DownOutlined-DXKkgIsm.js";import"./move-CkiYyFmr.js";import"./index-BSz5XTfh.js";import"./dropdown-DTOAy9tU.js";import"./RightOutlined-DH_YROnp.js";import"./LeftOutlined-BKUTcRtP.js";import"./EditOutlined-D08WQbiX.js";import"./index-Dhmpqx9n.js";const z={class:"left-menu-box"},A={__name:"left-menu",props:{robotInfo:{type:Object,default:()=>{}}},emits:["changeMenu"],setup(t,{emit:f}){const e=q(),r=t,c=e.query,o=h(()=>[e.path.split("/")[3]]),m=[{key:"workflow",id:"workflow",icon:()=>n(i,{name:"workflow",class:"menu-icon"}),label:"工作流编排",title:"工作流编排",path:"/robot/config/workflow",menuIn:["1"]},{key:"basic-config",id:"basic-config",icon:()=>n(i,{name:"jichupeizhi",class:"menu-icon"}),label:"基础配置",title:"基础配置",path:"/robot/config/basic-config",menuIn:["0"]},{key:"library-config",id:"library-config",icon:()=>n(i,{name:"guanlianzhishiku",class:"menu-icon"}),label:"知识库",title:"知识库",path:"/robot/config/library-config",menuIn:["0"]},{key:"skill-config",id:"skill-config",icon:()=>n(i,{name:"skii",class:"menu-icon"}),label:"工作流",title:"工作流",path:"/robot/config/skill-config",menuIn:["0"]},{key:"external-services",id:"external-services",icon:()=>n(i,{name:"duiwaifuwu",class:"menu-icon"}),label:"对外服务",title:"对外服务",path:"/robot/config/external-services",menuIn:["0","1"]},{key:"test",id:"test",icon:()=>n(i,{name:"liaotianceshi",class:"menu-icon"}),label:"聊天测试",title:"聊天测试",path:"/robot/test",query:{robot_key:r.robotInfo.robot_key,id:r.robotInfo.id},target:"_blank",menuIn:["0","1"]},{key:"qa-feedbacks",id:"qa-feedbacks",icon:()=>n(i,{name:"qa-feedback",class:"menu-icon"}),label:"问答反馈",title:"问答反馈",path:"/robot/config/qa-feedbacks",menuIn:["0","1"]},{key:"session-record",id:"session-record",icon:()=>n(i,{name:"session-record",class:"menu-icon"}),label:"会话记录",title:"会话记录",path:"/robot/config/session-record",query:{robot_key:r.robotInfo.robot_key,id:r.robotInfo.id},menuIn:["0","1"]},{key:"api-key-manage",id:"api-key-manage",icon:()=>n(i,{name:"duiwaifuwu",class:"menu-icon"}),label:"API Key管理",title:"API Key管理",path:"/robot/config/api-key-manage",menuIn:["0","1"]},{key:"unknown_issue",id:"unknown_issue",icon:()=>n(i,{name:"unknown-issue",class:"menu-icon"}),label:"未知问题",title:"未知问题",path:"/robot/config/unknown_issue",menuIn:["0","1"]},{key:"statistical_analysis",id:"statistical_analysis",icon:()=>n(i,{name:"statistical-analysis",class:"menu-icon"}),label:"统计分析",title:"统计分析",path:"/robot/config/statistical_analysis",menuIn:["0","1"]},{key:"export-record",id:"export-record",icon:()=>n(i,{name:"export-record",class:"menu-icon"}),label:"导出记录",title:"导出记录",path:"/robot/config/export-record",menuIn:["0","1"]}],p=h(()=>{let s=m;return $(c.id)==1?s.filter(d=>d.id=="external-services"):s.filter(d=>{var b;return d.menuIn.includes((b=r.robotInfo)==null?void 0:b.application_type)})}),l=({item:s})=>{o.value.includes(s.id)};return(s,d)=>{const b=V,C=y("router-link"),x=j;return u(),k("div",z,[_(x,{class:"left-menu",selectedKeys:o.value,onClick:l},{default:g(()=>[(u(!0),k(R,null,S(p.value,a=>(u(),w(C,{class:"default-color",tag:"a",target:a.target||"_self",to:{path:a.path,query:a.query||K(c)},key:a.key},{default:g(()=>[(u(),w(b,{icon:a.icon,path:a.path,key:a.key},{default:g(()=>[T(B(a.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["target","to"]))),128))]),_:1},8,["selectedKeys"])])}}},E=M(A,[["__scopeId","data-v-b23cf6f5"]]),O=L({name:"robotPage",components:{leftMenu:E,TopHeader:H},async beforeRouteEnter(t,f,e){const r=v(),{getRobot:c,robotInfo:o,getRobotLists:m,getGroupList:p}=r;await c(t.query.id),m(),p();let l=$(t.query.id);if(l==0){e("/no-permission");return}if(l==1){window.location.href=`${o.h5_domain}/#/chat/pc?robot_key=${o.robot_key}`,e("/robot/list");return}let s=["basicConfig","libraryConfig","skillConfig"];if(o.application_type==1&&s.includes(t.name)){e(`/robot/config/workflow?id=${o.id}&robot_key=${o.robot_key}`);return}if(o.application_type==0&&t.name=="robotWorkflow"){e(`/robot/config/basic-config?id=${o.id}&robot_key=${o.robot_key}`);return}e()},setup(){const t=P(),f=v(),{robotInfo:e}=F(f),r=h(()=>q().name!="robotWorkflow");return{robotInfo:e,changeMenu:o=>{t.push({path:o.path,query:{robot_key:e.value.robot_key,id:e.value.id}})},isShowLeft:r}}}),W={class:"robot-main-container"},D={class:"robot-page-layout"},G={key:0,class:"layout-left"},U={class:"layout-body"};function X(t,f,e,r,c,o){const m=y("TopHeader"),p=y("leftMenu"),l=y("router-view");return u(),k("div",W,[I("div",D,[t.isShowLeft?(u(),k("div",G,[_(m),_(p,{onChangeMenu:t.changeMenu,robotInfo:t.robotInfo},null,8,["onChangeMenu","robotInfo"])])):N("",!0),I("div",U,[_(l)])])])}const Uo=M(O,[["render",X],["__scopeId","data-v-5283f69c"]]);export{Uo as default};
