import{ag as d,r as c,c as k,j as C,e as p,b as m,t as I,q as w,u as g}from"./vue-chunks-BdaA73Wf.js";import{L as S}from"./list-tabs-Dv38O5dh.js";import{t as y,b as z}from"./index-BuURB1pl.js";import{u as L}from"./usePublicNetworkCheck-B51wgX5Y.js";import{u as N}from"../../index-DSFcP5NQ.js";import{a4 as P}from"./ui-antd-Dl1wwwCD.js";const R={__name:"main-tab",emits:["change"],setup(B,{expose:h,emit:_}){const{t:a}=N("views.explore.components.main-tab"),x=_,o=d(),s=c(localStorage.getItem("zm:explore:active")||"1"),n=c(localStorage.getItem("zm:explore:plugins:count")||"0"),b=k(()=>[{title:a("title_template_marketplace"),value:"4"},{title:a("title_features"),value:"1"},{title:`${a("title_plugins")}(${n.value})`,value:"2"},{title:a("title_plugin_marketplace"),value:"3"},{title:a("title_mcp_marketplace"),value:"5"}]),{isPublicNetwork:v}=L();C(()=>{r()});function i(e){switch(s.value=e.toString(),localStorage.setItem("zm:explore:active",e),x("change",e),Number(e)){case 1:o.push({path:"/explore/index"});break;case 2:case 3:o.push({path:"/plugins/index",query:{active:e}});break;case 4:o.push({path:"/templates/index"});break;case 5:o.push({path:"/mcp/index"});break}}async function r(){let l=(await y()).data.length;z().then(t=>{let u=(t==null?void 0:t.data)||[];n.value=u.length+l,localStorage.setItem("zm:explore:plugins:count",u.length+l)})}function f(){r()}return h({change:i,update:f}),(e,l)=>(m(),p(S,{tabs:b.value,value:s.value,"onUpdate:value":l[0]||(l[0]=t=>s.value=t),onChange:i},{extra:I(({key:t})=>[!g(v)&&t!=1?(m(),p(g(P),{key:0,style:{color:"#FB363F"}})):w("",!0)]),_:1},8,["tabs","value"]))}};export{R as _};
//# sourceMappingURL=main-tab-CdcTMZsk.js.map
