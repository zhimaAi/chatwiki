import{f as x,u as y,T as C,U as D,V as L,W as q}from"../../index-DSFcP5NQ.js";import{_ as B}from"./emoji-mart-BBMRoEa3.js";import{H as T,ak as V,b as u}from"./ui-antd-Dl1wwwCD.js";import{r as l,a as p,q as N,p as o,u as s,y as m,v as d,h as z,b as w}from"./vue-chunks-BdaA73Wf.js";import"./neo4j-MWxXN7EM.js";import"./editor-cherry-CFIsbKoN.js";import"./lodash-Bm5sK6rN.js";import"./elkjs-BN8GIjVH.js";import"./utils-CvB22N-W.js";import"./other-LrIFyvU9.js";const E="/assets/img/client-download-pic-D_c9zEa_.png",F={class:"client-download-page"},I={key:0,class:"login-required-switch"},R={class:"need-login"},U={class:"page-title"},W={class:"page-body"},A={class:"app-info"},H={class:"app-name"},P={class:"banner"},j={__name:"index",setup(G){const h=x();let{role_type:v}=h;const{t:n}=y("views.user.client-download.index"),t=l(!1),f=()=>{q({client_side_login_switch:t.value?1:0}).then(()=>{u.success(n("common.saveSuccess"))})},g=l(""),c=l(n("windows_download")),a=l(!1);let r=null;const _=()=>L({domain:""}).then(e=>(e.data.file_url?(a.value=!1,c.value=n("windows_download"),g.value=e.data.file_url,clearTimeout(r),r=null):(c.value=n("packaging"),a.value=!0,r=setTimeout(()=>{_()},5e3)),e)),k=()=>{a.value||_().then(e=>{e.data.file_url?D("",e.data.file_url):u.error(n("download_not_ready"))})};return(()=>{C().then(e=>{t.value=e.data.client_side_login_switch==1})})(),(e,i)=>{const S=T;return w(),p("div",F,[s(v)!="3"?(w(),p("div",I,[o("span",R,d(s(n)("need_login")),1),m(S,{checked:t.value,"onUpdate:checked":i[0]||(i[0]=b=>t.value=b),onChange:f},null,8,["checked"])])):N("",!0),o("h3",U,d(s(n)("client_download")),1),o("div",W,[o("div",A,[o("div",H,d(s(n)("chat_wiki_pc_client")),1),o("div",P,[i[1]||(i[1]=o("img",{src:E,alt:""},null,-1)),o("div",{class:z(["download-btn",{disabled:a.value}]),onClick:k},[m(s(V),{class:"windows-icon"}),o("span",null,d(c.value),1)],2)])])])])}}},ne=B(j,[["__scopeId","data-v-8a84d3c1"]]);export{ne as default};
//# sourceMappingURL=index-CzkDSX9c.js.map
