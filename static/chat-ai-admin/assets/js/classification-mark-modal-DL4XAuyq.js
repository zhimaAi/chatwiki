import{c as S}from"./edit-subsection-CbaTDe4f.js";import{b as L,a_ as O,bD as U}from"../../index-ZzVqUZIR.js";import{a0 as V,bt as $,bs as w,$ as D,x as F,w as z,I as A,M as T,a as E}from"./ui-antd-BJtyvQX6.js";import{f as b,Y as u,_ as n,k as a,a2 as s,a1 as f,ae as x,G as g,a5 as p,u as d,F as G,a9 as J,a6 as I,a7 as C}from"./vue-chunks-yZ4gwLzA.js";const Y={class:"star-select-box"},j={class:"star-item"},q={class:"star-item"},H={key:0},P={__name:"selct-star-box",props:{startLists:{type:Array,default:()=>[]},hideId:{type:[Number,String,Array],default:()=>[]}},emits:["change"],setup(m,{emit:v}){const y=v,o=m,i=b(-1),r=()=>{y("change",i.value)};return(h,e)=>{const _=V,l=D;return n(),u("div",Y,[a(l,{activeKey:i.value,"onUpdate:activeKey":e[0]||(e[0]=t=>i.value=t),size:"small",onChange:r},{default:s(()=>[(n(),f(_,{key:-1},{tab:s(()=>[...e[1]||(e[1]=[g("全部",-1)])]),_:1})),m.hideId.includes(0)?x("",!0):(n(),f(_,{key:0},{tab:s(()=>[p("div",j,[a(d($)),e[2]||(e[2]=g("未精选",-1))])]),_:1})),(n(!0),u(G,null,J(o.startLists,t=>(n(),f(_,{key:t.id},{tab:s(()=>[p("div",q,[a(d(w),{style:I({color:d(S)[t.type]})},null,8,["style"]),g(" "+C(t.name||"-")+" ",1),t.data_count>0?(n(),u("span",H,"("+C(t.data_count)+")",1)):x("",!0)])]),_:2},1024))),128))]),_:1},8,["activeKey"])])}}},et=L(P,[["__scopeId","data-v-e555fc42"]]),Q={class:"modal-box"},R={class:"list-box"},W={__name:"classification-mark-modal",emits:["ok"],setup(m,{expose:v,emit:y}){const o=b(!1),i=y,r=b([]),h=()=>{e(),o.value=!0},e=()=>{O().then(l=>{r.value=l.data})},_=()=>{let l=r.value.map(t=>({id:+t.id,name:t.name}));U({data:JSON.stringify(l)}).then(t=>{E.success("保存成功"),i("ok"),o.value=!1})};return v({show:h}),(l,t)=>{const k=z,N=A,B=F,K=T;return n(),u("div",null,[a(K,{open:o.value,"onUpdate:open":t[0]||(t[0]=c=>o.value=c),title:"精选设置",onOk:_,width:586},{default:s(()=>[p("div",Q,[p("div",R,[a(B,{"data-source":r.value,pagination:!1},{default:s(()=>[a(k,{key:"tags",title:"图标","data-index":"tags",width:200},{default:s(({record:c})=>[a(d(w),{class:"start-icon",style:I({color:d(S)[c.type]})},null,8,["style"])]),_:1}),a(k,{key:"name",title:"备注","data-index":"name",width:200},{default:s(({record:c})=>[a(N,{value:c.name,"onUpdate:value":M=>c.name=M,maxLength:4,placeholder:"请设置,最多4个字"},null,8,["value","onUpdate:value"])]),_:1})]),_:1},8,["data-source"])])])]),_:1},8,["open"])])}}},st=L(W,[["__scopeId","data-v-52814820"]]);export{st as C,et as S};
