import{u as U,c as O,_ as B,J as I,K as V}from"../../index-DSFcP5NQ.js";import{_ as T}from"./emoji-mart-BBMRoEa3.js";import{H as q,ag as z,ah as E,I as F,B as N,b as u,M as Y,O as Z}from"./ui-antd-Dl1wwwCD.js";import{r as m,E as A,j as G,a as H,p as o,y as n,v as a,u as c,t as k,b as J,_ as g}from"./vue-chunks-BdaA73Wf.js";import"./neo4j-MWxXN7EM.js";import"./editor-cherry-CFIsbKoN.js";import"./lodash-Bm5sK6rN.js";import"./elkjs-BN8GIjVH.js";import"./utils-CvB22N-W.js";import"./other-LrIFyvU9.js";const j={class:"aliocr-main"},D={class:"aliocr-title"},K={class:"aliocr-switch-box"},L={class:"aliocr-switch-nav-box"},$={class:"aliocr-switch-nav-title"},P={class:"aliocr-info"},Q={class:"aliocr-switch-btn-box"},R={class:"aliocr-config-box"},W={class:"aliocr-config-nav"},X={class:"aliocr-config-nav-title"},ee={class:"aliocr-config-form"},oe={class:"aliocr-config-form-item"},ce={class:"aliocr-config-form-label"},se={class:"aliocr-config-form-item"},ie={class:"aliocr-config-form-label"},te={class:"aliocr-config-form-item"},ae={class:"aliocr-config-form-label"},ne={__name:"index",setup(le){const{t:e}=U("views.user.aliocr.index"),r=m(!1),i=A({ali_ocr_key:"",ali_ocr_secret:""}),d=m(!1),l=O(),h=async()=>{await l.getCompanyInfo()};function f(){if(!i.ali_ocr_key)return e("accesskey_id_required");if(!i.ali_ocr_secret)return e("accesskey_secret_required")}const y=t=>{t&&f()?(r.value=!r.value,Y.confirm({title:e("modal_title"),icon:n(Z),content:e("modal_content"),okText:e("modal_ok"),cancelText:null,okCancel:!1,onOk(){},onCancel(){}})):p()},w=()=>{const t=f();if(t)return u.error(t);d.value=!0,I({...i}).then(s=>{u.success(e("test_success"))}).finally(()=>{d.value=!1})},p=()=>{const t=f();if(t)return u.error(t);d.value=!0,V({ali_ocr_switch:r.value?1:2,...i}).then(s=>{u.success(e("save_success")),h()}).finally(()=>{d.value=!1})},b=t=>{window.open(t)};return G(async()=>{await h(),l.ali_ocr_key&&(i.ali_ocr_key=l.ali_ocr_key),l.ali_ocr_secret&&(i.ali_ocr_secret=l.ali_ocr_secret),l.ali_ocr_switch&&(r.value=l.ali_ocr_switch==1)}),(t,s)=>{const x=B,C=q,v=F,S=N,M=z;return J(),H("div",j,[o("div",D,a(c(e)("title")),1),o("div",K,[o("div",L,[n(x,{name:"ali-ocr",style:{"font-size":"24px",color:"#FF5915"}}),o("div",$,a(c(e)("switch_title")),1)]),o("div",P,a(c(e)("switch_info")),1),o("div",Q,[n(C,{onChange:y,checked:r.value,"onUpdate:checked":s[0]||(s[0]=_=>r.value=_),"checked-children":c(e)("switch_on"),"un-checked-children":c(e)("switch_off"),checkedValue:!0,unCheckedValue:!1},null,8,["checked","checked-children","un-checked-children"])])]),n(M,{tip:c(e)("loading"),spinning:d.value},{default:k(()=>[o("div",R,[o("div",W,[n(c(E),{style:{"font-size":"16px"}}),o("div",X,a(c(e)("config_title")),1),s[4]||(s[4]=o("div",{class:"aliocr-config-nav-line"},null,-1)),o("div",{class:"alicor-config-nav-url",onClick:s[1]||(s[1]=_=>b("https://www.aliyun.com/product/ai/docmind?spm=5176.28536895.J_kUfM_yzYYqU72woCZLHoY.6.28bd586cZUeowZ"))},a(c(e)("config_help_link")),1)]),o("div",ee,[o("div",oe,[o("div",ce,a(c(e)("accesskey_id_label")),1),n(v,{value:i.ali_ocr_key,"onUpdate:value":s[2]||(s[2]=_=>i.ali_ocr_key=_),placeholder:c(e)("accesskey_id_placeholder")},null,8,["value","placeholder"])]),o("div",se,[o("div",ie,a(c(e)("accesskey_secret_label")),1),n(v,{value:i.ali_ocr_secret,"onUpdate:value":s[3]||(s[3]=_=>i.ali_ocr_secret=_),placeholder:c(e)("accesskey_secret_placeholder")},null,8,["value","placeholder"])]),o("div",te,[o("div",ae,[g(a(c(e)("after_config"))+" ",1),o("div",{class:"alicor-config-nav-url",onClick:w},a(c(e)("test_btn")),1)]),n(S,{type:"primary",onClick:p},{default:k(()=>[g(a(c(e)("save_btn")),1)]),_:1})])])])]),_:1},8,["tip","spinning"])])}}},ge=T(ne,[["__scopeId","data-v-cc6563b4"]]);export{ge as default};
//# sourceMappingURL=index-DZpR1tM9.js.map
