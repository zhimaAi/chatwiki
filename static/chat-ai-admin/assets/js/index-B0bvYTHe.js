import{b as v,d as h,dR as E}from"../../index-CzPebXix.js";import{a3 as k,b as D,d as I,a7 as u,N as b,O as m,j as d,U as f,F as q,a1 as B,S as y,u as $,Z as w,_ as S,k as p,e as R,X as a}from"./vue-chunks-BRsu9_To.js";import{_ as A,M as L}from"./index-DlQVT6K6.js";import{u as N}from"./database-Dl4jc9fX.js";import{_ as O,A as K}from"./add-data-sheet-CAFAQk7W.js";import{E as V}from"./EditOutlined-D08WQbiX.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./shallowequal-C0xnIuy8.js";import"./Trigger-Bvakuge0.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-Brd6xpAT.js";import"./slide-CsbPJG8I.js";import"./index-Bhf8G0AA.js";import"./index-BwqnaIPU.js";import"./colors-DfoziJR7.js";import"./index-B9BKV930.js";import"./index-BgVvqN-n.js";import"./isPlainObject-OEy0Jz8l.js";import"./Col-CFxRRwN8.js";import"./responsiveObserve-DqAe0rZk.js";import"./QuestionCircleOutlined-DTfTQPH4.js";import"./FormItemContext-B2RmG14m.js";import"./index-BFhVTGQQ.js";import"./Input-DFtZp9vk.js";import"./index-Bxqtz4sn.js";import"./inputProps-jdR54afw.js";import"./Search-Cf7bcOZJ.js";import"./SearchOutlined-a_gTycfl.js";import"./TextArea-DrgXbuSS.js";import"./Password-fnCqxsm2.js";const F={class:"left-menu-box"},j={__name:"left-menus",emits:["changeMenu"],setup(e,{emit:n}){const o=n,t=k(),i=t.query,s=D(()=>[t.path.split("/")[3]]),l=I([{key:"field-manage",id:"field-manage",icon:()=>p("span",{},[p(h,{name:"field-menu-icon",class:"menu-icon"})]),label:"字段管理",title:"字段管理",path:"/database/details/field-manage"},{key:"database-manage",id:"database-manage",icon:()=>p("span",{},[p(h,{name:"database-menu-icon",class:"menu-icon"})]),label:"数据管理",title:"数据管理",path:"/database/details/database-manage"}]),_=({item:c})=>{s.value.includes(c.id)||o("changeMenu",c)};return(c,g)=>{const x=A,M=u("router-link"),C=L;return m(),b("div",F,[d(C,{class:"left-menu",selectedKeys:s.value,onClick:_},{default:f(()=>[(m(!0),b(q,null,B(l.value,r=>(m(),y(M,{class:"default-color",to:{path:r.path,query:$(i)},key:r.key},{default:f(()=>[(m(),y(x,{icon:r.icon,path:r.path,key:r.key},{default:f(()=>[w(S(r.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},P=v(j,[["__scopeId","data-v-98e6d348"]]),T=R({components:{LeftMenus:P,AddDataSheet:K,EditOutlined:V},async beforeRouteEnter(e,n,o){let t=E(e.query.form_id);if(t==0||t==1){o("/no-permission");return}o()},setup(){const e=N(),o=k().query,t=D(()=>e.databaseInfo),i=()=>{e.getDatabaseInfo({id:o.form_id})};i();const s=I(null);return{dataBaseInfo:t,getInfo:i,toEdit:()=>{s.value.show({...e.databaseInfo})},addDataSheetRef:s}}}),U={class:"details-library-page"},X={class:"between-content-box"},Z={class:"layout-left"},z={class:"library-name-box"},G={class:"name"},H={class:"left-menu-box"},J={class:"right-content-box"};function Q(e,n,o,t,i,s){const l=h,_=u("LeftMenus"),c=u("router-view"),g=u("AddDataSheet");return m(),b("div",U,[a("div",X,[a("div",Z,[a("div",z,[n[0]||(n[0]=a("img",{class:"avatar",src:O,alt:""},null,-1)),a("div",G,S(e.dataBaseInfo.name),1),d(l,{onClick:e.toEdit,name:"edit"},null,8,["onClick"])]),a("div",H,[d(_)])]),a("div",J,[d(c)])]),d(g,{onOk:e.getInfo,ref:"addDataSheetRef"},null,8,["onOk"])])}const $e=v(T,[["render",Q],["__scopeId","data-v-91ef85c9"]]);export{$e as default};
