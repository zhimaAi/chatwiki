{"version":3,"file":"add-library-DMKmC-pw.js","sources":["../../../../front-end/chat-ai-admin-vue/src/views/library/add-library/add-library.vue"],"sourcesContent":["<style lang=\"less\" scoped>\r\n.add-library-page {\r\n  padding: 24px;\r\n\r\n  .form-box {\r\n    width: 568px;\r\n    margin: 0 auto;\r\n  }\r\n}\r\n\r\n.model-icon {\r\n  height: 18px;\r\n}\r\n\r\n.form-item-tip {\r\n  color: #999;\r\n}\r\n\r\n.card-box {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.use-model-item {\r\n  position: relative;\r\n  width: 226px;\r\n  height: 124px;\r\n  border-radius: 2px;\r\n  border: 2px solid #d9d9d9;\r\n  cursor: pointer;\r\n  padding: 15px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.use-model-item-top {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  font-size: 14px;\r\n  color: #595959;\r\n}\r\n\r\n.use-model-item-top-icon {\r\n  margin-right: 5px;\r\n}\r\n\r\n.use-model-item-top.active {\r\n  color: #2475fc;\r\n  font-weight: bolder;\r\n}\r\n\r\n.use-model-item.active {\r\n  border: 2px solid #2475fc;\r\n\r\n  .check-arrow {\r\n    position: absolute;\r\n    display: block;\r\n    right: -1px;\r\n    bottom: -1px;\r\n    width: 24px;\r\n    height: 24px;\r\n    font-size: 24px;\r\n    color: #fff;\r\n  }\r\n\r\n  .retrieval-mode-title {\r\n    color: #2475fc;\r\n  }\r\n}\r\n\r\n.upload-document-type-box {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  .type-item {\r\n    position: relative;\r\n    width: calc((100% - 8px) / 2);\r\n    cursor: pointer;\r\n    padding: 16px;\r\n    display: flex;\r\n    border: 1px solid #d9d9d9;\r\n    border-radius: 2px;\r\n    box-shadow: none;\r\n    transition: box-shadow 1s;\r\n    &:hover {\r\n      box-shadow:\r\n        0px 5px 5px -3px rgba(0, 0, 0, 0.1),\r\n        0px 8px 10px 1px rgba(0, 0, 0, 0.06),\r\n        0px 3px 14px 2px rgba(0, 0, 0, 0.05);\r\n    }\r\n    &.active {\r\n      border: 2px solid #2475fc;\r\n      .svg-action {\r\n        color: #2475fc;\r\n      }\r\n      .right-block .title-text {\r\n        color: #2475fc;\r\n      }\r\n    }\r\n    .check-arrow {\r\n      position: absolute;\r\n      bottom: 0;\r\n      right: -1px;\r\n    }\r\n  }\r\n  .right-block {\r\n    .title-block {\r\n      display: flex;\r\n      font-size: 14px;\r\n      line-height: 22px;\r\n      .title-text {\r\n        margin-left: 2px;\r\n        color: #262626;\r\n        font-weight: 600;\r\n      }\r\n    }\r\n    .desc {\r\n      color: #595959;\r\n      margin-top: 4px;\r\n      line-height: 22px;\r\n      word-break: break-all;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"add-library-page\">\r\n    <div class=\"form-box\">\r\n      <a-form :label-col=\"{ span: 5 }\">\r\n        <a-form-item ref=\"name\" :label=\"t('label_library_name')\" v-bind=\"validateInfos.library_name\">\r\n          <a-input\r\n            v-model:value=\"formState.library_name\"\r\n            type=\"text\"\r\n            :placeholder=\"t('ph_library_name')\"\r\n            :maxlength=\"20\"\r\n          />\r\n        </a-form-item>\r\n\r\n        <a-form-item :label=\"t('label_library_intro')\">\r\n          <a-textarea v-model:value=\"formState.library_intro\" :placeholder=\"t('ph_library_intro')\" />\r\n        </a-form-item>\r\n\r\n        <a-form-item ref=\"name\" :label=\"t('label_library_avatar')\" v-bind=\"validateInfos.avatar\">\r\n          <AvatarInput v-model:value=\"formState.avatar\" @change=\"onAvatarChange\" />\r\n          <div class=\"form-item-tip\">{{ t('msg_avatar_tip') }}</div>\r\n        </a-form-item>\r\n        <template v-if=\"type != 1\">\r\n          <a-form-item :label=\"t('label_doc_type')\" required>\r\n            <div class=\"upload-document-type-box\">\r\n              <div\r\n                class=\"type-item\"\r\n                :class=\"{ active: formState.doc_type == item.value }\"\r\n                v-for=\"item in documentTypeList\"\r\n                :key=\"item.value\"\r\n                @click=\"handleChangeUrlType(item.value)\"\r\n              >\r\n                <div class=\"right-block\">\r\n                  <div class=\"title-block\">\r\n                    <svg-icon\r\n                      :name=\"formState.doc_type == item.value ? item.iconNameActive : item.iconName\"\r\n                    ></svg-icon>\r\n                    <div class=\"title-text\">{{ item.title }}</div>\r\n                  </div>\r\n                  <div class=\"desc\">{{ item.desc }}</div>\r\n                </div>\r\n                <svg-icon\r\n                  class=\"check-arrow\"\r\n                  name=\"check-arrow-filled\"\r\n                  style=\"font-size: 24px; color: #fff\"\r\n                  v-if=\"formState.doc_type == item.value\"\r\n                ></svg-icon>\r\n              </div>\r\n            </div>\r\n          </a-form-item>\r\n\r\n          <a-form-item\r\n            v-show=\"formState.doc_type == 1\"\r\n            ref=\"name\"\r\n            :label=\"t('label_library_files')\"\r\n            v-bind=\"validateInfos.library_files\"\r\n          >\r\n            <UploadFile :type=\"type\" @change=\"handleFileChange\" />\r\n          </a-form-item>\r\n\r\n          <a-form-item\r\n            v-show=\"formState.doc_type == 2\"\r\n            ref=\"urls\"\r\n            :label=\"t('label_urls')\"\r\n            v-bind=\"validateInfos.urls\"\r\n          >\r\n            <a-textarea\r\n              style=\"height: 120px\"\r\n              v-model:value=\"formState.urls\"\r\n              :placeholder=\"t('ph_urls')\"\r\n            />\r\n          </a-form-item>\r\n\r\n          <a-form-item\r\n            v-show=\"formState.doc_type == 2\"\r\n            ref=\"doc_auto_renew_frequency\"\r\n            :label=\"t('label_update_frequency')\"\r\n            required\r\n          >\r\n            <a-select v-model:value=\"formState.doc_auto_renew_frequency\" style=\"width: 100%\">\r\n              <a-select-option :value=\"1\">{{ t('option_no_auto_update') }}</a-select-option>\r\n              <a-select-option :value=\"2\">{{ t('option_every_day') }}</a-select-option>\r\n              <a-select-option :value=\"3\">{{ t('option_every_3_days') }}</a-select-option>\r\n              <a-select-option :value=\"4\">{{ t('option_every_7_days') }}</a-select-option>\r\n              <a-select-option :value=\"5\">{{ t('option_every_30_days') }}</a-select-option>\r\n            </a-select>\r\n          </a-form-item>\r\n\r\n          <div v-show=\"formState.doc_type == 3\">\r\n            <a-form-item ref=\"file_name\" :label=\"t('label_file_name')\" v-bind=\"validateInfos.file_name\">\r\n              <a-input :placeholder=\"t('ph_file_name')\" v-model:value=\"formState.file_name\"></a-input>\r\n            </a-form-item>\r\n            <a-form-item :label=\"t('label_doc_category')\" required v-if=\"false\">\r\n              <a-radio-group v-model:value=\"formState.is_qa_doc\">\r\n                <a-radio :value=\"0\">{{ t('option_normal_doc') }}</a-radio>\r\n                <a-radio :value=\"1\">{{ t('option_qa_doc') }}</a-radio>\r\n              </a-radio-group>\r\n            </a-form-item>\r\n            <a-form-item :label=\"t('label_index_method')\" required v-if=\"formState.is_qa_doc == 1\">\r\n              <div class=\"upload-document-type-box\">\r\n                <div\r\n                  class=\"type-item\"\r\n                  :class=\"{ active: formState.qa_index_type == item.value }\"\r\n                  v-for=\"item in qaIndexTypeList\"\r\n                  :key=\"item.value\"\r\n                  @click=\"handleChangeQaIndexType(item.value)\"\r\n                >\r\n                  <div class=\"right-block\">\r\n                    <div class=\"title-block\">\r\n                      <svg-icon\r\n                        :name=\"\r\n                          formState.qa_index_type == item.value\r\n                            ? item.iconNameActive\r\n                            : item.iconName\r\n                        \"\r\n                      ></svg-icon>\r\n                      <div class=\"title-text\">{{ item.title }}</div>\r\n                    </div>\r\n                    <div class=\"desc\">{{ item.desc }}</div>\r\n                  </div>\r\n                  <svg-icon\r\n                    class=\"check-arrow\"\r\n                    name=\"check-arrow-filled\"\r\n                    style=\"font-size: 24px; color: #fff\"\r\n                    v-if=\"formState.qa_index_type == item.value\"\r\n                  ></svg-icon>\r\n                </div>\r\n              </div>\r\n            </a-form-item>\r\n          </div>\r\n        </template>\r\n\r\n        <a-form-item :label=\"t('label_embedding_model')\" v-bind=\"validateInfos.use_model\">\r\n          <div class=\"card-box\" v-if=\"false\">\r\n            <div\r\n              class=\"use-model-item\"\r\n              :class=\"{ active: isActive == item.value }\"\r\n              v-for=\"item in libraryModeList\"\r\n              :key=\"item.value\"\r\n              @click=\"handleSelectLibrary(item)\"\r\n            >\r\n              <div class=\"use-model-item-top\" :class=\"{ active: isActive == item.value }\">\r\n                <svg-icon\r\n                  class=\"use-model-item-top-icon\"\r\n                  style=\"color: red\"\r\n                  :name=\"isActive == item.value ? item.iconNameActive : item.iconName\"\r\n                ></svg-icon>\r\n                <p>{{ item.title }}</p>\r\n              </div>\r\n              <p>{{ item.desc }}</p>\r\n              <svg-icon\r\n                class=\"check-arrow\"\r\n                name=\"check-arrow-filled\"\r\n                style=\"font-size: 24px; color: #fff\"\r\n                v-if=\"isActive == item.value\"\r\n              ></svg-icon>\r\n            </div>\r\n          </div>\r\n          <a-select\r\n            v-model:value=\"formState.use_model\"\r\n            :placeholder=\"t('ph_select_model')\"\r\n            @change=\"handleChangeModel\"\r\n          >\r\n            <a-select-opt-group v-for=\"item in modelList\" :key=\"item.id\">\r\n              <template #label>\r\n                <a-flex align=\"center\" :gap=\"6\">\r\n                  <img class=\"model-icon\" :src=\"item.icon\" alt=\"\" />{{ item.name }}\r\n                </a-flex>\r\n              </template>\r\n              <a-select-option\r\n                :value=\"\r\n                  modelDefine.indexOf(item.model_define) > -1 && val.deployment_name\r\n                    ? val.deployment_name\r\n                    : val.name + val.id\r\n                \"\r\n                :model_config_id=\"item.id\"\r\n                :current_obj=\"val\"\r\n                v-for=\"val in item.children\"\r\n                :key=\"val.name + val.id\"\r\n              >\r\n                <span v-if=\"modelDefine.indexOf(item.model_define) > -1 && val.deployment_name\">{{\r\n                  val.deployment_name\r\n                }}</span>\r\n                <span v-else>{{ val.name }}</span>\r\n              </a-select-option>\r\n            </a-select-opt-group>\r\n          </a-select>\r\n        </a-form-item>\r\n\r\n        <a-form-item :wrapper-col=\"{ span: 14, offset: 4 }\">\r\n          <a-button @click=\"resetForm\">{{ t('btn_cancel') }}</a-button>\r\n          <a-button\r\n            type=\"primary\"\r\n            style=\"margin-left: 16px\"\r\n            :loading=\"saveLoading\"\r\n            @click.prevent=\"onSubmit\"\r\n            >{{ t('btn_next') }}</a-button\r\n          >\r\n        </a-form-item>\r\n      </a-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, onMounted, computed } from 'vue'\r\nimport { Form, message } from 'ant-design-vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport UploadFile from './components/upload-input.vue'\r\nimport { createLibrary } from '@/api/library/index'\r\nimport { getModelConfigOption } from '@/api/model/index'\r\nimport AvatarInput from './components/avatar-input.vue'\r\nimport { LIBRARY_NORMAL_AVATAR, LIBRARY_OPEN_AVATAR } from '@/constants/index'\r\nimport { transformUrlData } from '@/utils/validate.js'\r\nimport { useStorage } from '@/hooks/web/useStorage'\r\nimport { duplicateRemoval, removeRepeat } from '@/utils/index'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.add-library.add-library')\r\n\r\nconst { getStorage, setStorage } = useStorage('localStorage')\r\n\r\n// 设置全局默认的duration为（2秒）\r\nmessage.config({\r\n  duration: 2\r\n})\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\n\r\nconst type = computed(() => {\r\n  return route.query.type || 0\r\n})\r\n\r\nconst modelDefine = ['azure', 'ollama', 'xinference', 'openaiAgent']\r\nconst oldModelDefineList = ['azure']\r\n\r\nconst libraryModeList = computed(() => [\r\n  {\r\n    iconName: 'high',\r\n    iconNameActive: 'high-active',\r\n    title: t('title_high_quality'),\r\n    value: 1,\r\n    is_offline: false,\r\n    desc: t('desc_high_quality')\r\n  }\r\n])\r\n\r\nconst documentTypeList = computed(() => {\r\n  const list = [\r\n    {\r\n      iconName: 'doc-icon',\r\n      iconNameActive: 'doc-icon-active',\r\n      title: t('title_local_doc'),\r\n      value: 1,\r\n      desc: type.value == 2 ? t('desc_local_doc_open') : t('desc_local_doc_normal')\r\n    },\r\n    {\r\n      iconName: 'link-icon',\r\n      iconNameActive: 'link-icon-active',\r\n      title: t('title_online_data'),\r\n      value: 2,\r\n      desc: t('desc_online_data')\r\n    },\r\n    {\r\n      iconName: 'cu-doc-icon',\r\n      iconNameActive: 'cu-doc-active',\r\n      title: t('title_custom_doc'),\r\n      value: 3,\r\n      desc: t('desc_custom_doc')\r\n    }\r\n  ]\r\n  if (type.value == 2) {\r\n    return list.filter((item) => item.value != 2)\r\n  }\r\n  return list\r\n})\r\n\r\nconst qaIndexTypeList = computed(() => [\r\n  {\r\n    iconName: 'file-search',\r\n    iconNameActive: 'file-search',\r\n    title: t('title_qa_index_both'),\r\n    value: 1,\r\n    desc: t('desc_qa_index_both')\r\n  },\r\n  {\r\n    iconName: 'comment-search',\r\n    iconNameActive: 'comment-search',\r\n    title: t('title_qa_index_question_only'),\r\n    value: 2,\r\n    desc: t('desc_qa_index_question_only')\r\n  }\r\n])\r\n\r\nconst useForm = Form.useForm\r\nconst saveLoading = ref(false)\r\n\r\nconst lastEmbeddedModel = computed(() => getStorage('lastEmbeddedModel') || {})\r\nconst isActive = ref(1)\r\nconst defaultAvatar = type.value == 0 ? LIBRARY_NORMAL_AVATAR : LIBRARY_OPEN_AVATAR\r\nconst formState = reactive({\r\n  type: type.value,\r\n  access_rights: 0,\r\n  library_name: '',\r\n  library_intro: '',\r\n  use_model: 'text-embedding-v2',\r\n  model_config_id: '',\r\n  library_files: undefined,\r\n  avatar: defaultAvatar,\r\n  avatar_file: undefined,\r\n  is_offline: false,\r\n  urls: '',\r\n  doc_type: 1,\r\n  file_name: '',\r\n  is_qa_doc: type.value == 2 ? 1 : 0, // 0 普通文档 1QA文档\r\n  qa_index_type: 1, // 1问题与答案一起生成索引 2仅对问题生成索引\r\n  doc_auto_renew_frequency: 1\r\n})\r\nconst currentModelDefine = ref('')\r\n\r\nconst validateFiles = (_rule, value) => {\r\n  if (type.value == 1) {\r\n    return Promise.resolve()\r\n  }\r\n\r\n  if ((value && value.length > 0) || formState.doc_type != 1) {\r\n    return Promise.resolve()\r\n  } else {\r\n    return Promise.reject(new Error(t('msg_upload_file')))\r\n  }\r\n}\r\n\r\nconst validateUrl = (_rule, value) => {\r\n  if (type.value == 1) {\r\n    return Promise.resolve()\r\n  }\r\n\r\n  if (formState.doc_type != 2) {\r\n    return Promise.resolve()\r\n  }\r\n  if (transformUrlData(value) === false) {\r\n    return Promise.reject(new Error(t('msg_invalid_url')))\r\n  }\r\n  return Promise.resolve()\r\n}\r\n\r\nconst rules = reactive({\r\n  library_name: [{ required: true, message: t('msg_enter_library_name'), trigger: 'change' }],\r\n  use_model: [{ required: true, message: t('msg_select_model'), trigger: 'change' }],\r\n  library_files: [\r\n    {\r\n      required: type.value == 0,\r\n      message: t('msg_select_file'),\r\n      trigger: 'change',\r\n      validator: validateFiles\r\n    }\r\n  ],\r\n  urls: [\r\n    {\r\n      required: type.value == 0,\r\n      validator: validateUrl\r\n    }\r\n  ],\r\n  file_name: [\r\n    {\r\n      required: type.value == 0,\r\n      validator: (_rule, value) => {\r\n        if (type.value == 1) {\r\n          return Promise.resolve()\r\n        }\r\n        if (formState.doc_type != 3 || value) {\r\n          return Promise.resolve()\r\n        } else {\r\n          return Promise.reject(new Error(t('msg_enter_doc_name')))\r\n        }\r\n      }\r\n    }\r\n  ]\r\n})\r\n\r\nconst { validate, validateInfos } = useForm(formState, rules)\r\n\r\nconst handleFileChange = (fileList) => {\r\n  formState.library_files = fileList\r\n}\r\n\r\nconst handleChangeModel = (val, option) => {\r\n  const self = option.current_obj\r\n  formState.use_model =\r\n    modelDefine.indexOf(self.model_define) > -1 && self.deployment_name\r\n      ? self.deployment_name\r\n      : self.name\r\n  currentModelDefine.value = self.model_define\r\n  formState.model_config_id = self.id || option.model_config_id\r\n  console.log(formState, '==')\r\n}\r\n\r\nconst onAvatarChange = (data) => {\r\n  formState.avatar = data.imageUrl\r\n  formState.avatar_file = data.file\r\n}\r\n\r\nconst handleSelectLibrary = (item) => {\r\n  formState.is_offline = item.is_offline\r\n  isActive.value = item.value\r\n  formState.use_model = undefined\r\n  getModelList(item.is_offline)\r\n}\r\n\r\nconst handleChangeUrlType = (type) => {\r\n  formState.doc_type = type\r\n}\r\n\r\nconst handleChangeQaIndexType = (type) => {\r\n  formState.qa_index_type = type\r\n}\r\n\r\nconst resetForm = () => {\r\n  router.back()\r\n}\r\n\r\nconst onSubmit = () => {\r\n  validate()\r\n    .then(() => {\r\n      saveForm()\r\n    })\r\n    .catch((err) => {\r\n      console.log(err, 'err')\r\n    })\r\n}\r\n\r\nconst saveForm = () => {\r\n  let formData = new FormData()\r\n\r\n  let newFormState = JSON.parse(JSON.stringify(formState)) // 深拷贝，不能改变原对象\r\n\r\n  if (oldModelDefineList.indexOf(currentModelDefine.value) > -1) {\r\n    // 传给后端的是默认，渲染的是真实名称\r\n    newFormState.use_model = '默认'\r\n  }\r\n\r\n  formData.append('type', formState.type)\r\n  formData.append('access_rights', formState.access_rights)\r\n  formData.append('library_name', formState.library_name)\r\n  formData.append('library_intro', formState.library_intro)\r\n  formData.append('use_model', newFormState.use_model)\r\n  formData.append('model_config_id', formState.model_config_id)\r\n  formData.append('avatar', formState.avatar_file ? formState.avatar_file : '')\r\n  formData.append('is_offline', formState.is_offline)\r\n  formData.append('urls', JSON.stringify(transformUrlData(formState.urls)))\r\n  formData.append('doc_type', formState.doc_type)\r\n  formData.append('file_name', formState.file_name)\r\n  formData.append('is_qa_doc', formState.is_qa_doc)\r\n  formData.append('qa_index_type', formState.qa_index_type)\r\n  formData.append('doc_auto_renew_frequency', formState.doc_auto_renew_frequency)\r\n  formData.append('is_default', 2)\r\n\r\n  // “嵌入模型”记住用户上次选择\r\n  setStorage('lastEmbeddedModel', {\r\n    // model_config_id: formState.model_config_id,\r\n    // is_offline: formState.is_offline,\r\n    // use_model: formState.use_model,\r\n    // isActive: isActive.value\r\n  })\r\n  let isTableType = false\r\n\r\n  if (type.value == 0 || type.value == 2) {\r\n    if (formState.doc_type == 1) {\r\n      formState.library_files.forEach((file) => {\r\n        if (file.name.includes('.xlsx') || file.name.includes('.csv')) {\r\n          isTableType = true\r\n        }\r\n        formData.append('library_files', file)\r\n      })\r\n    }\r\n  }\r\n\r\n  saveLoading.value = true\r\n\r\n  createLibrary(formData)\r\n    .then((res) => {\r\n      message.success(t('msg_create_success'))\r\n      // 对外知识库\r\n      if (type.value == 1) {\r\n        router.replace({\r\n          path: '/public-library/config',\r\n          query: {\r\n            library_id: res.data.id\r\n          }\r\n        })\r\n\r\n        saveLoading.value = false\r\n\r\n        return\r\n      }\r\n\r\n      let path = '/library/details/knowledge-document'\r\n      let query = {\r\n        id: res.data.id\r\n      }\r\n\r\n      if (isTableType) {\r\n        path = '/library/document-segmentation'\r\n        query = {\r\n          document_id: res.data.file_ids[0]\r\n        }\r\n      }\r\n      if (formState.doc_type == 3) {\r\n        path = '/library/preview'\r\n        query = {\r\n          id: res.data.file_ids[0]\r\n        }\r\n      }\r\n      router.replace({\r\n        path,\r\n        query\r\n      })\r\n      saveLoading.value = false\r\n    })\r\n    .catch(() => {\r\n      saveLoading.value = false\r\n    })\r\n}\r\n\r\n// 获取嵌入模型列表\r\nconst modelList = ref([])\r\n\r\nfunction uniqueArr(arr, arr1, key) {\r\n  const keyVals = new Set(arr.map((item) => item.model_define))\r\n  arr1.filter((obj) => {\r\n    let val = obj[key]\r\n    if (keyVals.has(val)) {\r\n      arr.filter((obj1) => {\r\n        if (obj1.model_define == val) {\r\n          obj1.children = removeRepeat(obj1.children, obj.children)\r\n          return false\r\n        }\r\n      })\r\n    }\r\n  })\r\n  return arr\r\n}\r\n\r\nconst getModelList = (is_offline) => {\r\n  getModelConfigOption({\r\n    model_type: 'TEXT EMBEDDING',\r\n    is_offline\r\n  }).then((res) => {\r\n    let list = res.data || []\r\n    let children = []\r\n    // let isCheckId = false\r\n    // 没有模型选项则不用缓存中的记录上传模型选择\r\n    // if (!list.length && lastEmbeddedModel.value.model_config_id) {\r\n    //   formState.use_model = undefined\r\n    //   removeStorage('lastEmbeddedModel')\r\n    // }\r\n\r\n    modelList.value = list.map((item) => {\r\n      children = []\r\n      for (let i = 0; i < item.model_info.vector_model_list.length; i++) {\r\n        const ele = item.model_info.vector_model_list[i]\r\n        children.push({\r\n          name: ele,\r\n          deployment_name: item.model_config.deployment_name,\r\n          id: item.model_config.id,\r\n          model_define: item.model_info.model_define\r\n        })\r\n      }\r\n      if (item.model_config.id == lastEmbeddedModel.value.model_config_id) {\r\n        // 有缓存的id\r\n        // isCheckId = true\r\n      }\r\n      return {\r\n        id: item.model_config.id,\r\n        name: item.model_info.model_name,\r\n        model_define: item.model_info.model_define,\r\n        icon: item.model_info.model_icon_url,\r\n        children: children,\r\n        deployment_name: item.model_config.deployment_name\r\n      }\r\n    })\r\n\r\n    // if (!isCheckId) {\r\n    //   // 如果获取的模型列表没有缓存的这个,则清除缓存的模型\r\n    //   formState.use_model = undefined\r\n    //   removeStorage('lastEmbeddedModel')\r\n    // }\r\n\r\n    // 如果modelList存在两个相同model_define情况就合并到一个对象的children中去\r\n    modelList.value = uniqueArr(\r\n      duplicateRemoval(modelList.value, 'model_define'),\r\n      modelList.value,\r\n      'model_define'\r\n    )\r\n    modelList.value.forEach((item) => {\r\n      if (item.model_define == 'chatwiki') {\r\n        formState.model_config_id = item.id\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nonMounted(() => {\r\n  getModelList(false)\r\n})\r\n</script>\r\n"],"names":["t","useI18n","getStorage","setStorage","useStorage","message","router","useRouter","route","useRoute","type","computed","modelDefine","oldModelDefineList","libraryModeList","documentTypeList","list","item","qaIndexTypeList","useForm","Form","saveLoading","ref","lastEmbeddedModel","isActive","defaultAvatar","LIBRARY_NORMAL_AVATAR","LIBRARY_OPEN_AVATAR","formState","reactive","currentModelDefine","validateFiles","_rule","value","validateUrl","transformUrlData","rules","validate","validateInfos","handleFileChange","fileList","handleChangeModel","val","option","self","onAvatarChange","data","handleSelectLibrary","getModelList","handleChangeUrlType","handleChangeQaIndexType","resetForm","onSubmit","saveForm","err","formData","newFormState","isTableType","file","createLibrary","res","path","query","modelList","uniqueArr","arr","arr1","key","keyVals","obj","obj1","removeRepeat","is_offline","getModelConfigOption","children","i","ele","duplicateRemoval","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_a_form","_component_a_form_item","_mergeProps","_unref","_component_a_input","_cache","$event","_component_a_textarea","AvatarInput","_hoisted_3","_toDisplayString","_Fragment","_hoisted_4","_renderList","_normalizeClass","_hoisted_6","_hoisted_7","_component_svg_icon","_hoisted_8","_hoisted_9","_createBlock","_withDirectives","UploadFile","_vShow","_component_a_select","_component_a_select_option","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_component_a_select_opt_group","_component_a_flex","_createTextVNode","_hoisted_19","_hoisted_20","_component_a_button"],"mappings":"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"}