import{a9 as x,f as r,o as b,a1 as d,_ as f}from"./vue-chunks-DCKTEHpB.js";import{L as _}from"./list-tabs-BOqV1hiy.js";import{t as k,b as I}from"./index-BsqRrb1q.js";const P={__name:"main-tab",emits:["change"],setup(S,{expose:c,emit:p}){const g=p,l=x(),n=r(localStorage.getItem("zm:explore:active")||"1"),s=r([{title:"模板广场",value:"4"},{title:"功能",value:"1"},{title:`插件(${localStorage.getItem("zm:explore:plugins:count")||"0"})`,value:"2"},{title:"插件广场",value:"3"},{title:"MCP广场",value:"5"}]);b(()=>{i()});function o(e){switch(n.value=e.toString(),localStorage.setItem("zm:explore:active",e),g("change",e),Number(e)){case 1:l.push({path:"/explore/index"});break;case 2:case 3:l.push({path:"/plugins/index",query:{active:e}});break;case 4:l.push({path:"/templates/index"});break;case 5:l.push({path:"/mcp/index"});break}}async function i(){let t=(await k()).data.length;I().then(a=>{let u=(a==null?void 0:a.data)||[],h=s.value.find(v=>v.value==2);h.title=`插件(${u.length+t})`,localStorage.setItem("zm:explore:plugins:count",u.length+t)})}function m(){i()}return c({change:o,update:m}),(e,t)=>(f(),d(_,{tabs:s.value,value:n.value,"onUpdate:value":t[0]||(t[0]=a=>n.value=a),onChange:o},null,8,["tabs","value"]))}};export{P as _};
