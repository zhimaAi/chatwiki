import{_ as x,d as H}from"../../index-C5-B0r5-.js";import{ac as k,ad as b,as as h,n as C,at as O,A as N,F as L,ax as X,e as Y,k as E,f as F,o as P,y as U,D as V,ak as $}from"./vue-chunks-CGLjTDrY.js";import{B as m,M as R,S as q,P as G}from"./pull-up.esm-DIiTC7VE.js";import{O as Z}from"./observe-dom.esm-B25JyVKH.js";const W={name:"NodeCommon",props:{title:{type:String,default:""}},data(){return{isShowMenu:!1,menus:[{label:"10%",value:.1},{label:"50%",value:.5},{label:"100%",value:1},{label:"200%",value:2},{label:"300%",value:3},{label:"400%",value:4},{label:"500%",value:5}]}},mounted(){document.addEventListener("click",this.documentClick)},beforeUnmount(){document.removeEventListener("click",this.documentClick)},methods:{handleMenu(t){this.$emit("change",t)},showMenu(){this.isShowMenu=!this.isShowMenu},documentClick(t){this.isShowMenu&&!this.$el.querySelector(".zoom-select-options").contains(t.target)&&t.target!==this.$el.querySelector(".zoom-select-label")&&(this.isShowMenu=!1)}}},K={class:"zoom-select"},J={class:"zoom-select-options"},Q=["onClick"];function j(t,e,n,r,o,s){return b(),k("div",K,[h("div",{class:"zoom-select-label",onClick:e[0]||(e[0]=(...a)=>s.showMenu&&s.showMenu(...a))},O(n.title),1),C(h("div",J,[(b(!0),k(L,null,X(o.menus,a=>(b(),k("div",{class:"zoom-select-option",key:a.value,onClick:u=>s.handleMenu(a)},O(a.label),9,Q))),128)),e[2]||(e[2]=h("div",{class:"option-line"},null,-1)),h("div",{class:"zoom-select-option",onClick:e[1]||(e[1]=a=>s.handleMenu({label:"5%",value:5}))},"全览")],512),[[N,o.isShowMenu]])])}const ee=x(W,[["render",j],["__scopeId","data-v-223f6542"]]),te={class:"custom-control-warpper"},ne={class:"custom-control"},re={__name:"index",props:{value:{type:Number,default:1}},emits:["change"],setup(t,{emit:e}){const n=e,r=t,o=Y(()=>`${(r.value*100).toFixed(0)}%`),s=({value:i})=>{l(i)},a=()=>{let i=r.value-.1;i<.1&&(i=.1),l(i)},u=()=>{let i=r.value+.1;i>5&&(i=5),l(i)},l=i=>{i=Number(i.toFixed(1)),n("change",i)};return(i,f)=>{const c=H;return b(),k("div",te,[h("div",ne,[h("div",{class:"action-btn zoom-btn",onClick:a},[E(c,{name:"minus",size:"16"})]),E(ee,{onChange:s,title:o.value},null,8,["title"]),h("div",{class:"action-btn zoom-btn",onClick:u},[E(c,{name:"plus",size:"16"})])])])}}},Ee=x(re,[["__scopeId","data-v-f2e37dca"]]);/*!
 * better-scroll / nested-scroll
 * (c) 2016-2023 ustbhuangyi
 * Released under the MIT License.
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function D(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var s=arguments[e],a=0,u=s.length;a<u;a++,o++)r[o]=s[a];return r}function oe(t){console.error("[BScroll warn]: "+t)}var _=typeof window<"u",M=_&&navigator.userAgent.toLowerCase();M&&M.indexOf("android")>0;(function(){if(typeof M=="string"){var t=/os (\d\d?_\d(_\d)?)/,e=t.exec(M);if(!e)return!1;var n=e[1].split("_").map(function(r){return parseInt(r,10)});return n[0]===13&&n[1]>=4}return!1})();var se=!1;if(_){var ae="test-passive";try{var z={};Object.defineProperty(z,"passive",{get:function(){se=!0}}),window.addEventListener(ae,function(){},z)}catch{}}var ie=function(t,e){for(var n in e)t[n]=e[n];return t};function S(t,e){if(t.findIndex)return t.findIndex(e);var n=-1;return t.some(function(r,o,s){var a=e(r,o,s);if(a)return n=o,a}),n}var I=_&&document.createElement("div").style,y=(function(){if(!_)return!1;for(var t=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],e=0,n=t;e<n.length;e++){var r=n[e];if(I[r.value]!==void 0)return r.key}return!1})();function v(t){return y===!1?t:y==="standard"?t==="transitionEnd"?"transitionend":t:y+t.charAt(0).toUpperCase()+t.substr(1)}y&&y!=="standard"&&""+y.toLowerCase();v("transform");v("transition");_&&v("perspective")in I;v("transitionTimingFunction"),v("transitionDuration"),v("transitionDelay"),v("transformOrigin"),v("transitionEnd"),v("transitionProperty");var le=(function(){function t(e){this.ancestors=[],this.descendants=[],this.hooksManager=[],this.analyzed=!1,this.selfScroll=e}return t.create=function(e){return new t(e)},t.prototype.hasAncestors=function(e){var n=S(this.ancestors,function(r){var o=r[0];return o===e});return n>-1},t.prototype.hasDescendants=function(e){var n=S(this.descendants,function(r){var o=r[0];return o===e});return n>-1},t.prototype.addAncestor=function(e,n){var r=this.ancestors;r.push([e,n]),r.sort(function(o,s){return o[1]-s[1]})},t.prototype.addDescendant=function(e,n){var r=this.descendants;r.push([e,n]),r.sort(function(o,s){return o[1]-s[1]})},t.prototype.removeAncestor=function(e){var n=this.ancestors;if(n.length){var r=S(this.ancestors,function(o){var s=o[0];return s===e});if(r>-1)return n.splice(r,1)}},t.prototype.removeDescendant=function(e){var n=this.descendants;if(n.length){var r=S(this.descendants,function(o){var s=o[0];return s===e});if(r>-1)return n.splice(r,1)}},t.prototype.registerHooks=function(e,n,r){e.on(n,r),this.hooksManager.push([e,n,r])},t.prototype.setAnalyzed=function(e){e===void 0&&(e=!1),this.analyzed=e},t.prototype.purge=function(){var e=this;this.ancestors.forEach(function(n){var r=n[0];r.removeDescendant(e)}),this.descendants.forEach(function(n){var r=n[0];r.removeAncestor(e)}),this.hooksManager.forEach(function(n){var r=n[0],o=n[1],s=n[2];r.off(o,s)}),this.hooksManager=[]},t})(),ce="plugins.nestedScroll",ue=[{key:"purgeNestedScroll",name:"purgeNestedScroll"}],fe=ue.map(function(t){return{key:t.key,sourceKey:ce+"."+t.name}}),de="INTERNAL_NESTED_SCROLL",pe=function(t){t.forEach(function(e){e.pending&&(e.stop(),e.resetPosition())})},T=function(t){t.forEach(function(e){e.enable()})},B=function(t,e){t.forEach(function(n){(n.hasHorizontalScroll===e.hasHorizontalScroll||n.hasVerticalScroll===e.hasVerticalScroll)&&n.disable()})},ve=function(t){t.forEach(function(e){var n=e.scroller,r=n.actions,o=n.scrollBehaviorX,s=n.scrollBehaviorY;r.fingerMoved=!0,r.contentMoved=!1,r.directionLockAction.reset(),o.start(),s.start(),o.resetStartPos(),s.resetStartPos(),r.startTime=+new Date})},he=function(t){var e=t.hasHorizontalScroll,n=t.hasVerticalScroll,r=t.x,o=t.y,s=t.minScrollX,a=t.maxScrollX,u=t.minScrollY,l=t.maxScrollY,i=t.movingDirectionX,f=t.movingDirectionY,c=!1,d=r>=s&&i===-1,p=r<=a&&i===1,g=o>=u&&f===-1,w=o<=l&&f===1;return n?c=g||w:e&&(c=d||p),c},me=function(t){var e=t.hasHorizontalScroll,n=t.hasVerticalScroll,r=t.x,o=t.y,s=t.minScrollX,a=t.maxScrollX,u=t.minScrollY,l=t.maxScrollY,i=!1,f=r>s,c=r<a,d=o>u,p=o<l;return n?i=d||p:e&&(i=f||c),i},Se=function(t){t.scroller.reflow(),t.resetPosition(0)},ye=function(t,e){for(var n=0,r=t.parentNode;r&&r!==e;)n++,r=r.parentNode;return n},ge=(function(){function t(e){var n=this.handleOptions(e),r=t.instancesMap[n];return r||(r=t.instancesMap[n]=this,r.store=[],r.hooksFn=[]),r.init(e),r}return t.getAllNestedScrolls=function(){var e=t.instancesMap;return Object.keys(e).map(function(n){return e[n]})},t.purgeAllNestedScrolls=function(){var e=t.getAllNestedScrolls();e.forEach(function(n){return n.purgeNestedScroll()})},t.prototype.handleOptions=function(e){var n=e.options.nestedScroll===!0?{}:e.options.nestedScroll,r={groupId:de};this.options=ie(r,n);var o=typeof this.options.groupId;return o!=="string"&&o!=="number"&&oe("groupId must be string or number for NestedScroll plugin"),this.options.groupId},t.prototype.init=function(e){e.proxy(fe),this.addBScroll(e),this.buildBScrollGraph(),this.analyzeBScrollGraph(),this.ensureEventInvokeSequence(),this.handleHooks(e)},t.prototype.handleHooks=function(e){var n=this;this.registerHooks(e.hooks,e.hooks.eventTypes.destroy,function(){n.deleteScroll(e)})},t.prototype.deleteScroll=function(e){var n=e.wrapper;n.isBScrollContainer=void 0;var r=this.store,o=this.hooksFn,s=S(r,function(d){return d.selfScroll===e});if(s>-1){var a=r[s];a.purge(),r.splice(s,1)}var u=S(o,function(d){var p=d[0];return p===e.hooks});if(u>-1){var l=o[u],i=l[0],f=l[1],c=l[2];i.off(f,c),o.splice(u,1)}},t.prototype.addBScroll=function(e){this.store.push(le.create(e))},t.prototype.buildBScrollGraph=function(){for(var e=this.store,n,r,o,s,a=this.store.length,u=0;u<a;u++){n=e[u],o=n.selfScroll.wrapper;for(var l=0;l<a;l++)if(r=e[l],s=r.selfScroll.wrapper,n!==r&&o.contains(s)){var i=ye(s,o);n.hasDescendants(r)||n.addDescendant(r,i),r.hasAncestors(n)||r.addAncestor(n,i)}}},t.prototype.analyzeBScrollGraph=function(){this.store.forEach(function(e){if(!e.analyzed){var n=e.ancestors,r=e.descendants,o=e.selfScroll,s=function(){var l=n.map(function(f){var c=f[0];return c.selfScroll}),i=r.map(function(f){var c=f[0];return c.selfScroll});pe(D(l,i)),me(o)&&Se(o),ve(l),B(l,o)},a=function(){var l=n.map(function(f){var c=f[0];return c.selfScroll}),i=r.map(function(f){var c=f[0];return c.selfScroll});T(D(l,i))};e.registerHooks(o,o.eventTypes.beforeScrollStart,s),e.registerHooks(o,o.eventTypes.touchEnd,a);var u=o.scroller.actions.hooks;e.registerHooks(u,u.eventTypes.detectMovingDirection,function(){var l=n.map(function(p){var g=p[0];return g.selfScroll}),i=l[0],f=l.slice(1),c=o.scroller.actions.contentMoved,d=l.length===0;if(c)B(l,o);else if(!d&&he(o))return B([o],o),i&&T([i]),B(f,o),!0}),e.setAnalyzed(!0)}})},t.prototype.ensureEventInvokeSequence=function(){var e=this.store.slice(),n=e.sort(function(r,o){return r.descendants.length-o.descendants.length});n.forEach(function(r){var o=r.selfScroll;o.scroller.actionsHandler.rebindDOMEvents()})},t.prototype.registerHooks=function(e,n,r){e.on(n,r,this),this.hooksFn.push([e,n,r])},t.prototype.purgeNestedScroll=function(){var e=this.options.groupId;this.store.forEach(function(n){n.purge()}),this.store=[],this.hooksFn.forEach(function(n){var r=n[0],o=n[1],s=n[2];r.off(o,s)}),this.hooksFn=[],delete t.instancesMap[e]},t.pluginName="nestedScroll",t.instancesMap={},t})();const ke={class:"scroll-content"},be={__name:"cu-scroll",props:{scrollX:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!0},scrollbar:{type:[Boolean,Object],default:null},pullUpLoad:{type:[Boolean,Object],default:!0},groupId:{type:String,default:""}},emits:["onScrollEnd","scroll"],setup(t,{expose:e,emit:n}){m.use(R),m.use(q),m.use(Z),m.use(G),m.use(ge);const r=n,o=t,s=F(null);let a=null;const u=()=>{a.refresh()},l=c=>{let{el:d,time:p,offsetX:g,offsetY:w,easing:A}=c;a.scrollToElement(d,p,g,w,A)},i=()=>{a.enable()},f=()=>{a.disable()};return P(()=>{let c={scrollX:o.scrollX,scrollY:o.scrollY,scrollbar:o.scrollbar||{},observeDOM:!0,pullUpLoad:o.pullUpLoad,probeType:0,mouseWheel:{speed:20,invert:!1,easeTime:300},preventDefault:!1,bounce:!1,click:!0};o.groupId&&(c.nestedScroll={groupId:o.groupId}),a=new m(s.value,c),a.on("pullingUp",()=>{r("onScrollEnd"),U(()=>{a.finishPullUp()})}),a.on("scroll",d=>{r("scroll",d)})}),V(()=>{a&&a.destroy()}),e({refresh:u,scrollToElement:l,enable:i,disable:f}),(c,d)=>(b(),k("div",{class:"scroll-wrapper",ref_key:"scroller",ref:s},[h("div",ke,[$(c.$slots,"default",{},void 0,!0)])],512))}},xe=x(be,[["__scopeId","data-v-feb19931"]]);export{xe as C,Ee as Z};
