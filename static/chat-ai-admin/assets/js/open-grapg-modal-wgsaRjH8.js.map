{"version":3,"file":"open-grapg-modal-wgsaRjH8.js","sources":["../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/components/open-grapg-modal.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <a-modal v-model:open=\"open\" :title=\"t('title_select_graph_model')\" @ok=\"handleOk\">\r\n      <div>\r\n        <div class=\"desc-text\">{{ t('desc_graph_function') }}</div>\r\n        <ModelSelect\r\n          modelType=\"LLM\"\r\n          v-model:modeName=\"formState.graph_use_model\"\r\n          v-model:modeId=\"formState.graph_model_config_id\"\r\n          style=\"width: 300px\"\r\n          @change=\"onChangeModel\"\r\n        />\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, nextTick, createVNode } from 'vue'\r\nimport ModelSelect from '@/components/model-select/model-select.vue'\r\nimport { Modal } from 'ant-design-vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.library-details.components.open-grapg-modal')\r\nconst open = ref(false)\r\nconst running = ref(false)\r\nconst params = ref({})\r\nconst formState = reactive({\r\n  graph_use_model: '',\r\n  graph_model_config_id: ''\r\n})\r\n\r\nconst emit = defineEmits(['ok'])\r\nconst show = (data) => {\r\n  if (running.value) {\r\n    return\r\n  }\r\n  running.value = true\r\n  openConfirm()\r\n  params.value = JSON.parse(JSON.stringify(data))\r\n}\r\n\r\nconst onChangeModel = () => {}\r\n\r\nconst openConfirm = () => {\r\n  Modal.confirm({\r\n    title: t('title_confirm_enable_graph'),\r\n    icon: null,\r\n    content: createVNode('div', { style: 'color: #262626;' }, [\r\n      createVNode('span', {}, t('msg_graph_llm_dependency')),\r\n      createVNode('span', { style: 'color:red;' }, t('warning_token_consumption')),\r\n      createVNode(\r\n        'span',\r\n        {},\r\n        t('desc_graph_capability')\r\n      )\r\n    ]),\r\n    okText: t('btn_confirm_enable'),\r\n    cancelText: t('btn_later'),\r\n    onOk() {\r\n      open.value = true\r\n      running.value = false\r\n      nextTick(() => {\r\n        formState.graph_use_model = params.value.graph_use_model\r\n        formState.graph_model_config_id = params.value.graph_model_config_id\r\n      })\r\n    },\r\n    onCancel: () => running.value = false\r\n  })\r\n}\r\n\r\nconst handleOk = () => {\r\n  open.value = false\r\n  emit('ok', {...formState})\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.desc-text {\r\n  color: #8c8c8c;\r\n  margin-bottom: 12px;\r\n}\r\n</style>\r\n"],"names":["t","useI18n","open","ref","running","params","formState","reactive","emit","__emit","show","data","openConfirm","onChangeModel","Modal","createVNode","nextTick","handleOk","__expose","_createElementBlock","_createVNode","_component_a_modal","$event","_unref","_createElementVNode","_hoisted_1","_toDisplayString","ModelSelect","_cache"],"mappings":"+XAuBA,KAAM,CAAE,EAAAA,CAAC,EAAKC,EAAQ,2DAA2D,EAC3EC,EAAOC,EAAI,EAAK,EAChBC,EAAUD,EAAI,EAAK,EACnBE,EAASF,EAAI,EAAE,EACfG,EAAYC,EAAS,CACzB,gBAAiB,GACjB,sBAAuB,EACzB,CAAC,EAEKC,EAAOC,EACPC,EAAQC,GAAS,CACjBP,EAAQ,QAGZA,EAAQ,MAAQ,GAChBQ,EAAW,EACXP,EAAO,MAAQ,KAAK,MAAM,KAAK,UAAUM,CAAI,CAAC,EAChD,EAEME,EAAgB,IAAM,CAAC,EAEvBD,EAAc,IAAM,CACxBE,EAAM,QAAQ,CACZ,MAAOd,EAAE,4BAA4B,EACrC,KAAM,KACN,QAASe,EAAY,MAAO,CAAE,MAAO,iBAAiB,EAAI,CACxDA,EAAY,OAAQ,CAAA,EAAIf,EAAE,0BAA0B,CAAC,EACrDe,EAAY,OAAQ,CAAE,MAAO,YAAY,EAAIf,EAAE,2BAA2B,CAAC,EAC3Ee,EACE,OACA,CAAA,EACAf,EAAE,uBAAuB,CACjC,CACA,CAAK,EACD,OAAQA,EAAE,oBAAoB,EAC9B,WAAYA,EAAE,WAAW,EACzB,MAAO,CACLE,EAAK,MAAQ,GACbE,EAAQ,MAAQ,GAChBY,EAAS,IAAM,CACbV,EAAU,gBAAkBD,EAAO,MAAM,gBACzCC,EAAU,sBAAwBD,EAAO,MAAM,qBACjD,CAAC,CACH,EACA,SAAU,IAAMD,EAAQ,MAAQ,EACpC,CAAG,CACH,EAEMa,EAAW,IAAM,CACrBf,EAAK,MAAQ,GACbM,EAAK,KAAM,CAAC,GAAGF,CAAS,CAAC,CAC3B,EAEA,OAAAY,EAAa,CACX,KAAAR,CACF,CAAC,+BA7ECS,EAaM,MAAA,KAAA,CAZJC,EAWUC,EAAA,CAXO,KAAMnB,EAAA,qCAAAA,EAAI,MAAAoB,GAAG,MAAOC,EAAAvB,CAAA,EAAC,0BAAA,EAA+B,KAAIiB,cACvE,IASM,CATNO,EASM,MAAA,KAAA,CARJA,EAA2D,MAA3DC,EAA2DC,EAAjCH,EAAAvB,CAAA,EAAC,qBAAA,CAAA,EAAA,CAAA,EAC3BoB,EAMEO,EAAA,CALA,UAAU,MACF,SAAUrB,EAAU,gBAAV,oBAAAsB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAN,GAAAhB,EAAU,gBAAegB,GACnC,OAAQhB,EAAU,sBAAV,kBAAAsB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAN,GAAAhB,EAAU,sBAAqBgB,GAC/C,MAAA,CAAA,MAAA,OAAA,EACC,SAAQT"}