import{_ as U,b as B,a as I,d as O,J as V,K as T}from"../../index-WMhSApoa.js";import{Q as q,al as z,am as F,I as G,B as N,b as u,M as Y,W as Z}from"./ui-antd-BDReVt-O.js";import{f as m,r as A,o as E,ac as J,as as o,k as n,at as t,u as c,ar as k,ad as D,G as g}from"./vue-chunks-CGLjTDrY.js";import"./neo4j-CK9lNpyi.js";import"./utils-DXEytJvC.js";import"./other-BrZCAsTs.js";const H={class:"aliocr-main"},K={class:"aliocr-title"},L={class:"aliocr-switch-box"},Q={class:"aliocr-switch-nav-box"},W={class:"aliocr-switch-nav-title"},$={class:"aliocr-info"},j={class:"aliocr-switch-btn-box"},P={class:"aliocr-config-box"},R={class:"aliocr-config-nav"},X={class:"aliocr-config-nav-title"},ee={class:"aliocr-config-form"},oe={class:"aliocr-config-form-item"},ce={class:"aliocr-config-form-label"},se={class:"aliocr-config-form-item"},ae={class:"aliocr-config-form-label"},ie={class:"aliocr-config-form-item"},te={class:"aliocr-config-form-label"},ne={__name:"index",setup(le){const{t:e}=B("views.user.aliocr.index"),r=m(!1),a=A({ali_ocr_key:"",ali_ocr_secret:""}),d=m(!1),l=I(),h=async()=>{await l.getCompanyInfo()};function f(){if(!a.ali_ocr_key)return e("accesskey_id_required");if(!a.ali_ocr_secret)return e("accesskey_secret_required")}const y=i=>{i&&f()?(r.value=!r.value,Y.confirm({title:e("modal_title"),icon:n(Z),content:e("modal_content"),okText:e("modal_ok"),cancelText:null,okCancel:!1,onOk(){},onCancel(){}})):p()},w=()=>{const i=f();if(i)return u.error(i);d.value=!0,V({...a}).then(s=>{u.success(e("test_success"))}).finally(()=>{d.value=!1})},p=()=>{const i=f();if(i)return u.error(i);d.value=!0,T({ali_ocr_switch:r.value?1:2,...a}).then(s=>{u.success(e("save_success")),h()}).finally(()=>{d.value=!1})},x=i=>{window.open(i)};return E(async()=>{await h(),l.ali_ocr_key&&(a.ali_ocr_key=l.ali_ocr_key),l.ali_ocr_secret&&(a.ali_ocr_secret=l.ali_ocr_secret),l.ali_ocr_switch&&(r.value=l.ali_ocr_switch==1)}),(i,s)=>{const b=O,C=q,v=G,S=N,M=z;return D(),J("div",H,[o("div",K,t(c(e)("title")),1),o("div",L,[o("div",Q,[n(b,{name:"ali-ocr",style:{"font-size":"24px",color:"#FF5915"}}),o("div",W,t(c(e)("switch_title")),1)]),o("div",$,t(c(e)("switch_info")),1),o("div",j,[n(C,{onChange:y,checked:r.value,"onUpdate:checked":s[0]||(s[0]=_=>r.value=_),"checked-children":c(e)("switch_on"),"un-checked-children":c(e)("switch_off"),checkedValue:!0,unCheckedValue:!1},null,8,["checked","checked-children","un-checked-children"])])]),n(M,{tip:c(e)("loading"),spinning:d.value},{default:k(()=>[o("div",P,[o("div",R,[n(c(F),{style:{"font-size":"16px"}}),o("div",X,t(c(e)("config_title")),1),s[4]||(s[4]=o("div",{class:"aliocr-config-nav-line"},null,-1)),o("div",{class:"alicor-config-nav-url",onClick:s[1]||(s[1]=_=>x("https://www.aliyun.com/product/ai/docmind?spm=5176.28536895.J_kUfM_yzYYqU72woCZLHoY.6.28bd586cZUeowZ"))},t(c(e)("config_help_link")),1)]),o("div",ee,[o("div",oe,[o("div",ce,t(c(e)("accesskey_id_label")),1),n(v,{value:a.ali_ocr_key,"onUpdate:value":s[2]||(s[2]=_=>a.ali_ocr_key=_),placeholder:c(e)("accesskey_id_placeholder")},null,8,["value","placeholder"])]),o("div",se,[o("div",ae,t(c(e)("accesskey_secret_label")),1),n(v,{value:a.ali_ocr_secret,"onUpdate:value":s[3]||(s[3]=_=>a.ali_ocr_secret=_),placeholder:c(e)("accesskey_secret_placeholder")},null,8,["value","placeholder"])]),o("div",ie,[o("div",te,[g(t(c(e)("after_config"))+" ",1),o("div",{class:"alicor-config-nav-url",onClick:w},t(c(e)("test_btn")),1)]),n(S,{type:"primary",onClick:p},{default:k(()=>[g(t(c(e)("save_btn")),1)]),_:1})])])])]),_:1},8,["tip","spinning"])])}}},he=U(ne,[["__scopeId","data-v-5ccdec6e"]]);export{he as default};
