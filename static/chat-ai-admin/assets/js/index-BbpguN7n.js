import{y as k,n as O}from"./neo4j-L2Hgpmga.js";import"./ui-antd-AfNpv4wx.js";import"./vue-chunks-CGLjTDrY.js";import"./utils-COBjqVvs.js";function p(a,t){return Object.keys(t).reduce(function(e,i){if(i.startsWith(a)){var r=i.substr(a.length);e[r]=t[i]}return e},{})}function D(a,t){var e=document.createElement("a");e.href=t;var i=e.search.slice(1),r=i.split("&").reduce(function(v,P){var j=P.split("="),b=j[0],S=j[1];return v[b]=k(S),v},{}),s=[],f=r.ajs_uid,m=r.ajs_event,c=r.ajs_aid,n=O(a.options.useQueryString)?a.options.useQueryString:{},u=n.aid,l=u===void 0?/.+/:u,_=n.uid,y=_===void 0?/.+/:_;if(c){var o=Array.isArray(r.ajs_aid)?r.ajs_aid[0]:r.ajs_aid;l.test(o)&&a.setAnonymousId(o)}if(f){var d=Array.isArray(r.ajs_uid)?r.ajs_uid[0]:r.ajs_uid;if(y.test(d)){var A=p("ajs_trait_",r);s.push(a.identify(d,A))}}if(m){var h=Array.isArray(r.ajs_event)?r.ajs_event[0]:r.ajs_event,g=p("ajs_prop_",r);s.push(a.track(h,g))}return Promise.all(s)}export{D as queryString};
