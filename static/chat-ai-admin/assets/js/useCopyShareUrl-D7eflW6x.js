import{u as b}from"./index-B6dthf0K.js";import{bE as m}from"../../index-0SFcfYGN.js";import{aa as f}from"./vue-chunks-BSjLwu6d.js";import{a,M as h}from"./ui-antd-BIopZvX3.js";const k=()=>{const t=m(),e=f();return{copyShareUrl:async i=>{const{access_rights:c,share_url:o,id:n,library_key:l}=t.libraryInfo,u=()=>{e.push({path:"/public-library/permissions",query:{library_id:n,library_key:l}})},s=r=>{h.confirm({title:"提示",content:r,okText:"立即配置",cancelText:"取消",onOk:u})};if(!o){s("复制链接需要先配置自定义域名，是否立即前往配置？");return}if(c!=1){s("仅公开文档支持复制链接，是否立即前往设置访问权限？");return}const{toClipboard:p}=b(),y=o+i;try{await p(y),a.success("复制成功")}catch(r){console.error("复制失败:",r),a.error("复制失败")}}}};export{k as u};
