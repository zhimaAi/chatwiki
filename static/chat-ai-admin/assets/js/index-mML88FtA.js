import{u as q,_ as h,bR as w}from"../../index-DSFcP5NQ.js";import{ah as v,c as k,r as I,G as _,x as m,a as g,b as l,y as u,t as b,F as B,l as E,e as y,u as $,_ as R,v as x,d as A,p as n}from"./vue-chunks-BdaA73Wf.js";import{_ as D}from"./emoji-mart-BBMRoEa3.js";import{g as L,f as K,aa as N}from"./ui-antd-Dl1wwwCD.js";import{u as O}from"./database-BsbmdMVu.js";import{_ as V,A as F}from"./add-data-sheet-B3OukkAC.js";import"./neo4j-MWxXN7EM.js";import"./editor-cherry-CFIsbKoN.js";import"./lodash-Bm5sK6rN.js";import"./elkjs-BN8GIjVH.js";import"./utils-CvB22N-W.js";import"./other-LrIFyvU9.js";import"./index-p9HhDhmV.js";const G={class:"left-menu-box"},P={__name:"left-menus",emits:["changeMenu"],setup(e,{emit:s}){const{t}=q("views.database.database-detail.components.left-menus"),a=s,o=v(),i=o.query,r=k(()=>[o.path.split("/")[3]]),p=I([{key:"field-manage",id:"field-manage",icon:()=>_("span",{},[_(h,{name:"field-menu-icon",class:"menu-icon"})]),label:t("menu_field_manage"),title:t("menu_field_manage"),path:"/database/details/field-manage"},{key:"database-manage",id:"database-manage",icon:()=>_("span",{},[_(h,{name:"database-menu-icon",class:"menu-icon"})]),label:t("menu_database_manage"),title:t("menu_database_manage"),path:"/database/details/database-manage"}]),f=({item:d})=>{r.value.includes(d.id)||a("changeMenu",d)};return(d,Z)=>{const S=L,C=m("router-link"),M=K;return l(),g("div",G,[u(M,{class:"left-menu",selectedKeys:r.value,onClick:f},{default:b(()=>[(l(!0),g(B,null,E(p.value,c=>(l(),y(C,{class:"default-color",to:{path:c.path,query:$(i)},key:c.key},{default:b(()=>[(l(),y(S,{icon:c.icon,path:c.path,key:c.key},{default:b(()=>[R(x(c.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},T=D(P,[["__scopeId","data-v-6b7bc34e"]]),j=A({components:{LeftMenus:T,AddDataSheet:F,EditOutlined:N},async beforeRouteEnter(e,s,t){let a=w(e.query.form_id);if(a==0||a==1){t("/no-permission");return}t()},setup(){const e=O(),t=v().query,a=k(()=>e.databaseInfo),o=()=>{e.getDatabaseInfo({id:t.form_id})};o();const i=I(null);return{dataBaseInfo:a,getInfo:o,toEdit:()=>{i.value.show({...e.databaseInfo})},addDataSheetRef:i}}}),z={class:"details-library-page"},H={class:"between-content-box"},J={class:"layout-left"},Q={class:"library-name-box"},U={class:"name"},W={class:"left-menu-box"},X={class:"right-content-box"};function Y(e,s,t,a,o,i){const r=h,p=m("LeftMenus"),f=m("router-view"),d=m("AddDataSheet");return l(),g("div",z,[n("div",H,[n("div",J,[n("div",Q,[s[0]||(s[0]=n("img",{class:"avatar",src:V,alt:""},null,-1)),n("div",U,x(e.dataBaseInfo.name),1),u(r,{onClick:e.toEdit,name:"edit"},null,8,["onClick"])]),n("div",W,[u(p)])]),n("div",X,[u(f)])]),u(d,{onOk:e.getInfo,ref:"addDataSheetRef"},null,8,["onOk"])])}const me=D(j,[["render",Y],["__scopeId","data-v-91ef85c9"]]);export{me as default};
//# sourceMappingURL=index-mML88FtA.js.map
