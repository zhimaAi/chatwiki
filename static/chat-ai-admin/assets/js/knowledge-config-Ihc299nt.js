import{_ as D,e as x,c as G}from"../../index-BokOG9ZU.js";import{a0 as Q,A as C,r as c,L as t,M as i,V as r,j as l,Q as n,U as I,u as L,F as d,a1 as p,a2 as B,Y as f,P as v,a8 as R}from"./vue-chunks-XoCroLmQ.js";import{h as Y,m as $}from"./index-CbAgVi9e.js";/* empty css                                                                         */import{F,_ as H}from"./index-fISAHuLd.js";import"./index-BitUTYbL.js";import{I as J}from"./Input-CUxLS_nc.js";import{_ as K}from"./TextArea-TiJWDxF4.js";import{S as T,a as W,_ as X}from"./index-DgLLvjt3.js";import"./dayjs-D8VPPBbu.js";import"./axios-Cm0UX6qg.js";import"./qs-D73tJGQG.js";import"./crypto-js-D323TfIu.js";import"./colors-Cfqlh7qR.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./responsiveObserve-Cyut9UHK.js";import"./collapseMotion-DWwsCVG2.js";import"./index-BOYSy9Pq.js";import"./QuestionCircleOutlined-DEWzrvxy.js";import"./FormItemContext-Ch_K4tn1.js";import"./index-Co375E0k.js";import"./Search-CbUpX_hw.js";import"./SearchOutlined-BfUHdq7e.js";import"./inputProps-CWzf5mAp.js";import"./Password-D_H-hnpK.js";import"./index-CnyiohbP.js";import"./slide-BpJSAeCl.js";import"./isMobile-D_4OiXLP.js";import"./CheckOutlined-Byfa85ke.js";import"./DownOutlined-I-3QmTPt.js";import"./move-ChusaJh2.js";const Z={class:"add-library-page"},ee={class:"form-box"},oe={class:"card-box"},ae=["onClick"],te=["src"],re={__name:"knowledge-config",setup(le){const b=Q(),N=b.query,o=C({library_name:"",library_intro:"",use_model:"",is_offline:""}),_=c(0),y=c({});(()=>{Y({id:N.id}).then(a=>{y.value=a.data,_.value=y.value.is_offline?2:1,o.library_name=a.data.library_name,o.library_intro=a.data.library_intro,o.use_model=a.data.use_model,o.is_offline=a.data.is_offline})})();const S=c([{iconName:"high",title:"高质量",value:1,is_offline:!1,desc:"使用在线的嵌入模型，在召回时具有更高的准确度，但需要花费token"},{iconName:"economic",title:"经济",value:2,is_offline:!0,desc:"使用离线的向量模型，较在线模型准确度稍低，但是不需要消耗token"}]),q=F.useForm,w=C({library_name:[{required:!0,message:"请输入库名称",trigger:"blur"}],use_model:[{required:!0,message:"请选择嵌入模型",trigger:"change"}]}),{validateInfos:g}=q(o,w),U=()=>!1,V=()=>!1,M=c([]),h=()=>{if(!o.library_name)return x.error("请输入知识库名称");let a={library_name:o.library_name,library_intro:o.library_intro,id:b.query.id};$(a).then(s=>{x.success("修改成功")})};return(a,s)=>{const z=J,m=H,A=K,k=G,E=T,O=W,P=X,j=F;return t(),i("div",Z,[r("div",ee,[l(j,{"label-col":{span:4}},{default:n(()=>[l(m,I({ref:"name",label:"知识库名称"},L(g).library_name),{default:n(()=>[l(z,{onBlur:h,value:o.library_name,"onUpdate:value":s[0]||(s[0]=e=>o.library_name=e),placeholder:"请输入知识库名称，最多20个字"},null,8,["value"])]),_:1},16),l(m,{label:"知识库简介"},{default:n(()=>[l(A,{onBlur:h,value:o.library_intro,"onUpdate:value":s[1]||(s[1]=e=>o.library_intro=e),placeholder:"请输入知识库介绍"},null,8,["value"])]),_:1}),l(m,I({label:"嵌入模型"},L(g).use_model),{default:n(()=>[r("div",oe,[(t(!0),i(d,null,p(S.value,e=>(t(),i("div",{class:B(["use-model-item",{active:_.value==e.value}]),key:e.value,onClick:u=>V(e)},[r("div",{class:B(["use-model-item-top",{active:_.value==e.value}])},[l(k,{class:"use-model-item-top-icon",style:{color:"red"},name:e.iconName},null,8,["name"]),r("p",null,f(e.title),1)],2),r("p",null,f(e.desc),1),_.value==e.value?(t(),v(k,{key:0,class:"check-arrow",name:"select-disabled",style:{"font-size":"24px",color:"#fff"}})):R("",!0)],10,ae))),128))]),l(P,{disabled:"",value:o.use_model,"onUpdate:value":s[2]||(s[2]=e=>o.use_model=e),placeholder:"请选择嵌入模型",onChange:U},{default:n(()=>[(t(!0),i(d,null,p(M.value,e=>(t(),v(O,{key:e.id},{label:n(()=>[r("span",null,[r("img",{class:"model-icon",src:e.icon,alt:""},null,8,te)])]),default:n(()=>[(t(!0),i(d,null,p(e.children,u=>(t(),v(E,{value:u,model_config_id:e.id,key:u},{default:n(()=>[r("span",null,f(u),1)]),_:2},1032,["value","model_config_id"]))),128))]),_:2},1024))),128))]),_:1},8,["value"])]),_:1},16)]),_:1})])])}}},Oe=D(re,[["__scopeId","data-v-caeb8cd4"]]);export{Oe as default};
