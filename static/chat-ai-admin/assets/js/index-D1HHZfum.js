import{c as r,ah as L,G as e,a as i,b as l,y as g,t as k,F as K,l as T,e as x,q as S,_ as D,v as b,u as y,x as f,d as E,p as d,h as F}from"./vue-chunks-BdaA73Wf.js";import{u as O,aD as R,d as Y,_ as t,ay as z,br as G}from"../../index-DSFcP5NQ.js";import{_ as A}from"./emoji-mart-BBMRoEa3.js";import{g as P,f as U}from"./ui-antd-Dl1wwwCD.js";import"./editor-cherry-CFIsbKoN.js";import"./neo4j-MWxXN7EM.js";import"./lodash-Bm5sK6rN.js";import"./elkjs-BN8GIjVH.js";import"./utils-CvB22N-W.js";import"./other-LrIFyvU9.js";const j={class:"left-menu-box"},H={key:0,class:"sync-tag run"},J={key:1,class:"sync-tag fail"},Q={__name:"left-menus",emits:["changeMenu"],setup(n,{emit:_}){const{t:a}=O("views.library.library-details.components.left-menus"),c=R(),m=r(()=>c.graph_switch),p=Y(),h=_,u=L(),$=u.query,v=r(()=>p.getRobotNums),M=r(()=>{const o=a("label_related_robots");return v.value>0?`${o} (${v.value})`:o}),w=r(()=>[u.path.split("/")[3]]),N=r(()=>c.sync_official_content_status),C=r(()=>{let o=[{key:"knowledge-document",id:"knowledge-document",icon:()=>e("span",{},[e(t,{name:"knowledge-document-icon",class:"menu-icon"}),e(t,{name:"knowledge-document-active-icon",class:"menu-icon-active"})]),label:c.type==2?"label_knowledge_management":"label_knowledge_document",title:"title_knowledge_document",path:"/library/details/knowledge-document",syncStatus:Number(N.value)},{key:"knowledge-graph",id:"knowledge-graph",hidden:m.value==0,icon:()=>e("span",{},[e(t,{name:"knowledge-graph-icon",class:"menu-icon"}),e(t,{name:"knowledge-graph-active-icon",class:"menu-icon-active"})]),label:"label_knowledge_graph",title:"title_knowledge_graph",path:"/library/details/knowledge-graph"},{key:"categary-manage",id:"categary-manage",icon:()=>e("span",{},[e(t,{name:"categary-manage-icon",class:"menu-icon"}),e(t,{name:"categary-manage-active-icon",class:"menu-icon-active"})]),label:"label_featured",title:"title_featured",path:"/library/details/categary-manage"},{key:"recall-testing",id:"recall-testing",icon:()=>e("span",{},[e(t,{name:"recall-testing-icon",class:"menu-icon"}),e(t,{name:"recall-testing-active-icon",class:"menu-icon-active"})]),label:"label_recall_testing",title:"title_recall_testing",path:"/library/details/recall-testing"},{key:"knowledge-config",id:"knowledge-config",icon:()=>e("span",{},[e(t,{name:"knowledge-config-icon",class:"menu-icon"}),e(t,{name:"knowledge-config-active-icon",class:"menu-icon-active"})]),label:"label_knowledge_config",title:"title_knowledge_config",path:"/library/details/knowledge-config"},{key:"related-robots",id:"related-robots",icon:()=>e("span",{},[e(t,{name:"related-robots-icon",class:"menu-icon"}),e(t,{name:"related-robots-active-icon",class:"menu-icon-active"})]),label:M.value,path:"/library/details/related-robots"}];return c.type==2?(o.push({key:"import-record",id:"import-record",icon:()=>e("span",{},[e(t,{name:"import-record-icon",class:"menu-icon"}),e(t,{name:"import-record-active-icon",class:"menu-icon-active"})]),label:"label_import_record",title:"title_import_record",path:"/library/details/import-record"}),o.push({key:"export-record",id:"export-record",icon:()=>e("span",{},[e(t,{name:"export-record-icon",class:"menu-icon"}),e(t,{name:"export-record-active-icon",class:"menu-icon-active"})]),label:"label_export_record",title:"title_export_record",path:"/library/details/export-record"})):o.push({key:"recycle-bin-record",id:"recycle-bin-record",icon:()=>e("span",{},[e(t,{name:"recycle-bin-record-icon",class:"menu-icon"}),e(t,{name:"recycle-bin-record-active-icon",class:"menu-icon-active"})]),label:"label_recycle_bin",title:"title_recycle_bin",path:"/library/details/recycle-bin-record"}),o}),q=({item:o})=>{w.value.includes(o.id)||h("changeMenu",o)};return(o,le)=>{const B=P,I=f("router-link"),V=U;return l(),i("div",j,[g(V,{class:"left-menu",selectedKeys:w.value,onClick:q},{default:k(()=>[(l(!0),i(K,null,T(C.value,s=>(l(),x(I,{class:"default-color",to:{path:s.path,query:y($)},key:s.key},{default:k(()=>[s.hidden?S("",!0):(l(),x(B,{icon:s.icon,path:s.path,key:s.key},{default:k(()=>[D(b(s.key==="related-robots"?s.label:y(a)(s.label))+" ",1),s.syncStatus==2?(l(),i("span",H,b(y(a)("msg_syncing")),1)):s.syncStatus==3?(l(),i("span",J,b(y(a)("msg_sync_failed")),1)):S("",!0)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},W=A(Q,[["__scopeId","data-v-9979dcb8"]]),X=E({components:{LeftMenus:W},async beforeRouteEnter(n,_,a){let c=G(n.query.id);if(c==0||c==1){a("/no-permission");return}a()},setup(){const n=R(),{getLibraryInfo:_}=n,a=L();a.query;const c=r(()=>a.meta.cuStyle),m=r(()=>n.library_name),p=r(()=>n.avatar);return{cuStyle:c,LIBRARY_NORMAL_AVATAR:z,rotue:a,library_name:m,avatar:p}}}),Z={class:"details-library-page"},ee={class:"between-content-box"},te={class:"layout-left"},ne={class:"library-name-box"},ae=["src"],oe={class:"name"},se={class:"left-menu-wrapper"},ce={key:0,style:{flex:"1"}};function re(n,_,a,c,m,p){const h=f("LeftMenus"),u=f("router-view");return l(),i("div",Z,[d("div",ee,[d("div",te,[d("div",ne,[d("img",{class:"avatar",src:n.avatar||n.LIBRARY_NORMAL_AVATAR,alt:""},null,8,ae),d("div",oe,b(n.library_name),1)]),d("div",se,[g(h)])]),n.cuStyle?(l(),i("div",ce,[g(u)])):(l(),i("div",{key:1,class:F(["right-content-box",["page-"+n.rotue.name]])},[g(u)],2))])])}const ke=A(X,[["render",re],["__scopeId","data-v-94a24230"]]);export{ke as default};
//# sourceMappingURL=index-D1HHZfum.js.map
