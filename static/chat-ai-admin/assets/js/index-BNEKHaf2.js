import{g as B,k as A}from"./index-mwk_dyAT.js";import{a3 as N,a8 as O,d as k,z as D,b as V,h as j,N as _,X as e,j as s,U as n,k as q,u as E,O as p,Z as l,_ as b,G as I}from"./vue-chunks-BRsu9_To.js";import{R as P}from"./robot-select-alert-DRD-SLz9.js";import{u as T}from"./robot-DM4IWDeQ.js";import{b as z,B as F,k as G}from"../../index-M_xDbIir.js";import{P as U}from"./PlusOutlined-DQ91YM1E.js";import{_ as W}from"./index-BF4PinvW.js";import{a as X,_ as Z}from"./index-Bg1_T7h9.js";import"./empty-CzGZrENG.js";import"./index-Bn-th77D.js";import"./Checkbox-pA5GUfu7.js";import"./FormItemContext-DRzYyKbC.js";import"./index-SuSZ4kHz.js";import"./index-D_6sH2t0.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./index-D8nD-csV.js";import"./List-DKTpjnke.js";import"./index-CMIXnI2Z.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-Brd6xpAT.js";import"./CaretDownFilled-BzxZQg7Y.js";import"./responsiveObserve-CRSSr9-w.js";import"./index-Btmz2D3B.js";import"./LeftOutlined-DbHJ8blF.js";import"./RightOutlined-og3IpneX.js";import"./index-khLftDou.js";import"./Trigger-CkoSoTBd.js";import"./slide-DzpBPoRp.js";import"./useMergedState-C0iIHNGF.js";import"./DownOutlined-CI2wWtcJ.js";import"./CheckOutlined-DVulUWsT.js";import"./SearchOutlined-KUcJKUZw.js";import"./move-DD64vPeJ.js";import"./index-B0RyY99D.js";import"./colors-C56HAaAp.js";import"./index-D7wU2qJF.js";import"./dropdown-DCrM-GKY.js";import"./Dropdown-Dh4cjnmT.js";import"./index-B3CPYV6x.js";import"./shallowequal-C0xnIuy8.js";import"./index-Dob-Z8xa.js";import"./RadioButton-Bb2kU0Fd.js";import"./CaretDownOutlined-C4FFiOW0.js";import"./index-UA7y0weg.js";import"./Input-Bx6Hhp2b.js";import"./inputProps-DsSGhBt6.js";import"./Search-w33R1D1l.js";import"./isPlainObject-A-SljaBF.js";import"./TextArea-C57yjED6.js";import"./Password-5njtOUlo.js";const $={class:"user-model-page"},H={class:"list-wrapper"},J={class:"content-wrapper"},K={class:"actions-box"},M={class:"avatar-box"},Q=["src"],Y={key:0,class:"status-block"},tt={key:1,class:"status-block success"},ot=["onClick"],et={__name:"index",setup(rt){const m=N().query,d=T(),{robotInfo:w}=O(d),{getRobot:v}=d,c=k([]),i=D({work_flow_ids:[]}),u=k(null),y=V(()=>c.value.filter(o=>i.work_flow_ids.includes(o.id))),g=o=>{let t=i.work_flow_ids.indexOf(o.id);i.work_flow_ids.splice(t,1),f()},R=o=>{i.work_flow_ids=[...o],f()},h=()=>{u.value.open([...i.work_flow_ids])},f=()=>{let o={...I(i)};o.work_flow_ids=o.work_flow_ids.join(","),A({id:m.id,...o}).then(t=>{G.success("保存成功"),v(m.id)})};function x(){B().then(o=>{c.value=o.data||[]})}return x(),j(()=>{i.work_flow_ids=w.value.work_flow_ids.split(",")}),(o,t)=>{const S=W,C=F,a=Z,L=X;return p(),_("div",$,[t[4]||(t[4]=e("div",{class:"page-title"},"工作流",-1)),e("div",H,[e("div",J,[s(S,{"show-icon":"",style:{"align-items":"baseline"}},{message:n(()=>t[0]||(t[0]=[e("div",null," 关联工作流后，大语言模型会根据用户问题自主决定是否调用工作流。这需要利用大模型的工具调用能力，请确保您选择的大语言模型知识工具调用。 ",-1),e("div",null,"支持关联未发布的工作流，但是未发布的工作流并不会被实际调用。",-1)])),_:1}),e("div",K,[s(C,{type:"primary",icon:q(E(U)),onClick:h},{default:n(()=>t[1]||(t[1]=[l("添加技能")])),_:1,__:[1]},8,["icon"])]),s(L,{"data-source":y.value},{default:n(()=>[s(a,{key:"robot_name",title:"工作流"},{default:n(({record:r})=>[e("div",M,[e("img",{src:r.robot_avatar,alt:""},null,8,Q),e("div",null,b(r.robot_name),1)])]),_:1}),s(a,{key:"robot_intro","data-index":"robot_intro",title:"工作流描述"},{default:n(({record:r})=>[l(b(r.robot_intro||"--"),1)]),_:1}),s(a,{key:"start_node_key",title:"状态"},{default:n(({record:r})=>[r.start_node_key?(p(),_("div",tt,t[3]||(t[3]=[e("span",null,null,-1),l("已发布")]))):(p(),_("div",Y,t[2]||(t[2]=[e("span",null,null,-1),l("未发布")])))]),_:1}),s(a,{key:"start_node_key",title:"操作"},{default:n(({record:r})=>[e("a",{onClick:st=>g(r)},"移除",8,ot)]),_:1})]),_:1},8,["data-source"])])]),s(P,{ref_key:"robotSelectAlertRef",ref:u,onChange:R},null,512)])}}},so=z(et,[["__scopeId","data-v-f2c48779"]]);export{so as default};
