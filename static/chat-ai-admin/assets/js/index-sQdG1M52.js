import{u as W,_ as X}from"../../index-DSFcP5NQ.js";import{c as k,ah as Z,r as h,w as ee,j as te,ag as ne,a as u,q as T,p as a,y as l,v as s,u as n,F as D,t as d,x as oe,b as m,_ as f}from"./vue-chunks-BdaA73Wf.js";import{a as E,x as I}from"./index-C67uUbSa.js";import{_ as ae}from"./emoji-mart-BBMRoEa3.js";import{H as se,m as ce,y as le,M as O,N as ie,B as re,a4 as _e,b as U}from"./ui-antd-Dl1wwwCD.js";import"./neo4j-MWxXN7EM.js";import"./editor-cherry-CFIsbKoN.js";import"./lodash-Bm5sK6rN.js";import"./elkjs-BN8GIjVH.js";import"./utils-CvB22N-W.js";import"./other-LrIFyvU9.js";const ue={key:0,class:"ability-banner"},me={class:"user-model-page"},de={class:"breadcrumb-wrap"},pe={class:"switch-tip"},be={key:0,class:"tabs-box"},he={class:"list-wrapper"},fe={class:"content-wrapper"},ge={style:{color:"red"}},ve={class:"enable-tip-footer"},ye={class:"footer-actions"},V="ai_comment_management_batch_send_tip_until",xe={__name:"index",setup(Ce){const i=Z(),r=ne(),{t:e}=W("views.explore.ai-comment-management.index"),w=k(()=>i.name==="exploreAiCommentManagementCreateCustomRule"),S=k(()=>i.name==="exploreAiCommentManagementCreateCustomRule"&&i.query.copy==="1"),R=k(()=>i.name==="exploreAiCommentManagementCreateCustomRule"&&i.query.id),j=[{label:e("segmented_default_rule"),value:"default-rule"},{label:e("segmented_custom_rule"),value:"custom-rule"},{label:e("segmented_comment_processing_record"),value:"comment-processing-record"}],A=()=>i.name==="exploreAiCommentManagementCustomRule"?"custom-rule":i.name==="exploreAiCommentManagementCommentProcessingRecord"?"comment-processing-record":"default-rule",p=()=>{r.options.history.state.back?r.back():r.push({path:"/explore/index"})},q=()=>{const o=r.resolve({path:"/explore/index/article-group-send"});window.open(o.href,"_blank")},y=h(A()),g=h(!1),F=()=>{E({ability_type:"official_account_ai_comment"}).then(o=>{var _;const t=o.data,c=(_=t==null?void 0:t.user_config)==null?void 0:_.switch_status;g.value=String(c||"0")=="1"})},x=h(!0),z=()=>{E({ability_type:"official_account_batch_send"}).then(o=>{var c,_;const t=(_=(c=o==null?void 0:o.data)==null?void 0:c.user_config)==null?void 0:_.switch_status;x.value=String(t||"0")==="1",H()})},K=o=>{const t=o?"1":"0";if(t==="0"){O.confirm({title:e("modal_confirm_title"),content:e("modal_confirm_disable_content"),onOk:()=>{I({ability_type:"official_account_ai_comment",switch_status:t}).then(c=>{c&&c.res==0&&(g.value=!1,U.success(e("message_operation_success")))})}});return}I({ability_type:"official_account_ai_comment",switch_status:t}).then(c=>{c&&c.res==0&&(g.value=!0,U.success(e("message_operation_success")))})};ee(()=>i.name,()=>{y.value=A()});const G=o=>{const t={"default-rule":"/explore/index/ai-comment-management/default-rule","custom-rule":"/explore/index/ai-comment-management/custom-rule","comment-processing-record":"/explore/index/ai-comment-management/comment-processing-record"};r.replace(t[o])};te(()=>{i.name==="exploreAiCommentManagement"&&r.replace("/explore/index/ai-comment-management/default-rule"),F(),z()});const B=async()=>{M();const o=r.resolve({path:"/explore/index"});window.open(o.href,"_blank")},v=h(!1),C=h(!1),H=()=>{const o=Number(localStorage.getItem(V)||0),t=Date.now();!x.value&&o<=t&&(v.value=!0)},M=()=>{if(C.value){const o=Date.now()+2592e5;localStorage.setItem(V,String(o))}},P=()=>{M(),v.value=!1};return(o,t)=>{const c=X,_=se,Y=ce,$=le,J=oe("router-view"),L=ie,N=re,Q=O;return m(),u(D,null,[x.value?T("",!0):(m(),u("div",ue,[l(c,{name:"tip-icon",style:{"font-size":"16px",color:"white"}}),a("span",null,s(n(e)("banner_batch_send_not_enabled")),1),a("a",{class:"go-enable",href:"javascript:void(0);",onClick:B},s(n(e)("common_go_enable")),1)])),a("div",me,[a("div",de,[l(c,{name:"back",style:{"font-size":"20px"},onClick:p}),S.value?(m(),u("div",{key:0,class:"breadcrumb-title",onClick:p},s(n(e)("breadcrumb_copy_custom_rule")),1)):R.value?(m(),u("div",{key:1,class:"breadcrumb-title",onClick:p},s(n(e)("breadcrumb_edit_custom_rule")),1)):w.value?(m(),u("div",{key:2,class:"breadcrumb-title",onClick:p},s(n(e)("breadcrumb_create_custom_rule")),1)):(m(),u(D,{key:3},[a("span",{class:"breadcrumb-title",onClick:p},s(n(e)("breadcrumb_ai_comment_selection")),1),l(_,{checked:g.value,"checked-children":n(e)("switch_on"),"un-checked-children":n(e)("switch_off"),onChange:K},null,8,["checked","checked-children","un-checked-children"]),a("span",pe,s(n(e)("switch_tip")),1)],64))]),l(Y,{class:"alert-box","show-icon":"",style:{margin:"16px 48px 0"}},{message:d(()=>[a("div",null,[a("span",null,s(n(e)("alert_support_tip")),1),t[3]||(t[3]=a("br",null,null,-1)),a("span",null,s(n(e)("alert_auto_reply_tip")),1),a("a",{onClick:q,href:"javascript:void(0);"},s(n(e)("alert_go_create")),1)])]),_:1}),!R.value&&!S.value&&!w.value?(m(),u("div",be,[l($,{value:y.value,"onUpdate:value":t[0]||(t[0]=b=>y.value=b),options:j,onChange:G},null,8,["value"])])):T("",!0),a("div",he,[a("div",fe,[l(J)])])]),l(Q,{open:v.value,"onUpdate:open":t[2]||(t[2]=b=>v.value=b),footer:null},{title:d(()=>[a("span",null,[l(n(_e),{style:{color:"#faad14","margin-right":"8px"}}),f(s(n(e)("modal_article_batch_send_not_enabled_title")),1)])]),default:d(()=>[a("div",null,[a("span",ge,s(n(e)("modal_article_batch_send_not_enabled")),1),f(s(n(e)("modal_article_batch_send_not_enabled_tip")),1)]),a("div",ve,[l(L,{checked:C.value,"onUpdate:checked":t[1]||(t[1]=b=>C.value=b)},{default:d(()=>[f(s(n(e)("checkbox_dont_remind_three_days")),1)]),_:1},8,["checked"]),a("div",ye,[l(N,{onClick:P},{default:d(()=>[f(s(n(e)("btn_cancel")),1)]),_:1}),l(N,{type:"primary",onClick:B},{default:d(()=>[f(s(n(e)("common_go_enable")),1)]),_:1})])])]),_:1},8,["open"])],64)}}},Ie=ae(xe,[["__scopeId","data-v-05b91f91"]]);export{Ie as default};
//# sourceMappingURL=index-sQdG1M52.js.map
