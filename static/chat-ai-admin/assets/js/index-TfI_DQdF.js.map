{"version":3,"file":"index-TfI_DQdF.js","sources":["../../../../front-end/chat-ai-admin-vue/src/views/user/model/components/page-tabs.vue","../../../../front-end/chat-ai-admin-vue/src/views/user/model/components/model-list.vue","../../../../front-end/chat-ai-admin-vue/src/views/user/model/model-config.js","../../../../front-end/chat-ai-admin-vue/src/views/user/model/components/set-model-alert.vue","../../../../front-end/chat-ai-admin-vue/src/views/user/model/components/see-model-alert.vue","../../../../front-end/chat-ai-admin-vue/src/views/user/model/components/buy-record.vue","../../../../front-end/chat-ai-admin-vue/src/views/user/model/components/kefu-modal.vue","../../../../front-end/chat-ai-admin-vue/src/views/user/model/components/has-modal-list.vue","../../../../front-end/chat-ai-admin-vue/src/views/user/model/components/add-model-new.vue","../../../../front-end/chat-ai-admin-vue/src/views/user/model/index.vue"],"sourcesContent":["<style lang=\"less\" scoped>\r\n.page-tabs {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 24px;\r\n  padding: 0 24px;\r\n  font-size: 14px;\r\n  color: #595959;\r\n  background-color: #fff;\r\n\r\n  .tab-item {\r\n    position: relative;\r\n    height: 46px;\r\n    line-height: 46px;\r\n    cursor: pointer;\r\n\r\n    &.active {\r\n      font-weight: 600;\r\n      color: #2475fc;\r\n    }\r\n\r\n    &.active::before {\r\n      content: '';\r\n      display: block;\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      height: 2px;\r\n      background-color: #2475fc;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"page-tabs\">\r\n    <div class=\"tab-item\" :class=\"{ active: props.value == tab.value }\" @click=\"handleClickTab(tab.value)\"\r\n      v-for=\"tab in tabs\" :key=\"tab.value\">\r\n      {{ t(tab.langKey) }}\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.user.model')\r\n\r\nconst emit = defineEmits(['update:value', 'change'])\r\n\r\nconst props = defineProps({\r\n  value: {\r\n    type: [Number, String]\r\n  }\r\n})\r\n\r\nconst tabs = ref([\r\n  {\r\n    value: 1,\r\n    title: t('modelsHaveBeenAdded'),\r\n    langKey: 'modelsHaveBeenAdded'\r\n  },\r\n  {\r\n    value: 0,\r\n    title: t('canAddAModel'),\r\n    langKey: 'canAddAModel'\r\n  },\r\n  {\r\n    value: 2,\r\n    title: t('beginnerGuide'),\r\n    langKey: 'beginnerGuide'\r\n  }\r\n])\r\n\r\nconst handleClickTab = (val) => {\r\n  emit('update:value', val)\r\n  emit('change', val)\r\n}\r\n</script>\r\n","<style lang=\"less\" scoped>\r\n.model-list {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  gap: 24px;\r\n  margin: 16px 24px;\r\n\r\n  .model-item {\r\n    display: flex;\r\n    position: relative;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    padding: 16px;\r\n    border-radius: 2px;\r\n    overflow: hidden;\r\n    border: 1px solid #f0f0f0;\r\n    background-color: #fff;\r\n    transition: all 0.2s;\r\n\r\n    &:hover {\r\n      box-shadow:\r\n        0 6px 30px 5px rgba(0, 0, 0, 0.05),\r\n        0 16px 24px 2px rgba(0, 0, 0, 0.04),\r\n        0 8px 10px -5px rgba(0, 0, 0, 0.08);\r\n    }\r\n\r\n    .add-btn {\r\n      font-size: 14px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .model-item-left {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n      flex-basis: calc((100% - 320px));\r\n    }\r\n\r\n    .model-item-left-top {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      margin-bottom: 10px;\r\n    }\r\n\r\n    .line {\r\n      display: inline-block;\r\n      width: 2px;\r\n      height: 15px;\r\n      background-color: #dedede;\r\n      margin: 5px 15px;\r\n    }\r\n\r\n    .model-item-right {\r\n      display: flex;\r\n      flex-flow: row wrap;\r\n      gap: 8px;\r\n      align-items: center;\r\n      border-radius: 2px;\r\n    }\r\n\r\n    .btn-red {\r\n      color: red;\r\n      border-color: red;\r\n    }\r\n\r\n    .item-body {\r\n      flex: 1;\r\n    }\r\n\r\n    .model-logo {\r\n      display: block;\r\n      height: 24px;\r\n    }\r\n\r\n    .model-name {\r\n      color: #000000;\r\n      font-family: 'PingFang SC';\r\n      font-size: 16px;\r\n      font-style: normal;\r\n      font-weight: 600;\r\n      line-height: 24px;\r\n      margin-left: 8px;\r\n    }\r\n\r\n    .model-item-left-bottom {\r\n      display: flex;\r\n      width: 100%;\r\n    }\r\n\r\n    .model-desc {\r\n      display: flex;\r\n      flex-basis: calc((100% - 120px));\r\n      line-height: 22px;\r\n      font-size: 14px;\r\n      color: #8c8c8c;\r\n    }\r\n\r\n    .model-tags {\r\n      display: flex;\r\n      flex-flow: row wrap;\r\n      gap: 8px;\r\n\r\n      .tag {\r\n        height: 22px;\r\n        line-height: 20px;\r\n        padding: 0 8px;\r\n        border-radius: 2px;\r\n        font-size: 12px;\r\n        border: 1px solid rgba(0, 0, 0, 0.15);\r\n        background: rgba(0, 0, 0, 0.04);\r\n      }\r\n    }\r\n  }\r\n\r\n  .item-actions {\r\n    display: flex;\r\n    margin-top: 16px;\r\n    border-top: 1px solid #f0f0f0;\r\n\r\n    .action-item {\r\n      position: relative;\r\n      flex: 1;\r\n      height: 54px;\r\n      font-size: 14px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      cursor: pointer;\r\n      color: #2475fc;\r\n\r\n      &::after {\r\n        position: absolute;\r\n        right: 0;\r\n        display: block;\r\n        content: '';\r\n        width: 1px;\r\n        height: 16px;\r\n        background-color: #e4e6eb;\r\n      }\r\n\r\n      &:last-child::after {\r\n        display: none;\r\n      }\r\n\r\n      .action-icon {\r\n        margin-right: 4px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"model-list\">\r\n    <div class=\"model-item\" v-for=\"item in props.list\" :key=\"item.model_define\">\r\n      <div class=\"model-item-left\">\r\n        <div class=\"model-item-left-top\">\r\n          <img class=\"model-logo\" :src=\"item.model_icon_url\" alt=\"\" />\r\n          <div class=\"model-name\">{{ item.model_name }}</div>\r\n          <div class=\"line\"></div>\r\n          <div class=\"model-tags\">\r\n            <div v-for=\"(tag, index) in item.support_list\" :key=\"index\">\r\n              <a-tooltip>\r\n                <template #title v-if=\"tag == 'LLM'\">{{ t('llm_tooltip') }}</template>\r\n                <template #title v-else-if=\"tag == 'TEXT EMBEDDING'\">{{ t('embedding_tooltip') }}</template>\r\n                <template #title v-else-if=\"tag == 'RERANK'\">{{ t('rerank_tooltip') }}</template>\r\n                <template #title v-else-if=\"tag == 'SPEECH2TEXT'\">{{ t('speech2text_tooltip') }}</template>\r\n                <template #title v-else-if=\"tag == 'TTS'\">{{ t('tts_tooltip') }}</template>\r\n                <template #title v-else-if=\"tag == 'IMAGE'\">{{ t('image_tooltip') }}</template>\r\n                <span class=\"tag\">{{ tag }}</span>\r\n              </a-tooltip>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"model-item-left-bottom\">\r\n          <div class=\"model-desc\">{{ item.introduce }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"model-item-right\">\r\n        <a-button v-if=\"item.model_define != 'azure'\" class=\"add-btn\" @click=\"handleSee(item)\">{{\r\n          t('view_model')\r\n        }}</a-button>\r\n        <a-button class=\"add-btn\" @click=\"handleAdd(item)\">{{ t('add_config') }}</a-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { SettingOutlined, PlusOutlined, EyeOutlined, FormOutlined } from '@ant-design/icons-vue'\r\nimport { toRaw } from 'vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.user.model.components.model-list')\r\n\r\nconst emit = defineEmits(['edit', 'new', 'see', 'remove', 'add'])\r\n\r\nconst modelDefine = ['azure', 'ollama', 'xinference', 'openaiAgent']\r\n\r\nconst props = defineProps({\r\n  type: {\r\n    type: Number,\r\n    default: () => 1\r\n  },\r\n  list: {\r\n    type: Array,\r\n    default: () => []\r\n  }\r\n})\r\n\r\nconst handleSee = (item) => {\r\n  emit('see', toRaw(item))\r\n}\r\n\r\nconst handleEdit = (item) => {\r\n  let data = toRaw(item)\r\n\r\n  emit('edit', data, data.config_list[0])\r\n}\r\n\r\nconst handleNew = (item) => {\r\n  emit('new', toRaw(item))\r\n}\r\n\r\nconst handleAdd = (item) => {\r\n  emit('add', toRaw(item))\r\n}\r\n\r\nconst handleDel = (item) => {\r\n  let data = toRaw(item)\r\n\r\n  emit('remove', data.config_list[0])\r\n}\r\n</script>\r\n","const inputDefaultConfig = {\r\n  componentType: 'input',\r\n  placeholder: '',\r\n  defaultValue: ''\r\n}\r\n\r\nconst radioDefaultConfig = {\r\n  componentType: 'radio',\r\n  defaultValue: undefined\r\n}\r\n\r\nconst selectDefaultConfig = {\r\n  componentType: 'select',\r\n  defaultValue: undefined\r\n}\r\n\r\nconst modelFieldConfig = {\r\n  id: {\r\n    hidden: true\r\n  },\r\n  config_name: {\r\n    ...inputDefaultConfig,\r\n    label: '配置名称',\r\n    placeholder: '请输入配置的别名，仅用作展示',\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请输入配置名称',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  model_types: {\r\n    ...radioDefaultConfig,\r\n    key: 'model_types',\r\n    label: '模型类型',\r\n    optionsKey: 'supported_type',\r\n    options: [],\r\n    disabled: false,\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请选择模型类型',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  thinking_type: {\r\n    componentType: 'radio2',\r\n    defaultValue: '0',\r\n    key: 'thinking_type',\r\n    label: '深度思考',\r\n    optionsKey: 'thinking_type',\r\n    options: [\r\n      {\r\n        label: '支持（类似deepseek r1这种只支持思考模式的模型）',\r\n        value: '1'\r\n      },\r\n      {\r\n        label: '可选（比如doubao1.6,可以通过接口控制是否启用深度思考模式）',\r\n        value: '2'\r\n      },\r\n      {\r\n        label: '不支持（比如deepseek v3,模型本身不支持深度思考模式）',\r\n        value: '0'\r\n      },\r\n    ],\r\n    disabled: false,\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请选择深度思考',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  deployment_name: {\r\n    ...inputDefaultConfig,\r\n    label: '部署名称',\r\n    placeholder: '请与Azure 部署名称保持一致',\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请输入部署名称',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  model_name: {\r\n    ...inputDefaultConfig,\r\n    label: '模型名称',\r\n    placeholder: '模型名称请保持一致',\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请输入模型名称',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  api_endpoint: {\r\n    ...inputDefaultConfig,\r\n    label: 'API 域名',\r\n    placeholder: '请输入您的API 域名',\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请输入API 域名',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  model_context_length: {\r\n    ...inputDefaultConfig,\r\n    label: '模型上下文长度',\r\n    placeholder: '请输入您的模型上下文长度',\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请输入模型上下文长度',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  model_uid: {\r\n    ...inputDefaultConfig,\r\n    label: '模型UID',\r\n    placeholder: '请输入您的模型UID',\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请输入模型UID',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  api_key: {\r\n    ...inputDefaultConfig,\r\n    label: 'API Key',\r\n    placeholder: '请输入您的API Key',\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请输入API Key',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  secret_key: {\r\n    ...inputDefaultConfig,\r\n    label: 'Secret Key',\r\n    placeholder: '请输入您的Secret Key',\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请输入Secret Key',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  api_version: {\r\n    ...selectDefaultConfig,\r\n    label: 'API 版本',\r\n    placeholder: '请输入您的API 版本',\r\n    optionsKey: 'api_versions',\r\n    options: [],\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请选择API 版本',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  app_id: {\r\n    ...inputDefaultConfig,\r\n    label: 'appid',\r\n    placeholder: '请输入appid',\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请输入appid',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  },\r\n  region: {\r\n    ...inputDefaultConfig,\r\n    label: 'region',\r\n    placeholder: '请输入地区',\r\n    rules: [\r\n      {\r\n        required: true,\r\n        message: '请输入地区',\r\n        trigger: 'change'\r\n      }\r\n    ]\r\n  }\r\n}\r\n// 获取模型表单字段配置\r\nexport function getModelFieldConfig(fieldName, model_define) {\r\n  if (model_define == 'yiyan' || model_define == 'doubao') {\r\n    if (fieldName == 'secret_key') {\r\n      return {\r\n        ...inputDefaultConfig,\r\n        label: 'Secret Key',\r\n        placeholder: '请输入您的Secret Key'\r\n      }\r\n    }\r\n  }\r\n  if (modelFieldConfig[fieldName]) {\r\n    return modelFieldConfig[fieldName]\r\n  }\r\n\r\n  let config = { ...inputDefaultConfig }\r\n\r\n  config.placeholder = '请输入您的' + fieldName\r\n\r\n  return config\r\n}\r\n\r\nconst defaultModelTableConfig = {\r\n  columns: [\r\n    {\r\n      title: '模型名称',\r\n      dataIndex: 'model_name',\r\n      key: 'model_name',\r\n      langKey: 'views.user.model.model_name'\r\n    },\r\n    {\r\n      title: '模型类型',\r\n      dataIndex: 'model_type',\r\n      key: 'model_type',\r\n      langKey: 'views.user.model.model_type'\r\n    }\r\n  ],\r\n  rows: [],\r\n  showAddBtn: false\r\n}\r\n\r\nconst modelTableConfig = {\r\n  azure: {\r\n    columns: [\r\n      {\r\n        title: '部署名称',\r\n        dataIndex: 'deployment_name',\r\n        key: 'deployment_name',\r\n        langKey: 'views.user.model.deployment_name'\r\n      },\r\n      {\r\n        title: '模型类型',\r\n        dataIndex: 'model_types',\r\n        key: 'model_types',\r\n        langKey: 'views.user.model.model_types'\r\n      },\r\n      {\r\n        title: 'API版本',\r\n        dataIndex: 'api_version',\r\n        key: 'api_version',\r\n        langKey: 'views.user.model.api_version'\r\n      },\r\n      {\r\n        title: '操作',\r\n        dataIndex: 'action',\r\n        key: 'action',\r\n        width: 150,\r\n        langKey: 'common.action'\r\n      }\r\n    ],\r\n    rows: [],\r\n    showAddBtn: true\r\n  },\r\n  ollama: {\r\n    columns: [\r\n      {\r\n        title: '模型名称',\r\n        dataIndex: 'deployment_name',\r\n        key: 'deployment_name',\r\n        langKey: 'views.user.model.deployment_name'\r\n      },\r\n      {\r\n        title: '模型类型',\r\n        dataIndex: 'model_types',\r\n        key: 'model_types',\r\n        langKey: 'views.user.model.model_types'\r\n      },\r\n      {\r\n        title: 'BaseURL',\r\n        dataIndex: 'api_endpoint',\r\n        key: 'api_endpoint',\r\n        langKey: 'views.user.model.api_endpoint'\r\n      },\r\n      // {\r\n      //   title: '模型上下文长度',\r\n      //   dataIndex: 'model_context_length',\r\n      //   key: 'model_context_length',\r\n      //   langKey: 'views.user.model.model_context_length'\r\n      // },\r\n      {\r\n        title: '操作',\r\n        dataIndex: 'action',\r\n        key: 'action',\r\n        width: 150,\r\n        langKey: 'common.action'\r\n      }\r\n    ],\r\n    rows: [],\r\n    showAddBtn: true\r\n  },\r\n  openaiAgent: {\r\n    columns: [\r\n      {\r\n        title: '模型名称',\r\n        dataIndex: 'deployment_name',\r\n        key: 'deployment_name',\r\n        langKey: 'views.user.model.deployment_name'\r\n      },\r\n      {\r\n        title: '模型类型',\r\n        dataIndex: 'model_types',\r\n        key: 'model_types',\r\n        langKey: 'views.user.model.model_types'\r\n      },\r\n      {\r\n        title: 'BaseURL',\r\n        dataIndex: 'api_endpoint',\r\n        key: 'api_endpoint',\r\n        langKey: 'views.user.model.api_endpoint'\r\n      },\r\n      {\r\n        title: 'API Key',\r\n        dataIndex: 'api_key',\r\n        key: 'api_key',\r\n        langKey: 'views.user.model.api_key'\r\n      },\r\n      {\r\n        title: 'API版本',\r\n        dataIndex: 'api_version',\r\n        key: 'api_version',\r\n        langKey: 'views.user.model.api_version'\r\n      },\r\n      {\r\n        title: '操作',\r\n        dataIndex: 'action',\r\n        key: 'action',\r\n        width: 150,\r\n        langKey: 'common.action'\r\n      }\r\n    ],\r\n    rows: [],\r\n    showAddBtn: true\r\n  },\r\n  xinference: {\r\n    columns: [\r\n      {\r\n        title: '模型名称',\r\n        dataIndex: 'deployment_name',\r\n        key: 'deployment_name',\r\n        langKey: 'views.user.model.deployment_name'\r\n      },\r\n      {\r\n        title: '模型类型',\r\n        dataIndex: 'model_types',\r\n        key: 'model_types',\r\n        langKey: 'views.user.model.model_types'\r\n      },\r\n      // {\r\n      //   title: '模型UID',\r\n      //   dataIndex: 'model_uid',\r\n      //   key: 'model_uid',\r\n      //   langKey: 'views.user.model.model_uid'\r\n      // },\r\n      {\r\n        title: '服务器地址',\r\n        dataIndex: 'api_endpoint',\r\n        key: 'api_endpoint',\r\n        langKey: 'views.user.model.api_endpoint'\r\n      },\r\n      {\r\n        title: '操作',\r\n        dataIndex: 'action',\r\n        key: 'action',\r\n        width: 150,\r\n        langKey: 'common.action'\r\n      }\r\n    ],\r\n    rows: [],\r\n    showAddBtn: true\r\n  }\r\n}\r\n\r\nconst modelDefine = ['azure', 'ollama', 'xinference', 'openaiAgent']\r\n\r\nfunction getModelTableData(data) {\r\n  if (modelDefine.indexOf(data.model_define) > -1) {\r\n    return data.config_list\r\n  } else {\r\n    let rows = []\r\n\r\n    if (!data.llm_model_list) {\r\n      data.llm_model_list = []\r\n    }\r\n\r\n    data.llm_model_list.forEach((item) => {\r\n      rows.push({\r\n        model_name: item,\r\n        model_type: 'LLM'\r\n      })\r\n    })\r\n\r\n    if (!data.vector_model_list) {\r\n      data.vector_model_list = []\r\n    }\r\n\r\n    data.vector_model_list.forEach((item) => {\r\n      rows.push({\r\n        model_name: item,\r\n        model_type: 'TEXT EMBEDDING'\r\n      })\r\n    })\r\n\r\n    \r\n    data.rerank_model_list.forEach((item) => {\r\n      rows.push({\r\n        model_name: item,\r\n        model_type: 'RERANK'\r\n      })\r\n    })\r\n\r\n    return rows\r\n  }\r\n}\r\n\r\n// 查看模型时不同的模型显示的列表不一样\r\nexport function getModelTableConfig(data) {\r\n  let keys = ['model_define', 'model_icon_url']\r\n\r\n  let config = modelTableConfig[data.model_define]\r\n\r\n  if (!config) {\r\n    config = defaultModelTableConfig\r\n  }\r\n\r\n  keys.forEach((key) => {\r\n    config[key] = data[key]\r\n  })\r\n\r\n  config.rows = getModelTableData(data)\r\n\r\n  return config\r\n}\r\n","<style lang=\"less\" scoped>\r\n.add-model-alert {\r\n  .form-wrapper {\r\n    margin-top: 24px;\r\n  }\r\n\r\n  .model-logo {\r\n    height: 26px;\r\n    margin-bottom: 16px;\r\n  }\r\n  .model-logo-box {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <a-modal\r\n    class=\"add-model-alert\"\r\n    width=\"650px\"\r\n    v-model:open=\"show\"\r\n    :title=\"title\"\r\n    :confirmLoading=\"confirmLoading\"\r\n    @ok=\"handleOk\"\r\n    @cancel=\"handleCancel\"\r\n    :maskClosable=\"false\"\r\n  >\r\n    <div class=\"form-wrapper\">\r\n      <div class=\"model-logo-box\">\r\n        <img class=\"model-logo\" :src=\"modelConfig.model_icon_url\" alt=\"\" />\r\n        <a\r\n          v-if=\"modelConfig.model_define == 'doubao'\"\r\n          href=\"https://www.yuque.com/zhimaxiaoshiwangluo/pggco1/hmwl4gveq4xwa4uw?singleDoc# \"\r\n          target=\"_blank\"\r\n          >查看使用说明></a\r\n        >\r\n      </div>\r\n      <div class=\"form-box\">\r\n        <a-form layout=\"horizontal\" :label-col=\"{ span: 6 }\" :wrapper-col=\"{ span: 18 }\">\r\n          <template v-for=\"item in formItems\" :key=\"item.key\">\r\n            <a-form-item v-bind=\"validateInfos[item.key]\" v-if=\"!item.hidden\">\r\n              <template #label>\r\n                <div class=\"form-item-label\">\r\n                  <span v-if=\"modelConfig.model_define == 'doubao' && item.key == 'deployment_name'\"\r\n                    >接入点ID</span\r\n                  >\r\n                  <span v-else>{{ t(item.key) }}</span>\r\n                </div>\r\n              </template>\r\n              <template v-if=\"item.componentType == 'radio'\">\r\n                <a-radio-group v-model:value=\"formState[item.key]\" :disabled=\"item.disabled\">\r\n                  <a-radio :value=\"val\" v-for=\"(val, index) in item.options\" :key=\"index\"\r\n                    ><span>{{ val }}</span></a-radio\r\n                  >\r\n                </a-radio-group>\r\n              </template>\r\n\r\n              <template v-if=\"item.componentType == 'radio2'\">\r\n                <a-radio-group v-model:value=\"formState[item.key]\" :disabled=\"item.disabled\">\r\n                  <a-radio style=\"line-height: 32px;\" :value=\"val.value\" v-for=\"(val, index) in item.options\" :key=\"val.value\"\r\n                    ><span>{{ val.label }}</span></a-radio\r\n                  >\r\n                </a-radio-group>\r\n              </template>\r\n\r\n              <template v-if=\"item.componentType == 'select'\">\r\n                <a-select v-model:value=\"formState[item.key]\" :placeholder=\"item.placeholder\">\r\n                  <a-select-option :value=\"val\" v-for=\"(val, index) in item.options\" :key=\"index\">\r\n                    <span>{{ val }}</span>\r\n                  </a-select-option>\r\n                </a-select>\r\n              </template>\r\n\r\n              <template v-if=\"item.componentType == 'input'\">\r\n                <a-input v-model:value=\"formState[item.key]\" :placeholder=\"item.placeholder\" />\r\n                <a :href=\"item.help_links\" target=\"_blank\" v-if=\"item.key == 'api_key'\">{{\r\n                  t('getApikeyText')\r\n                }}</a>\r\n              </template>\r\n            </a-form-item>\r\n          </template>\r\n        </a-form>\r\n      </div>\r\n    </div>\r\n  </a-modal>\r\n</template>\r\n<script setup>\r\nimport { ref, reactive, toRaw } from 'vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { getModelFieldConfig } from '../model-config'\r\nimport { Form, message } from 'ant-design-vue'\r\nimport { addModelConfig, editModelConfig } from '@/api/model/index'\r\n\r\nconst { t } = useI18n('views.user.model')\r\nconst emit = defineEmits(['ok'])\r\nconst useForm = Form.useForm\r\n\r\nconst title = ref('')\r\nconst modelConfig = reactive({\r\n  model_icon_url: '',\r\n  model_define: '',\r\n  model_name: ''\r\n})\r\n\r\nconst show = ref(false)\r\nconst formRules = ref({})\r\nconst formState = ref({})\r\nconst formItems = ref([])\r\nconst modelNames = ['ollama', 'xinference', 'openaiAgent']\r\n\r\nconst open = (data, record) => {\r\n  formRules.value = {}\r\n  formState.value = {}\r\n  formItems.value = []\r\n  const { model_icon_url, model_define, model_name, history_config_params } = data\r\n  let config_params = data.config_params\r\n\r\n  title.value = record ? t('edit') + ' ' + model_name : t('add') + ' ' + model_name\r\n\r\n  modelConfig.model_icon_url = model_icon_url\r\n  modelConfig.model_define = model_define\r\n  modelConfig.model_name = model_name\r\n\r\n  let formRulesTemp = {}\r\n  let formStateTemp = {}\r\n  let formItemsTemp = []\r\n\r\n  config_params.unshift('id')\r\n  if(!config_params.includes('config_name')){\r\n    config_params.unshift('config_name')\r\n  }\r\n\r\n  if (record) {\r\n    if (history_config_params && history_config_params.length > 0) {\r\n      config_params = [...config_params, ...history_config_params]\r\n    }\r\n  }\r\n\r\n  config_params.forEach((key) => {\r\n    if (key == 'model_type') {\r\n      key = 'model_types'\r\n    }\r\n\r\n    if (modelNames.indexOf(data.model_define) > -1 && key == 'deployment_name') {\r\n      key = 'model_name'\r\n    }\r\n\r\n    let field = getModelFieldConfig(key, model_define)\r\n    field.key = key\r\n    field.help_links = data.help_links\r\n\r\n    field.disabled = false\r\n    // 编辑时禁止修改模型类型\r\n    if (field.key == 'model_types' && record) {\r\n      field.disabled = true\r\n    }\r\n\r\n    let options = field.options\r\n\r\n    if (record) {\r\n      // 区分modelNames\r\n      if (modelNames.indexOf(record.model_define) > -1) {\r\n        if (record.deployment_name) {\r\n          record.model_name = record.deployment_name\r\n        }\r\n      }\r\n      formStateTemp[key] = record[key] || undefined\r\n    } else {\r\n      formStateTemp[key] = field.defaultValue\r\n    }\r\n\r\n    if (field.optionsKey && data[field.optionsKey]) {\r\n      options = data[field.optionsKey]\r\n    }\r\n\r\n    if (!field.hidden) {\r\n      formItemsTemp.push({ ...field, options, key })\r\n    }\r\n\r\n    if (field.rules) {\r\n      formRulesTemp[key] = field.rules\r\n    }\r\n  })\r\n  if (data.model_define == 'doubao') {\r\n    // 火山模型特殊处理\r\n    if (!record) {\r\n      formStateTemp.region = 'cn-beijing'\r\n    }\r\n    formItemsTemp.forEach((item) => {\r\n      if (item.key == 'deployment_name') {\r\n        item.placeholder = '请输入接入点ID'\r\n      }\r\n    })\r\n    if (formRulesTemp.deployment_name && formRulesTemp.deployment_name.length) {\r\n      formRulesTemp.deployment_name[0].message = '请输入接入点ID'\r\n    }\r\n  } else {\r\n    if (formRulesTemp.deployment_name && formRulesTemp.deployment_name.length) {\r\n      formRulesTemp.deployment_name[0].message = '请输入部署名称'\r\n    }\r\n  }\r\n\r\n  if(!formStateTemp.config_name){\r\n    formStateTemp.config_name = data.model_name\r\n  }\r\n\r\n  formRules.value = formRulesTemp\r\n  formState.value = formStateTemp\r\n  formItems.value = formItemsTemp\r\n\r\n  show.value = true\r\n\r\n  setTimeout(() => {\r\n    clearValidate()\r\n  }, 100)\r\n}\r\n\r\nconst { resetFields, clearValidate, validate, validateInfos } = useForm(formState, formRules)\r\n\r\nconst handleOk = () => {\r\n  validate()\r\n    .then(() => {\r\n      if (formState.value.id) {\r\n        saveEditModel()\r\n      } else {\r\n        saveAddModel()\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n}\r\n\r\nconst handleCancel = () => {\r\n  resetFields()\r\n  clearValidate()\r\n}\r\n\r\nconst confirmLoading = ref(false)\r\n\r\nconst saveAddModel = () => {\r\n  let newData = toRaw(formState.value)\r\n  let data = JSON.parse(JSON.stringify(newData)) // 深拷贝，不能改变原对象\r\n\r\n  data.model_type = data.model_types\r\n  data.model_define = modelConfig.model_define\r\n\r\n  // 区分modelNames\r\n  if (modelNames.indexOf(data.model_define) > -1) {\r\n    if (data.model_name) {\r\n      data.deployment_name = data.model_name\r\n      delete data.model_name\r\n    }\r\n  }\r\n\r\n  confirmLoading.value = true\r\n\r\n  addModelConfig(data)\r\n    .then((res) => {\r\n      confirmLoading.value = false\r\n      show.value = false\r\n      message.success(t('saveSuccess'))\r\n\r\n      emit('ok', res.data)\r\n    })\r\n    .catch(() => {\r\n      confirmLoading.value = false\r\n    })\r\n}\r\n\r\nconst saveEditModel = () => {\r\n  let newData = toRaw(formState.value)\r\n  let data = JSON.parse(JSON.stringify(newData)) // 深拷贝，不能改变原对象\r\n\r\n  data.model_type = data.model_types\r\n  data.model_define = modelConfig.model_define\r\n\r\n  // 区分modelNames\r\n  if (modelNames.indexOf(data.model_define) > -1) {\r\n    if (data.model_name) {\r\n      data.deployment_name = data.model_name\r\n      delete data.model_name\r\n    }\r\n  }\r\n\r\n  confirmLoading.value = true\r\n\r\n  editModelConfig(data)\r\n    .then(() => {\r\n      confirmLoading.value = false\r\n      show.value = false\r\n      message.success(t('saveSuccess'))\r\n\r\n      emit('ok')\r\n    })\r\n    .catch(() => {\r\n      confirmLoading.value = false\r\n    })\r\n}\r\n\r\ndefineExpose({\r\n  open\r\n})\r\n</script>\r\n","<style lang=\"less\" scoped>\r\n.add-model-alert {\r\n  .form-wrapper {\r\n    margin-top: 24px;\r\n  }\r\n\r\n  .model-logo {\r\n    display: block;\r\n    height: 26px;\r\n  }\r\n\r\n  .tools-wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 12px;\r\n    gap: 12px;\r\n    color: #000000;\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    line-height: 24px;\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <a-modal\r\n    class=\"add-model-alert\"\r\n    width=\"800px\"\r\n    v-model:open=\"show\"\r\n    :title=\"t('model_list')\"\r\n    :footer=\"null\"\r\n  >\r\n    <div class=\"form-wrapper\">\r\n      <div class=\"tools-wrapper\">\r\n        <img class=\"model-logo\" :src=\"modelConfig.model_icon_url\" alt=\"\" />\r\n        <span>{{ modelConfig.model_name }}</span>\r\n      </div>\r\n      <a-table :data-source=\"use_model_configs\" :pagination=\"false\" :scroll=\"{ y: 500 }\">\r\n        <a-table-column key=\"show_model_name\" :title=\"t('model_name')\" data-index=\"show_model_name\" />\r\n        <a-table-column key=\"model_type\" :title=\"t('model_type')\" data-index=\"model_type\"> </a-table-column>\r\n      </a-table>\r\n    </div>\r\n  </a-modal>\r\n</template>\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.user.model.components.see-model-alert')\r\n\r\nconst modelConfig = ref({})\r\n\r\nconst show = ref(false)\r\nconst use_model_configs = ref([])\r\nconst open = (data) => {\r\n  modelConfig.value = data\r\n  use_model_configs.value = data.use_model_configs || []\r\n\r\n  show.value = true\r\n}\r\n\r\ndefineExpose({\r\n  open\r\n})\r\n</script>\r\n","<template>\r\n  <div>\r\n    <a-modal v-model:open=\"open\" title=\"购买记录\" :footer=\"null\" :width=\"896\">\r\n      <a-table style=\"margin-top: 16px\" :data-source=\"list\">\r\n        <a-table-column key=\"create_time\" title=\"购买时间\" data-index=\"create_time\">\r\n          <template #default=\"{ record }\">\r\n            {{ formatTime(record.create_time) }}\r\n          </template>\r\n        </a-table-column>\r\n        <a-table-column key=\"buy_total\" title=\"购买积分数\" data-index=\"buy_total\"> </a-table-column>\r\n        <a-table-column key=\"use_total\" title=\"已消耗\" data-index=\"use_total\"> </a-table-column>\r\n        <a-table-column key=\"expire_total\" title=\"已过期\" data-index=\"expire_total\">\r\n        </a-table-column>\r\n        <a-table-column key=\"surplus_total\" title=\"剩余额度\" data-index=\"surplus_total\">\r\n        </a-table-column>\r\n        <a-table-column key=\"expire_time\" title=\"到期时间\" data-index=\"expire_time\">\r\n          <template #default=\"{ record }\">\r\n            {{ formatTime(record.expire_time) }}\r\n          </template>\r\n        </a-table-column>\r\n        <a-table-column key=\"remark_outer\" title=\"备注\" data-index=\"remark_outer\"> </a-table-column>\r\n      </a-table>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport dayjs from 'dayjs'\r\nconst props = defineProps({\r\n  list: {\r\n    type: Array,\r\n    default: () => []\r\n  }\r\n})\r\nconst open = ref(false)\r\n\r\nconst formatTime = (time) => {\r\n  if (time <= 0) {\r\n    return '--'\r\n  }\r\n  return dayjs(time * 1000).format('YYYY/MM/DD HH:mm:ss')\r\n}\r\n\r\nconst show = () => {\r\n  open.value = true\r\n}\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n","<template>\r\n  <div>\r\n    <a-modal v-model:open=\"open\" title=\"购买资源包\" :footer=\"null\" :width=\"546\">\r\n      <div class=\"modal-box\">\r\n        <a-alert show-icon message=\"暂不支持线上购买，请扫码联系客服购买\"></a-alert>\r\n        <div class=\"img-box\">\r\n          <img src=\"https://xkf-upload-oss.xiaokefu.com.cn/static/kefu.png\" alt=\"\" />\r\n        </div>\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\n\r\nconst open = ref(false)\r\n\r\nconst show = () => {\r\n  open.value = true\r\n}\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.modal-box {\r\n  margin-top: 16px;\r\n  .img-box {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-top: 16px;\r\n    margin-bottom: 48px;\r\n  }\r\n  img {\r\n    width: 200px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"modal-list-box\">\r\n    <div class=\"alert-box\">\r\n      <div class=\"left-block\">\r\n        <KeyOutlined />\r\n        <template v-if=\"['baai', 'ollama', 'xinference'].includes(config_info.model_define)\">\r\n          {{ t('views.user.model.api_endpoint_label') }}<template v-if=\"config_info.api_endpoint\"\r\n            >{{ config_info.api_endpoint.slice(0, 30)\r\n            }}{{ config_info.api_endpoint.length > 30 ? '...' : '' }}</template\r\n          >\r\n        </template>\r\n        <template v-else>\r\n          {{ t('views.user.model.api_key_label') }}<template v-if=\"config_info.api_key\"\r\n            >{{ config_info.api_key.slice(0, 30) }}\r\n            {{ config_info.api_key.length > 30 ? '...' : '' }}</template\r\n          >\r\n        </template>\r\n      </div>\r\n      <div class=\"btn-box\">\r\n        <a-button @click=\"handleAddModel()\">{{ t('views.user.model.add_model_btn') }}</a-button>\r\n        <a-button @click=\"handleEditConfig\">{{ t('views.user.model.edit_config_btn') }}</a-button>\r\n        <a-button @click=\"handleDelconfig\">{{ t('views.user.model.remove_config_btn') }}</a-button>\r\n      </div>\r\n    </div>\r\n    <div class=\"tab-box\">\r\n      <a-segmented v-model:value=\"model_type\" :options=\"typeOptions\" />\r\n    </div>\r\n    <div class=\"table-box\">\r\n      <a-table sticky :data-source=\"tableData\" :pagination=\"false\" :scroll=\"{ x: 1000 }\">\r\n        <a-table-column\r\n          :width=\"140\"\r\n          key=\"show_model_name\"\r\n          :title=\"t('views.user.model.show_model_name')\"\r\n          data-index=\"show_model_name\"\r\n        />\r\n        <a-table-column\r\n          :width=\"140\"\r\n          key=\"use_model_name\"\r\n          :title=\"model_name\"\r\n          data-index=\"use_model_name\"\r\n        >\r\n          <template #default=\"{ record }\">\r\n            {{ record.use_model_name }}\r\n          </template>\r\n        </a-table-column>\r\n        <a-table-column\r\n          v-if=\"model_type == 'IMAGE'\"\r\n          :width=\"140\"\r\n          key=\"image_sizes_desc\"\r\n          :title=\"t('views.user.model.image_sizes_support')\"\r\n          data-index=\"image_sizes_desc\"\r\n        >\r\n        </a-table-column>\r\n        <a-table-column\r\n          v-if=\"model_type == 'IMAGE'\"\r\n          :width=\"160\"\r\n          key=\"image_max\"\r\n          :title=\"t('views.user.model.max_image_count')\"\r\n          data-index=\"image_max\"\r\n        >\r\n        </a-table-column>\r\n        <a-table-column\r\n          v-if=\"model_type == 'IMAGE'\"\r\n          :width=\"140\"\r\n          key=\"image_watermark\"\r\n          :title=\"t('views.user.model.support_watermark')\"\r\n          data-index=\"image_watermark\"\r\n        >\r\n          <template #default=\"{ record }\">\r\n            <span v-if=\"record.image_watermark == 1\">{{ t('views.user.model.supported') }}</span>\r\n            <span v-if=\"record.image_watermark == 0\">{{ t('views.user.model.not_supported') }}</span>\r\n          </template>\r\n        </a-table-column>\r\n        <a-table-column\r\n          v-if=\"model_type == 'IMAGE'\"\r\n          :width=\"160\"\r\n          key=\"image_optimize_prompt\"\r\n          :title=\"t('views.user.model.support_optimize_prompt')\"\r\n          data-index=\"image_optimize_prompt\"\r\n        >\r\n          <template #default=\"{ record }\">\r\n            <span v-if=\"record.image_optimize_prompt == 1\">{{ t('views.user.model.supported') }}</span>\r\n            <span v-if=\"record.image_optimize_prompt == 0\">{{ t('views.user.model.not_supported') }}</span>\r\n          </template>\r\n        </a-table-column>\r\n        <a-table-column\r\n          v-if=\"model_type == 'LLM'\"\r\n          :width=\"140\"\r\n          key=\"thinking_type\"\r\n          :title=\"t('views.user.model.thinking_type')\"\r\n          data-index=\"thinking_type\"\r\n        >\r\n          <template #default=\"{ record }\">\r\n            <span v-if=\"record.thinking_type == 0\">{{ t('views.user.model.not_supported') }}</span>\r\n            <span v-if=\"record.thinking_type == 1\">{{ t('views.user.model.supported') }}</span>\r\n            <span v-if=\"record.thinking_type == 2\">{{ t('views.user.model.optional') }}</span>\r\n          </template>\r\n        </a-table-column>\r\n\r\n        <a-table-column\r\n          v-if=\"model_type == 'LLM'\"\r\n          :width=\"140\"\r\n          key=\"function_call\"\r\n          :title=\"t('views.user.model.tool_call')\"\r\n          data-index=\"function_call\"\r\n        >\r\n          <template #default=\"{ record }\">\r\n            <span v-if=\"record.function_call == 0\">{{ t('views.user.model.not_supported') }}</span>\r\n            <span v-if=\"record.function_call == 1\">{{ t('views.user.model.supported') }}</span>\r\n          </template>\r\n        </a-table-column>\r\n\r\n        <a-table-column\r\n          :width=\"120\"\r\n          v-if=\"model_type == 'TEXT EMBEDDING'\"\r\n          key=\"vector_dimension_list\"\r\n          :title=\"t('views.user.model.vector_dimension')\"\r\n          data-index=\"vector_dimension_list\"\r\n        />\r\n        <a-table-column\r\n          v-if=\"model_type != 'RERANK'\"\r\n          :width=\"140\"\r\n          key=\"input_desc\"\r\n          :title=\"t('views.user.model.input')\"\r\n          data-index=\"input_desc\"\r\n        >\r\n          <template #default=\"{ record }\">\r\n            {{ record.input_desc }}\r\n          </template>\r\n        </a-table-column>\r\n        <a-table-column\r\n          v-if=\"model_type == 'LLM'\"\r\n          :width=\"140\"\r\n          key=\"output_desc\"\r\n          :title=\"t('views.user.model.output')\"\r\n          data-index=\"output_desc\"\r\n        >\r\n          <template #default=\"{ record }\">\r\n            {{ record.output_desc }}\r\n          </template>\r\n        </a-table-column>\r\n        <a-table-column key=\"action\" :title=\"t('views.user.model.operate')\" :width=\"120\" fixed=\"right\">\r\n          <template #default=\"{ record }\">\r\n            <a @click=\"handleAddModel(record)\">{{ t('views.user.model.edit') }}</a>\r\n            <a-divider type=\"vertical\" />\r\n            <a @click=\"hadnleDelModel(record)\">{{ t('views.user.model.delete') }}</a>\r\n          </template>\r\n        </a-table-column>\r\n      </a-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch, computed, onMounted } from 'vue'\r\nimport { useI18n } from 'vue-i18n'\r\nimport { KeyOutlined } from '@ant-design/icons-vue'\r\nimport { getSizeOptions } from '@/views/workflow/components/util.js'\r\n\r\nconst { t } = useI18n()\r\n\r\nconst props = defineProps({\r\n  currentModalItem: {\r\n    type: Object,\r\n    default: () => {\r\n      return {}\r\n    }\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['addModel', 'delModel', 'editConfig', 'delConfig'])\r\nconst sizeOptions = getSizeOptions()\r\nlet model_type_maps = {\r\n  LLM: t('views.user.model.llm_model'),\r\n  'TEXT EMBEDDING': t('views.user.model.embedding_model'),\r\n  RERANK: t('views.user.model.rerank_model'),\r\n  IMAGE: t('views.user.model.image_generation_model')\r\n}\r\n\r\nlet input_map = {\r\n  input_text: t('views.user.model.text'),\r\n  input_voice: t('views.user.model.voice'),\r\n  input_image: t('views.user.model.image'),\r\n  input_video: t('views.user.model.video'),\r\n  input_document: t('views.user.model.document')\r\n}\r\n\r\nlet output_map = {\r\n  output_text: t('views.user.model.text'),\r\n  output_voice: t('views.user.model.voice'),\r\n  output_image: t('views.user.model.image'),\r\n  output_video: t('views.user.model.video')\r\n}\r\n\r\nconst model_type = ref('LLM')\r\n\r\nconst config_info = computed(() => {\r\n  return (\r\n    props.currentModalItem.config_info || {\r\n      api_key: ''\r\n    }\r\n  )\r\n})\r\n\r\nconsole.log(config_info.value, '==')\r\n\r\nconst model_name = computed(() => {\r\n  if (config_info.value.model_define == 'doubao') {\r\n    return t('views.user.model.endpoint_id')\r\n  }\r\n  if (config_info.value.model_define == 'azure') {\r\n    return t('views.user.model.deployment_name_label')\r\n  }\r\n  return 'model'\r\n})\r\n\r\nconsole.log(config_info.value, '==')\r\n\r\nconst use_model_configs = computed(() => {\r\n  return props.currentModalItem.use_model_configs || []\r\n})\r\n\r\nfunction getSizeDesc(image_sizes) {\r\n  console.log(image_sizes,'=')\r\n  if (image_sizes) {\r\n    let list = image_sizes.split(',')\r\n    return list.map((item) => sizeOptions.find((it) => it.value == item).label).join(',')\r\n  }\r\n  return ''\r\n}\r\n\r\nconst tableData = computed(() => {\r\n  let list = use_model_configs.value.filter((item) => item.model_type == model_type.value)\r\n  return list.map((item) => {\r\n    let input_desc = []\r\n    let output_desc = []\r\n    for (let key in input_map) {\r\n      if (item[key] == 1) {\r\n        input_desc.push(input_map[key])\r\n      }\r\n    }\r\n    for (let key in output_map) {\r\n      if (item[key] == 1) {\r\n        output_desc.push(output_map[key])\r\n      }\r\n    }\r\n    let image_generation_info = item.image_generation ? JSON.parse(item.image_generation) : {}\r\n    let image_sizes_desc = ''\r\n    if (item.image_generation) {\r\n      image_sizes_desc = getSizeDesc(image_generation_info.image_sizes)\r\n    }\r\n\r\n    return {\r\n      ...item,\r\n      input_desc: input_desc.join(','),\r\n      output_desc: output_desc.join(','),\r\n      image_generation_info,\r\n      image_sizes_desc,\r\n      image_max: image_generation_info.image_max,\r\n      image_optimize_prompt: image_generation_info.image_optimize_prompt,\r\n      image_watermark: image_generation_info.image_watermark\r\n    }\r\n  })\r\n})\r\n\r\n// LLM  TEXT EMBEDDING RERANK\r\nconst typeOptions = computed(() => {\r\n  return [\r\n    {\r\n      label: `${t('views.user.model.llm_model')}（${use_model_configs.value.filter((item) => item.model_type == 'LLM').length}）`,\r\n      value: 'LLM'\r\n    },\r\n    {\r\n      label: `${t('views.user.model.embedding_model')}（${use_model_configs.value.filter((item) => item.model_type == 'TEXT EMBEDDING').length}）`,\r\n      value: 'TEXT EMBEDDING'\r\n    },\r\n    {\r\n      label: `${t('views.user.model.rerank_model')}（${use_model_configs.value.filter((item) => item.model_type == 'RERANK').length}）`,\r\n      value: 'RERANK'\r\n    },\r\n    {\r\n      label: `${t('views.user.model.image_generation_model')}（${use_model_configs.value.filter((item) => item.model_type == 'IMAGE').length}）`,\r\n      value: 'IMAGE'\r\n    },\r\n    {\r\n      label: `${t('views.user.model.tts_model')}（${use_model_configs.value.filter((item) => item.model_type == 'TTS').length}）`,\r\n      value: 'TTS'\r\n    }\r\n  ]\r\n})\r\n\r\nconst handleAddModel = (record) => {\r\n  emit('addModel', props.currentModalItem, record)\r\n}\r\n\r\nconst handleEditConfig = () => {\r\n  emit('editConfig', props.currentModalItem, config_info.value)\r\n}\r\nconst handleDelconfig = () => {\r\n  emit('delConfig', config_info.value)\r\n}\r\n\r\nconst hadnleDelModel = (record) => {\r\n  emit('delModel', record)\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.modal-list-box {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .alert-box {\r\n    height: 40px;\r\n    background: var(--01-, #e5efff);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    padding: 0 16px;\r\n    .left-block {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n      color: #7a8699;\r\n      font-size: 14px;\r\n    }\r\n    .btn-box {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 8px;\r\n    }\r\n  }\r\n  .tab-box {\r\n    padding: 16px;\r\n    padding-bottom: 0;\r\n    &::v-deep(.ant-segmented) {\r\n      color: #262626;\r\n      .ant-segmented-item-selected {\r\n        color: #2475fc;\r\n      }\r\n    }\r\n  }\r\n  .table-box {\r\n    padding: 16px;\r\n    padding-top: 0;\r\n    margin-top: 16px;\r\n    flex: 1;\r\n    &::v-deep(.ant-table-sticky-scroll) { \r\n      display: none;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <a-modal\r\n      v-model:open=\"open\"\r\n      :title=\"`${formState.id ? t('edit') : t('add')}${t('model')}`\"\r\n      :width=\"700\"\r\n      @ok=\"handleOk\"\r\n      :confirmLoading=\"isLoading\"\r\n    >\r\n      <a-form class=\"form-box\" ref=\"formRef\" layout=\"vertical\" :model=\"formState\">\r\n        <a-form-item name=\"model_type\" :label=\"t('model_type')\" required>\r\n          <a-radio-group\r\n            @change=\"handleTypeChange\"\r\n            v-model:value=\"formState.model_type\"\r\n            name=\"radioGroup\"\r\n          >\r\n            <a-radio v-if=\"supported_type.includes('LLM')\" value=\"LLM\">{{ t('llm') }}</a-radio>\r\n            <a-radio v-if=\"supported_type.includes('TEXT EMBEDDING')\" value=\"TEXT EMBEDDING\"\r\n              >{{ t('embedding') }}</a-radio\r\n            >\r\n            <a-radio v-if=\"supported_type.includes('RERANK')\" value=\"RERANK\">{{ t('rerank') }}</a-radio>\r\n            <a-radio v-if=\"supported_type.includes('TTS')\" value=\"TTS\">{{ t('tts') }}</a-radio>\r\n            <a-radio v-if=\"supported_type.includes('IMAGE')\" value=\"IMAGE\">{{ t('image') }}</a-radio>\r\n          </a-radio-group>\r\n        </a-form-item>\r\n        <a-form-item\r\n          name=\"use_model_name\"\r\n          :label=\"model_name\"\r\n          :rules=\"[{ required: true, message: `${t('please_enter')}${model_name}` }]\"\r\n        >\r\n          <a-input\r\n            v-model:value=\"formState.use_model_name\"\r\n            @blur=\"handleModelNameBlur\"\r\n            :placeholder=\"t('model_name_placeholder')\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item\r\n          name=\"show_model_name\"\r\n          :label=\"t('show_model_name')\"\r\n          :rules=\"[{ required: true, message: `${t('please_enter')}${t('show_model_name')}` }]\"\r\n        >\r\n          <a-input\r\n            v-model:value=\"formState.show_model_name\"\r\n            :maxLength=\"50\"\r\n            :placeholder=\"t('show_model_name_placeholder')\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item\r\n          name=\"vector_dimension_list\"\r\n          :label=\"t('vector_dimension')\"\r\n          v-if=\"formState.model_type == 'TEXT EMBEDDING'\"\r\n        >\r\n          <a-input\r\n            v-model:value=\"formState.vector_dimension_list\"\r\n            :placeholder=\"t('vector_dimension_placeholder')\"\r\n          />\r\n          <div class=\"form-tip\">{{ t('vector_dimension_tip') }}</div>\r\n        </a-form-item>\r\n        <a-form-item\r\n          name=\"thinking_type\"\r\n          :label=\"t('thinking_type')\"\r\n          required\r\n          v-if=\"\r\n            showThinkTypeList.includes(model_info.model_define) && formState.model_type == 'LLM'\r\n          \"\r\n        >\r\n          <a-radio-group class=\"thiing-radio-box\" v-model:value=\"formState.thinking_type\">\r\n            <a-radio value=\"1\">{{ t('thinking_type_supported') }}</a-radio>\r\n            <a-radio value=\"2\"\r\n              >{{ t('thinking_type_optional') }}</a-radio\r\n            >\r\n            <a-radio value=\"0\">{{ t('thinking_type_not_supported') }}</a-radio>\r\n          </a-radio-group>\r\n        </a-form-item>\r\n        <a-form-item\r\n          name=\"function_call\"\r\n          :label=\"t('function_call')\"\r\n          required\r\n          v-if=\"formState.model_type == 'LLM'\"\r\n        >\r\n          <a-radio-group v-model:value=\"formState.function_call\">\r\n            <a-radio value=\"1\">{{ t('supported') }}</a-radio>\r\n            <a-radio value=\"0\">{{ t('not_supported') }}</a-radio>\r\n          </a-radio-group>\r\n        </a-form-item>\r\n        <a-form-item\r\n          name=\"image_sizes\"\r\n          :label=\"t('image_sizes')\"\r\n          required\r\n          :rules=\"[{ required: true, message: `${t('please_select')}${t('image_sizes')}` }]\"\r\n          v-if=\"formState.model_type == 'IMAGE'\"\r\n        >\r\n          <a-checkbox-group\r\n            class=\"image-size-options\"\r\n            v-model:value=\"formState.image_sizes\"\r\n            name=\"checkboxgroup\"\r\n            :options=\"sizeOptions\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item\r\n          name=\"image_max\"\r\n          :label=\"t('image_max')\"\r\n          :rules=\"[{ required: true, message: `${t('please_enter')}${t('image_max')}` }]\"\r\n          v-if=\"formState.model_type == 'IMAGE'\"\r\n        >\r\n          <a-input-number\r\n            style=\"width: 100%\"\r\n            v-model:value=\"formState.image_max\"\r\n            :max=\"10\"\r\n            :precision=\"0\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item\r\n          name=\"image_watermark\"\r\n          :label=\"t('image_watermark')\"\r\n          v-if=\"formState.model_type == 'IMAGE'\"\r\n        >\r\n          <a-switch\r\n            v-model:checked=\"formState.image_watermark\"\r\n            :checked-children=\"t('on')\"\r\n            :un-checked-children=\"t('off')\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item\r\n          name=\"image_optimize_prompt\"\r\n          :label=\"t('image_optimize_prompt')\"\r\n          v-if=\"formState.model_type == 'IMAGE'\"\r\n        >\r\n          <a-switch\r\n            v-model:checked=\"formState.image_optimize_prompt\"\r\n            :checked-children=\"t('on')\"\r\n            :un-checked-children=\"t('off')\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item :label=\"t('support_input_type')\" required v-if=\"formState.model_type != 'RERANK'\">\r\n          <a-flex :gap=\"8\" v-if=\"formState.model_type == 'LLM'\">\r\n            <a-checkbox v-model:checked=\"formState.input_text\">{{ t('text') }}</a-checkbox>\r\n            <a-checkbox v-model:checked=\"formState.input_voice\">{{ t('voice') }}</a-checkbox>\r\n            <a-checkbox v-model:checked=\"formState.input_image\">{{ t('image_type') }}</a-checkbox>\r\n            <a-checkbox v-model:checked=\"formState.input_video\">{{ t('video') }}</a-checkbox>\r\n            <a-checkbox v-model:checked=\"formState.input_document\">{{ t('document') }}</a-checkbox>\r\n          </a-flex>\r\n          <a-flex :gap=\"8\" v-else-if=\"formState.model_type == 'TTS'\">\r\n            <a-checkbox v-model:checked=\"formState.input_text\">{{ t('text') }}</a-checkbox>\r\n          </a-flex>\r\n          <a-flex :gap=\"8\" align=\"center\" v-else>\r\n            <a-checkbox v-model:checked=\"formState.input_text\">{{ t('text') }}</a-checkbox>\r\n            <a-checkbox v-model:checked=\"formState.input_image\">{{ t('image_type') }}</a-checkbox>\r\n            <a-flex align=\"center\" :gap=\"4\" v-if=\"formState.model_type == 'IMAGE'\">\r\n              {{ t('max') }}\r\n              <a-input-number\r\n                style=\"width: 120p\"\r\n                v-model:value=\"formState.image_inputs_image_max\"\r\n                :precision=\"0\"\r\n                :min=\"1\"\r\n                :max=\"4\"\r\n              />\r\n              {{ t('images_count') }}\r\n            </a-flex>\r\n          </a-flex>\r\n        </a-form-item>\r\n        <a-form-item :label=\"t('support_output_type')\" required v-if=\"formState.model_type == 'LLM'\">\r\n          <a-flex :gap=\"8\">\r\n            <a-checkbox v-model:checked=\"formState.output_text\">{{ t('text') }}</a-checkbox>\r\n            <a-checkbox v-model:checked=\"formState.output_voice\">{{ t('voice') }}</a-checkbox>\r\n            <a-checkbox v-model:checked=\"formState.output_image\">{{ t('image_type') }}</a-checkbox>\r\n            <a-checkbox v-model:checked=\"formState.output_video\">{{ t('video') }}</a-checkbox>\r\n          </a-flex>\r\n        </a-form-item>\r\n        <a-form-item :label=\"t('support_output_type')\" required v-else-if=\"formState.model_type == 'TTS'\">\r\n          <a-flex :gap=\"8\">\r\n            <a-checkbox v-model:checked=\"formState.output_voice\">{{ t('voice') }}</a-checkbox>\r\n          </a-flex>\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, h, reactive, computed } from 'vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport {} from '@ant-design/icons-vue'\r\nimport { message } from 'ant-design-vue'\r\nimport { saveUseModelConfig } from '@/api/model/index'\r\nimport { getSizeOptions } from '@/views/workflow/components/util.js'\r\n\r\nconst { t } = useI18n('views.user.model.components.add-model-new')\r\nconst open = ref(false)\r\n\r\nconst emit = defineEmits('ok')\r\n\r\nconst showThinkTypeList = ['siliconflow', 'doubao', 'tongyi']\r\n\r\nconst sizeOptions = getSizeOptions()\r\n\r\nconst formState = reactive({\r\n  model_config_id: '',\r\n  id: '',\r\n  model_type: 'LLM',\r\n  use_model_name: '',\r\n  show_model_name: '',\r\n  thinking_type: '0',\r\n  function_call: '1',\r\n  input_text: true,\r\n  input_voice: false,\r\n  input_image: false,\r\n  input_video: false,\r\n  input_document: false,\r\n  output_text: true,\r\n  output_voice: false,\r\n  output_image: false,\r\n  output_video: false,\r\n  vector_dimension_list: '',\r\n  image_max: 1,\r\n  image_inputs_image_max: 1,\r\n  image_sizes: sizeOptions.map((item) => item.value),\r\n  image_optimize_prompt: true,\r\n  image_watermark: true\r\n})\r\n\r\nconst model_info = ref({})\r\n\r\nconst supported_type = ref([])\r\n\r\nconst model_name = computed(() => {\r\n  if (model_info.value.model_define == 'doubao') {\r\n    return t('endpoint_id')\r\n  }\r\n  if (model_info.value.model_define == 'azure') {\r\n    return t('deployment_name_label')\r\n  }\r\n  return 'model'\r\n})\r\n\r\nconst formRef = ref(null)\r\nconst show = (data, record) => {\r\n  model_info.value = data\r\n  supported_type.value = data.supported_type || []\r\n  resetData()\r\n  formState.model_config_id = data.config_info.id\r\n  if (record) {\r\n    formState.id = record.id\r\n    formState.model_type = record.model_type\r\n    formState.use_model_name = record.use_model_name\r\n    formState.show_model_name = record.show_model_name || record.use_model_name\r\n    formState.thinking_type = record.thinking_type + ''\r\n    formState.function_call = record.function_call + ''\r\n    formState.input_text = record.input_text == 1\r\n    formState.input_voice = record.input_voice == 1\r\n    formState.input_image = record.input_image == 1\r\n    formState.input_video = record.input_video == 1\r\n    formState.input_document = record.input_document == 1\r\n    formState.output_text = record.output_text == 1\r\n    formState.output_voice = record.output_voice == 1\r\n    formState.output_image = record.output_image == 1\r\n    formState.output_video = record.output_video == 1\r\n    formState.vector_dimension_list = record.vector_dimension_list\r\n    if (record.image_generation) {\r\n      let image_generation = JSON.parse(record.image_generation)\r\n      formState.image_max = image_generation.image_max\r\n      formState.image_inputs_image_max = image_generation.image_inputs_image_max\r\n      formState.image_sizes = image_generation.image_sizes\r\n        ? image_generation.image_sizes.split(',')\r\n        : []\r\n      formState.image_optimize_prompt = image_generation.image_optimize_prompt == 1\r\n      formState.image_watermark = image_generation.image_watermark == 1\r\n    }\r\n  }\r\n  open.value = true\r\n}\r\n\r\nconst isLoading = ref(false)\r\n\r\nconst handleOk = () => {\r\n  formRef.value.validate().then(() => {\r\n    let image_generation = {\r\n      image_sizes: formState.image_sizes.join(','),\r\n      image_max: formState.image_max + '',\r\n      image_watermark: formState.image_watermark ? '1' : '0',\r\n      image_optimize_prompt: formState.image_optimize_prompt ? '1' : '0',\r\n      image_inputs_image_max: formState.image_inputs_image_max + ''\r\n    }\r\n    let parmas = {\r\n      ...formState,\r\n      input_text: formState.input_text ? 1 : 0,\r\n      input_voice: formState.input_voice ? 1 : 0,\r\n      input_image: formState.input_image ? 1 : 0,\r\n      input_video: formState.input_video ? 1 : 0,\r\n      input_document: formState.input_document ? 1 : 0,\r\n      output_text: formState.output_text ? 1 : 0,\r\n      output_voice: formState.output_voice ? 1 : 0,\r\n      output_image: formState.output_image ? 1 : 0,\r\n      output_video: formState.output_video ? 1 : 0,\r\n      image_generation: JSON.stringify(image_generation)\r\n    }\r\n    isLoading.value = true\r\n    saveUseModelConfig({\r\n      ...parmas\r\n    })\r\n      .then(() => {\r\n        message.success(t('save_success'))\r\n        emit('ok')\r\n        open.value = false\r\n      })\r\n      .finally(() => {\r\n        isLoading.value = false\r\n      })\r\n  })\r\n}\r\n\r\nconst handleTypeChange = () => {\r\n  formState.input_voice = false\r\n  formState.input_image = false\r\n  formState.input_video = false\r\n  formState.input_document = false\r\n  formState.output_text = false\r\n  formState.output_voice = false\r\n  formState.output_image = false\r\n  formState.output_video = false\r\n  if (formState.model_type == 'TTS') {\r\n    formState.output_voice = true\r\n  }\r\n}\r\n\r\nfunction resetData() {\r\n  Object.assign(formState, {\r\n    model_config_id: '',\r\n    id: '',\r\n    model_type: supported_type.value[0],\r\n    use_model_name: '',\r\n    show_model_name: '',\r\n    thinking_type: '0',\r\n    function_call: '1',\r\n    input_text: true,\r\n    input_voice: false,\r\n    input_image: false,\r\n    input_video: false,\r\n    input_document: false,\r\n    output_text: true,\r\n    output_voice: false,\r\n    output_image: false,\r\n    output_video: false,\r\n    vector_dimension_list: '',\r\n    image_max: 1,\r\n    image_inputs_image_max: 1,\r\n    image_sizes: sizeOptions.map((item) => item.value),\r\n    image_optimize_prompt: true,\r\n    image_watermark: true\r\n  })\r\n}\r\n\r\nconst handleModelNameBlur = () => {\r\n  if (!formState.show_model_name) {\r\n    formState.show_model_name = formState.use_model_name\r\n  }\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.form-box {\r\n  margin-top: 24px;\r\n  &::v-deep(.ant-form-item) {\r\n    margin-bottom: 16px;\r\n    .ant-form-item-label {\r\n      padding-bottom: 4px;\r\n    }\r\n  }\r\n  .thiing-radio-box {\r\n    .ant-radio-wrapper {\r\n      margin-bottom: 4px;\r\n    }\r\n  }\r\n  .form-tip {\r\n    color: #8c8c8c;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    margin-top: 2px;\r\n  }\r\n\r\n  .image-size-options{\r\n    &::v-deep(.ant-checkbox-wrapper) {\r\n      width: 140px;\r\n    }\r\n  }\r\n\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"user-model-page\">\r\n    <PageTabs v-model:value=\"activeTab\" @change=\"onChangeTab\" />\r\n    <div class=\"list-wrapper\">\r\n      <div class=\"alert-content-box\" v-if=\"activeTab == 0\">\r\n        <a-alert show-icon>\r\n          <template #message>\r\n            <div class=\"title\">{{ t('views.user.model.usage_title') }}</div>\r\n            <div>\r\n              {{ t('views.user.model.usage_point_1') }}\r\n            </div>\r\n            <div>{{ t('views.user.model.usage_point_2') }}</div>\r\n            <div>\r\n              {{ t('views.user.model.usage_point_3') }}\r\n            </div>\r\n          </template>\r\n        </a-alert>\r\n      </div>\r\n\r\n      <div class=\"content-body-box\" v-if=\"activeTab == 1\">\r\n        <div class=\"model-group-box\">\r\n          <div\r\n            class=\"model-list-item\"\r\n            @click=\"handleChangeDefine(item)\"\r\n            :class=\"{ active: item.config_info_id == currentDefine }\"\r\n            v-for=\"item in hasAddModalList\"\r\n            :key=\"item.config_info_id\"\r\n          >\r\n            <img class=\"avatar\" :src=\"item.model_icon_url\" alt=\"\" />\r\n            <div class=\"model-name\">{{ item.config_info.config_name || item.model_name }}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"model-content-box\">\r\n          <div v-if=\"currentDefine == 'chatwiki'\" class=\"chatwiki-model-box\">\r\n            <div class=\"statics-block\">\r\n              <div class=\"statics-item\">\r\n                <div class=\"title\">{{ t('views.user.model.remaining_points') }}</div>\r\n                <div class=\"num\">{{ formatPriceWithCommas(staticsData.all_surplus) }}</div>\r\n              </div>\r\n              <div class=\"statics-item\">\r\n                <div class=\"title\">{{ t('views.user.model.total_used') }}</div>\r\n                <div class=\"num\">{{ formatPriceWithCommas(staticsData.all_use) }}</div>\r\n              </div>\r\n              <div class=\"statics-item\">\r\n                <div class=\"title\">{{ t('views.user.model.nearest_expiry') }}</div>\r\n                <div class=\"num\">{{ staticsData.min_expiretime }}</div>\r\n              </div>\r\n              <div class=\"btn-block\">\r\n                <a-button type=\"primary\" @click=\"openBuyPointsModal\" block>{{ t('views.user.model.buy_resource_pack') }}</a-button>\r\n                <a-button @click=\"handleShowBuyRecord\" block>{{ t('views.user.model.buy_record') }}</a-button>\r\n              </div>\r\n            </div>\r\n            <div class=\"search-block\">\r\n              <a-segmented v-model:value=\"model_type\" :options=\"typeOptions\" />\r\n              <div class=\"search-item\">\r\n                <span>{{ t('views.user.model.model_supplier') }}：</span>\r\n                <a-select\r\n                  allowClear\r\n                  @change=\"getSelfList\"\r\n                  v-model:value=\"searchState.model_supplier\"\r\n                  :placeholder=\"t('views.user.model.select_model_supplier')\"\r\n                  style=\"width: 172px\"\r\n                >\r\n                  <a-select-option value=\"tongyi\">{{ t('views.user.model.tongyi') }}</a-select-option>\r\n                  <a-select-option value=\"deepseek\">{{ t('views.user.model.deepseek') }}</a-select-option>\r\n                  <a-select-option value=\"doubao\">{{ t('views.user.model.doubao') }}</a-select-option>\r\n                </a-select>\r\n              </div>\r\n            </div>\r\n            <div class=\"list-box\">\r\n              <a-table sticky style=\"margin-top: 8px\" :pagination=\"false\" :data-source=\"filterSelfLists\">\r\n                <a-table-column\r\n                  key=\"uni_model_name\"\r\n                  :width=\"140\"\r\n                  :title=\"t('views.user.model.model')\"\r\n                  data-index=\"uni_model_name\"\r\n                />\r\n                <a-table-column\r\n                  :width=\"140\"\r\n                  key=\"model_supplier_desc\"\r\n                  :title=\"t('views.user.model.model_provider')\"\r\n                  data-index=\"model_supplier_desc\"\r\n                >\r\n                </a-table-column>\r\n                <a-table-column\r\n                  v-if=\"model_type == 'LLM'\"\r\n                  :width=\"140\"\r\n                  key=\"thinking_type\"\r\n                  :title=\"t('views.user.model.deep_thinking')\"\r\n                  data-index=\"thinking_type\"\r\n                >\r\n                  <template #default=\"{ record }\">\r\n                    <span v-if=\"record.thinking_type == 0\">{{ t('views.user.model.not_supported') }}</span>\r\n                    <span v-if=\"record.thinking_type == 1\">{{ t('views.user.model.supported') }}</span>\r\n                    <span v-if=\"record.thinking_type == 2\">{{ t('views.user.model.optional') }}</span>\r\n                  </template>\r\n                </a-table-column>\r\n                <a-table-column\r\n                  v-if=\"model_type == 'LLM'\"\r\n                  :width=\"140\"\r\n                  key=\"function_call\"\r\n                  :title=\"t('views.user.model.tool_call')\"\r\n                  data-index=\"function_call\"\r\n                >\r\n                  <template #default=\"{ record }\">\r\n                    <span v-if=\"record.function_call == 0\">{{ t('views.user.model.not_supported') }}</span>\r\n                    <span v-if=\"record.function_call == 1\">{{ t('views.user.model.supported') }}</span>\r\n                  </template>\r\n                </a-table-column>\r\n                <a-table-column\r\n                  :width=\"120\"\r\n                  v-if=\"model_type == 'TEXT EMBEDDING'\"\r\n                  key=\"vector_dimension_list\"\r\n                  :title=\"t('views.user.model.vector_dimension')\"\r\n                  data-index=\"vector_dimension_list\"\r\n                />\r\n                <a-table-column\r\n                  v-if=\"model_type != 'RERANK'\"\r\n                  :width=\"100\"\r\n                  key=\"input_desc\"\r\n                  :title=\"t('views.user.model.input')\"\r\n                  data-index=\"input_desc\"\r\n                >\r\n                  <template #default=\"{ record }\">\r\n                    {{ record.input_desc }}\r\n                  </template>\r\n                </a-table-column>\r\n                <a-table-column\r\n                  v-if=\"model_type == 'LLM'\"\r\n                  :width=\"100\"\r\n                  key=\"output_desc\"\r\n                  :title=\"t('views.user.model.output')\"\r\n                  data-index=\"output_desc\"\r\n                >\r\n                  <template #default=\"{ record }\">\r\n                    {{ record.output_desc }}\r\n                  </template>\r\n                </a-table-column>\r\n                <a-table-column :width=\"130\" key=\"price\" :title=\"t('views.user.model.price')\" data-index=\"price\">\r\n                  <template #default=\"{ record }\"> {{ record.price }}{{ t('views.user.model.points_per_token') }}</template>\r\n                </a-table-column>\r\n              </a-table>\r\n            </div>\r\n          </div>\r\n          <template v-else>\r\n            <HasModalList\r\n              @addModel=\"handleOpenAddModelNew\"\r\n              @delModel=\"handleDelModelNew\"\r\n              @editConfig=\"handleEditModel\"\r\n              @delConfig=\"handleRemoveModel\"\r\n              :currentModalItem=\"currentModalItem\"\r\n            />\r\n          </template>\r\n        </div>\r\n      </div>\r\n      <!-- 新手指引 -->\r\n       <div class=\"guide-box\" v-if=\"activeTab == 2\">\r\n        <BeginnerGuide></BeginnerGuide>\r\n       </div>\r\n      <ModelList\r\n        :list=\"canAddModelList\"\r\n        :type=\"2\"\r\n        key=\"canAddModelList\"\r\n        @add=\"handleAddModel\"\r\n        @see=\"handleSeeModel\"\r\n        v-if=\"activeTab == 0\"\r\n      />\r\n    </div>\r\n  </div>\r\n  <!-- 查看模型 -->\r\n  <SeeModelAlert\r\n    ref=\"seeModelAlertRef\"\r\n    @new=\"handleNewModel\"\r\n    @edit=\"handleEditModel\"\r\n    @remove=\"handleRemoveModel\"\r\n  />\r\n  <!-- 设置模型 -->\r\n  <SetModelAlert ref=\"setModelAlertRef\" @ok=\"configSaveOk\" />\r\n  <BuyRecord :list=\"staticsData.list\" ref=\"buyRecordRef\" />\r\n  <KefuModal ref=\"kefuModalRef\" />\r\n  <!-- <BuyPointsModal ref=\"buyPointsModalRef\" @ok=\"handleBuyPoints\" /> -->\r\n  <AddModelNew ref=\"addModelNewRef\" @ok=\"saveModelSuccess\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, createVNode, reactive, watch, onMounted } from 'vue'\r\nimport { ExclamationCircleOutlined, PlusOutlined, GlobalOutlined } from '@ant-design/icons-vue'\r\nimport { message, Modal } from 'ant-design-vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport {\r\n  getModelConfigList,\r\n  delModelConfig,\r\n  getSelfModelBuylog,\r\n  getSelfModelConfigs,\r\n  showModelConfigList,\r\n  delUseModelConfig\r\n} from '@/api/model/index'\r\nimport PageTabs from './components/page-tabs.vue'\r\nimport ModelList from './components/model-list.vue'\r\nimport SetModelAlert from './components/set-model-alert.vue'\r\nimport SeeModelAlert from './components/see-model-alert.vue'\r\nimport { getModelTableConfig } from './model-config'\r\nimport BuyRecord from './components/buy-record.vue'\r\nimport KefuModal from './components/kefu-modal.vue'\r\nimport dayjs from 'dayjs'\r\nimport { formatPriceWithCommas } from '@/utils/index'\r\nimport { useUserStore } from '@/stores/modules/user'\r\nimport HasModalList from './components/has-modal-list.vue'\r\nimport AddModelNew from './components/add-model-new.vue'\r\nimport BeginnerGuide from '@/components/beginner-guide/index.vue'\r\nimport { useRoute } from 'vue-router'\r\n\r\nconst query = useRoute().query\r\nconst { t } = useI18n()\r\nconst activeTab = ref(+query.activeTab >= 0 ? +query.activeTab : 1)\r\n\r\nconst onChangeTab = () => {}\r\n// 获取模型列表\r\nconst modelList = ref([])\r\nconst selfLists = ref([])\r\n\r\nconst currentDefine = ref('')\r\nconst staticsData = reactive({\r\n  all_surplus: 0,\r\n  all_use: 0,\r\n  min_expiretime: '',\r\n  list: []\r\n})\r\n\r\nconst searchState = reactive({\r\n  model_supplier: void 0\r\n})\r\n\r\nconst model_type = ref('LLM')\r\n\r\nconst filterSelfLists = computed(() => {\r\n  return selfLists.value.filter((item) => item.model_type == model_type.value)\r\n})\r\n\r\n// LLM  TEXT EMBEDDING RERANK\r\nconst typeOptions = computed(() => {\r\n  return [\r\n    {\r\n      label: `${t('views.user.model.llm_model')}（${selfLists.value.filter((item) => item.model_type == 'LLM').length}）`,\r\n      value: 'LLM'\r\n    },\r\n    {\r\n      label: `${t('views.user.model.embedding_model')}（${selfLists.value.filter((item) => item.model_type == 'TEXT EMBEDDING').length}）`,\r\n      value: 'TEXT EMBEDDING'\r\n    },\r\n    {\r\n      label: `${t('views.user.model.rerank_model')}（${selfLists.value.filter((item) => item.model_type == 'RERANK').length}）`,\r\n      value: 'RERANK'\r\n    },\r\n    {\r\n      label: `${t('views.user.model.image_generation_model')}（${selfLists.value.filter((item) => item.model_type == 'IMAGE').length}）`,\r\n      value: 'IMAGE'\r\n    },\r\n    {\r\n      label: `${t('views.user.model.tts_model')}（${selfLists.value.filter((item) => item.model_type == 'TTS').length}）`,\r\n      value: 'TTS'\r\n    }\r\n  ]\r\n})\r\n\r\nconst hasAddModalList = ref([])\r\n\r\nconst getLogs = () => {\r\n  getSelfModelBuylog().then((res) => {\r\n    staticsData.all_surplus = res.data.all_surplus\r\n    staticsData.all_use = res.data.all_use\r\n    staticsData.list = res.data.list || []\r\n    staticsData.min_expiretime =\r\n      res.data.min_expiretime > 0\r\n        ? dayjs(res.data.min_expiretime * 1000).format('YYYY-MM-DD')\r\n        : '--'\r\n  })\r\n}\r\n\r\nconst kefuModalRef = ref(null)\r\nconst buyRecordRef = ref(null)\r\nconst handleShowBuyRecord = () => {\r\n  getLogs()\r\n  buyRecordRef.value.show()\r\n}\r\nconst model_supplier_maps = {\r\n  tongyi: t('views.user.model.tongyi'),\r\n  deepseek: t('views.user.model.deepseek'),\r\n  doubao: t('views.user.model.doubao')\r\n}\r\nconst model_type_maps = {\r\n  LLM: t('views.user.model.llm_model'),\r\n  'TEXT EMBEDDING': t('views.user.model.embedding_model'),\r\n  RERANK: t('views.user.model.rerank_model'),\r\n  IMAGE: t('views.user.model.image_generation_model')\r\n}\r\n\r\nconst input_map = {\r\n  input_text: t('views.user.model.text'),\r\n  input_voice: t('views.user.model.voice'),\r\n  input_image: t('views.user.model.image'),\r\n  input_video: t('views.user.model.video'),\r\n  input_document: t('views.user.model.document')\r\n}\r\n\r\nconst output_map = {\r\n  output_text: t('views.user.model.text'),\r\n  output_voice: t('views.user.model.voice'),\r\n  output_image: t('views.user.model.image'),\r\n  output_video: t('views.user.model.video')\r\n}\r\n\r\nconst getSelfList = () => {\r\n  getSelfModelConfigs({\r\n    ...searchState\r\n  }).then((res) => {\r\n    if (!res.data) {\r\n      selfLists.value = []\r\n      return\r\n    }\r\n\r\n    selfLists.value = res.data.map((item) => {\r\n      let input_desc = []\r\n      let output_desc = []\r\n      for (let key in input_map) {\r\n        if (item[key] == 1) {\r\n          input_desc.push(input_map[key])\r\n        }\r\n      }\r\n      for (let key in output_map) {\r\n        if (item[key] == 1) {\r\n          output_desc.push(output_map[key])\r\n        }\r\n      }\r\n      return {\r\n        ...item,\r\n        model_supplier_desc: model_supplier_maps[item.model_supplier],\r\n        model_type_desc: model_type_maps[item.model_type],\r\n        input_desc: input_desc.join(','),\r\n        output_desc: output_desc.join(',')\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nconst currentModalItem = computed(() => {\r\n  return hasAddModalList.value.filter((item) => item.config_info_id == currentDefine.value)[0] || {}\r\n})\r\n\r\nconst handleChangeDefine = (item) => {\r\n  currentDefine.value = item.config_info_id\r\n}\r\n\r\nwatch(\r\n  () => hasAddModalList,\r\n  () => {\r\n    if (\r\n      hasAddModalList.value.filter((item) => item.config_info_id == currentDefine.value).length == 0\r\n    ) {\r\n      currentDefine.value = hasAddModalList.value[0].config_info_id\r\n    }\r\n  },\r\n  {\r\n    deep: true\r\n  }\r\n)\r\n\r\nconst canAddModelList = ref([])\r\n\r\nconst getModelList = () => {\r\n  getModelConfigList().then((res) => {\r\n    let list = res.data || []\r\n\r\n    list.forEach((item) => {\r\n      item.config_info_id = item.model_define == 'chatwiki' ? 'chatwiki' : item.config_info.id\r\n    })\r\n    hasAddModalList.value = list\r\n  })\r\n}\r\n\r\nconst addModelNewRef = ref(null)\r\nconst handleOpenAddModelNew = (data, record) => {\r\n  addModelNewRef.value.show(data, record)\r\n}\r\n\r\nconst handleDelModelNew = (record) => {\r\n  Modal.confirm({\r\n    title: t('views.user.model.delete_model_confirm'),\r\n    icon: createVNode(ExclamationCircleOutlined),\r\n    content: t('views.user.model.confirm_delete_model', { name: record.show_model_name }),\r\n    onOk() {\r\n      delUseModelConfig({ id: record.id }).then(() => {\r\n        message.success(t('views.user.model.delete_success'))\r\n        getModelList()\r\n        getCanAddModelList()\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst getCanAddModelList = () => {\r\n  showModelConfigList().then((res) => {\r\n    canAddModelList.value = res.data || []\r\n  })\r\n}\r\n\r\nonMounted(() => {\r\n  getModelList()\r\n  // getSelfList()\r\n  getCanAddModelList()\r\n})\r\n\r\n// 查看模型\r\nconst seeModelAlertRef = ref(null)\r\nconst handleSeeModel = (model) => {\r\n  seeModelAlertRef.value.open(model)\r\n}\r\n\r\n// 新增模型\r\nconst handleNewModel = (model) => {\r\n  setModelAlertRef.value.open(model)\r\n}\r\n\r\n// 添加模型\r\nconst handleAddModel = (model) => {\r\n  setModelAlertRef.value.open(model)\r\n}\r\n\r\n// 修改模型配置\r\nconst setModelAlertRef = ref(null)\r\nconst handleEditModel = (model, record) => {\r\n  setModelAlertRef.value.open(model, record)\r\n}\r\n\r\nconst saveModelSuccess = () => {\r\n  getModelList()\r\n  getCanAddModelList()\r\n}\r\n\r\nconst configSaveOk = (id) => {\r\n  if (activeTab.value == 0) {\r\n    activeTab.value = 1\r\n    currentDefine.value = id\r\n  }\r\n  saveModelSuccess()\r\n}\r\n\r\n// 删除模型\r\nconst handleRemoveModel = (data) => {\r\n  Modal.confirm({\r\n    title: t('views.user.model.deleteModel'),\r\n    icon: createVNode(ExclamationCircleOutlined),\r\n    content: t('views.user.model.deleteModelContent'),\r\n    onOk() {\r\n      delModelConfig({ id: data.id }).then(() => {\r\n        message.success(t('common.deleteSuccessful'))\r\n        getModelList()\r\n        getCanAddModelList()\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst buyPointsModalRef = ref(null)\r\nconst openBuyPointsModal = () => {\r\n  buyPointsModalRef.value.open()\r\n}\r\nconst handleBuyPoints = ({ points }) => {\r\n  const userStore = useUserStore()\r\n  let token = userStore.getToken\r\n  let url = `/manage/createOrder?token=${token}&buy_unit=${points}`\r\n\r\n  window.location.href = url\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.user-model-page {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-bottom: 1px solid #fff;\r\n  border-right: 1px solid #fff;\r\n  background-color: #f2f4f7;\r\n\r\n  .list-wrapper {\r\n    height: calc(100% - 47px);\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n  }\r\n}\r\n.alert-content-box {\r\n  padding: 16px 24px 0 24px;\r\n  .ant-alert {\r\n    align-items: baseline;\r\n  }\r\n  .title {\r\n    font-size: 15px;\r\n    font-weight: 600;\r\n    color: #333;\r\n  }\r\n}\r\n\r\n.content-body-box {\r\n  height: 100%;\r\n  background: #fff;\r\n  overflow: hidden;\r\n  display: flex;\r\n  border-top: 1px solid #f0f0f0;\r\n  .model-group-box {\r\n    width: 236px;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    padding: 8px;\r\n    scrollbar-width: none;\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n    .model-list-item {\r\n      height: 42px;\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 0 8px;\r\n      border-radius: 6px;\r\n      gap: 8px;\r\n      cursor: pointer;\r\n      line-height: 22px;\r\n      font-size: 14px;\r\n      .model-name {\r\n        flex: 1;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        color: #595959;\r\n      }\r\n      .avatar {\r\n        width: 22px;\r\n        // height: 24px;\r\n      }\r\n      &:hover {\r\n        background-color: #e4e6eb;\r\n      }\r\n      &.active {\r\n        background-color: #e6efff;\r\n      }\r\n    }\r\n  }\r\n  .model-content-box {\r\n    border-left: 1px solid #f0f0f0;\r\n    flex: 1;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    .chatwiki-model-box {\r\n      padding: 24px;\r\n      height: 100%;\r\n      overflow: hidden;\r\n      padding-bottom: 0;\r\n      display: flex;\r\n      flex-direction: column;\r\n      padding-right: 0;\r\n    }\r\n    .statics-block {\r\n      display: flex;\r\n      gap: 24px;\r\n      .statics-item {\r\n        width: 208px;\r\n        height: 90px;\r\n        border-radius: 6px;\r\n        background: #f2f4f7;\r\n        padding: 16px 24px;\r\n        .title {\r\n          color: #7a8699;\r\n        }\r\n        .num {\r\n          line-height: 32px;\r\n          font-weight: 600;\r\n          font-size: 24px;\r\n          color: #242933;\r\n          margin-top: 4px;\r\n        }\r\n      }\r\n    }\r\n    .btn-block {\r\n      width: 104px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 8px;\r\n    }\r\n\r\n    .search-block {\r\n      color: #262626;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding-right: 24px;\r\n      margin-top: 24px;\r\n      gap: 24px;\r\n    }\r\n    .list-box {\r\n      margin-top: 8px;\r\n      flex: 1;\r\n      overflow-y: auto;\r\n      &::v-deep(.ant-segmented) {\r\n        color: #262626;\r\n        .ant-segmented-item-selected {\r\n          color: #2475fc;\r\n        }\r\n      }\r\n    }\r\n\r\n    .aleat-box {\r\n      .ant-alert-info {\r\n        background: var(--01-, #e5efff);\r\n        border: 1px solid var(--01-, #659dfc);\r\n      }\r\n      .text {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 8px;\r\n        color: #3a4559;\r\n        line-height: 22px;\r\n        font-size: 14px;\r\n      }\r\n      .alert-description {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n      }\r\n      .btn-box {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 8px;\r\n      }\r\n    }\r\n    .message-total-tip {\r\n      margin-top: 16px;\r\n      color: #262626;\r\n      line-height: 22px;\r\n    }\r\n  }\r\n}\r\n.guide-box{\r\n  // width: 100%;\r\n  // height: 100%;\r\n  // overflow-y: auto;\r\n}\r\n</style>\r\n"],"names":["useI18n","emit","__emit","props","__props","tabs","ref","handleClickTab","val","_openBlock","_createElementBlock","_hoisted_1","_Fragment","_renderList","tab","_normalizeClass","$event","_unref","_hoisted_2","handleSee","item","toRaw","handleAdd","_createElementVNode","_hoisted_3","_hoisted_5","_toDisplayString","_hoisted_6","tag","index","_createVNode","_component_a_tooltip","_createSlots","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_createBlock","_component_a_button","inputDefaultConfig","radioDefaultConfig","selectDefaultConfig","modelFieldConfig","getModelFieldConfig","fieldName","model_define","config","t","useForm","Form","title","modelConfig","reactive","show","formRules","formState","formItems","modelNames","open","data","record","model_icon_url","model_name","history_config_params","config_params","formRulesTemp","formStateTemp","formItemsTemp","key","field","options","clearValidate","resetFields","validate","validateInfos","handleOk","saveEditModel","saveAddModel","err","handleCancel","confirmLoading","newData","addModelConfig","res","message","editModelConfig","__expose","_component_a_modal","_hoisted_4","_component_a_form","_component_a_form_item","_mergeProps","_component_a_radio_group","_component_a_radio","_component_a_select","_component_a_select_option","_component_a_input","use_model_configs","_component_a_table","_component_a_table_column","formatTime","time","dayjs","_withCtx","_component_a_alert","sizeOptions","getSizeOptions","input_map","output_map","model_type","config_info","computed","getSizeDesc","image_sizes","it","tableData","input_desc","output_desc","image_generation_info","image_sizes_desc","typeOptions","handleAddModel","handleEditConfig","handleDelconfig","hadnleDelModel","KeyOutlined","_component_a_segmented","_createTextVNode","_hoisted_16","_component_a_divider","_hoisted_17","showThinkTypeList","model_info","supported_type","formRef","resetData","image_generation","isLoading","parmas","saveUseModelConfig","handleTypeChange","handleModelNameBlur","_cache","_component_a_checkbox_group","_component_a_input_number","_component_a_switch","_component_a_flex","_component_a_checkbox","query","useRoute","activeTab","onChangeTab","selfLists","currentDefine","staticsData","searchState","filterSelfLists","hasAddModalList","getLogs","getSelfModelBuylog","kefuModalRef","buyRecordRef","handleShowBuyRecord","model_supplier_maps","model_type_maps","getSelfList","getSelfModelConfigs","currentModalItem","handleChangeDefine","watch","canAddModelList","getModelList","getModelConfigList","list","addModelNewRef","handleOpenAddModelNew","handleDelModelNew","Modal","createVNode","ExclamationCircleOutlined","delUseModelConfig","getCanAddModelList","showModelConfigList","onMounted","seeModelAlertRef","handleSeeModel","model","handleNewModel","setModelAlertRef","handleEditModel","saveModelSuccess","configSaveOk","id","handleRemoveModel","delModelConfig","buyPointsModalRef","openBuyPointsModal","PageTabs","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","HasModalList","_hoisted_31","BeginnerGuide","ModelList","SeeModelAlert","SetModelAlert","BuyRecord","KefuModal","AddModelNew"],"mappings":"spCA+CA,KAAM,CAAE,CAAC,EAAKA,GAAQ,kBAAkB,EAElCC,EAAOC,EAEPC,EAAQC,EAMRC,EAAOC,EAAI,CACf,CACE,MAAO,EACP,MAAO,EAAE,qBAAqB,EAC9B,QAAS,qBACb,EACE,CACE,MAAO,EACP,MAAO,EAAE,cAAc,EACvB,QAAS,cACb,EACE,CACE,MAAO,EACP,MAAO,EAAE,eAAe,EACxB,QAAS,eACb,CACA,CAAC,EAEKC,EAAkBC,GAAQ,CAC9BP,EAAK,eAAgBO,CAAG,EACxBP,EAAK,SAAUO,CAAG,CACpB,gBA1CEC,EAAA,EAAAC,EAKM,MALNC,GAKM,QAJJD,EAGME,EAAA,KAAAC,EAFUR,EAAA,MAAPS,QADTJ,EAGM,MAAA,CAHD,MAAKK,GAAA,CAAC,WAAU,CAAA,OAAmBZ,EAAM,OAASW,EAAI,KAAK,CAAA,CAAA,EAAK,QAAKE,GAAET,EAAeO,EAAI,KAAK,EAC7E,IAAKA,EAAI,SAC3BG,EAAA,CAAA,EAAEH,EAAI,OAAO,CAAA,EAAA,GAAAI,EAAA,odC2JtB,KAAM,CAAE,CAAC,EAAKlB,GAAQ,wCAAwC,EAExDC,EAAOC,EAIPC,EAAQC,EAWRe,EAAaC,GAAS,CAC1BnB,EAAK,MAAOoB,GAAMD,CAAI,CAAC,CACzB,EAYME,EAAaF,GAAS,CAC1BnB,EAAK,MAAOoB,GAAMD,CAAI,CAAC,CACzB,gCAzEE,OAAAX,EAAA,EAAAC,EAgCM,MAhCNC,GAgCM,EA/BJF,EAAA,EAAA,EAAAC,EA8BME,EAAA,KAAAC,EA9BiCV,EAAM,KAAdiB,QAA/BV,EA8BM,MAAA,CA9BD,MAAM,aAAyC,IAAKU,EAAK,eAC5DG,EAsBM,MAtBNL,GAsBM,CArBJK,EAiBM,MAjBNC,GAiBM,CAhBJD,EAA4D,MAAA,CAAvD,MAAM,aAAc,IAAKH,EAAK,eAAgB,IAAI,eACvDG,EAAmD,MAAnDE,GAAmDC,EAAxBN,EAAK,UAAU,EAAA,CAAA,cAC1CG,EAAwB,MAAA,CAAnB,MAAM,MAAM,EAAA,KAAA,EAAA,GACjBA,EAYM,MAZNI,GAYM,EAXJlB,EAAA,EAAA,EAAAC,EAUME,SAVsBQ,EAAK,aAAY,CAAhCQ,EAAKC,SAAlBnB,EAUM,MAAA,CAV0C,IAAKmB,GAAK,CACxDC,EAQYC,EAAA,KAAAC,GAAA,WADV,IAAkC,CAAlCT,EAAkC,OAAlCU,GAAkCP,EAAbE,CAAG,EAAA,CAAA,UANDA,GAAG,YAAf,aAA0B,IAAsB,KAAnBX,EAAA,CAAA,EAAC,aAAA,CAAA,EAAA,CAAA,aACbW,GAAG,uBAApB,aAA0C,IAA4B,KAAzBX,EAAA,CAAA,EAAC,mBAAA,CAAA,EAAA,CAAA,aAC7BW,GAAG,eAApB,aAAkC,IAAyB,KAAtBX,EAAA,CAAA,EAAC,gBAAA,CAAA,EAAA,CAAA,aACrBW,GAAG,oBAApB,aAAuC,IAA8B,KAA3BX,EAAA,CAAA,EAAC,qBAAA,CAAA,EAAA,CAAA,aAC1BW,GAAG,YAApB,aAA+B,IAAsB,KAAnBX,EAAA,CAAA,EAAC,aAAA,CAAA,EAAA,CAAA,aAClBW,GAAG,cAApB,aAAiC,IAAwB,KAArBX,EAAA,CAAA,EAAC,eAAA,CAAA,EAAA,CAAA,0CAMxDM,EAEM,MAFNW,GAEM,CADJX,EAAkD,MAAlDY,GAAkDT,EAAvBN,EAAK,SAAS,EAAA,CAAA,MAG7CG,EAKM,MALNa,GAKM,CAJYhB,EAAK,cAAY,aAAjCiB,EAEaC,EAAA,OAFiC,MAAM,UAAW,QAAKtB,GAAEG,EAAUC,CAAI,cAAG,IAErF,KADAH,EAAA,CAAA,EAAC,YAAA,CAAA,EAAA,CAAA,kCAEHa,EAAmFQ,EAAA,CAAzE,MAAM,UAAW,QAAKtB,GAAEM,EAAUF,CAAI,cAAG,IAAqB,KAAlBH,EAAA,CAAA,EAAC,YAAA,CAAA,EAAA,CAAA,oFCvLzDsB,EAAqB,CACzB,cAAe,QACf,YAAa,GACb,aAAc,EAChB,EAEMC,GAAqB,CACzB,cAAe,QACf,aAAc,MAChB,EAEMC,GAAsB,CAC1B,cAAe,SACf,aAAc,MAChB,EAEMC,GAAmB,CACvB,GAAI,CACF,OAAQ,EACZ,EACE,YAAa,CACX,GAAGH,EACH,MAAO,OACP,YAAa,iBACb,MAAO,CACL,CACE,SAAU,GACV,QAAS,UACT,QAAS,QACjB,CACA,CACA,EACE,YAAa,CACX,GAAGC,GACH,IAAK,cACL,MAAO,OACP,WAAY,iBACZ,QAAS,CAAA,EACT,SAAU,GACV,MAAO,CACL,CACE,SAAU,GACV,QAAS,UACT,QAAS,QACjB,CACA,CACA,EACE,cAAe,CACb,cAAe,SACf,aAAc,IACd,IAAK,gBACL,MAAO,OACP,WAAY,gBACZ,QAAS,CACP,CACE,MAAO,gCACP,MAAO,GACf,EACM,CACE,MAAO,qCACP,MAAO,GACf,EACM,CACE,MAAO,mCACP,MAAO,GACf,CACA,EACI,SAAU,GACV,MAAO,CACL,CACE,SAAU,GACV,QAAS,UACT,QAAS,QACjB,CACA,CACA,EACE,gBAAiB,CACf,GAAGD,EACH,MAAO,OACP,YAAa,mBACb,MAAO,CACL,CACE,SAAU,GACV,QAAS,UACT,QAAS,QACjB,CACA,CACA,EACE,WAAY,CACV,GAAGA,EACH,MAAO,OACP,YAAa,YACb,MAAO,CACL,CACE,SAAU,GACV,QAAS,UACT,QAAS,QACjB,CACA,CACA,EACE,aAAc,CACZ,GAAGA,EACH,MAAO,SACP,YAAa,cACb,MAAO,CACL,CACE,SAAU,GACV,QAAS,YACT,QAAS,QACjB,CACA,CACA,EACE,qBAAsB,CACpB,GAAGA,EACH,MAAO,UACP,YAAa,eACb,MAAO,CACL,CACE,SAAU,GACV,QAAS,aACT,QAAS,QACjB,CACA,CACA,EACE,UAAW,CACT,GAAGA,EACH,MAAO,QACP,YAAa,aACb,MAAO,CACL,CACE,SAAU,GACV,QAAS,WACT,QAAS,QACjB,CACA,CACA,EACE,QAAS,CACP,GAAGA,EACH,MAAO,UACP,YAAa,eACb,MAAO,CACL,CACE,SAAU,GACV,QAAS,aACT,QAAS,QACjB,CACA,CACA,EACE,WAAY,CACV,GAAGA,EACH,MAAO,aACP,YAAa,kBACb,MAAO,CACL,CACE,SAAU,GACV,QAAS,gBACT,QAAS,QACjB,CACA,CACA,EACE,YAAa,CACX,GAAGE,GACH,MAAO,SACP,YAAa,cACb,WAAY,eACZ,QAAS,CAAA,EACT,MAAO,CACL,CACE,SAAU,GACV,QAAS,YACT,QAAS,QACjB,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"}