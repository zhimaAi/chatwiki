var KC=Object.defineProperty;var JC=(n,e,t)=>e in n?KC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Cm=(n,e,t)=>JC(n,typeof e!="symbol"?e+"":e,t);import{m as QC,w as ew,n as tw,o as B5,p as wm,q as nw,t as xm}from"./index-mwk_dyAT.js";import{u as Qs}from"./robot-DM4IWDeQ.js";import{aK as Bo,aL as Yi,aM as km,aN as ui,aO as ea,aP as Ji,aQ as hn,aR as cl,aS as hs,aT as ps,aU as rw,aV as j5,aW as ta,aX as bd,aY as na,aZ as wn,a_ as Xn,a$ as F1,b0 as V1,b1 as Df,b2 as ra,b3 as jo,b4 as Cd,b5 as F5,b6 as Ya,b7 as V5,b8 as iw,b9 as ow,ba as xu,bb as $1,bc as sw,bd as aw,be as lw,bf as W1,bg as uw,bh as $5,y as ln,bi as dw,P as Hs,bj as cw,C as W5,F as z5,T as Pf,x as ku,K as No,X as fw,bk as hw,G as pw,bl as Sm,bm as vw,N as gw,U as mw,bn as yw,I as U5,b as Ct,d as bo,bo as z0,B as cr,M as Mi,ax as Or,bp as _w,k as ss,a5 as G5,a6 as X5,bq as bw,a3 as Cw,n as Z5,aH as ww,aI as xw}from"../../index-M_xDbIir.js";import{e as Oi,a as Cn,s as Ga,o as vs,j,b as nn,d as Fe,z as Pn,h as kw,p as Sw,ac as Em,v as Ew,x as wi,w as bn,a3 as U0,q as or,N as we,O as oe,a6 as ct,X as L,U as J,Z as ze,_ as rt,F as Et,a1 as Rt,a5 as Lr,S as Qe,a2 as Y5,u as Ue,a7 as Kt,H as G0,I as X0,B as fl,k as Wn,ab as wd,y as q5,$ as xd,a0 as Qt,V as K5,Y as yo,G as gs,M as Mw,f as Ow,W as Aw,a9 as Lw,D as Tw}from"./vue-chunks-BRsu9_To.js";import{u as Nw}from"./global-B1shEXNi.js";import{_ as Ai}from"./index-B0RyY99D.js";import{n as d0,b as Xs,u as Dw,M as z1,_ as c0,a as Pw,E as Rw}from"./index-B3CPYV6x.js";import{b as Hw,p as Ws}from"./pick-BW-qU63h.js";import{t as Xt,b as Z0,c as li,a as Qi,d as qt,e as Y0,k as eo,g as ia,f as qi,h as oa,i as Wt,j as Iw,l as Zn,m as Bw,n as jw,o as Fw,p as xi,q as Vw,r as as,s as J5,u as Q5,v as $w,w as ey,x as ty,y as Ww,z as zw,A as Uw,B as ny,C as ry,D as Gw,E as iy,G as ds,H as Ht,I as Xw,J as Zw,K as Yw,L as qw,F as to,_ as Co}from"./index-V0sRhm34.js";import{c as U1,b as oy,a as sa,d as Kw,e as Jw,f as Fo,p as Qw}from"./index-BSroSjtu.js";import{i as no,s as ex,a as tx,b as ki,f as aa,c as Fr,h as nx,d as sy,e as G1,g as rx,j as ix}from"./hasIn-DEwqUvIo.js";import{k as Li,a as q0,S as ox,b as sx,c as ax,m as ay,d as la,e as lx,s as ux,f as ly,g as uy,i as Rf,h as dx,T as cx}from"./Trigger-CkoSoTBd.js";import{i as kd,g as fx}from"./isPlainObject-A-SljaBF.js";import{t as Io,d as Sd,b as hx,a as px,n as vx}from"./responsiveObserve-CRSSr9-w.js";import{a as dy,b as gx,c as cy,d as K0,e as mx}from"./collapseMotion-Brd6xpAT.js";import{i as fy}from"./isNumber-CN3TzjXo.js";import{f as yx,a as hy}from"./index-Bg1_T7h9.js";import"./index-UA7y0weg.js";import{I as Vr}from"./Input-Bx6Hhp2b.js";import{P as rr}from"./PlusOutlined-DQ91YM1E.js";import{Q as ir}from"./QuestionCircleOutlined-B5SgdGK5.js";import{S as Qr,a as ei,i as _x}from"./index-khLftDou.js";import{_ as ua}from"./index-pt58wSpn.js";import{_ as Ed}from"./TextArea-C57yjED6.js";import{M as Md}from"./model-select-Cwu3Of2q.js";import{D as J0}from"./DownOutlined-CI2wWtcJ.js";import{U as Od}from"./UpOutlined-DzDRcb4z.js";import{u as bx,F as Cx,_ as da}from"./FormItemContext-DRzYyKbC.js";import{S as Ad}from"./index-D_6sH2t0.js";import{B as wx,i as xx,b as kx,c as Sx,d as Ex,e as Mx,f as Ox,g as Ax,a as Mm}from"./index-Btmz2D3B.js";import{_ as Q0}from"./index-zfB4uxDT.js";import{_ as wo}from"./index-tezmKtYb.js";import{I as py}from"./index-p3rK-IQL.js";import{D as Lx}from"./DownloadOutlined-Cn7Sl8HY.js";import{_ as hl}from"./index-CSIZCO5e.js";import{_ as pl}from"./index-CVff9qN-.js";import{P as vl,T as Tx}from"./top-header-BlaCgIm0.js";import"./index-Dob-Z8xa.js";import{_ as vy,R as gy}from"./RadioButton-Bb2kU0Fd.js";import{S as Nx}from"./SearchOutlined-KUcJKUZw.js";import{S as Dx}from"./SyncOutlined-Ddoh8W5Z.js";import{_ as Px,C as Rx}from"./index-Bn-th77D.js";import{h as my}from"./index-Bm5IPe57.js";import{S as Hx}from"./SettingOutlined-fVP8x92y.js";import{d as Ix}from"./vuedraggable.umd-CIIT_a56.js";import{E as yy}from"./EditOutlined-Cg8Bo7WJ.js";import{_ as X1}from"./empty-CzGZrENG.js";import{a as Bx,g as jx}from"./index-B8KmO6dn.js";import"./index-D7wU2qJF.js";import{D as _y}from"./dropdown-DCrM-GKY.js";import{_ as Fx}from"./index-D8nD-csV.js";import{C as Om}from"./CaretRightOutlined-BIHz9IjD.js";import{T as Vx}from"./index-D48_VNbE.js";import{C as $x}from"./ClockCircleOutlined-DkyJWIQA.js";import{A as Wx}from"./add-group-BpSh4rtW.js";import{_ as zx}from"./index-C31FtQ7t.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./colors-C56HAaAp.js";import"./shallowequal-C0xnIuy8.js";import"./slide-DzpBPoRp.js";import"./index-CMIXnI2Z.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./Col-CFWsj1wI.js";import"./Password-5njtOUlo.js";import"./inputProps-DsSGhBt6.js";import"./index-CsySi7_q.js";import"./CheckOutlined-DVulUWsT.js";import"./useRefs-CRRjy_qY.js";import"./useMergedState-C0iIHNGF.js";import"./LeftOutlined-DbHJ8blF.js";import"./RightOutlined-og3IpneX.js";import"./CaretDownOutlined-C4FFiOW0.js";import"./Search-w33R1D1l.js";import"./List-DKTpjnke.js";import"./move-DD64vPeJ.js";import"./cu-scroll-RG6yxhtf.js";import"./pull-up.esm-D94Swpvl.js";import"./observe-dom.esm-CyCedSm-.js";import"./index-SuSZ4kHz.js";import"./index-RSdO8Qbf.js";import"./Checkbox-pA5GUfu7.js";import"./Dropdown-Dh4cjnmT.js";import"./CaretDownFilled-BzxZQg7Y.js";var Ux=NaN;function Am(n){return typeof n=="number"?n:Bo(n)?Ux:+n}function Ld(n,e){return function(t,r){var i;if(t===void 0&&r===void 0)return e;if(t!==void 0&&(i=t),r!==void 0){if(i===void 0)return r;typeof t=="string"||typeof r=="string"?(t=Yi(t),r=Yi(r)):(t=Am(t),r=Am(r)),i=n(t,r)}return i}}var Gx=Ld(function(n,e){return n+e},0),Xx="Expected a function";function Zx(n,e){if(typeof e!="function")throw new TypeError(Xx);return n=Xt(n),function(){if(--n<1)return e.apply(this,arguments)}}var Su=km&&new km,by=Su?function(n,e){return Su.set(n,e),n}:no;function O0(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Z0(n.prototype),r=n.apply(t,e);return ui(r)?r:t}}var Yx=1;function qx(n,e,t){var r=e&Yx,i=O0(n);function o(){var a=this&&this!==ea&&this instanceof o?i:n;return a.apply(r?t:this,arguments)}return o}var Kx=Math.max;function Cy(n,e,t,r){for(var i=-1,o=n.length,a=t.length,l=-1,u=e.length,c=Kx(o-a,0),f=Array(u+c),v=!r;++l<u;)f[l]=e[l];for(;++i<a;)(v||i<o)&&(f[t[i]]=n[i]);for(;c--;)f[l++]=n[i++];return f}var Jx=Math.max;function wy(n,e,t,r){for(var i=-1,o=n.length,a=-1,l=t.length,u=-1,c=e.length,f=Jx(o-l,0),v=Array(f+c),m=!r;++i<f;)v[i]=n[i];for(var y=i;++u<c;)v[y+u]=e[u];for(;++a<l;)(m||i<o)&&(v[y+t[a]]=n[i++]);return v}function Qx(n,e){for(var t=n.length,r=0;t--;)n[t]===e&&++r;return r}function Td(){}var ek=4294967295;function en(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ek,this.__views__=[]}en.prototype=Z0(Td.prototype);en.prototype.constructor=en;var Z1=Su?function(n){return Su.get(n)}:d0,Xa={},tk=Object.prototype,nk=tk.hasOwnProperty;function hu(n){for(var e=n.name+"",t=Xa[e],r=nk.call(Xa,e)?t.length:0;r--;){var i=t[r],o=i.func;if(o==null||o==n)return i.name}return e}function Si(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}Si.prototype=Z0(Td.prototype);Si.prototype.constructor=Si;function xy(n){if(n instanceof en)return n.clone();var e=new Si(n.__wrapped__,n.__chain__);return e.__actions__=li(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}var rk=Object.prototype,ik=rk.hasOwnProperty;function Z(n){if(Ji(n)&&!hn(n)&&!(n instanceof en)){if(n instanceof Si)return n;if(ik.call(n,"__wrapped__"))return xy(n)}return new Si(n)}Z.prototype=Td.prototype;Z.prototype.constructor=Z;function Hf(n){var e=hu(n),t=Z[e];if(typeof t!="function"||!(e in en.prototype))return!1;if(n===t)return!0;var r=Z1(t);return!!r&&n===r[0]}var ky=ex(by),ok=/\{\n\/\* \[wrapped with (.+)\] \*/,sk=/,? & /;function ak(n){var e=n.match(ok);return e?e[1].split(sk):[]}var lk=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function uk(n,e){var t=e.length;if(!t)return n;var r=t-1;return e[r]=(t>1?"& ":"")+e[r],e=e.join(t>2?", ":" "),n.replace(lk,`{
/* [wrapped with `+e+`] */
`)}var dk=1,ck=2,fk=8,hk=16,pk=32,vk=64,gk=128,mk=256,yk=512,_k=[["ary",gk],["bind",dk],["bindKey",ck],["curry",fk],["curryRight",hk],["flip",yk],["partial",pk],["partialRight",vk],["rearg",mk]];function bk(n,e){return Qi(_k,function(t){var r="_."+t[0];e&t[1]&&!dy(n,r)&&n.push(r)}),n.sort()}function Sy(n,e,t){var r=e+"";return tx(n,uk(r,bk(ak(r),t)))}var Ck=4,wk=8,Lm=32,Tm=64;function Ey(n,e,t,r,i,o,a,l,u,c){var f=e&wk,v=f?a:void 0,m=f?void 0:a,y=f?o:void 0,_=f?void 0:o;e|=f?Lm:Tm,e&=~(f?Tm:Lm),e&Ck||(e&=-4);var b=[n,e,i,y,v,_,m,l,u,c],w=t.apply(void 0,b);return Hf(n)&&ky(w,b),w.placeholder=r,Sy(w,n,e)}function gl(n){var e=n;return e.placeholder}var xk=Math.min;function kk(n,e){for(var t=n.length,r=xk(e.length,t),i=li(n);r--;){var o=e[r];n[r]=cl(o,t)?i[o]:void 0}return n}var Nm="__lodash_placeholder__";function cs(n,e){for(var t=-1,r=n.length,i=0,o=[];++t<r;){var a=n[t];(a===e||a===Nm)&&(n[t]=Nm,o[i++]=t)}return o}var Sk=1,Ek=2,Mk=8,Ok=16,Ak=128,Lk=512;function Nd(n,e,t,r,i,o,a,l,u,c){var f=e&Ak,v=e&Sk,m=e&Ek,y=e&(Mk|Ok),_=e&Lk,b=m?void 0:O0(n);function w(){for(var x=arguments.length,k=Array(x),N=x;N--;)k[N]=arguments[N];if(y)var D=gl(w),V=Qx(k,D);if(r&&(k=Cy(k,r,i,y)),o&&(k=wy(k,o,a,y)),x-=V,y&&x<c){var U=cs(k,D);return Ey(n,e,Nd,w.placeholder,t,k,U,l,u,c-x)}var B=v?t:this,G=m?B[n]:n;return x=k.length,l?k=kk(k,l):_&&x>1&&k.reverse(),f&&u<x&&(k.length=u),this&&this!==ea&&this instanceof w&&(G=b||O0(G)),G.apply(B,k)}return w}function Tk(n,e,t){var r=O0(n);function i(){for(var o=arguments.length,a=Array(o),l=o,u=gl(i);l--;)a[l]=arguments[l];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:cs(a,u);if(o-=c.length,o<t)return Ey(n,e,Nd,i.placeholder,void 0,a,c,void 0,void 0,t-o);var f=this&&this!==ea&&this instanceof i?r:n;return ki(f,this,a)}return i}var Nk=1;function Dk(n,e,t,r){var i=e&Nk,o=O0(n);function a(){for(var l=-1,u=arguments.length,c=-1,f=r.length,v=Array(f+u),m=this&&this!==ea&&this instanceof a?o:n;++c<f;)v[c]=r[c];for(;u--;)v[c++]=arguments[++l];return ki(m,i?t:this,v)}return a}var Dm="__lodash_placeholder__",ef=1,Pk=2,Rk=4,Pm=8,t0=128,Rm=256,Hk=Math.min;function Ik(n,e){var t=n[1],r=e[1],i=t|r,o=i<(ef|Pk|t0),a=r==t0&&t==Pm||r==t0&&t==Rm&&n[7].length<=e[8]||r==(t0|Rm)&&e[7].length<=e[8]&&t==Pm;if(!(o||a))return n;r&ef&&(n[2]=e[2],i|=t&ef?0:Rk);var l=e[3];if(l){var u=n[3];n[3]=u?Cy(u,l,e[4]):l,n[4]=u?cs(n[3],Dm):e[4]}return l=e[5],l&&(u=n[5],n[5]=u?wy(u,l,e[6]):l,n[6]=u?cs(n[5],Dm):e[6]),l=e[7],l&&(n[7]=l),r&t0&&(n[8]=n[8]==null?e[8]:Hk(n[8],e[8])),n[9]==null&&(n[9]=e[9]),n[0]=e[0],n[1]=i,n}var Bk="Expected a function",Hm=1,jk=2,Im=8,Bm=16,jm=32,Fk=64,Fm=Math.max;function Vo(n,e,t,r,i,o,a,l){var u=e&jk;if(!u&&typeof n!="function")throw new TypeError(Bk);var c=r?r.length:0;if(c||(e&=-97,r=i=void 0),a=a===void 0?a:Fm(Xt(a),0),l=l===void 0?l:Xt(l),c-=i?i.length:0,e&Fk){var f=r,v=i;r=i=void 0}var m=u?void 0:Z1(n),y=[n,e,t,r,i,f,v,o,a,l];if(m&&Ik(y,m),n=y[0],e=y[1],t=y[2],r=y[3],i=y[4],l=y[9]=y[9]===void 0?u?0:n.length:Fm(y[9]-c,0),!l&&e&(Im|Bm)&&(e&=-25),!e||e==Hm)var _=qx(n,e,t);else e==Im||e==Bm?_=Tk(n,e,l):(e==jm||e==(Hm|jm))&&!i.length?_=Dk(n,e,t,r):_=Nd.apply(void 0,y);var b=m?by:ky;return Sy(b(_,y),n,e)}var Vk=128;function My(n,e,t){return e=t?void 0:e,e=n&&e==null?n.length:e,Vo(n,Vk,void 0,void 0,void 0,void 0,e)}function Ir(n,e,t){if(!ui(t))return!1;var r=typeof e;return(r=="number"?hs(t)&&cl(e,t.length):r=="string"&&e in t)?ps(t[e],n):!1}function ml(n){return qt(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,a&&Ir(t[0],t[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=t[r];l&&n(e,l,r,o)}return e})}var $k=Object.prototype,Wk=$k.hasOwnProperty,rn=ml(function(n,e){if(rw(e)||hs(e)){Y0(e,Li(e),n);return}for(var t in e)Wk.call(e,t)&&j5(n,t,e[t])}),zk=ml(function(n,e){Y0(e,eo(e),n)}),If=ml(function(n,e,t,r){Y0(e,eo(e),n,r)}),Uk=ml(function(n,e,t,r){Y0(e,Li(e),n,r)});function Y1(n,e){for(var t=-1,r=e.length,i=Array(r),o=n==null;++t<r;)i[t]=o?void 0:ia(n,e[t]);return i}var Gk=aa(Y1),Xk="[object DOMException]",Zk="[object Error]";function q1(n){if(!Ji(n))return!1;var e=ta(n);return e==Zk||e==Xk||typeof n.message=="string"&&typeof n.name=="string"&&!kd(n)}var Oy=qt(function(n,e){try{return ki(n,void 0,e)}catch(t){return q1(t)?t:new Error(t)}}),Yk="Expected a function";function Ay(n,e){var t;if(typeof e!="function")throw new TypeError(Yk);return n=Xt(n),function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=void 0),t}}var qk=1,Kk=32,Dd=qt(function(n,e,t){var r=qk;if(t.length){var i=cs(t,gl(Dd));r|=Kk}return Vo(n,r,e,t,i)});Dd.placeholder={};var Jk=aa(function(n,e){return Qi(e,function(t){t=bd(t),na(n,t,Dd(n[t],n))}),n}),Qk=1,eS=2,tS=32,K1=qt(function(n,e,t){var r=Qk|eS;if(t.length){var i=cs(t,gl(K1));r|=tS}return Vo(e,r,n,t,i)});K1.placeholder={};function ms(n,e,t){var r=n.length;return t=t===void 0?r:t,!e&&t>=r?n:qi(n,e,t)}var nS="\\ud800-\\udfff",rS="\\u0300-\\u036f",iS="\\ufe20-\\ufe2f",oS="\\u20d0-\\u20ff",sS=rS+iS+oS,aS="\\ufe0e\\ufe0f",lS="\\u200d",uS=RegExp("["+lS+nS+sS+aS+"]");function yl(n){return uS.test(n)}function dS(n){return n.split("")}var Ly="\\ud800-\\udfff",cS="\\u0300-\\u036f",fS="\\ufe20-\\ufe2f",hS="\\u20d0-\\u20ff",pS=cS+fS+hS,vS="\\ufe0e\\ufe0f",gS="["+Ly+"]",Bf="["+pS+"]",jf="\\ud83c[\\udffb-\\udfff]",mS="(?:"+Bf+"|"+jf+")",Ty="[^"+Ly+"]",Ny="(?:\\ud83c[\\udde6-\\uddff]){2}",Dy="[\\ud800-\\udbff][\\udc00-\\udfff]",yS="\\u200d",Py=mS+"?",Ry="["+vS+"]?",_S="(?:"+yS+"(?:"+[Ty,Ny,Dy].join("|")+")"+Ry+Py+")*",bS=Ry+Py+_S,CS="(?:"+[Ty+Bf+"?",Bf,Ny,Dy,gS].join("|")+")",wS=RegExp(jf+"(?="+jf+")|"+CS+bS,"g");function xS(n){return n.match(wS)||[]}function Ki(n){return yl(n)?xS(n):dS(n)}function Hy(n){return function(e){e=wn(e);var t=yl(e)?Ki(e):void 0,r=t?t[0]:e.charAt(0),i=t?ms(t,1).join(""):e.slice(1);return r[n]()+i}}var J1=Hy("toUpperCase");function Iy(n){return J1(wn(n).toLowerCase())}function Q1(n,e,t,r){var i=-1,o=n==null?0:n.length;for(r&&o&&(t=n[++i]);++i<o;)t=e(t,n[i],i,n);return t}function eh(n){return function(e){return n==null?void 0:n[e]}}var kS={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},SS=eh(kS),ES=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,MS="\\u0300-\\u036f",OS="\\ufe20-\\ufe2f",AS="\\u20d0-\\u20ff",LS=MS+OS+AS,TS="["+LS+"]",NS=RegExp(TS,"g");function By(n){return n=wn(n),n&&n.replace(ES,SS).replace(NS,"")}var DS=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function PS(n){return n.match(DS)||[]}var RS=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function HS(n){return RS.test(n)}var jy="\\ud800-\\udfff",IS="\\u0300-\\u036f",BS="\\ufe20-\\ufe2f",jS="\\u20d0-\\u20ff",FS=IS+BS+jS,Fy="\\u2700-\\u27bf",Vy="a-z\\xdf-\\xf6\\xf8-\\xff",VS="\\xac\\xb1\\xd7\\xf7",$S="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",WS="\\u2000-\\u206f",zS=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$y="A-Z\\xc0-\\xd6\\xd8-\\xde",US="\\ufe0e\\ufe0f",Wy=VS+$S+WS+zS,zy="['’]",Vm="["+Wy+"]",GS="["+FS+"]",Uy="\\d+",XS="["+Fy+"]",Gy="["+Vy+"]",Xy="[^"+jy+Wy+Uy+Fy+Vy+$y+"]",ZS="\\ud83c[\\udffb-\\udfff]",YS="(?:"+GS+"|"+ZS+")",qS="[^"+jy+"]",Zy="(?:\\ud83c[\\udde6-\\uddff]){2}",Yy="[\\ud800-\\udbff][\\udc00-\\udfff]",Fa="["+$y+"]",KS="\\u200d",$m="(?:"+Gy+"|"+Xy+")",JS="(?:"+Fa+"|"+Xy+")",Wm="(?:"+zy+"(?:d|ll|m|re|s|t|ve))?",zm="(?:"+zy+"(?:D|LL|M|RE|S|T|VE))?",qy=YS+"?",Ky="["+US+"]?",QS="(?:"+KS+"(?:"+[qS,Zy,Yy].join("|")+")"+Ky+qy+")*",eE="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tE="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",nE=Ky+qy+QS,rE="(?:"+[XS,Zy,Yy].join("|")+")"+nE,iE=RegExp([Fa+"?"+Gy+"+"+Wm+"(?="+[Vm,Fa,"$"].join("|")+")",JS+"+"+zm+"(?="+[Vm,Fa+$m,"$"].join("|")+")",Fa+"?"+$m+"+"+Wm,Fa+"+"+zm,tE,eE,Uy,rE].join("|"),"g");function oE(n){return n.match(iE)||[]}function Jy(n,e,t){return n=wn(n),e=t?void 0:e,e===void 0?HS(n)?oE(n):PS(n):n.match(e)||[]}var sE="['’]",aE=RegExp(sE,"g");function _l(n){return function(e){return Q1(Jy(By(e).replace(aE,"")),n,"")}}var lE=_l(function(n,e,t){return e=e.toLowerCase(),n+(t?Iy(e):e)});function uE(){if(!arguments.length)return[];var n=arguments[0];return hn(n)?n:[n]}var dE=ea.isFinite,cE=Math.min;function th(n){var e=Math[n];return function(t,r){if(t=Io(t),r=r==null?0:cE(Xt(r),292),r&&dE(t)){var i=(wn(t)+"e").split("e"),o=e(i[0]+"e"+(+i[1]+r));return i=(wn(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return e(t)}}var fE=th("ceil");function Qy(n){var e=Z(n);return e.__chain__=!0,e}var hE=Math.ceil,pE=Math.max;function vE(n,e,t){(t?Ir(n,e,t):e===void 0)?e=1:e=pE(Xt(e),0);var r=n==null?0:n.length;if(!r||e<1)return[];for(var i=0,o=0,a=Array(hE(r/e));i<r;)a[o++]=qi(n,i,i+=e);return a}function ca(n,e,t){return n===n&&(t!==void 0&&(n=n<=t?n:t),e!==void 0&&(n=n>=e?n:e)),n}function gE(n,e,t){return t===void 0&&(t=e,e=void 0),t!==void 0&&(t=Io(t),t=t===t?t:0),e!==void 0&&(e=Io(e),e=e===e?e:0),ca(Io(n),e,t)}var mE=4;function yE(n){return oa(n,mE)}var _E=1,bE=4;function CE(n,e){return e=typeof e=="function"?e:void 0,oa(n,_E|bE,e)}var wE=4;function xE(n,e){return e=typeof e=="function"?e:void 0,oa(n,wE,e)}function kE(){return new Si(this.value(),this.__chain__)}function SE(n){for(var e=-1,t=n==null?0:n.length,r=0,i=[];++e<t;){var o=n[e];o&&(i[r++]=o)}return i}function EE(){var n=arguments.length;if(!n)return[];for(var e=Array(n-1),t=arguments[0],r=n;r--;)e[r-1]=arguments[r];return q0(hn(t)?li(t):[t],Fr(e,1))}var ME="Expected a function";function OE(n){var e=n==null?0:n.length,t=Wt;return n=e?Xn(n,function(r){if(typeof r[1]!="function")throw new TypeError(ME);return[t(r[0]),r[1]]}):[],qt(function(r){for(var i=-1;++i<e;){var o=n[i];if(ki(o[0],this,r))return ki(o[1],this,r)}})}function e8(n,e,t){var r=t.length;if(n==null)return!r;for(n=Object(n);r--;){var i=t[r],o=e[i],a=n[i];if(a===void 0&&!(i in n)||!o(a))return!1}return!0}function AE(n){var e=Li(n);return function(t){return e8(t,n,e)}}var LE=1;function TE(n){return AE(oa(n,LE))}function NE(n,e){return e==null||e8(n,e,Li(e))}var DE=Object.prototype,PE=DE.hasOwnProperty,RE=U1(function(n,e,t){PE.call(n,t)?++n[t]:na(n,t,1)});function HE(n,e){var t=Z0(n);return e==null?t:Iw(t,e)}var IE=8;function nh(n,e,t){e=t?void 0:e;var r=Vo(n,IE,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=nh.placeholder,r}nh.placeholder={};var BE=16;function rh(n,e,t){e=t?void 0:e;var r=Vo(n,BE,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=rh.placeholder,r}rh.placeholder={};function jE(n,e){return n==null||n!==n?e:n}var t8=Object.prototype,FE=t8.hasOwnProperty,VE=qt(function(n,e){n=Object(n);var t=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&Ir(e[0],e[1],i)&&(r=1);++t<r;)for(var o=e[t],a=eo(o),l=-1,u=a.length;++l<u;){var c=a[l],f=n[c];(f===void 0||ps(f,t8[c])&&!FE.call(n,c))&&(n[c]=o[c])}return n});function Ff(n,e,t){(t!==void 0&&!ps(n[e],t)||t===void 0&&!(e in n))&&na(n,e,t)}function Vf(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function n8(n){return Y0(n,eo(n))}function $E(n,e,t,r,i,o,a){var l=Vf(n,t),u=Vf(e,t),c=a.get(u);if(c){Ff(n,t,c);return}var f=o?o(l,u,t+"",n,e,a):void 0,v=f===void 0;if(v){var m=hn(u),y=!m&&F1(u),_=!m&&!y&&V1(u);f=u,m||y||_?hn(l)?f=l:Zn(l)?f=li(l):y?(v=!1,f=Bw(u,!0)):_?(v=!1,f=jw(u,!0)):f=[]:kd(u)||Df(u)?(f=l,Df(l)?f=n8(l):(!ui(l)||ra(l))&&(f=Fw(u))):v=!1}v&&(a.set(u,f),i(f,u,r,o,a),a.delete(u)),Ff(n,t,f)}function Pd(n,e,t,r,i){n!==e&&oy(e,function(o,a){if(i||(i=new ox),ui(o))$E(n,e,a,t,Pd,r,i);else{var l=r?r(Vf(n,a),o,a+"",n,e,i):void 0;l===void 0&&(l=o),Ff(n,a,l)}},eo)}function r8(n,e,t,r,i,o){return ui(n)&&ui(e)&&(o.set(e,n),Pd(n,e,void 0,r8,o),o.delete(e)),n}var i8=ml(function(n,e,t,r){Pd(n,e,t,r)}),WE=qt(function(n){return n.push(void 0,r8),ki(i8,void 0,n)}),zE="Expected a function";function o8(n,e,t){if(typeof n!="function")throw new TypeError(zE);return setTimeout(function(){n.apply(void 0,t)},e)}var UE=qt(function(n,e){return o8(n,1,e)}),GE=qt(function(n,e,t){return o8(n,Io(e)||0,t)}),XE=200;function e2(n,e,t,r){var i=-1,o=dy,a=!0,l=n.length,u=[],c=e.length;if(!l)return u;t&&(e=Xn(e,jo(t))),r?(o=gx,a=!1):e.length>=XE&&(o=ax,a=!1,e=new sx(e));e:for(;++i<l;){var f=n[i],v=t==null?f:t(f);if(f=r||f!==0?f:0,a&&v===v){for(var m=c;m--;)if(e[m]===v)continue e;u.push(f)}else o(e,v,r)||u.push(f)}return u}var ZE=qt(function(n,e){return Zn(n)?e2(n,Fr(e,1,Zn,!0)):[]}),YE=qt(function(n,e){var t=xi(e);return Zn(t)&&(t=void 0),Zn(n)?e2(n,Fr(e,1,Zn,!0),Wt(t)):[]}),qE=qt(function(n,e){var t=xi(e);return Zn(t)&&(t=void 0),Zn(n)?e2(n,Fr(e,1,Zn,!0),void 0,t):[]}),KE=Ld(function(n,e){return n/e},1);function JE(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:Xt(e),qi(n,e<0?0:e,r)):[]}function QE(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:Xt(e),e=r-e,qi(n,0,e<0?0:e)):[]}function Rd(n,e,t,r){for(var i=n.length,o=r?i:-1;(r?o--:++o<i)&&e(n[o],o,n););return t?qi(n,r?0:o,r?o+1:i):qi(n,r?o+1:0,r?i:o)}function eM(n,e){return n&&n.length?Rd(n,Wt(e),!0,!0):[]}function tM(n,e){return n&&n.length?Rd(n,Wt(e),!0):[]}function xo(n){return typeof n=="function"?n:no}function cn(n,e){var t=hn(n)?Qi:sa;return t(n,xo(e))}function nM(n,e){for(var t=n==null?0:n.length;t--&&e(n[t],t,n)!==!1;);return n}var s8=Kw(!0);function ih(n,e){return n&&s8(n,e,Li)}var a8=Jw(ih,!0);function rM(n,e){var t=hn(n)?nM:a8;return t(n,xo(e))}function iM(n,e,t){n=wn(n),e=Yi(e);var r=n.length;t=t===void 0?r:ca(Xt(t),0,r);var i=t;return t-=e.length,t>=0&&n.slice(t,i)==e}function oM(n,e){return Xn(e,function(t){return[t,n[t]]})}function sM(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=[r,r]}),t}var aM="[object Map]",lM="[object Set]";function l8(n){return function(e){var t=Cd(e);return t==aM?ay(e):t==lM?sM(e):oM(e,n(e))}}var $o=l8(Li),uM=l8(eo),dM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cM=eh(dM),u8=/[&<>"']/g,fM=RegExp(u8.source);function d8(n){return n=wn(n),n&&fM.test(n)?n.replace(u8,cM):n}var c8=/[\\^$.*+?()[\]{}|]/g,hM=RegExp(c8.source);function pM(n){return n=wn(n),n&&hM.test(n)?n.replace(c8,"\\$&"):n}function f8(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(!e(n[t],t,n))return!1;return!0}function vM(n,e){var t=!0;return sa(n,function(r,i,o){return t=!!e(r,i,o),t}),t}function gM(n,e,t){var r=hn(n)?f8:vM;return t&&Ir(n,e,t)&&(e=void 0),r(n,Wt(e))}var mM=4294967295;function h8(n){return n?ca(Xt(n),0,mM):0}function yM(n,e,t,r){var i=n.length;for(t=Xt(t),t<0&&(t=-t>i?0:i+t),r=r===void 0||r>i?i:Xt(r),r<0&&(r+=i),r=t>r?0:h8(r);t<r;)n[t++]=e;return n}function _M(n,e,t,r){var i=n==null?0:n.length;return i?(t&&typeof t!="number"&&Ir(n,e,t)&&(t=0,r=i),yM(n,e,t,r)):[]}function p8(n,e){var t=[];return sa(n,function(r,i,o){e(r,i,o)&&t.push(r)}),t}function bM(n,e){var t=hn(n)?la:p8;return t(n,Wt(e))}function v8(n,e,t){var r;return t(n,function(i,o,a){if(e(i,o,a))return r=o,!1}),r}function CM(n,e){return v8(n,Wt(e),Fo)}var wM=Math.max,xM=Math.min;function g8(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==void 0&&(i=Xt(t),i=t<0?wM(r+i,0):xM(i,r-1)),cy(n,Wt(e),i,!0)}var kM=Vw(g8);function SM(n,e){return v8(n,Wt(e),ih)}function EM(n){return n&&n.length?n[0]:void 0}function m8(n,e){var t=-1,r=hs(n)?Array(n.length):[];return sa(n,function(i,o,a){r[++t]=e(i,o,a)}),r}function di(n,e){var t=hn(n)?Xn:m8;return t(n,Wt(e))}function MM(n,e){return Fr(di(n,e),1)}var OM=1/0;function AM(n,e){return Fr(di(n,e),OM)}function LM(n,e,t){return t=t===void 0?1:Xt(t),Fr(di(n,e),t)}var TM=1/0;function NM(n){var e=n==null?0:n.length;return e?Fr(n,TM):[]}function DM(n,e){var t=n==null?0:n.length;return t?(e=e===void 0?1:Xt(e),Fr(n,e)):[]}var PM=512;function RM(n){return Vo(n,PM)}var HM=th("floor"),IM="Expected a function",BM=8,jM=32,FM=128,VM=256;function y8(n){return aa(function(e){var t=e.length,r=t,i=Si.prototype.thru;for(n&&e.reverse();r--;){var o=e[r];if(typeof o!="function")throw new TypeError(IM);if(i&&!a&&hu(o)=="wrapper")var a=new Si([],!0)}for(r=a?r:t;++r<t;){o=e[r];var l=hu(o),u=l=="wrapper"?Z1(o):void 0;u&&Hf(u[0])&&u[1]==(FM|BM|jM|VM)&&!u[4].length&&u[9]==1?a=a[hu(u[0])].apply(a,u[3]):a=o.length==1&&Hf(o)?a[l]():a.thru(o)}return function(){var c=arguments,f=c[0];if(a&&c.length==1&&hn(f))return a.plant(f).value();for(var v=0,m=t?e[v].apply(this,c):f;++v<t;)m=e[v].call(this,m);return m}})}var $M=y8(),WM=y8(!0);function zM(n,e){return n==null?n:oy(n,xo(e),eo)}function UM(n,e){return n==null?n:s8(n,xo(e),eo)}function GM(n,e){return n&&Fo(n,xo(e))}function XM(n,e){return n&&ih(n,xo(e))}function Hd(n,e){return la(e,function(t){return ra(n[t])})}function ZM(n){return n==null?[]:Hd(n,Li(n))}function YM(n){return n==null?[]:Hd(n,eo(n))}var qM=Object.prototype,KM=qM.hasOwnProperty,JM=U1(function(n,e,t){KM.call(n,t)?n[t].push(e):na(n,t,[e])});function oh(n,e){return n>e}function Id(n){return function(e,t){return typeof e=="string"&&typeof t=="string"||(e=Io(e),t=Io(t)),n(e,t)}}var QM=Id(oh),eO=Id(function(n,e){return n>=e}),tO=Object.prototype,nO=tO.hasOwnProperty;function rO(n,e){return n!=null&&nO.call(n,e)}function Eu(n,e){return n!=null&&nx(n,e,rO)}var iO=Math.max,oO=Math.min;function sO(n,e,t){return n>=oO(e,t)&&n<iO(e,t)}function aO(n,e,t){return e=as(e),t===void 0?(t=e,e=0):t=as(t),n=Io(n),sO(n,e,t)}var lO="[object String]";function Bd(n){return typeof n=="string"||!hn(n)&&Ji(n)&&ta(n)==lO}function sh(n,e){return Xn(e,function(t){return n[t]})}function bl(n){return n==null?[]:sh(n,Li(n))}var uO=Math.max;function dO(n,e,t,r){n=hs(n)?n:bl(n),t=t&&!r?Xt(t):0;var i=n.length;return t<0&&(t=uO(i+t,0)),Bd(n)?t<=i&&n.indexOf(e,t)>-1:!!i&&K0(n,e,t)>-1}var cO=Math.max;function _8(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=t==null?0:Xt(t);return i<0&&(i=cO(r+i,0)),K0(n,e,i)}function fO(n){var e=n==null?0:n.length;return e?qi(n,0,-1):[]}var hO=qt(function(n){var e=xi(n),t=Xn(n,J5);return e===xi(t)?e=void 0:t.pop(),t.length&&t[0]===n[0]?Q5(t,Wt(e)):[]}),pO=qt(function(n){var e=xi(n),t=Xn(n,J5);return e=typeof e=="function"?e:void 0,e&&t.pop(),t.length&&t[0]===n[0]?Q5(t,void 0,e):[]});function vO(n,e,t,r){return Fo(n,function(i,o,a){e(r,t(i),o,a)}),r}function b8(n,e){return function(t,r){return vO(t,n,e(r),{})}}var gO=Object.prototype,mO=gO.toString,yO=b8(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=mO.call(e)),n[e]=t},sy(no)),C8=Object.prototype,_O=C8.hasOwnProperty,bO=C8.toString,CO=b8(function(n,e,t){e!=null&&typeof e.toString!="function"&&(e=bO.call(e)),_O.call(n,e)?n[e].push(t):n[e]=[t]},Wt);function t2(n,e,t){e=F5(e,n),n=$w(n,e);var r=n==null?n:n[bd(xi(e))];return r==null?void 0:ki(r,n,t)}var wO=qt(t2),xO=qt(function(n,e,t){var r=-1,i=typeof e=="function",o=hs(n)?Array(n.length):[];return sa(n,function(a){o[++r]=i?ki(e,a,t):t2(a,e,t)}),o}),kO="[object ArrayBuffer]";function SO(n){return Ji(n)&&ta(n)==kO}var Um=Ya&&Ya.isArrayBuffer,EO=Um?jo(Um):SO,MO="[object Boolean]";function Mu(n){return n===!0||n===!1||Ji(n)&&ta(n)==MO}var OO="[object Date]";function AO(n){return Ji(n)&&ta(n)==OO}var Gm=Ya&&Ya.isDate,LO=Gm?jo(Gm):AO;function TO(n){return Ji(n)&&n.nodeType===1&&!kd(n)}function NO(n,e,t){t=typeof t=="function"?t:void 0;var r=t?t(n,e):void 0;return r===void 0?lx(n,e,void 0,t):!!r}var DO=ea.isFinite;function PO(n){return typeof n=="number"&&DO(n)}function w8(n){return typeof n=="number"&&n==Xt(n)}function RO(n,e){return n===e||ey(n,e,ty(e))}function HO(n,e,t){return t=typeof t=="function"?t:void 0,ey(n,e,ty(e),t)}function IO(n){return fy(n)&&n!=+n}var BO=iw?ra:V5,jO="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function FO(n){if(BO(n))throw new Error(jO);return ow(n)}function Ar(n){return n==null}function VO(n){return n===null}var $O="[object RegExp]";function WO(n){return Ji(n)&&ta(n)==$O}var Xm=Ya&&Ya.isRegExp,ah=Xm?jo(Xm):WO,Zm=9007199254740991;function zO(n){return w8(n)&&n>=-Zm&&n<=Zm}function Zs(n){return n===void 0}var UO="[object WeakMap]";function GO(n){return Ji(n)&&Cd(n)==UO}var XO="[object WeakSet]";function ZO(n){return Ji(n)&&ta(n)==XO}var YO=1;function qO(n){return Wt(typeof n=="function"?n:oa(n,YO))}var KO=Array.prototype,JO=KO.join;function QO(n,e){return n==null?"":JO.call(n,e)}var eA=_l(function(n,e,t){return n+(t?"-":"")+e.toLowerCase()}),tA=U1(function(n,e,t){na(n,t,e)});function nA(n,e,t){for(var r=t+1;r--;)if(n[r]===e)return r;return r}var rA=Math.max,iA=Math.min;function oA(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r;return t!==void 0&&(i=Xt(t),i=i<0?rA(r+i,0):iA(i,r-1)),e===e?nA(n,e,i):cy(n,mx,i,!0)}var sA=_l(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()}),aA=Hy("toLowerCase");function lh(n,e){return n<e}var lA=Id(lh),uA=Id(function(n,e){return n<=e});function x8(n,e){var t={};return e=Wt(e),Fo(n,function(r,i,o){na(t,e(r,i,o),r)}),t}function dA(n,e){var t={};return e=Wt(e),Fo(n,function(r,i,o){na(t,i,e(r,i,o))}),t}var cA=1;function fA(n){return Ww(oa(n,cA))}var hA=1;function pA(n,e){return zw(n,oa(e,hA))}function jd(n,e,t){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=e(o);if(a!=null&&(l===void 0?a===a&&!Bo(a):t(a,l)))var l=a,u=o}return u}function vA(n){return n&&n.length?jd(n,no,oh):void 0}function gA(n,e){return n&&n.length?jd(n,Wt(e),oh):void 0}function uh(n,e){for(var t,r=-1,i=n.length;++r<i;){var o=e(n[r]);o!==void 0&&(t=t===void 0?o:t+o)}return t}var mA=NaN;function k8(n,e){var t=n==null?0:n.length;return t?uh(n,e)/t:mA}function yA(n){return k8(n,no)}function _A(n,e){return k8(n,Wt(e))}var Ys=ml(function(n,e,t){Pd(n,e,t)}),bA=qt(function(n,e){return function(t){return t2(t,n,e)}}),CA=qt(function(n,e){return function(t){return t2(n,t,e)}});function wA(n){return n&&n.length?jd(n,no,lh):void 0}function xA(n,e){return n&&n.length?jd(n,Wt(e),lh):void 0}function kA(n,e,t){var r=Li(e),i=Hd(e,r),o=!(ui(t)&&"chain"in t)||!!t.chain,a=ra(n);return Qi(i,function(l){var u=e[l];n[l]=u,a&&(n.prototype[l]=function(){var c=this.__chain__;if(o||c){var f=n(this.__wrapped__),v=f.__actions__=li(this.__actions__);return v.push({func:u,args:arguments,thisArg:n}),f.__chain__=c,f}return u.apply(n,q0([this.value()],arguments))})}),n}var SA=Ld(function(n,e){return n*e},1),EA="Expected a function";function Fd(n){if(typeof n!="function")throw new TypeError(EA);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function MA(n){for(var e,t=[];!(e=n.next()).done;)t.push(e.value);return t}var OA="[object Map]",AA="[object Set]",tf=xu?xu.iterator:void 0;function S8(n){if(!n)return[];if(hs(n))return Bd(n)?Ki(n):li(n);if(tf&&n[tf])return MA(n[tf]());var e=Cd(n),t=e==OA?ay:e==AA?ux:bl;return t(n)}function LA(){this.__values__===void 0&&(this.__values__=S8(this.value()));var n=this.__index__>=this.__values__.length,e=n?void 0:this.__values__[this.__index__++];return{done:n,value:e}}function E8(n,e){var t=n.length;if(t)return e+=e<0?t:0,cl(e,t)?n[e]:void 0}function TA(n,e){return n&&n.length?E8(n,Xt(e)):void 0}function NA(n){return n=Xt(n),qt(function(e){return E8(e,n)})}function M8(n,e){if(n==null)return{};var t=Xn(Uw(n),function(r){return[r]});return e=Wt(e),Hw(n,t,function(r,i){return e(r,i[0])})}function DA(n,e){return M8(n,Fd(Wt(e)))}function PA(n){return Ay(2,n)}function RA(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}function O8(n,e){if(n!==e){var t=n!==void 0,r=n===null,i=n===n,o=Bo(n),a=e!==void 0,l=e===null,u=e===e,c=Bo(e);if(!l&&!c&&!o&&n>e||o&&a&&u&&!l&&!c||r&&a&&u||!t&&u||!i)return 1;if(!r&&!o&&!c&&n<e||c&&t&&i&&!r&&!o||l&&t&&i||!a&&i||!u)return-1}return 0}function HA(n,e,t){for(var r=-1,i=n.criteria,o=e.criteria,a=i.length,l=t.length;++r<a;){var u=O8(i[r],o[r]);if(u){if(r>=l)return u;var c=t[r];return u*(c=="desc"?-1:1)}}return n.index-e.index}function A8(n,e,t){e.length?e=Xn(e,function(o){return hn(o)?function(a){return G1(a,o.length===1?o[0]:o)}:o}):e=[no];var r=-1;e=Xn(e,jo(Wt));var i=m8(n,function(o,a,l){var u=Xn(e,function(c){return c(o)});return{criteria:u,index:++r,value:o}});return RA(i,function(o,a){return HA(o,a,t)})}function IA(n,e,t,r){return n==null?[]:(hn(e)||(e=e==null?[]:[e]),t=r?void 0:t,hn(t)||(t=t==null?[]:[t]),A8(n,e,t))}function dh(n){return aa(function(e){return e=Xn(e,jo(Wt)),qt(function(t){var r=this;return n(e,function(i){return ki(i,r,t)})})})}var BA=dh(Xn),jA=qt,FA=Math.min,VA=jA(function(n,e){e=e.length==1&&hn(e[0])?Xn(e[0],jo(Wt)):Xn(Fr(e,1),jo(Wt));var t=e.length;return qt(function(r){for(var i=-1,o=FA(r.length,t);++i<o;)r[i]=e[i].call(this,r[i]);return ki(n,this,r)})}),$A=dh(f8),WA=dh(ly),zA=9007199254740991,UA=Math.floor;function $f(n,e){var t="";if(!n||e<1||e>zA)return t;do e%2&&(t+=n),e=UA(e/2),e&&(n+=n);while(e);return t}var GA=ny("length"),L8="\\ud800-\\udfff",XA="\\u0300-\\u036f",ZA="\\ufe20-\\ufe2f",YA="\\u20d0-\\u20ff",qA=XA+ZA+YA,KA="\\ufe0e\\ufe0f",JA="["+L8+"]",Wf="["+qA+"]",zf="\\ud83c[\\udffb-\\udfff]",QA="(?:"+Wf+"|"+zf+")",T8="[^"+L8+"]",N8="(?:\\ud83c[\\udde6-\\uddff]){2}",D8="[\\ud800-\\udbff][\\udc00-\\udfff]",eL="\\u200d",P8=QA+"?",R8="["+KA+"]?",tL="(?:"+eL+"(?:"+[T8,N8,D8].join("|")+")"+R8+P8+")*",nL=R8+P8+tL,rL="(?:"+[T8+Wf+"?",Wf,N8,D8,JA].join("|")+")",Ym=RegExp(zf+"(?="+zf+")|"+rL+nL,"g");function iL(n){for(var e=Ym.lastIndex=0;Ym.test(n);)++e;return e}function Cl(n){return yl(n)?iL(n):GA(n)}var oL=Math.ceil;function Ou(n,e){e=e===void 0?" ":Yi(e);var t=e.length;if(t<2)return t?$f(e,n):e;var r=$f(e,oL(n/Cl(e)));return yl(e)?ms(Ki(r),0,n).join(""):r.slice(0,n)}var sL=Math.ceil,aL=Math.floor;function lL(n,e,t){n=wn(n),e=Xt(e);var r=e?Cl(n):0;if(!e||r>=e)return n;var i=(e-r)/2;return Ou(aL(i),t)+n+Ou(sL(i),t)}function uL(n,e,t){n=wn(n),e=Xt(e);var r=e?Cl(n):0;return e&&r<e?n+Ou(e-r,t):n}function dL(n,e,t){n=wn(n),e=Xt(e);var r=e?Cl(n):0;return e&&r<e?Ou(e-r,t)+n:n}var cL=/^\s+/,fL=ea.parseInt;function hL(n,e,t){return t||e==null?e=0:e&&(e=+e),fL(wn(n).replace(cL,""),e||0)}var pL=32,Vd=qt(function(n,e){var t=cs(e,gl(Vd));return Vo(n,pL,void 0,e,t)});Vd.placeholder={};var vL=64,ch=qt(function(n,e){var t=cs(e,gl(ch));return Vo(n,vL,void 0,e,t)});ch.placeholder={};function gL(n){for(var e,t=this;t instanceof Td;){var r=xy(t);r.__index__=0,r.__values__=void 0,e?i.__wrapped__=r:e=r;var i=r;t=t.__wrapped__}return i.__wrapped__=n,e}function mL(n){return function(e){return n==null?void 0:G1(n,e)}}function yL(n,e,t,r){for(var i=t-1,o=n.length;++i<o;)if(r(n[i],e))return i;return-1}var _L=Array.prototype,qm=_L.splice;function fh(n,e,t,r){var i=r?yL:K0,o=-1,a=e.length,l=n;for(n===e&&(e=li(e)),t&&(l=Xn(n,jo(t)));++o<a;)for(var u=0,c=e[o],f=t?t(c):c;(u=i(l,f,u,r))>-1;)l!==n&&qm.call(l,u,1),qm.call(n,u,1);return n}function H8(n,e){return n&&n.length&&e&&e.length?fh(n,e):n}var bL=qt(H8);function CL(n,e,t){return n&&n.length&&e&&e.length?fh(n,e,Wt(t)):n}function wL(n,e,t){return n&&n.length&&e&&e.length?fh(n,e,void 0,t):n}var xL=Array.prototype,kL=xL.splice;function I8(n,e){for(var t=n?e.length:0,r=t-1;t--;){var i=e[t];if(t==r||i!==o){var o=i;cl(i)?kL.call(n,i,1):ry(n,i)}}return n}var SL=aa(function(n,e){var t=n==null?0:n.length,r=Y1(n,e);return I8(n,Xn(e,function(i){return cl(i,t)?+i:i}).sort(O8)),r}),EL=Math.floor,ML=Math.random;function hh(n,e){return n+EL(ML()*(e-n+1))}var OL=parseFloat,AL=Math.min,LL=Math.random;function TL(n,e,t){if(t&&typeof t!="boolean"&&Ir(n,e,t)&&(e=t=void 0),t===void 0&&(typeof e=="boolean"?(t=e,e=void 0):typeof n=="boolean"&&(t=n,n=void 0)),n===void 0&&e===void 0?(n=0,e=1):(n=as(n),e===void 0?(e=n,n=0):e=as(e)),n>e){var r=n;n=e,e=r}if(t||n%1||e%1){var i=LL();return AL(n+i*(e-n+OL("1e-"+((i+"").length-1))),e)}return hh(n,e)}var NL=Math.ceil,DL=Math.max;function PL(n,e,t,r){for(var i=-1,o=DL(NL((e-n)/(t||1)),0),a=Array(o);o--;)a[r?o:++i]=n,n+=t;return a}function B8(n){return function(e,t,r){return r&&typeof r!="number"&&Ir(e,t,r)&&(t=r=void 0),e=as(e),t===void 0?(t=e,e=0):t=as(t),r=r===void 0?e<t?1:-1:as(r),PL(e,t,r,n)}}var RL=B8(),HL=B8(!0),IL=256,BL=aa(function(n,e){return Vo(n,IL,void 0,void 0,void 0,e)});function j8(n,e,t,r,i){return i(n,function(o,a,l){t=r?(r=!1,o):e(t,o,a,l)}),t}function F8(n,e,t){var r=hn(n)?Q1:j8,i=arguments.length<3;return r(n,Wt(e),t,i,sa)}function jL(n,e,t,r){var i=n==null?0:n.length;for(r&&i&&(t=n[--i]);i--;)t=e(t,n[i],i,n);return t}function FL(n,e,t){var r=hn(n)?jL:j8,i=arguments.length<3;return r(n,Wt(e),t,i,a8)}function VL(n,e){var t=hn(n)?la:p8;return t(n,Fd(Wt(e)))}function $L(n,e){var t=[];if(!(n&&n.length))return t;var r=-1,i=[],o=n.length;for(e=Wt(e);++r<o;){var a=n[r];e(a,r,n)&&(t.push(a),i.push(r))}return I8(n,i),t}function WL(n,e,t){return(t?Ir(n,e,t):e===void 0)?e=1:e=Xt(e),$f(wn(n),e)}function zL(){var n=arguments,e=wn(n[0]);return n.length<3?e:e.replace(n[1],n[2])}var UL="Expected a function";function GL(n,e){if(typeof n!="function")throw new TypeError(UL);return e=e===void 0?e:Xt(e),qt(n,e)}function XL(n,e,t){e=F5(e,n);var r=-1,i=e.length;for(i||(i=1,n=void 0);++r<i;){var o=n==null?void 0:n[bd(e[r])];o===void 0&&(r=i,o=t),n=ra(o)?o.call(n):o}return n}var ZL=Array.prototype,YL=ZL.reverse;function Uf(n){return n==null?n:YL.call(n)}var qL=th("round");function V8(n){var e=n.length;return e?n[hh(0,e-1)]:void 0}function KL(n){return V8(bl(n))}function JL(n){var e=hn(n)?V8:KL;return e(n)}function $d(n,e){var t=-1,r=n.length,i=r-1;for(e=e===void 0?r:e;++t<e;){var o=hh(t,i),a=n[o];n[o]=n[t],n[t]=a}return n.length=e,n}function QL(n,e){return $d(li(n),ca(e,0,n.length))}function eT(n,e){var t=bl(n);return $d(t,ca(e,0,t.length))}function tT(n,e,t){(t?Ir(n,e,t):e===void 0)?e=1:e=Xt(e);var r=hn(n)?QL:eT;return r(n,e)}function nT(n,e,t,r){return r=typeof r=="function"?r:void 0,n==null?n:$1(n,e,t,r)}function rT(n){return $d(li(n))}function iT(n){return $d(bl(n))}function oT(n){var e=hn(n)?rT:iT;return e(n)}var sT="[object Map]",aT="[object Set]";function lT(n){if(n==null)return 0;if(hs(n))return Bd(n)?Cl(n):n.length;var e=Cd(n);return e==sT||e==aT?n.size:sw(n).length}function uT(n,e,t){var r=n==null?0:n.length;return r?(t&&typeof t!="number"&&Ir(n,e,t)?(e=0,t=r):(e=e==null?0:Xt(e),t=t===void 0?r:Xt(t)),qi(n,e,t)):[]}var dT=_l(function(n,e,t){return n+(t?"_":"")+e.toLowerCase()});function cT(n,e){var t;return sa(n,function(r,i,o){return t=e(r,i,o),!t}),!!t}function fT(n,e,t){var r=hn(n)?ly:cT;return t&&Ir(n,e,t)&&(e=void 0),r(n,Wt(e))}var hT=qt(function(n,e){if(n==null)return[];var t=e.length;return t>1&&Ir(n,e[0],e[1])?e=[]:t>2&&Ir(e[0],e[1],e[2])&&(e=[e[0]]),A8(n,Fr(e,1),[])}),pT=4294967295,vT=pT-1,gT=Math.floor,mT=Math.min;function ph(n,e,t,r){var i=0,o=n==null?0:n.length;if(o===0)return 0;e=t(e);for(var a=e!==e,l=e===null,u=Bo(e),c=e===void 0;i<o;){var f=gT((i+o)/2),v=t(n[f]),m=v!==void 0,y=v===null,_=v===v,b=Bo(v);if(a)var w=r||_;else c?w=_&&(r||m):l?w=_&&m&&(r||!y):u?w=_&&m&&!y&&(r||!b):y||b?w=!1:w=r?v<=e:v<e;w?i=f+1:o=f}return mT(o,vT)}var yT=4294967295,_T=yT>>>1;function Wd(n,e,t){var r=0,i=n==null?r:n.length;if(typeof e=="number"&&e===e&&i<=_T){for(;r<i;){var o=r+i>>>1,a=n[o];a!==null&&!Bo(a)&&(t?a<=e:a<e)?r=o+1:i=o}return i}return ph(n,e,no,t)}function bT(n,e){return Wd(n,e)}function CT(n,e,t){return ph(n,e,Wt(t))}function wT(n,e){var t=n==null?0:n.length;if(t){var r=Wd(n,e);if(r<t&&ps(n[r],e))return r}return-1}function xT(n,e){return Wd(n,e,!0)}function kT(n,e,t){return ph(n,e,Wt(t),!0)}function ST(n,e){var t=n==null?0:n.length;if(t){var r=Wd(n,e,!0)-1;if(ps(n[r],e))return r}return-1}function $8(n,e){for(var t=-1,r=n.length,i=0,o=[];++t<r;){var a=n[t],l=e?e(a):a;if(!t||!ps(l,u)){var u=l;o[i++]=a===0?0:a}}return o}function ET(n){return n&&n.length?$8(n):[]}function MT(n,e){return n&&n.length?$8(n,Wt(e)):[]}var OT=4294967295;function AT(n,e,t){return t&&typeof t!="number"&&Ir(n,e,t)&&(e=t=void 0),t=t===void 0?OT:t>>>0,t?(n=wn(n),n&&(typeof e=="string"||e!=null&&!ah(e))&&(e=Yi(e),!e&&yl(n))?ms(Ki(n),0,t):n.split(e,t)):[]}var LT="Expected a function",TT=Math.max;function NT(n,e){if(typeof n!="function")throw new TypeError(LT);return e=e==null?0:TT(Xt(e),0),qt(function(t){var r=t[e],i=ms(t,0,e);return r&&q0(i,r),ki(n,this,i)})}var DT=_l(function(n,e,t){return n+(t?" ":"")+J1(e)});function PT(n,e,t){return n=wn(n),t=t==null?0:ca(Xt(t),0,n.length),e=Yi(e),n.slice(t,t+e.length)==e}function RT(){return{}}function HT(){return""}function IT(){return!0}var BT=Ld(function(n,e){return n-e},0);function jT(n){return n&&n.length?uh(n,no):0}function FT(n,e){return n&&n.length?uh(n,Wt(e)):0}function VT(n){var e=n==null?0:n.length;return e?qi(n,1,e):[]}function $T(n,e,t){return n&&n.length?(e=t||e===void 0?1:Xt(e),qi(n,0,e<0?0:e)):[]}function WT(n,e,t){var r=n==null?0:n.length;return r?(e=t||e===void 0?1:Xt(e),e=r-e,qi(n,e<0?0:e,r)):[]}function zT(n,e){return n&&n.length?Rd(n,Wt(e),!1,!0):[]}function UT(n,e){return n&&n.length?Rd(n,Wt(e)):[]}function GT(n,e){return e(n),n}var W8=Object.prototype,XT=W8.hasOwnProperty;function Km(n,e,t,r){return n===void 0||ps(n,W8[t])&&!XT.call(r,t)?e:n}var ZT={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function YT(n){return"\\"+ZT[n]}var z8=/<%=([\s\S]+?)%>/g,qT=/<%-([\s\S]+?)%>/g,KT=/<%([\s\S]+?)%>/g,Gf={escape:qT,evaluate:KT,interpolate:z8,variable:"",imports:{_:{escape:d8}}},JT="Invalid `variable` option passed into `_.template`",QT=/\b__p \+= '';/g,eN=/\b(__p \+=) '' \+/g,tN=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nN=/[()=,{}\[\]\/\s]/,rN=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,V2=/($^)/,iN=/['\n\r\u2028\u2029\\]/g,oN=Object.prototype,Jm=oN.hasOwnProperty;function sN(n,e,t){var r=Gf.imports._.templateSettings||Gf;t&&Ir(n,e,t)&&(e=void 0),n=wn(n),e=If({},e,r,Km);var i=If({},e.imports,r.imports,Km),o=Li(i),a=sh(i,o),l,u,c=0,f=e.interpolate||V2,v="__p += '",m=RegExp((e.escape||V2).source+"|"+f.source+"|"+(f===z8?rN:V2).source+"|"+(e.evaluate||V2).source+"|$","g"),y=Jm.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";n.replace(m,function(w,x,k,N,D,V){return k||(k=N),v+=n.slice(c,V).replace(iN,YT),x&&(l=!0,v+=`' +
__e(`+x+`) +
'`),D&&(u=!0,v+=`';
`+D+`;
__p += '`),k&&(v+=`' +
((__t = (`+k+`)) == null ? '' : __t) +
'`),c=V+w.length,w}),v+=`';
`;var _=Jm.call(e,"variable")&&e.variable;if(!_)v=`with (obj) {
`+v+`
}
`;else if(nN.test(_))throw new Error(JT);v=(u?v.replace(QT,""):v).replace(eN,"$1").replace(tN,"$1;"),v="function("+(_||"obj")+`) {
`+(_?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(u?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+v+`return __p
}`;var b=Oy(function(){return Function(o,y+"return "+v).apply(void 0,a)});if(b.source=v,q1(b))throw b;return b}var aN="Expected a function";function U8(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(aN);return ui(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Sd(n,e,{leading:r,maxWait:e,trailing:i})}function zd(n,e){return e(n)}var lN=9007199254740991,nf=4294967295,uN=Math.min;function dN(n,e){if(n=Xt(n),n<1||n>lN)return[];var t=nf,r=uN(n,nf);e=xo(e),n-=nf;for(var i=uy(r,e);++t<n;)e(t);return i}function cN(){return this}function G8(n,e){var t=n;return t instanceof en&&(t=t.value()),Q1(e,function(r,i){return i.func.apply(i.thisArg,q0([r],i.args))},t)}function fN(){return G8(this.__wrapped__,this.__actions__)}function hN(n){return wn(n).toLowerCase()}function pN(n){return hn(n)?Xn(n,bd):Bo(n)?[n]:li(aw(wn(n)))}var Qm=9007199254740991;function vN(n){return n?ca(Xt(n),-Qm,Qm):n===0?n:0}function gN(n){return wn(n).toUpperCase()}function mN(n,e,t){var r=hn(n),i=r||F1(n)||V1(n);if(e=Wt(e),t==null){var o=n&&n.constructor;i?t=r?new o:[]:ui(n)?t=ra(o)?Z0(fx(n)):{}:t={}}return(i?Qi:Fo)(n,function(a,l,u){return e(t,a,l,u)}),t}function X8(n,e){for(var t=n.length;t--&&K0(e,n[t],0)>-1;);return t}function Z8(n,e){for(var t=-1,r=n.length;++t<r&&K0(e,n[t],0)>-1;);return t}function yN(n,e,t){if(n=wn(n),n&&(t||e===void 0))return hx(n);if(!n||!(e=Yi(e)))return n;var r=Ki(n),i=Ki(e),o=Z8(r,i),a=X8(r,i)+1;return ms(r,o,a).join("")}function _N(n,e,t){if(n=wn(n),n&&(t||e===void 0))return n.slice(0,px(n)+1);if(!n||!(e=Yi(e)))return n;var r=Ki(n),i=X8(r,Ki(e))+1;return ms(r,0,i).join("")}var bN=/^\s+/;function CN(n,e,t){if(n=wn(n),n&&(t||e===void 0))return n.replace(bN,"");if(!n||!(e=Yi(e)))return n;var r=Ki(n),i=Z8(r,Ki(e));return ms(r,i).join("")}var wN=30,xN="...",kN=/\w*$/;function SN(n,e){var t=wN,r=xN;if(ui(e)){var i="separator"in e?e.separator:i;t="length"in e?Xt(e.length):t,r="omission"in e?Yi(e.omission):r}n=wn(n);var o=n.length;if(yl(n)){var a=Ki(n);o=a.length}if(t>=o)return n;var l=t-Cl(r);if(l<1)return r;var u=a?ms(a,0,l).join(""):n.slice(0,l);if(i===void 0)return u+r;if(a&&(l+=u.length-l),ah(i)){if(n.slice(l).search(i)){var c,f=u;for(i.global||(i=RegExp(i.source,wn(kN.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var v=c.index;u=u.slice(0,v===void 0?l:v)}}else if(n.indexOf(Yi(i),l)!=l){var m=u.lastIndexOf(i);m>-1&&(u=u.slice(0,m))}return u+r}function EN(n){return My(n,1)}var MN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ON=eh(MN),Y8=/&(?:amp|lt|gt|quot|#39);/g,AN=RegExp(Y8.source);function LN(n){return n=wn(n),n&&AN.test(n)?n.replace(Y8,ON):n}var TN=qt(function(n){return Xs(Fr(n,1,Zn,!0))}),NN=qt(function(n){var e=xi(n);return Zn(e)&&(e=void 0),Xs(Fr(n,1,Zn,!0),Wt(e))}),DN=qt(function(n){var e=xi(n);return e=typeof e=="function"?e:void 0,Xs(Fr(n,1,Zn,!0),void 0,e)});function PN(n,e){return n&&n.length?Xs(n,Wt(e)):[]}function RN(n,e){return e=typeof e=="function"?e:void 0,n&&n.length?Xs(n,void 0,e):[]}var HN=0;function IN(n){var e=++HN;return wn(n)+e}function BN(n,e){return n==null?!0:ry(n,e)}var jN=Math.max;function vh(n){if(!(n&&n.length))return[];var e=0;return n=la(n,function(t){if(Zn(t))return e=jN(t.length,e),!0}),uy(e,function(t){return Xn(n,ny(t))})}function q8(n,e){if(!(n&&n.length))return[];var t=vh(n);return e==null?t:Xn(t,function(r){return ki(e,void 0,r)})}function K8(n,e,t,r){return $1(n,e,t(G1(n,e)),r)}function FN(n,e,t){return n==null?n:K8(n,e,xo(t))}function VN(n,e,t,r){return r=typeof r=="function"?r:void 0,n==null?n:K8(n,e,xo(t),r)}var $N=_l(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()});function WN(n){return n==null?[]:sh(n,eo(n))}var zN=qt(function(n,e){return Zn(n)?e2(n,e):[]});function UN(n,e){return Vd(xo(e),n)}var GN=aa(function(n){var e=n.length,t=e?n[0]:0,r=this.__wrapped__,i=function(o){return Y1(o,n)};return e>1||this.__actions__.length||!(r instanceof en)||!cl(t)?this.thru(i):(r=r.slice(t,+t+(e?1:0)),r.__actions__.push({func:zd,args:[i],thisArg:void 0}),new Si(r,this.__chain__).thru(function(o){return e&&!o.length&&o.push(void 0),o}))});function XN(){return Qy(this)}function ZN(){var n=this.__wrapped__;if(n instanceof en){var e=n;return this.__actions__.length&&(e=new en(this)),e=e.reverse(),e.__actions__.push({func:zd,args:[Uf],thisArg:void 0}),new Si(e,this.__chain__)}return this.thru(Uf)}function gh(n,e,t){var r=n.length;if(r<2)return r?Xs(n[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=n[i],l=-1;++l<r;)l!=i&&(o[i]=e2(o[i]||a,n[l],e,t));return Xs(Fr(o,1),e,t)}var YN=qt(function(n){return gh(la(n,Zn))}),qN=qt(function(n){var e=xi(n);return Zn(e)&&(e=void 0),gh(la(n,Zn),Wt(e))}),KN=qt(function(n){var e=xi(n);return e=typeof e=="function"?e:void 0,gh(la(n,Zn),void 0,e)}),JN=qt(vh);function J8(n,e,t){for(var r=-1,i=n.length,o=e.length,a={};++r<i;){var l=r<o?e[r]:void 0;t(a,n[r],l)}return a}function QN(n,e){return J8(n||[],e||[],j5)}function eD(n,e){return J8(n||[],e||[],$1)}var tD=qt(function(n){var e=n.length,t=e>1?n[e-1]:void 0;return t=typeof t=="function"?(n.pop(),t):void 0,q8(n,t)});const vt={chunk:vE,compact:SE,concat:EE,difference:ZE,differenceBy:YE,differenceWith:qE,drop:JE,dropRight:QE,dropRightWhile:eM,dropWhile:tM,fill:_M,findIndex:iy,findLastIndex:g8,flatten:rx,flattenDeep:NM,flattenDepth:DM,fromPairs:yx,head:EM,indexOf:_8,initial:fO,intersection:Gw,intersectionBy:hO,intersectionWith:pO,join:QO,lastIndexOf:oA,nth:TA,pull:bL,pullAll:H8,pullAllBy:CL,pullAllWith:wL,pullAt:SL,remove:$L,reverse:Uf,slice:uT,sortedIndex:bT,sortedIndexBy:CT,sortedIndexOf:wT,sortedLastIndex:xT,sortedLastIndexBy:kT,sortedLastIndexOf:ST,sortedUniq:ET,sortedUniqBy:MT,tail:VT,take:$T,takeRight:WT,takeRightWhile:zT,takeWhile:UT,union:TN,unionBy:NN,unionWith:DN,uniq:Dw,uniqBy:PN,uniqWith:RN,unzip:vh,unzipWith:q8,without:zN,xor:YN,xorBy:qN,xorWith:KN,zip:JN,zipObject:QN,zipObjectDeep:eD,zipWith:tD},En={countBy:RE,every:gM,filter:bM,find:ds,findLast:kM,flatMap:MM,flatMapDeep:AM,flatMapDepth:LM,forEach:cn,forEachRight:rM,groupBy:JM,includes:dO,invokeMap:xO,keyBy:tA,map:di,orderBy:IA,partition:Qw,reduce:F8,reduceRight:FL,reject:VL,sample:JL,sampleSize:tT,shuffle:oT,size:lT,some:fT,sortBy:hT},nD={now:vx},jn={after:Zx,ary:My,before:Ay,bind:Dd,bindKey:K1,curry:nh,curryRight:rh,debounce:Sd,defer:UE,delay:GE,flip:RM,memoize:lw,once:PA,overArgs:VA,partial:Vd,partialRight:ch,rearg:BL,rest:GL,spread:NT,throttle:U8,unary:EN,wrap:UN},Ot={castArray:uE,clone:yE,cloneDeep:Ht,cloneDeepWith:CE,cloneWith:xE,conformsTo:NE,eq:ps,gt:QM,gte:eO,isArguments:Df,isArrayBuffer:EO,isArrayLike:hs,isArrayLikeObject:Zn,isBoolean:Mu,isBuffer:F1,isDate:LO,isElement:TO,isEmpty:W1,isEqual:Rf,isEqualWith:NO,isError:q1,isFinite:PO,isFunction:ra,isInteger:w8,isLength:uw,isMap:Xw,isMatch:RO,isMatchWith:HO,isNaN:IO,isNative:FO,isNil:Ar,isNull:VO,isNumber:fy,isObjectLike:Ji,isPlainObject:kd,isRegExp:ah,isSafeInteger:zO,isSet:Zw,isString:Bd,isSymbol:Bo,isTypedArray:V1,isUndefined:Zs,isWeakMap:GO,isWeakSet:ZO,lt:lA,lte:uA,toArray:S8,toFinite:as,toLength:h8,toNumber:Io,toPlainObject:n8,toSafeInteger:vN,toString:wn},$r={add:Gx,ceil:fE,divide:KE,floor:HM,max:vA,maxBy:gA,mean:yA,meanBy:_A,min:wA,minBy:xA,multiply:SA,round:qL,subtract:BT,sum:jT,sumBy:FT},mh={clamp:gE,inRange:aO,random:TL},It={assign:rn,assignIn:zk,assignInWith:If,assignWith:Uk,at:Gk,create:HE,defaults:VE,defaultsDeep:WE,findKey:CM,findLastKey:SM,forIn:zM,forInRight:UM,forOwn:GM,forOwnRight:XM,functions:ZM,functionsIn:YM,get:ia,has:Eu,hasIn:ix,invert:yO,invertBy:CO,invoke:wO,keysIn:eo,mapKeys:x8,mapValues:dA,merge:Ys,mergeWith:i8,omit:Yw,omitBy:DA,pick:Ws,pickBy:M8,result:XL,set:$5,setWith:nT,toPairs:$o,toPairsIn:uM,transform:mN,unset:BN,update:FN,updateWith:VN,values:bl,valuesIn:WN},ko={at:GN,chain:Qy,commit:kE,next:LA,plant:gL,reverse:ZN,tap:GT,toIterator:cN,value:fN,wrapperChain:XN},vn={camelCase:lE,capitalize:Iy,deburr:By,endsWith:iM,escape:d8,escapeRegExp:pM,kebabCase:eA,lowerCase:sA,lowerFirst:aA,pad:lL,padEnd:uL,padStart:dL,parseInt:hL,repeat:WL,replace:zL,snakeCase:dT,split:AT,startCase:DT,startsWith:PT,template:sN,templateSettings:Gf,toLower:hN,toUpper:gN,trim:yN,trimEnd:_N,trimStart:CN,truncate:SN,unescape:LN,upperCase:$N,upperFirst:J1,words:Jy},yn={attempt:Oy,bindAll:Jk,cond:OE,conforms:TE,constant:sy,defaultTo:jE,flow:$M,flowRight:WM,iteratee:qO,matches:fA,matchesProperty:pA,method:bA,methodOf:CA,noop:d0,nthArg:NA,over:BA,overEvery:$A,overSome:WA,property:qw,propertyOf:mL,range:RL,rangeRight:HL,stubArray:dx,stubFalse:V5,stubObject:RT,stubString:HT,stubTrue:IT,times:dN,toPath:pN,uniqueId:IN};function rD(){var n=new en(this.__wrapped__);return n.__actions__=li(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=li(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=li(this.__views__),n}function iD(){if(this.__filtered__){var n=new en(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}var oD=Math.max,sD=Math.min;function aD(n,e,t){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=o.size;switch(o.type){case"drop":n+=a;break;case"dropRight":e-=a;break;case"take":e=sD(e,n+a);break;case"takeRight":n=oD(n,e-a);break}}return{start:n,end:e}}var lD=1,uD=2,dD=Math.min;function cD(){var n=this.__wrapped__.value(),e=this.__dir__,t=hn(n),r=e<0,i=t?n.length:0,o=aD(0,i,this.__views__),a=o.start,l=o.end,u=l-a,c=r?l:a-1,f=this.__iteratees__,v=f.length,m=0,y=dD(u,this.__takeCount__);if(!t||!r&&i==u&&y==u)return G8(n,this.__actions__);var _=[];e:for(;u--&&m<y;){c+=e;for(var b=-1,w=n[c];++b<v;){var x=f[b],k=x.iteratee,N=x.type,D=k(w);if(N==uD)w=D;else if(!D){if(N==lD)continue e;break e}}_[m++]=w}return _}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var fD="4.17.21",hD=2,pD=1,vD=3,Q8=4294967295,gD=Array.prototype,mD=Object.prototype,e7=mD.hasOwnProperty,e9=xu?xu.iterator:void 0,yD=Math.max,t9=Math.min,yh=function(n){return function(e,t,r){if(r==null){var i=ui(t),o=i&&Li(t),a=o&&o.length&&Hd(t,o);(a?a.length:i)||(r=t,t=e,e=this)}return n(e,t,r)}}(kA);Z.after=jn.after;Z.ary=jn.ary;Z.assign=It.assign;Z.assignIn=It.assignIn;Z.assignInWith=It.assignInWith;Z.assignWith=It.assignWith;Z.at=It.at;Z.before=jn.before;Z.bind=jn.bind;Z.bindAll=yn.bindAll;Z.bindKey=jn.bindKey;Z.castArray=Ot.castArray;Z.chain=ko.chain;Z.chunk=vt.chunk;Z.compact=vt.compact;Z.concat=vt.concat;Z.cond=yn.cond;Z.conforms=yn.conforms;Z.constant=yn.constant;Z.countBy=En.countBy;Z.create=It.create;Z.curry=jn.curry;Z.curryRight=jn.curryRight;Z.debounce=jn.debounce;Z.defaults=It.defaults;Z.defaultsDeep=It.defaultsDeep;Z.defer=jn.defer;Z.delay=jn.delay;Z.difference=vt.difference;Z.differenceBy=vt.differenceBy;Z.differenceWith=vt.differenceWith;Z.drop=vt.drop;Z.dropRight=vt.dropRight;Z.dropRightWhile=vt.dropRightWhile;Z.dropWhile=vt.dropWhile;Z.fill=vt.fill;Z.filter=En.filter;Z.flatMap=En.flatMap;Z.flatMapDeep=En.flatMapDeep;Z.flatMapDepth=En.flatMapDepth;Z.flatten=vt.flatten;Z.flattenDeep=vt.flattenDeep;Z.flattenDepth=vt.flattenDepth;Z.flip=jn.flip;Z.flow=yn.flow;Z.flowRight=yn.flowRight;Z.fromPairs=vt.fromPairs;Z.functions=It.functions;Z.functionsIn=It.functionsIn;Z.groupBy=En.groupBy;Z.initial=vt.initial;Z.intersection=vt.intersection;Z.intersectionBy=vt.intersectionBy;Z.intersectionWith=vt.intersectionWith;Z.invert=It.invert;Z.invertBy=It.invertBy;Z.invokeMap=En.invokeMap;Z.iteratee=yn.iteratee;Z.keyBy=En.keyBy;Z.keys=Li;Z.keysIn=It.keysIn;Z.map=En.map;Z.mapKeys=It.mapKeys;Z.mapValues=It.mapValues;Z.matches=yn.matches;Z.matchesProperty=yn.matchesProperty;Z.memoize=jn.memoize;Z.merge=It.merge;Z.mergeWith=It.mergeWith;Z.method=yn.method;Z.methodOf=yn.methodOf;Z.mixin=yh;Z.negate=Fd;Z.nthArg=yn.nthArg;Z.omit=It.omit;Z.omitBy=It.omitBy;Z.once=jn.once;Z.orderBy=En.orderBy;Z.over=yn.over;Z.overArgs=jn.overArgs;Z.overEvery=yn.overEvery;Z.overSome=yn.overSome;Z.partial=jn.partial;Z.partialRight=jn.partialRight;Z.partition=En.partition;Z.pick=It.pick;Z.pickBy=It.pickBy;Z.property=yn.property;Z.propertyOf=yn.propertyOf;Z.pull=vt.pull;Z.pullAll=vt.pullAll;Z.pullAllBy=vt.pullAllBy;Z.pullAllWith=vt.pullAllWith;Z.pullAt=vt.pullAt;Z.range=yn.range;Z.rangeRight=yn.rangeRight;Z.rearg=jn.rearg;Z.reject=En.reject;Z.remove=vt.remove;Z.rest=jn.rest;Z.reverse=vt.reverse;Z.sampleSize=En.sampleSize;Z.set=It.set;Z.setWith=It.setWith;Z.shuffle=En.shuffle;Z.slice=vt.slice;Z.sortBy=En.sortBy;Z.sortedUniq=vt.sortedUniq;Z.sortedUniqBy=vt.sortedUniqBy;Z.split=vn.split;Z.spread=jn.spread;Z.tail=vt.tail;Z.take=vt.take;Z.takeRight=vt.takeRight;Z.takeRightWhile=vt.takeRightWhile;Z.takeWhile=vt.takeWhile;Z.tap=ko.tap;Z.throttle=jn.throttle;Z.thru=zd;Z.toArray=Ot.toArray;Z.toPairs=It.toPairs;Z.toPairsIn=It.toPairsIn;Z.toPath=yn.toPath;Z.toPlainObject=Ot.toPlainObject;Z.transform=It.transform;Z.unary=jn.unary;Z.union=vt.union;Z.unionBy=vt.unionBy;Z.unionWith=vt.unionWith;Z.uniq=vt.uniq;Z.uniqBy=vt.uniqBy;Z.uniqWith=vt.uniqWith;Z.unset=It.unset;Z.unzip=vt.unzip;Z.unzipWith=vt.unzipWith;Z.update=It.update;Z.updateWith=It.updateWith;Z.values=It.values;Z.valuesIn=It.valuesIn;Z.without=vt.without;Z.words=vn.words;Z.wrap=jn.wrap;Z.xor=vt.xor;Z.xorBy=vt.xorBy;Z.xorWith=vt.xorWith;Z.zip=vt.zip;Z.zipObject=vt.zipObject;Z.zipObjectDeep=vt.zipObjectDeep;Z.zipWith=vt.zipWith;Z.entries=It.toPairs;Z.entriesIn=It.toPairsIn;Z.extend=It.assignIn;Z.extendWith=It.assignInWith;yh(Z,Z);Z.add=$r.add;Z.attempt=yn.attempt;Z.camelCase=vn.camelCase;Z.capitalize=vn.capitalize;Z.ceil=$r.ceil;Z.clamp=mh.clamp;Z.clone=Ot.clone;Z.cloneDeep=Ot.cloneDeep;Z.cloneDeepWith=Ot.cloneDeepWith;Z.cloneWith=Ot.cloneWith;Z.conformsTo=Ot.conformsTo;Z.deburr=vn.deburr;Z.defaultTo=yn.defaultTo;Z.divide=$r.divide;Z.endsWith=vn.endsWith;Z.eq=Ot.eq;Z.escape=vn.escape;Z.escapeRegExp=vn.escapeRegExp;Z.every=En.every;Z.find=En.find;Z.findIndex=vt.findIndex;Z.findKey=It.findKey;Z.findLast=En.findLast;Z.findLastIndex=vt.findLastIndex;Z.findLastKey=It.findLastKey;Z.floor=$r.floor;Z.forEach=En.forEach;Z.forEachRight=En.forEachRight;Z.forIn=It.forIn;Z.forInRight=It.forInRight;Z.forOwn=It.forOwn;Z.forOwnRight=It.forOwnRight;Z.get=It.get;Z.gt=Ot.gt;Z.gte=Ot.gte;Z.has=It.has;Z.hasIn=It.hasIn;Z.head=vt.head;Z.identity=no;Z.includes=En.includes;Z.indexOf=vt.indexOf;Z.inRange=mh.inRange;Z.invoke=It.invoke;Z.isArguments=Ot.isArguments;Z.isArray=hn;Z.isArrayBuffer=Ot.isArrayBuffer;Z.isArrayLike=Ot.isArrayLike;Z.isArrayLikeObject=Ot.isArrayLikeObject;Z.isBoolean=Ot.isBoolean;Z.isBuffer=Ot.isBuffer;Z.isDate=Ot.isDate;Z.isElement=Ot.isElement;Z.isEmpty=Ot.isEmpty;Z.isEqual=Ot.isEqual;Z.isEqualWith=Ot.isEqualWith;Z.isError=Ot.isError;Z.isFinite=Ot.isFinite;Z.isFunction=Ot.isFunction;Z.isInteger=Ot.isInteger;Z.isLength=Ot.isLength;Z.isMap=Ot.isMap;Z.isMatch=Ot.isMatch;Z.isMatchWith=Ot.isMatchWith;Z.isNaN=Ot.isNaN;Z.isNative=Ot.isNative;Z.isNil=Ot.isNil;Z.isNull=Ot.isNull;Z.isNumber=Ot.isNumber;Z.isObject=ui;Z.isObjectLike=Ot.isObjectLike;Z.isPlainObject=Ot.isPlainObject;Z.isRegExp=Ot.isRegExp;Z.isSafeInteger=Ot.isSafeInteger;Z.isSet=Ot.isSet;Z.isString=Ot.isString;Z.isSymbol=Ot.isSymbol;Z.isTypedArray=Ot.isTypedArray;Z.isUndefined=Ot.isUndefined;Z.isWeakMap=Ot.isWeakMap;Z.isWeakSet=Ot.isWeakSet;Z.join=vt.join;Z.kebabCase=vn.kebabCase;Z.last=xi;Z.lastIndexOf=vt.lastIndexOf;Z.lowerCase=vn.lowerCase;Z.lowerFirst=vn.lowerFirst;Z.lt=Ot.lt;Z.lte=Ot.lte;Z.max=$r.max;Z.maxBy=$r.maxBy;Z.mean=$r.mean;Z.meanBy=$r.meanBy;Z.min=$r.min;Z.minBy=$r.minBy;Z.stubArray=yn.stubArray;Z.stubFalse=yn.stubFalse;Z.stubObject=yn.stubObject;Z.stubString=yn.stubString;Z.stubTrue=yn.stubTrue;Z.multiply=$r.multiply;Z.nth=vt.nth;Z.noop=yn.noop;Z.now=nD.now;Z.pad=vn.pad;Z.padEnd=vn.padEnd;Z.padStart=vn.padStart;Z.parseInt=vn.parseInt;Z.random=mh.random;Z.reduce=En.reduce;Z.reduceRight=En.reduceRight;Z.repeat=vn.repeat;Z.replace=vn.replace;Z.result=It.result;Z.round=$r.round;Z.sample=En.sample;Z.size=En.size;Z.snakeCase=vn.snakeCase;Z.some=En.some;Z.sortedIndex=vt.sortedIndex;Z.sortedIndexBy=vt.sortedIndexBy;Z.sortedIndexOf=vt.sortedIndexOf;Z.sortedLastIndex=vt.sortedLastIndex;Z.sortedLastIndexBy=vt.sortedLastIndexBy;Z.sortedLastIndexOf=vt.sortedLastIndexOf;Z.startCase=vn.startCase;Z.startsWith=vn.startsWith;Z.subtract=$r.subtract;Z.sum=$r.sum;Z.sumBy=$r.sumBy;Z.template=vn.template;Z.times=yn.times;Z.toFinite=Ot.toFinite;Z.toInteger=Xt;Z.toLength=Ot.toLength;Z.toLower=vn.toLower;Z.toNumber=Ot.toNumber;Z.toSafeInteger=Ot.toSafeInteger;Z.toString=Ot.toString;Z.toUpper=vn.toUpper;Z.trim=vn.trim;Z.trimEnd=vn.trimEnd;Z.trimStart=vn.trimStart;Z.truncate=vn.truncate;Z.unescape=vn.unescape;Z.uniqueId=yn.uniqueId;Z.upperCase=vn.upperCase;Z.upperFirst=vn.upperFirst;Z.each=En.forEach;Z.eachRight=En.forEachRight;Z.first=vt.head;yh(Z,function(){var n={};return Fo(Z,function(e,t){e7.call(Z.prototype,t)||(n[t]=e)}),n}(),{chain:!1});Z.VERSION=fD;(Z.templateSettings=vn.templateSettings).imports._=Z;Qi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Z[n].placeholder=Z});Qi(["drop","take"],function(n,e){en.prototype[n]=function(t){t=t===void 0?1:yD(Xt(t),0);var r=this.__filtered__&&!e?new en(this):this.clone();return r.__filtered__?r.__takeCount__=t9(t,r.__takeCount__):r.__views__.push({size:t9(t,Q8),type:n+(r.__dir__<0?"Right":"")}),r},en.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}});Qi(["filter","map","takeWhile"],function(n,e){var t=e+1,r=t==pD||t==vD;en.prototype[n]=function(i){var o=this.clone();return o.__iteratees__.push({iteratee:Wt(i),type:t}),o.__filtered__=o.__filtered__||r,o}});Qi(["head","last"],function(n,e){var t="take"+(e?"Right":"");en.prototype[n]=function(){return this[t](1).value()[0]}});Qi(["initial","tail"],function(n,e){var t="drop"+(e?"":"Right");en.prototype[n]=function(){return this.__filtered__?new en(this):this[t](1)}});en.prototype.compact=function(){return this.filter(no)};en.prototype.find=function(n){return this.filter(n).head()};en.prototype.findLast=function(n){return this.reverse().find(n)};en.prototype.invokeMap=qt(function(n,e){return typeof n=="function"?new en(this):this.map(function(t){return t2(t,n,e)})});en.prototype.reject=function(n){return this.filter(Fd(Wt(n)))};en.prototype.slice=function(n,e){n=Xt(n);var t=this;return t.__filtered__&&(n>0||e<0)?new en(t):(n<0?t=t.takeRight(-n):n&&(t=t.drop(n)),e!==void 0&&(e=Xt(e),t=e<0?t.dropRight(-e):t.take(e-n)),t)};en.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()};en.prototype.toArray=function(){return this.take(Q8)};Fo(en.prototype,function(n,e){var t=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Z[r?"take"+(e=="last"?"Right":""):e],o=r||/^find/.test(e);i&&(Z.prototype[e]=function(){var a=this.__wrapped__,l=r?[1]:arguments,u=a instanceof en,c=l[0],f=u||hn(a),v=function(x){var k=i.apply(Z,q0([x],l));return r&&m?k[0]:k};f&&t&&typeof c=="function"&&c.length!=1&&(u=f=!1);var m=this.__chain__,y=!!this.__actions__.length,_=o&&!m,b=u&&!y;if(!o&&f){a=b?a:new en(this);var w=n.apply(a,l);return w.__actions__.push({func:zd,args:[v],thisArg:void 0}),new Si(w,m)}return _&&b?n.apply(this,l):(w=this.thru(v),_?r?w.value()[0]:w.value():w)})});Qi(["pop","push","shift","sort","splice","unshift"],function(n){var e=gD[n],t=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);Z.prototype[n]=function(){var i=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(hn(o)?o:[],i)}return this[t](function(a){return e.apply(hn(a)?a:[],i)})}});Fo(en.prototype,function(n,e){var t=Z[e];if(t){var r=t.name+"";e7.call(Xa,r)||(Xa[r]=[]),Xa[r].push({name:e,func:t})}});Xa[Nd(void 0,hD).name]=[{name:"wrapper",func:void 0}];en.prototype.clone=rD;en.prototype.reverse=iD;en.prototype.value=cD;Z.prototype.at=ko.at;Z.prototype.chain=ko.wrapperChain;Z.prototype.commit=ko.commit;Z.prototype.next=ko.next;Z.prototype.plant=ko.plant;Z.prototype.reverse=ko.reverse;Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=ko.value;Z.prototype.first=Z.prototype.head;e9&&(Z.prototype[e9]=ko.toIterator);function _D(n){const{selectionStart:e}=n;return n.value.slice(0,e)}function bD(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(Array.isArray(e)?e:[e]).reduce((r,i)=>{const o=n.lastIndexOf(i);return o>r.location?{location:o,prefix:i}:r},{location:-1,prefix:""})}function n9(n){return(n||"").toLowerCase()}function CD(n,e,t){const r=n[0];if(!r||r===t)return n;let i=n;const o=e.length;for(let a=0;a<o;a+=1)if(n9(i[a])!==n9(e[a])){i=i.slice(a);break}else a===o-1&&(i=i.slice(o));return i}function wD(n,e){const{measureLocation:t,prefix:r,targetText:i,selectionStart:o,split:a}=e;let l=n.slice(0,t);l[l.length-a.length]===a&&(l=l.slice(0,l.length-a.length)),l&&(l=`${l}${a}`);let u=CD(n.slice(o),i.slice(o-t-r.length),a);u.slice(0,a.length)===a&&(u=u.slice(a.length));const c=`${l}${r}${i}${a}`;return{text:`${c}${u}`,selectionLocation:c.length}}function xD(n,e){n.setSelectionRange(e,e),n.blur(),n.focus()}function kD(n,e){const{split:t}=e;return!t||n.indexOf(t)===-1}function SD(n,e){let{value:t=""}=e;const r=n.toLowerCase();return t.toLowerCase().indexOf(r)!==-1}const t7=Symbol("MentionsContextKey");function ED(){}const MD=Oi({compatConfig:{MODE:3},name:"DropdownMenu",props:{prefixCls:String,options:{type:Array,default:()=>[]}},setup(n,e){let{slots:t}=e;const{activeIndex:r,setActiveIndex:i,selectOption:o,onFocus:a=ED,loading:l}=Cn(t7,{activeIndex:Ga(),loading:Ga(!1)});let u;const c=f=>{clearTimeout(u),u=setTimeout(()=>{a(f)})};return vs(()=>{clearTimeout(u)}),()=>{var f;const{prefixCls:v,options:m}=n,y=m[r.value]||{};return j(z1,{prefixCls:`${v}-menu`,activeKey:y.value,onSelect:_=>{let{key:b}=_;const w=m.find(x=>{let{value:k}=x;return k===b});o(w)},onMousedown:c},{default:()=>[!l.value&&m.map((_,b)=>{var w,x;const{value:k,disabled:N,label:D=_.value,class:V,style:U}=_;return j(c0,{key:k,disabled:N,onMouseenter:()=>{i(b)},class:V,style:U},{default:()=>[(x=(w=t.option)===null||w===void 0?void 0:w.call(t,_))!==null&&x!==void 0?x:typeof D=="function"?D(_):D]})}),!l.value&&m.length===0?j(c0,{key:"notFoundContent",disabled:!0},{default:()=>[(f=t.notFoundContent)===null||f===void 0?void 0:f.call(t)]}):null,l.value&&j(c0,{key:"loading",disabled:!0},{default:()=>[j(Ad,{size:"small"},null)]})]})}}}),OD={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},AD=Oi({compatConfig:{MODE:3},name:"KeywordTrigger",props:{loading:{type:Boolean,default:void 0},options:{type:Array,default:()=>[]},prefixCls:String,placement:String,visible:{type:Boolean,default:void 0},transitionName:String,getPopupContainer:Function,direction:String,dropdownClassName:String},setup(n,e){let{slots:t}=e;const r=()=>`${n.prefixCls}-dropdown`,i=()=>{const{options:a}=n;return j(MD,{prefixCls:r(),options:a},{notFoundContent:t.notFoundContent,option:t.option})},o=nn(()=>{const{placement:a,direction:l}=n;let u="topRight";return l==="rtl"?u=a==="top"?"topLeft":"bottomLeft":u=a==="top"?"topRight":"bottomRight",u});return()=>{const{visible:a,transitionName:l,getPopupContainer:u}=n;return j(cx,{prefixCls:r(),popupVisible:a,popup:i(),popupClassName:n.dropdownClassName,popupPlacement:o.value,popupTransitionName:l,builtinPlacements:OD,getPopupContainer:u},{default:t.default})}}}),LD=cw("top","bottom"),n7={autofocus:{type:Boolean,default:void 0},prefix:Hs.oneOfType([Hs.string,Hs.arrayOf(Hs.string)]),prefixCls:String,value:String,disabled:{type:Boolean,default:void 0},split:String,transitionName:String,placement:Hs.oneOf(LD),character:Hs.any,characterRender:Function,filterOption:{type:[Boolean,Function]},validateSearch:Function,getPopupContainer:{type:Function},options:dw(),loading:{type:Boolean,default:void 0},rows:[Number,String],direction:{type:String}},r7=ln(ln({},n7),{dropdownClassName:String}),i7={prefix:"@",split:" ",rows:1,validateSearch:kD,filterOption:()=>SD};W5(r7,i7);var r9=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function i9(){}const TD=Oi({compatConfig:{MODE:3},name:"Mentions",inheritAttrs:!1,props:W5(r7,i7),emits:["change","select","search","focus","blur","pressenter"],setup(n,e){let{emit:t,attrs:r,expose:i,slots:o}=e;const a=Fe(null),l=Fe(null),u=Fe(),c=Pn({value:n.value||"",measuring:!1,measureLocation:0,measureText:null,measurePrefix:"",activeIndex:0,isFocus:!1});kw(()=>{c.value=n.value});const f=q=>{t("change",q)},v=q=>{let{target:{value:ue}}=q;f(ue)},m=(q,ue,T)=>{ln(c,{measuring:!0,measureText:q,measurePrefix:ue,measureLocation:T,activeIndex:0})},y=q=>{ln(c,{measuring:!1,measureLocation:0,measureText:null}),q==null||q()},_=q=>{const{which:ue}=q;if(c.measuring){if(ue===No.UP||ue===No.DOWN){const T=G.value.length,R=ue===No.UP?-1:1,A=(c.activeIndex+R+T)%T;c.activeIndex=A,q.preventDefault()}else if(ue===No.ESC)y();else if(ue===No.ENTER){if(q.preventDefault(),!G.value.length){y();return}const T=G.value[c.activeIndex];V(T)}}},b=q=>{const{key:ue,which:T}=q,{measureText:R,measuring:A}=c,{prefix:se,validateSearch:re}=n,de=q.target;if(de.composing)return;const le=_D(de),{location:Ae,prefix:pe}=bD(le,se);if([No.ESC,No.UP,No.DOWN,No.ENTER].indexOf(T)===-1)if(Ae!==-1){const Ne=le.slice(Ae+pe.length),Ve=re(Ne,n),Ie=!!B(Ne).length;Ve?(ue===pe||ue==="Shift"||A||Ne!==R&&Ie)&&m(Ne,pe,Ae):A&&y(),Ve&&t("search",Ne,pe)}else A&&y()},w=q=>{c.measuring||t("pressenter",q)},x=q=>{N(q)},k=q=>{D(q)},N=q=>{clearTimeout(u.value);const{isFocus:ue}=c;!ue&&q&&t("focus",q),c.isFocus=!0},D=q=>{u.value=setTimeout(()=>{c.isFocus=!1,y(),t("blur",q)},100)},V=q=>{const{split:ue}=n,{value:T=""}=q,{text:R,selectionLocation:A}=wD(c.value,{measureLocation:c.measureLocation,targetText:T,prefix:c.measurePrefix,selectionStart:l.value.getSelectionStart(),split:ue});f(R),y(()=>{xD(l.value.input,A)}),t("select",q,c.measurePrefix)},U=q=>{c.activeIndex=q},B=q=>{const ue=q||c.measureText||"",{filterOption:T}=n;return n.options.filter(A=>T?T(ue,A):!0)},G=nn(()=>B());return i({blur:()=>{l.value.blur()},focus:()=>{l.value.focus()}}),Sw(t7,{activeIndex:Em(c,"activeIndex"),setActiveIndex:U,selectOption:V,onFocus:N,onBlur:D,loading:Em(n,"loading")}),Ew(()=>{wi(()=>{c.measuring&&(a.value.scrollTop=l.value.getScrollTop())})}),()=>{const{measureLocation:q,measurePrefix:ue,measuring:T}=c,{prefixCls:R,placement:A,transitionName:se,getPopupContainer:re,direction:de}=n,le=r9(n,["prefixCls","placement","transitionName","getPopupContainer","direction"]),{class:Ae,style:pe}=r,Ne=r9(r,["class","style"]),Ve=z5(le,["value","prefix","split","validateSearch","filterOption","options","loading"]),Ie=ln(ln(ln({},Ve),Ne),{onChange:i9,onSelect:i9,value:c.value,onInput:v,onBlur:k,onKeydown:_,onKeyup:b,onFocus:x,onPressenter:w});return j("div",{class:Pf(R,Ae),style:pe},[j(wx,ku(ku({},Ie),{},{ref:l,tag:"textarea"}),null),T&&j("div",{ref:a,class:`${R}-measure`},[c.value.slice(0,q),j(AD,{prefixCls:R,transitionName:se,dropdownClassName:n.dropdownClassName,placement:A,options:T?G.value:[],visible:!0,direction:de,getPopupContainer:re},{default:()=>[j("span",null,[ue])],notFoundContent:o.notFoundContent,option:o.option}),c.value.slice(q+ue.length)])])}}}),ND={value:String,disabled:Boolean,payload:fw()},o7=ln(ln({},ND),{label:hw([])}),s7={name:"Option",props:o7,render(n,e){let{slots:t}=e;var r;return(r=t.default)===null||r===void 0?void 0:r.call(t)}};Oi(ln({compatConfig:{MODE:3}},s7));const DD=n=>{const{componentCls:e,colorTextDisabled:t,controlItemBgHover:r,controlPaddingHorizontal:i,colorText:o,motionDurationSlow:a,lineHeight:l,controlHeight:u,inputPaddingHorizontal:c,inputPaddingVertical:f,fontSize:v,colorBgElevated:m,borderRadiusLG:y,boxShadowSecondary:_}=n,b=Math.round((n.controlHeight-n.fontSize*n.lineHeight)/2);return{[e]:ln(ln(ln(ln(ln({},Sm(n)),kx(n)),{position:"relative",display:"inline-block",height:"auto",padding:0,overflow:"hidden",lineHeight:l,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),Sx(n,e)),{"&-disabled":{"> textarea":ln({},Ox(n))},"&-focused":ln({},Mx(n)),[`&-affix-wrapper ${e}-suffix`]:{position:"absolute",top:0,insetInlineEnd:c,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},[`> textarea, ${e}-measure`]:{color:o,boxSizing:"border-box",minHeight:u-2,margin:0,padding:`${f}px ${c}px`,overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":ln({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"inherit"},Ex(n.colorTextPlaceholder)),[`${e}-measure`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}},"&-dropdown":ln(ln({},Sm(n)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:n.zIndexPopup,boxSizing:"border-box",fontSize:v,fontVariant:"initial",backgroundColor:m,borderRadius:y,outline:"none",boxShadow:_,"&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:n.dropdownHeight,marginBottom:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":ln(ln({},vw),{position:"relative",display:"block",minWidth:n.controlItemWidth,padding:`${b}px ${i}px`,color:o,fontWeight:"normal",lineHeight:l,cursor:"pointer",transition:`background ${a} ease`,"&:hover":{backgroundColor:r},"&:first-child":{borderStartStartRadius:y,borderStartEndRadius:y,borderEndStartRadius:0,borderEndEndRadius:0},"&:last-child":{borderStartStartRadius:0,borderStartEndRadius:0,borderEndStartRadius:y,borderEndEndRadius:y},"&-disabled":{color:t,cursor:"not-allowed","&:hover":{color:t,backgroundColor:r,cursor:"not-allowed"}},"&-selected":{color:o,fontWeight:n.fontWeightStrong,backgroundColor:r},"&-active":{backgroundColor:r}})}})})}},PD=pw("Mentions",n=>{const e=xx(n);return[DD(e)]},n=>({dropdownHeight:250,controlItemWidth:100,zIndexPopup:n.zIndexPopupBase+50}));var o9=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};function RD(){return!0}const HD=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{prefix:t="@",split:r=" "}=e,i=Array.isArray(t)?t:[t];return n.split(r).map(function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=null;return i.some(l=>o.slice(0,l.length)===l?(a=l,!0):!1),a!==null?{prefix:a,value:o.slice(a.length)}:null}).filter(o=>!!o&&!!o.value)},ID=()=>ln(ln({},n7),{loading:{type:Boolean,default:void 0},onFocus:{type:Function},onBlur:{type:Function},onSelect:{type:Function},onChange:{type:Function},onPressenter:{type:Function},"onUpdate:value":{type:Function},notFoundContent:Hs.any,defaultValue:String,id:String,status:String}),rf=Oi({compatConfig:{MODE:3},name:"AMentions",inheritAttrs:!1,props:ID(),slots:Object,setup(n,e){let{slots:t,emit:r,attrs:i,expose:o}=e;var a,l;const{prefixCls:u,renderEmpty:c,direction:f}=gw("mentions",n),[v,m]=PD(u),y=Ga(!1),_=Ga(null),b=Ga((l=(a=n.value)!==null&&a!==void 0?a:n.defaultValue)!==null&&l!==void 0?l:""),w=bx(),x=Cx.useInject(),k=nn(()=>Ax(x.status,n.status));Pw({prefixCls:nn(()=>`${u.value}-menu`),mode:nn(()=>"vertical"),selectable:nn(()=>!1),onClick:()=>{},validator:ue=>{let{mode:T}=ue}}),bn(()=>n.value,ue=>{b.value=ue});const N=ue=>{y.value=!0,r("focus",ue)},D=ue=>{y.value=!1,r("blur",ue),w.onFieldBlur()},V=function(){for(var ue=arguments.length,T=new Array(ue),R=0;R<ue;R++)T[R]=arguments[R];r("select",...T),y.value=!0},U=ue=>{n.value===void 0&&(b.value=ue),r("update:value",ue),r("change",ue),w.onFieldChange()},B=()=>{const ue=n.notFoundContent;return ue!==void 0?ue:t.notFoundContent?t.notFoundContent():c("Select")},G=()=>{var ue;return mw(((ue=t.default)===null||ue===void 0?void 0:ue.call(t))||[]).map(T=>{var R,A;return ln(ln({},yw(T)),{label:(A=(R=T.children)===null||R===void 0?void 0:R.default)===null||A===void 0?void 0:A.call(R)})})};o({focus:()=>{_.value.focus()},blur:()=>{_.value.blur()}});const q=nn(()=>n.loading?RD:n.filterOption);return()=>{const{disabled:ue,getPopupContainer:T,rows:R=1,id:A=w.id.value}=n,se=o9(n,["disabled","getPopupContainer","rows","id"]),{hasFeedback:re,feedbackIcon:de}=x,{class:le}=i,Ae=o9(i,["class"]),pe=z5(se,["defaultValue","onUpdate:value","prefixCls"]),Ne=Pf({[`${u.value}-disabled`]:ue,[`${u.value}-focused`]:y.value,[`${u.value}-rtl`]:f.value==="rtl"},Mm(u.value,k.value),!re&&le,m.value),Ve=ln(ln(ln(ln({prefixCls:u.value},pe),{disabled:ue,direction:f.value,filterOption:q.value,getPopupContainer:T,options:n.loading?[{value:"ANTDV_SEARCHING",disabled:!0,label:j(Ad,{size:"small"},null)}]:n.options||G(),class:Ne}),Ae),{rows:R,onChange:U,onSelect:V,onFocus:N,onBlur:D,ref:_,value:b.value,id:A}),Ie=j(TD,ku(ku({},Ve),{},{dropdownClassName:m.value}),{notFoundContent:B,option:t.option});return v(re?j("div",{class:Pf(`${u.value}-affix-wrapper`,Mm(`${u.value}-affix-wrapper`,k.value,re),le,m.value)},[Ie,j("span",{class:`${u.value}-suffix`},[de])]):Ie)}}}),of=Oi(ln(ln({compatConfig:{MODE:3}},s7),{name:"AMentionsOption",props:o7})),BD=ln(rf,{Option:of,getMentions:HD,install:n=>(n.component(rf.name,rf),n.component(of.name,of),n)});var jD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};function s9(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){FD(n,i,t[i])})}return n}function FD(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var n2=function(e,t){var r=s9({},e,t.attrs);return j(U5,s9({},r,{icon:jD}),null)};n2.displayName="FullscreenOutlined";n2.inheritAttrs=!1;var VD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};function a9(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.forEach(function(i){$D(n,i,t[i])})}return n}function $D(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Ud=function(e,t){var r=a9({},e,t.attrs);return j(U5,a9({},r,{icon:VD}),null)};Ud.displayName="HolderOutlined";Ud.inheritAttrs=!1;const WD={key:0,class:"sidebar-handle-wrapper"},zD={class:"sidebar-container"},UD={class:"sidebar-menus"},GD=["onClick"],XD={class:"menu-name"},ZD={__name:"page-sidebar",props:{showSidebarBtn:{default:!0,type:Boolean}},setup(n){const e=Nw(),t=Y5(),r=U0(),i=nn(()=>r.path.split("/")[3]),o=Fe(!0),a=Fe(!1),l=Fe(!0);function u(){o.value=!o.value,l.value=!1,e.setHideLayoutTopAndBottom(o.value),setTimeout(()=>{a.value=o.value},250)}const c=[{label:"工作量编排",value:"workflow",path:"/robot/config/workflow",iconName:"workflow"},{label:"对外服务",value:"external-services",path:"/robot/config/external-services",iconName:"duiwaifuwu"},{label:"聊天测试",value:"test",path:"/robot/test",iconName:"liaotianceshi",isNewWindowOpen:!0},{label:"问答反馈",value:"qa-feedbacks",path:"/robot/config/qa-feedbacks",iconName:"qa-feedback"},{label:"会话记录",value:"session-record",path:"/robot/config/session-record",iconName:"session-record"},{label:"API Key管理",value:"api-key-manage",path:"/robot/config/api-key-manage",iconName:"duiwaifuwu"},{label:"未知问题",value:"unknown_issue",path:"/robot/config/unknown_issue",iconName:"unknown-issue"},{label:"统计分析",value:"statistical_analysis",path:"/robot/config/statistical_analysis",iconName:"statistical-analysis"},{label:"导出记录",value:"export-record",path:"/robot/config/export-record",iconName:"export-record"}],f=v=>{if(v.isNewWindowOpen){window.open(`/#${v.path}?robot_key=${r.query.robot_key}&id=${r.query.id}`);return}t.push({path:v.path,query:r.query})};return or(()=>{setTimeout(()=>{l.value=!1},3e3)}),(v,m)=>{const y=Ai,_=bo;return oe(),we("div",{class:Lr(["sidebar-wrapper",{"is-hide":o.value}])},[n.showSidebarBtn?(oe(),we("div",WD,[j(y,{mouseEnterDelay:0,mouseLeaveDelay:0,placement:"right",open:l.value,"onUpdate:open":m[0]||(m[0]=b=>l.value=b),arrow:!1},{title:J(()=>[ze(rt(o.value?"展开":"收起"),1)]),default:J(()=>[L("span",{class:"sidebar-handle",onClick:u},m[1]||(m[1]=[L("span",{class:"handle-line handle-line01"},null,-1),L("span",{class:"handle-line handle-line02"},null,-1)]))]),_:1},8,["open"])])):ct("",!0),L("div",zD,[L("div",UD,[(oe(),we(Et,null,Rt(c,b=>L("div",{class:Lr(["sidebar-menu",{active:i.value==b.value}]),key:b.value,onClick:w=>f(b)},[a.value?(oe(),Qe(y,{key:0,placement:"bottom"},{title:J(()=>[L("span",null,rt(b.label),1)]),default:J(()=>[j(_,{name:b.iconName,class:"menu-icon",size:"16"},null,8,["name"])]),_:2},1024)):(oe(),Qe(_,{key:1,name:b.iconName,class:"menu-icon",size:"16"},null,8,["name"])),L("span",XD,rt(b.label),1)],10,GD)),64))])])],2)}}},YD=Ct(ZD,[["__scopeId","data-v-cfa21ae2"]]),_h="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%232469F1'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.13965%204.41084C8.62106%204.45199%209.03903%204.78056%209.21839%205.25886L12.3963%2013.7334C12.6571%2014.4287%2012.34%2015.2178%2011.6882%2015.4959C11.0363%2015.7741%2010.2966%2015.4359%2010.0358%2014.7406L7.80964%208.80409L5.51634%2012.8811H7.08473C7.78679%2012.8811%208.35592%2013.4881%208.35592%2014.237C8.35592%2014.9859%207.78679%2015.5929%207.08473%2015.5929H3.27118C2.81321%2015.5929%202.39064%2015.3302%202.165%2014.9051C1.93936%2014.48%201.94553%2013.9583%202.18115%2013.5394L6.94809%205.06482C7.19657%204.62309%207.65825%204.3697%208.13965%204.41084Z'%20fill='%23fff'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15.2431%208.00767C15.9438%208.05526%2016.4756%208.69968%2016.431%209.44703L16.1399%2014.3221C16.0953%2015.0695%2015.4912%2015.6367%2014.7905%2015.5892C14.0899%2015.5416%2013.5581%2014.8971%2013.6027%2014.1498L13.8937%209.27469C13.9384%208.52735%2014.5425%207.96008%2015.2431%208.00767Z'%20fill='%23fff'/%3e%3cpath%20d='M16.9998%206.18753C16.9998%207.03%2016.3595%207.71295%2015.5697%207.71295C14.7799%207.71295%2014.1396%207.03%2014.1396%206.18753C14.1396%205.34506%2014.7799%204.66211%2015.5697%204.66211C16.3595%204.66211%2016.9998%205.34506%2016.9998%206.18753Z'%20fill='%23fff'/%3e%3c/svg%3e",bh="/assets/img/ai-generate-white-CL0JnWEb.svg",Ch="/assets/img/ai-generate-Cg-YR8ml.svg",wh="/assets/img/ai-mark-Cfm00TPS.svg",xh="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.5492%202.41145C7.06268%202.4526%207.50849%202.78116%207.69981%203.25944L11.0895%2011.7337C11.3676%2012.4289%2011.0294%2013.218%2010.3342%2013.4961C9.63889%2013.7742%208.84981%2013.4361%208.5717%2012.7408L6.1972%206.80453L3.7511%2010.8814H5.424C6.17283%2010.8814%206.77988%2011.4884%206.77988%2012.2372C6.77988%2012.9861%206.17283%2013.5931%205.424%2013.5931H1.35637C0.867881%2013.5931%200.417157%2013.3304%200.176481%2012.9053C-0.0641944%2012.4802%20-0.0576128%2011.9585%200.193711%2011.5396L5.27825%203.0654C5.54328%202.62369%206.03572%202.37031%206.5492%202.41145Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.1256%206.00816C14.8729%206.05575%2015.4401%206.70014%2015.3925%207.44746L15.0821%2012.3224C15.0345%2013.0697%2014.3901%2013.6369%2013.6428%2013.5894C12.8955%2013.5418%2012.3282%2012.8974%2012.3758%2012.1501L12.6863%207.27513C12.7338%206.52782%2013.3782%205.96057%2014.1256%206.00816Z'%20fill='currentColor'/%3e%3cpath%20d='M15.9999%204.18808C15.9999%205.03052%2015.317%205.71344%2014.4746%205.71344C13.6321%205.71344%2012.9492%205.03052%2012.9492%204.18808C12.9492%203.34565%2013.6321%202.66272%2014.4746%202.66272C15.317%202.66272%2015.9999%203.34565%2015.9999%204.18808Z'%20fill='currentColor'/%3e%3c/svg%3e",kh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M4.66699%208.33333C4.66699%206.4924%206.15939%205%208.00033%205C9.84126%205%2011.3337%206.4924%2011.3337%208.33333V13.6667H4.66699V8.33333Z'%20stroke='%23FB363F'%20stroke-width='1.33333'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%201.66406V2.66406'%20stroke='%23FB363F'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.9638%203.10938L11.321%203.87543'%20stroke='%23FB363F'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.0727%206.76562L13.0879%206.93929'%20stroke='%23FB363F'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.92676%206.76562L2.91156%206.93926'%20stroke='%23FB363F'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.03613%203.10938L4.67893%203.87543'%20stroke='%23FB363F'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2%2013.6641H14.3333'%20stroke='%23FB363F'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Sh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%23qmg2ohdjt__clip0_9131_73475)'%20fill='currentColor'%3e%3cpath%20d='M13.216%202.97085H9.136C9.256%203.45085%209.368%203.89085%209.464%204.33085C9.47468%204.39683%209.50738%204.45724%209.55676%204.50227C9.60615%204.5473%209.66932%204.57429%209.736%204.57885L13.008%205.29885C13.2133%205.32683%2013.3997%205.43335%2013.528%205.59599C13.6563%205.75863%2013.7165%205.96471%2013.696%206.17085V9.81885C13.7164%2010.0262%2013.6551%2010.2334%2013.5251%2010.3962C13.3951%2010.5591%2013.2067%2010.6648%2013%2010.6909L9.704%2011.4189C9.624%2011.4189%209.52%2011.4909%209.496%2011.5549C9.36%2012.0269%209.248%2012.5069%209.12%2013.0189H13.2C13.5715%2013.0358%2013.9425%2012.9753%2014.2894%2012.8411C14.6363%2012.7069%2014.9514%2012.502%2015.2148%2012.2394C15.4782%2011.9768%2015.684%2011.6622%2015.8192%2011.3158C15.9543%2010.9693%2016.0159%2010.5984%2016%2010.2269V5.75485C16.0146%205.38533%2015.9526%205.01678%2015.8179%204.67238C15.6832%204.32799%2015.4786%204.0152%2015.2171%203.7537C14.9557%203.49221%2014.6429%203.28766%2014.2985%203.15293C13.9541%203.0182%2013.5855%202.95621%2013.216%202.97085ZM6.288%2011.4189L2.992%2010.6829C2.79123%2010.655%202.60853%2010.5519%202.48082%2010.3945C2.35311%2010.2371%202.28991%2010.0371%202.304%209.83485V6.16285C2.2858%205.95679%202.34812%205.75169%202.47789%205.5906C2.60766%205.42951%202.79479%205.32494%203%205.29885L6.272%204.57085C6.352%204.57085%206.48%204.49085%206.496%204.42685C6.632%203.95485%206.744%203.47485%206.864%202.98685H2.552C1.88338%203.01256%201.2491%203.28968%200.775964%203.76281C0.302829%204.23595%200.0257063%204.87023%200%205.53885L0%2010.4029C0.0104514%2011.0975%200.292699%2011.7605%200.786219%2012.2495C1.27974%2012.7386%201.94524%2013.0147%202.64%2013.0189H6.872C6.744%2012.5229%206.64%2012.0429%206.504%2011.5789C6.48176%2011.5381%206.45091%2011.5027%206.41361%2011.4751C6.37632%2011.4474%206.33345%2011.4283%206.288%2011.4189Z'/%3e%3cpath%20d='M9.6399%207.99762C9.6399%207.86162%209.6399%207.76562%209.4479%207.76562H6.5599C6.3999%207.76562%206.3999%207.86162%206.3999%207.99762C6.3999%208.13362%206.3999%208.22162%206.5999%208.21362H9.4719C9.5999%208.21362%209.6479%208.14162%209.6399%207.99762Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='qmg2ohdjt__clip0_9131_73475'%3e%3cpath%20fill='%23fff'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Eh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M12.844%204.93554C12.9509%204.99842%2013.0166%205.11319%2013.0166%205.23722V10.76C13.0166%2010.8841%2012.9509%2010.9988%2012.844%2011.0617L8.17738%2013.8069C8.06784%2013.8713%207.93199%2013.8713%207.82246%2013.8069L3.15579%2011.0617C3.04889%2010.9988%202.98325%2010.8841%202.98325%2010.76V5.23722C2.98325%205.11319%203.04889%204.99842%203.1558%204.93554L7.82247%202.19052C7.932%202.1261%208.06784%202.1261%208.17737%202.19052L12.844%204.93554Z'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.00024%207.33203V9.9987'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.6672%206V10'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.33325%208.66406V9.9974'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Mh="/assets/img/anthrop-siiSUDZo.svg",Oh="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='24'%20height='24'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M36%2018L24%2030L12%2018'%20stroke='%23000'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Ah="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M10%2012L6%208L10%204'%20stroke='%237A8699'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Lh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2014%2014'%20class='design-iconfont'%3e%3cpath%20d='M11.1761%202.07266C9.70421%200.600781%207.30734%200.600781%205.83703%202.07266L1.7589%206.14766C1.73234%206.17422%201.71828%206.21016%201.71828%206.24766C1.71828%206.28516%201.73234%206.32109%201.7589%206.34766L2.33546%206.92422C2.36182%206.95046%202.39749%206.96519%202.43468%206.96519C2.47187%206.96519%202.50755%206.95046%202.5339%206.92422L6.61203%202.84922C7.11828%202.34297%207.79171%202.06484%208.50734%202.06484C9.22296%202.06484%209.8964%202.34297%2010.4011%202.84922C10.9073%203.35547%2011.1855%204.02891%2011.1855%204.74297C11.1855%205.45859%2010.9073%206.13047%2010.4011%206.63672L6.24484%2010.7914L5.5714%2011.4648C4.94171%2012.0945%203.91828%2012.0945%203.28859%2011.4648C2.9839%2011.1602%202.81671%2010.7555%202.81671%2010.3242C2.81671%209.89297%202.9839%209.48828%203.28859%209.18359L7.41203%205.06172C7.51671%204.95859%207.65421%204.90078%207.80109%204.90078H7.80265C7.94953%204.90078%208.08546%204.95859%208.18859%205.06172C8.29328%205.16641%208.34953%205.30391%208.34953%205.45078C8.34953%205.59609%208.29171%205.73359%208.18859%205.83672L4.81828%209.20391C4.79171%209.23047%204.77765%209.26641%204.77765%209.30391C4.77765%209.34141%204.79171%209.37734%204.81828%209.40391L5.39484%209.98047C5.42119%2010.0067%205.45687%2010.0214%205.49406%2010.0214C5.53125%2010.0214%205.56692%2010.0067%205.59328%209.98047L8.96203%206.61172C9.27296%206.30078%209.44328%205.88828%209.44328%205.44922C9.44328%205.01016%209.2714%204.59609%208.96203%204.28672C8.31984%203.64453%207.27609%203.64609%206.6339%204.28672L6.2339%204.68828L2.51203%208.40859C2.25942%208.65972%202.05918%208.9585%201.92293%209.2876C1.78667%209.61671%201.71711%209.96959%201.71828%2010.3258C1.71828%2011.0492%202.00109%2011.7289%202.51203%2012.2398C3.04171%2012.768%203.73546%2013.032%204.42921%2013.032C5.12296%2013.032%205.81671%2012.768%206.34484%2012.2398L11.1761%207.41172C11.887%206.69922%2012.2808%205.75078%2012.2808%204.74297C12.2823%203.73359%2011.8886%202.78516%2011.1761%202.07266Z'%20fill='currentColor'/%3e%3c/svg%3e",Th="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%202.91845L8.00287%201.16656L14%202.91845V6.51113C14%2010.2873%2011.5834%2013.6397%208.00087%2014.8334C4.41737%2013.6397%202%2010.2866%202%206.50947V2.91845Z'%20stroke='black'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%206.83325C6%205.7287%206.89544%204.83325%208%204.83325C9.10456%204.83325%2010%205.7287%2010%206.83325C10%207.93781%209.10456%208.83325%208%208.83325C6.89544%208.83325%206%207.93781%206%206.83325ZM8%206.16659C7.63182%206.16659%207.33333%206.46508%207.33333%206.83325C7.33333%207.20143%207.63182%207.49992%208%207.49992C8.36818%207.49992%208.66667%207.20143%208.66667%206.83325C8.66667%206.46508%208.36818%206.16659%208%206.16659Z'%20fill='black'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5.3335%2010.1666C5.3335%208.69385%206.52741%207.49994%208.00016%207.49994C9.47292%207.49994%2010.6668%208.69385%2010.6668%2010.1666C10.6668%2010.5348%2010.3684%2010.8333%2010.0002%2010.8333C9.63197%2010.8333%209.3335%2010.5348%209.3335%2010.1666C9.3335%209.43023%208.73654%208.83327%208.00016%208.83327C7.26379%208.83327%206.66683%209.43023%206.66683%2010.1666C6.66683%2010.5348%206.36835%2010.8333%206.00016%2010.8333C5.63197%2010.8333%205.3335%2010.5348%205.3335%2010.1666Z'%20fill='black'/%3e%3c/svg%3e",Nh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M12.5999%204.54102H20.4269L12.3024%2028.613C12.219%2028.8607%2012.06%2029.076%2011.8478%2029.2285C11.6355%2029.381%2011.3808%2029.463%2011.1194%2029.463H5.02777C4.82989%2029.4631%204.63484%2029.4161%204.45877%2029.3258C4.2827%2029.2354%204.1307%2029.1045%204.01534%2028.9437C3.89999%2028.7829%203.82461%2028.597%203.79545%2028.4013C3.7663%2028.2055%203.7842%2028.0057%203.84768%2027.8183L11.4184%205.3896C11.5019%205.14217%2011.6611%204.9272%2011.8733%204.77497C12.0855%204.62274%2012.3401%204.54091%2012.6013%204.54102H12.5999Z'%20fill='%2301579B'/%3e%3cpath%20d='M23.9728%2020.6875H11.5628C11.4473%2020.687%2011.3343%2020.7214%2011.2386%2020.7862C11.143%2020.851%2011.0691%2020.9432%2011.0267%2021.0507C10.9843%2021.1581%2010.9754%2021.2759%2011.001%2021.3885C11.0266%2021.5012%2011.0857%2021.6035%2011.1704%2021.682L19.1448%2029.1238C19.3757%2029.3405%2019.6831%2029.4609%2019.999%2029.4609H27.0257L23.9728%2020.6875Z'%20fill='%231976D2'/%3e%3cpath%20d='M22.5959%205.38677C22.5123%205.14009%2022.3535%204.92583%2022.1418%204.77411C21.9301%204.6224%2021.6762%204.54088%2021.4158%204.54102H12.6934C12.954%204.54079%2013.2081%204.62226%2013.4201%204.77397C13.632%204.92567%2013.791%205.13998%2013.8749%205.38677L21.4441%2027.8154C21.5073%2028.003%2021.5249%2028.2028%2021.4956%2028.3985C21.4662%2028.5942%2021.3907%2028.7801%2021.2752%2028.9408C21.1598%2029.1016%2021.0077%2029.2325%2020.8316%2029.3228C20.6555%2029.4131%2020.4605%2029.4602%2020.2626%2029.4602H28.985C29.1829%2029.4604%2029.3779%2029.4136%2029.554%2029.3234C29.7301%2029.2333%2029.8822%2029.1025%2029.9977%2028.9419C30.1132%2028.7812%2030.1887%2028.5954%2030.2181%2028.3998C30.2474%2028.2041%2030.2298%2028.0043%2030.1665%2027.8169L22.5959%205.38818V5.38677Z'%20fill='%2329B6F6'/%3e%3c/svg%3e",Dh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M14.9194%2018.1394V6.33661C14.9194%205.74238%2014.9194%205.74083%2015.523%205.74005H21.0444C21.5407%205.74005%2021.5593%205.75249%2021.5593%206.24094C21.5593%2011.4777%2021.5578%2016.7153%2021.5554%2021.9552C21.5554%2024.5973%2021.5694%2027.2394%2021.5749%2029.8807C21.5749%2030.4827%2021.5749%2030.4858%2020.941%2030.4866H15.4196C14.9334%2030.4866%2014.9241%2030.4781%2014.9241%2030.0122V18.1378L14.9194%2018.1394ZM3%2030.6173C3.25122%2030.1195%203.44178%2029.7259%203.64556%2029.3371C4.28956%2028.0864%204.94756%2026.8404%205.57522%2025.5819C5.681%2025.3688%205.70122%2025.1028%205.702%2024.8609C5.70978%2020.5474%205.70978%2016.2354%205.702%2011.9249C5.69733%2011.4521%205.80311%2010.9838%206.01%2010.5553C6.7184%209.0711%207.41505%207.58135%208.09989%206.08616C8.215%205.83494%208.369%205.72449%208.65678%205.73072C9.63833%205.74238%2010.6199%205.73461%2011.6014%205.73694C12.1062%205.73694%2012.1171%205.74705%2012.1171%206.23472V19.9882C12.1171%2021.6347%2012.1303%2023.2813%2012.1101%2024.9278C12.1039%2025.2444%2012.0323%2025.5571%2011.8986%2025.8456C11.2359%2027.2845%2010.5374%2028.7086%209.86389%2030.1436C9.70833%2030.4742%209.503%2030.6087%209.10478%2030.6041C7.30189%2030.5885%205.49744%2030.6103%203.69533%2030.6181L3%2030.6173ZM24.3383%2021.7265V13.4494C24.3383%2012.9018%2024.3383%2012.8941%2024.9123%2012.8933C26.7526%2012.8902%2028.5928%2012.8902%2030.4346%2012.8933C30.972%2012.8933%2030.9883%2012.9166%2030.9883%2013.4377L31%2029.9585C31%2030.0767%2030.9922%2030.1949%2030.9876%2030.3139C30.9798%2030.5146%2030.8818%2030.6079%2030.664%2030.6079C28.6651%2030.6079%2026.6662%2030.6111%2024.6689%2030.6173C24.4534%2030.6173%2024.3484%2030.5356%2024.3539%2030.3248V21.7265H24.3383ZM27.64%2010.8042C26.6724%2010.8042%2025.7033%2010.7925%2024.7358%2010.8104C24.4239%2010.8158%2024.3352%2010.7093%2024.3368%2010.4215C24.3461%209.02538%2024.3368%207.62849%2024.3368%206.23161C24.3368%205.76649%2024.3632%205.74316%2024.8307%205.74161C26.7549%205.73772%2028.6791%205.74161%2030.6041%205.73149C30.8919%205.73149%2030.9883%205.82405%2030.9868%206.10172C30.9813%207.49938%2030.9946%208.89627%2030.9969%2010.2924C30.9969%2010.7645%2030.9704%2010.7847%2030.4696%2010.7855H27.6384L27.6408%2010.8042H27.64Z'%20fill='%23E06639'/%3e%3c/svg%3e",Ph="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.6665%202.33325H5.33317C6.80594%202.33325%207.99984%203.52715%207.99984%204.99992V13.9999C7.99984%2012.8954%207.1044%2011.9999%205.99984%2011.9999H1.6665V2.33325Z'%20stroke='black'%20stroke-width='1.33333'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.3333%202.33325H10.6667C9.1939%202.33325%208%203.52715%208%204.99992V13.9999C8%2012.8954%208.89543%2011.9999%2010%2011.9999H14.3333V2.33325Z'%20stroke='black'%20stroke-width='1.33333'%20stroke-linejoin='round'/%3e%3c/svg%3e",Rh="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1749805141445'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4323'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M754.833067%20521.391787h-111.064747l17.314133-139.354454h93.75232c19.247787%200%2034.8416-15.593813%2034.8416-34.83648%200-19.23584-15.593813-34.839893-34.8416-34.839893h-85.092693l10.489173-84.44416c2.37568-19.101013-11.175253-36.50048-30.272853-38.87104-19.094187-2.373973-36.498773%2011.18208-38.87104%2030.281387l-11.55584%2093.03552h-140.424533l13.69088-110.214827c2.37568-19.10272-11.180373-36.502187-30.272854-38.87616-19.094187-2.368853-36.497067%2011.183787-38.869333%2030.283093l-14.76096%20118.807894h-119.72096c-19.24608%200-34.8416%2015.604053-34.8416%2034.839893%200%2019.242667%2015.59552%2034.83648%2034.8416%2034.83648h111.064747l-17.314134%20139.354453h-93.75232c-19.24608%200-34.8416%2015.60064-34.8416%2034.838187%200%2019.244373%2015.59552%2034.83648%2034.8416%2034.83648h85.092694l-10.489174%2084.44416c-2.37568%2019.099307%2011.183787%2036.503893%2030.276267%2038.874453%2019.0976%202.372267%2036.49536-11.18208%2038.867627-30.281386l11.55584-93.038934h140.424533l-13.69088%20110.219947c-2.37568%2019.0976%2011.1872%2036.497067%2030.27456%2038.869333%2019.0976%202.372267%2036.49536-11.18208%2038.867627-30.281386l14.76096-118.807894h119.72096c19.247787%200%2034.8416-15.592107%2034.8416-34.83648%200-19.237547-15.593813-34.838187-34.8416-34.838186z%20m-321.701547%200l17.312427-139.354454h140.424533l-17.312427%20139.354454h-140.424533z'%20fill='%23262626'%20p-id='4324'%3e%3c/path%3e%3cpath%20d='M895.003307%209.045333H128.55808c-57.623893%200-104.512853%2046.890667-104.512853%20104.511147v661.927253c0%2057.6256%2046.890667%20104.517973%20104.512853%20104.517974h67.416747v134.157653l241.600853-134.157653h457.427627c57.623893%200%20104.51456-46.89408%20104.51456-104.517974V113.55648c0-57.622187-46.890667-104.511147-104.51456-104.511147z%20m34.8416%20766.4384c0%2019.247787-15.60576%2034.839893-34.8416%2034.839894H437.57568a69.666133%2069.666133%200%200%200-33.824427%208.777386l-138.13248%2076.644694v-15.744c0-38.434133-31.255893-69.67808-69.6832-69.67808H128.55808c-19.191467%200-34.83648-15.607467-34.83648-34.839894V113.55648c0-19.193173%2015.645013-34.839893%2034.83648-34.839893h766.445227c19.234133%200%2034.8416%2015.64672%2034.8416%2034.839893v661.927253z%20m0%200'%20fill='%23262626'%20p-id='4325'%3e%3c/path%3e%3c/svg%3e",Hh="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.5%2012.3335H7L3.66667%2014.0002V12.3335H1.33333V2.3335H14.6667V6.00016'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%205H5H6'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%207H6H8'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.0536%207.43018C13.0536%2010.0968%2011.3869%2010.4302%209.72025%2010.4302C9.72025%2011.7635%2011.8869%2013.0968%2013.7202%2011.7635C15.5536%2010.4302%2014.3869%207.43018%2013.0536%207.43018Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Ih="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3cpath%20d='M31.6194%2022.1391H15.7352C13.316%2022.1391%2011.3545%2020.1776%2011.3545%2017.7584V9.9027C11.3545%207.48352%2013.316%205.52197%2015.7352%205.52197H31.6194C34.0386%205.52197%2036.0001%207.48352%2036.0001%209.9027V17.7584C36.0001%2020.1776%2034.0386%2022.1391%2031.6194%2022.1391Z'%20fill='%232475FC'/%3e%3cpath%20d='M27.6433%2029.4327H19.9034L13.3845%2034.178C12.4009%2034.8939%2010.9673%2034.2483%2010.9521%2033.0843L10.9084%2029.4327H9.1918C6.32448%2029.4327%204.00024%2027.2604%204.00024%2024.583V14.8075C4.00024%2012.1282%206.32448%209.95776%209.1918%209.95776H27.6452C30.5125%209.95776%2032.8367%2012.1301%2032.8367%2014.8075V24.5811C32.8367%2027.2604%2030.5125%2029.4327%2027.6433%2029.4327Z'%20fill='%232CAAFF'/%3e%3cpath%20d='M25.5317%2018.6604H10.9482C10.1792%2018.6604%209.55444%2018.0375%209.55444%2017.2666C9.55444%2016.4956%2010.1773%2015.8728%2010.9482%2015.8728H25.5317C26.3007%2015.8728%2026.9254%2016.4956%2026.9254%2017.2666C26.9254%2018.0375%2026.3007%2018.6604%2025.5317%2018.6604ZM17.3%2024.3475H10.9482C10.1792%2024.3475%209.55444%2023.7247%209.55444%2022.9537C9.55444%2022.1828%2010.1773%2021.56%2010.9482%2021.56H17.3C18.069%2021.56%2018.6938%2022.1828%2018.6938%2022.9537C18.6938%2023.7247%2018.069%2024.3475%2017.3%2024.3475Z'%20fill='%23fff'/%3e%3c/svg%3e",Bh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M12.6658%207.23707C12.6145%204.33597%2010.2467%202%207.33333%202C4.3878%202%202%204.3878%202%207.33333C2%208.72337%202.53177%209.9892%203.40297%2010.9385L3.00348%2013.3419L5.375%2012.3233C6.4199%2012.6707%207.406%2012.7576%208.33333%2012.5839'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.6658%207.23707C12.6145%204.33597%2010.2467%202%207.33333%202C4.3878%202%202%204.3878%202%207.33333C2%208.72337%202.53177%209.9892%203.40297%2010.9385L3.00348%2013.3419L5.375%2012.3233C6.4199%2012.6707%207.406%2012.7576%208.33333%2012.5839'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.375%206.82363C5.7892%206.82363%206.125%206.48537%206.125%206.06807C6.125%205.6508%205.7892%205.3125%205.375%205.3125C4.9608%205.3125%204.625%205.6508%204.625%206.06807C4.625%206.48537%204.9608%206.82363%205.375%206.82363Z'%20fill='%23595959'/%3e%3cpath%20d='M8.375%206.82363C8.7892%206.82363%209.125%206.48537%209.125%206.06807C9.125%205.6508%208.7892%205.3125%208.375%205.3125C7.9608%205.3125%207.625%205.6508%207.625%206.06807C7.625%206.48537%207.9608%206.82363%208.375%206.82363Z'%20fill='%23595959'/%3e%3cpath%20d='M13.254%2013.3098C12.6712%2013.7434%2011.949%2014%2011.1667%2014C9.23375%2014%207.66675%2012.433%207.66675%2010.5C7.66675%208.567%209.23375%207%2011.1667%207C13.0997%207%2014.6667%208.567%2014.6667%2010.5C14.6667%2011.0332%2014.5475%2011.5386%2014.3342%2011.9909'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.254%2013.3098C12.6712%2013.7434%2011.949%2014%2011.1667%2014C9.23375%2014%207.66675%2012.433%207.66675%2010.5C7.66675%208.567%209.23375%207%2011.1667%207C13.0997%207%2014.6667%208.567%2014.6667%2010.5C14.6667%2011.0332%2014.5475%2011.5386%2014.3342%2011.9909'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.3341%2011.9922L14.6666%2014.0013L13.2539%2013.311'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.2292%2010.2661C11.9186%2010.2661%2011.6667%2010.0124%2011.6667%209.69948C11.6667%209.38651%2011.9186%209.13281%2012.2292%209.13281C12.5399%209.13281%2012.7917%209.38651%2012.7917%209.69948C12.7917%2010.0124%2012.5399%2010.2661%2012.2292%2010.2661Z'%20fill='%23595959'/%3e%3cpath%20d='M9.97925%2010.2661C9.66858%2010.2661%209.41675%2010.0124%209.41675%209.69948C9.41675%209.38651%209.66858%209.13281%209.97925%209.13281C10.2899%209.13281%2010.5417%209.38651%2010.5417%209.69948C10.5417%2010.0124%2010.2899%2010.2661%209.97925%2010.2661Z'%20fill='%23595959'/%3e%3c/svg%3e",jh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3cg%20clip-path='url(%23o2qmq8nz9__clip0_819_29347)'%3e%3cpath%20transform='matrix(.7071%20.7071%20.7071%20-.7071%20-13%2037.0391)'%20fill='%232475FC'%20d='M0%200H65V65H0z'/%3e%3cpath%20d='M13%2016.5L15.6667%2019L21%2014'%20stroke='%23fff'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='o2qmq8nz9__clip0_819_29347'%3e%3cpath%20d='M0%2024H22C23.1046%2024%2024%2023.1046%2024%2022V0H2C0.89543%200%200%200.895432%200%202V24Z'%20fill='%23fff'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Fh="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.23567%203.1886L3.28591%208.13837C2.11433%209.30993%202.11433%2011.2094%203.28591%2012.381C4.45747%2013.5526%206.35697%2013.5526%207.52854%2012.381L13.4211%206.48843C14.2021%205.7074%2014.2021%204.44107%2013.4211%203.66C12.6401%202.87896%2011.3737%202.87896%2010.5927%203.66L4.70014%209.55257C4.3096%209.9431%204.3096%2010.5763%204.70014%2010.9668C5.09064%2011.3573%205.7238%2011.3573%206.11434%2010.9668L11.0641%206.01703'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Vh="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.33335%201.66602C0.965164%201.66602%200.666687%201.96449%200.666687%202.33268V10.9993C0.666687%2011.3675%200.965164%2011.666%201.33335%2011.666H7.33336V12.9995H4.00003C3.63184%2012.9995%203.33336%2013.298%203.33336%2013.6662C3.33336%2014.0344%203.63184%2014.3328%204.00003%2014.3328H12C12.3682%2014.3328%2012.6667%2014.0344%2012.6667%2013.6662C12.6667%2013.298%2012.3682%2012.9995%2012%2012.9995H8.66669V11.666H14.6667C15.0349%2011.666%2015.3334%2011.3675%2015.3334%2010.9993V2.33268C15.3334%201.96449%2015.0349%201.66602%2014.6667%201.66602H1.33335Z'%20fill='currentColor'/%3e%3c/svg%3e",$h="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M8.00016%2014.6654C11.6821%2014.6654%2014.6668%2011.6806%2014.6668%207.9987C14.6668%204.3168%2011.6821%201.33203%208.00016%201.33203C4.31826%201.33203%201.3335%204.3168%201.3335%207.9987C1.3335%2011.6806%204.31826%2014.6654%208.00016%2014.6654Z'%20stroke='%23595959'%20stroke-width='1.33333'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.88549%206.11328L6.11426%209.88451'%20stroke='%23595959'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.11426%206.11328L9.88549%209.88451'%20stroke='%23595959'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Wh="data:image/svg+xml,%3csvg%20viewBox='0%200%2016%2016'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.98464%203.32704C1.98418%203.32813%201.98359%203.32983%201.98359%203.33333V12.6667C1.98359%2012.6702%201.98418%2012.6719%201.98464%2012.673C1.98528%2012.6745%201.9865%2012.6765%201.98848%2012.6784C1.99046%2012.6804%201.99245%2012.6816%201.99397%2012.6823C1.99506%2012.6827%201.99676%2012.6833%202.00026%2012.6833H14.0003C14.002%2012.6833%2014.0034%2012.6832%2014.0044%2012.683C14.0053%2012.6828%2014.006%2012.6825%2014.0065%2012.6823C14.0081%2012.6816%2014.0101%2012.6804%2014.012%2012.6784C14.014%2012.6765%2014.0152%2012.6745%2014.0159%2012.673C14.0163%2012.6719%2014.0169%2012.6702%2014.0169%2012.6667V3.33333C14.0169%203.32983%2014.0163%203.32813%2014.0159%203.32704C14.0152%203.32552%2014.014%203.32352%2014.012%203.32154C14.0101%203.31956%2014.0081%203.31835%2014.0065%203.31771C14.0055%203.31724%2014.0038%203.31666%2014.0003%203.31666H2.00026C1.99676%203.31666%201.99506%203.31724%201.99397%203.31771C1.99245%203.31835%201.99046%203.31956%201.98848%203.32154C1.9865%203.32352%201.98528%203.32552%201.98464%203.32704ZM0.683594%203.33333C0.683594%202.60615%201.27309%202.01666%202.00026%202.01666H14.0003C14.7274%202.01666%2015.3169%202.60615%2015.3169%203.33333V12.6667C15.3169%2013.3938%2014.7274%2013.9833%2014.0003%2013.9833H2.00026C1.27309%2013.9833%200.683594%2013.3938%200.683594%2012.6667V3.33333Z'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.50708%205.57697C3.74071%205.30441%204.15105%205.27285%204.42361%205.50647L6.75695%207.50647C6.90102%207.62996%206.98393%207.81024%206.98393%207.99999C6.98393%208.18974%206.90102%208.37002%206.75695%208.4935L4.42361%2010.4935C4.15105%2010.7271%203.74071%2010.6956%203.50708%2010.423C3.27346%2010.1504%203.30502%209.7401%203.57758%209.50647L5.33515%207.99999L3.57758%206.4935C3.30502%206.25988%203.27346%205.84953%203.50708%205.57697Z'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.0166%2010.6667C7.0166%2010.3077%207.30762%2010.0167%207.6666%2010.0167H11.9999C12.3589%2010.0167%2012.6499%2010.3077%2012.6499%2010.6667C12.6499%2011.0256%2012.3589%2011.3167%2011.9999%2011.3167H7.6666C7.30762%2011.3167%207.0166%2011.0256%207.0166%2010.6667Z'%20/%3e%3c/svg%3e",zh="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%237733FF'/%3e%3cpath%20d='M15.2498%205.33594H4.74984C4.42767%205.33594%204.1665%205.5971%204.1665%205.91927V14.0859C4.1665%2014.4081%204.42767%2014.6693%204.74984%2014.6693H15.2498C15.572%2014.6693%2015.8332%2014.4081%2015.8332%2014.0859V5.91927C15.8332%205.5971%2015.572%205.33594%2015.2498%205.33594Z'%20fill='white'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.5%208.25L8.54167%2010L6.5%2011.75'%20stroke='%237733FF'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.7085%2012.3359H13.5002'%20stroke='%237733FF'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Uh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M12.0695%2019.6693C12.8232%2019.6693%2014.3236%2019.6273%2016.3934%2018.7744C18.8085%2017.7804%2023.613%2015.9743%2027.0782%2014.1215C29.5026%2012.8265%2030.5643%2011.1091%2030.5643%208.8013C30.5645%208.03916%2030.4145%207.28446%2030.1229%206.58031C29.8313%205.87616%2029.4038%205.23635%2028.8649%204.69744C28.326%204.15853%2027.6862%203.73107%2026.9821%203.43948C26.2779%203.14789%2025.5232%202.99789%2024.7611%202.99805H11.3333C9.12273%202.99805%207.00268%203.8762%205.43956%205.43932C3.87644%207.00244%202.99829%209.12249%202.99829%2011.3331C2.99829%2015.9358%206.49144%2019.6693%2012.0695%2019.6693Z'%20fill='%2339594D'/%3e%3cpath%20d='M14.34%2025.4099C14.3398%2024.3064%2014.6666%2023.2276%2015.2792%2022.3097C15.8918%2021.3919%2016.7627%2020.6762%2017.7818%2020.253L22.0123%2018.4982C26.2895%2016.7248%2030.9984%2019.8668%2030.9984%2024.4987C30.9984%2025.3519%2030.8302%2026.1968%2030.5036%2026.9851C30.177%2027.7733%2029.6982%2028.4895%2029.0947%2029.0927C28.4912%2029.6958%2027.7748%2030.1742%2026.9864%2030.5004C26.198%2030.8266%2025.353%2030.9942%2024.4997%2030.9938H19.9215C19.1884%2030.9936%2018.4625%2030.8491%2017.7852%2030.5684C17.1079%2030.2877%2016.4926%2029.8763%2015.9743%2029.3578C15.456%2028.8393%2015.0449%2028.2238%2014.7645%2027.5464C14.4841%2026.869%2014.3398%2026.143%2014.34%2025.4099Z'%20fill='%23D18EE2'/%3e%3cpath%20d='M7.80283%2020.7676C7.17169%2020.7676%206.54674%2020.8919%205.96368%2021.1335C5.38061%2021.3751%204.85086%2021.7292%204.40468%2022.1756C3.95851%2022.622%203.60466%2023.1519%203.36335%2023.7351C3.12203%2024.3183%202.99799%2024.9433%202.99829%2025.5745V26.1963C2.99829%2027.4707%203.50454%2028.6929%204.40568%2029.594C5.30682%2030.4952%206.52902%2031.0014%207.80342%2031.0014C9.07781%2031.0014%2010.3%2030.4952%2011.2012%2029.594C12.1023%2028.6929%2012.6085%2027.4707%2012.6085%2026.1963V25.5745C12.6085%2024.9434%2012.4842%2024.3186%2012.2427%2023.7356C12.0012%2023.1526%2011.6472%2022.6229%2011.2009%2022.1767C10.7546%2021.7306%2010.2249%2021.3767%209.64181%2021.1353C9.05876%2020.8939%208.43387%2020.7698%207.80283%2020.7699V20.7676Z'%20fill='%23FF7759'/%3e%3c/svg%3e",Gh="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%201.33301V3.99967'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.33325%207.33301L13.9999%208.66634L11.9999%209.99967L13.9999%2011.9997L11.9999%2013.9997L9.99992%2011.9997L8.66659%2013.9997L7.33325%207.33301Z'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.714%203.28516L10.8284%205.17076'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.28589%2012.7137L5.1715%2010.8281'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.33325%208H3.99992'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.28589%203.28516L5.17151%205.17077'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%201.33301V3.99967'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.33325%207.33301L13.9999%208.66634L11.9999%209.99967L13.9999%2011.9997L11.9999%2013.9997L9.99992%2011.9997L8.66659%2013.9997L7.33325%207.33301Z'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.714%203.28516L10.8284%205.17076'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.28589%2012.7137L5.1715%2010.8281'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.33325%208H3.99992'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.28589%203.28516L5.17151%205.17077'%20stroke='black'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Xh="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13%202H3C2.44772%202%202%202.44772%202%203V13C2%2013.5523%202.44772%2014%203%2014H13C13.5523%2014%2014%2013.5523%2014%2013V3C14%202.44772%2013.5523%202%2013%202Z'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%202V14'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.66675%202H12.0001'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.66675%2014H12.0001'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.6666%206.66406L9.33325%207.9974L10.6666%209.33073'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Zh="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%203C2%202.44772%202.44772%202%203%202H13C13.5523%202%2014%202.44772%2014%203V13C14%2013.5523%2013.5523%2014%2013%2014H3C2.44772%2014%202%2013.5523%202%2013V3Z'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.6667%202V14'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.33325%206.66406L6.66659%207.9974L5.33325%209.33073'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.66675%202H12.6667'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.66675%2014H12.6667'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Yh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='20'%20fill='%232475FC'/%3e%3cpath%20d='M10.0835%2030.5H31.0835'%20stroke='%23fff'%20stroke-width='2.275'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.4165%2021.5867V25.8333H16.6848L28.7498%2013.763L24.4886%209.5L12.4165%2021.5867Z'%20stroke='%23fff'%20stroke-width='2.275'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",qh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M0.68335%202.33262C0.68335%201.97363%200.974365%201.68262%201.33335%201.68262H14.6667C15.0257%201.68262%2015.3167%201.97363%2015.3167%202.33262V5.99928C15.3167%206.35827%2015.0257%206.64928%2014.6667%206.64928C14.3077%206.64928%2014.0167%206.35827%2014.0167%205.99928V2.98262H1.98335V11.6826H3.66668C4.02567%2011.6826%204.31668%2011.9736%204.31668%2012.3326V12.9476L6.70933%2011.7512C6.79958%2011.7061%206.89911%2011.6826%207.00002%2011.6826H8.50002C8.859%2011.6826%209.15002%2011.9736%209.15002%2012.3326C9.15002%2012.6916%208.859%2012.9826%208.50002%2012.9826H7.15346L3.95737%2014.5807C3.75588%2014.6814%203.51659%2014.6706%203.32496%2014.5522C3.13333%2014.4338%203.01668%2014.2246%203.01668%2013.9993V12.9826H1.33335C0.974365%2012.9826%200.68335%2012.6916%200.68335%2012.3326V2.33262Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.68335%209.33262C8.68335%207.86906%209.86979%206.68262%2011.3333%206.68262C12.7969%206.68262%2013.9833%207.86906%2013.9833%209.33262C13.9833%209.72434%2013.8984%2010.0962%2013.7458%2010.4308L15.0728%2011.4924C15.3531%2011.7166%2015.3985%2012.1257%2015.1743%2012.406C14.95%2012.6863%2014.541%2012.7318%2014.2607%2012.5075L12.9331%2011.4455C12.4885%2011.7826%2011.9343%2011.9826%2011.3333%2011.9826C9.86979%2011.9826%208.68335%2010.7962%208.68335%209.33262ZM11.3333%207.98262C10.5878%207.98262%209.98335%208.58703%209.98335%209.33262C9.98335%2010.0782%2010.5878%2010.6826%2011.3333%2010.6826C12.0789%2010.6826%2012.6833%2010.0782%2012.6833%209.33262C12.6833%208.58703%2012.0789%207.98262%2011.3333%207.98262Z'%20fill='currentColor'/%3e%3cpath%20d='M3.35004%204.99961C3.35004%204.64062%203.64105%204.34961%204.00004%204.34961H6.00004C6.35902%204.34961%206.65004%204.64062%206.65004%204.99961C6.65004%205.35859%206.35902%205.64961%206.00004%205.64961H4.00004C3.64105%205.64961%203.35004%205.35859%203.35004%204.99961Z'%20fill='currentColor'/%3e%3cpath%20d='M4.00004%206.34961C3.64105%206.34961%203.35004%206.64062%203.35004%206.99961C3.35004%207.35859%203.64105%207.64961%204.00004%207.64961H8.00004C8.35902%207.64961%208.65004%207.35859%208.65004%206.99961C8.65004%206.64062%208.35902%206.34961%208.00004%206.34961H4.00004Z'%20fill='currentColor'/%3e%3c/svg%3e",Kh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M12.6667%207.0013L14.3333%2010.0013L12.6667%2010.3346V12.3346H11.6667L9.66667%2012.0013L9.33333%2014.3346H4.33333L3.66667%2010.8743C2.64026%209.90224%202%208.52654%202%207.0013C2%204.05577%204.3878%201.66797%207.33333%201.66797C10.2789%201.66797%2012.6667%204.05577%2012.6667%207.0013Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.66675%206.33464C5.66675%205.41417%206.41295%204.66797%207.33341%204.66797C8.25388%204.66797%209.00008%205.41417%209.00008%206.33464C9.00008%207.2551%208.25388%208.0013%207.33341%208.0013V9.0013'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.33337%2011V11.3333'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Jh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.3501%202.00026C2.3501%201.27309%202.93959%200.683594%203.66676%200.683594H13.0001C13.7273%200.683594%2014.3168%201.27309%2014.3168%202.00026V14.0003C14.3168%2014.7274%2013.7273%2015.3169%2013.0001%2015.3169H3.66676C2.9396%2015.3169%202.3501%2014.7275%202.3501%2014.0003V2.00026ZM3.65114%201.99397C3.65068%201.99506%203.6501%201.99676%203.6501%202.00026V14.0003C3.6501%2014.0038%203.65068%2014.0055%203.65114%2014.0066C3.65179%2014.0081%203.653%2014.0101%203.65498%2014.012C3.65696%2014.014%203.65895%2014.0152%203.66047%2014.0159C3.66156%2014.0163%203.66326%2014.0169%203.66676%2014.0169H13.0001C13.0027%2014.0169%2013.0043%2014.0166%2013.0054%2014.0162L13.0064%2014.0159C13.0079%2014.0152%2013.0099%2014.014%2013.0119%2014.012C13.0139%2014.0101%2013.0151%2014.0081%2013.0157%2014.0066L13.016%2014.0058L13.0165%2014.0038C13.0167%2014.0029%2013.0168%2014.0017%2013.0168%2014.0003V2.00026C13.0168%201.99676%2013.0162%201.99506%2013.0157%201.99397C13.0151%201.99244%2013.0139%201.99045%2013.0119%201.98847C13.0099%201.98649%2013.0079%201.98528%2013.0064%201.98464C13.0053%201.98418%2013.0036%201.98359%2013.0001%201.98359H3.66676C3.66326%201.98359%203.66157%201.98418%203.66048%201.98464C3.65895%201.98528%203.65696%201.9865%203.65498%201.98848C3.653%201.99046%203.65178%201.99245%203.65114%201.99397ZM5.0166%205.65C5.0166%205.29101%205.30762%205%205.6666%205H10.3333C10.6923%205%2010.9833%205.29101%2010.9833%205.65C10.9833%206.00899%2010.6923%206.3%2010.3333%206.3H5.6666C5.30762%206.3%205.0166%206.00899%205.0166%205.65ZM5.6666%207C5.30762%207%205.0166%207.29101%205.0166%207.65C5.0166%208.00899%205.30762%208.3%205.6666%208.3H7.99994H10.3333C10.6923%208.3%2010.9833%208.00899%2010.9833%207.65C10.9833%207.29101%2010.6923%207%2010.3333%207H7.99994H5.6666ZM5.0166%209.65C5.0166%209.29101%205.30762%209%205.6666%209H8C8.35898%209%208.65%209.29101%208.65%209.65C8.65%2010.009%208.35898%2010.3%208%2010.3H5.6666C5.30762%2010.3%205.0166%2010.009%205.0166%209.65Z'%20fill='%232475FC'/%3e%3c/svg%3e",Qh="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.3501%202.00026C2.3501%201.27309%202.93959%200.683594%203.66676%200.683594H13.0001C13.7273%200.683594%2014.3168%201.27309%2014.3168%202.00026V14.0003C14.3168%2014.7274%2013.7273%2015.3169%2013.0001%2015.3169H3.66676C2.9396%2015.3169%202.3501%2014.7275%202.3501%2014.0003V2.00026ZM3.65114%201.99397C3.65068%201.99506%203.6501%201.99676%203.6501%202.00026V14.0003C3.6501%2014.0038%203.65068%2014.0055%203.65114%2014.0066C3.65179%2014.0081%203.653%2014.0101%203.65498%2014.012C3.65696%2014.014%203.65895%2014.0152%203.66047%2014.0159C3.66156%2014.0163%203.66326%2014.0169%203.66676%2014.0169H13.0001C13.0027%2014.0169%2013.0043%2014.0166%2013.0054%2014.0162L13.0064%2014.0159C13.0079%2014.0152%2013.0099%2014.014%2013.0119%2014.012C13.0139%2014.0101%2013.0151%2014.0081%2013.0157%2014.0066L13.016%2014.0058L13.0165%2014.0038C13.0167%2014.0029%2013.0168%2014.0017%2013.0168%2014.0003V2.00026C13.0168%201.99676%2013.0162%201.99506%2013.0157%201.99397C13.0151%201.99244%2013.0139%201.99045%2013.0119%201.98847C13.0099%201.98649%2013.0079%201.98528%2013.0064%201.98464C13.0053%201.98418%2013.0036%201.98359%2013.0001%201.98359H3.66676C3.66326%201.98359%203.66157%201.98418%203.66048%201.98464C3.65895%201.98528%203.65696%201.9865%203.65498%201.98848C3.653%201.99046%203.65178%201.99245%203.65114%201.99397ZM5.0166%205.65C5.0166%205.29101%205.30762%205%205.6666%205H10.3333C10.6923%205%2010.9833%205.29101%2010.9833%205.65C10.9833%206.00899%2010.6923%206.3%2010.3333%206.3H5.6666C5.30762%206.3%205.0166%206.00899%205.0166%205.65ZM5.6666%207C5.30762%207%205.0166%207.29101%205.0166%207.65C5.0166%208.00899%205.30762%208.3%205.6666%208.3H7.99994H10.3333C10.6923%208.3%2010.9833%208.00899%2010.9833%207.65C10.9833%207.29101%2010.6923%207%2010.3333%207H7.99994H5.6666ZM5.0166%209.65C5.0166%209.29101%205.30762%209%205.6666%209H8C8.35898%209%208.65%209.29101%208.65%209.65C8.65%2010.009%208.35898%2010.3%208%2010.3H5.6666C5.30762%2010.3%205.0166%2010.009%205.0166%209.65Z'%20fill='%23262626'/%3e%3c/svg%3e",ep="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%23FF2D92'/%3e%3cpath%20d='M12.9165%206.5V8.83333V9.125C12.0546%209.125%2011.28%209.49886%2010.7461%2010.0933C10.2821%2010.6098%209.99984%2011.2928%209.99984%2012.0417C9.99984%2012.2105%2010.0142%2012.376%2010.0417%2012.537C10.1917%2013.4138%2010.7332%2014.1571%2011.4798%2014.5805C10.7032%2014.8153%209.67247%2014.9583%208.5415%2014.9583C6.12525%2014.9583%204.1665%2014.3054%204.1665%2013.5V11.1667V8.83333V6.5'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.9165%206.4974C12.9165%207.3028%2010.9578%207.95573%208.5415%207.95573C6.12525%207.95573%204.1665%207.3028%204.1665%206.4974C4.1665%205.69198%206.12525%205.03906%208.5415%205.03906C10.9578%205.03906%2012.9165%205.69198%2012.9165%206.4974Z'%20fill='white'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.1665%2011.1641C4.1665%2011.9695%206.12525%2012.6224%208.5415%2012.6224C9.06855%2012.6224%209.5738%2012.5913%2010.0417%2012.5344'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.1665%208.83594C4.1665%209.64135%206.12525%2010.2943%208.5415%2010.2943C9.34542%2010.2943%2010.0987%2010.222%2010.7461%2010.0959'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.8333%2012.0417C15.8333%2013.6525%2014.5275%2014.9583%2012.9167%2014.9583C12.3943%2014.9583%2011.904%2014.821%2011.4799%2014.5805C10.7333%2014.1571%2010.1919%2013.4138%2010.0419%2012.537C10.0144%2012.376%2010%2012.2105%2010%2012.0417C10%2011.2928%2010.2823%2010.6098%2010.7462%2010.0933C11.2802%209.49886%2012.0548%209.125%2012.9167%209.125C14.5275%209.125%2015.8333%2010.4309%2015.8333%2012.0417Z'%20fill='white'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.9167%2012.0391H13.9167'%20stroke='%23FF2D92'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.9167%2011.0391V13.0391'%20stroke='%23FF2D92'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",tp="/assets/img/data-security-D3HeAenc.svg",np="/assets/img/database-menu-icon-CpopCCW6.svg",rp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M8.73927%2027.0214C-2.46384%2022.0705%20-1.16796%206.50506%2010.4532%206.50506C11.8745%206.50506%2013.9646%206.22781%2015.1351%205.95056C17.5596%205.31685%2019.1899%205.55449%2017.9777%206.34663C17.6014%206.62388%2017.3506%207.09916%2017.4342%207.45562C17.6432%208.24775%2023.9136%2013.7135%2024.6661%2013.7135C25.7948%2013.7135%2025.7948%2012.4461%2024.7079%2011.4955C22.9522%209.99045%2022.4505%208.01011%2023.2448%206.02978L23.621%205L25.8366%207.01994C27.2997%208.36657%2028.2193%208.92107%2028.6373%208.72303C29.0136%208.56461%2029.8914%208.36657%2030.6439%208.24775C31.3963%208.16854%2032.2324%207.85169%2032.4832%207.53483C33.2774%206.62388%2034.2389%206.86152%2033.9463%207.89129C33.8209%208.36657%2033.6955%208.96068%2033.6955%209.23792C33.6955%2010.1489%2031.1455%2012.4857%2029.9332%2012.7233C28.9718%2012.9214%2028.6791%2013.1986%2028.6791%2013.9115C28.6791%2015.6938%2027.0906%2019.6545%2025.5857%2021.5952L24.039%2023.5756L25.5439%2024.1697C27.8431%2025.0806%2027.216%2025.7935%2023.9972%2025.8332C22.2415%2025.8728%2020.9038%2026.1104%2020.235%2026.5461C17.4342%2028.2888%2012.1253%2028.4868%208.73927%2027.0214ZM19.0227%2023.6944C18.0195%2022.625%2016.3056%2020.6051%2015.2187%2019.1396C12.3761%2015.3374%208.73927%2013.3174%204.76802%2013.3174C3.22132%2013.3174%203.17952%2013.357%203.17952%2014.664C3.17952%2018.3079%207.23438%2023.9716%2010.3278%2024.6053C11.9163%2024.9618%2012.7523%2024.3281%2011.9581%2023.4567C11.6655%2023.1003%2011.54%2022.5458%2011.7073%2022.2289C11.9163%2021.6744%2012.0835%2021.6744%2013.2958%2022.2685C14.0482%2022.625%2015.3441%2023.4171%2016.1383%2024.0112C17.6014%2025.0806%2018.5211%2025.4767%2020.0678%2025.5559C20.653%2025.5955%2020.444%2025.1598%2019.0227%2023.6944ZM22.6178%2018.0702C22.9522%2017.5553%2021.3219%2015.0205%2020.3186%2014.5056C19.9006%2014.268%2019.2317%2014.1096%2018.8973%2014.1096C17.9359%2014.1096%2018.0613%2015.1789%2019.0645%2015.4166C19.608%2015.5354%2019.9006%2015.9711%2019.9006%2016.5652C19.9006%2017.0801%2020.1096%2017.7138%2020.4022%2017.991C21.0293%2018.5851%2022.2833%2018.6247%2022.6178%2018.0702Z'%20fill='%234D6BFE'/%3e%3c/svg%3e",ip="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_983_5783)'%3e%3cpath%20d='M6.6666%206.01562C7.02559%206.01562%207.3166%206.30664%207.3166%206.66563V10.999C7.3166%2011.3579%207.02559%2011.649%206.6666%2011.649C6.30762%2011.649%206.0166%2011.3579%206.0166%2010.999V6.66563C6.0166%206.30664%206.30762%206.01562%206.6666%206.01562Z'%20fill='currentColor'/%3e%3cpath%20d='M9.98359%206.66563C9.98359%206.30664%209.69258%206.01562%209.33359%206.01562C8.97461%206.01562%208.68359%206.30664%208.68359%206.66563V10.999C8.68359%2011.3579%208.97461%2011.649%209.33359%2011.649C9.69258%2011.649%209.98359%2011.3579%209.98359%2010.999V6.66563Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.42993%200.683594C6.19255%200.683594%205.97405%200.812994%205.85995%201.02115L4.94865%202.68359H1.33359C0.974609%202.68359%200.683594%202.97461%200.683594%203.33359C0.683594%203.69258%200.974609%203.98359%201.33359%203.98359H2.3501V14.6669C2.3501%2015.0259%202.64111%2015.3169%203.0001%2015.3169H13.0001C13.3591%2015.3169%2013.6501%2015.0259%2013.6501%2014.6669V3.98359H14.6669C15.0259%203.98359%2015.3169%203.69258%2015.3169%203.33359C15.3169%202.97461%2015.0259%202.68359%2014.6669%202.68359H11.0556L10.1652%201.02601C10.052%200.815146%209.83199%200.683594%209.59263%200.683594H6.42993ZM9.57994%202.68359L9.20394%201.98359H6.81487L6.43115%202.68359H9.57994ZM3.6501%203.98359V14.0169H12.3501V3.98359H3.6501Z'%20fill='currentColor'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_983_5783'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",op="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.66665%205.33398H4.33331C2.67646%205.33398%201.33331%206.67712%201.33331%208.33398C1.33331%209.99085%202.67646%2011.334%204.33331%2011.334C5.15858%2011.334%205.90601%2011.0008%206.44841%2010.4615C6.99495%209.91815%207.99998%208.33398%207.99998%208.33398C7.99998%208.33398%209.00188%206.75682%209.54398%206.21402C10.087%205.67032%2010.8375%205.33398%2011.6666%205.33398C13.3235%205.33398%2014.6666%206.67712%2014.6666%208.33398C14.6666%209.99085%2013.3235%2011.334%2011.6666%2011.334H10.3333'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.6666%2010L10.3333%2011.3333L11.6666%2012.6667'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.33331%204L5.66665%205.33333L4.33331%206.66667'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",sp="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.7931%209.80007V12.2001C6.7931%2013.1942%207.59897%2014.0001%208.5931%2014.0001L10.9931%208.60007V2.00008H4.0211C3.42273%201.99331%202.91081%202.42843%202.82109%203.02008L1.99309%208.42007C1.94026%208.76817%202.04295%209.1219%202.27397%209.38757C2.505%209.65324%202.84104%209.80407%203.19309%209.80007H6.7931Z'%20fill='%232475FC'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.9932%202.00022H12.5952C13.2981%201.98779%2013.8989%202.50356%2013.9932%203.20022V7.40023C13.8989%208.09686%2013.2981%208.67933%2012.5952%208.6669H10.9932V2.00022Z'%20fill='%232475FC'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3c/svg%3e",ap="data:image/svg+xml,%3csvg%20width='25'%20height='24'%20viewBox='0%200%2025%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.2931%2013.8001V16.2001C11.2931%2017.1942%2012.099%2018.0001%2013.0931%2018.0001L15.4931%2012.6001V6.00008H8.5211C7.92273%205.99331%207.41081%206.42843%207.32109%207.02008L6.49309%2012.4201C6.44026%2012.7682%206.54295%2013.1219%206.77397%2013.3876C7.005%2013.6532%207.34104%2013.8041%207.69309%2013.8001H11.2931Z'%20stroke='%237A8699'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.4932%206.00022H17.0952C17.7981%205.98779%2018.3989%206.50356%2018.4932%207.20022V11.4002C18.3989%2012.0969%2017.7981%2012.6793%2017.0952%2012.6669H15.4932V6.00022Z'%20stroke='%237A8699'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3c/svg%3e",lp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3crect%20width='24'%20height='24'%20rx='4.8'%20fill='%232475FC'/%3e%3cg%20filter='url(%23iwy0zeq7u__filter0_d_341_3700)'%20fill-rule='evenodd'%20clip-rule='evenodd'%3e%3cpath%20d='M6.30335%2011.1H16.5003C16.5993%2011.1%2016.6893%2011.082%2016.7703%2011.037L16.7791%2011.0321C16.9156%2010.9576%2018.3003%2010.2012%2018.3003%208.39995C18.3003%206.54595%2016.8333%205.78995%2016.7703%205.76295C16.6893%205.71795%2016.5903%205.69995%2016.5003%205.69995H6.30335C6.02435%205.69995%205.79035%205.88895%205.71835%206.15895C5.65535%206.42895%205.78135%206.70795%206.02435%206.83395C6.06035%206.85195%206.90635%207.31095%206.90635%208.39995C6.90635%209.45901%206.12325%209.91372%206.0388%209.96276L6.03335%209.96595C5.78135%2010.092%205.65535%2010.371%205.71835%2010.641C5.78135%2010.911%206.02435%2011.1%206.30335%2011.1ZM7.5002%2017.697H17.6882C17.9672%2017.697%2018.2102%2017.508%2018.2732%2017.238C18.3362%2016.968%2018.2102%2016.689%2017.9582%2016.563C17.9582%2016.5623%2017.9522%2016.5583%2017.9412%2016.5511C17.8202%2016.4717%2017.0942%2015.9953%2017.0942%2014.997C17.0942%2013.938%2017.8773%2013.4832%2017.9617%2013.4342C17.9641%2013.4328%2017.966%2013.4318%2017.9672%2013.431C18.2192%2013.305%2018.3452%2013.026%2018.2822%2012.756C18.2192%2012.486%2017.9762%2012.297%2017.6972%2012.297H7.5002C7.4012%2012.297%207.3112%2012.315%207.2302%2012.36C7.1672%2012.387%205.7002%2013.143%205.7002%2014.997C5.7002%2016.851%207.1672%2017.607%207.2302%2017.634C7.3112%2017.679%207.4102%2017.697%207.5002%2017.697Z'%20fill='%23333'/%3e%3cpath%20d='M6.30335%2011.1H16.5003C16.5993%2011.1%2016.6893%2011.082%2016.7703%2011.037L16.7791%2011.0321C16.9156%2010.9576%2018.3003%2010.2012%2018.3003%208.39995C18.3003%206.54595%2016.8333%205.78995%2016.7703%205.76295C16.6893%205.71795%2016.5903%205.69995%2016.5003%205.69995H6.30335C6.02435%205.69995%205.79035%205.88895%205.71835%206.15895C5.65535%206.42895%205.78135%206.70795%206.02435%206.83395C6.06035%206.85195%206.90635%207.31095%206.90635%208.39995C6.90635%209.45901%206.12325%209.91372%206.0388%209.96276L6.03335%209.96595C5.78135%2010.092%205.65535%2010.371%205.71835%2010.641C5.78135%2010.911%206.02435%2011.1%206.30335%2011.1ZM7.5002%2017.697H17.6882C17.9672%2017.697%2018.2102%2017.508%2018.2732%2017.238C18.3362%2016.968%2018.2102%2016.689%2017.9582%2016.563C17.9582%2016.5623%2017.9522%2016.5583%2017.9412%2016.5511C17.8202%2016.4717%2017.0942%2015.9953%2017.0942%2014.997C17.0942%2013.938%2017.8773%2013.4832%2017.9617%2013.4342C17.9641%2013.4328%2017.966%2013.4318%2017.9672%2013.431C18.2192%2013.305%2018.3452%2013.026%2018.2822%2012.756C18.2192%2012.486%2017.9762%2012.297%2017.6972%2012.297H7.5002C7.4012%2012.297%207.3112%2012.315%207.2302%2012.36C7.1672%2012.387%205.7002%2013.143%205.7002%2014.997C5.7002%2016.851%207.1672%2017.607%207.2302%2017.634C7.3112%2017.679%207.4102%2017.697%207.5002%2017.697Z'%20fill='url(%23iwy0zeq7u__paint0_linear_341_3700)'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='iwy0zeq7u__paint0_linear_341_3700'%20x1='5.7002'%20y1='11.6985'%20x2='18.3002'%20y2='11.6985'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EBF3FF'/%3e%3cstop%20offset='1'%20stop-color='%23C2D9FF'/%3e%3c/linearGradient%3e%3cfilter%20id='iwy0zeq7u__filter0_d_341_3700'%20x='3.3002'%20y='4.5002'%20width='17.4001'%20height='16.7971'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1.2'/%3e%3cfeGaussianBlur%20stdDeviation='1.2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20values='0%200%200%200%200.070708%200%200%200%200%200.175495%200%200%200%200%200.348845%200%200%200%200.32%200'/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_341_3700'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_341_3700'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",up="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.66602%202.00004C2.66602%201.63185%202.96449%201.33337%203.33268%201.33337H9.99935L13.3327%204.66671V14C13.3327%2014.3682%2013.0342%2014.6667%2012.666%2014.6667H3.33268C2.96449%2014.6667%202.66602%2014.3682%202.66602%2014V2.00004Z'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.33398%206.052H10.6673'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.33398%208.63049H10.6673'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.33398%2011.209H10.6673'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",dp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M3%203C3%202.44772%203.44772%202%204%202H10C11.6569%202%2013%203.34315%2013%205V13C13%2013.5523%2012.5523%2014%2012%2014H6C4.34315%2014%203%2012.6569%203%2011V3Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.99996%2010.6667L10.3333%207.33333L8.99996%206L5.66663%209.33333V10.6667H6.99996Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",cp="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%203C3%202.44772%203.44772%202%204%202H10C11.6569%202%2013%203.34315%2013%205V13C13%2013.5523%2012.5523%2014%2012%2014H6C4.34315%2014%203%2012.6569%203%2011V3Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.6665%208H10.3332'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.6665%205H11.3332'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.6665%2011H7.99984'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",fp="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%203C3%202.44772%203.44772%202%204%202H10C11.6569%202%2013%203.34315%2013%205V13C13%2013.5523%2012.5523%2014%2012%2014H6C4.34315%2014%203%2012.6569%203%2011V3Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.66602%208H10.3327'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.66602%205H11.3327'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.66602%2011H7.99935'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",hp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.31764%202.65999C2.31718%202.66108%202.3166%202.66278%202.3166%202.66628V13.3329C2.3166%2013.3364%202.31718%2013.3381%202.31764%2013.3392C2.31829%2013.3408%202.3195%2013.3428%202.32148%2013.3447C2.32346%2013.3467%202.32545%2013.3479%202.32698%2013.3486C2.32807%2013.349%202.32976%2013.3496%202.33327%2013.3496H13.6666C13.6681%2013.3496%2013.6693%2013.3495%2013.6702%2013.3493C13.6715%2013.3491%2013.6723%2013.3488%2013.6729%2013.3486C13.674%2013.3481%2013.6753%2013.3473%2013.6768%2013.3462C13.6773%2013.3458%2013.6778%2013.3453%2013.6784%2013.3447C13.6804%2013.3428%2013.6816%2013.3408%2013.6822%2013.3392C13.6827%2013.3382%2013.6833%2013.3365%2013.6833%2013.3329V4.66628C13.6833%204.66277%2013.6827%204.66107%2013.6822%204.65998C13.6816%204.65845%2013.6804%204.65646%2013.6784%204.65449C13.6764%204.65251%2013.6744%204.6513%2013.6729%204.65065C13.6718%204.65019%2013.6701%204.64961%2013.6666%204.64961H7.99994C7.80703%204.64961%207.62409%204.56392%207.50059%204.41573L6.02882%202.64961H2.33327C2.32977%202.64961%202.32807%202.65019%202.32698%202.65065C2.32546%202.6513%202.32346%202.65251%202.32148%202.65449C2.3195%202.65647%202.31829%202.65846%202.31764%202.65999ZM1.0166%202.66628C1.0166%201.9391%201.60609%201.34961%202.33327%201.34961H6.33327C6.52618%201.34961%206.70912%201.43529%206.83261%201.58349L8.30438%203.34961H13.6666C14.3938%203.34961%2014.9833%203.93909%2014.9833%204.66628V13.3329C14.9833%2014.0601%2014.3938%2014.6496%2013.6666%2014.6496H2.33327C1.6061%2014.6496%201.0166%2014.0601%201.0166%2013.3329V2.66628Z'%20fill='%232475FC'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.54048%206.20796C7.79412%205.95432%208.20528%205.95409%208.45921%206.20745L10.4592%208.20302C10.7133%208.45657%2010.7138%208.86813%2010.4602%209.12225C10.2067%209.37638%209.79511%209.37683%209.54099%209.12327L8.00061%207.58631L6.45972%209.1272C6.20588%209.38104%205.79432%209.38104%205.54048%209.1272C5.28664%208.87336%205.28664%208.4618%205.54048%208.20796L7.54048%206.20796Z'%20fill='%232475FC'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.0001%206.01758C8.35908%206.01758%208.6501%206.30859%208.6501%206.66758V11.3342C8.6501%2011.6932%208.35908%2011.9842%208.0001%2011.9842C7.64111%2011.9842%207.3501%2011.6932%207.3501%2011.3342V6.66758C7.3501%206.30859%207.64111%206.01758%208.0001%206.01758Z'%20fill='%232475FC'/%3e%3c/svg%3e",pp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.31764%202.65999C2.31718%202.66108%202.3166%202.66278%202.3166%202.66628V13.3329C2.3166%2013.3364%202.31718%2013.3381%202.31764%2013.3392C2.31829%2013.3408%202.3195%2013.3428%202.32148%2013.3447C2.32346%2013.3467%202.32545%2013.3479%202.32698%2013.3486C2.32807%2013.349%202.32976%2013.3496%202.33327%2013.3496H13.6666C13.6681%2013.3496%2013.6693%2013.3495%2013.6702%2013.3493C13.6715%2013.3491%2013.6723%2013.3488%2013.6729%2013.3486C13.674%2013.3481%2013.6753%2013.3473%2013.6768%2013.3462C13.6773%2013.3458%2013.6778%2013.3453%2013.6784%2013.3447C13.6804%2013.3428%2013.6816%2013.3408%2013.6822%2013.3392C13.6827%2013.3382%2013.6833%2013.3365%2013.6833%2013.3329V4.66628C13.6833%204.66277%2013.6827%204.66107%2013.6822%204.65998C13.6816%204.65845%2013.6804%204.65646%2013.6784%204.65449C13.6764%204.65251%2013.6744%204.6513%2013.6729%204.65065C13.6718%204.65019%2013.6701%204.64961%2013.6666%204.64961H7.99994C7.80703%204.64961%207.62409%204.56392%207.50059%204.41573L6.02882%202.64961H2.33327C2.32977%202.64961%202.32807%202.65019%202.32698%202.65065C2.32546%202.6513%202.32346%202.65251%202.32148%202.65449C2.3195%202.65647%202.31829%202.65846%202.31764%202.65999ZM1.0166%202.66628C1.0166%201.9391%201.60609%201.34961%202.33327%201.34961H6.33327C6.52618%201.34961%206.70912%201.43529%206.83261%201.58349L8.30438%203.34961H13.6666C14.3938%203.34961%2014.9833%203.93909%2014.9833%204.66628V13.3329C14.9833%2014.0601%2014.3938%2014.6496%2013.6666%2014.6496H2.33327C1.6061%2014.6496%201.0166%2014.0601%201.0166%2013.3329V2.66628Z'%20fill='%23262626'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.54048%206.20796C7.79412%205.95432%208.20528%205.95409%208.45921%206.20745L10.4592%208.20302C10.7133%208.45657%2010.7138%208.86813%2010.4602%209.12225C10.2067%209.37638%209.79511%209.37683%209.54099%209.12327L8.00061%207.58631L6.45972%209.1272C6.20588%209.38104%205.79432%209.38104%205.54048%209.1272C5.28664%208.87336%205.28664%208.4618%205.54048%208.20796L7.54048%206.20796Z'%20fill='%23262626'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.0001%206.01758C8.35908%206.01758%208.6501%206.30859%208.6501%206.66758V11.3342C8.6501%2011.6932%208.35908%2011.9842%208.0001%2011.9842C7.64111%2011.9842%207.3501%2011.6932%207.3501%2011.3342V6.66758C7.3501%206.30859%207.64111%206.01758%208.0001%206.01758Z'%20fill='%23262626'/%3e%3c/svg%3e",vp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3crect%20width='24'%20height='24'%20rx='4.8'%20fill='%23A1A7B3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.30335%2011.1H16.5003C16.5993%2011.1%2016.6893%2011.082%2016.7703%2011.037L16.7791%2011.0321C16.9156%2010.9576%2018.3003%2010.2012%2018.3003%208.39995C18.3003%206.54595%2016.8333%205.78995%2016.7703%205.76295C16.6893%205.71795%2016.5903%205.69995%2016.5003%205.69995H6.30335C6.02435%205.69995%205.79035%205.88895%205.71835%206.15895C5.65535%206.42895%205.78135%206.70795%206.02435%206.83395C6.06035%206.85195%206.90635%207.31095%206.90635%208.39995C6.90635%209.45901%206.12325%209.91372%206.0388%209.96276L6.03335%209.96595C5.78135%2010.092%205.65535%2010.371%205.71835%2010.641C5.78135%2010.911%206.02435%2011.1%206.30335%2011.1ZM7.5002%2017.697H17.6882C17.9672%2017.697%2018.2102%2017.508%2018.2732%2017.238C18.3362%2016.968%2018.2102%2016.689%2017.9582%2016.563C17.9582%2016.5623%2017.9522%2016.5583%2017.9412%2016.5511C17.8202%2016.4717%2017.0942%2015.9953%2017.0942%2014.997C17.0942%2013.938%2017.8773%2013.4832%2017.9617%2013.4342C17.9641%2013.4328%2017.966%2013.4318%2017.9672%2013.431C18.2192%2013.305%2018.3452%2013.026%2018.2822%2012.756C18.2192%2012.486%2017.9762%2012.297%2017.6972%2012.297H7.5002C7.4012%2012.297%207.3112%2012.315%207.2302%2012.36C7.1672%2012.387%205.7002%2013.143%205.7002%2014.997C5.7002%2016.851%207.1672%2017.607%207.2302%2017.634C7.3112%2017.679%207.4102%2017.697%207.5002%2017.697Z'%20fill='%233A4559'/%3e%3c/svg%3e",gp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3cpath%20d='M3.75%203.75C3.75%203.05964%204.30964%202.5%205%202.5H12.5C14.5711%202.5%2016.25%204.17893%2016.25%206.25V16.25C16.25%2016.9404%2015.6904%2017.5%2015%2017.5H7.5C5.42893%2017.5%203.75%2015.8211%203.75%2013.75V3.75Z'%20stroke='%23262626'%20stroke-width='1.625'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.08301%2010H12.9163'%20stroke='%23262626'%20stroke-width='1.625'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.08301%206.25H14.1663'%20stroke='%23262626'%20stroke-width='1.625'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.08301%2013.75H9.99967'%20stroke='%23262626'%20stroke-width='1.625'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",mp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2016%2016'%3e%3cpath%20fill='currentColor'%20d='M5%204.667A1.333%201.333%200%201%200%205%202a1.333%201.333%200%200%200%200%202.667ZM6.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM6.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM11%204.667A1.333%201.333%200%201%200%2011%202a1.333%201.333%200%200%200%200%202.667ZM12.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM12.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200Z'%20data-follow-fill='%23000'/%3e%3c/svg%3e",yp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M5.70999%207.44846V8.39753C5.70999%208.77626%206.01699%209.08326%206.39575%209.08326C6.77449%209.08326%207.08145%208.77626%207.08145%208.39753V7.44846C7.08145%207.0698%206.77449%206.7627%206.39575%206.7627C6.01699%206.7627%205.70999%207.0698%205.70999%207.44846Z'%20fill='currentColor'/%3e%3cpath%20d='M9.10419%207.44846C9.10419%207.0698%209.41122%206.7627%209.78992%206.7627C10.1687%206.7627%2010.4757%207.0698%2010.4757%207.44846V8.39753C10.4757%208.77626%2010.1687%209.08326%209.78992%209.08326C9.41122%209.08326%209.10419%208.77626%209.10419%208.39753V7.44846Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.86958%2012.3289C1.77379%2011.1261%201.10716%209.53817%201.10716%207.7971C1.10716%204.04237%204.20599%200.998535%208.02855%200.998535C11.8512%200.998535%2014.95%204.04237%2014.95%207.7971C14.95%2010.452%2013.4002%2012.7505%2011.1412%2013.8697C9.75902%2014.5903%208.18225%2014.9985%206.50845%2014.9985C4.45755%2014.9985%202.55232%2014.3857%200.972351%2013.3362C0.972351%2013.3362%202.03215%2013.2204%202.86958%2012.3289ZM11.2799%2011.1618C13.0706%209.3712%2013.0706%206.46803%2011.2799%204.6774C10.4496%203.8471%209.38005%203.40207%208.29315%203.34183C8.26041%202.52773%208.69784%201.97722%208.70144%201.97269C7.45224%202.21401%206.25929%202.81799%205.29199%203.7853C4.55015%204.5271%204.02195%205.4016%203.70705%206.33233C3.75315%206.21027%203.80455%206.08973%203.86125%205.97113C3.79599%206.13757%203.73702%206.30763%203.68369%206.48163C3.15927%208.0736%203.52942%209.89573%204.79549%2011.1618C6.58615%2012.9525%209.48932%2012.9525%2011.2799%2011.1618Z'%20fill='currentColor'/%3e%3c/svg%3e",_p="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.54048%204.53999C5.79432%204.28615%206.20588%204.28615%206.45972%204.53999L8.0001%206.08037L9.54048%204.53999C9.79432%204.28615%2010.2059%204.28615%2010.4597%204.53999C10.7136%204.79383%2010.7136%205.20539%2010.4597%205.45923L8.90234%207.0166H10.3335C10.6925%207.0166%2010.9835%207.30762%2010.9835%207.6666C10.9835%208.02559%2010.6925%208.3166%2010.3335%208.3166H8.6501V9.0166H10.3335C10.6925%209.0166%2010.9835%209.30762%2010.9835%209.6666C10.9835%2010.0256%2010.6925%2010.3166%2010.3335%2010.3166H8.6501V11.3333C8.6501%2011.6923%208.35908%2011.9833%208.0001%2011.9833C7.64111%2011.9833%207.3501%2011.6923%207.3501%2011.3333V10.3166H5.66685C5.30786%2010.3166%205.01685%2010.0256%205.01685%209.6666C5.01685%209.30762%205.30786%209.0166%205.66685%209.0166H7.3501V8.3166H5.66685C5.30786%208.3166%205.01685%208.02559%205.01685%207.6666C5.01685%207.30762%205.30786%207.0166%205.66685%207.0166H7.09785L5.54048%205.45923C5.28664%205.20539%205.28664%204.79383%205.54048%204.53999Z'%20fill='%232475FC'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.68335%203.99928C0.68335%202.71983%201.72056%201.68262%203.00002%201.68262H13C14.2795%201.68262%2015.3167%202.71982%2015.3167%203.99928V11.9993C15.3167%2013.2787%2014.2795%2014.316%2013%2014.316H3.00002C1.72056%2014.316%200.68335%2013.2787%200.68335%2011.9993V3.99928ZM3.00002%202.98262C2.43853%202.98262%201.98335%203.4378%201.98335%203.99928V11.9993C1.98335%2012.5608%202.43853%2013.016%203.00002%2013.016H13C13.5615%2013.016%2014.0167%2012.5608%2014.0167%2011.9993V3.99928C14.0167%203.4378%2013.5615%202.98262%2013%202.98262H3.00002Z'%20fill='%232475FC'/%3e%3c/svg%3e",bp="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.54048%204.53999C5.79432%204.28615%206.20588%204.28615%206.45972%204.53999L8.0001%206.08037L9.54048%204.53999C9.79432%204.28615%2010.2059%204.28615%2010.4597%204.53999C10.7136%204.79383%2010.7136%205.20539%2010.4597%205.45923L8.90234%207.0166H10.3335C10.6925%207.0166%2010.9835%207.30762%2010.9835%207.6666C10.9835%208.02559%2010.6925%208.3166%2010.3335%208.3166H8.6501V9.0166H10.3335C10.6925%209.0166%2010.9835%209.30762%2010.9835%209.6666C10.9835%2010.0256%2010.6925%2010.3166%2010.3335%2010.3166H8.6501V11.3333C8.6501%2011.6923%208.35908%2011.9833%208.0001%2011.9833C7.64111%2011.9833%207.3501%2011.6923%207.3501%2011.3333V10.3166H5.66685C5.30786%2010.3166%205.01685%2010.0256%205.01685%209.6666C5.01685%209.30762%205.30786%209.0166%205.66685%209.0166H7.3501V8.3166H5.66685C5.30786%208.3166%205.01685%208.02559%205.01685%207.6666C5.01685%207.30762%205.30786%207.0166%205.66685%207.0166H7.09785L5.54048%205.45923C5.28664%205.20539%205.28664%204.79383%205.54048%204.53999Z'%20fill='%23262626'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.68335%203.99928C0.68335%202.71983%201.72056%201.68262%203.00002%201.68262H13C14.2795%201.68262%2015.3167%202.71982%2015.3167%203.99928V11.9993C15.3167%2013.2787%2014.2795%2014.316%2013%2014.316H3.00002C1.72056%2014.316%200.68335%2013.2787%200.68335%2011.9993V3.99928ZM3.00002%202.98262C2.43853%202.98262%201.98335%203.4378%201.98335%203.99928V11.9993C1.98335%2012.5608%202.43853%2013.016%203.00002%2013.016H13C13.5615%2013.016%2014.0167%2012.5608%2014.0167%2011.9993V3.99928C14.0167%203.4378%2013.5615%202.98262%2013%202.98262H3.00002Z'%20fill='%23262626'/%3e%3c/svg%3e",Cp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%23lio64evfh__clip0_8437_35361)'%3e%3cpath%20d='M1.5%2014.5H14.5M2.94445%208.98222V11.6111H5.5867L13.0556%204.139L10.4176%201.5L2.94445%208.98222Z'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='lio64evfh__clip0_8437_35361'%3e%3cpath%20fill='%23fff'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",wp="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.2316%201.34961C10.4041%201.34958%2010.5695%201.4181%2010.6915%201.54008L13.1265%203.97608C13.3802%204.2299%2013.3802%204.64131%2013.1265%204.89513L6.23215%2011.7925C6.11025%2011.9144%205.94487%2011.9829%205.77243%2011.9829H3.33343C2.97445%2011.9829%202.68343%2011.6919%202.68343%2011.3329V8.90628C2.68343%208.73402%202.75181%208.56881%202.87354%208.44693L9.77187%201.54027C9.89376%201.41823%2010.0592%201.34964%2010.2316%201.34961ZM10.2319%202.91922L3.98343%209.17528V10.6829H5.50311L11.7477%204.43561L10.2319%202.91922Z'%20fill='currentColor'/%3e%3cpath%20d='M1.3501%2013.9996C1.3501%2013.6406%201.64111%2013.3496%202.0001%2013.3496H14.0001C14.3591%2013.3496%2014.6501%2013.6406%2014.6501%2013.9996C14.6501%2014.3586%2014.3591%2014.6496%2014.0001%2014.6496H2.0001C1.64111%2014.6496%201.3501%2014.3586%201.3501%2013.9996Z'%20fill='currentColor'/%3e%3c/svg%3e",xp="/assets/img/empty-document-3OyxWwx_.svg",kp="/assets/img/empty-RP_Vd77v.svg",Sp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%23F33E3E'/%3e%3cg%20clip-path='url(%23n90207hb6__clip0_6476_8985)'%3e%3cpath%20d='M9.99984%2015.8334C13.2215%2015.8334%2015.8332%2013.2217%2015.8332%2010.0001C15.8332%206.77842%2013.2215%204.16675%209.99984%204.16675C6.77817%204.16675%204.1665%206.77842%204.1665%2010.0001C4.1665%2013.2217%206.77817%2015.8334%209.99984%2015.8334Z'%20stroke='%23fff'%20stroke-linejoin='round'/%3e%3cpath%20fill='%23fff'%20d='M10%207.375A2.625%202.625%200%201%200%2010%2012.625A2.625%202.625%200%201%200%2010%207.375Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='n90207hb6__clip0_6476_8985'%3e%3cpath%20fill='%23fff'%20transform='translate(3%203)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Ep="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.33333%201C6.59695%201%206%201.59695%206%202.33333V7H3.33333C2.59695%207%202%207.59695%202%208.33333V13.6665H1.33334C0.965149%2013.6665%200.666672%2013.965%200.666672%2014.3332C0.666672%2014.7014%200.965149%2014.9998%201.33334%2014.9998H3.31227L3.33333%2015H6L6.02107%2014.9998H7.3122L7.33333%2015H12.6667L12.6878%2014.9998H14.6667C15.0349%2014.9998%2015.3333%2014.7014%2015.3333%2014.3332C15.3333%2013.965%2015.0349%2013.6665%2014.6667%2013.6665H14V2.33333C14%201.59695%2013.403%201%2012.6667%201H7.33333ZM8.66667%2011.0024C8.66667%2010.6343%208.96515%2010.3358%209.33334%2010.3358H10.6667C11.0349%2010.3358%2011.3333%2010.6343%2011.3333%2011.0024C11.3333%2011.3706%2011.0349%2011.6691%2010.6667%2011.6691H9.33334C8.96515%2011.6691%208.66667%2011.3706%208.66667%2011.0024ZM4%2010.3358C3.63181%2010.3358%203.33333%2010.6343%203.33333%2011.0024C3.33333%2011.3706%203.63181%2011.6691%204%2011.6691H5.33333C5.70152%2011.6691%206%2011.3706%206%2011.0024C6%2010.6343%205.70152%2010.3358%205.33333%2010.3358H4ZM8.66667%208.00244C8.66667%207.63425%208.96515%207.33577%209.33334%207.33577H10.6667C11.0349%207.33577%2011.3333%207.63425%2011.3333%208.00244C11.3333%208.37063%2011.0349%208.66911%2010.6667%208.66911H9.33334C8.96515%208.66911%208.66667%208.37063%208.66667%208.00244ZM9.33334%204.33577C8.96515%204.33577%208.66667%204.63425%208.66667%205.00244C8.66667%205.37063%208.96515%205.66911%209.33334%205.66911H10.6667C11.0349%205.66911%2011.3333%205.37063%2011.3333%205.00244C11.3333%204.63425%2011.0349%204.33577%2010.6667%204.33577H9.33334Z'%20fill='%232475FC'/%3e%3c/svg%3e",Mp="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.33333%201C6.59695%201%206%201.59695%206%202.33333V7H3.33333C2.59695%207%202%207.59695%202%208.33333V13.6665H1.33334C0.965149%2013.6665%200.666672%2013.965%200.666672%2014.3332C0.666672%2014.7014%200.965149%2014.9998%201.33334%2014.9998H3.31227L3.33333%2015H6L6.02107%2014.9998H7.3122L7.33333%2015H12.6667L12.6878%2014.9998H14.6667C15.0349%2014.9998%2015.3333%2014.7014%2015.3333%2014.3332C15.3333%2013.965%2015.0349%2013.6665%2014.6667%2013.6665H14V2.33333C14%201.59695%2013.403%201%2012.6667%201H7.33333ZM8.66667%2011.0024C8.66667%2010.6343%208.96515%2010.3358%209.33334%2010.3358H10.6667C11.0349%2010.3358%2011.3333%2010.6343%2011.3333%2011.0024C11.3333%2011.3706%2011.0349%2011.6691%2010.6667%2011.6691H9.33334C8.96515%2011.6691%208.66667%2011.3706%208.66667%2011.0024ZM4%2010.3358C3.63181%2010.3358%203.33333%2010.6343%203.33333%2011.0024C3.33333%2011.3706%203.63181%2011.6691%204%2011.6691H5.33333C5.70152%2011.6691%206%2011.3706%206%2011.0024C6%2010.6343%205.70152%2010.3358%205.33333%2010.3358H4ZM8.66667%208.00244C8.66667%207.63425%208.96515%207.33577%209.33334%207.33577H10.6667C11.0349%207.33577%2011.3333%207.63425%2011.3333%208.00244C11.3333%208.37063%2011.0349%208.66911%2010.6667%208.66911H9.33334C8.96515%208.66911%208.66667%208.37063%208.66667%208.00244ZM9.33334%204.33577C8.96515%204.33577%208.66667%204.63425%208.66667%205.00244C8.66667%205.37063%208.96515%205.66911%209.33334%205.66911H10.6667C11.0349%205.66911%2011.3333%205.37063%2011.3333%205.00244C11.3333%204.63425%2011.0349%204.33577%2010.6667%204.33577H9.33334Z'%20fill='%23A1A7B3'/%3e%3c/svg%3e",Op="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.33333%201C6.59695%201%206%201.59695%206%202.33333V7H3.33333C2.59695%207%202%207.59695%202%208.33333V13.6665H1.33334C0.965149%2013.6665%200.666672%2013.965%200.666672%2014.3332C0.666672%2014.7014%200.965149%2014.9998%201.33334%2014.9998H3.31227L3.33333%2015H6L6.02107%2014.9998H7.3122L7.33333%2015H12.6667L12.6878%2014.9998H14.6667C15.0349%2014.9998%2015.3333%2014.7014%2015.3333%2014.3332C15.3333%2013.965%2015.0349%2013.6665%2014.6667%2013.6665H14V2.33333C14%201.59695%2013.403%201%2012.6667%201H7.33333ZM8.66667%2011.0024C8.66667%2010.6343%208.96515%2010.3358%209.33334%2010.3358H10.6667C11.0349%2010.3358%2011.3333%2010.6343%2011.3333%2011.0024C11.3333%2011.3706%2011.0349%2011.6691%2010.6667%2011.6691H9.33334C8.96515%2011.6691%208.66667%2011.3706%208.66667%2011.0024ZM4%2010.3358C3.63181%2010.3358%203.33333%2010.6343%203.33333%2011.0024C3.33333%2011.3706%203.63181%2011.6691%204%2011.6691H5.33333C5.70152%2011.6691%206%2011.3706%206%2011.0024C6%2010.6343%205.70152%2010.3358%205.33333%2010.3358H4ZM8.66667%208.00244C8.66667%207.63425%208.96515%207.33577%209.33334%207.33577H10.6667C11.0349%207.33577%2011.3333%207.63425%2011.3333%208.00244C11.3333%208.37063%2011.0349%208.66911%2010.6667%208.66911H9.33334C8.96515%208.66911%208.66667%208.37063%208.66667%208.00244ZM9.33334%204.33577C8.96515%204.33577%208.66667%204.63425%208.66667%205.00244C8.66667%205.37063%208.96515%205.66911%209.33334%205.66911H10.6667C11.0349%205.66911%2011.3333%205.37063%2011.3333%205.00244C11.3333%204.63425%2011.0349%204.33577%2010.6667%204.33577H9.33334Z'%20fill='currentColor'/%3e%3c/svg%3e",Ap="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M2%203C2%202.44772%202.44772%202%203%202H13C13.5523%202%2014%202.44772%2014%203V13C14%2013.5523%2013.5523%2014%2013%2014H3C2.44772%2014%202%2013.5523%202%2013V3Z'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.6666%202V14'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.33337%206.66797L6.66671%208.0013L5.33337%209.33464'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.66663%202H12.6666'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.66663%2014H12.6666'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Lp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%23001EFF'/%3e%3cpath%20d='M10%204C6.694%204%204%206.694%204%2010C4%2013.306%206.694%2016%2010%2016C13.306%2016%2016%2013.306%2016%2010C16%206.694%2013.306%204%2010%204ZM11.05%2013.408C10.816%2013.54%2010.636%2013.642%2010.498%2013.708C10.348%2013.78%2010.186%2013.816%2010.018%2013.81C9.766%2013.822%209.52%2013.714%209.364%2013.516C9.208%2013.3%209.124%2013.036%209.136%2012.766C9.136%2012.646%209.142%2012.526%209.154%2012.406C9.166%2012.28%209.184%2012.148%209.214%2011.992L9.502%2010.54C9.526%2010.408%209.55%2010.27%209.568%2010.138C9.586%2010.024%209.592%209.91%209.592%209.796C9.604%209.658%209.574%209.52%209.508%209.406C9.43%209.322%209.316%209.28%209.196%209.292C9.118%209.292%209.04%209.31%208.968%209.346C8.902%209.376%208.83%209.406%208.77%209.442L8.848%208.986C9.04%208.872%209.22%208.782%209.394%208.704C9.55%208.632%209.712%208.59%209.886%208.584C10.132%208.572%2010.372%208.68%2010.528%208.872C10.69%209.088%2010.768%209.358%2010.756%209.628C10.756%209.694%2010.738%209.808%2010.738%209.964C10.732%2010.114%2010.708%2010.258%2010.678%2010.408L10.39%2011.872C10.366%2011.986%2010.342%2012.124%2010.324%2012.274C10.306%2012.388%2010.3%2012.496%2010.294%2012.61C10.282%2012.748%2010.312%2012.886%2010.384%2013.006C10.468%2013.084%2010.582%2013.126%2010.696%2013.114L10.702%2013.108C10.78%2013.102%2010.858%2013.084%2010.93%2013.054C10.996%2013.03%2011.062%2013%2011.122%2012.958L11.05%2013.408ZM10.978%207.492C10.678%207.792%2010.198%207.786%209.898%207.492C9.748%207.354%209.664%207.156%209.67%206.952C9.67%206.532%2010.018%206.19%2010.438%206.19H10.444C10.648%206.19%2010.9%206.292%2011.038%206.436C11.338%206.736%2011.278%207.198%2010.978%207.492Z'%20fill='%23EBEDFF'/%3e%3c/svg%3e",Tp="data:image/svg+xml,%3csvg%20t='1736306538587'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4283'%20width='256'%20height='256'%3e%3cpath%20d='M863.38266946%20101.16481782a37.65249042%2037.65249042%200%200%200-53.27139798-1e-8l-50.28446283%2050.28446366-74.29836978%2074.2852109-176.79498816%20176.79498816A37.66564847%2037.66564847%200%200%200%20562.00484869%20455.79429989v-0.00657943l176.8015676-176.78182928%2074.29179034-74.29836979%2050.28446283-50.27788421a37.67222791%2037.67222791%200%200%200%200-53.26481937z'%20fill='currentColor'%20p-id='4284'%3e%3c/path%3e%3cpath%20d='M776.47206476%20375.89707126a37.65906903%2037.65906903%200%200%200-37.66564847%2036.94194086v408.03246303a37.67222791%2037.67222791%200%200%201-37.66564847%2037.67222792H203.93447089a37.66564847%2037.66564847%200%200%201-37.66564848-37.67222791V263.40014084a37.66564847%2037.66564847%200%200%201%2037.66564848-37.66564847h349.35958026a37.67222791%2037.67222791%200%201%200%200-75.34445499H156.85405475C120.45160385%20150.39661682%2090.93752548%20179.90411575%2090.93752548%20216.31972552v651.63216577c0%2036.4024509%2029.51407837%2065.9231087%2065.91652927%2065.92310871h591.36712838c36.4024509%200%2065.91652927-29.51407837%2065.9165301-65.92310871V411.31922803a37.64591098%2037.64591098%200%200%200-37.66564847-35.42215677z'%20fill='currentColor'%20p-id='4285'%3e%3c/path%3e%3cpath%20d='M211.47417969%20594.87100573a37.66564847%2037.66564847%200%200%200%2037.66564847%2037.66564847h346.53054501a37.67222791%2037.67222791%200%200%200%200-75.33787637H249.13982816a37.67222791%2037.67222791%200%200%200-37.66564847%2037.6722279z%20m203.39450107-203.40108049h-165.7288526a37.67222791%2037.67222791%200%200%200%200%2075.33787554h165.7288526a37.67222791%2037.67222791%200%200%200%200-75.33787554z'%20fill='currentColor'%20p-id='4286'%3e%3c/path%3e%3c/svg%3e",Np="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M8.00016%2012C11.6821%2012%2014.6668%208%2014.6668%208C14.6668%208%2011.6821%204%208.00016%204C4.31826%204%201.3335%208%201.3335%208C1.3335%208%204.31826%2012%208.00016%2012Z'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.00016%209.66732C8.92063%209.66732%209.66683%208.92112%209.66683%208.00065C9.66683%207.08018%208.92063%206.33398%208.00016%206.33398C7.0797%206.33398%206.3335%207.08018%206.3335%208.00065C6.3335%208.92112%207.0797%209.66732%208.00016%209.66732Z'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linejoin='round'/%3e%3c/svg%3e",Dp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.667969%202.33268C0.667969%201.96449%200.966446%201.66602%201.33464%201.66602H14.668C15.0362%201.66602%2015.3346%201.96449%2015.3346%202.33268V12.3327C15.3346%2012.7009%2015.0362%2012.9993%2014.668%2012.9993H9.94411L8.47271%2014.4708C8.21236%2014.7311%207.79025%2014.7311%207.5299%2014.4708L6.05849%2012.9993H1.33464C0.966446%2012.9993%200.667969%2012.7009%200.667969%2012.3327V2.33268ZM4.66602%204.68301C4.30703%204.68301%204.01602%204.97402%204.01602%205.33301C4.01602%205.69199%204.30703%205.98301%204.66602%205.98301H6.66602C7.025%205.98301%207.31602%205.69199%207.31602%205.33301C7.31602%204.97402%207.025%204.68301%206.66602%204.68301H4.66602ZM4.01602%208C4.01602%207.64102%204.30703%207.35%204.66602%207.35H5.33268C5.69167%207.35%205.98268%207.64102%205.98268%208C5.98268%208.35898%205.69167%208.65%205.33268%208.65H4.66602C4.30703%208.65%204.01602%208.35898%204.01602%208ZM9.96546%204.07071C10.1494%204.16269%2010.2723%204.32824%2010.3162%204.51387L11.8993%207.68006C11.9103%207.69947%2011.9203%207.71951%2011.9293%207.7401L12.5807%209.04297C12.7413%209.36406%2012.6111%209.75449%2012.29%209.91504C11.969%2010.0756%2011.5785%209.94543%2011.418%209.62435L10.9308%208.65H8.42117L7.93027%209.6318C7.76561%209.96112%207.36516%2010.0946%207.03584%209.92994C6.70652%209.76528%206.57304%209.36484%206.7377%209.03552L9.07103%204.36885C9.23569%204.03953%209.63614%203.90605%209.96546%204.07071ZM9.07117%207.35H10.2808L9.67598%206.14037L9.07117%207.35Z'%20fill='currentColor'/%3e%3c/svg%3e",Pp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.33327%200.682617C2.60609%200.682617%202.0166%201.27211%202.0166%201.99928V13.9993C2.0166%2014.7265%202.6061%2015.316%203.33327%2015.316H6.99994C7.35892%2015.316%207.64994%2015.0249%207.64994%2014.666C7.64994%2014.307%207.35892%2014.016%206.99994%2014.016H3.33327C3.32976%2014.016%203.32698%2014.0149%203.32698%2014.0149C3.32698%2014.0149%203.32346%2014.013%203.32148%2014.0111C3.3195%2014.0091%203.31764%2014.0056%203.31764%2014.0056C3.31764%2014.0056%203.3166%2014.0028%203.3166%2013.9993V1.99928C3.3166%201.99578%203.31764%201.993%203.31764%201.993C3.31764%201.993%203.3195%201.98948%203.32148%201.9875C3.32346%201.98552%203.32698%201.98366%203.32698%201.98366C3.32698%201.98366%203.32977%201.98262%203.33327%201.98262H12.6666C12.6701%201.98262%2012.6729%201.98366%2012.6729%201.98366C12.6729%201.98366%2012.6764%201.98552%2012.6784%201.9875C12.6804%201.98948%2012.6822%201.99299%2012.6822%201.99299C12.6822%201.99299%2012.6833%201.99578%2012.6833%201.99928V8.99928C12.6833%209.35827%2012.9743%209.64928%2013.3333%209.64928C13.6923%209.64928%2013.9833%209.35827%2013.9833%208.99928V1.99928C13.9833%201.27212%2013.3938%200.682617%2012.6666%200.682617H3.33327ZM5.6666%203.34961C5.30762%203.34961%205.0166%203.64062%205.0166%203.99961C5.0166%204.35859%205.30762%204.64961%205.6666%204.64961H10.3333C10.6923%204.64961%2010.9833%204.35859%2010.9833%203.99961C10.9833%203.64062%2010.6923%203.34961%2010.3333%203.34961H5.6666ZM5.6666%206.0166C5.30762%206.0166%205.0166%206.30762%205.0166%206.6666C5.0166%207.02559%205.30762%207.3166%205.6666%207.3166H10.3333C10.6923%207.3166%2010.9833%207.02559%2010.9833%206.6666C10.9833%206.30762%2010.6923%206.0166%2010.3333%206.0166H5.6666ZM5.6666%208.68262C5.30762%208.68262%205.0166%208.97363%205.0166%209.33262C5.0166%209.6916%205.30762%209.98262%205.6666%209.98262H7.6666C8.02559%209.98262%208.3166%209.6916%208.3166%209.33262C8.3166%208.97363%208.02559%208.68262%207.6666%208.68262H5.6666ZM8.34991%2012.3333C8.34991%2011.0538%209.38713%2010.0166%2010.6666%2010.0166C11.946%2010.0166%2012.9832%2011.0538%2012.9832%2012.3333C12.9832%2012.7364%2012.8799%2013.1159%2012.6987%2013.4462L13.4595%2014.207C13.7134%2014.4608%2013.7134%2014.8724%2013.4595%2015.1262C13.2057%2015.3801%2012.7941%2015.3801%2012.5403%2015.1262L11.7795%2014.3654C11.4492%2014.5466%2011.0697%2014.6499%2010.6666%2014.6499C9.38713%2014.6499%208.34991%2013.6127%208.34991%2012.3333ZM10.6666%2013.3478C11.2268%2013.3478%2011.6808%2012.8937%2011.6808%2012.3336C11.6808%2011.7734%2011.2268%2011.3193%2010.6666%2011.3193C10.1065%2011.3193%209.6524%2011.7734%209.6524%2012.3336C9.6524%2012.8937%2010.1065%2013.3478%2010.6666%2013.3478Z'%20fill='currentColor'/%3e%3c/svg%3e",Rp="/assets/img/finance-AYSdNN-b.svg",Hp="/assets/img/gemini-BwEISQmU.svg",Ip="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M7.46429%202.59282C7.64838%202.09532%208.35203%202.09532%208.53612%202.59282L9.76108%205.9032C9.81895%206.05961%209.94227%206.18293%2010.0987%206.24081L13.4091%207.46576C13.9066%207.64985%2013.9066%208.3535%2013.4091%208.53759L10.0987%209.76254C9.94227%209.82042%209.81895%209.94374%209.76108%2010.1001L8.53612%2013.4105C8.35203%2013.908%207.64838%2013.908%207.46429%2013.4105L6.23934%2010.1001C6.18147%209.94374%206.05815%209.82042%205.90173%209.76254L2.59136%208.53759C2.09386%208.3535%202.09386%207.64985%202.59136%207.46576L5.90173%206.24081C6.05815%206.18293%206.18147%206.05961%206.23934%205.9032L7.46429%202.59282Z'%20fill='url(%231nlvktom1__paint0_linear_8836_50023)'/%3e%3cpath%20d='M12.2503%202.01351C12.3608%201.71501%2012.7829%201.71501%2012.8934%202.0135L13.1345%202.66504C13.1692%202.75889%2013.2432%202.83288%2013.3371%202.86761L13.9886%203.1087C14.2871%203.21915%2014.2871%203.64134%2013.9886%203.75179L13.3371%203.99288C13.2432%204.02761%2013.1692%204.1016%2013.1345%204.19545L12.8934%204.84699C12.7829%205.14548%2012.3608%205.14548%2012.2503%204.84699L12.0092%204.19545C11.9745%204.1016%2011.9005%204.02761%2011.8066%203.99288L11.1551%203.7518C10.8566%203.64134%2010.8566%203.21915%2011.1551%203.1087L11.8066%202.86761C11.9005%202.83288%2011.9745%202.75889%2012.0092%202.66504L12.2503%202.01351Z'%20fill='url(%231nlvktom1__paint1_linear_8836_50023)'/%3e%3cpath%20d='M3.10723%2011.158C3.21769%2010.8595%203.63988%2010.8595%203.75033%2011.158L3.99142%2011.8096C4.02615%2011.9034%204.10014%2011.9774%204.19399%2012.0121L4.84552%2012.2532C5.14402%2012.3637%205.14402%2012.7859%204.84552%2012.8963L4.19399%2013.1374C4.10014%2013.1721%204.02615%2013.2461%203.99142%2013.34L3.75033%2013.9915C3.63988%2014.29%203.21769%2014.29%203.10723%2013.9915L2.86614%2013.34C2.83142%2013.2461%202.75742%2013.1721%202.66358%2013.1374L2.01204%2012.8963C1.71354%2012.7859%201.71354%2012.3637%202.01204%2012.2532L2.66358%2012.0121C2.75742%2011.9774%202.83142%2011.9034%202.86614%2011.8096L3.10723%2011.158Z'%20fill='url(%231nlvktom1__paint2_linear_8836_50023)'/%3e%3cdefs%3e%3clinearGradient%20id='1nlvktom1__paint0_linear_8836_50023'%20x1='1.23806'%20y1='1.14453'%20x2='15.7204'%20y2='2.12617'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%232475FC'/%3e%3cstop%20offset='.52899'%20stop-color='%233C01FF'/%3e%3cstop%20offset='1'%20stop-color='%23C20CFF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='1nlvktom1__paint1_linear_8836_50023'%20x1='10.3178'%20y1='1.14453'%20x2='15.1452'%20y2='1.47174'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%232475FC'/%3e%3cstop%20offset='.52899'%20stop-color='%233C01FF'/%3e%3cstop%20offset='1'%20stop-color='%23C20CFF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='1nlvktom1__paint2_linear_8836_50023'%20x1='1.17473'%20y1='10.2891'%20x2='6.00218'%20y2='10.6163'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%232475FC'/%3e%3cstop%20offset='.52899'%20stop-color='%233C01FF'/%3e%3cstop%20offset='1'%20stop-color='%23C20CFF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",Bp="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%208L7%2011L13%205'%20stroke='white'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",jp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%232487FF'/%3e%3cpath%20d='M20.997%2010.2472L30.3226%2017.7081C30.4137%2017.7812%2030.4799%2017.8808%2030.512%2017.9931C30.5441%2018.1055%2030.5406%2018.225%2030.5019%2018.3353C30.4632%2018.4455%2030.3912%2018.541%2030.2959%2018.6086C30.2006%2018.6762%2030.0867%2018.7126%2029.9698%2018.7127H27.6283V28.3069H29.6036C29.8281%2028.3069%2030.0434%2028.3961%2030.2022%2028.5548C30.3609%2028.7136%2030.4501%2028.9289%2030.4501%2029.1535C30.4501%2029.378%2030.3609%2029.5933%2030.2022%2029.7521C30.0434%2029.9108%2029.8281%2030%2029.6036%2030H10.9795C10.7549%2030%2010.5396%2029.9108%2010.3809%2029.7521C10.2221%2029.5933%2010.1329%2029.378%2010.1329%2029.1535C10.1329%2028.9289%2010.2221%2028.7136%2010.3809%2028.5548C10.5396%2028.3961%2010.7549%2028.3069%2010.9795%2028.3069H12.9547V18.7127H10.6126C10.4667%2018.7125%2010.3266%2018.6559%2010.2215%2018.5546L10.1724%2018.501C10.1261%2018.4432%2010.0916%2018.3767%2010.0709%2018.3055C10.0503%2018.2343%2010.0439%2018.1597%2010.052%2018.086C10.0602%2018.0123%2010.0828%2017.941%2010.1186%2017.876C10.1543%2017.8111%2010.2026%2017.7538%2010.2605%2017.7075L19.5866%2010.2472C19.7867%2010.0872%2020.0353%2010%2020.2915%2010C20.5477%2010%2020.7963%2010.0872%2020.9964%2010.2472H20.997ZM23.1133%2025.4851H17.4697C17.32%2025.4851%2017.1764%2025.5445%2017.0706%2025.6504C16.9648%2025.7562%2016.9053%2025.8998%2016.9053%2026.0494C16.9053%2026.1991%2016.9648%2026.3427%2017.0706%2026.4485C17.1764%2026.5543%2017.32%2026.6138%2017.4697%2026.6138H23.1133C23.263%2026.6138%2023.4066%2026.5543%2023.5124%2026.4485C23.6182%2026.3427%2023.6777%2026.1991%2023.6777%2026.0494C23.6777%2025.8998%2023.6182%2025.7562%2023.5124%2025.6504C23.4066%2025.5445%2023.263%2025.4851%2023.1133%2025.4851ZM20.6104%2015.2949C20.4869%2015.2103%2020.3349%2015.1783%2020.1878%2015.2058C20.0406%2015.2333%2019.9105%2015.3181%2019.8259%2015.4416L18.8129%2016.9202C18.7394%2017.0271%2018.6314%2017.1054%2018.507%2017.142L16.7874%2017.6488C16.6993%2017.6747%2016.6189%2017.7217%2016.5531%2017.7856C16.4873%2017.8496%2016.4381%2017.9287%2016.4097%2018.0159C16.3814%2018.1032%2016.3747%2018.1961%2016.3904%2018.2865C16.406%2018.377%2016.4435%2018.4622%2016.4995%2018.5349L17.5927%2019.9548C17.6719%2020.0578%2017.7132%2020.185%2017.7095%2020.3149L17.6604%2022.1068C17.6579%2022.1985%2017.6777%2022.2894%2017.7182%2022.3717C17.7587%2022.454%2017.8186%2022.5252%2017.8928%2022.5791C17.967%2022.633%2018.0533%2022.668%2018.1441%2022.6811C18.2348%2022.6942%2018.3274%2022.685%2018.4139%2022.6542L20.1024%2022.0532C20.2247%2022.0097%2020.3583%2022.0097%2020.4806%2022.0532L22.1692%2022.6536C22.2556%2022.6844%2022.3482%2022.6936%2022.439%2022.6806C22.5297%2022.6675%2022.616%2022.6324%2022.6902%2022.5785C22.7644%2022.5246%2022.8243%2022.4534%2022.8648%2022.3711C22.9053%2022.2888%2022.9251%2022.1979%2022.9226%2022.1062L22.8735%2020.3149C22.8698%2020.185%2022.9111%2020.0578%2022.9903%2019.9548L24.0835%2018.5343C24.1394%2018.4617%2024.1768%2018.3764%2024.1923%2018.2861C24.2079%2018.1957%2024.2012%2018.1029%2024.1729%2018.0157C24.1446%2017.9285%2024.0954%2017.8496%2024.0297%2017.7856C23.9639%2017.7217%2023.8836%2017.6747%2023.7957%2017.6488L22.076%2017.142C21.9515%2017.1053%2021.8435%2017.0268%2021.7701%2016.9197L20.7571%2015.441C20.7176%2015.3837%2020.6679%2015.3341%2020.6104%2015.2949Z'%20fill='%23EBF4FF'/%3e%3c/svg%3e",Fp="/assets/img/graph-icon-BYqYhPb2.svg",Vp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M2.66669%2013.3335C2.66669%2012.0002%202.66669%203.3335%202.66669%203.3335C2.66669%202.22893%203.62182%201.3335%204.80002%201.3335H13.3334V12.0002C13.3334%2012.0002%206.66052%2012.0002%204.80002%2012.0002C3.12077%2012.0002%202.66669%2012.2282%202.66669%2013.3335Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20clip-rule='evenodd'%20d='M4.00002%2014.6667H13.3334V12H4.00002C3.26364%2012%202.66669%2012.597%202.66669%2013.3333C2.66669%2014.0697%203.26364%2014.6667%204.00002%2014.6667Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",$p="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.60018%204.69531C6.40179%204.69531%206.21426%204.78591%206.09096%204.94133L5.15763%206.1178C4.9669%206.35822%204.9703%206.69928%205.16579%206.93584L7.49913%209.75937C7.62261%209.9088%207.80634%209.99531%208.00018%209.99531C8.19402%209.99531%208.37775%209.9088%208.50123%209.75937L10.8346%206.93584C11.0301%206.69928%2011.0335%206.35822%2010.8427%206.1178L9.9094%204.94133C9.7861%204.78591%209.59857%204.69531%209.40018%204.69531H6.60018ZM6.50317%206.51343L6.91422%205.99531H9.08614L9.49718%206.51343L8.00018%208.32494L6.50317%206.51343Z'%20fill='%232475FC'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.33335%201.34961C0.974365%201.34961%200.68335%201.64062%200.68335%201.99961V11.9996C0.68335%2012.3586%200.974365%2012.6496%201.33335%2012.6496H6.06411L7.5404%2014.1259C7.79424%2014.3797%208.2058%2014.3797%208.45964%2014.1259L9.93592%2012.6496H14.6667C15.0257%2012.6496%2015.3167%2012.3586%2015.3167%2011.9996V1.99961C15.3167%201.64062%2015.0257%201.34961%2014.6667%201.34961H1.33335ZM1.98335%2011.3496V2.64961H14.0167V11.3496H9.66668C9.49429%2011.3496%209.32896%2011.4181%209.20706%2011.54L8.00002%2012.747L6.79297%2011.54C6.67107%2011.4181%206.50574%2011.3496%206.33335%2011.3496H1.98335Z'%20fill='%232475FC'/%3e%3c/svg%3e",Wp="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.60018%204.69531C6.40179%204.69531%206.21426%204.78591%206.09096%204.94133L5.15763%206.1178C4.9669%206.35822%204.9703%206.69928%205.16579%206.93584L7.49913%209.75937C7.62261%209.9088%207.80634%209.99531%208.00018%209.99531C8.19402%209.99531%208.37775%209.9088%208.50123%209.75937L10.8346%206.93584C11.0301%206.69928%2011.0335%206.35822%2010.8427%206.1178L9.9094%204.94133C9.7861%204.78591%209.59857%204.69531%209.40018%204.69531H6.60018ZM6.50317%206.51343L6.91422%205.99531H9.08614L9.49718%206.51343L8.00018%208.32494L6.50317%206.51343Z'%20fill='%23262626'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.33335%201.34961C0.974365%201.34961%200.68335%201.64062%200.68335%201.99961V11.9996C0.68335%2012.3586%200.974365%2012.6496%201.33335%2012.6496H6.06411L7.5404%2014.1259C7.79424%2014.3797%208.2058%2014.3797%208.45964%2014.1259L9.93592%2012.6496H14.6667C15.0257%2012.6496%2015.3167%2012.3586%2015.3167%2011.9996V1.99961C15.3167%201.64062%2015.0257%201.34961%2014.6667%201.34961H1.33335ZM1.98335%2011.3496V2.64961H14.0167V11.3496H9.66668C9.49429%2011.3496%209.32896%2011.4181%209.20706%2011.54L8.00002%2012.747L6.79297%2011.54C6.67107%2011.4181%206.50574%2011.3496%206.33335%2011.3496H1.98335Z'%20fill='%23262626'/%3e%3c/svg%3e",zp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2373F'/%3e%3cpath%20d='M13.7917%2015.8333C14.436%2015.8333%2014.9583%2015.311%2014.9583%2014.6667C14.9583%2014.0223%2014.436%2013.5%2013.7917%2013.5C13.1473%2013.5%2012.625%2014.0223%2012.625%2014.6667C12.625%2015.311%2013.1473%2015.8333%2013.7917%2015.8333Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.20817%206.50008C6.85249%206.50008%207.37484%205.97774%207.37484%205.33341C7.37484%204.68908%206.85249%204.16675%206.20817%204.16675C5.56384%204.16675%205.0415%204.68908%205.0415%205.33341C5.0415%205.97774%205.56384%206.50008%206.20817%206.50008Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.20817%2015.8333C6.85249%2015.8333%207.37484%2015.311%207.37484%2014.6667C7.37484%2014.0223%206.85249%2013.5%206.20817%2013.5C5.56384%2013.5%205.0415%2014.0223%205.0415%2014.6667C5.0415%2015.311%205.56384%2015.8333%206.20817%2015.8333Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.2085%206.5V13.5'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%205.91675H12.625C13.2693%205.91675%2013.7917%206.43909%2013.7917%207.08341V13.5001'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.75%207.66675L10%205.91675L11.75%204.16675'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Up="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%231505hnxd3__clip0_717_7570)'%3e%3cpath%20d='M14.6667%208.00016C14.6667%2011.6821%2011.682%2014.6668%208.00005%2014.6668C6.00889%2014.6668%201.33337%2014.6668%201.33337%2014.6668C1.33337%2014.6668%201.33337%209.6909%201.33337%208.00016C1.33337%204.31826%204.31815%201.3335%208.00005%201.3335C11.682%201.3335%2014.6667%204.31826%2014.6667%208.00016Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.33028%207.80445H5.3211C5.28217%207.80445%205.24483%207.7894%205.21731%207.7626C5.18978%207.73581%205.17431%207.69948%205.17431%207.66159V5.57143C5.17431%205.25584%204.91145%205%204.58716%205C4.26288%205%204%205.25584%204%205.57143V11.4286C4%2011.7442%204.26288%2012%204.58716%2012C4.91145%2012%205.17431%2011.7442%205.17431%2011.4286V9.09016C5.17431%209.05227%205.18978%209.01594%205.21731%208.98915C5.24483%208.96235%205.28217%208.9473%205.3211%208.9473H8.33028C8.36921%208.9473%208.40654%208.96235%208.43407%208.98915C8.4616%209.01594%208.47706%209.05227%208.47706%209.09016V11.4286C8.47706%2011.7442%208.73994%2012%209.06422%2012C9.38851%2012%209.65138%2011.7442%209.65138%2011.4286V5.57143C9.65138%205.25584%209.38851%205%209.06422%205C8.73994%205%208.47706%205.25584%208.47706%205.57143V7.66159C8.47706%207.69948%208.4616%207.73581%208.43407%207.7626C8.40654%207.7894%208.36921%207.80445%208.33028%207.80445Z'%20fill='currentColor'/%3e%3cpath%20d='M12%207.57143C12%207.25584%2011.7371%207%2011.4128%207C11.0886%207%2010.8257%207.25584%2010.8257%207.57143V11.4286C10.8257%2011.7442%2011.0886%2012%2011.4128%2012C11.7371%2012%2012%2011.7442%2012%2011.4286V7.57143Z'%20fill='currentColor'/%3e%3cpath%20d='M12%205.57143C12%205.25584%2011.7371%205%2011.4128%205C11.0886%205%2010.8257%205.25584%2010.8257%205.57143V6C10.8257%206.31559%2011.0886%206.57143%2011.4128%206.57143C11.7371%206.57143%2012%206.31559%2012%206V5.57143Z'%20fill='currentColor'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='1505hnxd3__clip0_717_7570'%3e%3cpath%20fill='currentColor'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Gp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M28.7445%2015.6937L24.1654%2033.5977C24.1533%2033.6469%2024.1533%2033.6984%2024.1654%2033.7476C24.1834%2033.8217%2024.2261%2033.8873%2024.2866%2033.9337C24.347%2033.9801%2024.4215%2034.0044%2024.4977%2034.0026H33.6513C33.7018%2034.0038%2033.752%2033.9935%2033.7979%2033.9724C33.8439%2033.9514%2033.8844%2033.9202%2033.9166%2033.8812C33.9487%2033.8422%2033.9716%2033.7965%2033.9835%2033.7474C33.9953%2033.6982%2033.9959%2033.6471%2033.9851%2033.5977L29.3843%2015.6937C29.3684%2015.6425%2029.3405%2015.5959%2029.3028%2015.5576C29.2652%2015.5194%2029.219%2015.4907%2029.1681%2015.4739C29.1171%2015.4572%2029.0629%2015.4528%2029.01%2015.4612C28.957%2015.4696%2028.9068%2015.4905%2028.8635%2015.5222C28.8058%2015.5641%2028.7634%2015.6238%2028.743%2015.6922M3.54916%2019.7505L0.00236171%2033.5977C-0.00849118%2033.6471%20-0.00791318%2033.6984%200.00405171%2033.7475C0.0160166%2033.7967%200.0390523%2033.8425%200.0714016%2033.8814C0.103751%2033.9203%200.144559%2033.9513%200.190714%2033.9721C0.236868%2033.9928%200.28715%2034.0027%200.337723%2034.0011H7.40195C7.4527%2034.0023%207.50308%2033.9921%207.54937%2033.9713C7.59565%2033.9504%207.63664%2033.9194%207.66931%2033.8805C7.70094%2033.8418%207.72316%2033.7963%207.73422%2033.7476C7.74684%2033.6985%207.74737%2033.6471%207.73576%2033.5977L4.18588%2019.7505C4.16518%2019.6827%204.12284%2019.6236%204.06534%2019.5821C4.00823%2019.5406%203.93964%2019.5179%203.86906%2019.5172C3.7969%2019.5169%203.72654%2019.5397%203.66816%2019.5821C3.61123%2019.6238%203.56945%2019.6829%203.54916%2019.7505Z'%20fill='%2300E5E5'/%3e%3cpath%20d='M9.80218%208.28333L3.34222%2033.5946C3.33117%2033.6422%203.33099%2033.6916%203.3417%2033.7392C3.3524%2033.7869%203.37371%2033.8315%203.40404%2033.8697C3.43419%2033.9089%203.47277%2033.9407%203.51691%2033.9629C3.56106%2033.9851%203.60963%2033.9971%203.65904%2033.998H16.5836C16.6339%2033.9993%2016.6839%2033.9892%2016.7297%2033.9684C16.7756%2033.9477%2016.8162%2033.9168%2016.8484%2033.8782C16.8807%2033.8395%2016.9038%2033.7941%2016.916%2033.7452C16.9282%2033.6964%2016.9292%2033.6454%2016.9189%2033.5962L10.4404%208.28024C10.4197%208.21243%2010.3774%208.15326%2010.3199%208.11178C10.2624%208.06999%2010.1932%208.04729%2010.1221%208.04688C10.0505%208.04697%209.98068%208.06969%209.92272%208.11178C9.86495%208.15366%209.82258%208.2134%209.80218%208.28178'%20fill='%23006EFF'/%3e%3cpath%20d='M20.9478%200.233362C20.9271%200.165551%2020.8848%200.106385%2020.8273%200.0649087C20.7693%200.0228113%2020.6995%209.46324e-05%2020.6279%200C20.5568%200.000418756%2020.4876%200.0231196%2020.4301%200.0649087C20.3726%200.106385%2020.3303%200.165551%2020.3096%200.233362L11.4789%2033.5949C11.4683%2033.6441%2011.4691%2033.695%2011.4811%2033.7438C11.4931%2033.7927%2011.516%2033.8382%2011.5482%2033.8769C11.5803%2033.9156%2011.6208%2033.9464%2011.6667%2033.9672C11.7125%2033.988%2011.7624%2033.998%2011.8127%2033.9967H29.4617C29.5122%2033.9977%2029.5622%2033.9874%2029.6082%2033.9665C29.6542%2033.9457%2029.695%2033.9148%2029.7275%2033.8761C29.7596%2033.8374%2029.7829%2033.792%2029.7955%2033.7432C29.8067%2033.6944%2029.8067%2033.6437%2029.7955%2033.5949L20.9478%200.233362Z'%20fill='%23006EFF'/%3e%3cpath%20d='M14.46%2011.9634L8.85777%2033.5935C8.84549%2033.6427%208.8451%2033.6942%208.85666%2033.7437C8.86822%2033.7931%208.89138%2033.8391%208.92423%2033.8778C8.95652%2033.9172%208.9974%2033.9487%209.04375%2033.9699C9.09009%2033.991%209.14066%2034.0013%209.19159%2033.9999H20.3698C20.421%2034.0009%2020.4718%2033.9903%2020.5184%2033.9689C20.565%2033.9475%2020.6061%2033.9158%2020.6387%2033.8763C20.6702%2033.8371%2020.6925%2033.7913%2020.704%2033.7424C20.7155%2033.6935%2020.7159%2033.6426%2020.7051%2033.5935L15.0983%2011.9619C15.0773%2011.8946%2015.035%2011.836%2014.9777%2011.795C14.92%2011.7523%2014.8502%2011.7291%2014.7784%2011.7285C14.7071%2011.7294%2014.6379%2011.7526%2014.5806%2011.795C14.5233%2011.836%2014.481%2011.8946%2014.46%2011.9619'%20fill='%2300E5E5'/%3e%3c/svg%3e",Xp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2014%2014'%20class='design-iconfont'%3e%3cpath%20d='M11.375%201.75H2.625C2.14175%201.75%201.75%202.14175%201.75%202.625V11.375C1.75%2011.8583%202.14175%2012.25%202.625%2012.25H11.375C11.8583%2012.25%2012.25%2011.8583%2012.25%2011.375V2.625C12.25%202.14175%2011.8583%201.75%2011.375%201.75Z'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.25008%206.70964C6.05549%206.70964%206.70841%206.05671%206.70841%205.2513C6.70841%204.44589%206.05549%203.79297%205.25008%203.79297C4.44467%203.79297%203.79175%204.44589%203.79175%205.2513C3.79175%206.05671%204.44467%206.70964%205.25008%206.70964Z'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.25%2010.4987L9.04167%207.58203L6.125%2010.207L4.08333%208.45703L1.75%2010.207'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Zp="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%202C11%202%2014.3333%203.33333%2014.3333%208C14.3333%2012.6667%2011%2014%209%2014'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.7002%208L11%208'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%202C11%202%2014.3333%203.33333%2014.3333%208C14.3333%2012.6667%2011%2014%209%2014'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.9666%208L1.66672%208'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7%2012L11%208L7%204'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Yp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%233hri3uy6a__clip0_717_7539)'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linejoin='round'%3e%3cpath%20d='M7.99998%201.3335L5.99998%203.3335H3.33331V6.00016L1.33331%208.00016L3.33331%2010.0002V12.6668H5.99998L7.99998%2014.6668L9.99998%2012.6668H12.6666V10.0002L14.6666%208.00016L12.6666%206.00016V3.3335H9.99998L7.99998%201.3335Z'/%3e%3cpath%20d='M8%2010C9.10457%2010%2010%209.10457%2010%208C10%206.89543%209.10457%206%208%206C6.89543%206%206%206.89543%206%208C6%209.10457%206.89543%2010%208%2010Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='3hri3uy6a__clip0_717_7539'%3e%3cpath%20fill='currentColor'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",qp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%3e%3cg%20clip-path='url(%2385vsyxr4s__clip0_764_5339)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M7.52862%200.861766C7.78897%200.601417%208.21108%200.601417%208.47143%200.861766L10.2762%202.6665H12.6667C13.0349%202.6665%2013.3334%202.96498%2013.3334%203.33317V5.72369L15.1381%207.52843C15.3984%207.78878%2015.3984%208.21089%2015.1381%208.47124L13.3334%2010.276V12.6665C13.3334%2013.0347%2013.0349%2013.3332%2012.6667%2013.3332H10.2762L8.47143%2015.1379C8.21108%2015.3983%207.78897%2015.3983%207.52862%2015.1379L5.72388%2013.3332H3.33335C2.96516%2013.3332%202.66669%2013.0347%202.66669%2012.6665V10.276L0.861949%208.47124C0.6016%208.21089%200.6016%207.78878%200.861949%207.52843L2.66669%205.72369V3.33317C2.66669%202.96498%202.96516%202.6665%203.33335%202.6665H5.72388L7.52862%200.861766ZM5.33335%208.00016C5.33335%206.52741%206.52726%205.3335%208.00002%205.3335C9.47278%205.3335%2010.6667%206.52741%2010.6667%208.00016C10.6667%209.47292%209.47278%2010.6668%208.00002%2010.6668C6.52726%2010.6668%205.33335%209.47292%205.33335%208.00016Z'%20fill='currentColor'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='85vsyxr4s__clip0_764_5339'%3e%3cpath%20fill='%23fff'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Kp="/assets/img/jina-Ckh08GbV.svg",Jp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2338F'/%3e%3cpath%20d='M4.75%206.5893L6.53571%208.01787L9.77283%204.75023'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.25%2012.2498L15.25%2015.2498'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.25%2012.2498L12.25%2015.2498'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.781%205.21899L5.21862%2014.7813'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Qp="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2302BFBF'/%3e%3cpath%20d='M5.0415%2013.7916C5.0415%2011.5448%205.0415%206.20825%205.0415%206.20825C5.0415%205.24175%205.82501%204.45825%206.7915%204.45825H13.2082V12.0416C13.2082%2012.0416%208.31768%2012.0416%206.7915%2012.0416C5.829%2012.0416%205.0415%2012.8245%205.0415%2013.7916Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.2082%2012.0415C13.2082%2012.0415%207.128%2012.0415%206.7915%2012.0415C5.82501%2012.0415%205.0415%2012.825%205.0415%2013.7915C5.0415%2014.758%205.82501%2015.5415%206.7915%2015.5415C7.43582%2015.5415%2010.5469%2015.5415%2014.9582%2015.5415V5.0415'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.0835%2013.7915H12.9168'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",e3="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%232475FC'/%3e%3cg%20filter='url(%23filter0_d_1165_6566)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16%2011.5H10.5V26H17C18.6568%2026%2020%2027.3432%2020%2029C20%2027.3432%2021.3432%2026%2023%2026H29.5V11.5H24C21.7908%2011.5%2020%2013.2908%2020%2015.5C20%2013.2908%2018.2092%2011.5%2016%2011.5Z'%20fill='url(%23paint0_linear_1165_6566)'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.5%2011.5C9.5%2010.9477%209.94772%2010.5%2010.5%2010.5H16C17.6356%2010.5%2019.0878%2011.2853%2020%2012.4995C20.9122%2011.2853%2022.3644%2010.5%2024%2010.5H29.5C30.0523%2010.5%2030.5%2010.9477%2030.5%2011.5V26C30.5%2026.5523%2030.0523%2027%2029.5%2027H23C21.8954%2027%2021%2027.8954%2021%2029C21%2029.5523%2020.5523%2030%2020%2030C19.4477%2030%2019%2029.5523%2019%2029C19%2027.8954%2018.1046%2027%2017%2027H10.5C9.94772%2027%209.5%2026.5523%209.5%2026V11.5ZM20%2026.3542C20.7329%2025.5238%2021.8053%2025%2023%2025H28.5V12.5H24C22.3431%2012.5%2021%2013.8431%2021%2015.5C21%2016.0523%2020.5523%2016.5%2020%2016.5C19.4477%2016.5%2019%2016.0523%2019%2015.5C19%2013.8431%2017.6569%2012.5%2016%2012.5H11.5V25H17C18.1947%2025%2019.2671%2025.5238%2020%2026.3542Z'%20fill='url(%23paint1_linear_1165_6566)'/%3e%3c/g%3e%3cpath%20d='M22.0001%2022L24%2019L22.0001%2016H18L16%2019L18%2022H22.0001Z'%20stroke='%232475FC'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cdefs%3e%3cfilter%20id='filter0_d_1165_6566'%20x='5.5'%20y='8.5'%20width='29'%20height='27.5'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20type='matrix'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='2'/%3e%3cfeGaussianBlur%20stdDeviation='2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20type='matrix'%20values='0%200%200%200%200.070708%200%200%200%200%200.175495%200%200%200%200%200.348845%200%200%200%200.32%200'/%3e%3cfeBlend%20mode='normal'%20in2='BackgroundImageFix'%20result='effect1_dropShadow_1165_6566'/%3e%3cfeBlend%20mode='normal'%20in='SourceGraphic'%20in2='effect1_dropShadow_1165_6566'%20result='shape'/%3e%3c/filter%3e%3clinearGradient%20id='paint0_linear_1165_6566'%20x1='9.5'%20y1='20.25'%20x2='30.5'%20y2='20.25'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EBF3FF'/%3e%3cstop%20offset='1'%20stop-color='%23C2D9FF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_1165_6566'%20x1='9.5'%20y1='20.25'%20x2='30.5'%20y2='20.25'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EBF3FF'/%3e%3cstop%20offset='1'%20stop-color='%23C2D9FF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",t3="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%23A1A7B3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16%2011.5H10.5V26H17C18.6568%2026%2020%2027.3432%2020%2029C20%2027.3432%2021.3432%2026%2023%2026H29.5V11.5H24C21.7908%2011.5%2020%2013.2908%2020%2015.5C20%2013.2908%2018.2092%2011.5%2016%2011.5Z'%20fill='%233A4559'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.5%2011.5C9.5%2010.9477%209.94772%2010.5%2010.5%2010.5H16C17.6356%2010.5%2019.0878%2011.2853%2020%2012.4995C20.9122%2011.2853%2022.3644%2010.5%2024%2010.5H29.5C30.0523%2010.5%2030.5%2010.9477%2030.5%2011.5V26C30.5%2026.5523%2030.0523%2027%2029.5%2027H23C21.8954%2027%2021%2027.8954%2021%2029C21%2029.5523%2020.5523%2030%2020%2030C19.4477%2030%2019%2029.5523%2019%2029C19%2027.8954%2018.1046%2027%2017%2027H10.5C9.94772%2027%209.5%2026.5523%209.5%2026V11.5ZM20%2026.3542C20.7329%2025.5238%2021.8053%2025%2023%2025H28.5V12.5H24C22.3431%2012.5%2021%2013.8431%2021%2015.5C21%2016.0523%2020.5523%2016.5%2020%2016.5C19.4477%2016.5%2019%2016.0523%2019%2015.5C19%2013.8431%2017.6569%2012.5%2016%2012.5H11.5V25H17C18.1947%2025%2019.2671%2025.5238%2020%2026.3542Z'%20fill='%233A4559'/%3e%3cpath%20d='M22.0001%2022L24%2019L22.0001%2016H18L16%2019L18%2022H22.0001Z'%20stroke='white'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",n3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%234B73FF'/%3e%3cpath%20d='M28.4251%2029.1895C27.8796%2029.1895%2027.7214%2028.4858%2027.7214%2028.4858C27.7214%2028.0003%2027.5687%2027.7821%2027.0177%2027.7821H12.2072C11.6617%2027.7821%2011.5035%2027.9348%2011.5035%2028.4858C11.5035%2028.4858%2011.3835%2029.1895%2010.7998%2029.1895C9.44148%2029.1895%208.68323%2030.6078%208.68323%2032.0098H30.5417C30.5417%2029.8932%2028.4251%2029.1895%2028.4251%2029.1895ZM22.5991%2017.412L25.5448%2014.4663C25.6092%2014.5309%2025.6857%2014.5822%2025.77%2014.6172C25.8542%2014.6523%2025.9445%2014.6703%2026.0358%2014.6703C26.127%2014.6703%2026.2174%2014.6523%2026.3016%2014.6172C26.3859%2014.5822%2026.4624%2014.5309%2026.5267%2014.4663C26.655%2014.334%2026.7268%2014.1569%2026.7268%2013.9726C26.7268%2013.7883%2026.655%2013.6112%2026.5267%2013.4789L21.3008%208.20933C21.1694%208.08137%2020.9932%208.00977%2020.8098%208.00977C20.6264%208.00977%2020.4503%208.08137%2020.3189%208.20933C20.2542%208.2737%2020.2029%208.3502%2020.1679%208.43446C20.1329%208.51871%2020.1149%208.60905%2020.1149%208.70028C20.1149%208.79152%2020.1329%208.88185%2020.1679%208.96611C20.2029%209.05036%2020.2542%209.12687%2020.3189%209.19124L12.9545%2016.5501C12.8231%2016.4222%2012.647%2016.3506%2012.4636%2016.3506C12.2802%2016.3506%2012.104%2016.4222%2011.9726%2016.5501V16.5774C11.908%2016.6418%2011.8567%2016.7183%2011.8217%2016.8025C11.7867%2016.8868%2011.7686%2016.9771%2011.7686%2017.0683C11.7686%2017.1596%2011.7867%2017.2499%2011.8217%2017.3342C11.8567%2017.4184%2011.908%2017.4949%2011.9726%2017.5593L17.2204%2022.8125C17.2848%2022.8772%2017.3613%2022.9285%2017.4455%2022.9635C17.5298%2022.9985%2017.6201%2023.0165%2017.7114%2023.0165C17.8026%2023.0165%2017.8929%2022.9985%2017.9772%2022.9635C18.0614%2022.9285%2018.1379%2022.8772%2018.2023%2022.8125L18.2296%2022.7853C18.3575%2022.6539%2018.4291%2022.4777%2018.4291%2022.2943C18.4291%2022.1109%2018.3575%2021.9347%2018.2296%2021.8033L21.1753%2018.8631L28.8124%2027.0457C29.0786%2027.3119%2029.4397%2027.4614%2029.8161%2027.4614C30.1926%2027.4614%2030.5537%2027.3119%2030.8199%2027.0457C31.0861%2026.7795%2031.2356%2026.4184%2031.2356%2026.0419C31.2356%2025.6655%2031.0861%2025.3044%2030.8199%2025.0382L22.5991%2017.412Z'%20fill='%23EBEFFF'/%3e%3c/svg%3e",r3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1%202.83478C1%202.37374%201.37374%202%201.83478%202H14.3565C14.8176%202%2015.1913%202.37374%2015.1913%202.83478V10.3478C15.1913%2010.8089%2014.8176%2011.1826%2014.3565%2011.1826H8.93043V12.3304H13.1043C13.5654%2012.3304%2013.9391%2012.7042%2013.9391%2013.1652C13.9391%2013.6263%2013.5654%2014%2013.1043%2014H3.08696C2.62592%2014%202.25217%2013.6263%202.25217%2013.1652C2.25217%2012.7042%202.62592%2012.3304%203.08696%2012.3304H7.26087V11.1826H1.83478C1.37374%2011.1826%201%2010.8089%201%2010.3478V2.83478ZM6.18159%203.49668C6.50759%203.82268%206.50759%204.35123%206.18159%204.67724L4.26752%206.5913L6.18159%208.50537C6.50759%208.83137%206.50759%209.35993%206.18159%209.68593C5.85558%2010.0119%205.32703%2010.0119%205.00102%209.68593L2.49668%207.18158C2.17067%206.85558%202.17067%206.32703%202.49668%206.00102L5.00102%203.49668C5.32703%203.17067%205.85558%203.17067%206.18159%203.49668ZM10.0097%204.67724C9.68372%204.35123%209.68372%203.82268%2010.0097%203.49668C10.3357%203.17067%2010.8643%203.17067%2011.1903%203.49668L13.6946%206.00102C14.0206%206.32703%2014.0206%206.85558%2013.6946%207.18158L11.1903%209.68593C10.8643%2010.0119%2010.3357%2010.0119%2010.0097%209.68593C9.68372%209.35993%209.68372%208.83137%2010.0097%208.50537L11.9238%206.5913L10.0097%204.67724Z'%20fill='currentColor'/%3e%3c/svg%3e",i3="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.2%2010.2V7.80001C13.2%206.80589%2012.3941%206%2011.4%206L9%2011.4V18H15.972C16.5704%2018.0068%2017.0823%2017.5716%2017.172%2016.98L18%2011.58C18.0528%2011.2319%2017.9501%2010.8782%2017.7191%2010.6125C17.4881%2010.3468%2017.1521%2010.196%2016.8%2010.2H13.2Z'%20fill='%232475FC'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%2011.3332H7.398C6.69511%2011.3208%206.09423%2011.903%206%2012.5996V16.7996C6.09423%2017.4963%206.69511%2018.0121%207.398%2017.9996H9V11.3332Z'%20fill='%232475FC'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3c/svg%3e",o3="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1743666295154'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='16609'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M841.900615%20408.186609%20664.015206%20408.186609c-4.087085%200-7.605212-1.823532-9.635451-4.979408-2.044566-3.188622-2.387373-6.788613-0.932232-10.313903%2010.105149-19.105127%2057.494459-115.41052%2044.899606-217.797421-3.51915-28.749788-18.948561-67.455321-72.482825-88.576361-13.886265-5.465478-39.682791-8.026814-59.192124-8.601912-46.860261-1.38044-56.329936%207.693216-60.373019%2011.568477-0.164752%200.155543-0.324388%200.316202-0.484024%200.476861C490.730581%20105.371886%20491.958548%20127.455857%20493.514997%20155.415652c0.795109%2014.287401%201.694595%2030.466895%200.857531%2048.953945-4.579295%2049.570999-11.171434%2076.334549-24.283056%2098.636484-40.689724%2069.270666-109.423155%20104.141872-122.656551%20105.213273l-96.509031%200L86.587054%20408.219355c-11.761881%200-21.296025%209.534144-21.296025%2021.296025L65.291029%20844.261383c0%2011.760858%209.534144%2021.296025%2021.296025%2021.296025l164.337859%200c0.858554%200%201.700735-0.065492%202.533706-0.164752l104.601336%200c1.191128%200.969071%202.534729%202.081405%203.739161%203.082198%2022.952758%2019.025309%2083.921341%2069.563332%20184.571692%2069.563332l209.634508%200c53.634548%200%2096.863095-29.224602%20112.819508-76.270081%200.13917-0.409322%200.26606-0.823761%200.38067-1.24127%202.246157-8.247848%208.025791-25.420973%2015.344476-47.162136%2027.735691-82.408895%2074.159-220.339314%2074.159-294.15653C958.708971%20446.576965%20918.317029%20408.186609%20841.900615%20408.186609zM107.883079%20450.812429l121.744785%200%200%20372.152928L107.883079%20822.965357%20107.883079%20450.812429zM844.182588%20799.778262c-7.649214%2022.723537-13.225209%2039.289841-15.882736%2048.862871-10.205433%2029.319769-37.183877%2046.803979-72.293513%2046.803979l-209.634508%200c-85.292572%200-135.816269-41.879829-157.38961-59.763129-9.691733-8.03193-15.541975-12.881378-24.845874-12.881378l-91.914386%200L272.221962%20450.812429l75.364455%200c20.070104%200%2051.52142-17.555841%2074.262354-33.985022%2024.394596-17.623379%2058.936297-47.932686%2084.96409-92.242867%2019.039635-32.386618%2025.602098-68.703755%2030.019711-116.802216%200.029676-0.317225%200.051165-0.63445%200.066515-0.952698%200.975211-20.862143-0.039909-39.114856-0.855484-53.780881-0.63445-11.403724-1.402953-25.209148-0.179079-31.395034%2015.941064-3.081175%2061.369719-0.632403%2074.387197%204.490268%2027.712155%2010.934027%2042.701544%2028.639271%2045.822628%2054.138014%2011.341303%2092.193749-35.07689%20182.903703-40.407292%20192.944384-0.493234%200.932232-0.74906%201.486864-0.74906%201.486864-7.703449%2016.70138-6.353708%2035.947723%203.624551%2051.509141%209.889231%2015.376199%2026.888394%2024.556279%2045.473681%2024.556279l177.88541%200c52.712549%200%2074.215282%2019.825534%2074.215282%2068.429509C916.115897%20586.05053%20869.322152%20725.084073%20844.182588%20799.778262z'%20fill='%23000'%20p-id='16610'%3e%3c/path%3e%3c/svg%3e",s3="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.2%2010.2V7.80001C13.2%206.80589%2012.3941%206%2011.4%206L9%2011.4V18H15.972C16.5704%2018.0068%2017.0823%2017.5716%2017.172%2016.98L18%2011.58C18.0528%2011.2319%2017.9501%2010.8782%2017.7191%2010.6125C17.4881%2010.3468%2017.1521%2010.196%2016.8%2010.2H13.2Z'%20stroke='%237A8699'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%2011.3332H7.398C6.69511%2011.3208%206.09423%2011.903%206%2012.5996V16.7996C6.09423%2017.4963%206.69511%2018.0121%207.398%2017.9996H9V11.3332Z'%20stroke='%237A8699'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3c/svg%3e",a3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M17%2034C26.3889%2034%2034%2026.3889%2034%2017C34%207.6111%2026.3889%200%2017%200C7.6111%200%200%207.6111%200%2017C0%2026.3889%207.6111%2034%2017%2034Z'%20fill='%23003425'/%3e%3cpath%20d='M25.6199%2020.4704C25.6199%2020.1519%2025.4934%2019.8465%2025.2682%2019.6213C25.043%2019.3961%2024.7375%2019.2695%2024.419%2019.2695C24.1005%2019.2695%2023.7951%2019.3961%2023.5699%2019.6213C23.3447%2019.8465%2023.2181%2020.1519%2023.2181%2020.4704V26.6619C23.2181%2026.9804%2023.3447%2027.2859%2023.5699%2027.5111C23.7951%2027.7363%2024.1005%2027.8628%2024.419%2027.8628C24.7375%2027.8628%2025.043%2027.7363%2025.2682%2027.5111C25.4934%2027.2859%2025.6199%2026.9804%2025.6199%2026.6619V20.4704Z'%20fill='%23fff'/%3e%3cpath%20d='M23.9137%207.55569C23.7936%207.4535%2023.6545%207.37597%2023.5044%207.32755C23.3543%207.27912%2023.1961%207.26073%2023.0389%207.27343C22.8817%207.28614%2022.7286%207.32969%2022.5882%207.40159C22.4478%207.4735%2022.323%207.57235%2022.2208%207.6925L15.5098%2015.5838C15.343%2015.7792%2015.2436%2016.0232%2015.2263%2016.2795C15.2168%2016.3402%2015.2119%2016.4019%2015.2119%2016.4653V26.5533C15.2119%2026.8717%2015.3384%2027.1772%2015.5636%2027.4024C15.7889%2027.6276%2016.0943%2027.7541%2016.4128%2027.7541C16.7313%2027.7541%2017.0367%2027.6276%2017.2619%2027.4024C17.4872%2027.1772%2017.6137%2026.8717%2017.6137%2026.5533V16.8167L24.0506%209.24861C24.1527%209.12848%2024.2303%208.98939%2024.2787%208.83929C24.3271%208.68919%2024.3455%208.53102%2024.3328%208.37381C24.3201%208.2166%2024.2766%208.06344%2024.2046%207.92306C24.1327%207.78269%2024.0339%207.65785%2023.9137%207.55569Z'%20fill='%23fff'/%3e%3cpath%20d='M9.07729%207.0138C8.97731%206.89184%208.85429%206.79076%208.71524%206.71634C8.5762%206.64192%208.42386%206.59561%208.26692%206.58007C8.10999%206.56452%207.95152%206.58004%207.80058%206.62573C7.64964%206.67143%207.50918%206.74641%207.38721%206.84638C7.26525%206.94636%207.16417%207.06939%207.08975%207.20843C7.01533%207.34747%206.96903%207.49981%206.95348%207.65675C6.93793%207.81369%206.95345%207.97215%206.99915%208.12309C7.04484%208.27403%207.11982%208.41449%207.2198%208.53646L11.9749%2014.3369C12.1768%2014.5832%2012.4683%2014.7393%2012.7853%2014.7707C13.1023%2014.8021%2013.4188%2014.7063%2013.6651%2014.5044C13.9115%2014.3025%2014.0675%2014.011%2014.0989%2013.694C14.1304%2013.377%2014.0346%2013.0606%2013.8327%2012.8142L9.07701%207.0138H9.07729Z'%20fill='%23fff'/%3e%3cpath%20d='M26.0739%2017.2931C26.4632%2017.2931%2026.8366%2017.1385%2027.1119%2016.8632C27.3871%2016.5879%2027.5418%2016.2146%2027.5418%2015.8253C27.5418%2015.436%2027.3871%2015.0626%2027.1119%2014.7873C26.8366%2014.5121%2026.4632%2014.3574%2026.0739%2014.3574C25.6846%2014.3574%2025.3113%2014.5121%2025.036%2014.7873C24.7607%2015.0626%2024.6061%2015.436%2024.6061%2015.8253C24.6061%2016.2146%2024.7607%2016.5879%2025.036%2016.8632C25.3113%2017.1385%2025.6846%2017.2931%2026.0739%2017.2931Z'%20fill='%2300FF25'/%3e%3c/svg%3e",l3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M7.25319%205.45723L10.2999%202.41057C11.187%201.52346%2012.6448%201.543%2013.556%202.45422C14.4673%203.36543%2014.4868%204.8233%2013.5997%205.7104L10.9546%208.3555'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.03249%207.66797L2.38739%2010.3131C1.50025%2011.2002%201.51982%2012.658%202.43102%2013.5693C3.34225%2014.4805%204.80009%2014.5%205.68722%2013.6129L8.73389%2010.5662'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.29688%208.71323C6.38564%207.802%206.36611%206.34416%207.25321%205.45703'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.73376%207.26562C9.64499%208.17686%209.66453%209.63469%208.77743%2010.5218'%20stroke='%232475FC'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",u3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M7.25319%205.45723L10.2999%202.41057C11.187%201.52346%2012.6448%201.543%2013.556%202.45422C14.4673%203.36543%2014.4868%204.8233%2013.5997%205.7104L10.9546%208.3555'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.03249%207.66797L2.38739%2010.3131C1.50025%2011.2002%201.51982%2012.658%202.43102%2013.5693C3.34225%2014.4805%204.80009%2014.5%205.68722%2013.6129L8.73389%2010.5662'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.29688%208.71323C6.38564%207.802%206.36611%206.34416%207.25321%205.45703'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.73376%207.26562C9.64499%208.17686%209.66453%209.63469%208.77743%2010.5218'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",d3="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.74681%205.45772L5.70014%202.41106C4.81304%201.52395%203.35521%201.54349%202.44397%202.45471C1.53274%203.36592%201.5132%204.82379%202.40032%205.71089L5.04541%208.35599'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.9675%207.66797L13.6126%2010.3131C14.4997%2011.2002%2014.4802%2012.658%2013.569%2013.5693C12.6577%2014.4805%2011.1999%2014.5%2010.3128%2013.6129L7.26611%2010.5662'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.70312%208.71372C9.61436%207.80249%209.63389%206.34465%208.74679%205.45752'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.26624%207.26611C6.35501%208.17735%206.33547%209.63518%207.22257%2010.5223'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",c3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M8.01777%2015C6.1434%2015%204.3823%2014.2716%203.05647%2012.9502C1.73065%2011.6288%201%209.86992%201%208C1%206.13008%201.73065%204.37119%203.05647%203.04981C4.3823%201.72843%206.1434%201%208.01777%201C9.02157%201%209.99207%201.20654%2010.9004%201.61739C11.2357%201.7684%2011.3867%202.16371%2011.2357%202.49905C11.0847%202.83439%2010.6894%202.98541%2010.3541%202.83439C9.61897%202.50349%208.83281%202.33471%208.01777%202.33471C6.50095%202.33471%205.07297%202.92322%204.00032%203.99365C2.92766%205.06409%202.33693%206.48541%202.33693%207.99778C2.33693%209.51015%202.92766%2010.9337%204.00032%2012.0019C5.07297%2013.0723%206.50095%2013.6608%208.01777%2013.6608C9.43465%2013.6608%2010.7916%2013.139%2011.8376%2012.1885C12.8769%2011.2468%2013.5276%2010.0187%2013.6697%208.63071C13.7075%208.26428%2014.0339%207.99778%2014.4004%208.03331C14.7668%208.07107%2015.0333%208.39753%2014.9978%208.76396C14.8223%2010.4806%2014.0184%2012.0108%2012.7348%2013.1745C11.4423%2014.3537%209.76555%2015%208.01777%2015Z'%20fill='%232475FC'/%3e%3cpath%20d='M14.3205%202.46245C14.0606%202.20039%2013.6387%202.20039%2013.3766%202.46022L7.94673%207.87456L5.59267%205.52717C5.33061%205.26733%204.90866%205.26733%204.64882%205.52939C4.38899%205.79144%204.38899%206.2134%204.65104%206.47323L7.47592%209.29144C7.60695%209.42247%207.77573%209.48687%207.94673%209.48687C8.11773%209.48687%208.28873%209.42247%208.41976%209.29144L14.3182%203.40629C14.5803%203.14423%2014.5803%202.72228%2014.3205%202.46245Z'%20fill='%232475FC'/%3e%3c/svg%3e",f3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M4.83341%202.66797C4.61361%202.79348%204.40215%202.93165%204.20008%203.08147C3.85425%203.33787%203.53588%203.62844%203.25008%203.94804C2.26467%205.05007%201.66675%206.49767%201.66675%208.08314C1.66675%2011.5357%204.50228%2014.3346%208.00008%2014.3346C11.4979%2014.3346%2014.3334%2011.5357%2014.3334%208.08314C14.3334%206.49767%2013.7355%205.05007%2012.7501%203.94804C12.4643%203.62844%2012.1459%203.33787%2011.8001%203.08147C11.598%202.93165%2011.3865%202.79348%2011.1667%202.66797'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%201.33203V7.9987'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",h3="/assets/img/manufacture-Y0ZEk7jW.svg",p3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%2300D273'/%3e%3cpath%20d='M27.3451%2012.2343H26.0993V10.3765C26.0993%209.61945%2025.2848%209%2024.2889%209H15.7086C14.7127%209%2013.8979%209.61945%2013.8979%2010.3765V12.2343H12.6521C10.8539%2012.2343%209.38257%2013.7057%209.38257%2015.5039V27.7302C9.38257%2029.5286%2010.8539%2031%2012.6521%2031H27.3451C29.1436%2031%2030.6149%2029.5286%2030.6149%2027.7302V15.5039C30.6149%2013.7057%2029.1436%2012.2343%2027.3451%2012.2343ZM24.4946%2022.7663C24.4938%2023.0551%2024.3787%2023.3319%2024.1745%2023.5361C23.9702%2023.7403%2023.6935%2023.8554%2023.4047%2023.8563H21.8655V25.3963C21.8646%2025.6851%2021.7495%2025.9618%2021.5453%2026.1661C21.3411%2026.3703%2021.0643%2026.4854%2020.7755%2026.4862H19.2228C18.934%2026.4854%2018.6572%2026.3703%2018.453%2026.1661C18.2488%2025.9618%2018.1337%2025.6851%2018.1328%2025.3963V23.8563H16.5928C16.3042%2023.8552%2016.0277%2023.7399%2015.8237%2023.5357C15.6197%2023.3315%2015.5048%2023.055%2015.5039%2022.7663V21.2133C15.5048%2020.9245%2015.6199%2020.6478%2015.8241%2020.4436C16.0283%2020.2393%2016.3051%2020.1242%2016.5939%2020.1234H18.1339V18.5842C18.1347%2018.2954%2018.2498%2018.0186%2018.4541%2017.8144C18.6583%2017.6102%2018.935%2017.4951%2019.2238%2017.4942H20.7758C21.0646%2017.4951%2021.3412%2017.6103%2021.5454%2017.8145C21.7496%2018.0187%2021.8646%2018.2954%2021.8655%2018.5842V20.1244H23.4055C23.694%2020.1255%2023.9704%2020.2405%2024.1744%2020.4445C24.3784%2020.6485%2024.4935%2020.9248%2024.4946%2021.2133V22.7663ZM24.5161%2012.2343H15.4822V11.1494C15.4822%2010.6458%2016.0256%2010.2317%2016.6893%2010.2317H23.3082C23.9722%2010.2317%2024.5153%2010.6447%2024.5153%2011.1494L24.5161%2012.2343Z'%20fill='%23EBFFF6'/%3e%3c/svg%3e",v3="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.0166%203.6666C2.0166%203.30762%202.30762%203.0166%202.6666%203.0166H13.9999C14.3589%203.0166%2014.6499%203.30762%2014.6499%203.6666C14.6499%204.02559%2014.3589%204.3166%2013.9999%204.3166H2.6666C2.30762%204.3166%202.0166%204.02559%202.0166%203.6666Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.0166%207.99998C2.0166%207.64099%202.30762%207.34998%202.6666%207.34998H13.9999C14.3589%207.34998%2014.6499%207.64099%2014.6499%207.99998C14.6499%208.35896%2014.3589%208.64998%2013.9999%208.64998H2.6666C2.30762%208.64998%202.0166%208.35896%202.0166%207.99998Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.0166%2012.3333C2.0166%2011.9744%202.30762%2011.6833%202.6666%2011.6833H7.99994C8.35892%2011.6833%208.64994%2011.9744%208.64994%2012.3333C8.64994%2012.6923%208.35892%2012.9833%207.99994%2012.9833H2.6666C2.30762%2012.9833%202.0166%2012.6923%202.0166%2012.3333Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.4595%2013.0119C14.7134%2012.758%2014.7134%2012.3465%2014.4595%2012.0926L12.5739%2010.207C12.32%209.95321%2011.9085%209.95321%2011.6547%2010.207L9.76902%2012.0926C9.51518%2012.3465%209.51517%2012.758%209.76901%2013.0119C10.0229%2013.2657%2010.4344%2013.2657%2010.6883%2013.0119L12.1143%2011.5859L13.5403%2013.0119C13.7941%2013.2657%2014.2057%2013.2657%2014.4595%2013.0119Z'%20fill='currentColor'/%3e%3c/svg%3e",g3="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.6668%202H1.3335V12H4.3335V13.6667L7.66683%2012H14.6668V2Z'%20stroke='%233A4559'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.6665%206.5V7.5'%20stroke='%233A4559'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%206.5V7.5'%20stroke='%233A4559'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3335%206.5V7.5'%20stroke='%233A4559'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",m3="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3%208H13'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",y3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M13.3334%2011L14.6667%2012.3333L13.3334%2013.6667'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.3333%202.33398L14.6666%203.66732L13.3333%205.00065'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.6667%203.66602H12.3333C9.9401%203.66602%208%205.60612%208%207.99935C8%2010.3926%209.9401%2012.3327%2012.3333%2012.3327H14.6667'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'/%3e%3cpath%20d='M1.33325%2012.3327H3.66659C6.05982%2012.3327%207.99992%2010.3926%207.99992%207.99935C7.99992%205.60612%206.05982%203.66602%203.66659%203.66602H1.33325'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'/%3e%3c/svg%3e",_3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2080%2080'%20class='design-iconfont'%3e%3cg%20clip-path='url(%2347w73pk4d__clip0_1039_22435)'%3e%3cg%20clip-path='url(%2347w73pk4d__clip1_1039_22435)'%20opacity='.4'%3e%3cg%20filter='url(%2347w73pk4d__filter0_f_1039_22435)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M21.8912%2078.8171L69.6967%20106.419L103.421%2074.3703L48.6269%2063.7988L21.8912%2078.8171Z'%20fill='%23595656'%20fill-opacity='.316569'/%3e%3c/g%3e%3cpath%20d='M39.7888%2098.8554L0%2073.8278V55.9844L39.7888%2080.9808V98.8554Z'%20fill='%23B6D5FF'/%3e%3cpath%20d='M39.7888%2098.8554L79.5788%2073.8278V55.9844L39.7888%2080.9808V98.8554Z'%20fill='%2395AFE7'/%3e%3cpath%20d='M79.5788%2055.9853L39.7888%2080.9817L0%2055.9853L39.7888%2034.6465L79.5788%2055.9853Z'%20fill='url(%2347w73pk4d__paint0_linear_1039_22435)'/%3e%3cg%20filter='url(%2347w73pk4d__filter1_f_1039_22435)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.4281%2049.5299L40.3739%2068.5997L79.8781%2046.8609L45.6531%2026.9082L11.4281%2049.5299Z'%20fill='%235F6FA5'%20fill-opacity='.13537'/%3e%3c/g%3e%3cpath%20d='M39.7888%2064.2089L0%2039.1813V21.3379L39.7888%2046.3343V64.2089Z'%20fill='%235DA4FF'/%3e%3cpath%20d='M39.7888%2064.2089L79.5788%2039.1813V21.3379L39.7888%2046.3343V64.2089Z'%20fill='url(%2347w73pk4d__paint1_linear_1039_22435)'/%3e%3cpath%20d='M79.5788%2021.3388L39.7888%2046.3352L0%2021.3388L39.7888%200L79.5788%2021.3388Z'%20fill='url(%2347w73pk4d__paint2_linear_1039_22435)'/%3e%3cpath%20d='M25.454%2022.823L23.6475%2012.0281L32.6466%2011.95L36.1409%2011.8948L37.0249%2011.86L37.3552%2011.8203L38.1216%2016.0604L29.168%2016.0592L30.0365%2022.8243L25.454%2022.823Z'%20fill='%231960D1'/%3e%3cpath%20d='M39.9016%2030.3349L52.1632%2030.3361L52.1392%2020.8565L52.162%2018.8926H46.8336V25.6047L39.9016%2025.6035V30.3349Z'%20fill='%231960D1'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='47w73pk4d__paint0_linear_1039_22435'%20x1='57.3672'%20y1='51.0575'%20x2='39.8147'%20y2='72.254'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23A5BFFF'/%3e%3cstop%20offset='1'%20stop-color='%23B5D7FF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='47w73pk4d__paint1_linear_1039_22435'%20x1='67.7313'%20y1='32.6614'%20x2='46.8586'%20y2='60.3491'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%233E83EE'/%3e%3cstop%20offset='1'%20stop-color='%235986F0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='47w73pk4d__paint2_linear_1039_22435'%20x1='64.0878'%20y1='16.8856'%20x2='16.6444'%20y2='55.0542'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23459FFF'/%3e%3cstop%20offset='1'%20stop-color='%234B95F2'/%3e%3c/linearGradient%3e%3cclipPath%20id='47w73pk4d__clip0_1039_22435'%3e%3cpath%20fill='%23fff'%20d='M0%200H80V80H0z'/%3e%3c/clipPath%3e%3cclipPath%20id='47w73pk4d__clip1_1039_22435'%3e%3cpath%20fill='%23fff'%20d='M0%200H123V123H0z'/%3e%3c/clipPath%3e%3cfilter%20id='47w73pk4d__filter0_f_1039_22435'%20x='-78.1088'%20y='-36.2012'%20width='281.53'%20height='242.619'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='BackgroundImageFix'%20result='shape'/%3e%3cfeGaussianBlur%20stdDeviation='50'%20result='effect1_foregroundBlur_1039_22435'/%3e%3c/filter%3e%3cfilter%20id='47w73pk4d__filter1_f_1039_22435'%20x='9.4281'%20y='24.9082'%20width='72.4501'%20height='45.6914'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='BackgroundImageFix'%20result='shape'/%3e%3cfeGaussianBlur%20stdDeviation='1'%20result='effect1_foregroundBlur_1039_22435'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",b3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M1.33331%202H14.6666V12H9.66665L7.99998%2013.6667L6.33331%2012H1.33331V2Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.66669%207H8.33419'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M11.0003%207H11.6666'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M4.33368%207H4.99998'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3c/svg%3e",C3="/assets/img/multimode-box-llOBPaEG.svg",w3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2015%2015'%20class='design-iconfont'%3e%3cg%20clip-path='url(%23kwagrt5yr__clip0_7881_28493)'%3e%3cg%20clip-path='url(%23kwagrt5yr__clip1_7881_28493)'%3e%3cpath%20d='M11.7498%207.21915C11.7049%204.68069%209.6331%202.63672%207.0839%202.63672C4.50656%202.63672%202.41724%204.72604%202.41724%207.30339C2.41724%208.51966%202.88253%209.62727%203.64484%2010.4579L3.29528%2012.5609L5.37036%2011.6696C6.28465%2011.9736%207.14749%2012.0496%207.9589%2011.8976'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.37036%206.8574C5.73279%206.8574%206.02661%206.56141%206.02661%206.19628C6.02661%205.83117%205.73279%205.53516%205.37036%205.53516C5.00794%205.53516%204.71411%205.83117%204.71411%206.19628C4.71411%206.56141%205.00794%206.8574%205.37036%206.8574Z'%20fill='currentColor'/%3e%3cpath%20d='M7.99536%206.8574C8.35779%206.8574%208.65161%206.56141%208.65161%206.19628C8.65161%205.83117%208.35779%205.53516%207.99536%205.53516C7.63294%205.53516%207.33911%205.83117%207.33911%206.19628C7.33911%206.56141%207.63294%206.8574%207.99536%206.8574Z'%20fill='currentColor'/%3e%3cpath%20d='M12.267%2012.5328C11.7571%2012.9122%2011.1251%2013.1367%2010.4407%2013.1367C8.7493%2013.1367%207.37817%2011.7656%207.37817%2010.0742C7.37817%208.38284%208.7493%207.01172%2010.4407%207.01172C12.132%207.01172%2013.5032%208.38284%2013.5032%2010.0742C13.5032%2010.5408%2013.3988%2010.983%2013.2122%2011.3788'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.2101%2011.3789L13.501%2013.1368L12.2649%2012.5329'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3704%209.87057C11.0985%209.87057%2010.8782%209.64859%2010.8782%209.37474C10.8782%209.10089%2011.0985%208.87891%2011.3704%208.87891C11.6422%208.87891%2011.8625%209.10089%2011.8625%209.37474C11.8625%209.64859%2011.6422%209.87057%2011.3704%209.87057Z'%20fill='currentColor'/%3e%3cpath%20d='M9.40161%209.87057C9.12978%209.87057%208.90942%209.64859%208.90942%209.37474C8.90942%209.10089%209.12978%208.87891%209.40161%208.87891C9.67344%208.87891%209.8938%209.10089%209.8938%209.37474C9.8938%209.64859%209.67344%209.87057%209.40161%209.87057Z'%20fill='currentColor'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='kwagrt5yr__clip0_7881_28493'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3cclipPath%20id='kwagrt5yr__clip1_7881_28493'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",x3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2015%2015'%20class='design-iconfont'%3e%3cg%20clip-path='url(%230czvsak6m__clip0_7881_28491)'%20stroke='%23000'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3cpath%20d='M2.96021%202.88672C2.96021%202.33443%203.40792%201.88672%203.96021%201.88672H9.96021C11.6171%201.88672%2012.9602%203.22986%2012.9602%204.88672V12.8867C12.9602%2013.439%2012.5125%2013.8867%2011.9602%2013.8867H5.96021C4.30335%2013.8867%202.96021%2012.5436%202.96021%2010.8867V2.88672Z'/%3e%3cpath%20d='M5.62549%207.88672H10.2922'%20stroke-width='1.3'/%3e%3cpath%20d='M5.62549%204.88672H11.2922'%20stroke-width='1.3'/%3e%3cpath%20d='M5.62549%2010.8867H7.95882'%20stroke-width='1.3'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='0czvsak6m__clip0_7881_28491'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",k3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2015%2015'%20class='design-iconfont'%3e%3cg%20clip-path='url(%23hhucqnxxt__clip0_7881_28499)'%3e%3cg%20clip-path='url(%23hhucqnxxt__clip1_7881_28499)'%20stroke='%23000'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3cpath%20d='M7.95947%2012.8285C8.57868%2013.3827%209.3964%2013.7197%2010.2928%2013.7197C12.2258%2013.7197%2013.7928%2012.1527%2013.7928%2010.2197C13.7928%208.67361%2012.7903%207.36166%2011.3999%206.89844'/%3e%3cpath%20d='M8.88582%208.94299C9.04178%209.33954%209.12744%209.77147%209.12744%2010.2234C9.12744%2012.1564%207.56043%2013.7234%205.62744%2013.7234C3.69444%2013.7234%202.12744%2012.1564%202.12744%2010.2234C2.12744%208.67317%203.13527%207.35837%204.53144%206.89844'/%3e%3cpath%20d='M7.95947%209.0547C9.89246%209.0547%2011.4595%207.48769%2011.4595%205.5547C11.4595%203.62169%209.89246%202.05469%207.95947%202.05469C6.02648%202.05469%204.45947%203.62169%204.45947%205.5547C4.45947%207.48769%206.02648%209.0547%207.95947%209.0547Z'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='hhucqnxxt__clip0_7881_28499'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3cclipPath%20id='hhucqnxxt__clip1_7881_28499'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",S3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2015%2015'%20class='design-iconfont'%3e%3cg%20clip-path='url(%23qg1rk4g21__clip0_7881_28490)'%3e%3cg%20clip-path='url(%23qg1rk4g21__clip1_7881_28490)'%20stroke='%23000'%20stroke-width='1.3'%20stroke-linejoin='round'%3e%3cpath%20d='M3.29224%2012.5547C3.29224%2011.388%203.29224%203.80469%203.29224%203.80469C3.29224%202.83819%204.12798%202.05469%205.1589%202.05469H12.6256V11.388C12.6256%2011.388%206.78684%2011.388%205.1589%2011.388C3.68956%2011.388%203.29224%2011.5876%203.29224%2012.5547Z'/%3e%3cpath%20clip-rule='evenodd'%20d='M4.4589%2013.7201H12.6256V11.3867H4.4589C3.81457%2011.3867%203.29224%2011.9091%203.29224%2012.5534C3.29224%2013.1977%203.81457%2013.7201%204.4589%2013.7201Z'%20stroke-linecap='round'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='qg1rk4g21__clip0_7881_28490'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3cclipPath%20id='qg1rk4g21__clip1_7881_28490'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",E3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2015%2015'%20class='design-iconfont'%3e%3cg%20clip-path='url(%2358y42fz08__clip0_7881_28489)'%3e%3cg%20clip-path='url(%2358y42fz08__clip1_7881_28489)'%20stroke='%23000'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3cpath%20d='M2.16847%207.25916C2.27202%206.15473%202.32379%205.60252%202.90136%205.01175C3.47893%204.42098%204.11448%204.34686%205.38562%204.19864C6.21112%204.10239%207.12311%204.02734%207.96004%204.02734C8.79698%204.02734%209.70896%204.10239%2010.5345%204.19864C11.8056%204.34686%2012.4412%204.42098%2013.0187%205.01175C13.5963%205.60252%2013.6481%206.15473%2013.7516%207.25916C13.7777%207.53787%2013.7934%207.82429%2013.7934%208.11068C13.7934%208.39706%2013.7777%208.68348%2013.7516%208.9622C13.6481%2010.0666%2013.5963%2010.6188%2013.0187%2011.2096C12.4412%2011.8004%2011.8056%2011.8745%2010.5345%2012.0227C9.70896%2012.119%208.79698%2012.194%207.96004%2012.194C7.12311%2012.194%206.21112%2012.119%205.38562%2012.0227C4.11448%2011.8745%203.47893%2011.8004%202.90136%2011.2096C2.32379%2010.6188%202.27202%2010.0666%202.16847%208.9622C2.14233%208.68348%202.12671%208.39706%202.12671%208.11068C2.12671%207.82429%202.14233%207.53787%202.16847%207.25916Z'/%3e%3cpath%20d='M10.585%206.65234L9.12671%208.11068L10.585%209.56901'/%3e%3cpath%20d='M5.3339%206.65234L6.79224%208.11068L5.3339%209.56901'/%3e%3cpath%20d='M11.022%2012.1921C11.022%2013.1086%209.65084%2013.8516%207.95947%2013.8516C6.2681%2013.8516%204.89697%2013.1086%204.89697%2012.1921'/%3e%3cpath%20d='M7.79028%203.97458V1.92188'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='58y42fz08__clip0_7881_28489'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3cclipPath%20id='58y42fz08__clip1_7881_28489'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",M3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2015%2015'%20class='design-iconfont'%3e%3cg%20clip-path='url(%23yq1lclzkp__clip0_7881_28492)'%3e%3cg%20clip-path='url(%23yq1lclzkp__clip1_7881_28492)'%20stroke='%23000'%20stroke-width='1.3'%20stroke-linejoin='round'%3e%3cpath%20d='M7.42025%2012.3034C10.1586%2012.3034%2012.3786%2010.0835%2012.3786%207.34505C12.3786%204.60665%2010.1586%202.38672%207.42025%202.38672C4.68185%202.38672%202.46191%204.60665%202.46191%207.34505C2.46191%2010.0835%204.68185%2012.3034%207.42025%2012.3034Z'/%3e%3cpath%20d='M9.07034%205.40215C8.64809%204.97991%208.06476%204.71875%207.42041%204.71875C6.77609%204.71875%206.19275%204.97991%205.77051%205.40215'%20stroke-linecap='round'/%3e%3cpath%20d='M10.9834%2010.9102L13.4583%2013.385'%20stroke-linecap='round'/%3e%3c/g%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='yq1lclzkp__clip0_7881_28492'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3cclipPath%20id='yq1lclzkp__clip1_7881_28492'%3e%3cpath%20fill='%23fff'%20transform='translate(.960205%20.886719)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",O3="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%2012V10'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66667%2013.333H2'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.33398%2013.333H14.0007'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.33268%2013.3333C9.33268%2014.0697%208.73572%2014.6667%207.99935%2014.6667C7.26298%2014.6667%206.66602%2014.0697%206.66602%2013.3333C6.66602%2012.597%207.26298%2012%207.99935%2012C8.73572%2012%209.33268%2012.597%209.33268%2013.3333Z'%20fill='currentColor'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.3327%205.66634C12.3327%208.05957%2010.3926%209.99967%207.99935%209.99967C5.60612%209.99967%203.66602%208.05957%203.66602%205.66634M12.3327%205.66634C12.3327%203.27311%2010.3926%201.33301%207.99935%201.33301C5.60612%201.33301%203.66602%203.27311%203.66602%205.66634M12.3327%205.66634H3.66602'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.66732%205.66634C9.66732%208.05957%208.92112%209.99967%208.00065%209.99967C7.08018%209.99967%206.33398%208.05957%206.33398%205.66634C6.33398%203.27311%207.08018%201.33301%208.00065%201.33301C8.92112%201.33301%209.66732%203.27311%209.66732%205.66634Z'%20fill='currentColor'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.3327%205.66699H3.66602'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",A3="/assets/img/open-ai-B7K992jd.svg",L3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M8%203H14'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%209.66797H14'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%206.33398H12'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%2013.002H12'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.00004%206.33333C4.92052%206.33333%205.66671%205.58714%205.66671%204.66667C5.66671%203.74619%204.92052%203%204.00004%203C3.07957%203%202.33337%203.74619%202.33337%204.66667C2.33337%205.58714%203.07957%206.33333%204.00004%206.33333Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.00004%2013.0013C4.92052%2013.0013%205.66671%2012.2551%205.66671%2011.3346C5.66671%2010.4142%204.92052%209.66797%204.00004%209.66797C3.07957%209.66797%202.33337%2010.4142%202.33337%2011.3346C2.33337%2012.2551%203.07957%2013.0013%204.00004%2013.0013Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",T3="/assets/img/out-the-box-DLcsylEx.svg",N3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M9%202C11%202%2014.3333%203.33333%2014.3333%208C14.3333%2012.6667%2011%2014%209%2014'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.7002%207.99609L11%207.99609'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.6665%2012L1.6665%208L5.6665%204'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%202C11%202%2014.3333%203.33333%2014.3333%208C14.3333%2012.6667%2011%2014%209%2014'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.7002%207.99609L11%207.99609'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.6665%2012L1.6665%208L5.6665%204'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",D3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%232469F1'/%3e%3cpath%20d='M9.66048%2014.6198C12.3989%2014.6198%2014.6188%2012.3999%2014.6188%209.66146C14.6188%206.92305%2012.3989%204.70312%209.66048%204.70312C6.92207%204.70312%204.70215%206.92305%204.70215%209.66146C4.70215%2012.3999%206.92207%2014.6198%209.66048%2014.6198Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.208%2013.2109L14.958%2014.9609'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'/%3e%3cpath%20d='M9.70801%207.96094V12.0443'%20stroke='%232469F1'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.25%207.96094H9.70833H11.1667'%20stroke='%232469F1'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",P3="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.66665%2010.666H6.33331V13.666H9.66665V10.666Z'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.6667%202.66602H2.33335C1.96516%202.66602%201.66669%202.96449%201.66669%203.33268V9.99935C1.66669%2010.3675%201.96516%2010.666%202.33335%2010.666H13.6667C14.0349%2010.666%2014.3334%2010.3675%2014.3334%209.99935V3.33268C14.3334%202.96449%2014.0349%202.66602%2013.6667%202.66602Z'%20stroke='%23262626'%20stroke-width='1.33333'/%3e%3cpath%20d='M7.33331%209H8.66665'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.66669%2013.666H11.3334'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",R3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M13%202H3C2.44772%202%202%202.44772%202%203V13C2%2013.5523%202.44772%2014%203%2014H13C13.5523%2014%2014%2013.5523%2014%2013V3C14%202.44772%2013.5523%202%2013%202Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.92565%204.27344H4.12695'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.52686%207.67197V4.27344'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14%2012.0013L10.3333%208.66797L7%2011.668L4.66667%209.66797L2%2011.668'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",H3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M5.33333%202H2.66667C2.29848%202%202%202.29848%202%202.66667V5.33333'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.33333%2014.0013H2.66667C2.29848%2014.0013%202%2013.7028%202%2013.3346V10.668'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.6665%2014.0013H13.3332C13.7014%2014.0013%2013.9998%2013.7028%2013.9998%2013.3346V10.668'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.6667%202H13.3334C13.7016%202%2014.0001%202.29848%2014.0001%202.66667V5.33333'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3334%208H4.66675'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3332%205.33203H4.6665'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3332%2010.668H4.6665'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",I3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M2%206V3C2%202.44772%202.44772%202%203%202H13C13.5523%202%2014%202.44772%2014%203V6'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2%2010V13C2%2013.5523%202.44772%2014%203%2014H13C13.5523%2014%2014%2013.5523%2014%2013V10'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%205.33594H10'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M8.00269%205.33594V10.6665'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3c/svg%3e",B3="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.3332%201.33398H4.6665C4.11422%201.33398%203.6665%201.7817%203.6665%202.33398V13.6673C3.6665%2014.2196%204.11422%2014.6673%204.6665%2014.6673H11.3332C11.8855%2014.6673%2012.3332%2014.2196%2012.3332%2013.6673V2.33398C12.3332%201.7817%2011.8855%201.33398%2011.3332%201.33398Z'%20stroke='%23262626'%20stroke-width='1.33333'/%3e%3cpath%20d='M7.3335%203.33398H8.66683'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.6665%2012.666H9.33317'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",j3="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%203V13'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3%208H13'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",F3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M10.8333%207.83203C10.8333%208.38432%2011.281%208.83203%2011.8333%208.83203C12.3855%208.83203%2012.8333%208.38432%2012.8333%207.83203C12.8333%207.27975%2012.3855%206.83203%2011.8333%206.83203C11.281%206.83203%2010.8333%207.27975%2010.8333%207.83203Z'%20fill='%23595959'/%3e%3cpath%20d='M6.83325%207.83203C6.83325%208.38432%207.28097%208.83203%207.83325%208.83203C8.38554%208.83203%208.83325%208.38432%208.83325%207.83203C8.83325%207.27975%208.38554%206.83203%207.83325%206.83203C7.28097%206.83203%206.83325%207.27975%206.83325%207.83203Z'%20fill='%23595959'/%3e%3cpath%20d='M3.16675%207.83203C3.16675%208.38432%203.61446%208.83203%204.16675%208.83203C4.71903%208.83203%205.16675%208.38432%205.16675%207.83203C5.16675%207.27975%204.71903%206.83203%204.16675%206.83203C3.61446%206.83203%203.16675%207.27975%203.16675%207.83203Z'%20fill='%23595959'/%3e%3c/svg%3e",V3="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%232469F1'/%3e%3cpath%20d='M9.99992%2015.4166C11.4957%2015.4166%2012.8498%2014.8104%2013.8301%2013.8301C14.8103%2012.8499%2015.4166%2011.4957%2015.4166%209.99998C15.4166%208.50422%2014.8103%207.15005%2013.8301%206.16982C12.8498%205.18959%2011.4957%204.58331%209.99992%204.58331C8.50416%204.58331%207.14999%205.18959%206.16976%206.16982C5.18953%207.15005%204.58325%208.50422%204.58325%209.99998C4.58325%2011.4957%205.18953%2012.8499%206.16976%2013.8301C7.14999%2014.8104%208.50416%2015.4166%209.99992%2015.4166Z'%20fill='white'%20stroke='white'%20stroke-width='1.08333'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%2011.2525V10.1692C10.8975%2010.1692%2011.625%209.44165%2011.625%208.54419C11.625%207.64673%2010.8975%206.91919%2010%206.91919C9.10254%206.91919%208.375%207.64673%208.375%208.54419'%20stroke='%232475FC'%20stroke-width='1.08333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.0001%2013.69C10.374%2013.69%2010.6772%2013.3869%2010.6772%2013.013C10.6772%2012.639%2010.374%2012.3359%2010.0001%2012.3359C9.62614%2012.3359%209.323%2012.639%209.323%2013.013C9.323%2013.3869%209.62614%2013.69%2010.0001%2013.69Z'%20fill='%232475FC'/%3e%3c/svg%3e",$3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%231w20r4uhu__clip0_1582_11917)'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linejoin='round'%3e%3cpath%20d='M8.00004%2014.6654C11.6819%2014.6654%2014.6667%2011.6806%2014.6667%207.9987C14.6667%204.3168%2011.6819%201.33203%208.00004%201.33203C4.31814%201.33203%201.33337%204.3168%201.33337%207.9987C1.33337%208.9026%201.51326%209.7645%201.8392%2010.5505C2.00748%2010.9563%202.21469%2011.3419%202.45618%2011.7027C2.53723%2011.8237%202.38518%2012.5891%202.00004%2013.9987C3.40967%2013.6136%204.17501%2013.4615%204.29607%2013.5426C4.65681%2013.784%205.04241%2013.9913%205.44824%2014.1595C6.23424%2014.4855%207.09614%2014.6654%208.00004%2014.6654Z'/%3e%3cpath%20d='M5.53479%206.60547H11.1279'%20stroke-linecap='round'/%3e%3cpath%20d='M7.28227%205.24609L6.31104%2010.7542'%20stroke-linecap='round'/%3e%3cpath%20d='M9.61552%205.24609L8.64429%2010.7542'%20stroke-linecap='round'/%3e%3cpath%20d='M4.86816%209.33203H10.4613'%20stroke-linecap='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='1w20r4uhu__clip0_1582_11917'%3e%3cpath%20fill='%23fff'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",W3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M14.668%201.66406C15.0362%201.66406%2015.335%201.96286%2015.335%202.33105V12.3311C15.3348%2012.6991%2015.036%2012.9971%2014.668%2012.9971H9.94434L8.47266%2014.4688C8.21236%2014.729%207.79064%2014.7289%207.53027%2014.4688L6.05859%2012.9971H1.33496C0.96688%2012.9971%200.668144%2012.6991%200.667969%2012.3311V2.33105C0.667969%201.96286%200.966771%201.66406%201.33496%201.66406H14.668ZM10.6299%204.95605C10.5668%204.97162%2010.508%205.0007%2010.457%205.04102C9.85104%205.40686%209.34913%205.92335%209.00098%206.54102C8.65281%207.15876%208.46986%207.85673%208.46973%208.56641H8.45117C8.4512%208.83756%208.53156%209.10263%208.68164%209.32812C8.83187%209.55372%209.04607%209.73016%209.2959%209.83398C9.54544%209.93757%209.82008%209.96488%2010.085%209.91211C10.3501%209.85918%2010.594%209.72796%2010.7852%209.53613C10.9763%209.34433%2011.1064%209.10002%2011.1592%208.83398C11.2119%208.56788%2011.1855%208.29168%2011.082%208.04102C10.9785%207.79041%2010.8029%207.57649%2010.5781%207.42578C10.3533%207.27505%2010.0888%207.19434%209.81836%207.19434H9.66797C9.93866%206.6239%2010.3716%206.14631%2010.9121%205.82227C10.9722%205.7974%2011.0268%205.76048%2011.0713%205.71289C11.1158%205.66517%2011.1501%205.60784%2011.1709%205.5459C11.1916%205.48408%2011.199%205.41841%2011.1924%205.35352C11.1858%205.28848%2011.1647%205.22538%2011.1318%205.16895C11.099%205.1126%2011.0541%205.064%2011.001%205.02637C10.9478%204.98878%2010.8872%204.96234%2010.8232%204.9502C10.7593%204.9381%2010.6931%204.94054%2010.6299%204.95605ZM6.98438%204.95117C6.92112%204.96672%206.8617%204.99569%206.81055%205.03613C6.20391%205.4024%205.70168%205.92051%205.35352%206.53906C5.0055%207.15755%204.82357%207.85615%204.82422%208.56641L4.80566%208.56152C4.80566%208.83284%204.8859%209.09863%205.03613%209.32422C5.18633%209.54961%205.39977%209.72532%205.64941%209.8291C5.89922%209.93292%206.17426%209.96014%206.43945%209.90723C6.70466%209.8543%206.94844%209.7231%207.13965%209.53125C7.3307%209.33944%207.46094%209.09507%207.51367%208.8291C7.56636%208.56314%207.53893%208.28765%207.43555%208.03711C7.33208%207.78649%207.1574%207.57163%206.93262%207.4209C6.70781%207.27018%206.44323%207.18947%206.17285%207.18945H6.02246C6.29316%206.6192%206.72619%206.14233%207.2666%205.81836C7.32684%205.79345%207.38125%205.75572%207.42578%205.70801C7.47028%205.66031%207.5036%205.60293%207.52441%205.54102C7.54515%205.47917%207.55252%205.41355%207.5459%205.34863C7.53925%205.28367%207.51919%205.22044%207.48633%205.16406C7.45345%205.10775%207.40862%205.05911%207.35547%205.02148C7.30231%204.98389%207.24164%204.95845%207.17773%204.94629C7.11372%204.93413%207.04766%204.93563%206.98438%204.95117Z'%20fill='currentColor'/%3e%3c/svg%3e",z3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M13%202H3C2.44772%202%202%202.44772%202%203V13C2%2013.5523%202.44772%2014%203%2014H13C13.5523%2014%2014%2013.5523%2014%2013V3C14%202.44772%2013.5523%202%2013%202Z'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%202V14'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.66663%202H12'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M3.66663%2014H12'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.6667%206.66797L9.33337%208.0013L10.6667%209.33464'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",U3="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1.33333%201.33301C0.965141%201.33301%200.666664%201.63148%200.666664%201.99967V11.9997C0.666664%2012.3679%200.965141%2012.6663%201.33333%2012.6663H6.05719L7.52859%2014.1377C7.78894%2014.3981%208.21105%2014.3981%208.4714%2014.1377L9.94281%2012.6663H14.6667C15.0349%2012.6663%2015.3333%2012.3679%2015.3333%2011.9997V1.99967C15.3333%201.63148%2015.0349%201.33301%2014.6667%201.33301H1.33333ZM8%203.83301C8.36819%203.83301%208.66667%204.13148%208.66667%204.49967V7.83301C8.66667%208.2012%208.36819%208.49967%208%208.49967C7.63181%208.49967%207.33333%208.2012%207.33333%207.83301V4.49967C7.33333%204.13148%207.63181%203.83301%208%203.83301ZM8.83333%2010.3328C8.83333%2010.7931%208.46023%2011.1662%208%2011.1662C7.53976%2011.1662%207.16666%2010.7931%207.16666%2010.3328C7.16666%209.87261%207.53976%209.49951%208%209.49951C8.46023%209.49951%208.83333%209.87261%208.83333%2010.3328Z'%20fill='currentColor'/%3e%3c/svg%3e",G3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%232469F1'/%3e%3cpath%20d='M8.25%204.75H5.33333C5.01117%204.75%204.75%205.01117%204.75%205.33333V8.25C4.75%208.57218%205.01117%208.83333%205.33333%208.83333H8.25C8.57218%208.83333%208.83333%208.57218%208.83333%208.25V5.33333C8.83333%205.01117%208.57218%204.75%208.25%204.75Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.25%2011.1667H5.33333C5.01117%2011.1667%204.75%2011.4279%204.75%2011.7501V14.6667C4.75%2014.9889%205.01117%2015.2501%205.33333%2015.2501H8.25C8.57218%2015.2501%208.83333%2014.9889%208.83333%2014.6667V11.7501C8.83333%2011.4279%208.57218%2011.1667%208.25%2011.1667Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.6665%204.75H11.7498C11.4277%204.75%2011.1665%205.01117%2011.1665%205.33333V8.25C11.1665%208.57218%2011.4277%208.83333%2011.7498%208.83333H14.6665C14.9887%208.83333%2015.2498%208.57218%2015.2498%208.25V5.33333C15.2498%205.01117%2014.9887%204.75%2014.6665%204.75Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.6665%2011.1667H11.7498C11.4277%2011.1667%2011.1665%2011.4279%2011.1665%2011.7501V14.6667C11.1665%2014.9889%2011.4277%2015.2501%2011.7498%2015.2501H14.6665C14.9887%2015.2501%2015.2498%2014.9889%2015.2498%2014.6667V11.7501C15.2498%2011.4279%2014.9887%2011.1667%2014.6665%2011.1667Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3c/svg%3e",X3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M13.9999%202.66797H1.99992C1.63173%202.66797%201.33325%202.96645%201.33325%203.33464V12.668C1.33325%2013.0362%201.63173%2013.3346%201.99992%2013.3346H13.9999C14.3681%2013.3346%2014.6666%2013.0362%2014.6666%2012.668V3.33464C14.6666%202.96645%2014.3681%202.66797%2013.9999%202.66797Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.33325%203.33464C1.33325%202.96645%201.63173%202.66797%201.99992%202.66797H13.9999C14.3681%202.66797%2014.6666%202.96645%2014.6666%203.33464V5.33464H1.33325V3.33464Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.33341%207.66797L7.66675%2011.3346'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M10.3333%207.66797L12.3333%209.33464L10.3333%2011.3346'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.66675%207.66797L3.66675%209.33464L5.66675%2011.3346'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Z3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M3%203C3%202.44772%203.44772%202%204%202H10C11.6569%202%2013%203.34315%2013%205V13C13%2013.5523%2012.5523%2014%2012%2014H6C4.34315%2014%203%2012.6569%203%2011V3Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.66675%208H10.3334'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.66675%205H11.3334'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.66675%2011H8.00008'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Y3="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11.1763%202.07461C9.70446%200.602734%207.30758%200.602734%205.83727%202.07461L1.75915%206.14961C1.73258%206.17617%201.71852%206.21211%201.71852%206.24961C1.71852%206.28711%201.73258%206.32305%201.75915%206.34961L2.33571%206.92617C2.36206%206.95241%202.39774%206.96714%202.43493%206.96714C2.47212%206.96714%202.50779%206.95241%202.53415%206.92617L6.61227%202.85117C7.11852%202.34492%207.79196%202.0668%208.50758%202.0668C9.22321%202.0668%209.89665%202.34492%2010.4013%202.85117C10.9076%203.35742%2011.1857%204.03086%2011.1857%204.74492C11.1857%205.46055%2010.9076%206.13242%2010.4013%206.63867L6.24508%2010.7934L5.57165%2011.4668C4.94196%2012.0965%203.91852%2012.0965%203.28883%2011.4668C2.98415%2011.1621%202.81696%2010.7574%202.81696%2010.3262C2.81696%209.89492%202.98415%209.49024%203.28883%209.18555L7.41227%205.06367C7.51696%204.96055%207.65446%204.90273%207.80133%204.90273H7.8029C7.94977%204.90273%208.08571%204.96055%208.18883%205.06367C8.29352%205.16836%208.34977%205.30586%208.34977%205.45273C8.34977%205.59805%208.29196%205.73555%208.18883%205.83867L4.81852%209.20586C4.79196%209.23242%204.7779%209.26836%204.7779%209.30586C4.7779%209.34336%204.79196%209.3793%204.81852%209.40586L5.39508%209.98242C5.42144%2010.0087%205.45711%2010.0234%205.4943%2010.0234C5.53149%2010.0234%205.56717%2010.0087%205.59352%209.98242L8.96227%206.61367C9.27321%206.30273%209.44352%205.89023%209.44352%205.45117C9.44352%205.01211%209.27165%204.59805%208.96227%204.28867C8.32008%203.64648%207.27633%203.64805%206.63415%204.28867L6.23415%204.69023L2.51227%208.41055C2.25966%208.66167%202.05942%208.96045%201.92317%209.28956C1.78691%209.61866%201.71735%209.97154%201.71852%2010.3277C1.71852%2011.0512%202.00133%2011.7309%202.51227%2012.2418C3.04196%2012.7699%203.73571%2013.034%204.42946%2013.034C5.12321%2013.034%205.81696%2012.7699%206.34508%2012.2418L11.1763%207.41367C11.8873%206.70117%2012.281%205.75273%2012.281%204.74492C12.2826%203.73555%2011.8888%202.78711%2011.1763%202.07461Z'%20fill='%23164799'/%3e%3c/svg%3e",q3="data:image/svg+xml,%3csvg%20width='40'%20height='20'%20viewBox='0%200%2040%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='4'%20width='36'%20height='20'%20rx='4'%20fill='%23FB363F'/%3e%3cpath%20d='M14.144%209.56V11.18H16.28V9.56H14.144ZM14.144%2011.984V13.772H16.28V11.984H14.144ZM14.144%2014.6V15.152H13.292V8.12C13.004%208.576%2012.68%209.008%2012.344%209.416L12.056%208.504C13.04%207.208%2013.724%205.78%2014.132%204.22L14.972%204.388C14.792%205.036%2014.564%205.66%2014.3%206.272H16.472C16.28%205.636%2016.04%205.012%2015.764%204.412L16.592%204.184C16.88%204.904%2017.096%205.552%2017.252%206.152L16.928%206.272H19.22V7.112H17.132V8.744H18.98V9.56H17.132V11.18H18.98V11.984H17.132V13.772H19.352V14.6H14.144ZM16.28%207.112H14.144V8.744H16.28V7.112ZM12.188%209.14V10.016C11.828%2010.196%2011.456%2010.364%2011.072%2010.52V13.988C11.072%2014.66%2010.712%2015.008%2010.004%2015.008H8.9L8.72%2014.168C9.056%2014.204%209.392%2014.228%209.704%2014.228C10.028%2014.228%2010.196%2014.072%2010.196%2013.76V10.868C9.704%2011.036%209.2%2011.204%208.696%2011.348L8.48%2010.484C9.068%2010.352%209.644%2010.184%2010.196%209.992V7.232H8.66V6.392H10.196V4.172H11.072V6.392H12.284V7.232H11.072V9.656C11.456%209.488%2011.828%209.32%2012.188%209.14ZM20.804%205.072H23.528V4.208H24.416V5.072H27.584V4.208H28.472V5.072H31.196V5.864H28.472V6.74H27.584V5.864H24.416V6.728H23.528V5.864H20.804V5.072ZM20.96%207.544H24.344C24.488%207.232%2024.62%206.932%2024.74%206.632L25.58%206.776C25.484%207.04%2025.376%207.292%2025.28%207.544H31.136V8.336H24.884C24.524%208.972%2024.092%209.572%2023.6%2010.136V15.224H22.772V10.976C22.268%2011.432%2021.716%2011.852%2021.116%2012.26L20.576%2011.564C22.004%2010.628%2023.108%209.548%2023.888%208.336H20.96V7.544ZM27.752%2011.024C28.184%2010.76%2028.676%2010.436%2029.252%2010.052H25.304V9.26H30.476V9.884C29.924%2010.316%2029.3%2010.784%2028.616%2011.264V11.768H31.256V12.584H28.616V14.204C28.616%2014.852%2028.292%2015.176%2027.656%2015.176H26.252L26%2014.336C26.552%2014.372%2026.996%2014.396%2027.308%2014.396C27.596%2014.396%2027.752%2014.252%2027.752%2013.964V12.584H24.44V11.768H27.752V11.024Z'%20fill='white'/%3e%3cpath%20d='M0.5%2010.4256C-0.166667%2010.0407%20-0.166667%209.07844%200.5%208.69354L7.33935%204.74484C8.00602%204.35994%208.83935%204.84107%208.83936%205.61087L8.83936%2013.5083C8.83936%2014.2781%208.00602%2014.7592%207.33936%2014.3743L0.5%2010.4256Z'%20fill='%23FB363F'/%3e%3c/svg%3e",K3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%23FE5019'/%3e%3cpath%20d='M29.8%209.5H9.8L8%2015.5112C8%2017.3688%209.3%2018.7896%2011%2018.7896C12.6%2018.7896%2014%2017.26%2014%2015.5112C14%2017.3688%2015.3%2018.7896%2017%2018.7896C18.6%2018.7896%2020%2017.26%2020%2015.5112C20%2017.3688%2021.3%2018.7896%2023%2018.7896C24.6%2018.7896%2026%2017.26%2026%2015.5112C26%2017.3688%2027.3%2018.7896%2029%2018.7896C30.6%2018.7896%2032%2017.26%2032%2015.5112L29.8%209.5ZM26.3808%2018.8992C25.5504%2019.7736%2024.5112%2020.2104%2023.2656%2020.2104C22.1232%2020.2104%2020.9808%2019.7736%2020.1496%2018.8984C19.3192%2019.7736%2018.2808%2020.2104%2017.0344%2020.2104C15.892%2020.2104%2014.7496%2019.7736%2013.9192%2018.8984C13.0888%2019.7736%2012.0504%2020.2104%2010.804%2020.2104H10.596V27.5328C10.596%2028.7352%2011.6344%2029.5%2012.4656%2029.5H27.5232C28.6656%2029.5%2029.392%2028.6256%2029.392%2027.5328V20.2104H29.184C28.3536%2020.2104%2027.2112%2019.7736%2026.3808%2018.8984V18.8992Z'%20fill='%23FFF1EB'/%3e%3c/svg%3e",J3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M4.66732%205.0013C6.50827%205.0013%208.00065%204.25511%208.00065%203.33464C8.00065%202.41416%206.50827%201.66797%204.66732%201.66797C2.82637%201.66797%201.33398%202.41416%201.33398%203.33464C1.33398%204.25511%202.82637%205.0013%204.66732%205.0013Z'%20stroke='%23595959'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.33398%203.33203C1.33398%203.33203%201.33398%204.7449%201.33398%205.66536C1.33398%206.58583%202.82637%207.33203%204.66732%207.33203C6.50825%207.33203%208.00065%206.58583%208.00065%205.66536C8.00065%205.12016%208.00065%203.33203%208.00065%203.33203'%20stroke='%23595959'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.33398%205.66797C1.33398%205.66797%201.33398%207.08084%201.33398%208.0013C1.33398%208.92177%202.82637%209.66797%204.66732%209.66797C6.50825%209.66797%208.00065%208.92177%208.00065%208.0013C8.00065%207.4561%208.00065%205.66797%208.00065%205.66797'%20stroke='%23595959'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.33398%208C1.33398%208%201.33398%209.41287%201.33398%2010.3333C1.33398%2011.2538%202.82637%2012%204.66732%2012C6.50825%2012%208.00065%2011.2538%208.00065%2010.3333C8.00065%209.78813%208.00065%208%208.00065%208'%20stroke='%23595959'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.33398%2010.332C1.33398%2010.332%201.33398%2011.7449%201.33398%2012.6654C1.33398%2013.5858%202.82637%2014.332%204.66732%2014.332C6.50825%2014.332%208.00065%2013.5858%208.00065%2012.6654C8.00065%2012.1202%208.00065%2010.332%208.00065%2010.332'%20stroke='%23595959'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.3333%209.66536C13.1743%209.66536%2014.6667%208.91917%2014.6667%207.9987C14.6667%207.07822%2013.1743%206.33203%2011.3333%206.33203C9.49238%206.33203%208%207.07822%208%207.9987C8%208.91917%209.49238%209.66536%2011.3333%209.66536Z'%20stroke='%23595959'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%208C8%208%208%209.41287%208%2010.3333C8%2011.2538%209.4924%2012%2011.3333%2012C13.1743%2012%2014.6667%2011.2538%2014.6667%2010.3333C14.6667%209.78813%2014.6667%208%2014.6667%208'%20stroke='%23595959'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%2010.332C8%2010.332%208%2011.7449%208%2012.6654C8%2013.5858%209.4924%2014.332%2011.3333%2014.332C13.1743%2014.332%2014.6667%2013.5858%2014.6667%2012.6654C14.6667%2012.1202%2014.6667%2010.332%2014.6667%2010.332'%20stroke='%23595959'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Q3="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20class='design-iconfont'%3e%3cpath%20d='M10%200V16M10%2032V16M10%2016H23'%20stroke='%23BFBFBF'%20stroke-linejoin='round'/%3e%3c/svg%3e",ev="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2%203C2%202.44772%202.44772%202%203%202H11.4271L14%204.40217V13C14%2013.5523%2013.5523%2014%2013%2014H3C2.44772%2014%202%2013.5523%202%2013V3Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.00212%202L7.99935%204.46153C7.99935%204.57483%207.85012%204.66667%207.66602%204.66667H4.99935C4.81525%204.66667%204.66602%204.57483%204.66602%204.46153V2H8.00212Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M3%202H11.4271'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.66602%208.66675H11.3327'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.66602%2011.3333H8.00212'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",tv="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5.66659%2013.332L1.33325%2010.9987V5.66536L5.66659%203.33203L9.99992%205.66536V9.66536'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.0001%202.66797L14.3334%205.0013V10.3346L10.0001%2012.668L5.66675%2010.3346V6.33464'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",nv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M3.33341%2014.6673H12.6667C13.0349%2014.6673%2013.3334%2014.3689%2013.3334%2014.0007V4.66732H10.0001V1.33398H3.33341C2.96522%201.33398%202.66675%201.63246%202.66675%202.00065V14.0007C2.66675%2014.3689%202.96522%2014.6673%203.33341%2014.6673Z'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%201.33398L13.3333%204.66732'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.33325%2010.666C8.43782%2010.666%209.33325%209.77059%209.33325%208.66602C9.33325%207.56145%208.43782%206.66602%207.33325%206.66602C6.22868%206.66602%205.33325%207.56145%205.33325%208.66602C5.33325%209.77059%206.22868%2010.666%207.33325%2010.666Z'%20stroke='currentColor'%20stroke-width='1.33333'/%3e%3cpath%20d='M9%2010L10.6667%2011.3333'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",rv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3cpath%20d='M10.6331%2017.9108C14.6535%2017.9108%2017.9127%2014.6516%2017.9127%2010.6312C17.9127%206.61077%2014.6535%203.35156%2010.6331%203.35156C6.61272%203.35156%203.35352%206.61077%203.35352%2010.6312C3.35352%2014.6516%206.61272%2017.9108%2010.6331%2017.9108Z'%20stroke='%23595959'%20stroke-width='1.95'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.8665%2015.8672L19.5%2019.5007'%20stroke='%23595959'%20stroke-width='1.95'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",iv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M7.46429%202.59282C7.64838%202.09532%208.35203%202.09532%208.53612%202.59282L9.76108%205.9032C9.81895%206.05961%209.94227%206.18293%2010.0987%206.24081L13.4091%207.46576C13.9066%207.64985%2013.9066%208.3535%2013.4091%208.53759L10.0987%209.76254C9.94227%209.82042%209.81895%209.94374%209.76108%2010.1001L8.53612%2013.4105C8.35203%2013.908%207.64838%2013.908%207.46429%2013.4105L6.23934%2010.1001C6.18147%209.94374%206.05815%209.82042%205.90173%209.76254L2.59136%208.53759C2.09386%208.3535%202.09386%207.64985%202.59136%207.46576L5.90173%206.24081C6.05815%206.18293%206.18147%206.05961%206.23934%205.9032L7.46429%202.59282Z'%20fill='url(%23m1dm4qekm__paint0_linear_8002_38157)'/%3e%3cpath%20d='M12.2503%202.01351C12.3608%201.71501%2012.7829%201.71501%2012.8934%202.0135L13.1345%202.66504C13.1692%202.75889%2013.2432%202.83288%2013.3371%202.86761L13.9886%203.1087C14.2871%203.21915%2014.2871%203.64134%2013.9886%203.75179L13.3371%203.99288C13.2432%204.02761%2013.1692%204.1016%2013.1345%204.19545L12.8934%204.84699C12.7829%205.14548%2012.3608%205.14548%2012.2503%204.84699L12.0092%204.19545C11.9745%204.1016%2011.9005%204.02761%2011.8066%203.99288L11.1551%203.7518C10.8566%203.64134%2010.8566%203.21915%2011.1551%203.1087L11.8066%202.86761C11.9005%202.83288%2011.9745%202.75889%2012.0092%202.66504L12.2503%202.01351Z'%20fill='url(%23m1dm4qekm__paint1_linear_8002_38157)'/%3e%3cpath%20d='M3.10723%2011.158C3.21769%2010.8595%203.63988%2010.8595%203.75033%2011.158L3.99142%2011.8096C4.02615%2011.9034%204.10014%2011.9774%204.19399%2012.0121L4.84552%2012.2532C5.14402%2012.3637%205.14402%2012.7859%204.84552%2012.8963L4.19399%2013.1374C4.10014%2013.1721%204.02615%2013.2461%203.99142%2013.34L3.75033%2013.9915C3.63988%2014.29%203.21769%2014.29%203.10723%2013.9915L2.86614%2013.34C2.83142%2013.2461%202.75742%2013.1721%202.66358%2013.1374L2.01204%2012.8963C1.71354%2012.7859%201.71354%2012.3637%202.01204%2012.2532L2.66358%2012.0121C2.75742%2011.9774%202.83142%2011.9034%202.86614%2011.8096L3.10723%2011.158Z'%20fill='url(%23m1dm4qekm__paint2_linear_8002_38157)'/%3e%3cdefs%3e%3clinearGradient%20id='m1dm4qekm__paint0_linear_8002_38157'%20x1='1.23806'%20y1='1.14453'%20x2='15.7204'%20y2='2.12617'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%232475FC'/%3e%3cstop%20offset='.52899'%20stop-color='%233C01FF'/%3e%3cstop%20offset='1'%20stop-color='%23C20CFF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='m1dm4qekm__paint1_linear_8002_38157'%20x1='10.3178'%20y1='1.14453'%20x2='15.1452'%20y2='1.47174'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%232475FC'/%3e%3cstop%20offset='.52899'%20stop-color='%233C01FF'/%3e%3cstop%20offset='1'%20stop-color='%23C20CFF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='m1dm4qekm__paint2_linear_8002_38157'%20x1='1.17473'%20y1='10.2891'%20x2='6.00218'%20y2='10.6163'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%232475FC'/%3e%3cstop%20offset='.52899'%20stop-color='%233C01FF'/%3e%3cstop%20offset='1'%20stop-color='%23C20CFF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",ov="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M4.65486%204.32102C5.25434%203.72154%206.0844%203.34961%207.00008%203.34961C7.91578%203.34961%208.74584%203.72153%209.34533%204.32102C9.59917%204.57486%209.59917%204.98642%209.34533%205.24026C9.09149%205.4941%208.67993%205.4941%208.42609%205.24026C8.06045%204.87462%207.55717%204.64961%207.00008%204.64961C6.44302%204.64961%205.93974%204.87461%205.5741%205.24026C5.32026%205.4941%204.9087%205.4941%204.65486%205.24026C4.40102%204.98642%204.40102%204.57486%204.65486%204.32102Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.68335%206.99928C0.68335%203.5107%203.51143%200.682617%207.00002%200.682617C10.4886%200.682617%2013.3167%203.5107%2013.3167%206.99928C13.3167%208.50963%2012.7866%209.89617%2011.9023%2010.983L14.3619%2013.4426C14.6158%2013.6965%2014.6158%2014.108%2014.3619%2014.3619C14.1081%2014.6157%2013.6965%2014.6157%2013.4427%2014.3619L10.983%2011.9022C9.89628%2012.7861%208.51002%2013.316%207.00002%2013.316C3.51143%2013.316%200.68335%2010.4879%200.68335%206.99928ZM7.00002%201.98262C4.2294%201.98262%201.98335%204.22867%201.98335%206.99928C1.98335%209.7699%204.2294%2012.016%207.00002%2012.016C9.77063%2012.016%2012.0167%209.7699%2012.0167%206.99928C12.0167%204.22867%209.77063%201.98262%207.00002%201.98262Z'%20fill='currentColor'/%3e%3c/svg%3e",sv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20clip-rule='evenodd'%20d='M7.99997%209.66666L4%205.66666H6.66663V2H9.3333V5.66666H12L7.99997%209.66666Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14%2012.332H2'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M11.3334%2014.668H4.66675'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3c/svg%3e",av="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M14.6665%202L1.33317%202L14.6665%202Z'%20fill='%23FB363F'/%3e%3cpath%20d='M14.6665%202L1.33317%202'%20stroke='%23595959'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14.6665%2014L1.33317%2014'%20stroke='%23595959'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.33301%205.9974L5.99967%204.66406L4.66634%205.9974'%20stroke='%23595959'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%204.9974C6%204.9974%206%208.59436%206%209.33073C6%2010.4353%206.89543%2011.3307%208%2011.3307C9.10457%2011.3307%2010%2010.4353%2010%209.33073C10%208.89246%2010%204.66406%2010%204.66406'%20stroke='%23595959'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",lv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20clip-rule='evenodd'%20d='M7.99997%206.33334L4%2010.3333H6.66663V14H9.3333V10.3333H12L7.99997%206.33334Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14%203.66797H2'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M11.3334%201.33203H4.66675'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3c/svg%3e",uv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M1.33325%208H14.6666'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.66675%203.33203H4.00008'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66675%203.33203H9.33341'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%203.33203H13.3333'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M2.66675%2012.668H4.00008'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.66675%2012.668H9.33341'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2012.668H13.3333'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",dv="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_791_4493)'%3e%3crect%20width='65'%20height='65'%20transform='matrix(0.707107%200.707107%200.707107%20-0.707107%20-13%2037.0391)'%20fill='%23BFBFBF'/%3e%3cpath%20d='M13%2016.5L15.6667%2019L21%2014'%20stroke='white'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_791_4493'%3e%3cpath%20d='M0%2024H22C23.1046%2024%2024%2023.1046%2024%2022V0H2C0.89543%200%200%200.895432%200%202V24Z'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",cv="/assets/img/semantic-segmentation-BMR11GtO.svg",fv="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1744096876158'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='4034'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='256'%20height='256'%3e%3cpath%20d='M725.418667%20142.549333c204.074667%20117.845333%20273.962667%20378.794667%20156.16%20582.826667-117.802667%20204.117333-378.752%20274.005333-582.826667%20156.16-204.074667-117.76-274.005333-378.709333-156.16-582.826667%20117.76-204.032%20378.752-273.962667%20582.826667-156.16zM180.309333%20355.285333A366.933333%20366.933333%200%200%200%20813.738667%20721.066667l-116.394667-67.2v1.194666c0%2044.16-11.861333%2054.826667-49.664%2060.202667l-6.186667%200.853333-37.973333%204.181334-18.773333-53.504%2030.464-3.754667c19.072-2.133333%2024.96-5.546667%2025.728-21.888l0.085333-4.394667v-15.445333l-30.976-17.877333v45.056h-166.144v-140.970667l-38.058667-21.973333%200.042667%20125.44%2018.346667-17.877334%2019.2%2053.973334c-11.733333%2011.264-32.384%2028.16-50.688%2046.506666-2.816%202.773333-6.229333%205.973333-9.344%209.088l-4.266667%204.48-37.546667-39.424c7.936-8.746667%209.557333-18.261333%209.813334-34.432l0.042666-6.4v-135.168h-40.362666v-59.136h3.029333l-133.802667-77.226666z%20m29.866667-51.754666l633.472%20365.738666A366.933333%20366.933333%200%200%200%20210.133333%20303.530667z%20m290.090667%20236.501333h-5.205334v55.893333H558.933333v-22.058666l-58.624-33.834667z%20m197.12-225.28l-0.085334%20221.056-56.32-32.512%200.042667-132.693333h-195.712V314.752h252.032zM625.493333%20404.906667v53.034666H562.346667l-91.733334-53.034666h154.965334z%20m-253.44-108.885334c14.634667%2017.92%2038.826667%2049.621333%2053.632%2071.893334l5.034667%207.893333-4.352%203.626667L332.8%20325.333333l39.338667-29.354666z'%20p-id='4035'%3e%3c/path%3e%3c/svg%3e",hv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2033%2016'%20class='design-iconfont'%3e%3crect%20width='33'%20height='16'%20rx='6'%20fill='%238C8C8C'/%3e%3cpath%20d='M7.744%203.264C8.704%203.264%209.472%203.48%2010.024%203.924C10.6%204.38%2010.924%205.064%2011.008%205.964H10.036C9.928%205.34%209.688%204.884%209.316%204.584C8.932%204.272%208.392%204.128%207.696%204.128C7.06%204.128%206.568%204.224%206.208%204.44C5.8%204.68%205.596%205.04%205.596%205.532C5.596%205.964%205.836%206.312%206.328%206.576C6.544%206.696%207.072%206.876%207.9%207.116C9.028%207.452%209.772%207.728%2010.132%207.944C10.84%208.376%2011.2%208.976%2011.2%209.756C11.2%2010.5%2010.9%2011.1%2010.3%2011.532C9.7%2011.952%208.896%2012.168%207.876%2012.168C6.868%2012.168%206.076%2011.952%205.5%2011.52C4.828%2011.004%204.456%2010.224%204.384%209.168H5.356C5.44%209.912%205.704%2010.464%206.136%2010.812C6.532%2011.124%207.108%2011.292%207.876%2011.292C8.572%2011.292%209.148%2011.16%209.58%2010.896C10.012%2010.632%2010.228%2010.272%2010.228%209.816C10.228%209.276%209.94%208.856%209.376%208.556C9.136%208.412%208.524%208.208%207.564%207.932C6.532%207.62%205.872%207.38%205.596%207.236C4.936%206.852%204.612%206.3%204.612%205.58C4.612%204.836%204.924%204.248%205.56%203.84C6.124%203.456%206.856%203.264%207.744%203.264ZM12.446%203.432H18.518V4.284H13.43V7.152H18.23V8.004H13.43V11.148H18.722V12H12.446V3.432ZM23.8307%203.264C25.1027%203.264%2026.1227%203.684%2026.8667%204.548C27.5627%205.364%2027.9227%206.42%2027.9227%207.728C27.9227%209.024%2027.5627%2010.068%2026.8667%2010.884C26.1227%2011.736%2025.1027%2012.168%2023.8187%2012.168C22.5347%2012.168%2021.5267%2011.736%2020.7827%2010.884C20.0747%2010.068%2019.7267%209.012%2019.7267%207.728C19.7267%206.432%2020.0747%205.376%2020.7827%204.56C21.5267%203.696%2022.5347%203.264%2023.8307%203.264ZM23.8307%204.14C22.8467%204.14%2022.0667%204.476%2021.5027%205.16C20.9747%205.808%2020.7107%206.66%2020.7107%207.728C20.7107%208.784%2020.9747%209.636%2021.5027%2010.284C22.0547%2010.956%2022.8347%2011.292%2023.8187%2011.292C24.8027%2011.292%2025.5827%2010.956%2026.1347%2010.308C26.6627%209.66%2026.9387%208.808%2026.9387%207.728C26.9387%206.636%2026.6627%205.772%2026.1347%205.124C25.5827%204.464%2024.8147%204.14%2023.8307%204.14Z'%20fill='%23fff'/%3e%3c/svg%3e",pv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2033%2016'%20class='design-iconfont'%3e%3crect%20width='33'%20height='16'%20rx='6'%20fill='url(%23bm2izduca__paint0_linear_7217_25706)'/%3e%3cpath%20d='M7.744%203.264C8.704%203.264%209.472%203.48%2010.024%203.924C10.6%204.38%2010.924%205.064%2011.008%205.964H10.036C9.928%205.34%209.688%204.884%209.316%204.584C8.932%204.272%208.392%204.128%207.696%204.128C7.06%204.128%206.568%204.224%206.208%204.44C5.8%204.68%205.596%205.04%205.596%205.532C5.596%205.964%205.836%206.312%206.328%206.576C6.544%206.696%207.072%206.876%207.9%207.116C9.028%207.452%209.772%207.728%2010.132%207.944C10.84%208.376%2011.2%208.976%2011.2%209.756C11.2%2010.5%2010.9%2011.1%2010.3%2011.532C9.7%2011.952%208.896%2012.168%207.876%2012.168C6.868%2012.168%206.076%2011.952%205.5%2011.52C4.828%2011.004%204.456%2010.224%204.384%209.168H5.356C5.44%209.912%205.704%2010.464%206.136%2010.812C6.532%2011.124%207.108%2011.292%207.876%2011.292C8.572%2011.292%209.148%2011.16%209.58%2010.896C10.012%2010.632%2010.228%2010.272%2010.228%209.816C10.228%209.276%209.94%208.856%209.376%208.556C9.136%208.412%208.524%208.208%207.564%207.932C6.532%207.62%205.872%207.38%205.596%207.236C4.936%206.852%204.612%206.3%204.612%205.58C4.612%204.836%204.924%204.248%205.56%203.84C6.124%203.456%206.856%203.264%207.744%203.264ZM12.446%203.432H18.518V4.284H13.43V7.152H18.23V8.004H13.43V11.148H18.722V12H12.446V3.432ZM23.8307%203.264C25.1027%203.264%2026.1227%203.684%2026.8667%204.548C27.5627%205.364%2027.9227%206.42%2027.9227%207.728C27.9227%209.024%2027.5627%2010.068%2026.8667%2010.884C26.1227%2011.736%2025.1027%2012.168%2023.8187%2012.168C22.5347%2012.168%2021.5267%2011.736%2020.7827%2010.884C20.0747%2010.068%2019.7267%209.012%2019.7267%207.728C19.7267%206.432%2020.0747%205.376%2020.7827%204.56C21.5267%203.696%2022.5347%203.264%2023.8307%203.264ZM23.8307%204.14C22.8467%204.14%2022.0667%204.476%2021.5027%205.16C20.9747%205.808%2020.7107%206.66%2020.7107%207.728C20.7107%208.784%2020.9747%209.636%2021.5027%2010.284C22.0547%2010.956%2022.8347%2011.292%2023.8187%2011.292C24.8027%2011.292%2025.5827%2010.956%2026.1347%2010.308C26.6627%209.66%2026.9387%208.808%2026.9387%207.728C26.9387%206.636%2026.6627%205.772%2026.1347%205.124C25.5827%204.464%2024.8147%204.14%2023.8307%204.14Z'%20fill='%23fff'/%3e%3cdefs%3e%3clinearGradient%20id='bm2izduca__paint0_linear_7217_25706'%20x1='.228589'%20y1='-4.1e-7'%20x2='34.5657'%20y2='4.80032'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%232475FC'/%3e%3cstop%20offset='.52899'%20stop-color='%233C01FF'/%3e%3cstop%20offset='1'%20stop-color='%23C20CFF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",vv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2033%2016'%20class='design-iconfont'%3e%3crect%20width='33'%20height='16'%20rx='6'%20fill='%23164799'/%3e%3cpath%20d='M7.744%203.264C8.704%203.264%209.472%203.48%2010.024%203.924C10.6%204.38%2010.924%205.064%2011.008%205.964H10.036C9.928%205.34%209.688%204.884%209.316%204.584C8.932%204.272%208.392%204.128%207.696%204.128C7.06%204.128%206.568%204.224%206.208%204.44C5.8%204.68%205.596%205.04%205.596%205.532C5.596%205.964%205.836%206.312%206.328%206.576C6.544%206.696%207.072%206.876%207.9%207.116C9.028%207.452%209.772%207.728%2010.132%207.944C10.84%208.376%2011.2%208.976%2011.2%209.756C11.2%2010.5%2010.9%2011.1%2010.3%2011.532C9.7%2011.952%208.896%2012.168%207.876%2012.168C6.868%2012.168%206.076%2011.952%205.5%2011.52C4.828%2011.004%204.456%2010.224%204.384%209.168H5.356C5.44%209.912%205.704%2010.464%206.136%2010.812C6.532%2011.124%207.108%2011.292%207.876%2011.292C8.572%2011.292%209.148%2011.16%209.58%2010.896C10.012%2010.632%2010.228%2010.272%2010.228%209.816C10.228%209.276%209.94%208.856%209.376%208.556C9.136%208.412%208.524%208.208%207.564%207.932C6.532%207.62%205.872%207.38%205.596%207.236C4.936%206.852%204.612%206.3%204.612%205.58C4.612%204.836%204.924%204.248%205.56%203.84C6.124%203.456%206.856%203.264%207.744%203.264ZM12.446%203.432H18.518V4.284H13.43V7.152H18.23V8.004H13.43V11.148H18.722V12H12.446V3.432ZM23.8307%203.264C25.1027%203.264%2026.1227%203.684%2026.8667%204.548C27.5627%205.364%2027.9227%206.42%2027.9227%207.728C27.9227%209.024%2027.5627%2010.068%2026.8667%2010.884C26.1227%2011.736%2025.1027%2012.168%2023.8187%2012.168C22.5347%2012.168%2021.5267%2011.736%2020.7827%2010.884C20.0747%2010.068%2019.7267%209.012%2019.7267%207.728C19.7267%206.432%2020.0747%205.376%2020.7827%204.56C21.5267%203.696%2022.5347%203.264%2023.8307%203.264ZM23.8307%204.14C22.8467%204.14%2022.0667%204.476%2021.5027%205.16C20.9747%205.808%2020.7107%206.66%2020.7107%207.728C20.7107%208.784%2020.9747%209.636%2021.5027%2010.284C22.0547%2010.956%2022.8347%2011.292%2023.8187%2011.292C24.8027%2011.292%2025.5827%2010.956%2026.1347%2010.308C26.6627%209.66%2026.9387%208.808%2026.9387%207.728C26.9387%206.636%2026.6627%205.772%2026.1347%205.124C25.5827%204.464%2024.8147%204.14%2023.8307%204.14Z'%20fill='%23fff'/%3e%3c/svg%3e",gv="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.666672%202.00065C0.666672%201.63246%200.965149%201.33398%201.33334%201.33398H14.6667C15.0349%201.33398%2015.3333%201.63246%2015.3333%202.00065V12.0007C15.3333%2012.3688%2015.0349%2012.6673%2014.6667%2012.6673H7.82405L4.63148%2014.2636C4.42482%2014.3669%204.1794%2014.3559%203.98285%2014.2344C3.78631%2014.1129%203.66667%2013.8984%203.66667%2013.6673V12.6673H1.33334C0.965149%2012.6673%200.666672%2012.3688%200.666672%2012.0007V2.00065ZM3.68333%207.33392C3.68333%205.13398%205.46673%203.35059%207.66667%203.35059C9.8666%203.35059%2011.65%205.13398%2011.65%207.33392C11.65%209.53385%209.8666%2011.3173%207.66667%2011.3173C5.46673%2011.3173%203.68333%209.53385%203.68333%207.33392ZM7.66667%204.65059C6.1847%204.65059%204.98333%205.85195%204.98333%207.33392C4.98333%208.81588%206.1847%2010.0173%207.66667%2010.0173C9.14863%2010.0173%2010.35%208.81588%2010.35%207.33392C10.35%205.85195%209.14863%204.65059%207.66667%204.65059ZM7.24999%205.43359C7.60898%205.43359%207.89999%205.72461%207.89999%206.08359V7.10026H8.91666C9.27564%207.10026%209.56666%207.39128%209.56666%207.75026C9.56666%208.10925%209.27564%208.40026%208.91666%208.40026H7.24999C6.89101%208.40026%206.59999%208.10925%206.59999%207.75026V6.08359C6.59999%205.72461%206.89101%205.43359%207.24999%205.43359Z'%20fill='currentColor'/%3e%3c/svg%3e",mv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.68335%202.00156C0.68335%201.64258%200.974365%201.35156%201.33335%201.35156H14.6667C15.0257%201.35156%2015.3167%201.64258%2015.3167%202.00156V5.66823C15.3167%206.02721%2015.0257%206.31823%2014.6667%206.31823C14.3077%206.31823%2014.0167%206.02721%2014.0167%205.66823V2.65156H1.98335V11.3516H3.66668C4.02567%2011.3516%204.31668%2011.6426%204.31668%2012.0016V12.6165L6.70933%2011.4202C6.79958%2011.3751%206.89911%2011.3516%207.00002%2011.3516H8.50002C8.859%2011.3516%209.15002%2011.6426%209.15002%2012.0016C9.15002%2012.3605%208.859%2012.6516%208.50002%2012.6516H7.15346L3.95737%2014.2496C3.75588%2014.3504%203.51659%2014.3396%203.32496%2014.2212C3.13333%2014.1027%203.01668%2013.8935%203.01668%2013.6682V12.6516H1.33335C0.974365%2012.6516%200.68335%2012.3605%200.68335%2012.0016V2.00156ZM3.35004%204.66825C3.35004%204.30926%203.64105%204.01825%204.00004%204.01825H6.00004C6.35902%204.01825%206.65004%204.30926%206.65004%204.66825C6.65004%205.02723%206.35902%205.31825%206.00004%205.31825H4.00004C3.64105%205.31825%203.35004%205.02723%203.35004%204.66825ZM4.00004%206.01825C3.64105%206.01825%203.35004%206.30926%203.35004%206.66825C3.35004%207.02723%203.64105%207.31825%204.00004%207.31825H8.00004C8.35902%207.31825%208.65004%207.02723%208.65004%206.66825C8.65004%206.30926%208.35902%206.01825%208.00004%206.01825H4.00004ZM12.3334%207.9849C11.2196%207.9849%2010.3167%208.88779%2010.3167%2010.0016C10.3167%2011.1153%2011.2196%2012.0182%2012.3334%2012.0182C13.4471%2012.0182%2014.35%2011.1153%2014.35%2010.0016C14.35%208.88779%2013.4471%207.9849%2012.3334%207.9849ZM9.0167%2010.0016C9.0167%208.16982%2010.5016%206.6849%2012.3334%206.6849C14.1651%206.6849%2015.65%208.16982%2015.65%2010.0016C15.65%2011.8333%2014.1651%2013.3182%2012.3334%2013.3182C10.5016%2013.3182%209.0167%2011.8333%209.0167%2010.0016ZM12.65%209.00159C12.65%208.6426%2012.359%208.35159%2012%208.35159C11.641%208.35159%2011.35%208.6426%2011.35%209.00159V10.3349C11.35%2010.6939%2011.641%2010.9849%2012%2010.9849H13.3334C13.6923%2010.9849%2013.9834%2010.6939%2013.9834%2010.3349C13.9834%209.97593%2013.6923%209.68492%2013.3334%209.68492H12.65V9.00159Z'%20fill='%23595959'/%3e%3c/svg%3e",yv="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1719823121880'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='7203'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M723.6%20926.7H301.9c-17.5%200-33.7-9.4-42.4-24.5L48.6%20537c-8.7-15.1-8.7-33.9%200-49l210.9-365.2c8.7-15.1%2025-24.5%2042.4-24.5h421.7c17.5%200%2033.7%209.4%2042.4%2024.5L976.9%20488c8.7%2015.1%208.7%2033.9%200%2049L766%20902.2c-8.7%2015.1-25%2024.5-42.4%2024.5z%20m-410.7-68.2h399.6l199.8-346.1-199.8-346H312.9l-199.8%20346%20199.8%20346.1z'%20fill=''%20p-id='7204'%3e%3c/path%3e%3cpath%20d='M512.7%20663.5c-83.3%200-151.1-67.8-151.1-151.1s67.8-151.1%20151.1-151.1%20151.1%2067.8%20151.1%20151.1c0%2083.4-67.8%20151.1-151.1%20151.1z%20m0-234c-45.7%200-82.9%2037.2-82.9%2082.9s37.2%2082.9%2082.9%2082.9%2082.9-37.2%2082.9-82.9-37.1-82.9-82.9-82.9z'%20fill=''%20p-id='7205'%3e%3c/path%3e%3c/svg%3e",_v="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.66667%201.33325L14.6667%207.33325L8.66667%2012.9999V9.33325C4%209.33325%202%2014.3333%202%2014.3333C2%208.66659%203.66667%204.99992%208.66667%204.99992V1.33325Z'%20stroke='%23595959'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",bv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M7.61198%2013.2782C10.7416%2013.2782%2013.2786%2010.7411%2013.2786%207.61149C13.2786%204.48188%2010.7416%201.94482%207.61198%201.94482C4.48237%201.94482%201.94531%204.48188%201.94531%207.61149C1.94531%2010.7411%204.48237%2013.2782%207.61198%2013.2782Z'%20stroke='%238C8C8C'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.667%2011.6667L13.667%2013.6667'%20stroke='%238C8C8C'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M7.66699%205.66675V10.3334'%20stroke='%238C8C8C'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%205.66675H7.66667H9.33333'%20stroke='%238C8C8C'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Cv="/assets/img/skii-DWT6qC5M.svg",wv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%2300D273'/%3e%3cpath%20d='M20.0769%208.58398C20.0769%208.58398%2010.7385%2016.1348%2010.7385%2021.2754C10.7385%2026.4166%2014.9185%2030.584%2020.0769%2030.584C25.2347%2030.584%2029.4152%2026.4166%2029.4152%2021.2754C29.4152%2016.1348%2020.0769%208.58398%2020.0769%208.58398ZM19.2655%2026.4338L20.0769%2022.2813H16.0171L21.2962%2015.6381L20.4848%2019.7905H24.5463L19.2649%2026.4338H19.2655Z'%20fill='%23EBFFF6'/%3e%3c/svg%3e",xv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%23FF9326'/%3e%3cpath%20d='M15.8332%205.04175H4.1665V13.7917H8.5415L9.99984%2015.2501L11.4582%2013.7917H15.8332V5.04175Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.0835%207.66675H8.8335'%20stroke='%23FF9326'%20stroke-width='1.16667'%20stroke-linecap='round'/%3e%3cpath%20d='M7.0835%2010H7.66683'%20stroke='%23FF9326'%20stroke-width='1.16667'%20stroke-linecap='round'/%3e%3cpath%20d='M11.4585%207.08325L13.5002%2011.1666'%20stroke='%23FF9326'%20stroke-width='1.16667'%20stroke-linecap='round'/%3e%3cpath%20d='M11.4582%207.08325L9.4165%2011.1666'%20stroke='%23FF9326'%20stroke-width='1.16667'%20stroke-linecap='round'/%3e%3cpath%20d='M10%2010H12.9167'%20stroke='%23FF9326'%20stroke-width='1.16667'%20stroke-linecap='round'/%3e%3c/svg%3e",kv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2335C759'/%3e%3cg%20clip-path='url(%23josbyd8eh__clip0_6476_8271)'%20stroke='%23fff'%20stroke-linejoin='round'%3e%3cpath%20d='M9.99984%2015.8334C13.2215%2015.8334%2015.8332%2013.2217%2015.8332%2010.0001C15.8332%206.77842%2013.2215%204.16675%209.99984%204.16675C6.77817%204.16675%204.1665%206.77842%204.1665%2010.0001C4.1665%2013.2217%206.77817%2015.8334%209.99984%2015.8334Z'/%3e%3cpath%20d='M8.8335%209.99997V7.97925L10.5835%208.98961L12.3335%209.99997L10.5835%2011.0103L8.8335%2012.0207V9.99997Z'%20fill='%23fff'%20stroke-width='1.16667'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='josbyd8eh__clip0_6476_8271'%3e%3cpath%20fill='%23fff'%20transform='translate(3%203)'%20d='M0%200H14V14H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Sv="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0.666672%201.83366C0.666672%201.46547%200.965149%201.16699%201.33334%201.16699H2.33334H13.6667H14.6667C15.0349%201.16699%2015.3333%201.46547%2015.3333%201.83366C15.3333%202.20185%2015.0349%202.50033%2014.6667%202.50033H14.3333V11.167C14.3333%2011.5352%2014.0349%2011.8337%2013.6667%2011.8337H9.60981L11.1381%2013.3619C11.3984%2013.6223%2011.3984%2014.0444%2011.1381%2014.3047C10.8777%2014.5651%2010.4556%2014.5651%2010.1953%2014.3047L8.00001%2012.1095L5.80474%2014.3047C5.54439%2014.5651%205.12228%2014.5651%204.86193%2014.3047C4.60158%2014.0444%204.60158%2013.6223%204.86193%2013.3619L6.3902%2011.8337H2.33334C1.96515%2011.8337%201.66667%2011.5352%201.66667%2011.167V2.50033H1.33334C0.965149%202.50033%200.666672%202.20185%200.666672%201.83366ZM11.7942%204.97792C12.0543%204.7173%2012.0538%204.29519%2011.7932%204.03511C11.5326%203.77503%2011.1105%203.77546%2010.8504%204.03608L7.99711%206.89526L6.98831%205.90849C6.72939%205.65523%206.31564%205.65501%206.05646%205.908L4.17562%207.74393C3.91215%208.00112%203.90705%208.4232%204.16423%208.68667C4.42142%208.95015%204.8435%208.95525%205.10698%208.69806L6.52165%207.31716L7.53659%208.30995C7.79794%208.56558%208.21641%208.56306%208.47466%208.30429L11.7942%204.97792Z'%20fill='currentColor'/%3e%3c/svg%3e",Ev="data:image/svg+xml,%3csvg%20width='62'%20height='62'%20viewBox='0%200%2062%2062'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_143_1465)'%3e%3ccircle%20cx='31'%20cy='31'%20r='27.125'%20fill='%2321A665'/%3e%3cpath%20d='M23.25%2031L31%2038.75L46.5%2023.25'%20stroke='white'%20stroke-width='5.0375'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_143_1465'%3e%3crect%20width='62'%20height='62'%20rx='31'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Mv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M14.6667%202.66797H1.33337V12.668H6.33337L8.00004%2014.3346L9.66671%2012.668H14.6667V2.66797Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%207.66797V10.668'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3cpath%20d='M8%205.33203V5.66536'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'/%3e%3c/svg%3e",Ov="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M9.5%2011H13C13.5523%2011%2014%2010.5523%2014%2010V3C14%202.44772%2013.5523%202%2013%202H3C2.44772%202%202%202.44772%202%203V3.10526'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.66663%206C1.66663%205.44771%202.11434%205%202.66663%205H6.66663C7.21891%205%207.66663%205.44772%207.66663%206V13.3333C7.66663%2013.8856%207.21891%2014.3333%206.66663%2014.3333H2.66663C2.11434%2014.3333%201.66663%2013.8856%201.66663%2013.3333V6Z'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linejoin='round'/%3e%3cpath%20d='M4.33398%2012.3359H5.00065'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%2013.3359H14'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Av="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M6.09452%2014.4098C4.97749%2014.0772%203.98319%2013.4598%203.19588%2012.6417C3.48959%2012.2936%203.66659%2011.8438%203.66659%2011.3527C3.66659%2010.2482%202.77116%209.35274%201.66659%209.35274C1.59977%209.35274%201.53372%209.35604%201.46858%209.36244C1.37985%208.9286%201.33325%208.47947%201.33325%208.0194C1.33325%207.32254%201.44018%206.65064%201.63852%206.0192C1.64786%206.01934%201.65721%206.0194%201.66659%206.0194C2.77116%206.0194%203.66659%205.12397%203.66659%204.0194C3.66659%203.7023%203.59279%203.40247%203.46145%203.13607C4.23242%202.4192%205.17342%201.88271%206.21729%201.59375C6.54805%202.2421%207.22215%202.68608%207.99992%202.68608C8.77769%202.68608%209.45179%202.2421%209.78255%201.59375C10.8264%201.88271%2011.7674%202.4192%2012.5384%203.13607C12.4071%203.40247%2012.3333%203.7023%2012.3333%204.0194C12.3333%205.12397%2013.2287%206.0194%2014.3333%206.0194C14.3426%206.0194%2014.352%206.01934%2014.3613%206.0192C14.5597%206.65064%2014.6666%207.32254%2014.6666%208.0194C14.6666%208.47947%2014.62%208.9286%2014.5313%209.36244C14.4661%209.35604%2014.4001%209.35274%2014.3333%209.35274C13.2287%209.35274%2012.3333%2010.2482%2012.3333%2011.3527C12.3333%2011.8438%2012.5103%2012.2936%2012.804%2012.6417C12.0167%2013.4598%2011.0224%2014.0772%209.90532%2014.4098C9.64752%2013.6034%208.89192%2013.0194%207.99992%2013.0194C7.10792%2013.0194%206.35232%2013.6034%206.09452%2014.4098Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.99984%2010.3542C9.2885%2010.3542%2010.3332%209.3095%2010.3332%208.02083C10.3332%206.73217%209.2885%205.6875%207.99984%205.6875C6.71117%205.6875%205.6665%206.73217%205.6665%208.02083C5.6665%209.3095%206.71117%2010.3542%207.99984%2010.3542Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3c/svg%3e",Lv="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.17082%201.44106C8.06101%201.40898%207.94431%201.40897%207.83449%201.44102L2.43191%203.01771C2.17595%203.09241%202%203.32705%202%203.59368V6.8256C2%2010.4833%204.34095%2013.7305%207.81116%2014.8864C7.93427%2014.9274%208.06735%2014.9274%208.19045%2014.8864C11.6598%2013.7304%2014%2010.4839%2014%206.8271V3.59368C14%203.32711%2013.8241%203.0925%2013.5682%203.01775L8.17082%201.44106ZM9.68367%207.11249C9.37179%207.42437%208.98568%207.61679%208.58222%207.68975L8.58222%208.65868H9.69417C10.0173%208.65868%2010.2792%208.9206%2010.2792%209.24368C10.2792%209.56677%2010.0173%209.82868%209.69417%209.82868H8.58222V10.7799H9.69428C10.0174%2010.7799%2010.2793%2011.0418%2010.2793%2011.3649C10.2793%2011.688%2010.0174%2011.9499%209.69428%2011.9499H8.58222V12.5169C8.58222%2012.84%208.3203%2013.1019%207.99722%2013.1019C7.67413%2013.1019%207.41222%2012.84%207.41222%2012.5169L7.41222%209.25455L7.41212%209.24368L7.41222%209.23281L7.41222%207.56537C7.16594%207.46362%206.9352%207.31266%206.73503%207.11249C5.92079%206.29825%205.92079%204.9781%206.73503%204.16386C7.54927%203.34961%208.86942%203.34961%209.68367%204.16386C10.4979%204.9781%2010.4979%206.29825%209.68367%207.11249ZM7.56235%206.28518C7.20502%205.92785%207.20502%205.3485%207.56235%204.99117C7.91968%204.63384%208.49902%204.63384%208.85635%204.99117C9.21368%205.3485%209.21368%205.92785%208.85635%206.28518C8.64946%206.49207%208.36815%206.57917%208.09859%206.54649C8.08639%206.54435%208.07407%206.5426%208.06162%206.54124C7.87882%206.51149%207.70331%206.42614%207.56235%206.28518Z'%20fill='%23A1A7B3'/%3e%3c/svg%3e",Tv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.17082%201.44106C8.06101%201.40898%207.94431%201.40897%207.83449%201.44102L2.43191%203.01771C2.17595%203.09241%202%203.32705%202%203.59368V6.8256C2%2010.4833%204.34095%2013.7305%207.81116%2014.8864C7.93427%2014.9274%208.06735%2014.9274%208.19045%2014.8864C11.6598%2013.7304%2014%2010.4839%2014%206.8271V3.59368C14%203.32711%2013.8241%203.0925%2013.5682%203.01775L8.17082%201.44106ZM9.68367%207.11249C9.37179%207.42437%208.98568%207.61679%208.58222%207.68975L8.58222%208.65868H9.69417C10.0173%208.65868%2010.2792%208.9206%2010.2792%209.24368C10.2792%209.56677%2010.0173%209.82868%209.69417%209.82868H8.58222V10.7799H9.69428C10.0174%2010.7799%2010.2793%2011.0418%2010.2793%2011.3649C10.2793%2011.688%2010.0174%2011.9499%209.69428%2011.9499H8.58222V12.5169C8.58222%2012.84%208.3203%2013.1019%207.99722%2013.1019C7.67413%2013.1019%207.41222%2012.84%207.41222%2012.5169L7.41222%209.25455L7.41212%209.24368L7.41222%209.23281L7.41222%207.56537C7.16594%207.46362%206.9352%207.31266%206.73503%207.11249C5.92079%206.29825%205.92079%204.9781%206.73503%204.16386C7.54927%203.34961%208.86942%203.34961%209.68367%204.16386C10.4979%204.9781%2010.4979%206.29825%209.68367%207.11249ZM7.56235%206.28518C7.20502%205.92785%207.20502%205.3485%207.56235%204.99117C7.91968%204.63384%208.49902%204.63384%208.85635%204.99117C9.21368%205.3485%209.21368%205.92785%208.85635%206.28518C8.64946%206.49207%208.36815%206.57917%208.09859%206.54649C8.08639%206.54435%208.07407%206.5426%208.06162%206.54124C7.87882%206.51149%207.70331%206.42614%207.56235%206.28518Z'%20fill='%232475FC'/%3e%3c/svg%3e",Nv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8.17082%201.44106C8.06101%201.40898%207.94431%201.40897%207.83449%201.44102L2.43191%203.01771C2.17595%203.09241%202%203.32705%202%203.59368V6.8256C2%2010.4833%204.34095%2013.7305%207.81116%2014.8864C7.93427%2014.9274%208.06735%2014.9274%208.19045%2014.8864C11.6598%2013.7304%2014%2010.4839%2014%206.8271V3.59368C14%203.32711%2013.8241%203.0925%2013.5682%203.01775L8.17082%201.44106ZM9.68367%207.11249C9.37179%207.42437%208.98568%207.61679%208.58222%207.68975L8.58222%208.65868H9.69417C10.0173%208.65868%2010.2792%208.9206%2010.2792%209.24368C10.2792%209.56677%2010.0173%209.82868%209.69417%209.82868H8.58222V10.7799H9.69428C10.0174%2010.7799%2010.2793%2011.0418%2010.2793%2011.3649C10.2793%2011.688%2010.0174%2011.9499%209.69428%2011.9499H8.58222V12.5169C8.58222%2012.84%208.3203%2013.1019%207.99722%2013.1019C7.67413%2013.1019%207.41222%2012.84%207.41222%2012.5169L7.41222%209.25455L7.41212%209.24368L7.41222%209.23281L7.41222%207.56537C7.16594%207.46362%206.9352%207.31266%206.73503%207.11249C5.92079%206.29825%205.92079%204.9781%206.73503%204.16386C7.54927%203.34961%208.86942%203.34961%209.68367%204.16386C10.4979%204.9781%2010.4979%206.29825%209.68367%207.11249ZM7.56235%206.28518C7.20502%205.92785%207.20502%205.3485%207.56235%204.99117C7.91968%204.63384%208.49902%204.63384%208.85635%204.99117C9.21368%205.3485%209.21368%205.92785%208.85635%206.28518C8.64946%206.49207%208.36815%206.57917%208.09859%206.54649C8.08639%206.54435%208.07407%206.5426%208.06162%206.54124C7.87882%206.51149%207.70331%206.42614%207.56235%206.28518Z'%20fill='currentColor'/%3e%3c/svg%3e",Dv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cpath%20d='M15.0563%2031.635L14.6775%2017.1627C13.9136%2016.8805%2016.9993%2013.2218%2018.2659%2013.5446C21.9799%2012.6039%2026.0172%206.64656%2018.6463%202.22852C-3.65612%202.22852%20-1.21229%2029.8644%2015.0563%2031.635Z'%20fill='%23B3DDF2'/%3e%3cpath%20d='M14.9855%2031.6275C8.34013%2030.0879%201.83654%2020.7167%209.79142%2012.3055C11.6185%2010.6824%207.9689%205.89074%204.97923%208.53347C-2.96401%2019.6048%207.48296%2031.6575%2014.9855%2031.6275Z'%20fill='%230055E9'/%3e%3cpath%20d='M13.9139%2017.7027C13.7306%2017.8356%2013.9139%2017.6257%2013.9139%2017.7027V17.7027ZM13.9139%2017.7027V18.8574C13.9139%2019.0114%2013.7001%2020.0352%2013.6084%2020.474L14.7542%2022.9374C14.7542%2022.9374%2015.518%2023.1683%2015.5944%2023.2453C15.6707%2023.3223%2016.045%2023.3762%2016.2054%2023.3993L17.8095%2024.4L20.4829%2024.0151L23.9202%2022.9374L27.1283%2020.1661L28.1213%2018.4725L28.9615%2014.1616L28.8087%2012.1601V10.3896L27.0519%207.15639L26.1353%206.00172L24.5312%204.53907L23.1563%203.6923L22.7744%203.46134L22.3161%203.3074L21.4759%202.99947L18.8025%202.30664C24.6077%204.23119%2025.066%2010.1586%2023.3855%2013.007C21.705%2015.8553%2018.0642%2017.4995%2014.525%2017.1639L13.9139%2017.7027Z'%20fill='%2300BCFF'/%3e%3cpath%20d='M15.4408%2031.6379C20.6348%2033.0228%2032.0112%2028.0254%2031.8632%2017.3196C32.2454%2012.546%2027.8244%203.05039%2020.6348%202.69336C28.6499%204.33841%2031.712%2019.1763%2021.3238%2022.8622C16.1285%2024.1708%2014.2194%2020.1678%2014.6021%2017.3196C9.25707%2017.5918%206.4217%2029.1424%2015.4408%2031.6379Z'%20fill='%230055DF'/%3e%3c/svg%3e",Pv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3crect%20width='24'%20height='24'%20rx='4.8'%20fill='%232475FC'/%3e%3cg%20filter='url(%236qvugxzk4__filter0_d_341_3719)'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.5999%206.6001C5.93716%206.6001%205.3999%207.13736%205.3999%207.8001V16.2001C5.3999%2016.8628%205.93716%2017.4001%206.5999%2017.4001H17.3999C18.0626%2017.4001%2018.5999%2016.8628%2018.5999%2016.2001V7.8001C18.5999%207.13736%2018.0626%206.6001%2017.3999%206.6001H6.5999Z'%20fill='url(%236qvugxzk4__paint0_linear_341_3719)'/%3e%3c/g%3e%3cpath%20d='M8.3999%2010.2L10.4999%2012L8.3999%2013.8'%20stroke='%232475FC'%20stroke-width='.6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.7002%2014.3999H15.6002'%20stroke='%232475FC'%20stroke-width='.6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cdefs%3e%3clinearGradient%20id='6qvugxzk4__paint0_linear_341_3719'%20x1='5.3999'%20y1='12.0001'%20x2='18.5999'%20y2='12.0001'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23EBF3FF'/%3e%3cstop%20offset='1'%20stop-color='%23C2D9FF'/%3e%3c/linearGradient%3e%3cfilter%20id='6qvugxzk4__filter0_d_341_3719'%20x='2.9999'%20y='5.4001'%20width='18.0002'%20height='15.6'%20filterUnits='userSpaceOnUse'%20color-interpolation-filters='sRGB'%3e%3cfeFlood%20flood-opacity='0'%20result='BackgroundImageFix'/%3e%3cfeColorMatrix%20in='SourceAlpha'%20values='0%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%200%20127%200'%20result='hardAlpha'/%3e%3cfeOffset%20dy='1.2'/%3e%3cfeGaussianBlur%20stdDeviation='1.2'/%3e%3cfeComposite%20in2='hardAlpha'%20operator='out'/%3e%3cfeColorMatrix%20values='0%200%200%200%200.070708%200%200%200%200%200.175495%200%200%200%200%200.348845%200%200%200%200.32%200'/%3e%3cfeBlend%20in2='BackgroundImageFix'%20result='effect1_dropShadow_341_3719'/%3e%3cfeBlend%20in='SourceGraphic'%20in2='effect1_dropShadow_341_3719'%20result='shape'/%3e%3c/filter%3e%3c/defs%3e%3c/svg%3e",Rv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20class='design-iconfont'%3e%3crect%20width='24'%20height='24'%20rx='4.8'%20fill='%23A1A7B3'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.5999%206.6001C5.93716%206.6001%205.3999%207.13736%205.3999%207.8001V16.2001C5.3999%2016.8628%205.93716%2017.4001%206.5999%2017.4001H17.3999C18.0626%2017.4001%2018.5999%2016.8628%2018.5999%2016.2001V7.8001C18.5999%207.13736%2018.0626%206.6001%2017.3999%206.6001H6.5999Z'%20fill='%233A4559'/%3e%3cpath%20d='M8.3999%2010.2L10.4999%2012L8.3999%2013.8'%20stroke='%23fff'%20stroke-width='.6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.7002%2014.3999H15.6002'%20stroke='%23fff'%20stroke-width='.6'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Hv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M14.1851%201.81598C15.4406%203.07142%2015.1967%205.4938%2013.7879%208.00056C15.1967%2010.5083%2015.4395%2012.9307%2014.1851%2014.1851C12.9297%2015.4406%2010.5073%2015.1977%208.00056%2013.79C5.49277%2015.1967%203.06936%2015.4406%201.81495%2014.1862C0.559511%2012.9307%200.803395%2010.5083%202.21113%208.00159C0.803395%205.49277%200.559511%203.06936%201.81495%201.81495C3.07039%200.559511%205.49277%200.803395%208.00056%202.21113C10.5073%200.803395%2012.9297%200.559511%2014.1851%201.81495V1.81598ZM2.97366%209.20455L2.94073%209.2704C2.09176%2011.0507%201.98268%2012.6066%202.68758%2013.3125C3.40174%2014.0267%204.98853%2013.9052%206.79657%2013.0285C6.05788%2012.5034%205.36492%2011.9168%204.7251%2011.275C4.08376%2010.6356%203.49784%209.943%202.97366%209.20455ZM13.0275%209.20455L12.8597%209.43608C12.3987%2010.0617%2011.8677%2010.6812%2011.275%2011.275C10.6354%2011.9167%209.94237%2012.503%209.20352%2013.0275C11.0105%2013.9052%2012.5973%2014.0267%2013.3115%2013.3125C14.0256%2012.5983%2013.9042%2011.0116%2013.0275%209.20455ZM7.99953%203.6518L7.9028%203.71457C7.07205%204.26257%206.29965%204.89427%205.59773%205.59979C4.86502%206.32873%204.21233%207.1339%203.65077%208.00159C4.21306%208.86871%204.86607%209.6735%205.59876%2010.4024C6.32765%2011.1354%207.13282%2011.7885%208.00056%2012.3503C8.86768%2011.7881%209.67247%2011.135%2010.4013%2010.4024C11.1345%209.67282%2011.7876%208.86695%2012.3493%207.9985C11.7868%207.13246%2011.1338%206.32871%2010.4013%205.60082C9.67244%204.86775%208.86726%204.21471%207.99953%203.65283V3.6518ZM7.88016%206.62678C8.08286%206.62678%208.28359%206.6667%208.47086%206.74428C8.65813%206.82185%208.8283%206.93555%208.97163%207.07888C9.11496%207.22222%209.22866%207.39238%209.30624%207.57965C9.38381%207.76693%209.42373%207.96765%209.42373%208.17035C9.42373%208.37306%209.38381%208.57378%209.30624%208.76105C9.22866%208.94833%209.11496%209.11849%208.97163%209.26182C8.8283%209.40516%208.65813%209.51886%208.47086%209.59643C8.28359%209.674%208.08286%209.71392%207.88016%209.71392C7.47078%209.71392%207.07817%209.5513%206.78869%209.26182C6.49921%208.97235%206.33659%208.57973%206.33659%208.17035C6.33659%207.76097%206.49921%207.36836%206.78869%207.07888C7.07817%206.78941%207.47078%206.62678%207.88016%206.62678ZM6.79657%202.97366C4.98853%202.09588%203.40174%201.97548%202.68758%202.68861C1.97342%203.40277%202.09485%204.98956%202.97263%206.7976C3.49736%206.05895%204.08361%205.366%204.7251%204.72613C5.29772%204.1524%205.91277%203.62265%206.56504%203.14139L6.79657%202.97366ZM9.26937%202.94176L9.20352%202.97469C9.94197%203.49887%2010.6346%204.08479%2011.274%204.72613C11.9157%205.36544%2012.5019%206.05808%2013.0264%206.79657C13.9042%204.98956%2014.0256%203.40277%2013.3115%202.68861C12.6055%201.98371%2011.0496%202.09279%209.26937%202.94176Z'%20fill='currentColor'/%3e%3c/svg%3e",Iv="/assets/img/tongyiqianwen-CnkLl0aK.svg",Bv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3crect%20width='40'%20height='40'%20rx='8'%20fill='%234462FF'/%3e%3cpath%20d='M30.9999%2028.9047H29.9523V16.3333C29.9523%2015.1809%2029.0094%2014.2381%2027.857%2014.2381H23.6665V28.9047H22.6189V11.0952C22.6189%209.94286%2021.6761%209%2020.5237%209H12.1427C10.9904%209%2010.0475%209.94284%2010.0475%2011.0952V28.9047H8.99987C8.6856%2028.9047%208.47607%2029.1143%208.47607%2029.4286V30.4762C8.47607%2030.7905%208.68562%2031%208.99989%2031H30.9999C31.3142%2031%2031.5237%2030.7905%2031.5237%2030.4762V29.4286C31.5237%2029.1143%2031.3141%2028.9048%2030.9999%2028.9048V28.9047ZM15.2856%2024.1905C15.2856%2024.5047%2015.0761%2024.7143%2014.7618%2024.7143H12.6666C12.3523%2024.7143%2012.1427%2024.5047%2012.1427%2024.1905V23.1428C12.1427%2022.8286%2012.3523%2022.619%2012.6666%2022.619H14.7618C15.0761%2022.619%2015.2856%2022.8286%2015.2856%2023.1428V24.1905ZM15.2856%2020C15.2856%2020.3143%2015.0761%2020.5238%2014.7618%2020.5238H12.6666C12.3523%2020.5238%2012.1427%2020.3143%2012.1427%2020V18.9524C12.1427%2018.6381%2012.3523%2018.4286%2012.6666%2018.4286H14.7618C15.0761%2018.4286%2015.2856%2018.6381%2015.2856%2018.9524V20ZM15.2856%2015.8095C15.2856%2016.1238%2015.0761%2016.3333%2014.7618%2016.3333H12.6666C12.3523%2016.3333%2012.1427%2016.1238%2012.1427%2015.8095V14.7619C12.1427%2014.4476%2012.3523%2014.2381%2012.6666%2014.2381H14.7618C15.0761%2014.2381%2015.2856%2014.4476%2015.2856%2014.7619V15.8095ZM20.5237%2024.1905C20.5237%2024.5047%2020.3141%2024.7143%2019.9999%2024.7143H17.9047C17.5903%2024.7143%2017.3808%2024.5047%2017.3808%2024.1905V23.1428C17.3808%2022.8286%2017.5904%2022.619%2017.9046%2022.619H19.9999C20.3142%2022.619%2020.5237%2022.8286%2020.5237%2023.1428V24.1905ZM20.5237%2020C20.5237%2020.3143%2020.3141%2020.5238%2019.9999%2020.5238H17.9047C17.5903%2020.5238%2017.3808%2020.3143%2017.3808%2020V18.9524C17.3808%2018.6381%2017.5904%2018.4286%2017.9046%2018.4286H19.9999C20.3142%2018.4286%2020.5237%2018.6381%2020.5237%2018.9524V20ZM20.5237%2015.8095C20.5237%2016.1238%2020.3141%2016.3333%2019.9999%2016.3333H17.9047C17.5903%2016.3333%2017.3808%2016.1238%2017.3808%2015.8095V14.7619C17.3808%2014.4476%2017.5904%2014.2381%2017.9046%2014.2381H19.9999C20.3142%2014.2381%2020.5237%2014.4476%2020.5237%2014.7619V15.8095ZM28.3808%2024.1905C28.3808%2024.5047%2028.1713%2024.7143%2027.857%2024.7143H25.7618C25.4475%2024.7143%2025.238%2024.5047%2025.238%2024.1905V23.1428C25.238%2022.8286%2025.4475%2022.619%2025.7618%2022.619H27.857C28.1713%2022.619%2028.3808%2022.8286%2028.3808%2023.1428V24.1905H28.3808ZM28.3808%2020C28.3808%2020.3143%2028.1713%2020.5238%2027.857%2020.5238H25.7618C25.4475%2020.5238%2025.238%2020.3143%2025.238%2020V18.9524C25.238%2018.6381%2025.4475%2018.4286%2025.7618%2018.4286H27.857C28.1713%2018.4286%2028.3808%2018.6381%2028.3808%2018.9524V20H28.3808Z'%20fill='%23EBEEFF'/%3e%3c/svg%3e",jv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M12.5%206.9974L14.1667%209.9974L12.5%2010.3307V12.3307H11.5L9.50004%2011.9974L9.16671%2014.3307H4.16671L3.50004%2010.8704C2.47363%209.89833%201.83337%208.52263%201.83337%206.9974C1.83337%204.05186%204.22117%201.66406%207.16671%201.66406C10.1122%201.66406%2012.5%204.05186%2012.5%206.9974Z'%20fill='currentColor'%20stroke='currentColor'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.49939%206.33073C5.49939%205.41026%206.24559%204.66406%207.16606%204.66406C8.08652%204.66406%208.83272%205.41026%208.83272%206.33073C8.83272%207.2512%208.08652%207.9974%207.16606%207.9974V8.9974'%20stroke='%23fff'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.16736%2011V11.3333'%20stroke='%23fff'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Fv="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1163_6530)'%3e%3cpath%20d='M14.6667%208.00016C14.6667%2011.6821%2011.6819%2014.6668%208.00003%2014.6668C6.00887%2014.6668%201.33335%2014.6668%201.33335%2014.6668C1.33335%2014.6668%201.33335%209.6909%201.33335%208.00016C1.33335%204.31826%204.31813%201.3335%208.00003%201.3335C11.6819%201.3335%2014.6667%204.31826%2014.6667%208.00016Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%209.33333V8C9.10457%208%2010%207.10457%2010%206C10%204.89543%209.10457%204%208%204C6.89543%204%206%204.89543%206%206'%20stroke='%23262626'%20stroke-width='1.33333'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8.66666%2011.4998C8.66666%2011.868%208.36818%2012.1665%208%2012.1665C7.63181%2012.1665%207.33333%2011.868%207.33333%2011.4998C7.33333%2011.1317%207.63181%2010.8332%208%2010.8332C8.36818%2010.8332%208.66666%2011.1317%208.66666%2011.4998Z'%20fill='%23091E41'%20stroke='%23262626'%20stroke-width='0.333333'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1163_6530'%3e%3crect%20width='16'%20height='16'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Vv="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%2010.4062V2.09375C11%201.76719%2010.7328%201.5%2010.4062%201.5H2.09375C1.76719%201.5%201.5%201.76719%201.5%202.09375V10.4062C1.5%2010.7328%201.76719%2011%202.09375%2011H10.4062C10.7328%2011%2011%2010.7328%2011%2010.4062ZM7.82344%204.35C7.34796%204.35%206.9625%204.73545%206.9625%205.21094V8.41719C6.9625%208.74511%206.69667%209.01094%206.36875%209.01094V9.01094C6.04083%209.01094%205.775%208.74511%205.775%208.41719V5.19609C5.775%204.72881%205.39619%204.35%204.92891%204.35H4.5875C4.30877%204.35%204.08281%204.12404%204.08281%203.84531V3.84531C4.08281%203.56658%204.30877%203.34062%204.5875%203.34062H8.17969C8.45842%203.34062%208.68438%203.56658%208.68438%203.84531V3.84531C8.68438%204.12404%208.45842%204.35%208.17969%204.35H7.82344Z'%20fill='%232475FC'/%3e%3cpath%20d='M13.9062%205H11.8281V11.2344C11.8281%2011.5609%2011.5609%2011.8281%2011.2344%2011.8281H5.92857C5.41574%2011.8281%205%2012.2439%205%2012.7567V13.9062C5%2014.2328%205.26719%2014.5%205.59375%2014.5H13.9062C14.2328%2014.5%2014.5%2014.2328%2014.5%2013.9062V5.59375C14.5%205.26719%2014.2328%205%2013.9062%205Z'%20fill='%232475FC'/%3e%3c/svg%3e",$v="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%2010.4062V2.09375C11%201.76719%2010.7328%201.5%2010.4062%201.5H2.09375C1.76719%201.5%201.5%201.76719%201.5%202.09375V10.4062C1.5%2010.7328%201.76719%2011%202.09375%2011H10.4062C10.7328%2011%2011%2010.7328%2011%2010.4062ZM7.82344%204.35C7.34796%204.35%206.9625%204.73545%206.9625%205.21094V8.41719C6.9625%208.74511%206.69667%209.01094%206.36875%209.01094V9.01094C6.04083%209.01094%205.775%208.74511%205.775%208.41719V5.19609C5.775%204.72881%205.39619%204.35%204.92891%204.35H4.5875C4.30877%204.35%204.08281%204.12404%204.08281%203.84531V3.84531C4.08281%203.56658%204.30877%203.34062%204.5875%203.34062H8.17969C8.45842%203.34062%208.68438%203.56658%208.68438%203.84531V3.84531C8.68438%204.12404%208.45842%204.35%208.17969%204.35H7.82344Z'%20fill='%23A1A7B3'/%3e%3cpath%20d='M13.9062%205H11.8281V11.2344C11.8281%2011.5609%2011.5609%2011.8281%2011.2344%2011.8281H5.92857C5.41574%2011.8281%205%2012.2439%205%2012.7567V13.9062C5%2014.2328%205.26719%2014.5%205.59375%2014.5H13.9062C14.2328%2014.5%2014.5%2014.2328%2014.5%2013.9062V5.59375C14.5%205.26719%2014.2328%205%2013.9062%205Z'%20fill='%23A1A7B3'/%3e%3c/svg%3e",Wv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M2%202.91985L8.00287%201.16797L14%202.91985V6.51254C14%2010.2887%2011.5834%2013.6411%208.00087%2014.8348C4.41737%2013.6411%202%2010.288%202%206.51087V2.91985Z'%20stroke='currentColor'%20stroke-width='1.3'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%206.83594C6%205.73138%206.89544%204.83594%208%204.83594C9.10456%204.83594%2010%205.73138%2010%206.83594C10%207.94049%209.10456%208.83594%208%208.83594C6.89544%208.83594%206%207.94049%206%206.83594ZM8%206.16927C7.63182%206.16927%207.33333%206.46776%207.33333%206.83594C7.33333%207.20411%207.63182%207.5026%208%207.5026C8.36818%207.5026%208.66667%207.20411%208.66667%206.83594C8.66667%206.46776%208.36818%206.16927%208%206.16927Z'%20fill='currentColor'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M5.33301%2010.1706C5.33301%208.69782%206.52692%207.50391%207.99967%207.50391C9.47243%207.50391%2010.6663%208.69782%2010.6663%2010.1706C10.6663%2010.5388%2010.3679%2010.8372%209.99967%2010.8372C9.63148%2010.8372%209.33301%2010.5388%209.33301%2010.1706C9.33301%209.4342%208.73605%208.83724%207.99967%208.83724C7.2633%208.83724%206.66634%209.4342%206.66634%2010.1706C6.66634%2010.5388%206.36786%2010.8372%205.99967%2010.8372C5.63148%2010.8372%205.33301%2010.5388%205.33301%2010.1706Z'%20fill='currentColor'/%3e%3c/svg%3e",zv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2020%2020'%20class='design-iconfont'%3e%3crect%20width='20'%20height='20'%20rx='6'%20fill='%2338F'/%3e%3cpath%20d='M6.2085%207.66797V15.2513'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%2011.457V15.2487'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10%208.54167V4.75'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.7915%204.75V12.3333'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6.20833%207.66667C7.01374%207.66667%207.66667%207.01374%207.66667%206.20833C7.66667%205.40292%207.01374%204.75%206.20833%204.75C5.40292%204.75%204.75%205.40292%204.75%206.20833C4.75%207.01374%205.40292%207.66667%206.20833%207.66667Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.99984%2011.4596C10.8052%2011.4596%2011.4582%2010.8067%2011.4582%2010.0013C11.4582%209.19589%2010.8052%208.54297%209.99984%208.54297C9.19443%208.54297%208.5415%209.19589%208.5415%2010.0013C8.5415%2010.8067%209.19443%2011.4596%209.99984%2011.4596Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M13.7918%2015.2487C14.5972%2015.2487%2015.2502%2014.5958%2015.2502%2013.7904C15.2502%2012.985%2014.5972%2012.332%2013.7918%2012.332C12.9864%2012.332%2012.3335%2012.985%2012.3335%2013.7904C12.3335%2014.5958%2012.9864%2015.2487%2013.7918%2015.2487Z'%20fill='%23fff'%20stroke='%23fff'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3c/svg%3e",Uv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M8.67937%208.27615L13.2939%205.59914V7.53711C13.2939%207.79218%2013.5006%207.99895%2013.7557%207.99895C14.0108%207.99895%2014.2175%207.79218%2014.2175%207.53711V5.04571C14.2175%204.67644%2014.0334%204.39924%2013.7562%204.21412L8.67937%201.35296C8.40314%201.16881%208.12497%201.16881%207.84874%201.35296L2.67888%204.30716C2.40265%204.39924%202.21753%204.76852%202.21753%205.04571V10.9532C2.21753%2011.2294%202.40265%2011.5076%202.67888%2011.6917L7.75569%2014.6449C8.03677%2014.8291%208.39926%2014.8291%208.67937%2014.6449L8.90942%2014.5072C9.0529%2014.4213%209.14072%2014.2664%209.14072%2014.0991V13.7994C9.14072%2013.5622%208.88209%2013.4154%208.6784%2013.5371V8.27615H8.67937ZM7.75472%2013.6311L3.1412%2010.9532V5.59914L7.75569%208.27712V13.6302L7.75472%2013.6311ZM8.21801%207.44552L3.60159%204.76755L8.21801%202.09248L12.8335%204.76851L8.21705%207.44455V7.44552H8.21801Z'%20fill='currentColor'%20stroke='currentColor'%20stroke-width='.3'/%3e%3cpath%20d='M14.0807%2010.1809C14.0807%209.91272%2013.8633%209.69531%2013.5951%209.69531H11.0034C10.7352%209.69531%2010.5178%209.91272%2010.5178%2010.1809C10.5178%2010.4491%2010.7352%2010.6665%2011.0034%2010.6665H11.71V13.9497C11.71%2014.2771%2011.9753%2014.5424%2012.3027%2014.5424C12.63%2014.5424%2012.8953%2014.2771%2012.8953%2013.9497V10.6665H13.5951C13.8633%2010.6665%2014.0807%2010.4491%2014.0807%2010.1809Z'%20fill='currentColor'%20stroke='currentColor'%20stroke-width='.3'/%3e%3c/svg%3e",Gv="data:image/svg+xml,%3csvg%20width='34'%20height='35'%20viewBox='0%200%2034%2035'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17.7151%200.0996094L2.89606%208.43231L2.70285%2025.4323L17.329%2034.0996L32.1477%2025.7669L32.3409%208.76691L17.7151%200.0996094ZM17.487%204.66114L23.984%208.4947L12.1019%2015.0664L12.0521%2026.2632L6.62563%2023.0605L6.7455%2010.7262L17.487%204.66114ZM29.3782%2011.1712L29.2583%2023.6272L17.4206%2029.6443L17.3801%2017.8059L29.3782%2011.1712Z'%20fill='%231E91EF'/%3e%3cpath%20d='M11.2795%2016.7489C11.2795%2017.1829%2011.365%2017.6126%2011.5311%2018.0136C11.6972%2018.4145%2011.9406%2018.7788%2012.2474%2019.0856C12.5543%2019.3925%2012.9186%2019.6359%2013.3195%2019.802C13.7205%2019.9681%2014.1502%2020.0535%2014.5841%2020.0535C15.0181%2020.0535%2015.4478%2019.9681%2015.8488%2019.802C16.2497%2019.6359%2016.614%2019.3925%2016.9209%2019.0856C17.2277%2018.7788%2017.4711%2018.4145%2017.6372%2018.0136C17.8033%2017.6126%2017.8887%2017.1829%2017.8887%2016.7489C17.8887%2015.8725%2017.5406%2015.032%2016.9209%2014.4122C16.3011%2013.7925%2015.4606%2013.4443%2014.5841%2013.4443C13.7077%2013.4443%2012.8672%2013.7925%2012.2474%2014.4122C11.6277%2015.032%2011.2795%2015.8725%2011.2795%2016.7489Z'%20fill='%23002F8E'/%3e%3c/svg%3e",Xv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2040%2040'%20class='design-iconfont'%3e%3cpath%20d='M30.125%207.625C31.9152%207.625%2033.6321%208.33616%2034.898%209.60203C36.1638%2010.8679%2036.875%2012.5848%2036.875%2014.375C36.875%2016.1652%2036.1638%2017.8821%2034.898%2019.148C33.6321%2020.4138%2031.9152%2021.125%2030.125%2021.125H26.75V18.875H30.125C31.2603%2018.8754%2032.3538%2018.4466%2033.1862%2017.6746C34.0187%2016.9027%2034.5286%2015.8446%2034.6138%2014.7125L34.625%2014.375C34.625%2013.1815%2034.1509%2012.0369%2033.307%2011.193C32.4631%2010.3491%2031.3185%209.875%2030.125%209.875H26.75V7.625H30.125ZM11%2017.75C9.20979%2017.75%207.4929%2018.4612%206.22703%2019.727C4.96116%2020.9929%204.25%2022.7098%204.25%2024.5C4.25%2026.2902%204.96116%2028.0071%206.22703%2029.273C7.4929%2030.5388%209.20979%2031.25%2011%2031.25H14.375V29H11C9.8647%2029.0004%208.77122%2028.5716%207.93877%2027.7996C7.10631%2027.0277%206.5964%2025.9696%206.51125%2024.8375L6.5%2024.5C6.5%2023.3065%206.97411%2022.1619%207.81802%2021.318C8.66193%2020.4741%209.80653%2020%2011%2020H14.375V17.75H11Z'%20fill='%232475FC'/%3e%3cpath%20d='M13.25%204.25H26.75C28.25%204.25%2029%205%2029%206.5V11C29%2012.5%2028.25%2013.25%2026.75%2013.25H13.25C11.75%2013.25%2011%2012.5%2011%2011V6.5C11%205%2011.75%204.25%2013.25%204.25Z'%20fill='%232CAAFF'/%3e%3cpath%20d='M13.25%2015.5H26.75C28.25%2015.5%2029%2016.25%2029%2017.75V22.25C29%2023.75%2028.25%2024.5%2026.75%2024.5H13.25C11.75%2024.5%2011%2023.75%2011%2022.25V17.75C11%2016.25%2011.75%2015.5%2013.25%2015.5Z'%20fill='%232CAAFF'/%3e%3cpath%20d='M13.25%2026.75H26.75C28.25%2026.75%2029%2027.5%2029%2029V33.5C29%2035%2028.25%2035.75%2026.75%2035.75H13.25C11.75%2035.75%2011%2035%2011%2033.5V29C11%2027.5%2011.75%2026.75%2013.25%2026.75Z'%20fill='%232475FC'/%3e%3c/svg%3e",Zv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%234ozvprixb__clip0_6470_44315)'%20fill='currentColor'%3e%3cpath%20d='M12.5%202.5C13.2956%202.5%2014.0587%202.81607%2014.6213%203.37868C15.1839%203.94129%2015.5%204.70435%2015.5%205.5C15.5%206.29565%2015.1839%207.05871%2014.6213%207.62132C14.0587%208.18393%2013.2956%208.5%2012.5%208.5H11V7.5H12.5C13.0046%207.50016%2013.4906%207.30959%2013.8605%206.9665C14.2305%206.62341%2014.4572%206.15316%2014.495%205.65L14.5%205.5C14.5%204.96957%2014.2893%204.46086%2013.9142%204.08579C13.5391%203.71071%2013.0304%203.5%2012.5%203.5H11V2.5H12.5ZM4%207C3.20435%207%202.44129%207.31607%201.87868%207.87868C1.31607%208.44129%201%209.20435%201%2010C1%2010.7956%201.31607%2011.5587%201.87868%2012.1213C2.44129%2012.6839%203.20435%2013%204%2013H5.5V12H4C3.49542%2012.0002%203.00943%2011.8096%202.63945%2011.4665C2.26947%2011.1234%202.04284%2010.6532%202.005%2010.15L2%2010C2%209.46957%202.21071%208.96086%202.58579%208.58579C2.96086%208.21071%203.46957%208%204%208H5.5V7H4Z'/%3e%3cpath%20d='M5%201H11C11.6667%201%2012%201.33333%2012%202V4C12%204.66667%2011.6667%205%2011%205H5C4.33333%205%204%204.66667%204%204V2C4%201.33333%204.33333%201%205%201Z'/%3e%3cpath%20d='M5%206H11C11.6667%206%2012%206.33333%2012%207V9C12%209.66667%2011.6667%2010%2011%2010H5C4.33333%2010%204%209.66667%204%209V7C4%206.33333%204.33333%206%205%206Z'/%3e%3cpath%20d='M5%2011H11C11.6667%2011%2012%2011.3333%2012%2012V14C12%2014.6667%2011.6667%2015%2011%2015H5C4.33333%2015%204%2014.6667%204%2014V12C4%2011.3333%204.33333%2011%205%2011Z'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='4ozvprixb__clip0_6470_44315'%3e%3cpath%20fill='%23fff'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Yv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M13.3334%206.66683C13.3334%208.93606%2011.9162%2010.8743%209.91852%2011.6447H8.00002H6.08152C4.08389%2010.8743%202.66669%208.93606%202.66669%206.66683C2.66669%203.7213%205.05449%201.3335%208.00002%201.3335C10.9456%201.3335%2013.3334%203.7213%2013.3334%206.66683Z'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9.91858%2011.6445L9.69221%2014.361C9.67781%2014.5338%209.53338%2014.6667%209.36001%2014.6667H6.64011C6.46674%2014.6667%206.32231%2014.5338%206.30794%2014.361L6.08154%2011.6445'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M6%205.6665V7.6665L8%206.6665L10%207.6665V5.6665'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",qv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2035'%20class='design-iconfont'%3e%3cpath%20d='M15.8086%2034.2242C13.75%2034.0657%2012.0267%2033.6022%2010.3368%2032.7527C6.07407%2030.6107%203.19331%2026.5103%202.60321%2021.7485C2.49702%2020.8899%202.4955%2019.1863%202.60093%2018.2898C2.92201%2015.6261%203.98246%2013.1056%205.66221%2011.0135C5.89279%2010.7253%207.42571%209.17041%209.1619%207.46077C13.3412%203.34594%2013.2927%203.39221%2013.3579%203.45744C13.3958%203.49536%2013.3859%203.66451%2013.3275%203.99294C13.2115%204.64372%2013.2115%206.06666%2013.3291%206.84487C13.6871%209.23337%2014.7239%2011.4489%2016.5572%2013.7456C17.0275%2014.335%2018.7508%2016.0879%2019.3932%2016.6302C20.1388%2017.2597%2020.622%2018.0205%2020.8503%2018.9208C21.0012%2019.5163%2021.0012%2020.4803%2020.8503%2021.0765C20.471%2022.5791%2019.3371%2023.7646%2017.8277%2024.2386C17.481%2024.3471%2017.3149%2024.3645%2016.6171%2024.3645C15.9193%2024.3645%2015.7524%2024.3471%2015.4035%2024.2386C14.3288%2023.9026%2013.3146%2023.1252%2014.199%2023.3148C14.6784%2023.4172%2015.2973%2023.1934%2015.5879%2022.8119C15.9883%2022.2885%2016.0536%2021.7182%2015.7767%2021.1645C15.6372%2020.8853%2015.5226%2020.7602%2015.0683%2020.3931C13.8395%2019.3979%2012.6335%2018.1859%2011.7764%2017.0876C11.3388%2016.5255%2010.7069%2015.5842%2010.5188%2015.2141C10.4475%2015.0738%2010.3649%2014.9585%2010.3353%2014.9585C10.261%2014.9585%209.6716%2015.8634%209.41903%2016.3647C9.12852%2016.9397%208.85091%2017.7679%208.71059%2018.4771C8.53841%2019.3418%208.53842%2020.6676%208.70908%2021.5202C9.36745%2024.803%2011.7749%2027.2514%2015.0433%2027.9598C15.5021%2028.0599%2015.7615%2028.0796%2016.6171%2028.0796C17.4719%2028.0796%2017.7321%2028.0599%2018.1902%2027.9598C19.7846%2027.6147%2021.0953%2026.8979%2022.252%2025.7412C23.464%2024.5291%2024.1876%2023.1692%2024.5221%2021.4709C24.6905%2020.6168%2024.6913%2019.3835%2024.5237%2018.534C24.3803%2017.8096%2024.199%2017.2317%2023.9366%2016.6681C23.6886%2016.1364%2023.7128%2016.1046%2024.2741%2016.2206C25.7888%2016.5339%2027.4446%2017.3841%2028.5111%2018.3967C29.7929%2019.6133%2030.336%2020.8209%2030.336%2022.46C30.336%2023.3489%2030.207%2024.0035%2029.8415%2024.985C29.0807%2027.0215%2027.9695%2028.7115%2026.3676%2030.2687C24.469%2032.1133%2022.0404%2033.4179%2019.5548%2033.9276C18.4269%2034.159%2016.7203%2034.294%2015.8078%2034.2234L15.8086%2034.2242ZM30.3094%2018.1532C29.6776%2016.9336%2028.7629%2016.0613%2027.4651%2015.4424C26.7688%2015.1102%2026.1438%2014.9046%2024.9188%2014.6058C23.2721%2014.2038%2022.4651%2013.9307%2021.4684%2013.4347C20.4976%2012.9515%2019.7588%2012.4221%2019.0109%2011.675C18.0219%2010.6844%2017.4317%209.73321%2016.9979%208.42785C16.6141%207.26963%2016.6262%207.41905%2016.6042%203.65161C16.5875%200.748861%2016.5966%200.242188%2016.6604%200.242188C16.7021%200.242188%2018.3594%201.83426%2020.3421%203.7798C27.4143%2010.7193%2027.5485%2010.8581%2028.3707%2012.105C29.1163%2013.2359%2029.8248%2014.7749%2030.1767%2016.0279C30.3512%2016.6476%2030.5863%2017.8127%2030.6144%2018.1912C30.6409%2018.5552%2030.5089%2018.5378%2030.3094%2018.1532Z'%20fill='%233DC8F9'/%3e%3cpath%20d='M16.6605%200.242188C16.596%200.242188%2016.5877%200.748861%2016.6044%203.65161C16.6256%207.41981%2016.6135%207.26963%2016.9988%208.42785C17.4311%209.73245%2018.022%2010.6844%2019.0111%2011.6742C19.7589%2012.4221%2020.4977%2012.9515%2021.4686%2013.4339C22.4652%2013.9307%2023.2723%2014.2045%2024.9182%2014.6058C26.1439%2014.9054%2026.7689%2015.1102%2027.4645%2015.4424C28.7623%2016.0613%2029.677%2016.9328%2030.3088%2018.1532C30.5091%2018.5378%2030.641%2018.5552%2030.6145%2018.1912C30.5864%2017.8127%2030.3505%2016.6476%2030.1768%2016.0279C29.8249%2014.7749%2029.1165%2013.2367%2028.3709%2012.105C27.5487%2010.8581%2027.4144%2010.7193%2020.3422%203.7798C18.3588%201.83426%2016.7015%200.242188%2016.6605%200.242188Z'%20fill='%23EA0100'/%3e%3cpath%20d='M11.781%2026.4804C11.781%2026.4804%2014.9743%2029.7548%2020.7426%2030.1864C26.5109%2030.6172%2027.9104%2028.5033%2027.9104%2028.5033C27.9104%2028.5033%2030.7395%2024.7677%2030.3209%2021.9279C29.9014%2019.0881%2027.6904%2017.0682%2023.841%2016.1914C23.841%2016.1914%2025.0228%2019.1647%2024.6033%2020.9373C24.1839%2022.7099%2023.86%2026.0829%2018.6947%2027.8548C18.6947%2027.8548%2014.8916%2028.9735%2011.781%2026.4804Z'%20fill='%231652D8'/%3e%3c/svg%3e",Kv="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2034%2034'%20class='design-iconfont'%3e%3cg%20clip-path='url(%237yundzdfo__clip0_1024_10932)'%3e%3cpath%20d='M1.42486%2023.8235L14.9556%2027.523V30.5012L23.2448%2032.8164C21.3116%2033.5802%2019.2048%2034%2017%2034C10.0381%2034%204.05349%2029.815%201.42486%2023.8235ZM0.0540616%2015.6341L16.1541%2020.0868L15.7743%2021.5496L15.5346%2022.9336L30.6885%2027.0829C29.9365%2028.1018%2029.0737%2029.0341%2028.1159%2029.8625L0.913488%2022.5119C0.321308%2020.7835%200%2018.9292%200%2017C0%2016.5402%200.0182891%2016.0847%200.0540616%2015.6341ZM2.32046%208.4208L19.2816%2012.9365C18.9123%2013.4278%2018.6083%2013.8961%2018.3697%2014.3412C18.1328%2014.7822%2017.9381%2015.2446%2017.7881%2015.7222L33.7216%2020.0808C33.5194%2021.1856%2033.2075%2022.2675%2032.7903%2023.3103L0.18273%2014.4989C0.498621%2012.3545%201.22438%2010.2909%202.32038%208.4208H2.32046ZM8.58508%202.22539L24.563%206.50689C24.06%206.81507%2023.628%207.14338%2023.2668%207.4916C22.9057%207.8399%2022.4818%208.33701%2021.9953%208.98293L33.2705%2012.0575C33.6354%2013.2614%2033.8651%2014.5021%2033.9553%2015.7568L2.95236%207.42296C4.41211%205.28624%206.33813%203.509%208.58508%202.22539ZM17%200C22.6492%200%2027.6547%202.75545%2030.7461%206.9957L10.0931%201.46176C12.2034%200.522085%2014.5407%200%2017%200Z'%20fill='%23000'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='7yundzdfo__clip0_1024_10932'%3e%3cpath%20fill='%23fff'%20d='M0%200H34V34H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Jv="/assets/img/zhipuai-CAkD-pZG.svg",qD={node_key:"",next_node_key:""},vr=()=>JSON.parse(JSON.stringify(qD));function gr(n){return new URL(Object.assign({"../../../assets/svg/ai-dialogue-node.svg":_h,"../../../assets/svg/ai-generate-white.svg":bh,"../../../assets/svg/ai-generate.svg":Ch,"../../../assets/svg/ai-mark.svg":wh,"../../../assets/svg/ai.svg":xh,"../../../assets/svg/alert-icon.svg":kh,"../../../assets/svg/ali-ocr.svg":Sh,"../../../assets/svg/analysis.svg":Eh,"../../../assets/svg/anthrop.svg":Mh,"../../../assets/svg/arrow-down.svg":Oh,"../../../assets/svg/arrow-left.svg":Ah,"../../../assets/svg/attachment.svg":Lh,"../../../assets/svg/auth.svg":Th,"../../../assets/svg/azure.svg":Nh,"../../../assets/svg/baichuan.svg":Dh,"../../../assets/svg/book.svg":Ph,"../../../assets/svg/chat-cache.svg":Rh,"../../../assets/svg/chat-mode.svg":Hh,"../../../assets/svg/chat-robot-icon.svg":Ih,"../../../assets/svg/chat.svg":Bh,"../../../assets/svg/check-arrow-filled.svg":jh,"../../../assets/svg/circularNeedle.svg":Fh,"../../../assets/svg/client.svg":Vh,"../../../assets/svg/close-circle.svg":$h,"../../../assets/svg/cmd.svg":Wh,"../../../assets/svg/code-run-node.svg":zh,"../../../assets/svg/cohere.svg":Uh,"../../../assets/svg/collaborator.svg":Gh,"../../../assets/svg/collapse-close.svg":Xh,"../../../assets/svg/collapse-open.svg":Zh,"../../../assets/svg/colour-edit.svg":Yh,"../../../assets/svg/comment-search.svg":qh,"../../../assets/svg/common-quession.svg":Kh,"../../../assets/svg/cu-doc-active.svg":Jh,"../../../assets/svg/cu-doc-icon.svg":Qh,"../../../assets/svg/data-node.svg":ep,"../../../assets/svg/data-security.svg":tp,"../../../assets/svg/database-menu-icon.svg":np,"../../../assets/svg/deepseek.svg":rp,"../../../assets/svg/delete.svg":ip,"../../../assets/svg/direct-connection.svg":op,"../../../assets/svg/dislike-active.svg":sp,"../../../assets/svg/dislike.svg":ap,"../../../assets/svg/doc-active-menu-icon.svg":lp,"../../../assets/svg/doc-directory.svg":up,"../../../assets/svg/doc-draft.svg":dp,"../../../assets/svg/doc-file.svg":cp,"../../../assets/svg/doc-file2.svg":fp,"../../../assets/svg/doc-icon-active.svg":hp,"../../../assets/svg/doc-icon.svg":pp,"../../../assets/svg/doc-menu-icon.svg":vp,"../../../assets/svg/document.svg":gp,"../../../assets/svg/drag.svg":mp,"../../../assets/svg/duiwaifuwu.svg":yp,"../../../assets/svg/economic-active.svg":_p,"../../../assets/svg/economic.svg":bp,"../../../assets/svg/edit-02.svg":Cp,"../../../assets/svg/edit.svg":wp,"../../../assets/svg/empty-document.svg":xp,"../../../assets/svg/empty.svg":kp,"../../../assets/svg/end-node.svg":Sp,"../../../assets/svg/enterprise-active.svg":Ep,"../../../assets/svg/enterprise.svg":Mp,"../../../assets/svg/enterprise2.svg":Op,"../../../assets/svg/expand.svg":Ap,"../../../assets/svg/explain-node.svg":Lp,"../../../assets/svg/export-record.svg":Tp,"../../../assets/svg/eye-open.svg":Np,"../../../assets/svg/field-menu-icon.svg":Dp,"../../../assets/svg/file-search.svg":Pp,"../../../assets/svg/finance.svg":Rp,"../../../assets/svg/gemini.svg":Hp,"../../../assets/svg/generate-icon.svg":Ip,"../../../assets/svg/gou.svg":Bp,"../../../assets/svg/government.svg":jp,"../../../assets/svg/graph-icon.svg":Fp,"../../../assets/svg/guanlianzhishiku.svg":Vp,"../../../assets/svg/high-active.svg":$p,"../../../assets/svg/high.svg":Wp,"../../../assets/svg/http-node.svg":zp,"../../../assets/svg/huanyingyu.svg":Up,"../../../assets/svg/huoshanyinqin.svg":Gp,"../../../assets/svg/img-icon.svg":Xp,"../../../assets/svg/input.svg":Zp,"../../../assets/svg/jibenpeizhi.svg":Yp,"../../../assets/svg/jichupeizhi.svg":qp,"../../../assets/svg/jina.svg":Kp,"../../../assets/svg/judge-node.svg":Jp,"../../../assets/svg/knowledge-base-node.svg":Qp,"../../../assets/svg/knowledge-config-active-icon.svg":e3,"../../../assets/svg/knowledge-config-icon.svg":t3,"../../../assets/svg/law.svg":n3,"../../../assets/svg/liaotianceshi.svg":r3,"../../../assets/svg/like-active.svg":i3,"../../../assets/svg/like-icon.svg":o3,"../../../assets/svg/like.svg":s3,"../../../assets/svg/lingyiwanwu.svg":a3,"../../../assets/svg/link-icon-active.svg":l3,"../../../assets/svg/link-icon.svg":u3,"../../../assets/svg/link-left.svg":d3,"../../../assets/svg/login-success.svg":c3,"../../../assets/svg/logout.svg":f3,"../../../assets/svg/manufacture.svg":h3,"../../../assets/svg/medical-treatment.svg":p3,"../../../assets/svg/menu-expand.svg":v3,"../../../assets/svg/message.svg":g3,"../../../assets/svg/minus.svg":m3,"../../../assets/svg/mix-icon.svg":y3,"../../../assets/svg/more-compatible.svg":_3,"../../../assets/svg/moxingshezhi.svg":b3,"../../../assets/svg/multimode-box.svg":C3,"../../../assets/svg/nav-chat.svg":w3,"../../../assets/svg/nav-doc.svg":x3,"../../../assets/svg/nav-find.svg":k3,"../../../assets/svg/nav-library.svg":S3,"../../../assets/svg/nav-robot.svg":E3,"../../../assets/svg/nav-search.svg":M3,"../../../assets/svg/network.svg":O3,"../../../assets/svg/open-ai.svg":A3,"../../../assets/svg/ordinary-segmentation.svg":L3,"../../../assets/svg/out-the-box.svg":T3,"../../../assets/svg/output.svg":N3,"../../../assets/svg/parameter-extraction-node.svg":D3,"../../../assets/svg/pc.svg":P3,"../../../assets/svg/pdf-img.svg":R3,"../../../assets/svg/pdf-ocr.svg":H3,"../../../assets/svg/pdf-text.svg":I3,"../../../assets/svg/phone.svg":B3,"../../../assets/svg/plus.svg":j3,"../../../assets/svg/point-h.svg":F3,"../../../assets/svg/problem-optimization-node.svg":V3,"../../../assets/svg/problem-optimization.svg":$3,"../../../assets/svg/prompt-icon.svg":W3,"../../../assets/svg/put-away.svg":z3,"../../../assets/svg/qa-feedback.svg":U3,"../../../assets/svg/question-node.svg":G3,"../../../assets/svg/quick-Instruction.svg":X3,"../../../assets/svg/quote-file.svg":Z3,"../../../assets/svg/quotes.svg":Y3,"../../../assets/svg/recommendation.svg":q3,"../../../assets/svg/retail.svg":K3,"../../../assets/svg/reward-points.svg":J3,"../../../assets/svg/right-fork-icon.svg":Q3,"../../../assets/svg/save-draft.svg":ev,"../../../assets/svg/sdk.svg":tv,"../../../assets/svg/search-check-icon.svg":nv,"../../../assets/svg/search-right.svg":rv,"../../../assets/svg/search-tip.svg":iv,"../../../assets/svg/search.svg":ov,"../../../assets/svg/segmentation-down.svg":sv,"../../../assets/svg/segmentation-icon.svg":av,"../../../assets/svg/segmentation-up.svg":lv,"../../../assets/svg/segmentation.svg":uv,"../../../assets/svg/select-disabled.svg":dv,"../../../assets/svg/semantic-segmentation.svg":cv,"../../../assets/svg/sensitive-icon.svg":fv,"../../../assets/svg/seo-gray.svg":hv,"../../../assets/svg/seo-highlight.svg":pv,"../../../assets/svg/seo-light.svg":vv,"../../../assets/svg/session-record.svg":gv,"../../../assets/svg/session.svg":mv,"../../../assets/svg/setting.svg":yv,"../../../assets/svg/share.svg":_v,"../../../assets/svg/similarity.svg":bv,"../../../assets/svg/skii.svg":Cv,"../../../assets/svg/source-energy.svg":wv,"../../../assets/svg/specify-reply-node.svg":xv,"../../../assets/svg/start-node.svg":kv,"../../../assets/svg/statistical-analysis.svg":Sv,"../../../assets/svg/success.svg":Ev,"../../../assets/svg/suggested-issues.svg":Mv,"../../../assets/svg/switch-mobile.svg":Ov,"../../../assets/svg/system-setting.svg":Av,"../../../assets/svg/team-manage-active.svg":Lv,"../../../assets/svg/team-manage.svg":Tv,"../../../assets/svg/team-manage2.svg":Nv,"../../../assets/svg/tengxunhunyuan.svg":Dv,"../../../assets/svg/test-active-menu-icon.svg":Pv,"../../../assets/svg/test-menu-icon.svg":Rv,"../../../assets/svg/think.svg":Hv,"../../../assets/svg/tongyiqianwen.svg":Iv,"../../../assets/svg/unit.svg":Bv,"../../../assets/svg/unknown-issue.svg":jv,"../../../assets/svg/unknown-prompt.svg":Fv,"../../../assets/svg/use-token-active.svg":Vv,"../../../assets/svg/use-token.svg":$v,"../../../assets/svg/user-icon.svg":Wv,"../../../assets/svg/variable-assignment-node.svg":zv,"../../../assets/svg/vector-icon.svg":Uv,"../../../assets/svg/wenxinyiyan.svg":Gv,"../../../assets/svg/workflow-robot-icon.svg":Xv,"../../../assets/svg/workflow.svg":Zv,"../../../assets/svg/xitongtishici.svg":Yv,"../../../assets/svg/xunfeixinghuo.svg":qv,"../../../assets/svg/yuezhianmian.svg":Kv,"../../../assets/svg/zhipuai.svg":Jv})[`../../../assets/svg/${n}.svg`],import.meta.url).href}const KD=[{key:"start",name:"开始",icon:"",hidden:!0},{key:"large-model-capability",name:"大模型能力",icon:""},{key:"knowledge-retrieval",name:"知识检索",icon:""},{key:"database-operation",name:"数据库操作",icon:""},{key:"external-service",name:"外部调用",icon:""},{key:"processing-logic",name:"处理逻辑",icon:""},{key:"execute-action",name:"执行动作",icon:""},{key:"end",name:"结束",icon:""},{key:"other",name:"其他",icon:""}],Qv=[{id:"",groupKey:"start",type:"start-node",x:0,y:0,width:568,height:322,hidden:!0,properties:{...vr(),node_type:1,node_name:"流程开始",node_icon:gr("start-node"),node_icon_name:"start-node",node_params:JSON.stringify({start:{sys_global:[],diy_global:[]}})}},{id:"",groupKey:"execute-action",type:"specify-reply-node",width:420,height:312,properties:{...vr(),node_type:9,node_name:"指定回复",node_icon:gr("specify-reply-node"),node_icon_name:"specify-reply-node",node_params:JSON.stringify({reply:{content:"",content_tags:[]}})}},{id:"",groupKey:"large-model-capability",type:"ai-dialogue-node",width:568,height:684,properties:{...vr(),node_type:6,node_name:"AI对话",node_icon:gr("ai-dialogue-node"),node_icon_name:"ai-dialogue-node",node_params:JSON.stringify({llm:{model_config_id:void 0,use_model:"",context_pair:6,temperature:.5,max_token:2e3,prompt:"",enable_thinking:!1,question_value:"global.question"}})}},{id:"",groupKey:"large-model-capability",type:"problem-optimization-node",width:568,height:614,properties:{...vr(),node_type:11,node_name:"问题优化",node_icon:gr("problem-optimization-node"),node_icon_name:"problem-optimization-node",node_params:JSON.stringify({question_optimize:{model_config_id:void 0,use_model:"",context_pair:6,temperature:.5,max_token:2e3,prompt:"",prompt_tags:[],enable_thinking:!1,question_value:"global.question"}})}},{id:"",groupKey:"end",type:"end-node",width:420,height:82,properties:{...vr(),node_type:7,node_name:"结束流程",node_icon:gr("end-node"),node_icon_name:"end-node",node_params:JSON.stringify({})}},{id:"",groupKey:"other",type:"explain-node",width:420,height:152,properties:{...vr(),node_type:-1,node_name:"注释卡片",node_icon:gr("explain-node"),node_icon_name:"explain-node",node_params:JSON.stringify({height:88,content:""})}},{id:"",groupKey:"processing-logic",type:"variable-assignment-node",width:568,height:170,properties:{...vr(),node_type:8,node_name:"变量赋值",node_icon:gr("variable-assignment-node"),node_icon_name:"variable-assignment-node",node_params:JSON.stringify({assign:[{variable:"",value:""}]})}},{id:"",groupKey:"knowledge-retrieval",type:"knowledge-base-node",width:568,height:386,properties:{...vr(),node_type:5,node_name:"检索知识库",node_icon:gr("knowledge-base-node"),node_icon_name:"knowledge-base-node",node_params:JSON.stringify({libs:{library_ids:"",search_type:1,top_k:5,similarity:.5,rerank_status:0,rerank_model_config_id:void 0,rerank_use_model:"",question_value:"global.question",libs_node_key:void 0}})}},{id:"",groupKey:"large-model-capability",type:"question-node",width:568,height:538,properties:{...vr(),node_type:3,node_name:"问题分类",node_icon:gr("question-node"),node_icon_name:"question-node",node_params:JSON.stringify({cate:{model_config_id:void 0,use_model:"",context_pair:2,temperature:.5,max_token:2e3,prompt:"",enable_thinking:!1,categorys:[{category:"",next_node_key:""}]}})}},{id:"",groupKey:"processing-logic",type:"judge-node",width:668,height:364,properties:{...vr(),node_type:2,node_name:"判断分支",node_icon:gr("judge-node"),node_icon_name:"judge-node",node_params:JSON.stringify({term:[{is_or:!1,terms:[{variable:"",is_mult:!1,type:"",value:""}],next_node_key:""}]})}},{id:"",groupKey:"external-service",type:"http-node",width:568,height:820,properties:{...vr(),node_type:4,node_name:"http请求",node_icon:gr("http-node"),node_icon_name:"http-node",node_params:JSON.stringify({curl:{method:"POST",rawurl:"",headers:[{key:"",value:""}],params:[{key:"",value:""}],type:1,body:[{key:"",value:""}],body_raw:"",timeout:30,output:[{key:"",typ:""}]}})}},{id:"",groupKey:"database-operation",type:"add-data-node",width:568,height:328,properties:{...vr(),node_type:13,node_name:"新增数据",node_icon:gr("data-node"),node_icon_name:"data-node",node_params:JSON.stringify({form_insert:{form_id:null,datas:[]}})}},{id:"",groupKey:"database-operation",type:"delete-data-node",width:568,height:302,properties:{...vr(),node_type:14,node_name:"删除数据",node_icon:gr("data-node"),node_icon_name:"data-node",node_params:JSON.stringify({form_delete:{form_name:"",form_description:"",form_id:"",typ:1,where:[]}})}},{id:"",groupKey:"database-operation",type:"update-data-node",width:568,height:406,properties:{...vr(),node_type:15,node_name:"更新数据",node_icon:gr("data-node"),node_icon_name:"data-node",node_params:JSON.stringify({form_update:{form_name:"",form_description:"",form_id:"",typ:1,datas:[],where:[]}})}},{id:"",groupKey:"database-operation",type:"select-data-node",width:568,height:868,properties:{...vr(),node_type:16,node_name:"查询数据",node_icon:gr("data-node"),node_icon_name:"data-node",node_params:JSON.stringify({form_select:{form_name:"",form_description:"",form_id:"",typ:1,fields:[],where:[],order:[],limit:100}})}},{id:"",groupKey:"large-model-capability",type:"parameter-extraction-node",width:568,height:645,properties:{...vr(),node_type:12,node_name:"参数提取器",node_icon:gr("parameter-extraction-node"),node_icon_name:"parameter-extraction-node",node_params:JSON.stringify({params_extractor:{model_config_id:void 0,use_model:"",temperature:.5,max_token:2e3,context_pair:2,prompt:"",prompt_tags:[],question_value:"",enable_thinking:!1,output:[]}})}},{id:"",groupKey:"external-service",type:"code-run-node",width:568,height:820,properties:{...vr(),node_type:17,node_name:"代码运行",node_icon:gr("code-run-node"),node_icon_name:"code-run-node",node_params:JSON.stringify({code_run:{main_func:"",params:[{field:"",variable:""}],timeout:30,output:[{key:"",typ:"string"}],exception:""}})}}],JD=n=>{const e={};KD.forEach(r=>{r.nodes=[],e[r.key]=r}),Qv.forEach(r=>{r.type==="explain-node"&&n==="node"||r.groupKey&&e[r.groupKey]&&e[r.groupKey].nodes.push(r)}),Object.keys(e).forEach(r=>{e[r].nodes.length===0&&delete e[r]});let t=Object.values(e);return JSON.parse(JSON.stringify(t))},QD=()=>{const n={};return Qv.forEach(e=>{n[e.type]=e}),JSON.parse(JSON.stringify(n))},eP=()=>{let n={};return Qv.forEach(e=>{n[e.properties.node_type]=e.type}),n},tP={class:"node-list-popup"},nP={class:"node-list-popup-content"},rP={key:0,class:"node-list"},iP={class:"node-type"},oP={class:"node-flex-box"},sP=["onClick"],aP=["src","alt"],lP={class:"node-name"},uP={__name:"node-list-popup",props:{type:{type:String,default:""}},emits:["addNode"],setup(n,{emit:e}){const t=e,i=JD(n.type);let o={};const a=l=>{l=JSON.parse(JSON.stringify(l)),l.id=z0(l.type),o[l.type]?(o[l.type]=o[l.type]+1,l.properties.node_name=l.properties.node_name+o[l.type]):o[l.type]=1,t("addNode",l)};return(l,u)=>(oe(),we("div",tP,[L("div",nP,[(oe(!0),we(Et,null,Rt(Ue(i),c=>(oe(),we(Et,{key:c.key},[c.hidden?ct("",!0):(oe(),we("div",rP,[L("div",iP,rt(c.name),1),L("div",oP,[(oe(!0),we(Et,null,Rt(c.nodes,f=>(oe(),we(Et,{key:f.type},[f.hidden?ct("",!0):(oe(),we("div",{key:0,class:"node-item",onClick:v=>a(f)},[L("img",{src:f.properties.node_icon,alt:f.properties.node_name},null,8,aP),L("div",lP,rt(f.properties.node_name),1)],8,sP))],64))),128))])]))],64))),128))])]))}},a7=Ct(uP,[["__scopeId","data-v-3f85747d"]]),dP="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='48'%20height='48'%20rx='24'%20fill='%232475FC'/%3e%3cpath%20d='M24%2016.5V31.5'%20stroke='white'%20stroke-width='2.4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M16.5%2024H31.5'%20stroke='white'%20stroke-width='2.4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",cP={name:"float-add-btn",components:{NodeListPopup:a7},props:{lf:{type:Object,required:!0}},data(){return{isShowMenu:!1}},mounted(){document.addEventListener("click",this.documentClick)},beforeUnmount(){document.removeEventListener("click",this.documentClick)},methods:{showMenu(){this.isShowMenu=!this.isShowMenu},documentClick(n){this.isShowMenu&&!this.$el.querySelector(".node-list-fix").contains(n.target)&&n.target!==this.$el.querySelector(".add-node-btn")&&(this.isShowMenu=!1)},handleAddNode(n){this.$emit("addNode",n),this.isShowMenu=!1}}},fP={class:"node-list-fix"};function hP(n,e,t,r,i,o){const a=Kt("NodeListPopup");return oe(),we("div",null,[L("img",{class:"add-node-btn",src:dP,onClick:e[0]||(e[0]=(...l)=>o.showMenu&&o.showMenu(...l))}),G0(L("div",fP,[j(a,{onAddNode:o.handleAddNode,type:"float-btn"},null,8,["onAddNode"])],512),[[X0,i.isShowMenu]])])}const pP=Ct(cP,[["render",hP],["__scopeId","data-v-f6bd6c06"]]),vP={name:"NodeCommon",props:{title:{type:String,default:""}},data(){return{isShowMenu:!1,menus:[{label:"10%",value:10},{label:"50%",value:50},{label:"100%",value:100},{label:"150%",value:150},{label:"200%",value:200},{label:"400%",value:400}]}},mounted(){document.addEventListener("click",this.documentClick)},beforeUnmount(){document.removeEventListener("click",this.documentClick)},methods:{handleMenu(n){this.$emit("change",n)},showMenu(){this.isShowMenu=!this.isShowMenu},documentClick(n){this.isShowMenu&&!this.$el.querySelector(".zoom-select-options").contains(n.target)&&n.target!==this.$el.querySelector(".zoom-select-label")&&(this.isShowMenu=!1)}}},gP={class:"zoom-select"},mP={class:"zoom-select-options"},yP=["onClick"];function _P(n,e,t,r,i,o){return oe(),we("div",gP,[L("div",{class:"zoom-select-label",onClick:e[0]||(e[0]=(...a)=>o.showMenu&&o.showMenu(...a))},rt(t.title),1),G0(L("div",mP,[(oe(!0),we(Et,null,Rt(i.menus,a=>(oe(),we("div",{class:"zoom-select-option",key:a.value,onClick:l=>o.handleMenu(a)},rt(a.label),9,yP))),128)),e[2]||(e[2]=L("div",{class:"option-line"},null,-1)),L("div",{class:"zoom-select-option",onClick:e[1]||(e[1]=a=>o.handleMenu({label:"5%",value:5}))},"全览")],512),[[X0,i.isShowMenu]])])}const bP=Ct(vP,[["render",_P],["__scopeId","data-v-de91327a"]]),CP={class:"custom-control"},wP={__name:"index",props:{lf:{type:Object,default:()=>({}),required:!0}},setup(n){const e=n,{eventCenter:t}=e.lf.graphModel,r=Fe(100),i=()=>{e.lf.zoom(r.value/100)},o=Fe("100%"),a=({label:_,value:b})=>{o.value=_,r.value=b,i()},l=()=>{let _=r.value=Math.floor(r.value/2);_<1&&(_=1),r.value=_,o.value=`${_}%`,i()},u=()=>{let _=r.value*2;_>800&&(_=800),r.value=_,o.value=`${_}%`,i()},c=_=>{let b=Math.floor(_.transform.SCALE_X*100);r.value=b,o.value=`${b}%`};let f=null;const v=()=>{e.lf.extension.miniMap.show(),f=document.querySelector(".lf-mini-map"),y()},m=_=>{_.y>800&&e.lf.extension.miniMap.hide()};function y(){f&&(f.addEventListener("mouseenter",()=>{e.lf.extension.miniMap.show()}),f.addEventListener("mouseleave",()=>{e.lf.extension.miniMap.hide()}))}return or(()=>{t.on("graph:transform",c)}),vs(()=>{t.off("graph:transform",c)}),(_,b)=>{const w=bo;return oe(),we("div",{class:"custom-control-warpper",onMouseenter:v,onMouseleave:m},[L("div",CP,[L("div",{class:"action-btn zoom-btn",onClick:l},[j(w,{name:"minus",size:"16"})]),j(bP,{title:o.value,onChange:a},null,8,["title"]),L("div",{class:"action-btn zoom-btn",onClick:u},[j(w,{name:"plus",size:"16"})])])],32)}}},xP=Ct(wP,[["__scopeId","data-v-fe130e95"]]);var Gd,Ut,l7,Is,l9,u7,d7,c7,eg,Xf,Zf,A0={},f7=[],kP=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,r2=Array.isArray;function Ro(n,e){for(var t in e)n[t]=e[t];return n}function tg(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function ht(n,e,t){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?Gd.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)a[o]===void 0&&(a[o]=n.defaultProps[o]);return pu(n,a,r,i,null)}function pu(n,e,t,r,i){var o={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++l7,__i:-1,__u:0};return i==null&&Ut.vnode!=null&&Ut.vnode(o),o}function Xd(){return{current:null}}function qa(n){return n.children}function Zt(n,e){this.props=n,this.context=e}function Ka(n,e){if(e==null)return n.__?Ka(n.__,n.__i+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Ka(n):null}function h7(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return h7(n)}}function u9(n){(!n.__d&&(n.__d=!0)&&Is.push(n)&&!Au.__r++||l9!=Ut.debounceRendering)&&((l9=Ut.debounceRendering)||u7)(Au)}function Au(){for(var n,e,t,r,i,o,a,l=1;Is.length;)Is.length>l&&Is.sort(d7),n=Is.shift(),l=Is.length,n.__d&&(t=void 0,i=(r=(e=n).__v).__e,o=[],a=[],e.__P&&((t=Ro({},r)).__v=r.__v+1,Ut.vnode&&Ut.vnode(t),ng(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,o,i??Ka(r),!!(32&r.__u),a),t.__v=r.__v,t.__.__k[t.__i]=t,g7(o,t,a),t.__e!=i&&h7(t)));Au.__r=0}function p7(n,e,t,r,i,o,a,l,u,c,f){var v,m,y,_,b,w,x=r&&r.__k||f7,k=e.length;for(u=SP(t,e,x,u,k),v=0;v<k;v++)(y=t.__k[v])!=null&&(m=y.__i==-1?A0:x[y.__i]||A0,y.__i=v,w=ng(n,y,m,i,o,a,l,u,c,f),_=y.__e,y.ref&&m.ref!=y.ref&&(m.ref&&rg(m.ref,null,y),f.push(y.ref,y.__c||_,y)),b==null&&_!=null&&(b=_),4&y.__u||m.__k===y.__k?u=v7(y,u,n):typeof y.type=="function"&&w!==void 0?u=w:_&&(u=_.nextSibling),y.__u&=-7);return t.__e=b,u}function SP(n,e,t,r,i){var o,a,l,u,c,f=t.length,v=f,m=0;for(n.__k=new Array(i),o=0;o<i;o++)(a=e[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(u=o+m,(a=n.__k[o]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?pu(null,a,null,null,null):r2(a)?pu(qa,{children:a},null,null,null):a.constructor==null&&a.__b>0?pu(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=n,a.__b=n.__b+1,l=null,(c=a.__i=EP(a,t,u,v))!=-1&&(v--,(l=t[c])&&(l.__u|=2)),l==null||l.__v==null?(c==-1&&(i>f?m--:i<f&&m++),typeof a.type!="function"&&(a.__u|=4)):c!=u&&(c==u-1?m--:c==u+1?m++:(c>u?m--:m++,a.__u|=4))):n.__k[o]=null;if(v)for(o=0;o<f;o++)(l=t[o])!=null&&(2&l.__u)==0&&(l.__e==r&&(r=Ka(l)),y7(l,l));return r}function v7(n,e,t){var r,i;if(typeof n.type=="function"){for(r=n.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=n,e=v7(r[i],e,t));return e}n.__e!=e&&(e&&n.type&&!t.contains(e)&&(e=Ka(n)),t.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Lu(n,e){return e=e||[],n==null||typeof n=="boolean"||(r2(n)?n.some(function(t){Lu(t,e)}):e.push(n)),e}function EP(n,e,t,r){var i,o,a=n.key,l=n.type,u=e[t];if(u===null&&n.key==null||u&&a==u.key&&l==u.type&&(2&u.__u)==0)return t;if(r>(u!=null&&(2&u.__u)==0?1:0))for(i=t-1,o=t+1;i>=0||o<e.length;){if(i>=0){if((u=e[i])&&(2&u.__u)==0&&a==u.key&&l==u.type)return i;i--}if(o<e.length){if((u=e[o])&&(2&u.__u)==0&&a==u.key&&l==u.type)return o;o++}}return-1}function d9(n,e,t){e[0]=="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||kP.test(e)?t:t+"px"}function $2(n,e,t,r,i){var o,a;e:if(e=="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||d9(n.style,e,"");if(t)for(e in t)r&&t[e]==r[e]||d9(n.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")o=e!=(e=e.replace(c7,"$1")),a=e.toLowerCase(),e=a in n||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=t,t?r?t.u=r.u:(t.u=eg,n.addEventListener(e,o?Zf:Xf,o)):n.removeEventListener(e,o?Zf:Xf,o);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&t==1?"":t))}}function c9(n){return function(e){if(this.l){var t=this.l[e.type+n];if(e.t==null)e.t=eg++;else if(e.t<t.u)return;return t(Ut.event?Ut.event(e):e)}}}function ng(n,e,t,r,i,o,a,l,u,c){var f,v,m,y,_,b,w,x,k,N,D,V,U,B,G,Q,ae,q=e.type;if(e.constructor!=null)return null;128&t.__u&&(u=!!(32&t.__u),o=[l=e.__e=t.__e]),(f=Ut.__b)&&f(e);e:if(typeof q=="function")try{if(x=e.props,k="prototype"in q&&q.prototype.render,N=(f=q.contextType)&&r[f.__c],D=f?N?N.props.value:f.__:r,t.__c?w=(v=e.__c=t.__c).__=v.__E:(k?e.__c=v=new q(x,D):(e.__c=v=new Zt(x,D),v.constructor=q,v.render=OP),N&&N.sub(v),v.props=x,v.state||(v.state={}),v.context=D,v.__n=r,m=v.__d=!0,v.__h=[],v._sb=[]),k&&v.__s==null&&(v.__s=v.state),k&&q.getDerivedStateFromProps!=null&&(v.__s==v.state&&(v.__s=Ro({},v.__s)),Ro(v.__s,q.getDerivedStateFromProps(x,v.__s))),y=v.props,_=v.state,v.__v=e,m)k&&q.getDerivedStateFromProps==null&&v.componentWillMount!=null&&v.componentWillMount(),k&&v.componentDidMount!=null&&v.__h.push(v.componentDidMount);else{if(k&&q.getDerivedStateFromProps==null&&x!==y&&v.componentWillReceiveProps!=null&&v.componentWillReceiveProps(x,D),!v.__e&&v.shouldComponentUpdate!=null&&v.shouldComponentUpdate(x,v.__s,D)===!1||e.__v==t.__v){for(e.__v!=t.__v&&(v.props=x,v.state=v.__s,v.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(ue){ue&&(ue.__=e)}),V=0;V<v._sb.length;V++)v.__h.push(v._sb[V]);v._sb=[],v.__h.length&&a.push(v);break e}v.componentWillUpdate!=null&&v.componentWillUpdate(x,v.__s,D),k&&v.componentDidUpdate!=null&&v.__h.push(function(){v.componentDidUpdate(y,_,b)})}if(v.context=D,v.props=x,v.__P=n,v.__e=!1,U=Ut.__r,B=0,k){for(v.state=v.__s,v.__d=!1,U&&U(e),f=v.render(v.props,v.state,v.context),G=0;G<v._sb.length;G++)v.__h.push(v._sb[G]);v._sb=[]}else do v.__d=!1,U&&U(e),f=v.render(v.props,v.state,v.context),v.state=v.__s;while(v.__d&&++B<25);v.state=v.__s,v.getChildContext!=null&&(r=Ro(Ro({},r),v.getChildContext())),k&&!m&&v.getSnapshotBeforeUpdate!=null&&(b=v.getSnapshotBeforeUpdate(y,_)),Q=f,f!=null&&f.type===qa&&f.key==null&&(Q=m7(f.props.children)),l=p7(n,r2(Q)?Q:[Q],e,t,r,i,o,a,l,u,c),v.base=e.__e,e.__u&=-161,v.__h.length&&a.push(v),w&&(v.__E=v.__=null)}catch(ue){if(e.__v=null,u||o!=null)if(ue.then){for(e.__u|=u?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,e.__e=l}else for(ae=o.length;ae--;)tg(o[ae]);else e.__e=t.__e,e.__k=t.__k;Ut.__e(ue,e,t)}else o==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):l=e.__e=MP(t.__e,e,t,r,i,o,a,u,c);return(f=Ut.diffed)&&f(e),128&e.__u?void 0:l}function g7(n,e,t){for(var r=0;r<t.length;r++)rg(t[r],t[++r],t[++r]);Ut.__c&&Ut.__c(e,n),n.some(function(i){try{n=i.__h,i.__h=[],n.some(function(o){o.call(i)})}catch(o){Ut.__e(o,i.__v)}})}function m7(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:r2(n)?n.map(m7):Ro({},n)}function MP(n,e,t,r,i,o,a,l,u){var c,f,v,m,y,_,b,w=t.props,x=e.props,k=e.type;if(k=="svg"?i="http://www.w3.org/2000/svg":k=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(c=0;c<o.length;c++)if((y=o[c])&&"setAttribute"in y==!!k&&(k?y.localName==k:y.nodeType==3)){n=y,o[c]=null;break}}if(n==null){if(k==null)return document.createTextNode(x);n=document.createElementNS(i,k,x.is&&x),l&&(Ut.__m&&Ut.__m(e,o),l=!1),o=null}if(k==null)w===x||l&&n.data==x||(n.data=x);else{if(o=o&&Gd.call(n.childNodes),w=t.props||A0,!l&&o!=null)for(w={},c=0;c<n.attributes.length;c++)w[(y=n.attributes[c]).name]=y.value;for(c in w)if(y=w[c],c!="children"){if(c=="dangerouslySetInnerHTML")v=y;else if(!(c in x)){if(c=="value"&&"defaultValue"in x||c=="checked"&&"defaultChecked"in x)continue;$2(n,c,null,y,i)}}for(c in x)y=x[c],c=="children"?m=y:c=="dangerouslySetInnerHTML"?f=y:c=="value"?_=y:c=="checked"?b=y:l&&typeof y!="function"||w[c]===y||$2(n,c,y,w[c],i);if(f)l||v&&(f.__html==v.__html||f.__html==n.innerHTML)||(n.innerHTML=f.__html),e.__k=[];else if(v&&(n.innerHTML=""),p7(e.type=="template"?n.content:n,r2(m)?m:[m],e,t,r,k=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:t.__k&&Ka(t,0),l,u),o!=null)for(c=o.length;c--;)tg(o[c]);l||(c="value",k=="progress"&&_==null?n.removeAttribute("value"):_!=null&&(_!==n[c]||k=="progress"&&!_||k=="option"&&_!=w[c])&&$2(n,c,_,w[c],i),c="checked",b!=null&&b!=n[c]&&$2(n,c,b,w[c],i))}return n}function rg(n,e,t){try{if(typeof n=="function"){var r=typeof n.__u=="function";r&&n.__u(),r&&e==null||(n.__u=n(e))}else n.current=e}catch(i){Ut.__e(i,t)}}function y7(n,e,t){var r,i;if(Ut.unmount&&Ut.unmount(n),(r=n.ref)&&(r.current&&r.current!=n.__e||rg(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Ut.__e(o,e)}r.base=r.__P=null}if(r=n.__k)for(i=0;i<r.length;i++)r[i]&&y7(r[i],e,t||typeof n.type!="function");t||tg(n.__e),n.__c=n.__=n.__e=void 0}function OP(n,e,t){return this.constructor(n,t)}function AP(n,e,t){var r,i,o,a;e==document&&(e=document.documentElement),Ut.__&&Ut.__(n,e),i=(r=!1)?null:e.__k,o=[],a=[],ng(e,n=e.__k=ht(qa,null,[n]),i||A0,A0,e.namespaceURI,i?null:e.firstChild?Gd.call(e.childNodes):null,o,i?i.__e:e.firstChild,r,a),g7(o,n,a)}Gd=f7.slice,Ut={__e:function(n,e,t,r){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(n)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(n,r||{}),a=i.__d),a)return i.__E=i}catch(l){n=l}throw n}},l7=0,Zt.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Ro({},this.state),typeof n=="function"&&(n=n(Ro({},t),this.props)),n&&Ro(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),u9(this))},Zt.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),u9(this))},Zt.prototype.render=qa,Is=[],u7=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,d7=function(n,e){return n.__v.__b-e.__v.__b},Au.__r=0,c7=/(PointerCapture)$|Capture$/i,eg=0,Xf=c9(!1),Zf=c9(!0);var LP="An invariant failed, however the error is obfuscated because this is a production build.",Tu=[];Object.freeze(Tu);var ig={};Object.freeze(ig);function Jr(){return++gt.mobxGuid}function un(n){throw zs(!1,n),"X"}function zs(n,e){if(!n)throw new Error("[mobx] "+(e||LP))}function _7(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var W2=function(){};function TP(n){var e=[];return n.forEach(function(t){e.indexOf(t)===-1&&e.push(t)}),e}function og(n){return n!==null&&typeof n=="object"}function wl(n){if(n===null||typeof n!="object")return!1;var e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}function NP(n){if(kl(n)||ti(n))return n;if(Array.isArray(n))return new Map(n);if(wl(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return un("Cannot convert to map from '"+n+"'")}function xl(n,e,t){Object.defineProperty(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function DP(n,e,t){Object.defineProperty(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function PP(n,e){var t=Object.getOwnPropertyDescriptor(n,e);return!t||t.configurable!==!1&&t.writable!==!1}function ys(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(r){return og(r)&&r[t]===!0}}function kl(n){return n instanceof Map}function i2(n){return n instanceof Set}function b7(n){var e=new Set;for(var t in n)e.add(t);return Object.getOwnPropertySymbols(n).forEach(function(r){Object.getOwnPropertyDescriptor(n,r).enumerable&&e.add(r)}),Array.from(e)}function is(n){return n&&n.toString?n.toString():new String(n).toString()}function C7(n){return n===null?null:typeof n=="object"?""+n:n}var RP=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,Pt=Symbol("mobx administration"),Sl=function(){function n(e){e===void 0&&(e="Atom@"+Jr()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=fn.NOT_TRACKING}return n.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},n.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},n.prototype.reportObserved=function(){return N7(this)},n.prototype.reportChanged=function(){Ui(),rR(this),Gi()},n.prototype.toString=function(){return this.name},n}(),sg=ys("Atom",Sl);function ag(n,e,t){e===void 0&&(e=W2),t===void 0&&(t=W2);var r=new Sl(n);return e!==W2&&gR(r,e),t!==W2&&B7(r,t),r}function HP(n,e){return Z7(n,e)}function IP(n,e){return Object.is(n,e)}var Ja={structural:HP,default:IP};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Yf=function(n,e){return Yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},Yf(n,e)};function BP(n,e){Yf(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Nu=function(){return Nu=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Nu.apply(this,arguments)};function po(n){var e=typeof Symbol=="function"&&n[Symbol.iterator],t=0;return e?e.call(n):{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}function $a(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o}function lg(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat($a(arguments[e]));return n}var Du=Symbol("mobx did run lazy initializers"),s0=Symbol("mobx pending decorators"),jP={},FP={};function VP(n,e){var t=e?jP:FP;return t[n]||(t[n]={configurable:!0,enumerable:e,get:function(){return qs(this),this[n]},set:function(r){qs(this),this[n]=r}})}function qs(n){var e,t;if(n[Du]!==!0){var r=n[s0];if(r){xl(n,Du,!0);var i=lg(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var o=po(i),a=o.next();!a.done;a=o.next()){var l=a.value,u=r[l];u.propertyCreator(n,u.prop,u.descriptor,u.decoratorTarget,u.decoratorArguments)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}}}function w7(n,e){return function(){var r,i=function(a,l,u,c){if(c===!0)return e(a,l,u,a,r),null;if(!Object.prototype.hasOwnProperty.call(a,s0)){var f=a[s0];xl(a,s0,Nu({},f))}return a[s0][l]={prop:l,propertyCreator:e,descriptor:u,decoratorTarget:a,decoratorArguments:r},VP(l,n)};return $P(arguments)?(r=Tu,i.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),i)}}function $P(n){return(n.length===2||n.length===3)&&(typeof n[1]=="string"||typeof n[1]=="symbol")||n.length===4&&n[3]===!0}function o2(n,e,t){return nl(n)?n:Array.isArray(n)?De.array(n,{name:t}):wl(n)?De.object(n,void 0,{name:t}):kl(n)?De.map(n,{name:t}):i2(n)?De.set(n,{name:t}):n}function WP(n,e,t){return n==null||ro(n)||So(n)||ti(n)||Ei(n)?n:Array.isArray(n)?De.array(n,{name:t,deep:!1}):wl(n)?De.object(n,void 0,{name:t,deep:!1}):kl(n)?De.map(n,{name:t,deep:!1}):i2(n)?De.set(n,{name:t,deep:!1}):un(!1)}function Zd(n){return n}function zP(n,e,t){return Z7(n,e)?e:n}function Yd(n){zs(n);var e=w7(!0,function(r,i,o,a,l){var u=o?o.initializer?o.initializer.call(r):o.value:void 0;hg(r).addObservableProp(i,u,n)}),t=e;return t.enhancer=n,t}var x7={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(x7);function Va(n){return n==null?x7:typeof n=="string"?{name:n,deep:!0,proxy:!0}:n}var ug=Yd(o2),UP=Yd(WP),k7=Yd(Zd),GP=Yd(zP);function z2(n){return n.defaultDecorator?n.defaultDecorator.enhancer:n.deep===!1?Zd:o2}function XP(n,e,t){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ug.apply(null,arguments);if(nl(n))return n;var r=wl(n)?De.object(n,e,t):Array.isArray(n)?De.array(n,e):kl(n)?De.map(n,e):i2(n)?De.set(n,e):n;if(r!==n)return r;un(!1)}var f9={box:function(n,e){arguments.length>2&&n0("box");var t=Va(e);return new Gs(n,z2(t),t.name,!0,t.equals)},array:function(n,e){arguments.length>2&&n0("array");var t=Va(e);return TR(n,z2(t),t.name)},map:function(n,e){arguments.length>2&&n0("map");var t=Va(e);return new fg(n,z2(t),t.name)},set:function(n,e){arguments.length>2&&n0("set");var t=Va(e);return new G7(n,z2(t),t.name)},object:function(n,e,t){typeof arguments[1]=="string"&&n0("object");var r=Va(t);if(r.proxy===!1)return t1({},n,e,r);var i=F7(r),o=t1({},void 0,void 0,r),a=OR(o);return V7(a,n,e,i),a},ref:k7,shallow:UP,deep:ug,struct:GP},De=XP;Object.keys(f9).forEach(function(n){return De[n]=f9[n]});function n0(n){un("Expected one or two arguments to observable."+n+". Did you accidentally try to use observable."+n+" as decorator?")}var Pu=w7(!1,function(n,e,t,r,i){var o=t.get,a=t.set,l=i[0]||{};hg(n).addComputedProp(n,e,Nu({get:o,set:a,context:n},l))}),ZP=Pu({equals:Ja.structural}),_n=function(e,t,r){if(typeof t=="string"||e!==null&&typeof e=="object"&&arguments.length===1)return Pu.apply(null,arguments);var i=typeof t=="object"?t:{};return i.get=e,i.set=typeof t=="function"?t:i.set,i.name=i.name||e.name||"",new el(i)};_n.struct=ZP;var fn;(function(n){n[n.NOT_TRACKING=-1]="NOT_TRACKING",n[n.UP_TO_DATE=0]="UP_TO_DATE",n[n.POSSIBLY_STALE=1]="POSSIBLY_STALE",n[n.STALE=2]="STALE"})(fn||(fn={}));var vo;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(vo||(vo={}));var Ru=function(){function n(e){this.cause=e}return n}();function a0(n){return n instanceof Ru}function qf(n){switch(n.dependenciesState){case fn.UP_TO_DATE:return!1;case fn.NOT_TRACKING:case fn.STALE:return!0;case fn.POSSIBLY_STALE:{for(var e=dg(!0),t=El(),r=n.observing,i=r.length,o=0;o<i;o++){var a=r[o];if(tl(a)){if(gt.disableErrorBoundaries)a.get();else try{a.get()}catch{return ls(t),f0(e),!0}if(n.dependenciesState===fn.STALE)return ls(t),f0(e),!0}}return M7(n),ls(t),f0(e),!1}}}function Qa(n){var e=n.observers.size>0;gt.computationDepth>0&&e&&un(!1),!gt.allowStateChanges&&(e||gt.enforceActions==="strict")&&un(!1)}function S7(n,e,t){var r=dg(!0);M7(n),n.newObserving=new Array(n.observing.length+100),n.unboundDepsCount=0,n.runId=++gt.runId;var i=gt.trackingDerivation;gt.trackingDerivation=n;var o;if(gt.disableErrorBoundaries===!0)o=e.call(t);else try{o=e.call(t)}catch(a){o=new Ru(a)}return gt.trackingDerivation=i,YP(n),f0(r),o}function YP(n){for(var e=n.observing,t=n.observing=n.newObserving,r=fn.UP_TO_DATE,i=0,o=n.unboundDepsCount,a=0;a<o;a++){var l=t[a];l.diffValue===0&&(l.diffValue=1,i!==a&&(t[i]=l),i++),l.dependenciesState>r&&(r=l.dependenciesState)}for(t.length=i,n.newObserving=null,o=e.length;o--;){var l=e[o];l.diffValue===0&&L7(l,n),l.diffValue=0}for(;i--;){var l=t[i];l.diffValue===1&&(l.diffValue=0,nR(l,n))}r!==fn.UP_TO_DATE&&(n.dependenciesState=r,n.onBecomeStale())}function Kf(n){var e=n.observing;n.observing=[];for(var t=e.length;t--;)L7(e[t],n);n.dependenciesState=fn.NOT_TRACKING}function E7(n){var e=El();try{return n()}finally{ls(e)}}function El(){var n=gt.trackingDerivation;return gt.trackingDerivation=null,n}function ls(n){gt.trackingDerivation=n}function dg(n){var e=gt.allowStateReads;return gt.allowStateReads=n,e}function f0(n){gt.allowStateReads=n}function M7(n){if(n.dependenciesState!==fn.UP_TO_DATE){n.dependenciesState=fn.UP_TO_DATE;for(var e=n.observing,t=e.length;t--;)e[t].lowestObserverState=fn.UP_TO_DATE}}var Hu=0,qP=1,h9=Object.getOwnPropertyDescriptor(function(){},"name");h9&&h9.configurable;function Us(n,e,t){var r=function(){return O7(n,e,t||this,arguments)};return r.isMobxAction=!0,r}function O7(n,e,t,r){var i=KP();try{return e.apply(t,r)}catch(o){throw i.error=o,o}finally{JP(i)}}function KP(n,e,t){var r=bi(),i=0,o=El();Ui();var a=qd(!0),l=dg(!0),u={prevDerivation:o,prevAllowStateChanges:a,prevAllowStateReads:l,notifySpy:r,startTime:i,actionId:qP++,parentActionId:Hu};return Hu=u.actionId,u}function JP(n){Hu!==n.actionId&&un("invalid action stack. did you forget to finish an action?"),Hu=n.parentActionId,n.error!==void 0&&(gt.suppressReactionErrors=!0),Kd(n.prevAllowStateChanges),f0(n.prevAllowStateReads),Gi(),ls(n.prevDerivation),n.notifySpy,gt.suppressReactionErrors=!1}function qd(n){var e=gt.allowStateChanges;return gt.allowStateChanges=n,e}function Kd(n){gt.allowStateChanges=n}var Gs=function(n){BP(e,n);function e(t,r,i,o,a){i===void 0&&(i="ObservableValue@"+Jr()),a===void 0&&(a=Ja.default);var l=n.call(this,i)||this;return l.enhancer=r,l.name=i,l.equals=a,l.hasUnreportedChange=!1,l.value=r(t,void 0,i),l}return e.prototype.dehanceValue=function(t){return this.dehancer!==void 0?this.dehancer(t):t},e.prototype.set=function(t){this.value,t=this.prepareNewValue(t),t!==gt.UNCHANGED&&this.setNewValue(t)},e.prototype.prepareNewValue=function(t){if(Qa(this),go(this)){var r=mo(this,{object:this,type:"update",newValue:t});if(!r)return gt.UNCHANGED;t=r.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?gt.UNCHANGED:t},e.prototype.setNewValue=function(t){var r=this.value;this.value=t,this.reportChanged(),Xi(this)&&Zi(this,{type:"update",object:this,newValue:t,oldValue:r})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return s2(this,t)},e.prototype.observe=function(t,r){return r&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),a2(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return C7(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Sl),QP=ys("ObservableValue",Gs),el=function(){function n(e){this.dependenciesState=fn.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=fn.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Jr(),this.value=new Ru(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=vo.NONE,zs(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+Jr(),e.set&&(this.setter=Us(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Ja.structural:Ja.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return n.prototype.onBecomeStale=function(){oR(this)},n.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},n.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},n.prototype.get=function(){this.isComputing&&un("Cycle detected in computation "+this.name+": "+this.derivation),gt.inBatch===0&&this.observers.size===0&&!this.keepAlive?qf(this)&&(this.warnAboutUntrackedRead(),Ui(),this.value=this.computeValue(!1),Gi()):(N7(this),qf(this)&&this.trackAndCompute()&&iR(this));var e=this.value;if(a0(e))throw e.cause;return e},n.prototype.peek=function(){var e=this.computeValue(!1);if(a0(e))throw e.cause;return e},n.prototype.set=function(e){if(this.setter){zs(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else zs(!1,!1)},n.prototype.trackAndCompute=function(){var e=this.value,t=this.dependenciesState===fn.NOT_TRACKING,r=this.computeValue(!0),i=t||a0(e)||a0(r)||!this.equals(e,r);return i&&(this.value=r),i},n.prototype.computeValue=function(e){this.isComputing=!0,gt.computationDepth++;var t;if(e)t=S7(this,this.derivation,this.scope);else if(gt.disableErrorBoundaries===!0)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(r){t=new Ru(r)}return gt.computationDepth--,this.isComputing=!1,t},n.prototype.suspend=function(){this.keepAlive||(Kf(this),this.value=void 0)},n.prototype.observe=function(e,t){var r=this,i=!0,o=void 0;return hR(function(){var a=r.get();if(!i||t){var l=El();e({type:"update",object:r,newValue:a,oldValue:o}),ls(l)}i=!1,o=a})},n.prototype.warnAboutUntrackedRead=function(){},n.prototype.toJSON=function(){return this.get()},n.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},n.prototype.valueOf=function(){return C7(this.get())},n.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},n}(),tl=ys("ComputedValue",el),vu=function(){function n(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return n}(),eR={};function Jf(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:eR}var gu=!0,A7=!1,gt=function(){var n=Jf();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(gu=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new vu().version&&(gu=!1),gu?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new vu):(setTimeout(function(){A7||un("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new vu)}();function tR(){(gt.pendingReactions.length||gt.inBatch||gt.isRunningReactions)&&un("isolateGlobalState should be called before MobX is running any reactions"),A7=!0,gu&&(--Jf().__mobxInstanceCount===0&&(Jf().__mobxGlobals=void 0),gt=new vu)}function Qf(){return gt}function nR(n,e){n.observers.add(e),n.lowestObserverState>e.dependenciesState&&(n.lowestObserverState=e.dependenciesState)}function L7(n,e){n.observers.delete(e),n.observers.size===0&&T7(n)}function T7(n){n.isPendingUnobservation===!1&&(n.isPendingUnobservation=!0,gt.pendingUnobservations.push(n))}function Ui(){gt.inBatch++}function Gi(){if(--gt.inBatch===0){R7();for(var n=gt.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation=!1,t.observers.size===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBecomeUnobserved()),t instanceof el&&t.suspend())}gt.pendingUnobservations=[]}}function N7(n){var e=gt.trackingDerivation;return e!==null?(e.runId!==n.lastAccessedBy&&(n.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=n,n.isBeingObserved||(n.isBeingObserved=!0,n.onBecomeObserved())),!0):(n.observers.size===0&&gt.inBatch>0&&T7(n),!1)}function rR(n){n.lowestObserverState!==fn.STALE&&(n.lowestObserverState=fn.STALE,n.observers.forEach(function(e){e.dependenciesState===fn.UP_TO_DATE&&(e.isTracing!==vo.NONE&&D7(e,n),e.onBecomeStale()),e.dependenciesState=fn.STALE}))}function iR(n){n.lowestObserverState!==fn.STALE&&(n.lowestObserverState=fn.STALE,n.observers.forEach(function(e){e.dependenciesState===fn.POSSIBLY_STALE?e.dependenciesState=fn.STALE:e.dependenciesState===fn.UP_TO_DATE&&(n.lowestObserverState=fn.UP_TO_DATE)}))}function oR(n){n.lowestObserverState===fn.UP_TO_DATE&&(n.lowestObserverState=fn.POSSIBLY_STALE,n.observers.forEach(function(e){e.dependenciesState===fn.UP_TO_DATE&&(e.dependenciesState=fn.POSSIBLY_STALE,e.isTracing!==vo.NONE&&D7(e,n),e.onBecomeStale())}))}function D7(n,e){if(""+n.name+e.name,n.isTracing===vo.BREAK){var t=[];P7(yR(n),t,1),new Function(`debugger;
/*
Tracing '`+n.name+`'

You are entering this break point because derivation '`+n.name+"' is being traced and '"+e.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(n instanceof el?n.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+t.join(`
`)+`
*/
    `)()}}function P7(n,e,t){if(e.length>=1e3){e.push("(and many more)");return}e.push(""+new Array(t).join("	")+n.name),n.dependencies&&n.dependencies.forEach(function(r){return P7(r,e,t+1)})}var L0=function(){function n(e,t,r,i){e===void 0&&(e="Reaction@"+Jr()),i===void 0&&(i=!1),this.name=e,this.onInvalidate=t,this.errorHandler=r,this.requiresObservable=i,this.observing=[],this.newObserving=[],this.dependenciesState=fn.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Jr(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=vo.NONE}return n.prototype.onBecomeStale=function(){this.schedule()},n.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,gt.pendingReactions.push(this),R7())},n.prototype.isScheduled=function(){return this._isScheduled},n.prototype.runReaction=function(){if(!this.isDisposed){if(Ui(),this._isScheduled=!1,qf(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&bi()}catch(e){this.reportExceptionInDerivation(e)}}Gi()}},n.prototype.track=function(e){if(!this.isDisposed){Ui(),this._isRunning=!0;var t=S7(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Kf(this),a0(t)&&this.reportExceptionInDerivation(t.cause),Gi()}},n.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler){this.errorHandler(e,this);return}if(gt.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";gt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,e),gt.globalReactionErrorHandlers.forEach(function(i){return i(e,t)})},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ui(),Kf(this),Gi()))},n.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[Pt]=this,e},n.prototype.toString=function(){return"Reaction["+this.name+"]"},n.prototype.trace=function(e){e===void 0&&(e=!1),SR(this,e)},n}(),p9=100,e1=function(n){return n()};function R7(){gt.inBatch>0||gt.isRunningReactions||e1(sR)}function sR(){gt.isRunningReactions=!0;for(var n=gt.pendingReactions,e=0;n.length>0;){++e===p9&&(console.error("Reaction doesn't converge to a stable state after "+p9+" iterations."+(" Probably there is a cycle in the reactive function: "+n[0])),n.splice(0));for(var t=n.splice(0),r=0,i=t.length;r<i;r++)t[r].runReaction()}gt.isRunningReactions=!1}var Iu=ys("Reaction",L0);function aR(n){var e=e1;e1=function(t){return n(function(){return e(t)})}}function bi(){return!1}function lR(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function uR(){un(!1)}function v9(n){return function(e,t,r){if(r){if(r.value)return{value:Us(n,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Us(n,i.call(this))}}}return dR(n).apply(this,arguments)}}function dR(n){return function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:function(){},set:function(i){xl(this,t,Le(n,i))}})}}function cR(n,e,t,r){return r===!0?(sf(n,e,t.value),null):t?{configurable:!0,enumerable:!1,get:function(){return sf(this,e,t.value||t.initializer.call(this)),this[e]},set:uR}:{enumerable:!1,configurable:!0,set:function(i){sf(this,e,i)},get:function(){}}}var Le=function(e,t,r,i){if(arguments.length===1&&typeof e=="function")return Us(e.name||"<unnamed action>",e);if(arguments.length===2&&typeof t=="function")return Us(e,t);if(arguments.length===1&&typeof e=="string")return v9(e);if(i===!0)xl(e,t,Us(e.name||t,r.value,this));else return v9(t).apply(null,arguments)};Le.bound=cR;function fR(n,e){var t=typeof n=="string"?n:n.name||"<unnamed action>",r=typeof n=="function"?n:e;return O7(t,r,this,void 0)}function sf(n,e,t){xl(n,e,Us(e,t.bind(n)))}function hR(n,e){e===void 0&&(e=ig);var t=e&&e.name||n.name||"Autorun@"+Jr(),r=!e.scheduler&&!e.delay,i;if(r)i=new L0(t,function(){this.track(l)},e.onError,e.requiresObservable);else{var o=H7(e),a=!1;i=new L0(t,function(){a||(a=!0,o(function(){a=!1,i.isDisposed||i.track(l)}))},e.onError,e.requiresObservable)}function l(){n(i)}return i.schedule(),i.getDisposer()}var pR=function(n){return n()};function H7(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:pR}function I7(n,e,t){t===void 0&&(t=ig);var r=t.name||"Reaction@"+Jr(),i=Le(r,t.onError?vR(t.onError,e):e),o=!t.scheduler&&!t.delay,a=H7(t),l=!0,u=!1,c,f=t.compareStructural?Ja.structural:t.equals||Ja.default,v=new L0(r,function(){l||o?m():u||(u=!0,a(m))},t.onError,t.requiresObservable);function m(){if(u=!1,!v.isDisposed){var y=!1;v.track(function(){var _=n(v);y=l||!f(c,_),c=_}),l&&t.fireImmediately&&i(c,v),!l&&y===!0&&i(c,v),l&&(l=!1)}}return v.schedule(),v.getDisposer()}function vR(n,e){return function(){try{return e.apply(this,arguments)}catch(t){n.call(this,t)}}}function gR(n,e,t){return j7("onBecomeObserved",n,e)}function B7(n,e,t){return j7("onBecomeUnobserved",n,e)}function j7(n,e,t,r){var i=fs(e),o=t,a=n+"Listeners";i[a]?i[a].add(o):i[a]=new Set([o]);var l=i[n];return typeof l!="function"?un(!1):function(){var u=i[a];u&&(u.delete(o),u.size===0&&delete i[a])}}function mR(n){var e=n.enforceActions,t=n.computedRequiresReaction,r=n.computedConfigurable,i=n.disableErrorBoundaries,o=n.reactionScheduler,a=n.reactionRequiresObservable,l=n.observableRequiresReaction;if(tR(),e!==void 0){var u=void 0;switch(e){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:un("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}gt.enforceActions=u,gt.allowStateChanges=!(u===!0||u==="strict")}t!==void 0&&(gt.computedRequiresReaction=!!t),a!==void 0&&(gt.reactionRequiresObservable=!!a),l!==void 0&&(gt.observableRequiresReaction=!!l,gt.allowStateReads=!gt.observableRequiresReaction),r!==void 0&&(gt.computedConfigurable=!!r),i!==void 0&&(i===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),gt.disableErrorBoundaries=!!i),o&&aR(o)}function t1(n,e,t,r){r=Va(r);var i=F7(r);return qs(n),hg(n,r.name,i.enhancer),e&&V7(n,e,t,i),n}function F7(n){return n.defaultDecorator||(n.deep===!1?k7:ug)}function V7(n,e,t,r){var i,o,a,l,u,c;Ui();try{var a=RP(e);try{for(var f=po(a),v=f.next();!v.done;v=f.next()){var c=v.value,m=Object.getOwnPropertyDescriptor(e,c),y=t&&c in t?t[c]:m.get?Pu:r,_=y(n,c,m,!0);_&&Object.defineProperty(n,c,_)}}catch(w){i={error:w}}finally{try{v&&!v.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}finally{Gi()}}function yR(n,e){return $7(fs(n,e))}function $7(n){var e={name:n.name};return n.observing&&n.observing.length>0&&(e.dependencies=TP(n.observing).map($7)),e}function W7(n,e){if(n==null)return!1;if(e!==void 0){if(ro(n)===!1||!n[Pt].values.has(e))return!1;var t=fs(n,e);return tl(t)}return tl(n)}function _R(n){return arguments.length>1?un(!1):W7(n)}function g9(n,e){return typeof e!="string"?un(!1):W7(n,e)}function bR(n,e){return n==null?!1:ro(n)||!!n[Pt]||sg(n)||Iu(n)||tl(n)}function nl(n){return arguments.length!==1&&un(!1),bR(n)}function rl(n){return ro(n)?n[Pt].getKeys():ti(n)||Ei(n)?Array.from(n.keys()):So(n)?n.map(function(e,t){return t}):un(!1)}function CR(n){return ro(n)?rl(n).map(function(e){return n[e]}):ti(n)?rl(n).map(function(e){return n.get(e)}):Ei(n)?Array.from(n.values()):So(n)?n.slice():un(!1)}function wR(n){return ro(n)?rl(n).map(function(e){return[e,n[e]]}):ti(n)?rl(n).map(function(e){return[e,n.get(e)]}):Ei(n)?Array.from(n.entries()):So(n)?n.map(function(e,t){return[t,e]}):un(!1)}function cg(n,e,t){if(arguments.length===2&&!Ei(n)){Ui();var r=e;try{for(var i in r)cg(n,i,r[i])}finally{Gi()}return}if(ro(n)){var o=n[Pt],a=o.values.get(e);a?o.write(e,t):o.addObservableProp(e,t,o.defaultEnhancer)}else if(ti(n))n.set(e,t);else if(Ei(n))n.add(e);else if(So(n))typeof e!="number"&&(e=parseInt(e,10)),zs(e>=0,"Not a valid index: '"+e+"'"),Ui(),e>=n.length&&(n.length=e+1),n[e]=t,Gi();else return un(!1)}function z7(n,e,t,r){return xR(n,e,t)}function xR(n,e,t){return Jd(n).observe(e,t)}var kR={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Da(n,e,t,r){return r.detectCycles&&n.set(e,t),t}function es(n,e,t){if(!e.recurseEverything&&!nl(n)||typeof n!="object")return n;if(n===null)return null;if(n instanceof Date)return n;if(QP(n))return es(n.get(),e,t);nl(n)&&rl(n);var r=e.detectCycles===!0;if(r&&n!==null&&t.has(n))return t.get(n);if(So(n)||Array.isArray(n)){var i=Da(t,n,[],e),o=n.map(function(y){return es(y,e,t)});i.length=o.length;for(var a=0,l=o.length;a<l;a++)i[a]=o[a];return i}if(Ei(n)||Object.getPrototypeOf(n)===Set.prototype)if(e.exportMapsAsObjects===!1){var u=Da(t,n,new Set,e);return n.forEach(function(y){u.add(es(y,e,t))}),u}else{var c=Da(t,n,[],e);return n.forEach(function(y){c.push(es(y,e,t))}),c}if(ti(n)||Object.getPrototypeOf(n)===Map.prototype)if(e.exportMapsAsObjects===!1){var f=Da(t,n,new Map,e);return n.forEach(function(y,_){f.set(_,es(y,e,t))}),f}else{var v=Da(t,n,{},e);return n.forEach(function(y,_){v[_]=es(y,e,t)}),v}var m=Da(t,n,{},e);return b7(n).forEach(function(y){m[y]=es(n[y],e,t)}),m}function Fi(n,e){typeof e=="boolean"&&(e={detectCycles:e}),e||(e=kR),e.detectCycles=e.detectCycles===void 0?e.recurseEverything===!0:e.detectCycles===!0;var t;return e.detectCycles&&(t=new Map),es(n,e,t)}function SR(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=!1;typeof n[n.length-1]=="boolean"&&(t=n.pop());var r=ER(n);if(!r)return un(!1);r.isTracing===vo.NONE&&""+r.name,r.isTracing=t?vo.BREAK:vo.LOG}function ER(n){switch(n.length){case 0:return gt.trackingDerivation;case 1:return fs(n[0]);case 2:return fs(n[0],n[1])}}function $i(n,e){e===void 0&&(e=void 0),Ui();try{return n.apply(e)}finally{Gi()}}function U2(n){return n[Pt]}function G2(n){return typeof n=="string"||typeof n=="number"||typeof n=="symbol"}var MR={has:function(n,e){if(e===Pt||e==="constructor"||e===Du)return!0;var t=U2(n);return G2(e)?t.has(e):e in n},get:function(n,e){if(e===Pt||e==="constructor"||e===Du)return n[e];var t=U2(n),r=t.values.get(e);if(r instanceof Sl){var i=r.get();return i===void 0&&t.has(e),i}return G2(e)&&t.has(e),n[e]},set:function(n,e,t){return G2(e)?(cg(n,e,t),!0):!1},deleteProperty:function(n,e){if(!G2(e))return!1;var t=U2(n);return t.remove(e),!0},ownKeys:function(n){var e=U2(n);return e.keysAtom.reportObserved(),Reflect.ownKeys(n)},preventExtensions:function(n){return un("Dynamic observable objects cannot be frozen"),!1}};function OR(n){var e=new Proxy(n,MR);return n[Pt].proxy=e,e}function go(n){return n.interceptors!==void 0&&n.interceptors.length>0}function s2(n,e){var t=n.interceptors||(n.interceptors=[]);return t.push(e),_7(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function mo(n,e){var t=El();try{for(var r=lg(n.interceptors||[]),i=0,o=r.length;i<o&&(e=r[i](e),zs(!e||e.type,"Intercept handlers should return nothing or a change object"),!!e);i++);return e}finally{ls(t)}}function Xi(n){return n.changeListeners!==void 0&&n.changeListeners.length>0}function a2(n,e){var t=n.changeListeners||(n.changeListeners=[]);return t.push(e),_7(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function Zi(n,e){var t=El(),r=n.changeListeners;if(r){r=r.slice();for(var i=0,o=r.length;i<o;i++)r[i](e);ls(t)}}var AR=1e4,LR={get:function(n,e){return e===Pt?n[Pt]:e==="length"?n[Pt].getArrayLength():typeof e=="number"?Po.get.call(n,e):typeof e=="string"&&!isNaN(e)?Po.get.call(n,parseInt(e)):Po.hasOwnProperty(e)?Po[e]:n[e]},set:function(n,e,t){return e==="length"&&n[Pt].setArrayLength(t),typeof e=="number"&&Po.set.call(n,e,t),typeof e=="symbol"||isNaN(e)?n[e]=t:Po.set.call(n,parseInt(e),t),!0},preventExtensions:function(n){return un("Observable arrays cannot be frozen"),!1}};function TR(n,e,t,r){t===void 0&&(t="ObservableArray@"+Jr()),r===void 0&&(r=!1);var i=new U7(t,e,r);DP(i.values,Pt,i);var o=new Proxy(i.values,LR);if(i.proxy=o,n&&n.length){var a=qd(!0);i.spliceWithArray(0,0,n),Kd(a)}return o}var U7=function(){function n(e,t,r){this.owned=r,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new Sl(e||"ObservableArray@"+Jr()),this.enhancer=function(i,o){return t(i,o,e+"[..]")}}return n.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},n.prototype.dehanceValues=function(e){return this.dehancer!==void 0&&e.length>0?e.map(this.dehancer):e},n.prototype.intercept=function(e){return s2(this,e)},n.prototype.observe=function(e,t){return t===void 0&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),a2(this,e)},n.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},n.prototype.setArrayLength=function(e){if(typeof e!="number"||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var r=new Array(e-t),i=0;i<e-t;i++)r[i]=void 0;this.spliceWithArray(t,0,r)}else this.spliceWithArray(e,t-e)},n.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},n.prototype.spliceWithArray=function(e,t,r){var i=this;Qa(this.atom);var o=this.values.length;if(e===void 0?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),arguments.length===1?t=o-e:t==null?t=0:t=Math.max(0,Math.min(t,o-e)),r===void 0&&(r=Tu),go(this)){var a=mo(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:r});if(!a)return Tu;t=a.removedCount,r=a.added}r=r.length===0?r:r.map(function(u){return i.enhancer(u,void 0)});var l=this.spliceItemsIntoValues(e,t,r);return(t!==0||r.length!==0)&&this.notifyArraySplice(e,r,l),this.dehanceValues(l)},n.prototype.spliceItemsIntoValues=function(e,t,r){var i;if(r.length<AR)return(i=this.values).splice.apply(i,lg([e,t],r));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+t)),o},n.prototype.notifyArrayChildUpdate=function(e,t,r){var i=!this.owned&&bi(),o=Xi(this),a=o||i?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:r}:null;this.atom.reportChanged(),o&&Zi(this,a)},n.prototype.notifyArraySplice=function(e,t,r){var i=!this.owned&&bi(),o=Xi(this),a=o||i?{object:this.proxy,type:"splice",index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;this.atom.reportChanged(),o&&Zi(this,a)},n}(),Po={intercept:function(n){return this[Pt].intercept(n)},observe:function(n,e){e===void 0&&(e=!1);var t=this[Pt];return t.observe(n,e)},clear:function(){return this.splice(0)},replace:function(n){var e=this[Pt];return e.spliceWithArray(0,e.values.length,n)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=this[Pt];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(n);case 2:return i.spliceWithArray(n,e)}return i.spliceWithArray(n,e,t)},spliceWithArray:function(n,e,t){var r=this[Pt];return r.spliceWithArray(n,e,t)},push:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=this[Pt];return t.spliceWithArray(t.values.length,0,n),t.values.length},pop:function(){return this.splice(Math.max(this[Pt].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=this[Pt];return t.spliceWithArray(0,0,n),t.values.length},reverse:function(){var n=this.slice();return n.reverse.apply(n,arguments)},sort:function(n){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(n){var e=this[Pt],t=e.dehanceValues(e.values).indexOf(n);return t>-1?(this.splice(t,1),!0):!1},get:function(n){var e=this[Pt];if(e){if(n<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[n]);console.warn("[mobx.array] Attempt to read an array index ("+n+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(n,e){var t=this[Pt],r=t.values;if(n<r.length){Qa(t.atom);var i=r[n];if(go(t)){var o=mo(t,{type:"update",object:t.proxy,index:n,newValue:e});if(!o)return;e=o.newValue}e=t.enhancer(e,i);var a=e!==i;a&&(r[n]=e,t.notifyArrayChildUpdate(n,e,i))}else if(n===r.length)t.spliceWithArray(n,0,[e]);else throw new Error("[mobx.array] Index out of bounds, "+n+" is larger than "+r.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(n){typeof Array.prototype[n]=="function"&&(Po[n]=function(){var e=this[Pt];e.atom.reportObserved();var t=e.dehanceValues(e.values);return t[n].apply(t,arguments)})});["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(n){typeof Array.prototype[n]=="function"&&(Po[n]=function(e,t){var r=this,i=this[Pt];i.atom.reportObserved();var o=i.dehanceValues(i.values);return o[n](function(a,l){return e.call(t,a,l,r)},t)})});["reduce","reduceRight"].forEach(function(n){Po[n]=function(){var e=this,t=this[Pt];t.atom.reportObserved();var r=arguments[0];return arguments[0]=function(i,o,a){return o=t.dehanceValue(o),r(i,o,a,e)},t.values[n].apply(t.values,arguments)}});var NR=ys("ObservableArrayAdministration",U7);function So(n){return og(n)&&NR(n[Pt])}var m9,DR={},fg=function(){function n(e,t,r){if(t===void 0&&(t=o2),r===void 0&&(r="ObservableMap@"+Jr()),this.enhancer=t,this.name=r,this[m9]=DR,this._keysAtom=ag(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return n.prototype._has=function(e){return this._data.has(e)},n.prototype.has=function(e){var t=this;if(!gt.trackingDerivation)return this._has(e);var r=this._hasMap.get(e);if(!r){var i=r=new Gs(this._has(e),Zd,this.name+"."+is(e)+"?",!1);this._hasMap.set(e,i),B7(i,function(){return t._hasMap.delete(e)})}return r.get()},n.prototype.set=function(e,t){var r=this._has(e);if(go(this)){var i=mo(this,{type:r?"update":"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return r?this._updateValue(e,t):this._addValue(e,t),this},n.prototype.delete=function(e){var t=this;if(Qa(this._keysAtom),go(this)){var r=mo(this,{type:"delete",object:this,name:e});if(!r)return!1}if(this._has(e)){var i=bi(),o=Xi(this),r=o||i?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return $i(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1);var l=t._data.get(e);l.setNewValue(void 0),t._data.delete(e)}),o&&Zi(this,r),!0}return!1},n.prototype._updateHasMapEntry=function(e,t){var r=this._hasMap.get(e);r&&r.setNewValue(t)},n.prototype._updateValue=function(e,t){var r=this._data.get(e);if(t=r.prepareNewValue(t),t!==gt.UNCHANGED){var i=bi(),o=Xi(this),a=o||i?{type:"update",object:this,oldValue:r.value,name:e,newValue:t}:null;r.setNewValue(t),o&&Zi(this,a)}},n.prototype._addValue=function(e,t){var r=this;Qa(this._keysAtom),$i(function(){var l=new Gs(t,r.enhancer,r.name+"."+is(e),!1);r._data.set(e,l),t=l.value,r._updateHasMapEntry(e,!0),r._keysAtom.reportChanged()});var i=bi(),o=Xi(this),a=o||i?{type:"add",object:this,name:e,newValue:t}:null;o&&Zi(this,a)},n.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},n.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},n.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},n.prototype.values=function(){var e=this,t=this.keys();return Bu({next:function(){var r=t.next(),i=r.done,o=r.value;return{done:i,value:i?void 0:e.get(o)}}})},n.prototype.entries=function(){var e=this,t=this.keys();return Bu({next:function(){var r=t.next(),i=r.done,o=r.value;return{done:i,value:i?void 0:[o,e.get(o)]}}})},n.prototype[m9=Pt,Symbol.iterator]=function(){return this.entries()},n.prototype.forEach=function(e,t){var r,i;try{for(var o=po(this),a=o.next();!a.done;a=o.next()){var l=$a(a.value,2),u=l[0],c=l[1];e.call(t,c,u,this)}}catch(f){r={error:f}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},n.prototype.merge=function(e){var t=this;return ti(e)&&(e=e.toJS()),$i(function(){var r=qd(!0);try{wl(e)?b7(e).forEach(function(i){return t.set(i,e[i])}):Array.isArray(e)?e.forEach(function(i){var o=$a(i,2),a=o[0],l=o[1];return t.set(a,l)}):kl(e)?(e.constructor!==Map&&un("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach(function(i,o){return t.set(o,i)})):e!=null&&un("Cannot initialize map from "+e)}finally{Kd(r)}}),this},n.prototype.clear=function(){var e=this;$i(function(){E7(function(){var t,r;try{for(var i=po(e.keys()),o=i.next();!o.done;o=i.next()){var a=o.value;e.delete(a)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}})})},n.prototype.replace=function(e){var t=this;return $i(function(){var r,i,o,a,l=NP(e),u=new Map,c=!1;try{for(var f=po(t._data.keys()),v=f.next();!v.done;v=f.next()){var m=v.value;if(!l.has(m)){var y=t.delete(m);if(y)c=!0;else{var _=t._data.get(m);u.set(m,_)}}}}catch(G){r={error:G}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}try{for(var b=po(l.entries()),w=b.next();!w.done;w=b.next()){var x=$a(w.value,2),m=x[0],_=x[1],k=t._data.has(m);if(t.set(m,_),t._data.has(m)){var N=t._data.get(m);u.set(m,N),k||(c=!0)}}}catch(G){o={error:G}}finally{try{w&&!w.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}if(!c)if(t._data.size!==u.size)t._keysAtom.reportChanged();else for(var D=t._data.keys(),V=u.keys(),U=D.next(),B=V.next();!U.done;){if(U.value!==B.value){t._keysAtom.reportChanged();break}U=D.next(),B=V.next()}t._data=u}),this},Object.defineProperty(n.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),n.prototype.toPOJO=function(){var e,t,r={};try{for(var i=po(this),o=i.next();!o.done;o=i.next()){var a=$a(o.value,2),l=a[0],u=a[1];r[typeof l=="symbol"?l:is(l)]=u}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},n.prototype.toJS=function(){return new Map(this)},n.prototype.toJSON=function(){return this.toPOJO()},n.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(t){return is(t)+": "+(""+e.get(t))}).join(", ")+" }]"},n.prototype.observe=function(e,t){return a2(this,e)},n.prototype.intercept=function(e){return s2(this,e)},n}(),ti=ys("ObservableMap",fg),y9,PR={},G7=function(){function n(e,t,r){if(t===void 0&&(t=o2),r===void 0&&(r="ObservableSet@"+Jr()),this.name=r,this[y9]=PR,this._data=new Set,this._atom=ag(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(i,o){return t(i,o,r)},e&&this.replace(e)}return n.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},n.prototype.clear=function(){var e=this;$i(function(){E7(function(){var t,r;try{for(var i=po(e._data.values()),o=i.next();!o.done;o=i.next()){var a=o.value;e.delete(a)}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}})})},n.prototype.forEach=function(e,t){var r,i;try{for(var o=po(this),a=o.next();!a.done;a=o.next()){var l=a.value;e.call(t,l,l,this)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},Object.defineProperty(n.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),n.prototype.add=function(e){var t=this;if(Qa(this._atom),go(this)){var r=mo(this,{type:"add",object:this,newValue:e});if(!r)return this}if(!this.has(e)){$i(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()});var i=bi(),o=Xi(this),r=o||i?{type:"add",object:this,newValue:e}:null;o&&Zi(this,r)}return this},n.prototype.delete=function(e){var t=this;if(go(this)){var r=mo(this,{type:"delete",object:this,oldValue:e});if(!r)return!1}if(this.has(e)){var i=bi(),o=Xi(this),r=o||i?{type:"delete",object:this,oldValue:e}:null;return $i(function(){t._atom.reportChanged(),t._data.delete(e)}),o&&Zi(this,r),!0}return!1},n.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},n.prototype.entries=function(){var e=0,t=Array.from(this.keys()),r=Array.from(this.values());return Bu({next:function(){var i=e;return e+=1,i<r.length?{value:[t[i],r[i]],done:!1}:{done:!0}}})},n.prototype.keys=function(){return this.values()},n.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,r=Array.from(this._data.values());return Bu({next:function(){return t<r.length?{value:e.dehanceValue(r[t++]),done:!1}:{done:!0}}})},n.prototype.replace=function(e){var t=this;return Ei(e)&&(e=e.toJS()),$i(function(){var r=qd(!0);try{Array.isArray(e)?(t.clear(),e.forEach(function(i){return t.add(i)})):i2(e)?(t.clear(),e.forEach(function(i){return t.add(i)})):e!=null&&un("Cannot initialize set from "+e)}finally{Kd(r)}}),this},n.prototype.observe=function(e,t){return a2(this,e)},n.prototype.intercept=function(e){return s2(this,e)},n.prototype.toJS=function(){return new Set(this)},n.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},n.prototype[y9=Pt,Symbol.iterator]=function(){return this.values()},n}(),Ei=ys("ObservableSet",G7),X7=function(){function n(e,t,r,i){t===void 0&&(t=new Map),this.target=e,this.values=t,this.name=r,this.defaultEnhancer=i,this.keysAtom=new Sl(r+".keys")}return n.prototype.read=function(e){return this.values.get(e).get()},n.prototype.write=function(e,t){var r=this.target,i=this.values.get(e);if(i instanceof el){i.set(t);return}if(go(this)){var o=mo(this,{type:"update",object:this.proxy||r,name:e,newValue:t});if(!o)return;t=o.newValue}if(t=i.prepareNewValue(t),t!==gt.UNCHANGED){var a=Xi(this),l=bi(),o=a||l?{type:"update",object:this.proxy||r,oldValue:i.value,name:e,newValue:t}:null;i.setNewValue(t),a&&Zi(this,o)}},n.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),r=t.get(e);if(r)return r.get();var i=!!this.values.get(e);return r=new Gs(i,Zd,this.name+"."+is(e)+"?",!1),t.set(e,r),r.get()},n.prototype.addObservableProp=function(e,t,r){r===void 0&&(r=this.defaultEnhancer);var i=this.target;if(go(this)){var o=mo(this,{object:this.proxy||i,name:e,type:"add",newValue:t});if(!o)return;t=o.newValue}var a=new Gs(t,r,this.name+"."+is(e),!1);this.values.set(e,a),t=a.value,Object.defineProperty(i,e,RR(e)),this.notifyPropertyAddition(e,t)},n.prototype.addComputedProp=function(e,t,r){var i=this.target;r.name=r.name||this.name+"."+is(t),this.values.set(t,new el(r)),(e===i||PP(e,t))&&Object.defineProperty(e,t,HR(t))},n.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(go(this)){var r=mo(this,{object:this.proxy||t,name:e,type:"remove"});if(!r)return}try{Ui();var i=Xi(this),o=bi(),a=this.values.get(e),l=a&&a.get();if(a&&a.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var u=this.pendingKeys.get(e);u&&u.set(!1)}delete this.target[e];var r=i||o?{type:"remove",object:this.proxy||t,oldValue:l,name:e}:null;i&&Zi(this,r)}finally{Gi()}}},n.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},n.prototype.observe=function(e,t){return a2(this,e)},n.prototype.intercept=function(e){return s2(this,e)},n.prototype.notifyPropertyAddition=function(e,t){var r=Xi(this),i=bi(),o=r||i?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(r&&Zi(this,o),this.pendingKeys){var a=this.pendingKeys.get(e);a&&a.set(!0)}this.keysAtom.reportChanged()},n.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var r=[];try{for(var i=po(this.values),o=i.next();!o.done;o=i.next()){var a=$a(o.value,2),l=a[0],u=a[1];u instanceof Gs&&r.push(l)}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r},n}();function hg(n,e,t){if(e===void 0&&(e=""),t===void 0&&(t=o2),Object.prototype.hasOwnProperty.call(n,Pt))return n[Pt];wl(n)||(e=(n.constructor.name||"ObservableObject")+"@"+Jr()),e||(e="ObservableObject@"+Jr());var r=new X7(n,new Map,is(e),t);return xl(n,Pt,r),r}var _9=Object.create(null),b9=Object.create(null);function RR(n){return _9[n]||(_9[n]={configurable:!0,enumerable:!0,get:function(){return this[Pt].read(n)},set:function(e){this[Pt].write(n,e)}})}function C9(n){var e=n[Pt];return e||(qs(n),n[Pt])}function HR(n){return b9[n]||(b9[n]={configurable:gt.computedConfigurable,enumerable:!1,get:function(){return C9(this).read(n)},set:function(e){C9(this).write(n,e)}})}var IR=ys("ObservableObjectAdministration",X7);function ro(n){return og(n)?(qs(n),IR(n[Pt])):!1}function fs(n,e){if(typeof n=="object"&&n!==null){if(So(n))return e!==void 0&&un(!1),n[Pt].atom;if(Ei(n))return n[Pt];if(ti(n)){var t=n;if(e===void 0)return t._keysAtom;var r=t._data.get(e)||t._hasMap.get(e);return r||un(!1),r}if(qs(n),e&&!n[Pt]&&n[e],ro(n)){if(!e)return un(!1);var r=n[Pt].values.get(e);return r||un(!1),r}if(sg(n)||tl(n)||Iu(n))return n}else if(typeof n=="function"&&Iu(n[Pt]))return n[Pt];return un(!1)}function Jd(n,e){if(n||un("Expecting some object"),e!==void 0)return Jd(fs(n,e));if(sg(n)||tl(n)||Iu(n)||ti(n)||Ei(n))return n;if(qs(n),n[Pt])return n[Pt];un(!1)}function BR(n,e){var t;return e!==void 0?t=fs(n,e):ro(n)||ti(n)||Ei(n)?t=Jd(n):t=fs(n),t.name}var w9=Object.prototype.toString;function Z7(n,e,t){return t===void 0&&(t=-1),n1(n,e,t)}function n1(n,e,t,r,i){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var o=typeof n;if(o!=="function"&&o!=="object"&&typeof e!="object")return!1;var a=w9.call(n);if(a!==w9.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=x9(n),e=x9(e);var l=a==="[object Array]";if(!l){if(typeof n!="object"||typeof e!="object")return!1;var u=n.constructor,c=e.constructor;if(u!==c&&!(typeof u=="function"&&u instanceof u&&typeof c=="function"&&c instanceof c)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),r=r||[],i=i||[];for(var f=r.length;f--;)if(r[f]===n)return i[f]===e;if(r.push(n),i.push(e),l){if(f=n.length,f!==e.length)return!1;for(;f--;)if(!n1(n[f],e[f],t-1,r,i))return!1}else{var v=Object.keys(n),m=void 0;if(f=v.length,Object.keys(e).length!==f)return!1;for(;f--;)if(m=v[f],!(jR(e,m)&&n1(n[m],e[m],t-1,r,i)))return!1}return r.pop(),i.pop(),!0}function x9(n){return So(n)?n.slice():kl(n)||ti(n)||i2(n)||Ei(n)?Array.from(n.entries()):n}function jR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Bu(n){return n[Symbol.iterator]=FR,n}function FR(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:lR,extras:{getDebugName:BR},$mobx:Pt});function VR(n){return!(n.prototype&&n.prototype.render)&&!Zt.isPrototypeOf(n)}function Y7(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.prefix,r=t===void 0?"":t,i=e.suffix,o=i===void 0?"":i,a=n.displayName||n.name||n.constructor&&n.constructor.name||"<component>";return r+a+o}var k9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},q7=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},K7=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),J7=function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)},Q7=function(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n},S9=console;function $R(n){var e=Qf().allowStateChanges;return Qf().allowStateChanges=n,e}function WR(n){Qf().allowStateChanges=n}function zR(n,e,t,r,i){var o=$R(n),a=void 0;try{a=e(t,r,i)}finally{WR(o)}return a}function E9(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=n[e],i=e_[e],o=r?t===!0?function(){i.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),i.apply(this,arguments)}:i;n[e]=o}function M9(n,e){if(n==null||e==null||(typeof n>"u"?"undefined":k9(n))!=="object"||(typeof e>"u"?"undefined":k9(e))!=="object")return n!==e;var t=Object.keys(n);if(t.length!==Object.keys(e).length)return!0;for(var r=void 0,i=t.length-1;r=t[i];i--)if(e[r]!==n[r])return!0;return!1}var e_={componentWillMount:function(){var e=this,t=Y7(this),r=!1,i=!1;function o(v){var m=this[v],y=ag("reactive "+v);Object.defineProperty(this,v,{configurable:!0,enumerable:!0,get:function(){return y.reportObserved(),m},set:function(b){!i&&M9(m,b)?(m=b,r=!0,y.reportChanged(),r=!1):m=b}})}o.call(this,"props"),o.call(this,"state");var a=this.render.bind(this),l=null,u=!1,c=function(){return l=new L0(t+".render()",function(){if(!u&&(u=!0,typeof e.componentWillReact=="function"&&e.componentWillReact(),e.__$mobxIsUnmounted!==!0)){var m=!0;try{i=!0,r||Zt.prototype.forceUpdate.call(e),m=!1}finally{i=!1,m&&l.dispose()}}}),l.reactComponent=e,f.$mobx=l,e.render=f,f(e.props,e.state,e.context)},f=function(m,y,_){u=!1;var b=void 0,w=void 0;if(l.track(function(){try{w=zR(!1,a,m,y,_)}catch(x){b=x}}),b)throw b;return w};this.render=c},componentWillUnmount:function(){this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0},componentDidMount:function(){},componentDidUpdate:function(){},shouldComponentUpdate:function(e,t){return this.state!==t?!0:M9(this.props,e)}};function pg(n){if(arguments.length>1&&S9.warn('Mobx observer: Using observer to inject stores is not supported. Use `@connect(["store1", "store2"]) ComponentClass instead or preferably, use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))``'),n.isMobxInjector===!0&&S9.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),VR(n)){var e,t;return pg((t=e=function(i){J7(o,i);function o(){return q7(this,o),Q7(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return K7(o,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),o}(Zt),e.displayName=Y7(n),t))}if(!n)throw new Error("Please pass a valid component to 'observer'");var r=n.prototype||n;return UR(r),n.isMobXReactObserver=!0,n}function UR(n){E9(n,"componentWillMount",!0),E9(n,"componentDidMount"),n.shouldComponentUpdate||(n.shouldComponentUpdate=e_.shouldComponentUpdate)}var GR=pg(function(n){var e=n.children;return e[0]()});GR.displayName="Observer";var XR=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ZR(n,e){return e={exports:{}},n(e,e.exports),e.exports}ZR(function(n,e){(function(t,r){n.exports=r()})(XR,function(){var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,o=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,c=u&&u(Object);return function f(v,m,y){if(typeof m!="string"){if(c){var _=u(m);_&&_!==c&&f(v,_,y)}var b=o(m);a&&(b=b.concat(a(m)));for(var w=0;w<b.length;++w){var x=b[w];if(!t[x]&&!r[x]&&(!y||!y[x])){var k=l(m,x);try{i(v,x,k)}catch{}}}return v}return v}})});var O9={children:!0,key:!0,ref:!0},A9=console;(function(n){J7(e,n);function e(){return q7(this,e),Q7(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return K7(e,[{key:"render",value:function(r){var i=r.children;return i.length>1?ht("div",null," ",i," "):i[0]}},{key:"getChildContext",value:function(){var r={},i=this.context.mobxStores;if(i)for(var o in i)r[o]=i[o];for(var a in this.props)!O9[a]&&a!=="suppressChangedStoreWarning"&&(r[a]=this.props[a]);return{mobxStores:r}}},{key:"componentWillReceiveProps",value:function(r){if(Object.keys(r).length!==Object.keys(this.props).length&&A9.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!r.suppressChangedStoreWarning)for(var i in r)!O9[i]&&this.props[i]!==r[i]&&A9.warn("MobX Provider: Provided store '"+i+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),e})(Zt);if(!Zt)throw new Error("mobx-preact requires Preact to be available");var fo,af,L9,t_=[],_r=Ut,T9=_r.__b,N9=_r.__r,D9=_r.diffed,P9=_r.__c,R9=_r.unmount,H9=_r.__;function YR(){for(var n;n=t_.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(mu),n.__H.__h.forEach(r1),n.__H.__h=[]}catch(e){n.__H.__h=[],_r.__e(e,n.__v)}}_r.__b=function(n){fo=null,T9&&T9(n)},_r.__=function(n,e){n&&e.__k&&e.__k.__m&&(n.__m=e.__k.__m),H9&&H9(n,e)},_r.__r=function(n){N9&&N9(n);var e=(fo=n.__c).__H;e&&(af===fo?(e.__h=[],fo.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(mu),e.__h.forEach(r1),e.__h=[])),af=fo},_r.diffed=function(n){D9&&D9(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(t_.push(e)!==1&&L9===_r.requestAnimationFrame||((L9=_r.requestAnimationFrame)||qR)(YR)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),af=fo=null},_r.__c=function(n,e){e.some(function(t){try{t.__h.forEach(mu),t.__h=t.__h.filter(function(r){return!r.__||r1(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],_r.__e(r,t.__v)}}),P9&&P9(n,e)},_r.unmount=function(n){R9&&R9(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{mu(r)}catch(i){e=i}}),t.__H=void 0,e&&_r.__e(e,t.__v))};var I9=typeof requestAnimationFrame=="function";function qR(n){var e,t=function(){clearTimeout(r),I9&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,35);I9&&(e=requestAnimationFrame(t))}function mu(n){var e=fo,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),fo=e}function r1(n){var e=fo;n.__c=n.__(),fo=e}function KR(n,e){for(var t in e)n[t]=e[t];return n}function B9(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function j9(n,e){this.props=n,this.context=e}(j9.prototype=new Zt).isPureReactComponent=!0,j9.prototype.shouldComponentUpdate=function(n,e){return B9(this.props,n)||B9(this.state,e)};var F9=Ut.__b;Ut.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),F9&&F9(n)};var JR=Ut.__e;Ut.__e=function(n,e,t,r){if(n.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),i.__c(n,e)}JR(n,e,t,r)};var V9=Ut.unmount;function n_(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=KR({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return n_(r,e,t)})),n}function r_(n,e,t){return n&&t&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return r_(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=t)),n}function lf(){this.__u=0,this.o=null,this.__b=null}function i_(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function X2(){this.i=null,this.l=null}Ut.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&32&n.__u&&(n.type=null),V9&&V9(n)},(lf.prototype=new Zt).__c=function(n,e){var t=e.__c,r=this;r.o==null&&(r.o=[]),r.o.push(t);var i=i_(r.__v),o=!1,a=function(){o||(o=!0,t.__R=null,i?i(l):l())};t.__R=a;var l=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=r_(u,u.__c.__P,u.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.o.pop();)c.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(a,a)},lf.prototype.componentWillUnmount=function(){this.o=[]},lf.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=n_(this.__b,t,r.__O=r.__P)}this.__b=null}var i=e.__a&&ht(qa,null,n.fallback);return i&&(i.__u&=-33),[ht(qa,null,e.__a?null:n.children),i]};var $9=function(n,e,t){if(++t[1]===t[0]&&n.l.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.l.size))for(t=n.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.i=t=t[2]}};(X2.prototype=new Zt).__a=function(n){var e=this,t=i_(e.__v),r=e.l.get(n);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),$9(e,n,r)):i()};t?t(o):o()}},X2.prototype.render=function(n){this.i=null,this.l=new Map;var e=Lu(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.l.set(e[t],this.i=[1,0,this.i]);return n.children},X2.prototype.componentDidUpdate=X2.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(e,t){$9(n,t,e)})};var QR=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,eH=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,tH=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,nH=/[A-Z0-9]/g,rH=typeof document<"u",iH=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(n)};function W9(n,e,t){return e.__k==null&&(e.textContent=""),AP(n,e),typeof t=="function"&&t(),n?n.__c:null}Zt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Zt.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var z9=Ut.event;function oH(){}function sH(){return this.cancelBubble}function aH(){return this.defaultPrevented}Ut.event=function(n){return z9&&(n=z9(n)),n.persist=oH,n.isPropagationStopped=sH,n.isDefaultPrevented=aH,n.nativeEvent=n};var lH={enumerable:!1,configurable:!0,get:function(){return this.class}},U9=Ut.vnode;Ut.vnode=function(n){typeof n.type=="string"&&function(e){var t=e.props,r=e.type,i={},o=r.indexOf("-")===-1;for(var a in t){var l=t[a];if(!(a==="value"&&"defaultValue"in t&&l==null||rH&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var u=a.toLowerCase();a==="defaultValue"&&"value"in t&&t.value==null?a="value":a==="download"&&l===!0?l="":u==="translate"&&l==="no"?l=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?a="ondblclick":u!=="onchange"||r!=="input"&&r!=="textarea"||iH(t.type)?u==="onfocus"?a="onfocusin":u==="onblur"?a="onfocusout":tH.test(a)&&(a=u):u=a="oninput":o&&eH.test(a)?a=a.replace(nH,"-$&").toLowerCase():l===null&&(l=void 0),u==="oninput"&&i[a=u]&&(a="oninputCapture"),i[a]=l}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Lu(t.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=Lu(t.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",lH)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(n),n.$$typeof=QR,U9&&U9(n)};var G9=Ut.__r;Ut.__r=function(n){G9&&G9(n),n.__c};var X9=Ut.diffed;Ut.diffed=function(n){X9&&X9(n);var e=n.props,t=n.__e;t!=null&&n.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value)};var uH=0;function Te(n,e,t,r,i,o){e||(e={});var a,l,u=e;if("ref"in u)for(l in u={},e)l=="ref"?a=e[l]:u[l]=e[l];var c={type:n,props:u,key:t,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--uH,__i:-1,__u:0,__source:i,__self:o};if(typeof n=="function"&&(a=n.defaultProps))for(l in a)u[l]===void 0&&(u[l]=a[l]);return Ut.vnode&&Ut.vnode(c),c}var dH=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},T0;(function(n){function e(t){var r=dH(t,[]),i=t.container;if(!i)throw new Error("Ensure the container of LogicFlow is specified and valid.");return rn({},n.defaults,r)}n.get=e})(T0||(T0={}));(function(n){n.defaults={background:!1,grid:!1,textEdit:!0,snapline:!0,outline:!1,disabledTools:[]}})(T0||(T0={}));var Z9={node:!1,edge:!1},cH={node:!0,edge:!0},fH=function(n){return!n||typeof n=="boolean"?n===!0?Ht(cH):Ht(Z9):Ys(Ht(Z9),n)},hH=function(){return ia(window,"navigator.userAgent","").match(/MSIE|Trident/)!==null};function Mr(n){try{return JSON.parse(JSON.stringify(n))}catch{return n}}var Z2=200,pH=9999,vH=10,tn;(function(n){n[n.DEFAULT=1]="DEFAULT",n[n.TEXT_EDIT=2]="TEXT_EDIT",n[n.SHOW_MENU=3]="SHOW_MENU",n[n.ALLOW_CONNECT=4]="ALLOW_CONNECT",n[n.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(tn||(tn={}));var Dn;(function(n){n.NODE="node",n.EDGE="edge",n.GRAPH="graph"})(Dn||(Dn={}));var $t;(function(n){n.NODE="node",n.CIRCLE_NODE="circle-node",n.POLYGON_NODE="polygon-node",n.RECT_NODE="rect-node",n.TEXT_NODE="text-node",n.ELLIPSE_NODE="ellipse-node",n.DIAMOND_NODE="diamond-node",n.HTML_NODE="html-node",n.CUSTOM_HTML_NODE="custom-html-node",n.EDGE="edge",n.LINE_EDGE="line-edge",n.POLYLINE_EDGE="polyline-edge",n.BEZIER_EDGE="bezier-edge",n.GRAPH="graph"})($t||($t={}));var mt;(function(n){n.ELEMENT_CLICK="element:click",n.NODE_ADD="node:add",n.NODE_DELETE="node:delete",n.NODE_CLICK="node:click",n.NODE_DBCLICK="node:dbclick",n.NODE_GROUP_COPY="node:group-copy-add",n.NODE_DND_ADD="node:dnd-add",n.NODE_DND_DRAG="node:dnd-drag",n.NODE_MOUSEDOWN="node:mousedown",n.NODE_DRAGSTART="node:dragstart",n.NODE_DRAG="node:drag",n.NODE_DROP="node:drop",n.NODE_MOUSEUP="node:mouseup",n.NODE_MOUSEMOVE="node:mousemove",n.NODE_MOUSEENTER="node:mouseenter",n.NODE_MOUSELEAVE="node:mouseleave",n.NODE_CONTEXTMENU="node:contextmenu",n.NODE_ROTATE="node:rotate",n.NODE_RESIZE="node:resize",n.NODE_FOCUS="node:focus",n.NODE_BLUR="node:blur",n.NODE_PROPERTIES_CHANGE="node:properties-change",n.NODE_PROPERTIES_DELETE="node:properties-delete",n.EDGE_ADD="edge:add",n.EDGE_DELETE="edge:delete",n.EDGE_CLICK="edge:click",n.EDGE_DBCLICK="edge:dbclick",n.EDGE_FOCUS="edge:focus",n.EDGE_BLUR="edge:blur",n.EDGE_MOUSEENTER="edge:mouseenter",n.EDGE_MOUSELEAVE="edge:mouseleave",n.EDGE_CONTEXTMENU="edge:contextmenu",n.EDGE_ADJUST="edge:adjust",n.EDGE_EXCHANGE_NODE="edge:exchange-node",n.ANCHOR_CLICK="anchor:click",n.ANCHOR_MOUSEDOWN="anchor:mousedown",n.ANCHOR_DRAGSTART="anchor:dragstart",n.ANCHOR_DRAG="anchor:drag",n.ANCHOR_DROP="anchor:drop",n.ANCHOR_DRAGEND="anchor:dragend",n.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",n.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",n.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",n.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",n.ADJUST_POINT_DRAG="adjustPoint:drag",n.ADJUST_POINT_DROP="adjustPoint:drop",n.ADJUST_POINT_DRAGEND="adjustPoint:dragend",n.BLANK_MOUSEDOWN="blank:mousedown",n.BLANK_DRAGSTART="blank:dragstart",n.BLANK_DRAG="blank:drag",n.BLANK_DROP="blank:drop",n.BLANK_MOUSEMOVE="blank:mousemove",n.BLANK_MOUSEUP="blank:mouseup",n.BLANK_CLICK="blank:click",n.BLANK_CONTEXTMENU="blank:contextmenu",n.SELECTION_MOUSEDOWN="selection:mousedown",n.SELECTION_DRAGSTART="selection:dragstart",n.SELECTION_DRAG="selection:drag",n.SELECTION_DROP="selection:drop",n.SELECTION_MOUSEMOVE="selection:mousemove",n.SELECTION_MOUSEUP="selection:mouseup",n.SELECTION_CONTEXTMENU="selection:contextmenu",n.CONNECTION_NOT_ALLOWED="connection:not-allowed",n.TEXT_MOUSEDOWN="text:mousedown",n.TEXT_DRAGSTART="text:dragstart",n.TEXT_DRAG="text:drag",n.TEXT_DROP="text:drop",n.TEXT_CLICK="text:click",n.TEXT_DBCLICK="text:dbclick",n.TEXT_BLUR="text:blur",n.TEXT_MOUSEMOVE="text:mousemove",n.TEXT_MOUSEUP="text:mouseup",n.TEXT_FOCUS="text:focus",n.TEXT_ADD="text:add",n.TEXT_UPDATE="text:update",n.TEXT_CLEAR="text:clear",n.LABEL_MOUSEDOWN="label:mousedown",n.LABEL_DRAGSTART="label:dragstart",n.LABEL_DRAG="label:drag",n.LABEL_DROP="label:drop",n.LABEL_CLICK="label:click",n.LABEL_DBCLICK="label:dbclick",n.LABEL_BLUR="label:blur",n.LABEL_MOUSEMOVE="label:mousemove",n.LABEL_MOUSEUP="label:mouseup",n.LABEL_FOCUS="label:focus",n.LABEL_ADD="label:add",n.LABEL_UPDATE="label:update",n.LABEL_CLEAR="label:clear",n.LABEL_DELETE="label:delete",n.LABEL_SHOULD_ADD="label:should-add",n.LABEL_BATCH_ADD="label:batch-add",n.LABEL_SHOULD_UPDATE="label:should-update",n.LABEL_SHOULD_DELETE="label:should-delete",n.LABEL_BATCH_DELETE="label:batch-delete",n.LABEL_NOT_ALLOWED_ADD="label:not-allowed-add",n.HISTORY_CHANGE="history:change",n.GRAPH_TRANSFORM="graph:transform",n.GRAPH_RENDERED="graph:rendered",n.GRAPH_UPDATED="graph:updated"})(mt||(mt={}));var Wi;(function(n){n[n.DEFAULT=0]="DEFAULT",n[n.INCREASE=1]="INCREASE"})(Wi||(Wi={}));var On;(function(n){n.HORIZONTAL="horizontal",n.VERTICAL="vertical"})(On||(On={}));var Ci;(function(n){n.TEXT="text",n.LABEL="label"})(Ci||(Ci={}));var gH=0,Ti=function(){function n(e){var t=e.onDragStart,r=t===void 0?d0:t,i=e.onDragging,o=i===void 0?d0:i,a=e.onDragEnd,l=a===void 0?d0:a,u=e.eventType,c=u===void 0?"":u,f=e.eventCenter,v=e.step,m=v===void 0?1:v,y=e.isStopPropagation,_=y===void 0?!0:y,b=e.model,w=e.data,x=this;this.isDragging=!1,this.isStartDragging=!1,this.startX=0,this.startY=0,this.sumDeltaX=0,this.sumDeltaY=0,this.handleMouseDown=function(k){var N,D,V=window==null?void 0:window.document;if(k.button===gH){x.isStopPropagation&&k.stopPropagation(),x.isStartDragging=!0,x.startX=k.clientX,x.startY=k.clientY,V.addEventListener("mousemove",x.handleMouseMove,!1),V.addEventListener("mouseup",x.handleMouseUp,!1);var U=(N=x.model)===null||N===void 0?void 0:N.getData();(D=x.eventCenter)===null||D===void 0||D.emit(mt["".concat(x.eventType,"_MOUSEDOWN")],{e:k,data:x.data||U}),x.startTime=new Date().getTime()}},this.handleMouseMove=function(k){var N,D;if(x.isStopPropagation&&k.stopPropagation(),!!x.isStartDragging&&(x.sumDeltaX+=k.clientX-x.startX,x.sumDeltaY+=k.clientY-x.startY,x.startX=k.clientX,x.startY=k.clientY,x.step<=1||Math.abs(x.sumDeltaX)>x.step||Math.abs(x.sumDeltaY)>x.step)){var V=x.sumDeltaX%x.step,U=x.sumDeltaY%x.step,B=x.sumDeltaX-V,G=x.sumDeltaY-U;x.sumDeltaX=V,x.sumDeltaY=U;var Q=(N=x.model)===null||N===void 0?void 0:N.getData();x.isDragging||((D=x.eventCenter)===null||D===void 0||D.emit(mt["".concat(x.eventType,"_DRAGSTART")],{e:k,data:x.data||Q}),x.onDragStart({event:k})),x.isDragging=!0,Promise.resolve().then(function(){var ae,q;x.onDragging({deltaX:B,deltaY:G,event:k}),(ae=x.eventCenter)===null||ae===void 0||ae.emit(mt["".concat(x.eventType,"_MOUSEMOVE")],{deltaX:B,deltaY:G,e:k,data:x.data||Q}),(q=x.eventCenter)===null||q===void 0||q.emit(mt["".concat(x.eventType,"_DRAG")],{e:k,data:x.data||Q})})}},this.handleMouseUp=function(k){var N=window.document;x.isStartDragging=!1,x.isStopPropagation&&k.stopPropagation(),Promise.resolve().then(function(){var D,V,U;N.removeEventListener("mousemove",x.handleMouseMove,!1),N.removeEventListener("mouseup",x.handleMouseUp,!1);var B=(D=x.model)===null||D===void 0?void 0:D.getData();(V=x.eventCenter)===null||V===void 0||V.emit(mt["".concat(x.eventType,"_MOUSEUP")],{e:k,data:x.data||B}),x.isDragging&&(x.isDragging=!1,x.onDragEnd({event:k}),(U=x.eventCenter)===null||U===void 0||U.emit(mt["".concat(x.eventType,"_DROP")],{e:k,data:x.data||B}))})},this.cancelDrag=function(){var k=window==null?void 0:window.document;k.removeEventListener("mousemove",x.handleMouseMove,!1),k.removeEventListener("mouseup",x.handleMouseUp,!1),x.onDragEnd({event:void 0}),x.isDragging=!1},this.destroy=function(){x.isStartDragging&&x.cancelDrag()},this.onDragStart=r,this.onDragging=o,this.onDragEnd=l,this.step=m,this.isStopPropagation=_,this.eventType=c,this.eventCenter=f,this.model=b,this.data=w}return n.prototype.setStep=function(e){this.step=e},n.prototype.setModel=function(e){this.model=e},n}(),mH=function(n){var e=n.x,t=n.y,r=n.width,i=n.height;return{x:e-r/2,y:t-i/2,x1:e+r/2,y1:t+i/2}},yH=function(n){var e=n.startPoint,t=n.endPoint,r=(e.x+t.x)/2,i=(e.y+t.y)/2,o=Math.abs(e.x-t.x)+10,a=Math.abs(e.y-t.y)+10;return{x:r-o/2,y:i-a/2,x1:r+o/2,y1:i+a/2}},_H=function(n){var e=n.points,t=Ks(e),r=P0(t,8),i=r.x,o=r.y,a=r.width,l=r.height;return{x:i-a/2,y:o-l/2,x1:i+a/2,y1:o+l/2}},bH=function(n){var e=n.path,t=vg(e),r=P0(t,8),i=r.x,o=r.y,a=r.width,l=r.height;return{x:i-a/2,y:o-l/2,x1:i+a/2,y1:o+l/2}},CH=function(n){if(n.modelType===$t.LINE_EDGE)return yH(n);if(n.modelType===$t.POLYLINE_EDGE)return _H(n);if(n.modelType===$t.BEZIER_EDGE)return bH(n)},wH=function(n,e,t,r){var i=(e.y-n.y)*(r.x-t.x)-(n.x-e.x)*(t.y-r.y);if(i===0)return!1;var o=((e.x-n.x)*(r.x-t.x)*(t.y-n.y)+(e.y-n.y)*(r.x-t.x)*n.x-(r.y-t.y)*(e.x-n.x)*t.x)/i,a=-((e.y-n.y)*(r.y-t.y)*(t.x-n.x)+(e.x-n.x)*(r.y-t.y)*n.y-(r.x-t.x)*(e.y-n.y)*t.y)/i;return(o-n.x)*(o-e.x)<=0&&(a-n.y)*(a-e.y)<=0&&(o-t.x)*(o-r.x)<=0&&(a-t.y)*(a-r.y)<=0?{x:o,y:a}:!1},N0=function(n,e,t){var r=n.x,i=n.y,o=e.x,a=e.y,l=t.x,u=t.y,c=(u-a)/(l-o),f=a-c*o;return(r>=o&&r<=l||r<=o&&r>=l)&&(i>=a&&i<=u||i<=a&&i>=u)&&Math.abs(i-c*r-f)<Number.EPSILON},D0=function(n){var e=n.start,t=n.end,r=n.offset,i=n.verticalLength,o=n.type,a={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((t.y-e.y)/(t.x-e.x)),u=Math.atan(r/i),c=Math.sqrt(i*i+r*r);return o==="start"?t.x>=e.x?(a.leftX=e.x+c*Math.sin(l+u),a.leftY=e.y-c*Math.cos(l+u),a.rightX=e.x-c*Math.sin(l-u),a.rightY=e.y+c*Math.cos(l-u)):(a.leftX=e.x-c*Math.sin(l+u),a.leftY=e.y+c*Math.cos(l+u),a.rightX=e.x+c*Math.sin(l-u),a.rightY=e.y-c*Math.cos(l-u)):o==="end"&&(t.x>=e.x?(a.leftX=t.x+c*Math.sin(l-u),a.leftY=t.y-c*Math.cos(l-u),a.rightX=t.x-c*Math.sin(l+u),a.rightY=t.y+c*Math.cos(l+u)):(a.leftX=t.x-c*Math.sin(l-u),a.leftY=t.y+c*Math.cos(l-u),a.rightX=t.x+c*Math.sin(l+u),a.rightY=t.y-c*Math.cos(l+u))),a},Wa=function(){return Wa=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Wa.apply(this,arguments)},yi=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},os=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},xH=function(n,e){return Math.abs(n.centerX-e.centerX)*2<n.width+e.width&&Math.abs(n.centerY-e.centerY)*2<n.height+e.height},i1=function(n){var e=[],t={};return n.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,t[i]=r}),Object.keys(t).forEach(function(r){e.push(t[r])}),e},ju=function(n,e){return n.width===0&&n.height===0?n:{x:n.x,y:n.y,centerX:n.centerX,centerY:n.centerY,minX:n.minX-e,minY:n.minY-e,maxX:n.maxX+e,maxY:n.maxY+e,height:n.height+2*e,width:n.width+2*e}},kH=function(n,e){var t=Math.abs(n.x-e.centerX),r=Math.abs(n.y-e.centerY);return t/e.width>r/e.height?On.HORIZONTAL:On.VERTICAL},Fu=function(n,e,t){var r=kH(t,e);return r===On.HORIZONTAL?{x:t.x>n.centerX?n.maxX:n.minX,y:t.y}:{x:t.x,y:t.y>n.centerY?n.maxY:n.minY}},Y9=function(n,e){var t=Math.min(n.minX,e.minX),r=Math.min(n.minY,e.minY),i=Math.max(n.maxX,e.maxX),o=Math.max(n.maxY,e.maxY);return{x:(t+i)/2,y:(r+o)/2,centerX:(t+i)/2,centerY:(r+o)/2,minX:t,minY:r,maxX:i,maxY:o,height:o-r,width:i-t}},P0=function(n,e){n===void 0&&(n=[]);var t=[],r=[];n.forEach(function(f){t.push(f.x),r.push(f.y)});var i=Math.min.apply(Math,os([],yi(t),!1)),o=Math.max.apply(Math,os([],yi(t),!1)),a=Math.min.apply(Math,os([],yi(r),!1)),l=Math.max.apply(Math,os([],yi(r),!1)),u=o-i,c=l-a;return e&&(u+=e,c+=e),{centerX:(i+o)/2,centerY:(a+l)/2,maxX:o,maxY:l,minX:i,minY:a,x:(i+o)/2,y:(a+l)/2,height:c,width:u}},Vu=function(n){var e=n.minX,t=n.minY,r=n.maxX,i=n.maxY;return[{x:e,y:t},{x:r,y:t},{x:r,y:i},{x:e,y:i}]},Y2=function(n,e){var t=n.x,r=n.y;return t<e.minX||t>e.maxX||r<e.minY||r>e.maxY},SH=function(n,e){return e<n.minX||e>n.maxX?[]:[{x:e,y:n.minY},{x:e,y:n.maxY}]},EH=function(n,e){return e<n.minY||e>n.maxY?[]:[{x:n.minX,y:e},{x:n.maxX,y:e}]},MH=function(n,e){return os(os([],yi(SH(n,e.x)),!1),yi(EH(n,e.y)),!1)},o1=function(n,e){return Math.abs(n.x-e.x)+Math.abs(n.y-e.y)},OH=function(n,e){var t=-2,r=0;return e.forEach(function(i){i&&(n.x===i.x&&(r+=t),n.y===i.y&&(r+=t))}),r},q9=function(n,e,t,r,i){return o1(n,e)+o1(n,t)+OH(n,[e,t,r,i])},o_=function(n,e,t,r,i){i||(i=0),n.unshift(e[r]),t[r]&&t[r]!==r&&i<=100&&o_(n,e,t,t[r],i+1)},AH=function(n,e){var t=n.indexOf(e);t>-1&&n.splice(t,1)},l0=function(n,e,t,r){var i=e.x-n.x,o=e.y-n.y,a=r.x-t.x,l=r.y-t.y,u=(-o*(n.x-t.x)+i*(n.y-t.y))/(-a*o+i*l),c=(a*(n.y-t.y)-l*(n.x-t.x))/(-a*o+i*l);return u>=0&&u<=1&&c>=0&&c<=1},K9=function(n,e,t){if(t.width===0&&t.height===0)return!1;var r=yi(Vu(t),4),i=r[0],o=r[1],a=r[2],l=r[3];return l0(n,e,i,o)||l0(n,e,i,l)||l0(n,e,o,a)||l0(n,e,a,l)},LH=function(n,e,t,r){var i=[];return n.forEach(function(o){o!==e&&(o.x===e.x||o.y===e.y)&&!K9(o,e,t)&&!K9(o,e,r)&&i.push(o)}),i1(i)},TH=function(n,e,t,r,i,o,a){var l=[],u=[e],c={},f={},v={};e.id&&(f[e.id]=0,v[e.id]=q9(e,t,e));var m={};n.forEach(function(b){b.id&&(m[b.id]=b)});for(var y=function(){var b,w=1/0;if(u.forEach(function(k){k.id&&v[k.id]<w&&(w=v[k.id],b=k)}),b===t&&t.id){var x=[];return o_(x,m,c,t.id),{value:x}}if(!b)return{value:[e,t]};AH(u,b),l.push(b),LH(n,b,r,i).forEach(function(k){if(l.indexOf(k)===-1&&(u.indexOf(k)===-1&&u.push(k),b!=null&&b.id&&(k!=null&&k.id))){var N=v[b.id]+o1(b,k);if(f[k.id]&&N>=f[k.id])return;c[k.id]=b.id,f[k.id]=N,v[k.id]=f[k.id]+q9(k,t,e,o,a)}})};u.length;){var _=y();if(typeof _=="object")return _.value}return[e,t]},J9=function(n){return ai(n)},s_=function(n){for(var e=1;e<n.length-1;){var t=n[e-1],r=n[e],i=n[e+1];t.x===r.x&&r.x===i.x||t.y===r.y&&r.y===i.y?n.splice(e,1):e++}return n},Q9=function(n,e,t,r,i){var o=J9(t),a=J9(r),l=ju(o,i),u=ju(a,i),c=Fu(l,o,n),f=Fu(u,a,e);if(xH(l,u)){var v=DH(n,e,c,f);return os(os([n,c],yi(v),!1),[f,e],!1)}var m=P0([c,f]),y=Y9(l,m),_=Y9(u,m),b=[];b=b.concat(Vu(y)),b=b.concat(Vu(_));var w={x:(n.x+e.x)/2,y:(n.y+e.y)/2};[m,y,_].forEach(function(k){b=b.concat(MH(k,w).filter(function(N){return Y2(N,l)&&Y2(N,u)}))}),[{x:c.x,y:f.y},{x:f.x,y:c.y}].forEach(function(k){Y2(k,l)&&Y2(k,u)&&b.push(k)}),b.unshift(c),b.push(f),b=i1(b);var x=TH(b,c,f,o,a,n,e);return x.unshift(n),x.push(e),x.length>2&&(x=s_(x)),i1(x)},NH=function(n){if(n.length===1){var e=yi(n,1),t=e[0];return[t,t]}else{for(var r=n[0],i=n[1],o=zi(r.x,r.y,i.x,i.y),a=1;a<n.length-1;a++){var l=n[a],u=n[a+1],c=zi(l.x,l.y,u.x,u.y);c>o&&(o=c,r=l,i=u)}return[r,i]}},e4=function(n,e,t){var r=Ho(n,t),i=Ho(e,t);return r&&i},t4=function(n,e,t){var r=Ho(n,t),i=Ho(e,t),o=r&&i,a=r||i;return!o&&a},n4=function(n,e,t){for(var r=void 0,i=ai(t),o=Vu(i),a=0;a<o.length;a++){var l=l0(n,e,o[a],o[(a+1)%o.length]);l&&(r=[o[a],o[(a+1)%o.length]])}if(r)return wH(n,e,r[0],r[1])},$u=function(n,e){var t=void 0;return n.x===e.x?t=On.VERTICAL:n.y===e.y&&(t=On.HORIZONTAL),t},Ks=function(n){var e=n.split(" "),t=[];return e&&e.forEach(function(r){var i=yi(r.split(","),2),o=i[0],a=i[1];t.push({x:Number(o),y:Number(a)})}),t},DH=function(n,e,t,r){var i=[],o=$u(n,t),a=$u(e,r);if(o===a)n.y===t.y?(i.push({x:t.x,y:(t.y+r.y)/2}),i.push({x:r.x,y:(t.y+r.y)/2})):(i.push({x:(t.x+r.x)/2,y:t.y}),i.push({x:(t.x+r.x)/2,y:r.y}));else{var l={x:t.x,y:r.y},u=N0(l,n,t),c=N0(l,e,r);if(u||c)l={x:r.x,y:t.y};else{var f=r4(l,n,t),v=r4(l,e,r);f&&v&&(l={x:r.x,y:t.y})}i.push(l)}return i},r4=function(n,e,t){return n.x===e.x&&n.x===t.x||n.y===e.y&&n.y===t.y},a_=function(n){if(!n)return 0;for(var e=0,t=0;t<n.length;t++){var r=n.charCodeAt(t);n.match(/[A-Z]/)?e+=1.5:r>=1&&r<=126||r>=65376&&r<=65439?e+=1:e+=2}return e},PH=function(n){var e=n.start,t=n.end,r;if(e.x===t.x&&e.y===t.y)r="";else{var i={start:e,end:t,offset:10,verticalLength:5},o=D0(Wa(Wa({},i),{type:"start"})),a=D0(Wa(Wa({},i),{type:"end"}));r="M".concat(o.leftX," ").concat(o.leftY,`
    L`).concat(o.rightX," ").concat(o.rightY,`
    L`).concat(a.rightX," ").concat(a.rightY,`
    L`).concat(a.leftX," ").concat(a.leftY," z")}return{d:r,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},i4=function(n){var e=n.start,t=n.end,r=n.sourceNode,i=n.targetNode,o=n.offset,a=ai(r),l=ai(i),u=ju(a,o),c=ju(l,o),f=Fu(u,a,e),v=Fu(c,l,t);return{sNext:f,ePre:v}},vg=function(n){var e=n.replace(/M/g,"").replace(/C/g,",").split(","),t=q2(e[0]),r=q2(e[1]),i=q2(e[2]),o=q2(e[3]);return[t,r,i,o]},q2=function(n){var e=yi(n.replace(/(^\s*)/g,"").split(" "),2),t=e[0],r=e[1];return{x:+t,y:+r}},o4=function(n,e){var t=yi(n,4),r=t[0],i=t[1],o=t[2],a=t[3],l=kI(r,i,o,a,e);return[l,n[3]]},l_=function(n,e){for(var t=n.x,r=n.y,i=Ks(e),o=Number.MAX_SAFE_INTEGER,a,l=[],u=0;u<i.length;u++)l.push({start:i[u],end:i[(u+1)%i.length]});if(l.forEach(function(m){var y=m.start,_=m.end;if(y.x===_.x){var b={x:y.x,y:r},w=N0(b,y,_);if(w){var x=Math.abs(y.x-t);x<o&&(o=x,a=b)}}else if(y.y===_.y){var b={x:t,y:y.y},w=N0(b,y,_);if(w){var x=Math.abs(y.y-r);x<o&&(o=x,a=b)}}}),!a){var c=l[0],f=c.start,v=c.end;a={x:f.x+(v.x-f.x)/2,y:f.y+(v.y-f.y)/2}}return a},RH=function(n){return Ws(n,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},s4=function(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))};function HH(n,e){return typeof e!="function"?function(t,r,i){return Object.assign({type:n.edgeType},i)}:function(t,r,i){var o=e(t,r,i);return o?typeof o=="string"?Object.assign({},i,{type:o}):Object.assign({type:o},i):{type:n.edgeType}}}var IH=function(n){var e=n.rows,t=n.rowsLength,r=n.fontSize,i=0;return cn(e,function(o){var a=a_(o);i=a>i?a:i}),{width:Math.ceil(i/2)*r+r/4,height:t*(r+2)+r/4}},Pa=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},K2=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};function il(n,e,t){return t&&e*Math.round(n/e)||n}function BH(n,e,t){if(!n)return[];var r=Math.min.apply(Math,K2([],Pa(n.map(function(b){return b[0]})),!1)),i=Math.max.apply(Math,K2([],Pa(n.map(function(b){return b[0]})),!1)),o=Math.min.apply(Math,K2([],Pa(n.map(function(b){return b[1]})),!1)),a=Math.max.apply(Math,K2([],Pa(n.map(function(b){return b[1]})),!1)),l=-r,u=-o,c=n.map(function(b){var w=Pa(b,2),x=w[0],k=w[1];return[x+l,k+u]}),f=i-r,v=a-o,m=e?e/f:1,y=t?t/v:1,_=Math.min(m,y);return c.map(function(b){var w=Pa(b,2),x=w[0],k=w[1];return[x*_,k*_]})}var uf=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},df=function(n,e,t){var r=uf(n,2),i=r[0],o=r[1],a=uf(e,2),l=a[0],u=a[1],c=uf(t,2),f=c[0],v=c[1];return i>l&&i<f&&o>u&&o<v},u_=function(n,e){var t=e.multipleSelectKey,r=!1;switch(t){case"meta":r=n.metaKey;break;case"alt":r=n.altKey;break;case"shift":r=n.shiftKey;break;case"ctrl":r=n.ctrlKey;break;default:r=!1;break}return r},gg=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();function a4(n,e){return n instanceof br&&e instanceof br}var d_=function(n){gg(e,n);function e(t,r,i){var o=n.call(this,3)||this;return o[0]=t,o[1]=r,o[2]=i,o.x=t,o.y=r,o.z=i,Object.setPrototypeOf(o,e.prototype),o}return e.prototype.add=function(t){if(a4(this,t))return new br(this.x+t.x,this.y+t.y);var r=this.z+t.z;return new s1((this.x+t.x)/r,(this.y+t.y)/r)},e.prototype.subtract=function(t){if(a4(this,t))return new br(this.x-t.x,this.y-t.y);var r=this.z-t.z;return r===0?new br(this.x-t.x,this.y-t.y):new s1((this.x-t.x)/r,(this.y-t.y)/r)},e}(Array),br=function(n){gg(e,n);function e(t,r,i){var o=n.call(this,t,r,i??0)||this;return Object.setPrototypeOf(o,e.prototype),o}return e.prototype.toString=function(){return"Vector"},e.prototype.dot=function(t){var r=this;return t.reduce(function(i,o,a){return i+o*r[a]})},e.prototype.cross=function(t){return new e(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},e.prototype.getLength=function(){return Math.hypot(this.x,this.y)},e.prototype.normalize=function(){var t=this.getLength();return new e(this.x/t,this.y/t)},e.prototype.crossZ=function(t){return this.x*t.y-this.y*t.x},e.prototype.angle=function(t){var r=this.crossZ(t),i=Math.acos(this.normalize().dot(t.normalize()));return r>=0?i:-i},e}(d_),s1=function(n){gg(e,n);function e(t,r){var i=n.call(this,t,r,1)||this;return Object.setPrototypeOf(i,e.prototype),i}return e.prototype.toString=function(){return"Point"},e}(d_),Qd=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ra=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},cf=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},l2=function(n){Qd(e,n);function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=n.call(this,t.length)||this;return i.fill(new Array(3)),t.forEach(function(o,a){i[a]=o}),i.columns=t[0].length,i.rows=t.length,Object.setPrototypeOf(i,e.prototype),i}return e.prototype.getRow=function(t){return this[t]},e.prototype.getColumn=function(t){return cf([],Ra(this.map(function(r){return r[t]})),!1)},e.prototype.transpose=function(){for(var t=[],r=0;r<this.columns;r++)t.push(this.getColumn(r));return new(e.bind.apply(e,cf([void 0],Ra(t),!1)))},e.prototype.cross=function(t){var r=new Array(this.rows).fill("").map(function(){return[]});if(this.columns===t.rows)for(var i=0;i<this.rows;i++)for(var o=this.getRow(i),a=function(u){var c=t.getColumn(u);r[i][u]=o.reduce(function(f,v,m){return f+v*c[m]},0)},l=0;l<t.columns;l++)a(l);return new(e.bind.apply(e,cf([void 0],Ra(r),!1)))},e.prototype.to2D=function(){return this.map(function(t){return[t[0],t[1]]})},e.prototype.toPoints=function(){return this.map(function(t){return new s1(t[0],t[1])})},e.prototype.toString=function(){var t=Ra(this[0],2),r=t[0],i=t[1],o=Ra(this[1],2),a=o[0],l=o[1],u=Ra(this[2],2),c=u[0],f=u[1];return"matrix(".concat(r," ").concat(i," ").concat(a," ").concat(l," ").concat(c," ").concat(f,")")},e.prototype.translate=function(t,r){return this.cross(new Wu(t,r))},e.prototype.rotate=function(t){return this.cross(new jH(t))},e.prototype.scale=function(t,r){return this.cross(new FH(t,r))},e}(Array),jH=function(n){Qd(e,n);function e(t){var r=n.call(this,new br(+Math.cos(t).toFixed(2),+Math.sin(t).toFixed(2),0),new br(-Math.sin(t).toFixed(2),+Math.cos(t).toFixed(2),0),new br(0,0,1))||this;return Object.setPrototypeOf(r,e.prototype),r}return e.prototype.inverse=function(){return this.transpose()},e}(l2),FH=function(n){Qd(e,n);function e(t,r){var i=n.call(this,new br(t,0,0),new br(0,r,0),new br(0,0,1))||this;return i.sx=t,i.sy=r,Object.setPrototypeOf(i,e.prototype),i}return e.prototype.inverse=function(){return new e(1/this.sx,1/this.sy)},e}(l2),Wu=function(n){Qd(e,n);function e(t,r){var i=n.call(this,new br(1,0,0),new br(0,1,0),new br(t,r,1))||this;return i.tx=t,i.ty=r,Object.setPrototypeOf(i,e.prototype),i}return e.prototype.inverse=function(){return new e(-this.tx,-this.ty)},e}(l2);mR({});var zu=function(){return zu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},zu.apply(this,arguments)},VH=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},a1=function(n){var e=n.anchors;return e},Uu=function(n,e){for(var t=e.nodes,r,i=t.length-1;i>=0;i--){var o=t[i],a=zH(n,o);if(a){var l=o.getTargetAnchor(n);if(l){var u={node:o,anchorIndex:l.index,anchor:l.anchor};(!r||$H(o,r.node,e))&&(r=u)}}}return r},$H=function(n,e,t){return n.zIndex>e.zIndex?!0:t.nodesMap[n.id].index>t.nodesMap[e.id].index},WH=function(n,e){for(var t=a1(e),r,i=Number.MAX_SAFE_INTEGER,o=0;o<t.length;o++){var a=zi(n.x,n.y,t[o].x,t[o].y);a<i&&(i=a,r={index:o,anchor:zu(zu({},t[o]),{x:t[o].x,y:t[o].y,id:t[o].id})})}return r},zi=function(n,e,t,r){return Math.hypot(n-t,e-r)},Ho=function(n,e,t){t===void 0&&(t=0);var r=!1,i=ai(e),o=VH(new l2([n.x,n.y,1]).translate(-e.x,-e.y).rotate(-e.rotate).translate(e.x,e.y)[0],2),a=o[0],l=o[1],u={x:a,y:l};return u.x>=i.minX-t&&u.x<=i.maxX+t&&u.y>=i.minY-t&&u.y<=i.maxY+t&&(r=!0),r},zH=function(n,e){return Ho(n,e,5)},ai=function(n){var e=n.x,t=n.y,r=n.width,i=n.height;return{minX:e-r/2,minY:t-i/2,maxX:e+r/2,maxY:t+i/2,x:e,y:t,width:r,height:i,centerX:e,centerY:t}},UH=function(n){var e=n,t=e.x,r=e.y,i=e.width,o=e.height,a=e.radius;return[{x:t-i/2+a,y:r-o/2+a,r:a},{x:t+i/2-a,y:r-o/2+a,r:a},{x:t-i/2+a,y:r+o/2-a,r:a},{x:t+i/2-a,y:r+o/2-a,r:a}]},l4=function(n,e,t){var r=UH(t),i,o=Number.MAX_SAFE_INTEGER;return r.forEach(function(a){var l=zi(n.x,n.y,a.x,a.y);l<o&&(o=l,i=a)}),l1(n,e,i)},l1=function(n,e,t){var r,i=t.x,o=t.y,a=t.r;if(e===On.HORIZONTAL){var l=i-Math.sqrt(a*a-(n.y-o)*(n.y-o)),u=i+Math.sqrt(a*a-(n.y-o)*(n.y-o)),c=Math.abs(l-n.x)<Math.abs(u-n.x)?l:u;r={x:c,y:n.y}}else if(e===On.VERTICAL){var f=o-Math.sqrt(a*a-(n.x-i)*(n.x-i)),v=o+Math.sqrt(a*a-(n.x-i)*(n.x-i)),m=Math.abs(f-n.y)<Math.abs(v-n.y)?f:v;r={x:n.x,y:m}}return r},u4=function(n,e){var t=e,r=!1,i=t.x,o=t.y,a=t.width,l=t.height,u=t.radius,c={minX:i-a/2+u,maxX:i+a/2-u,minY:o-l/2+u,maxY:o+l/2-u};return n.y===o+l/2||n.y===o-l/2?r=n.x>c.minX&&n.x<c.maxX:(n.x===i+a/2||n.x===i-a/2)&&(r=n.y>c.minY&&n.y<c.maxY),r},d4=function(n,e,t){var r,i=t,o=i.x,a=i.y,l=i.rx,u=i.ry;if(e===On.HORIZONTAL){var c=o-Math.sqrt(l*l-(n.y-a)*(n.y-a)*l*l/(u*u)),f=o+Math.sqrt(l*l-(n.y-a)*(n.y-a)*l*l/(u*u)),v=Math.abs(c-n.x)<Math.abs(f-n.x)?c:f;r={x:v,y:n.y}}else if(e===On.VERTICAL){var m=a-Math.sqrt(u*u-(n.x-o)*(n.x-o)*u*u/(l*l)),y=a+Math.sqrt(u*u-(n.x-o)*(n.x-o)*u*u/(l*l)),_=Math.abs(m-n.y)<Math.abs(y-n.y)?m:y;r={x:n.x,y:_}}return r},J2=function(n,e,t){for(var r=t.pointsPosition,i=Number.MAX_SAFE_INTEGER,o,a=[],l=0;l<r.length;l++)a.push({start:r[l],end:r[(l+1)%r.length]});return a.forEach(function(u){var c=u.start,f=u.end,v=c,m=f;c.x>f.x&&(v=f,m=c);var y={x:n.x,y:n.y};if(v.x===m.x&&e===On.HORIZONTAL&&(y={x:v.x,y:n.y}),v.y===m.y&&e===On.VERTICAL&&(y={x:n.x,y:v.y}),v.x!==m.x&&v.y!==m.y){var _=(m.y-v.y)/(m.x-v.x),b=(v.x*m.y-m.x*v.y)/(v.x-m.x);e===On.HORIZONTAL?y={x:(n.y-b)/_,y:n.y}:e===On.VERTICAL&&(y={x:n.x,y:_*n.x+b})}var w=N0(y,c,f);if(w){var x=zi(y.x,y.y,n.x,n.y);x<i&&(i=x,o=y)}}),o},GH=function(n){var e=Ws(n,["id","type","x","y","text","label","properties","virtual","rotate","resizable","rotatable"]);return e},c4=function(n,e,t,r){var i=n.x,o=n.y;return e.x>n.x?i=n.x+t/2:e.x<n.x&&(i=n.x-t/2),e.y>n.y?o=n.y+r/2:e.y<n.y&&(o=n.y-r/2),{x:i,y:o}},c_=function(n){var e=n.rows,t=n.style,r=n.rowsLength,i=n.className,o=document.createElement("div");o.className=i,o.style.fontSize="".concat(t.fontSize),o.style.width="".concat(t.width),o.style.lineHeight="".concat(t.lineHeight),o.style.padding="".concat(t.padding),t.fontFamily&&(o.style.fontFamily="".concat(t.fontFamily)),r>1?e.forEach(function(l){var u=document.createElement("div");u.textContent=l,o.appendChild(u)}):o.textContent=e[0],document.body.appendChild(o);var a=o.clientHeight;return document.body.removeChild(o),a},f4=function(n){var e=n.rows,t=n.rowsLength,r=n.fontSize,i=0;return e&&e.forEach(function(o){var a=a_(o);i=a>i?a:i}),{width:Math.ceil(i/2)*r+r/4,height:t*(r+2)+r/4}},Gu=function(n){return typeof n!="object"?{isAllPass:!!n,msg:n?"":"不允许连接"}:n};let Q2;const XH=new Uint8Array(16);function ZH(){if(!Q2&&(Q2=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Q2))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q2(XH)}const yr=[];for(let n=0;n<256;++n)yr.push((n+256).toString(16).slice(1));function YH(n,e=0){return yr[n[e+0]]+yr[n[e+1]]+yr[n[e+2]]+yr[n[e+3]]+"-"+yr[n[e+4]]+yr[n[e+5]]+"-"+yr[n[e+6]]+yr[n[e+7]]+"-"+yr[n[e+8]]+yr[n[e+9]]+"-"+yr[n[e+10]]+yr[n[e+11]]+yr[n[e+12]]+yr[n[e+13]]+yr[n[e+14]]+yr[n[e+15]]}const qH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),h4={randomUUID:qH};function KH(n,e,t){if(h4.randomUUID&&!n)return h4.randomUUID();n=n||{};const r=n.random||(n.rng||ZH)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,YH(r)}var us=function(){return KH()},h0=new Map,f_=function(n){var e=us();function t(){n();var i=h0.get(e);if(i){var o=window.requestAnimationFrame(t);h0.set(e,o)}}var r=window.requestAnimationFrame(t);return h0.set(e,r),e},Xu=function(n){var e=h0.get(n);e&&(window.cancelAnimationFrame(e),h0.delete(n))},R0=function(){return R0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},R0.apply(this,arguments)},JH=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function h_(n){var e=n.x,t=e===void 0?0:e,r=n.y,i=r===void 0?0:r,o=n.value,a=n.fontSize,l=a===void 0?12:a,u=n.fill,c=u===void 0?"currentColor":u,f=n.overflowMode,v=f===void 0?"default":f,m=n.textWidth,y=m===void 0?void 0:m,_=n.model,b={x:t,y:i,fill:c,fontSize:l,textAnchor:"middle",dominantBaseline:"central"};if(cn($o(n),function(V){var U=JH(V,2),B=U[0],G=U[1];typeof G!="object"&&(b[B]=G)}),o){var w=String(o).split(/[\r\n]/g),x=w.length;if(v!=="default"){var k=_.BaseType,N=_.modelType;if(k===Dn.NODE&&N!==$t.TEXT_NODE||k===Dn.EDGE&&y)return QH(n)}if(x>1){var D=w.map(function(V,U){var B=l+2,G=(U-(x-1)/2)*B;return Te("tspan",{className:"lf-text-tspan",x:t,y:i+G,children:V})});return Te("text",R0({},b,{children:D}))}return Te("text",R0({},b,{children:o}))}return null}function QH(n){var e=n.x,t=n.y,r=n.value,i=n.model,o=n.textWidth,a=n.fontSize,l=a===void 0?12:a,u=n.lineHeight,c=n.fontFamily,f=c===void 0?"":c,v=n.wrapPadding,m=v===void 0?"0, 0":v,y=n.overflowMode,_=i.width,b=i.height,w=i.textHeight,x=o||_,k=String(r).split(/[\r\n]/g),N=k.length,D=c_({rows:k,style:{fontSize:"".concat(l,"px"),width:"".concat(x,"px"),fontFamily:f,lineHeight:u,padding:m},rowsLength:N,className:"lf-get-text-height"}),V=b>D?b:D;w&&(V=w);var U=y==="ellipsis";return U&&(V=l+2),Te("g",{children:Te("foreignObject",{width:x,height:V,x:e-x/2,y:t-V/2,style:{overflow:"visible",textAlign:"left"},children:Te("div",{className:"lf-node-text-auto-wrap",style:{minHeight:V,width:x,padding:m},children:Te("div",{className:U?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:U?k.join(""):"",style:R0({},n),children:k.map(function(B){return Te("div",{className:"lf-node-text--auto-wrap-inner",children:B})})})})})})}var u1=function(){return u1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},u1.apply(this,arguments)},eI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function ol(n){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return cn($o(n),function(t){var r=eI(t,2),i=r[0],o=r[1];(i==="style"||typeof o!="object")&&(e[i]=o)}),Te("line",u1({},e))}var d1=function(){return d1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},d1.apply(this,arguments)},tI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function _i(n){var e=n.x,t=n.y,r=n.width,i=n.height,o=n.className,a=n.strokeWidth,l=n.radius,u=l===void 0?0:l,c=e-r/2,f=t-i/2,v={};return v["stroke-width"]=a,cn($o(n),function(m){var y=tI(m,2),_=y[0],b=y[1];typeof b!="object"&&(v[_]=b)}),o?v.className="lf-basic-shape ".concat(o):v.className="lf-basic-shape",u&&(v.rx=u,v.ry=u),v.x=c,v.y=f,Te("rect",d1({},v))}var c1=function(){return c1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},c1.apply(this,arguments)},nI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function H0(n){var e={d:""};return cn($o(n),function(t){var r=nI(t,2),i=r[0],o=r[1];(i==="style"||typeof o!="object")&&(e[i]=o)}),Te("path",c1({},e))}var f1=function(){return f1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},f1.apply(this,arguments)},rI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function sl(n){var e=n.x,t=e===void 0?0:e,r=n.y,i=r===void 0?0:r,o=n.r,a=o===void 0?4:o,l=n.className,u={cx:t,cy:i,r:a,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1};return cn($o(n),function(c){var f=rI(c,2),v=f[0],m=f[1];typeof m!="object"&&(u[v]=m)}),l?u.className="lf-basic-shape ".concat(l):u.className="lf-basic-shape",Te("circle",f1({},u))}var h1=function(){return h1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},h1.apply(this,arguments)},iI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function oI(n){var e=n.x,t=e===void 0?0:e,r=n.y,i=r===void 0?0:r,o=n.rx,a=o===void 0?4:o,l=n.ry,u=l===void 0?4:l,c=n.className,f={cx:t,cy:i,rx:a,ry:u,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1};return cn($o(n),function(v){var m=iI(v,2),y=m[0],_=m[1];typeof _!="object"&&(f[y]=_)}),c?f.className="lf-basic-shape ".concat(c):f.className="lf-basic-shape",Te("ellipse",h1({},f))}var Zu=function(){return Zu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Zu.apply(this,arguments)},sI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function aI(n,e){var t=n.map(function(k){return{x:k[0],y:k[1]}}),r=t.length;if(r<3)return"";for(var i=Math.abs(e),o="",a=0;a<r;a++){var l=t[(a-1+r)%r],u=t[a],c=t[(a+1)%r],f={x:u.x-l.x,y:u.y-l.y},v={x:c.x-u.x,y:c.y-u.y},m=Math.hypot(f.x,f.y),y=Math.hypot(v.x,v.y),_={x:f.x/m,y:f.y/m},b={x:v.x/y,y:v.y/y},w={x:u.x-_.x*i,y:u.y-_.y*i},x={x:u.x+b.x*i,y:u.y+b.y*i};a===0?o+="M ".concat(w.x," ").concat(w.y," "):o+="L ".concat(w.x," ").concat(w.y," "),o+="Q ".concat(u.x," ").concat(u.y," ").concat(x.x," ").concat(x.y," ")}return o+="Z",o}function mg(n){var e=n.points,t=e===void 0?[]:e,r=n.className,i=n.radius,o={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};if(cn($o(n),function(l){var u=sI(l,2),c=u[0],f=u[1];typeof f!="object"&&(o[c]=f)}),r?o.classNmae="lf-basic-shape ".concat(r):o.className="lf-basic-shape",i){var a=aI(t,i);return o.d=a,Te("path",Zu({},o))}else return o.points=t.map(function(l){return l.join(",")}).join(" "),Te("polygon",Zu({},o))}var p1=function(){return p1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},p1.apply(this,arguments)},lI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o};function uI(n){var e=n.className,t={points:"",fill:"none"};return cn($o(n),function(r){var i=lI(r,2),o=i[0],a=i[1];(o==="style"||typeof a!="object")&&(t[o]=a)}),e&&(t.className="".concat(e)),Te("polyline",p1({},t))}var p_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),I0=function(){return I0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},I0.apply(this,arguments)},dI=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},cI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},mn;(function(n){n[n.LEFT_TOP=0]="LEFT_TOP",n[n.RIGHT_TOP=1]="RIGHT_TOP",n[n.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",n[n.LEFT_BOTTOM=3]="LEFT_BOTTOM"})(mn||(mn={}));var fI=function(n){p_(e,n);function e(t){var r=n.call(this)||this;r.updateEdgePointByAnchors=function(){var l=r.nodeModel,u=l.id,c=l.anchors,f=r.graphModel.getNodeEdges(u);cn(f,function(v){if(v.sourceNodeId===u){var m=ds(c,function(y){return y.id===v.sourceAnchorId});m&&v.updateStartPoint({x:m.x,y:m.y})}else if(v.targetNodeId===u){var m=ds(c,function(_){return _.id===v.targetAnchorId});m&&v.updateEndPoint({x:m.x,y:m.y})}})},r.triggerResizeEvent=function(l,u,c,f,v,m){r.graphModel.eventCenter.emit(mt.NODE_RESIZE,{preData:l,data:u,deltaX:c,deltaY:f,index:v,model:m})},r.recalcResizeInfo=function(l,u,c,f,v){c===void 0&&(c=1),f===void 0&&(f=!1),v===void 0&&(v=!1);var m=Ht(u),y=m.deltaX,_=m.deltaY,b=m.width,w=m.height,x=m.PCTResizeInfo;if(x){var k=4,N=0,D=0;switch(l){case mn.LEFT_TOP:D=(y*-1-_)/k;break;case mn.RIGHT_TOP:D=(y-_)/k;break;case mn.RIGHT_BOTTOM:D=(y+_)/k;break;case mn.LEFT_BOTTOM:D=(y*-1+_)/k;break}D!==0&&(N=Math.round(D/x.ResizeBasis.basisHeight*1e5)/1e3),x.ResizePCT.widthPCT=Math.max(Math.min(x.ResizePCT.widthPCT+N,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit),x.ResizePCT.heightPCT=Math.max(Math.min(x.ResizePCT.heightPCT+N,x.ScaleLimit.maxScaleLimit),x.ScaleLimit.minScaleLimit);var V=Math.round(x.ResizePCT.widthPCT*x.ResizeBasis.basisWidth/100),U=Math.round(x.ResizePCT.heightPCT*x.ResizeBasis.basisHeight/100);switch(l){case mn.LEFT_TOP:y=b-V,_=w-U;break;case mn.RIGHT_TOP:y=V-b,_=w-U;break;case mn.RIGHT_BOTTOM:y=V-b,_=U-w;break;case mn.LEFT_BOTTOM:y=b-V,_=U-w;break}return m}switch(l){case mn.LEFT_TOP:m.width=f?b:b-y*c,m.height=v?w:w-_*c;break;case mn.RIGHT_TOP:m.width=f?b:b+y*c,m.height=v?w:w-_*c;break;case mn.RIGHT_BOTTOM:m.width=f?b:b+y*c,m.height=v?w:w+_*c;break;case mn.LEFT_BOTTOM:m.width=f?b:b-y*c,m.height=v?w:w+_*c;break}return m},r.resizeNode=function(l){var u=l.deltaX,c=l.deltaY,f=r.index,v=r.props,m=v.model,y=v.graphModel,_=v.x,b=v.y;v_({x:_,y:b,deltaX:u,deltaY:c,index:f,nodeModel:m,graphModel:y,cancelCallback:function(){r.dragHandler.cancelDrag()}})},r.onDragStart=function(){r.graphModel.selectNodeById(r.nodeModel.id)},r.onDragging=function(l){var u=l.deltaX,c=l.deltaY,f=r.graphModel.transformModel,v=cI(f.fixDeltaXY(u,c),2),m=v[0],y=v[1];r.resizeNode({deltaX:m,deltaY:y})},r.onDragEnd=function(){var l=r.nodeModel.x,u=r.nodeModel.y;r.nodeModel.moveTo(l,u),r.updateEdgePointByAnchors()};var i=t.index,o=t.model,a=t.graphModel;return r.index=i,r.nodeModel=o,r.graphModel=a,r.dragHandler=new Ti({onDragStart:r.onDragStart,onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:a.gridSize}),r}return e.prototype.componentWillUnmount=function(){this.dragHandler.destroy()},e.prototype.render=function(){var t=this.props,r=t.x,i=t.y,o=t.direction,a=t.model,l=a.getResizeControlStyle(),u=l.width,c=l.height,f=dI(l,["width","height"]);return Te("g",{className:"lf-resize-control lf-resize-control-".concat(o),children:[Te(_i,I0({className:"lf-resize-control-content",x:r,y:i,width:u??7,height:c??7},f)),Te(_i,{className:"lf-resize-control-content",x:r,y:i,width:25,height:25,fill:"transparent",stroke:"transparent",onMouseDown:this.dragHandler.handleMouseDown})]})},e}(Zt),hI=function(n){p_(e,n);function e(){return n.call(this)||this}return e.prototype.getResizeControl=function(){var t=this.props,r=t.model,i=t.graphModel,o=ai(r),a=o.minX,l=o.minY,u=o.maxX,c=o.maxY,f=[{index:mn.LEFT_TOP,direction:"nw",x:a,y:l},{index:mn.RIGHT_TOP,direction:"ne",x:u,y:l},{index:mn.RIGHT_BOTTOM,direction:"se",x:u,y:c},{index:mn.LEFT_BOTTOM,direction:"sw",x:a,y:c}];return di(f,function(v){return Te(fI,I0({},v,{model:r,graphModel:i}))})},e.prototype.getResizeOutline=function(){var t=this.props.model,r=t.x,i=t.y,o=t.width,a=t.height,l=t.getResizeOutlineStyle();return Te(_i,I0({},l,{x:r,y:i,width:o,height:a}))},e.prototype.render=function(){return Te("g",{className:"lf-resize-control-group",children:[this.getResizeOutline(),this.getResizeControl()]})},e}(Zt);function pI(n,e){var t=n.x,r=n.y,i=e.x,o=e.y,a={x:t+(i-t)/2,y:r+(o-r)/2};return a}function u0(n,e,t){var r=vI(t),i=n.x-e.x,o=n.y-e.y,a=i*Math.cos(r)-o*Math.sin(r)+e.x,l=i*Math.sin(r)+o*Math.cos(r)+e.y;return{x:a,y:l}}function vI(n){return n*Math.PI/180}function gI(n){return n/Math.PI*180}function mI(n,e,t,r,i,o,a,l,u){l===void 0&&(l=!1),u===void 0&&(u=!1);var c=e.deltaX,f=e.deltaY,v=e.width,m=e.height,y=gI(t),_={x:r,y:i},b={x:o,y:a},w=u0(_,b,y),x={x:w.x+c,y:w.y+f},k=CI(w,x,b,y,l,u,v,m),N=k.width,D=k.height,V=k.center;return e.width=N*n,e.height=D*n,e.deltaX=(V.x-b.x)*2,e.deltaY=(V.y-b.y)*2,e}var yI=function(n,e,t,r,i,o,a,l,u,c){t===void 0&&(t=1),r===void 0&&(r=!1),i===void 0&&(i=!1),o===void 0&&(o=0);var f=Ht(e),v=f.deltaX,m=f.deltaY,y=f.width,_=f.height,b=f.PCTResizeInfo;if(b){var w=4,x=0,k=0;switch(n){case mn.LEFT_TOP:k=(v*-1-m)/w;break;case mn.RIGHT_TOP:k=(v-m)/w;break;case mn.RIGHT_BOTTOM:k=(v+m)/w;break;case mn.LEFT_BOTTOM:k=(v*-1+m)/w;break}k!==0&&(x=Math.round(k/b.ResizeBasis.basisHeight*1e5)/1e3),b.ResizePCT.widthPCT=Math.max(Math.min(b.ResizePCT.widthPCT+x,b.ScaleLimit.maxScaleLimit),b.ScaleLimit.minScaleLimit),b.ResizePCT.heightPCT=Math.max(Math.min(b.ResizePCT.heightPCT+x,b.ScaleLimit.maxScaleLimit),b.ScaleLimit.minScaleLimit);var N=Math.round(b.ResizePCT.widthPCT*b.ResizeBasis.basisWidth/100),D=Math.round(b.ResizePCT.heightPCT*b.ResizeBasis.basisHeight/100);switch(n){case mn.LEFT_TOP:v=y-N,m=_-D;break;case mn.RIGHT_TOP:v=N-y,m=_-D;break;case mn.RIGHT_BOTTOM:v=N-y,m=D-_;break;case mn.LEFT_BOTTOM:v=y-N,m=D-_;break}return f}if(o%(2*Math.PI)!==0&&a!==void 0&&l!==void 0)return mI(t,f,o,a,l,u,c,r,i);switch(n){case mn.LEFT_TOP:f.width=r?y:y-v*t,f.height=i?_:_-m*t;break;case mn.RIGHT_TOP:f.width=r?y:y+v*t,f.height=i?_:_-m*t;break;case mn.RIGHT_BOTTOM:f.width=r?y:y+v*t,f.height=i?_:_+m*t;break;case mn.LEFT_BOTTOM:f.width=r?y:y-v*t,f.height=i?_:_+m*t;break}return f},_I=function(n,e){var t=n.id,r=n.anchors,i=e.getNodeEdges(t);cn(i,function(o){if(o.sourceNodeId===t){var a=ds(r,function(l){return l.id===o.sourceAnchorId});a&&o.updateStartPoint({x:a.x,y:a.y})}else if(o.targetNodeId===t){var a=ds(r,function(u){return u.id===o.targetAnchorId});a&&o.updateEndPoint({x:a.x,y:a.y})}})},bI=function(n,e,t,r,i,o,a){a.eventCenter.emit(mt.NODE_RESIZE,{preData:n,data:e,deltaX:t,deltaY:r,index:i,model:o})},v_=function(n){var e=n.x,t=n.y,r=n.deltaX,i=n.deltaY,o=n.index,a=n.nodeModel,l=n.graphModel,u=n.cancelCallback,c=a.r,f=a.rx,v=a.ry,m=a.width,y=a.height,_=a.PCTResizeInfo,b=a.minWidth,w=a.minHeight,x=a.maxWidth,k=a.maxHeight,N=a.rotate,D=a.x,V=a.y,U=b===x,B=w===k,G={width:c||f||m,height:c||v||y,deltaX:r,deltaY:i,PCTResizeInfo:_},Q=c||f&&v?1/2:1,ae=e,q=t,ue=yI(o,G,Q,U,B,N,ae,q,D,V);if(ue.width<b||ue.width>x||ue.height<w||ue.height>k){u==null||u();return}(N%(2*Math.PI)==0||_||ae===void 0||q===void 0)&&(ue.deltaX=U?0:ue.deltaX,ue.deltaY=B?0:ue.deltaY);var T=a.getData(),R=a.resize(ue);T.x===R.x&&T.y===R.y||(_I(a,l),bI(T,R,r,i,o,a,l))};function CI(n,e,t,r,i,o,a,l){i===void 0&&(i=!1),o===void 0&&(o=!1);var u={x:t.x-(n.x-t.x),y:t.y-(n.y-t.y)},c=pI(u,e),f=u0(e,c,-r),v=u0(u,c,-r);if(i){var m=Math.abs(f.x-v.x),y=m-a;c.x>f.x?c.x=c.x+y/2:c.x=c.x-y/2}if(o){var _=Math.abs(f.y-v.y),b=_-l;c.y>f.y?c.y=c.y+b/2:c.y=c.y-b/2}if(i||o){var w=u0(v,c,r),x=w.x-u.x,k=w.y-u.y;c.x=c.x-x,c.y=c.y-k,v=u0(u,c,-r),f={x:c.x-(v.x-c.x),y:c.y-(v.y-c.y)}}var N=Math.abs(f.x-v.x),D=Math.abs(f.y-v.y);return i&&(N=a),o&&(D=l),{width:N,height:D,center:c}}var wI=100,xI={x:1,y:0};function kI(n,e,t,r,i){for(var o=function(y){if(y<0||y>1)throw new RangeError('The value range of parameter "t" is [0,1]');return{x:n.x*Math.pow(1-y,3)+3*e.x*y*Math.pow(1-y,2)+3*t.x*Math.pow(y,2)*(1-y)+r.x*Math.pow(y,3),y:n.y*Math.pow(1-y,3)+3*e.y*y*Math.pow(1-y,2)+3*t.y*Math.pow(y,2)*(1-y)+r.y*Math.pow(y,3)}},a=0,l=2,u=r.x,c=r.y,f=r;a<i&&l<50;){f=o(1-l/wI);var v=f.x,m=f.y;a=zi(u,c,v,m),l++}return f}function SI(n,e){return n.x*e.y-n.y*e.x}function EI(n,e){var t=[n.x,n.y,n.z],r=[e.x,e.y,e.z];return r.reduce(function(i,o,a){return i+o*t[a]})}function MI(n,e){var t=SI(n,e),r=Math.acos(EI(p4(n),p4(e)));return t>=0?r:-r}function p4(n){var e=Math.hypot(n.x,n.y);return{x:n.x/e,y:n.y/e,z:0}}function OI(n){return MI(xI,n)}function AI(n){return n*(180/Math.PI)}var g_={baseNode:{fill:"#fff",stroke:"#000",strokeWidth:2},baseEdge:{stroke:"#000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000",fill:"#fff",r:4,hover:{r:10,fill:"#949494",fillOpacity:.5,stroke:"#949494"}},anchorLine:{stroke:"#000",strokeWidth:2,strokeDasharray:"3,2"},nodeText:{color:"#000",overflowMode:"default",fontSize:12,lineHeight:1.2},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#fff"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",fillOpacity:1,stroke:"#949494"}},arrow:{offset:10,verticalLength:5},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#fff",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10,10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"},rotateControl:{stroke:"#000",fill:"#fff",strokeWidth:1.5},resizeControl:{width:7,height:7,fill:"#fff",stroke:"#000"},resizeOutline:{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},LI={rect:{radius:8},diamond:{radius:8},polygon:{radius:8},polyline:{radius:8},arrow:{strokeLinecap:"round",strokeLinejoin:"round",offset:10,verticalLength:5},snapline:{strokeLinecap:"round",strokeLinejoin:"round",stroke:"#949494",strokeWidth:1},outline:{radius:8,fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},resizeOutline:{radius:8,fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},TI={baseNode:{fill:"#23272e",stroke:"#fefeff"},baseEdge:{stroke:"#fefeff"},rect:{radius:8},diamond:{radius:8},polygon:{radius:8},polyline:{radius:8},nodeText:{color:"#fefeff",overflowMode:"default",fontSize:12,lineHeight:1.2},arrow:{strokeLinecap:"round",strokeLinejoin:"round",offset:10,verticalLength:5},snapline:{strokeLinecap:"round",strokeLinejoin:"round",stroke:"#949494",strokeWidth:1},outline:{radius:8,fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},resizeOutline:{radius:8,fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},NI={rect:{fill:"#72CBFF",stroke:"#3ABDF9",radius:8},circle:{fill:"#FFE075",stroke:"#F9CE3A",radius:8},ellipse:{fill:"#FFA8A8",stroke:"#FF6B66",radius:8},text:{fill:"#72CBFF",radius:8},diamond:{fill:"#96F7AF",stroke:"#40EF7E",radius:8},polygon:{fill:"#E0A8FF",stroke:"#C271FF",radius:8},polyline:{radius:8},arrow:{strokeLinecap:"round",strokeLinejoin:"round",offset:10,verticalLength:5},snapline:{strokeLinecap:"round",strokeLinejoin:"round",stroke:"#949494",strokeWidth:1},outline:{radius:8,fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},resizeOutline:{radius:8,fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},B0={colorful:NI,dark:TI,radius:LI,default:g_},DI={background:"#23272e"},PI={background:"#fefeff"},v1={background:"#ffffff"},j0={colorful:PI,dark:DI,radius:v1,default:v1},RI={color:"#66676a",thickness:1},HI={color:"#dadada",thickness:1},g1={color:"#acacac",thickness:1},F0={colorful:HI,dark:RI,radius:g1,default:g1},m_=function(n,e){var t=Ht(g_);return e&&(t=Ys(t,B0[e])),n&&(t=Ys(t,n)),t},II=function(n,e){if(B0[n]){console.warn("theme mode ".concat(n," already exists"));return}B0[n]=e,j0[n]=e.background||v1,F0[n]=e.grid||g1},BI=function(n){delete B0[n],delete j0[n],delete F0[n]},v4=function(){var n={colorful:{},dark:{},radius:{},default:{}};rn(B0,n),rn(j0,n),rn(F0,n)},jI=m_,FI=1e3,VI=999,yg=function(){return++FI},$I=function(){return--VI},$n=function(){return $n=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},$n.apply(this,arguments)},kt=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ec=function(){function n(e,t){var r;this.BaseType=Dn.EDGE,this.id="",this.type="",this.sourceNodeId="",this.targetNodeId="",this.textMode=Ci.TEXT,this.text={value:"",x:0,y:0,draggable:!1,editable:!0},this.points="",this.pointsList=[],this.virtual=!1,this.isSelected=!1,this.isHovered=!1,this.isHitable=!0,this.isHittable=!0,this.draggable=!0,this.visible=!0,this.isAnimation=!1,this.isShowAdjustPoint=!1,this.zIndex=0,this.state=tn.DEFAULT,this.modelType=$t.EDGE,this.customTextPosition=!1,this.style={},this.arrowConfig={markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:"url(#marker-start-".concat(this.id,")")},this.graphModel=t,this.properties=(r=e.properties)!==null&&r!==void 0?r:{},this.initEdgeData(e),this.setAttributes()}return n.prototype.initEdgeData=function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,r=t&&t(e.type),i=this.createId();e.id=i||r||us()}this.arrowConfig.markerEnd="url(#marker-end-".concat(e.id,")"),this.arrowConfig.markerStart="url(#marker-start-".concat(e.id,")");var o=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=o,rn(this,RH(e));var a=this.graphModel.overlapMode;a===Wi.INCREASE&&(this.zIndex=e.zIndex||yg()),this.setAnchors(),this.initPoints(),this.formatText(e)},n.prototype.setAttributes=function(){},n.prototype.createId=function(){return null},n.prototype.getEdgeStyle=function(){return $n($n({},this.graphModel.theme.baseEdge),this.style)},n.prototype.getAdjustPointStyle=function(){return $n({},this.graphModel.theme.edgeAdjust)},n.prototype.getTextStyle=function(){var e=this.graphModel.theme.edgeText;return Ht(e)},n.prototype.getEdgeAnimationStyle=function(){var e=this.graphModel.theme.edgeAnimation;return Ht(e)},n.prototype.getArrowStyle=function(){var e=this.getEdgeStyle(),t=this.getEdgeAnimationStyle(),r=this.graphModel.theme.arrow,i=this.isAnimation?t.stroke:e.stroke;return $n($n($n({},e),{fill:i,stroke:i}),r)},n.prototype.getOutlineStyle=function(){var e=this.graphModel,t=e.theme.outline;return Ht(t)},n.prototype.getTextPosition=function(){return{x:0,y:0}},Object.defineProperty(n.prototype,"sourceNode",{get:function(){var e,t;return(t=(e=this.graphModel)===null||e===void 0?void 0:e.nodesMap[this.sourceNodeId])===null||t===void 0?void 0:t.model},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"targetNode",{get:function(){var e,t;return(t=(e=this.graphModel)===null||e===void 0?void 0:e.nodesMap[this.targetNodeId])===null||t===void 0?void 0:t.model},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textPosition",{get:function(){return this.getTextPosition()},enumerable:!1,configurable:!0}),n.prototype.getBeginAnchor=function(e,t,r){var i,o,a=a1(e);if(r){if(i=ds(a,function(l){return l.id===r}),i)return i;console.warn("未在节点上找到指定的起点锚点".concat(r,"，已使用默认锚点作为起点"))}return a.forEach(function(l){var u=s4(l,t);(o===void 0||u<o)&&(o=u,i=l)}),i},n.prototype.getEndAnchor=function(e,t){var r=this,i,o,a=a1(e);if(t){if(i=ds(a,function(l){return l.id===t}),i)return i;console.warn("未在节点上找到指定的终点锚点".concat(t,"，已使用默认锚点作为终点"))}return a.forEach(function(l){if(r.startPoint){var u=s4(l,r.startPoint);(o===void 0||u<o)&&(o=u,i=l)}}),i},n.prototype.getProperties=function(){return Fi(this.properties)},n.prototype.getData=function(){var e=this.properties;nl(e)&&(e=Fi(e));var t={id:this.id,type:this.type,properties:e,sourceNodeId:this.sourceNodeId,targetNodeId:this.targetNodeId,sourceAnchorId:this.sourceAnchorId,targetAnchorId:this.targetAnchorId,startPoint:rn({},this.startPoint),endPoint:rn({},this.endPoint)};this.graphModel.overlapMode===Wi.INCREASE&&(t.zIndex=this.zIndex);var r=this.text,i=r.x,o=r.y,a=r.value;return a&&(t.text={x:i,y:o,value:a}),t},n.prototype.getHistoryData=function(){return this.getData()},n.prototype.setProperty=function(e,t){cg(this.properties,e,Mr(t)),this.setAttributes()},n.prototype.deleteProperty=function(e){delete this.properties[e],this.setAttributes()},n.prototype.setProperties=function(e){this.properties=$n($n({},Fi(this.properties)),Mr(e)),this.setAttributes()},n.prototype.changeEdgeId=function(e){var t=this.arrowConfig,r=t.markerEnd,i=t.markerStart;i&&i==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(e,")")),r&&r==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(e,")")),this.id=e},n.prototype.setStyle=function(e,t){var r;this.style=$n($n({},this.style),(r={},r[e]=Mr(t),r))},n.prototype.setStyles=function(e){this.style=$n($n({},this.style),Mr(e))},n.prototype.updateStyles=function(e){this.style=$n({},Mr(e))},n.prototype.setTextMode=function(e){this.textMode=e},n.prototype.formatText=function(e){var t,r,i,o=this.graphModel.editConfigModel,a=o.edgeTextDraggable,l=o.edgeTextEdit,u=this.textPosition,c=u.x,f=u.y,v=e.text,m={value:"",x:c,y:f,draggable:a,editable:l};v&&(typeof v=="string"?m=$n($n({},m),{value:v}):(m=$n($n({},m),{x:(t=v.x)!==null&&t!==void 0?t:c,y:(r=v.y)!==null&&r!==void 0?r:f,value:(i=v.value)!==null&&i!==void 0?i:""}),Zs(v.draggable)||(m.draggable=v.draggable),Zs(v.editable)||(m.editable=v.editable))),this.text=m},n.prototype.resetTextPosition=function(){var e=this.textPosition,t=e.x,r=e.y;this.text.x=t,this.text.y=r},n.prototype.moveText=function(e,t){var r=this.text,i=r.x,o=r.y,a=r.value,l=r.draggable,u=r.editable;this.text={value:a,editable:u,draggable:l,x:i+e,y:o+t}},n.prototype.setText=function(e){e&&rn(this.text,e)},n.prototype.updateText=function(e){this.text=$n($n({},Fi(this.text)),{value:e})},n.prototype.setAnchors=function(){if(!this.sourceAnchorId||!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode,this.sourceAnchorId);if(!e)throw new Error("无法获取beginAnchor，请检查anchors相关逻辑，anchors不能为空");this.startPoint||(this.startPoint={x:e.x,y:e.y}),this.sourceAnchorId||(this.sourceAnchorId=e.id)}if(!this.targetAnchorId||!this.endPoint){var e=this.getEndAnchor(this.targetNode,this.targetAnchorId);if(!e)throw new Error("无法获取endAnchor，请检查anchors相关逻辑，anchors不能为空");this.endPoint||(this.endPoint={x:e.x,y:e.y}),this.targetAnchorId||(this.targetAnchorId=e.id)}},n.prototype.setSelected=function(e){e===void 0&&(e=!0),this.isSelected=e},n.prototype.setHovered=function(e){e===void 0&&(e=!0),this.isHovered=e},n.prototype.setHitable=function(e){e===void 0&&(e=!0),this.isHitable=e},n.prototype.setHittable=function(e){e===void 0&&(e=!0),this.isHittable=e},n.prototype.openEdgeAnimation=function(){this.isAnimation=!0},n.prototype.closeEdgeAnimation=function(){this.isAnimation=!1},n.prototype.setElementState=function(e,t){this.state=e,this.additionStateData=t},n.prototype.updateStartPoint=function(e){this.startPoint=e},n.prototype.moveStartPoint=function(e,t){this.startPoint&&(this.startPoint.x+=e,this.startPoint.y+=t)},n.prototype.updateEndPoint=function(e){this.endPoint=e},n.prototype.moveEndPoint=function(e,t){this.endPoint&&(this.endPoint.x+=e,this.endPoint.y+=t)},n.prototype.setZIndex=function(e){e===void 0&&(e=0),this.zIndex=e},n.prototype.initPoints=function(){},n.prototype.updateAttributes=function(e){rn(this,e)},n.prototype.getAdjustStart=function(){return this.startPoint},n.prototype.getAdjustEnd=function(){return this.endPoint},n.prototype.updateAfterAdjustStartAndEnd=function(e){var t=e.startPoint,r=e.endPoint;this.updateStartPoint({x:t.x,y:t.y}),this.updateEndPoint({x:r.x,y:r.y})},n.BaseType=Dn.EDGE,kt([De],n.prototype,"type",void 0),kt([De],n.prototype,"sourceNodeId",void 0),kt([De],n.prototype,"targetNodeId",void 0),kt([De],n.prototype,"startPoint",void 0),kt([De],n.prototype,"endPoint",void 0),kt([De],n.prototype,"textMode",void 0),kt([De],n.prototype,"text",void 0),kt([De],n.prototype,"properties",void 0),kt([De],n.prototype,"points",void 0),kt([De],n.prototype,"pointsList",void 0),kt([De],n.prototype,"isSelected",void 0),kt([De],n.prototype,"isHovered",void 0),kt([De],n.prototype,"isHitable",void 0),kt([De],n.prototype,"isHittable",void 0),kt([De],n.prototype,"draggable",void 0),kt([De],n.prototype,"visible",void 0),kt([De],n.prototype,"isAnimation",void 0),kt([De],n.prototype,"isShowAdjustPoint",void 0),kt([De],n.prototype,"zIndex",void 0),kt([De],n.prototype,"state",void 0),kt([De],n.prototype,"style",void 0),kt([De],n.prototype,"arrowConfig",void 0),kt([_n],n.prototype,"sourceNode",null),kt([_n],n.prototype,"targetNode",null),kt([_n],n.prototype,"textPosition",null),kt([Le],n.prototype,"setProperty",null),kt([Le],n.prototype,"deleteProperty",null),kt([Le],n.prototype,"setProperties",null),kt([Le],n.prototype,"changeEdgeId",null),kt([Le],n.prototype,"setStyle",null),kt([Le],n.prototype,"setStyles",null),kt([Le],n.prototype,"updateStyles",null),kt([Le],n.prototype,"setTextMode",null),kt([Le],n.prototype,"formatText",null),kt([Le],n.prototype,"resetTextPosition",null),kt([Le],n.prototype,"moveText",null),kt([Le],n.prototype,"setText",null),kt([Le],n.prototype,"updateText",null),kt([Le],n.prototype,"setAnchors",null),kt([Le],n.prototype,"setSelected",null),kt([Le],n.prototype,"setHovered",null),kt([Le],n.prototype,"setHitable",null),kt([Le],n.prototype,"setHittable",null),kt([Le],n.prototype,"openEdgeAnimation",null),kt([Le],n.prototype,"closeEdgeAnimation",null),kt([Le],n.prototype,"setElementState",null),kt([Le],n.prototype,"updateStartPoint",null),kt([Le],n.prototype,"moveStartPoint",null),kt([Le],n.prototype,"updateEndPoint",null),kt([Le],n.prototype,"moveEndPoint",null),kt([Le],n.prototype,"setZIndex",null),kt([Le],n.prototype,"initPoints",null),kt([Le],n.prototype,"updateAttributes",null),kt([Le],n.prototype,"getAdjustStart",null),kt([Le],n.prototype,"getAdjustEnd",null),kt([Le],n.prototype,"updateAfterAdjustStartAndEnd",null),n}(),WI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bs=function(){return Bs=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Bs.apply(this,arguments)},pi=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ff=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},g4=function(n){WI(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.modelType=$t.BEZIER_EDGE,i.path="",i.initEdgeData(t),i.setAttributes(),i}return e.prototype.initEdgeData=function(t){this.offset=ia(t,"properties.offset",100),n.prototype.initEdgeData.call(this,t)},e.prototype.getEdgeStyle=function(){var t=this.graphModel.theme.bezier,r=n.prototype.getEdgeStyle.call(this),i=this.properties.style,o=i===void 0?{}:i;return Bs(Bs(Bs({},r),Ht(t)),Ht(o))},e.prototype.getTextPosition=function(){if(this.pointsList&&this.pointsList.length>0){var t=0,r=0;return this.pointsList.forEach(function(i){var o=i.x,a=i.y;t+=o,r+=a}),{x:t/this.pointsList.length,y:r/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}},e.prototype.getData=function(){var t=n.prototype.getData.call(this),r=this.pointsList.map(function(i){var o=i.x,a=i.y;return{x:o,y:a}});return Bs(Bs({},t),{pointsList:r})},e.prototype.getControls=function(){var t=this.startPoint,r=this.endPoint,i=i4({start:t,end:r,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return i},e.prototype.getPath=function(t){var r=ff(t,4),i=r[0],o=r[1],a=r[2],l=r[3];return"M ".concat(i.x," ").concat(i.y,`
    C `).concat(o.x," ").concat(o.y,`,
    `).concat(a.x," ").concat(a.y,`,
    `).concat(l.x," ").concat(l.y)},e.prototype.initPoints=function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()},e.prototype.updatePoints=function(){var t=this.getControls(),r=t.sNext,i=t.ePre;this.updatePath(r,i)},e.prototype.updatePath=function(t,r){t=Ht(t),r=Ht(r);var i={x:this.startPoint.x,y:this.startPoint.y},o={x:this.endPoint.x,y:this.endPoint.y};if(!t||!r){var a=this.getControls();t=a.sNext,r=a.ePre}this.pointsList=[i,t,r,o],this.path=this.getPath(this.pointsList)},e.prototype.updateStartPoint=function(t){this.startPoint=Object.assign({},t),this.updatePoints()},e.prototype.updateEndPoint=function(t){this.endPoint=Object.assign({},t),this.updatePoints()},e.prototype.moveStartPoint=function(t,r){this.startPoint.x+=t,this.startPoint.y+=r;var i=ff(this.pointsList,3),o=i[1],a=i[2];o.x+=t,o.y+=r,this.updatePath(o,a)},e.prototype.moveEndPoint=function(t,r){this.endPoint.x+=t,this.endPoint.y+=r;var i=ff(this.pointsList,3),o=i[1],a=i[2];a.x+=t,a.y+=r,this.updatePath(o,a)},e.prototype.updateAdjustAnchor=function(t,r){var i;r==="sNext"?this.pointsList[1]=t:r==="ePre"&&(this.pointsList[2]=t),this.path=this.getPath(this.pointsList),!((i=this.text)===null||i===void 0)&&i.value&&this.setText(rn({},this.text,this.textPosition))},e.prototype.getAdjustStart=function(){return this.pointsList[0]||this.startPoint},e.prototype.getAdjustEnd=function(){var t=this.pointsList;return t[t.length-1]||this.endPoint},e.prototype.updateAfterAdjustStartAndEnd=function(t){var r=t.startPoint,i=t.endPoint,o=t.sourceNode,a=t.targetNode,l=i4({start:r,end:i,sourceNode:o,targetNode:a,offset:this.offset}),u=l.sNext,c=l.ePre;this.pointsList=[r,u,c,i],this.initPoints()},pi([De],e.prototype,"offset",void 0),pi([De],e.prototype,"path",void 0),pi([Le],e.prototype,"initPoints",null),pi([Le],e.prototype,"updatePoints",null),pi([Le],e.prototype,"updateStartPoint",null),pi([Le],e.prototype,"updateEndPoint",null),pi([Le],e.prototype,"moveStartPoint",null),pi([Le],e.prototype,"moveEndPoint",null),pi([Le],e.prototype,"updateAdjustAnchor",null),pi([Le],e.prototype,"getAdjustStart",null),pi([Le],e.prototype,"getAdjustEnd",null),pi([Le],e.prototype,"updateAfterAdjustStartAndEnd",null),e}(ec),zI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),p0=function(){return p0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},p0.apply(this,arguments)},m4=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},UI=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},y4=function(n){zI(e,n);function e(){var t=n.apply(this,UI([],m4(arguments),!1))||this;return t.modelType=$t.LINE_EDGE,t}return e.prototype.getEdgeStyle=function(){var t=this.graphModel.theme.line,r=n.prototype.getEdgeStyle.call(this),i=this.properties.style,o=i===void 0?{}:i;return p0(p0(p0({},r),Ht(t)),Ht(o))},e.prototype.initEdgeData=function(t){n.prototype.initEdgeData.call(this,t),this.points=this.getPath([this.startPoint,this.endPoint])},e.prototype.getPath=function(t){var r=m4(t,2),i=r[0],o=r[1];return"".concat(i.x,",").concat(i.y," ").concat(o.x,",").concat(o.y)},e.prototype.getTextPosition=function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}},e}(ec),GI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),v0=function(){return v0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},v0.apply(this,arguments)},mr=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},_4=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},XI=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},al=function(n){GI(e,n);function e(){var t=n.apply(this,XI([],_4(arguments),!1))||this;return t.modelType=$t.POLYLINE_EDGE,t.draggingPointList=[],t}return e.prototype.initEdgeData=function(t){this.offset=ia(t,"properties.offset",30),t.pointsList&&(this.pointsList=t.pointsList),n.prototype.initEdgeData.call(this,t)},e.prototype.getEdgeStyle=function(){var t=this.graphModel.theme.polyline,r=n.prototype.getEdgeStyle.call(this),i=this.properties.style,o=i===void 0?{}:i;return v0(v0(v0({},r),Ht(t)),Ht(o))},e.prototype.getTextPosition=function(){var t,r=(t=this.text)===null||t===void 0?void 0:t.value;if(this.dbClickPosition&&!r){var i=this.dbClickPosition,o=i.x,a=i.y;return{x:o,y:a}}var l=Ks(this.points),u=_4(NH(l),2),c=u[0],f=u[1];return{x:(c.x+f.x)/2,y:(c.y+f.y)/2}},e.prototype.getAfterAnchor=function(t,r,i){var o,a;return i.forEach(function(l){var u;t===On.HORIZONTAL?u=Math.abs(r.y-l.y):t===On.VERTICAL&&(u=Math.abs(r.x-l.x)),(!a||a>u)&&(a=u,o=l)}),o},e.prototype.getCrossPoint=function(t,r,i){var o;return t===On.HORIZONTAL?o={x:i.x,y:r.y}:t===On.VERTICAL&&(o={x:r.x,y:i.y}),o},e.prototype.removeCrossPoints=function(t,r,i){var o=i.map(function(x){return x});if(t===1){var a=o[t],l=o[r],u=o[t-1],c=e4(u,a,this.sourceNode);if(c){var f=t4(a,l,this.sourceNode);if(f){var v=n4(a,l,this.sourceNode);v&&(o[t]=v,o.splice(t-1,1),t--,r--)}}else{var m=this.sourceNode.anchors;m.forEach(function(x){if(x.x===u.x&&x.x===a.x||x.y===u.y&&x.y===a.y){var k=zi(x.x,x.y,a.x,a.y),N=zi(u.x,u.y,a.x,a.y);k<N&&(o[t-1]=x)}})}}if(r===i.length-2){var y=o[t],_=o[r],b=o[r+1],w=e4(_,b,this.targetNode);if(w){var f=t4(y,_,this.targetNode);if(f){var v=n4(y,_,this.targetNode);v&&(o[r]=v,o.splice(r+1,1))}}else{var m=this.targetNode.anchors;m.forEach(function(k){if(k.x===b.x&&k.x===_.x||k.y===b.y&&k.y===_.y){var N=zi(k.x,k.y,_.x,_.y),D=zi(b.x,b.y,_.x,_.y);N<D&&(o[r+1]=k)}})}}return o},e.prototype.getDraggingPoints=function(t,r,i,o,a){var l=a.map(function(f){return f}),u=this.getAfterAnchor(t,i,o),c=this.getCrossPoint(t,i,u);return r==="start"?(l.unshift(c),l.unshift(u)):(l.push(c),l.push(u)),l},e.prototype.updateCrossPoints=function(t){var r=t.map(function(k){return k}),i=t[0],o=t[1],a=t[r.length-2],l=t[r.length-1],u=this,c=u.sourceNode,f=u.targetNode,v=c.modelType,m=f.modelType,y=$u(i,o),_=r[0];switch(v){case $t.RECT_NODE:if(c.radius!==0){var b=u4(i,c);b||(_=l4(i,y,c))}break;case $t.CIRCLE_NODE:_=l1(i,y,c);break;case $t.ELLIPSE_NODE:_=d4(i,y,c);break;case $t.DIAMOND_NODE:_=J2(i,y,c);break;case $t.POLYGON_NODE:_=J2(i,y,c);break}_&&(r[0]=_);var w=$u(a,l),x=r[r.length-1];switch(m){case $t.RECT_NODE:if(f.radius!==0){var b=u4(l,f);b||(x=l4(l,w,f))}break;case $t.CIRCLE_NODE:x=l1(l,w,f);break;case $t.ELLIPSE_NODE:x=d4(l,w,f);break;case $t.DIAMOND_NODE:x=J2(l,w,f);break;case $t.POLYGON_NODE:x=J2(l,w,f);break}return x&&(r[r.length-1]=x),r},e.prototype.updatePath=function(t){this.pointsList=t,this.points=this.getPath(this.pointsList)},e.prototype.getData=function(){var t=n.prototype.getData.call(this),r=this.pointsList.map(function(i){var o=i.x,a=i.y;return{x:o,y:a}});return Object.assign({},t,{pointsList:r})},e.prototype.getPath=function(t){return t.map(function(r){return"".concat(r.x,",").concat(r.y)}).join(" ")},e.prototype.initPoints=function(){this.pointsList.length>0?this.points=this.getPath(this.pointsList):this.updatePoints()},e.prototype.updatePoints=function(){var t=Q9({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=t,this.points=t.map(function(r){return"".concat(r.x,",").concat(r.y)}).join(" ")},e.prototype.updateStartPoint=function(t){this.startPoint=Object.assign({},t),this.updatePoints()},e.prototype.moveStartPoint=function(t,r){this.startPoint.x+=t,this.startPoint.y+=r,this.updatePoints()},e.prototype.updateEndPoint=function(t){this.endPoint=Object.assign({},t),this.updatePoints()},e.prototype.moveEndPoint=function(t,r){this.endPoint.x+=t,this.endPoint.y+=r,this.updatePoints()},e.prototype.updatePointsList=function(t,r){this.pointsList.forEach(function(a){a.x+=t,a.y+=r});var i=this.pointsList[0];this.startPoint=Object.assign({},i);var o=this.pointsList[this.pointsList.length-1];this.endPoint=Object.assign({},o),this.initPoints()},e.prototype.dragAppendStart=function(){this.draggingPointList=this.pointsList.map(function(t){return t})},e.prototype.dragAppendSimple=function(t,r){var i;this.isDragging=!0;var o=t.start,a=t.end,l=t.startIndex,u=t.endIndex,c=t.direction,f=this.pointsList,v=f;return c===On.HORIZONTAL?(f[l]={x:o.x,y:o.y+r.y},f[u]={x:a.x,y:a.y+r.y},v=this.pointsList.map(function(m){return m})):c===On.VERTICAL&&(f[l]={x:o.x+r.x,y:o.y},f[u]={x:a.x+r.x,y:a.y},v=this.pointsList.map(function(m){return m})),this.updatePointsAfterDrag(v),this.draggingPointList=v,!((i=this.text)===null||i===void 0)&&i.value&&this.setText(rn({},this.text,this.textPosition)),{start:rn({},f[l]),end:rn({},f[u]),startIndex:l,endIndex:u,direction:c}},e.prototype.dragAppend=function(t,r){var i;this.isDragging=!0;var o=t.start,a=t.end,l=t.startIndex,u=t.endIndex,c=t.direction,f=this.pointsList;if(c===On.HORIZONTAL){f[l]={x:o.x,y:o.y+r.y},f[u]={x:a.x,y:a.y+r.y};var v=this.pointsList.map(function(w){return w});if(l!==0&&u!==this.pointsList.length-1&&(v=this.removeCrossPoints(l,u,v)),l===0){var m={x:o.x,y:o.y+r.y},y=Ho(m,this.sourceNode);if(!y){var _=this.sourceNode.anchors;v=this.getDraggingPoints(c,"start",m,_,v)}}if(u===this.pointsList.length-1){var b={x:a.x,y:a.y+r.y},y=Ho(b,this.targetNode);if(!y){var _=this.targetNode.anchors;v=this.getDraggingPoints(c,"end",b,_,v)}}this.updatePointsAfterDrag(v),this.draggingPointList=v}else if(c===On.VERTICAL){f[l]={x:o.x+r.x,y:o.y},f[u]={x:a.x+r.x,y:a.y};var v=this.pointsList.map(function(x){return x});if(l!==0&&u!==this.pointsList.length-1&&(v=this.removeCrossPoints(l,u,v)),l===0){var m={x:o.x+r.x,y:o.y},y=Ho(m,this.sourceNode);if(!y){var _=this.sourceNode.anchors;v=this.getDraggingPoints(c,"start",m,_,v)}}if(u===this.pointsList.length-1){var b={x:a.x+r.x,y:a.y},y=Ho(b,this.targetNode);if(!y){var _=this.targetNode.anchors;v=this.getDraggingPoints(c,"end",b,_,v)}}this.updatePointsAfterDrag(v),this.draggingPointList=v}return!((i=this.text)===null||i===void 0)&&i.value&&this.setText(rn({},this.text,this.textPosition)),{start:rn({},f[l]),end:rn({},f[u]),startIndex:l,endIndex:u,direction:c}},e.prototype.dragAppendEnd=function(){if(this.draggingPointList){var t=s_(Ks(this.points));this.pointsList=t.map(function(o){return o}),this.draggingPointList=[];var r=t[0];this.startPoint=rn({},r);var i=t[t.length-1];this.endPoint=rn({},i)}this.isDragging=!1},e.prototype.updatePointsAfterDrag=function(t){var r=this.updateCrossPoints(t);this.points=r.map(function(i){return"".concat(i.x,",").concat(i.y)}).join(" ")},e.prototype.getAdjustStart=function(){return this.pointsList[0]||this.startPoint},e.prototype.getAdjustEnd=function(){var t=this.pointsList;return t[t.length-1]||this.endPoint},e.prototype.updateAfterAdjustStartAndEnd=function(t){var r=t.startPoint,i=t.endPoint,o=t.sourceNode,a=t.targetNode;this.pointsList=Q9({x:r.x,y:r.y},{x:i.x,y:i.y},o,a,this.offset||0),this.initPoints()},mr([De],e.prototype,"offset",void 0),mr([De],e.prototype,"dbClickPosition",void 0),mr([Le],e.prototype,"initPoints",null),mr([Le],e.prototype,"updatePoints",null),mr([Le],e.prototype,"updateStartPoint",null),mr([Le],e.prototype,"moveStartPoint",null),mr([Le],e.prototype,"updateEndPoint",null),mr([Le],e.prototype,"moveEndPoint",null),mr([Le],e.prototype,"updatePointsList",null),mr([Le],e.prototype,"dragAppendStart",null),mr([Le],e.prototype,"dragAppendSimple",null),mr([Le],e.prototype,"dragAppend",null),mr([Le],e.prototype,"dragAppendEnd",null),mr([Le],e.prototype,"updatePointsAfterDrag",null),mr([Le],e.prototype,"getAdjustStart",null),mr([Le],e.prototype,"getAdjustEnd",null),mr([Le],e.prototype,"updateAfterAdjustStartAndEnd",null),e}(ec),nr=function(){return nr=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},nr.apply(this,arguments)},Nt=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},b4=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ZI=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},_s=function(){function n(e,t){var r;this.BaseType=Dn.NODE,this.id="",this.type="",this.x=0,this.y=0,this.textMode=Ci.TEXT,this.text={value:"",x:0,y:0,draggable:!1,editable:!0},this._width=100,this._height=80,this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.anchorsOffset=[],this.virtual=!1,this.isSelected=!1,this.isHovered=!1,this.isShowAnchor=!1,this.isDragging=!1,this.isHitable=!0,this.isHittable=!0,this.draggable=!0,this.visible=!0,this.rotatable=!0,this.resizable=!0,this.zIndex=1,this.state=tn.DEFAULT,this.autoToFront=!0,this.style={},this._rotate=0,this.modelType=$t.NODE,this.additionStateData={},this.targetRules=[],this.sourceRules=[],this.moveRules=[],this.resizeRules=[],this.hasSetTargetRules=!1,this.hasSetSourceRules=!1,this.graphModel=t,this.properties=(r=e.properties)!==null&&r!==void 0?r:{},this.initNodeData(e),this.setAttributes()}return Object.defineProperty(n.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e;var t=this,r=t.x,i=r===void 0?0:r,o=t.y,a=o===void 0?0:o;this.transform=new Wu(-i,-a).rotate(e).translate(i,a).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"incoming",{get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"outgoing",{get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}},enumerable:!1,configurable:!0}),n.prototype.initNodeData=function(e){if(e.properties||(e.properties={}),!e.id){var t=this.graphModel.idGenerator,r=t&&t(e.type),i=this.createId();e.id=i||r||us()}this.formatText(e),rn(this,GH(e));var o=this.graphModel.overlapMode;o===Wi.INCREASE&&(this.zIndex=e.zIndex||yg())},n.prototype.setAttributes=function(){},n.prototype.createId=function(){return null},n.prototype.setTextMode=function(e){this.textMode=e},n.prototype.formatText=function(e){var t,r,i,o=this.graphModel.editConfigModel,a=o.nodeTextDraggable,l=o.nodeTextEdit,u=e.x,c=e.y,f=e.text,v={value:"",x:u,y:c,draggable:a,editable:l};f&&(typeof f=="string"?v.value=f:(v=nr(nr({},v),{x:(t=f.x)!==null&&t!==void 0?t:u,y:(r=f.y)!==null&&r!==void 0?r:c,value:(i=f.value)!==null&&i!==void 0?i:""}),Zs(f.draggable)||(v.draggable=f.draggable),Zs(f.editable)||(v.editable=f.editable))),e.text=v},n.prototype.resize=function(e){var t=e.width,r=e.height,i=e.deltaX,o=e.deltaY,a=this.isAllowResizeNode(i,o,t,r);return a?(this.move(i/2,o/2),this.width=t,this.height=r,this.setProperties({width:t,height:r}),this.getData()):this.getData()},n.prototype.proportionalResize=function(){},n.prototype.getData=function(){var e=this.text,t=e.x,r=e.y,i=e.value,o=this.properties;nl(o)&&(o=Fi(o)),Ar(o.width)&&(o.width=this.width),Ar(o.height)&&(o.height=this.height);var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:o};return this.rotate&&(a.rotate=this.rotate),this.graphModel.overlapMode===Wi.INCREASE&&(a.zIndex=this.zIndex),i&&(a.text={x:t,y:r,value:i}),a},n.prototype.getHistoryData=function(){return this.getData()},n.prototype.getProperties=function(){return Fi(this.properties)},n.prototype.getOuterGAttributes=function(){return{className:""}},n.prototype.getNodeStyle=function(){return nr(nr({},this.graphModel.theme.baseNode),this.style)},n.prototype.getTextStyle=function(){var e=this.graphModel.theme.nodeText,t=this.properties.textStyle,r=t===void 0?{}:t;return nr(nr({},Ht(e)),Ht(r))},n.prototype.getRotateControlStyle=function(){var e=this.graphModel.theme.rotateControl;return Ht(e)},n.prototype.getResizeControlStyle=function(){var e=this.graphModel.theme.resizeControl;return Ht(e)},n.prototype.getResizeOutlineStyle=function(){var e=this.graphModel.theme.resizeOutline;return Ht(e)},n.prototype.getAnchorStyle=function(e){var t=this.graphModel.theme.anchor;return Ht(t)},n.prototype.getAnchorLineStyle=function(e){var t=this.graphModel.theme.anchorLine;return Ht(t)},n.prototype.getOutlineStyle=function(){var e=this.graphModel.theme.outline;return Ht(e)},n.prototype.isAllowConnectedAsSource=function(e,t,r,i){var o=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var a=!0,l="",u=0;u<o.length;u++){var c=o[u];if(!c.validate.call(this,this,e,t,r,i)){a=!1,l=c.message;break}}return{isAllPass:a,msg:l}},n.prototype.getConnectedSourceRules=function(){return this.sourceRules},n.prototype.isAllowConnectedAsTarget=function(e,t,r,i){var o=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var a=!0,l="",u=0;u<o.length;u++){var c=o[u];if(!c.validate.call(this,e,this,t,r,i)){a=!1,l=c.message;break}}return{isAllPass:a,msg:l}},n.prototype.isAllowMoveNode=function(e,t){var r,i,o=!0,a=!0,l=this.moveRules.concat(this.graphModel.nodeMoveRules);try{for(var u=b4(l),c=u.next();!c.done;c=u.next()){var f=c.value,v=f(this,e,t);if(!v)return!1;if(typeof v=="object"){var m=v;if(!m.x&&!m.y)return!1;o=o&&m.x,a=a&&m.y}}}catch(y){r={error:y}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return{x:o,y:a}},n.prototype.getConnectedTargetRules=function(){return this.targetRules},n.prototype.getAnchorsByOffset=function(){var e=this,t=e.anchorsOffset,r=e.id,i=e.x,o=e.y;return t&&t.length>0?t.map(function(a,l){return a.length?(a=a,{id:"".concat(r,"_").concat(l),x:i+a[0],y:o+a[1]}):(a=a,nr(nr({},a),{x:i+a.x,y:o+a.y,id:a.id||"".concat(r,"_").concat(l)}))}):this.getDefaultAnchor()},n.prototype.getDefaultAnchor=function(){return[]},n.prototype.getTargetAnchor=function(e){return WH(e,this)},n.prototype.getBounds=function(){return{minX:this.x-this.width/2,minY:this.y-this.height/2,maxX:this.x+this.width/2,maxY:this.y+this.height/2}},Object.defineProperty(n.prototype,"anchors",{get:function(){var e=this.getAnchorsByOffset(),t=this,r=t.x,i=t.y,o=t.rotate;return e.forEach(function(a){var l=a.x,u=a.y,c=ZI(new l2([l,u,1]).translate(-r,-i).rotate(o).translate(r,i)[0],2),f=c[0],v=c[1];a.x=f,a.y=v}),e},enumerable:!1,configurable:!0}),n.prototype.getAnchorInfo=function(e){if(!Ar(e))for(var t=0;t<this.anchors.length;t++){var r=this.anchors[t];if(r.id===e)return r}},n.prototype.addNodeMoveRules=function(e){this.moveRules.includes(e)||this.moveRules.push(e)},n.prototype.isAllowMoveByXORY=function(e,t,r){var i,o;if(r)i=!0,o=!0;else{var a=this.isAllowMoveNode(e,t);typeof a=="boolean"?(i=a,o=a):(i=a.x,o=a.y)}return{isAllowMoveX:i,isAllowMoveY:o}},n.prototype.move=function(e,t,r){r===void 0&&(r=!1);var i=this.isAllowMoveByXORY(e,t,r),o=i.isAllowMoveX,a=i.isAllowMoveY;return o&&(this.x=this.x+e,this.text&&this.moveText(e,0)),a&&(this.y=this.y+t,this.text&&this.moveText(0,t)),(o||a)&&(this.rotate=this._rotate),o||a},n.prototype.getMoveDistance=function(e,t,r){r===void 0&&(r=!1);var i=this.isAllowMoveByXORY(e,t,r),o=i.isAllowMoveX,a=i.isAllowMoveY,l=0,u=0;return o&&e&&(this.x=this.x+e,this.text&&this.moveText(e,0),l=e),a&&t&&(this.y=this.y+t,this.text&&this.moveText(0,t),u=t),this.transform=new Wu(-this.x,-this.y).rotate(this.rotate).translate(this.x,this.y).toString(),[l,u]},n.prototype.moveTo=function(e,t,r){r===void 0&&(r=!1);var i=e-this.x,o=t-this.y;return!r&&!this.isAllowMoveNode(i,o)?!1:(this.text&&this.moveText(i,o),this.x=e,this.y=t,!0)},n.prototype.moveText=function(e,t){var r=this.text,i=r.x,o=r.y,a=r.value,l=r.draggable,u=r.editable;this.text={value:a,editable:u,draggable:l,x:i+e,y:o+t}},n.prototype.updateText=function(e){this.text=nr(nr({},Fi(this.text)),{value:e})},n.prototype.addNodeResizeRules=function(e){this.resizeRules.includes(e)||this.resizeRules.push(e)},n.prototype.isAllowResizeNode=function(e,t,r,i){var o,a,l=this.resizeRules.concat(this.graphModel.nodeResizeRules);try{for(var u=b4(l),c=u.next();!c.done;c=u.next()){var f=c.value,v=f(this,e,t,r,i);if(!v)return!1}}catch(m){o={error:m}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return!0},n.prototype.setSelected=function(e){e===void 0&&(e=!0),this.isSelected=e},n.prototype.setHovered=function(e){e===void 0&&(e=!0),this.isHovered=e,this.setIsShowAnchor(e)},n.prototype.setIsShowAnchor=function(e){e===void 0&&(e=!0),this.isShowAnchor=e},n.prototype.setRotatable=function(e){e===void 0&&(e=!0),this.rotatable=e},n.prototype.setResizable=function(e){e===void 0&&(e=!0),this.resizable=e},n.prototype.setHitable=function(e){e===void 0&&(e=!0),this.isHitable=e},n.prototype.setHittable=function(e){e===void 0&&(e=!0),this.isHittable=e},n.prototype.setElementState=function(e,t){this.state=e,this.additionStateData=t},n.prototype.updateProperties=function(e,t){var r=Fi(this.properties);this.properties=e,this.setAttributes(),this.graphModel.eventCenter.emit(mt.NODE_PROPERTIES_CHANGE,{id:this.id,keys:t,preProperties:r,properties:e})},n.prototype.setProperty=function(e,t){var r=Fi(this.properties),i=Ht(r);$5(i,e,Mr(t)),this.updateProperties(i,[e])},n.prototype.setProperties=function(e){var t=Fi(this.properties),r=nr(nr({},t),Mr(e)),i=[];x8(e,function(o,a){(Eu(t,a)&&t[a]!==o||!Eu(t,a))&&i.push(a)}),this.updateProperties(r,i)},n.prototype.deleteProperty=function(e){delete this.properties[e],this.setAttributes()},n.prototype.setStyle=function(e,t){var r;this.style=nr(nr({},this.style),(r={},r[e]=Mr(t),r))},n.prototype.setStyles=function(e){this.style=nr(nr({},this.style),Mr(e))},n.prototype.updateStyles=function(e){this.style=nr({},Mr(e))},n.prototype.setZIndex=function(e){e===void 0&&(e=1),this.zIndex=e},n.prototype.updateAttributes=function(e){rn(this,e)},n.BaseType=Dn.NODE,Nt([De],n.prototype,"type",void 0),Nt([De],n.prototype,"x",void 0),Nt([De],n.prototype,"y",void 0),Nt([De],n.prototype,"textMode",void 0),Nt([De],n.prototype,"text",void 0),Nt([De],n.prototype,"properties",void 0),Nt([De],n.prototype,"_width",void 0),Nt([De],n.prototype,"_height",void 0),Nt([De],n.prototype,"anchorsOffset",void 0),Nt([De],n.prototype,"isSelected",void 0),Nt([De],n.prototype,"isHovered",void 0),Nt([De],n.prototype,"isShowAnchor",void 0),Nt([De],n.prototype,"isDragging",void 0),Nt([De],n.prototype,"isHitable",void 0),Nt([De],n.prototype,"isHittable",void 0),Nt([De],n.prototype,"draggable",void 0),Nt([De],n.prototype,"visible",void 0),Nt([De],n.prototype,"rotatable",void 0),Nt([De],n.prototype,"resizable",void 0),Nt([De],n.prototype,"zIndex",void 0),Nt([De],n.prototype,"state",void 0),Nt([De],n.prototype,"autoToFront",void 0),Nt([De],n.prototype,"style",void 0),Nt([De],n.prototype,"transform",void 0),Nt([De],n.prototype,"_rotate",void 0),Nt([_n],n.prototype,"incoming",null),Nt([_n],n.prototype,"outgoing",null),Nt([Le],n.prototype,"setTextMode",null),Nt([Le],n.prototype,"addNodeMoveRules",null),Nt([Le],n.prototype,"move",null),Nt([Le],n.prototype,"getMoveDistance",null),Nt([Le],n.prototype,"moveTo",null),Nt([Le],n.prototype,"moveText",null),Nt([Le],n.prototype,"updateText",null),Nt([Le],n.prototype,"addNodeResizeRules",null),Nt([Le],n.prototype,"setSelected",null),Nt([Le],n.prototype,"setHovered",null),Nt([Le],n.prototype,"setIsShowAnchor",null),Nt([Le],n.prototype,"setRotatable",null),Nt([Le],n.prototype,"setResizable",null),Nt([Le],n.prototype,"setHitable",null),Nt([Le],n.prototype,"setHittable",null),Nt([Le],n.prototype,"setElementState",null),Nt([Le],n.prototype,"setProperty",null),Nt([Le],n.prototype,"setProperties",null),Nt([Le],n.prototype,"deleteProperty",null),Nt([Le],n.prototype,"setStyle",null),Nt([Le],n.prototype,"setStyles",null),Nt([Le],n.prototype,"updateStyles",null),Nt([Le],n.prototype,"setZIndex",null),Nt([Le],n.prototype,"updateAttributes",null),n}(),YI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),g0=function(){return g0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},g0.apply(this,arguments)},hf=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Yu=function(n){YI(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.modelType=$t.CIRCLE_NODE,i.r=50,i.initNodeData(t),i.setAttributes(),i}return Object.defineProperty(e.prototype,"width",{get:function(){return this.r*2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.r*2},enumerable:!1,configurable:!0}),e.prototype.setAttributes=function(){n.prototype.setAttributes.call(this);var t=this.properties.r;t&&(this.r=t)},e.prototype.getNodeStyle=function(){var t=n.prototype.getNodeStyle.call(this),r=this.graphModel.theme.circle,i=this.properties.style,o=i===void 0?{}:i;return g0(g0(g0({},t),Ht(r)),Ht(o))},e.prototype.getDefaultAnchor=function(){var t=this,r=t.x,i=t.y,o=t.r;return[{x:r,y:i-o,id:"".concat(this.id,"_0")},{x:r+o,y:i,id:"".concat(this.id,"_1")},{x:r,y:i+o,id:"".concat(this.id,"_2")},{x:r-o,y:i,id:"".concat(this.id,"_3")}]},e.prototype.resize=function(t){var r=t.width,i=t.deltaX,o=t.deltaY;return this.move(i/2,o/2),this.r=r,this.setProperties({r}),this.getData()},hf([De],e.prototype,"r",void 0),hf([_n],e.prototype,"width",null),hf([_n],e.prototype,"height",null),e}(_s),qI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),m0=function(){return m0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},m0.apply(this,arguments)},Ha=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},eu=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},m1=function(n){qI(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.modelType=$t.DIAMOND_NODE,i.rx=30,i.ry=50,i.initNodeData(t),i.setAttributes(),i}return e.prototype.setAttributes=function(){n.prototype.setAttributes.call(this);var t=this.properties,r=t.rx,i=t.ry;r&&(this.rx=r),i&&(this.ry=i)},e.prototype.getNodeStyle=function(){var t=n.prototype.getNodeStyle.call(this),r=this.graphModel.theme.diamond,i=this.properties.style,o=i===void 0?{}:i;return m0(m0(m0({},t),Ht(r)),Ht(o))},Object.defineProperty(e.prototype,"points",{get:function(){var t=this,r=t.x,i=t.y,o=t.rx,a=t.ry;return[[r,i-a],[r+o,i],[r,i+a],[r-o,i]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointsPosition",{get:function(){return di(this.points,function(t){var r=eu(t,2),i=r[0],o=r[1];return{x:i,y:o}})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return cn(this.points,function(i){var o=eu(i,1),a=o[0];a<t&&(t=a),a>r&&(r=a)}),r-t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return cn(this.points,function(i){var o=eu(i,2),a=o[1];a<t&&(t=a),a>r&&(r=a)}),r-t},enumerable:!1,configurable:!0}),e.prototype.getDefaultAnchor=function(){var t=this;return di(this.points,function(r,i){var o=eu(r,2),a=o[0],l=o[1];return{x:a,y:l,id:"".concat(t.id,"_").concat(i)}})},e.prototype.resize=function(t){var r=t.width,i=t.height,o=t.deltaX,a=t.deltaY;return this.move(o/2,a/2),this.rx=r,this.ry=i,this.setProperties({rx:r,ry:i}),this.getData()},Ha([De],e.prototype,"rx",void 0),Ha([De],e.prototype,"ry",void 0),Ha([_n],e.prototype,"points",null),Ha([_n],e.prototype,"pointsPosition",null),Ha([_n],e.prototype,"width",null),Ha([_n],e.prototype,"height",null),e}(_s),KI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),y0=function(){return y0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},y0.apply(this,arguments)},tu=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},y1=function(n){KI(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.modelType=$t.ELLIPSE_NODE,i.rx=30,i.ry=45,i.initNodeData(t),i.setAttributes(),i}return e.prototype.setAttributes=function(){n.prototype.setAttributes.call(this);var t=this.properties,r=t.rx,i=t.ry;r&&(this.rx=r),i&&(this.ry=i)},e.prototype.getNodeStyle=function(){var t=n.prototype.getNodeStyle.call(this),r=this.graphModel.theme.ellipse,i=this.properties.style,o=i===void 0?{}:i;return y0(y0(y0({},t),Ht(r)),Ht(o))},Object.defineProperty(e.prototype,"width",{get:function(){return this.rx*2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.ry*2},enumerable:!1,configurable:!0}),e.prototype.getDefaultAnchor=function(){var t=this,r=t.x,i=t.y,o=t.rx,a=t.ry;return[{x:r,y:i-a,id:"".concat(this.id,"_0")},{x:r+o,y:i,id:"".concat(this.id,"_1")},{x:r,y:i+a,id:"".concat(this.id,"_2")},{x:r-o,y:i,id:"".concat(this.id,"_3")}]},e.prototype.resize=function(t){var r=t.width,i=t.height,o=t.deltaX,a=t.deltaY;return this.move(o/2,a/2),this.rx=r,this.ry=i,this.setProperties({rx:r,ry:i}),this.getData()},tu([De],e.prototype,"rx",void 0),tu([De],e.prototype,"ry",void 0),tu([_n],e.prototype,"width",null),tu([_n],e.prototype,"height",null),e}(_s),JI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_0=function(){return _0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},_0.apply(this,arguments)},nu=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ru=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},qu=function(n){JI(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.modelType=$t.POLYGON_NODE,i.points=[[50,0],[100,50],[50,100],[0,50]],i.initNodeData(t),i.setAttributes(),i}return e.prototype.setAttributes=function(){n.prototype.setAttributes.call(this);var t=this.properties,r=t.points,i=t.width,o=t.height,a=r||this.points;this.points=BH(a,i,o)},e.prototype.getNodeStyle=function(){var t=n.prototype.getNodeStyle.call(this),r=this.graphModel.theme.polygon,i=this.properties.style,o=i===void 0?{}:i;return _0(_0(_0({},t),Ht(r)),Ht(o))},Object.defineProperty(e.prototype,"pointsPosition",{get:function(){var t=this,r=t.x,i=t.y,o=t.width,a=t.height;return this.points.map(function(l){return{x:l[0]+r-o/2,y:l[1]+i-a/2}})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){var t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(i){var o=ru(i,1),a=o[0];a<t&&(t=a),a>r&&(r=a)}),r-t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(i){var o=ru(i,2),a=o[1];a<t&&(t=a),a>r&&(r=a)}),r-t},enumerable:!1,configurable:!0}),e.prototype.getDefaultAnchor=function(){var t=this,r=this,i=r.x,o=r.y,a=r.width,l=r.height,u=r.points;return u.map(function(c,f){var v=ru(c,2),m=v[0],y=v[1];return{x:i+m-a/2,y:o+y-l/2,id:"".concat(t.id,"_").concat(f)}})},e.prototype.resize=function(t){var r=this,i=t.width,o=t.height,a=t.deltaX,l=t.deltaY;this.move(a/2,l/2);var u=di(this.points,function(c){var f=ru(c,2),v=f[0],m=f[1];return[v*i/r.width,m*o/r.height]});return this.points=u,this.properties.points=u,this.getData()},nu([De],e.prototype,"points",void 0),nu([_n],e.prototype,"pointsPosition",null),nu([_n],e.prototype,"width",null),nu([_n],e.prototype,"height",null),e}(_s),QI=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),b0=function(){return b0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},b0.apply(this,arguments)},eB=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ll=function(n){QI(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.modelType=$t.RECT_NODE,i.radius=0,i.initNodeData(t),i.setAttributes(),i}return e.prototype.setAttributes=function(){n.prototype.setAttributes.call(this);var t=this.properties,r=t.width,i=t.height,o=t.radius,a=this.getNodeStyle().radius;Ar(r)||(this.width=r),Ar(i)||(this.height=i),Ar(o)||(this.radius=o),Ar(a)||(this.radius=a)},e.prototype.getDefaultAnchor=function(){var t=this,r=t.x,i=t.y,o=t.width,a=t.height;return[{x:r,y:i-a/2,id:"".concat(this.id,"_0")},{x:r+o/2,y:i,id:"".concat(this.id,"_1")},{x:r,y:i+a/2,id:"".concat(this.id,"_2")},{x:r-o/2,y:i,id:"".concat(this.id,"_3")}]},e.prototype.getNodeStyle=function(){var t=n.prototype.getNodeStyle.call(this),r=this.graphModel.theme.rect,i=this.properties.style,o=i===void 0?{}:i;return b0(b0(b0({},t),Ht(r)),Ht(o))},eB([De],e.prototype,"radius",void 0),e}(_s),tB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),C0=function(){return C0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},C0.apply(this,arguments)},C4=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},nB=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},rB=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},w4=function(n){tB(e,n);function e(){var t=n.apply(this,rB([],nB(arguments),!1))||this;return t.modelType=$t.TEXT_NODE,t}return e.prototype.getTextStyle=function(){var t=n.prototype.getTextStyle.call(this),r=this.graphModel.theme.text,i=this.properties.textStyle;return C0(C0(C0({},t),Ht(r)),Ht(i))},Object.defineProperty(e.prototype,"width",{get:function(){var t=String(this.text.value).split(/[\r\n]/g),r=this.getTextStyle().fontSize,i=f4({rows:t,fontSize:r,rowsLength:t.length}).width;return i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var t=String(this.text.value).split(/[\r\n]/g),r=this.getTextStyle().fontSize,i=f4({rows:t,fontSize:r,rowsLength:t.length}).height;return i},enumerable:!1,configurable:!0}),C4([_n],e.prototype,"width",null),C4([_n],e.prototype,"height",null),e}(_s),iB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),V0=function(n){iB(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.modelType=$t.HTML_NODE,i.setAttributes(),i}return e.prototype.setAttributes=function(){n.prototype.setAttributes.call(this);var t=this.properties,r=t.width,i=t.height;r&&(this.width=r),i&&(this.height=i)},e.prototype.getDefaultAnchor=function(){var t=this,r=t.x,i=t.y,o=t.width,a=t.height;return[{x:r,y:i-a/2,id:"".concat(this.id,"_0")},{x:r+o/2,y:i,id:"".concat(this.id,"_1")},{x:r,y:i+a/2,id:"".concat(this.id,"_2")},{x:r-o/2,y:i,id:"".concat(this.id,"_3")}]},e}(_s),an=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},oB={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,allowRotate:!1,allowResize:!1,nodeSelectedOutline:!0,textEdit:!1,nodeTextEdit:!1,edgeTextEdit:!1,textDraggable:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},iu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","snapGrid","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustEdgeStart","adjustEdgeEnd","adjustNodePosition","hideAnchors","allowRotate","allowResize","autoExpand","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","textEdit","nodeTextEdit","edgeTextEdit","textDraggable","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","textMode","nodeTextMode","edgeTextMode","nodeTextMultiple","edgeTextMultiple","nodeTextVertical","edgeTextVertical"],sB=function(){function n(e){this.isSilentMode=!1,this.stopZoomGraph=!1,this.stopMoveGraph=!1,this.stopScrollGraph=!1,this.snapGrid=!1,this.textMode=Ci.TEXT,this.textEdit=!0,this.textDraggable=!1,this.nodeTextEdit=!0,this.nodeTextDraggable=!1,this.nodeTextMultiple=!1,this.nodeTextVertical=!1,this.nodeTextMode=Ci.TEXT,this.edgeTextMode=Ci.TEXT,this.edgeTextEdit=!0,this.edgeTextDraggable=!1,this.edgeTextMultiple=!1,this.edgeTextVertical=!1,this.hideAnchors=!1,this.allowRotate=!1,this.allowResize=!1,this.hoverOutline=!0,this.nodeSelectedOutline=!0,this.adjustNodePosition=!0,this.autoExpand=!1,this.adjustEdge=!0,this.adjustEdgeMiddle=!1,this.adjustEdgeStartAndEnd=!1,this.adjustEdgeStart=!1,this.adjustEdgeEnd=!1,this.edgeSelectedOutline=!0,this.multipleSelectKey="",rn(this,this.computeConfig(e))}return n.prototype.updateEditConfig=function(e){var t=this.computeConfig(e);rn(this,t)},n.prototype.computeConfig=function(e){var t=e.isSilentMode,r=e.textDraggable,i=e.textMode,o=e.textEdit,a=e.adjustEdgeStartAndEnd,l={};if(t===!1&&rn(l,this.stagedConfig),t===!0&&t!==this.isSilentMode){var u=Ws(oB,iu);this.stagedConfig=Ws(this,iu),rn(l,u)}Zs(o)||rn(l,{nodeTextEdit:o,edgeTextEdit:o}),Zs(r)||rn(l,{nodeTextDraggable:r,edgeTextDraggable:r}),i&&rn(l,{nodeTextMode:i,edgeTextMode:i}),Mu(a)&&rn(l,{adjustEdgeStart:a,adjustEdgeEnd:a});var c=Ws(e,iu);return rn(l,c)},n.prototype.updateTextMode=function(e){this.textMode=e,this.edgeTextMode=e,this.nodeTextMode=e},n.prototype.getConfig=function(){return Ws(this,iu)},an([De],n.prototype,"isSilentMode",void 0),an([De],n.prototype,"stopZoomGraph",void 0),an([De],n.prototype,"stopMoveGraph",void 0),an([De],n.prototype,"stopScrollGraph",void 0),an([De],n.prototype,"snapGrid",void 0),an([De],n.prototype,"textMode",void 0),an([De],n.prototype,"textEdit",void 0),an([De],n.prototype,"textDraggable",void 0),an([De],n.prototype,"nodeTextEdit",void 0),an([De],n.prototype,"nodeTextDraggable",void 0),an([De],n.prototype,"nodeTextMultiple",void 0),an([De],n.prototype,"nodeTextVertical",void 0),an([De],n.prototype,"nodeTextMode",void 0),an([De],n.prototype,"edgeTextMode",void 0),an([De],n.prototype,"edgeTextEdit",void 0),an([De],n.prototype,"edgeTextDraggable",void 0),an([De],n.prototype,"edgeTextMultiple",void 0),an([De],n.prototype,"edgeTextVertical",void 0),an([De],n.prototype,"hideAnchors",void 0),an([De],n.prototype,"allowRotate",void 0),an([De],n.prototype,"allowResize",void 0),an([De],n.prototype,"hoverOutline",void 0),an([De],n.prototype,"nodeSelectedOutline",void 0),an([De],n.prototype,"adjustNodePosition",void 0),an([De],n.prototype,"autoExpand",void 0),an([De],n.prototype,"adjustEdge",void 0),an([De],n.prototype,"adjustEdgeMiddle",void 0),an([De],n.prototype,"adjustEdgeStartAndEnd",void 0),an([De],n.prototype,"adjustEdgeStart",void 0),an([De],n.prototype,"adjustEdgeEnd",void 0),an([De],n.prototype,"edgeSelectedOutline",void 0),an([Le],n.prototype,"updateEditConfig",null),an([Le],n.prototype,"updateTextMode",null),n}(),aB="*",lB=function(){function n(){this._events={}}return n.prototype.on=function(e,t,r){var i=this;e==null||e.split(",").forEach(function(o){o=o.trim(),i._events[o]||(i._events[o]=[]),i._events[o].push({callback:t,once:!!r})})},n.prototype.once=function(e,t){var r=this;e==null||e.split(",").forEach(function(i){i=i.trim(),r.on(i,t,!0)})},n.prototype.emit=function(e,t){var r=this;e==null||e.split(",").forEach(function(i){var o=r._events[i]||[],a=r._events[aB]||[],l=function(u){for(var c=u.length,f=0;f<c;f++)if(u[f]){var v=u[f],m=v.callback,y=v.once;y&&(u.splice(f,1),u.length===0&&delete r._events[i],c--,f--),m.apply(r,[t])}};l(o),l(a)})},n.prototype.off=function(e,t){var r=this;e||(this._events={}),e.split(",").forEach(function(i){if(!t)delete r._events[i];else{for(var o=r._events[i]||[],a=o.length,l=0;l<a;l++)o[l].callback===t&&(o.splice(l,1),a--,l--);o.length===0&&delete r._events[i]}})},n.prototype.getEvents=function(){return this._events},n.prototype.destroy=function(){this._events={}},n}(),uB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_1=function(){return _1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},_1.apply(this,arguments)},dB=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},cB=function(n){uB(e,n);function e(t){var r=n.call(this)||this;r.stepScrollX=0,r.stepScrollY=0,r.onDragging=function(l){var u=l.deltaX,c=l.deltaY;r.setState({isDragging:!0});var f=r.props.graphModel,v=f.transformModel,m=f.editConfigModel;m.stopMoveGraph!==!0&&v.translate(u,c)},r.onDragEnd=function(){r.setState({isDragging:!1})},r.zoomHandler=function(l){var u=r.props,c=u.graphModel,f=c.editConfigModel,v=c.transformModel,m=c.gridSize,y=u.graphModel,_=l.deltaX,b=l.deltaY,w=f.stopScrollGraph,x=f.stopZoomGraph;if(!w&&!l.ctrlKey&&!l.metaKey){if(l.preventDefault(),r.stepScrollX+=_,r.stepScrollY+=b,Math.abs(r.stepScrollX)>=m){var k=r.stepScrollX%m,N=r.stepScrollX-k;v.translate(-N*v.SCALE_X,0),r.stepScrollX=k}if(Math.abs(r.stepScrollY)>=m){var D=r.stepScrollY%m,V=r.stepScrollY-D;v.translate(0,-V*v.SCALE_Y),r.stepScrollY=D}return}if(!x){l.preventDefault();var U=y.getPointByClient({x:l.clientX,y:l.clientY}),B=U.canvasOverlayPosition,G=B.x,Q=B.y;v.zoom(l.deltaY<0,[G,Q])}},r.clickHandler=function(l){var u=l.target;if(u.getAttribute("name")==="canvas-overlay"){var c=r.props.graphModel,f=c.selectElements;f.size>0&&c.clearSelectElements(),c.eventCenter.emit(mt.BLANK_CLICK,{e:l})}},r.handleContextMenu=function(l){var u=l.target;if(u.getAttribute("name")==="canvas-overlay"){l.preventDefault();var c=r.props.graphModel,f=c.getPointByClient({x:l.clientX,y:l.clientY});c.eventCenter.emit(mt.BLANK_CONTEXTMENU,{e:l,position:f})}},r.mouseDownHandler=function(l){var u=r.props.graphModel,c=u.eventCenter,f=u.editConfigModel,v=u.transformModel.SCALE_X,m=u.gridSize,y=f.adjustEdge,_=f.adjustNodePosition,b=f.stopMoveGraph,w=l.target,x=!y&&!_;(w.getAttribute("name")==="canvas-overlay"||x)&&(b!==!0?(r.stepDrag.setStep(m*v),r.stepDrag.handleMouseDown(l)):c.emit(mt.BLANK_MOUSEDOWN,{e:l}),r.clickHandler(l))};var i=t.graphModel,o=i.gridSize,a=i.eventCenter;return r.stepDrag=new Ti({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:o,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:void 0}),r.state={isDragging:!1},r}return e.prototype.render=function(){var t=this.props.graphModel.transformModel,r=t.getTransformStyle().transform,i=this.props,o=i.children,a=i.dnd,l=this.state.isDragging;return Te("svg",_1({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:l?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},a.eventMap(),{children:Te("g",{transform:r,children:o})}))},e=dB([Br],e),e}(Zt),y_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$0=function(){return $0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},$0.apply(this,arguments)},fB=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},hB=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},x4=function(n){y_(e,n);function e(){var t=n.call(this)||this;return t.onDragging=function(r){var i=r.event,o=t.props,a=o.graphModel,l=o.bezierModel,u=o.type,c=a.getPointByClient({x:i.clientX,y:i.clientY}).canvasOverlayPosition,f=c.x,v=c.y;l.updateAdjustAnchor({x:f,y:v},u),a.eventCenter.emit(mt.EDGE_ADJUST,{data:l.getData()})},t.onDragEnd=function(){var r=t.props.bezierModel;r.isDragging=!1},t.dragHandler=new Ti({onDragging:t.onDragging,onDragEnd:t.onDragEnd}),t}return e.prototype.render=function(){var t=this,r=this.props.position,i=r.x,o=r.y,a=this.props.bezierModel,l=a.getEdgeStyle().adjustAnchor;return Te(sl,$0({className:"lf-bezier-adjust-anchor",x:i,y:o},l,{onMouseDown:function(u){t.dragHandler.handleMouseDown(u)}}))},e}(Zt),pB=function(n){y_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getBezierAdjust=function(t,r){var i=t.path,o=t.id,a=vg(i),l=hB(a,4),u=l[0],c=l[1],f=l[2],v=l[3],m=t.getEdgeStyle().adjustLine,y=[];return y.push(Te(ol,$0({x1:u.x,y1:u.y,x2:c.x,y2:c.y},m))),y.push(Te(x4,{position:c,bezierModel:t,graphModel:r,type:"sNext"},"".concat(o,"_ePre"))),y.push(Te(ol,$0({x1:v.x,y1:v.y,x2:f.x,y2:f.y},m))),y.push(Te(x4,{position:f,bezierModel:t,graphModel:r,type:"ePre"},"".concat(o,"_sNext"))),y},e.prototype.selectedBezierEdge=function(){for(var t=this.props.graphModel,r=t.edges,i=[],o=0;o<r.length;o++){var a=r[o];a.isSelected&&a.modelType===$t.BEZIER_EDGE&&a.draggable&&i.push(this.getBezierAdjust(a,t))}return i},e.prototype.render=function(){return Te("g",{className:"lf-bezier-adjust",children:this.selectedBezierEdge()})},e=fB([Br],e),e}(Zt),vB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),gB=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},mB=function(n){vB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props.background;return Te("div",{className:"lf-background",children:Te("div",{style:ui(t)?t:{},className:"lf-background-area"})})},e=gB([Br],e),e}(Zt),yB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),_B=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Za=function(n){yB(e,n);function e(t){var r=n.call(this,t)||this;return r.id=us(),r.gridOptions=r.props.graphModel.grid,r}return e.prototype.renderDot=function(){var t=this.gridOptions,r=t.config,i=t.size,o=i===void 0?1:i,a=t.visible,l=r??{},u=l.color,c=l.thickness,f=c===void 0?2:c,v=Math.min(Math.max(2,f),o/4),m=a?1:0;return Te("g",{fill:u,opacity:m,children:[Te("circle",{cx:0,cy:0,r:v/2}),Te("circle",{cx:0,cy:o,r:v/2}),Te("circle",{cx:o,cy:0,r:v/2}),Te("circle",{cx:o,cy:o,r:v/2})]})},e.prototype.renderMesh=function(){var t=this.gridOptions,r=t.config,i=t.size,o=i===void 0?1:i,a=t.visible,l=r??{},u=l.color,c=l.thickness,f=c===void 0?1:c,v=Math.min(Math.max(1,f),o/2),m="M 0 0 H ".concat(o," V ").concat(o," H 0 Z"),y=a?1:0;return Te("path",{d:m,stroke:u,strokeWidth:v/2,opacity:y,fill:"transparent"})},e.prototype.render=function(){var t=this.props.graphModel,r=t.transformModel,i=t.grid;this.gridOptions=i;var o=this.gridOptions,a=o.type,l=o.size,u=l===void 0?1:l,c=r.SCALE_X,f=r.SKEW_Y,v=r.SKEW_X,m=r.SCALE_Y,y=r.TRANSLATE_X,_=r.TRANSLATE_Y,b=[c,f,v,m,y,_].join(","),w="matrix(".concat(b,")");return Te("div",{className:"lf-grid",children:Te("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",children:[Te("defs",{children:Te("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:w,x:"0",y:"0",width:u,height:u,children:[a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh()]})}),Te("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})]})})},e=_B([Br],e),e}(Zt);(function(n){n.defaultProps={size:vH,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};function e(t){var r=Ht(n.defaultProps);return typeof t=="number"?rn(r,{size:t}):typeof t=="boolean"?rn(r,{visible:t}):rn(r,t)}n.getGridOptions=e})(Za||(Za={}));var bB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),CB=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},wB=function(n){bB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props.graphModel.transformModel,r=t.getTransformStyle().transform,i=this.props.children;return Te("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay",children:Te("g",{transform:r,children:i})})},e=CB([Br],e),e}(Zt),xB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ts=function(){return ts=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ts.apply(this,arguments)},kB=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},SB=function(n){xB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getNodesOutline=function(){var t=this.props.graphModel,r=t.nodes,i=t.editConfigModel,o=i.hoverOutline,a=i.nodeSelectedOutline,l=[];return r.forEach(function(u){if(u.isHovered||u.isSelected){var c=u.isHovered,f=u.isSelected,v=u.x,m=u.y,y=u.width,_=u.height;if(a&&f||o&&c){var b=u.getOutlineStyle(),w={};if(Object.keys(b).forEach(function(k){k!=="hover"&&(w[k]=b[k])}),c){var x=b.hover;w=ts(ts({},w),x)}l.push(Te(_i,ts({transform:u.transform,className:"lf-outline-node",x:v,y:m,width:y+10,height:_+10},w)))}}}),l},e.prototype.getEdgeOutline=function(){for(var t=this.props.graphModel,r=t.edges,i=t.editConfigModel,o=i.edgeSelectedOutline,a=i.hoverOutline,l=[],u=0;u<r.length;u++){var c=r[u];(o&&c.isSelected||a&&c.isHovered)&&(c.modelType===$t.LINE_EDGE?l.push(this.getLineOutline(c)):c.modelType===$t.POLYLINE_EDGE?l.push(this.getPolylineOutline(c)):c.modelType===$t.BEZIER_EDGE&&l.push(this.getBezierOutline(c)))}return l},e.prototype.getLineOutline=function(t){var r=t.startPoint,i=t.endPoint,o=(r.x+i.x)/2,a=(r.y+i.y)/2,l=Math.abs(r.x-i.x)+10,u=Math.abs(r.y-i.y)+10,c=t.getOutlineStyle();return Te(_i,ts({className:"lf-outline-edge",x:o,y:a,width:l,height:u},c))},e.prototype.getPolylineOutline=function(t){var r=t.points,i=Ks(r),o=P0(i,8),a=o.x,l=o.y,u=o.width,c=o.height,f=t.getOutlineStyle();return Te(_i,ts({className:"lf-outline",x:a,y:l,width:u,height:c},f))},e.prototype.getBezierOutline=function(t){var r=t.path,i=vg(r),o=P0(i,8),a=o.x,l=o.y,u=o.width,c=o.height,f=t.getOutlineStyle();return Te(_i,ts({className:"lf-outline",x:a,y:l,width:u,height:c},f))},e.prototype.render=function(){return Te("g",{className:"lf-outline",children:[this.getNodesOutline(),this.getEdgeOutline()]})},e=kB([Br],e),e}(Zt),EB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ns=function(){return ns=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ns.apply(this,arguments)},MB=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},OB=function(n){EB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(){var t=this.props.snaplineModel,r=t??{},i=r.position,o=r.isShowHorizontal,a=r.isShowVertical,l=t==null?void 0:t.getStyle(),u=i??{},c=u.x,f=c===void 0?0:c,v=u.y,m=v===void 0?0:v,y=ns(ns({x1:-1e5,y1:m,x2:1e5,y2:m},l),{stroke:o?l==null?void 0:l.stroke:"none"}),_=ns(ns({x1:f,y1:-1e5,x2:f,y2:1e5},l),{stroke:a?l==null?void 0:l.stroke:"none"});return Te("g",{className:"lf-snapline",children:[Te(ol,ns({},y)),Te(ol,ns({},_))]})},e=MB([Br],e),e}(Zt),AB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),LB=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},TB=function(n){AB(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){this.triggerToolRender()},e.prototype.componentDidUpdate=function(){this.triggerToolRender()},e.prototype.getTools=function(){var t=this.props,r=t.tool,i=t.graphModel,o=i.textEditElement,a=r.getTools(),l=a.map(function(u){return ht(u,{textEditElement:o,graphModel:i,lf:r.instance})});return r.components=l,l},e.prototype.triggerToolRender=function(){var t=this.props,r=t.tool,i=t.graphModel,o=document.querySelector("#ToolOverlay_".concat(i.flowId)),a=r.getInstance();a.components.forEach(function(l){return l(a,o)}),a.components=[]},e.prototype.render=function(){var t=this.props.graphModel;return Te("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(t.flowId),children:this.getTools()})},e=LB([Br],e),e}(Zt),Sr=function(){return Sr=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Sr.apply(this,arguments)},pt=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},NB=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dr=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},vi=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},DB=function(){function n(e){var t=this,r,i;this.modelMap=new Map,this.nodeModelMap=new Map,this.edgeModelMap=new Map,this.elementsModelMap=new Map,this.nodeMoveRules=[],this.nodeResizeRules=[],this.nodes=[],this.edges=[],this.overlapMode=Wi.DEFAULT,this.gridSize=1,this.partial=!1,this.waitCleanEffects=[];var o=e.container,a=e.partial,l=e.background,u=l===void 0?{}:l,c=e.grid,f=e.idGenerator,v=e.edgeGenerator,m=e.animation,y=e.customTrajectory;this.rootEl=o,this.partial=!!a,this.background=u,typeof c=="object"&&e.snapGrid&&(this.gridSize=c.size||1),this.customStyles=e.style||{},this.grid=Za.getGridOptions(c??!1),this.theme=m_(e.style,e.themeMode),this.theme.grid=Ht(this.grid),this.theme.background=Ht(this.background),this.edgeType=e.edgeType||"polyline",this.animation=fH(m),this.overlapMode=e.overlapMode||Wi.DEFAULT,this.width=(r=e.width)!==null&&r!==void 0?r:this.rootEl.getBoundingClientRect().width,this.isContainerWidth=Ar(e.width),this.height=(i=e.height)!==null&&i!==void 0?i:this.rootEl.getBoundingClientRect().height,this.isContainerHeight=Ar(e.height);var _=new ResizeObserver(Sd(function(b){var w,x;try{for(var k=NB(b),N=k.next();!N.done;N=k.next()){var D=N.value;D.target===t.rootEl&&(t.resize(),t.eventCenter.emit("graph:resize",{target:t.rootEl,contentRect:D.contentRect}))}}catch(V){w={error:V}}finally{try{N&&!N.done&&(x=k.return)&&x.call(k)}finally{if(w)throw w.error}}},16));_.observe(this.rootEl),this.waitCleanEffects.push(function(){_.disconnect()}),this.eventCenter=new lB,this.editConfigModel=new sB(e),this.transformModel=new HB(this.eventCenter,e),this.flowId=us(),this.idGenerator=f,this.edgeGenerator=HH(this,v),this.customTrajectory=y}return Object.defineProperty(n.prototype,"nodesMap",{get:function(){return this.nodes.reduce(function(e,t,r){return e[t.id]={index:r,model:t},e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"edgesMap",{get:function(){return this.edges.reduce(function(e,t,r){return e[t.id]={index:r,model:t},e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modelsMap",{get:function(){return vi(vi([],dr(this.nodes),!1),dr(this.edges),!1).reduce(function(e,t){return e[t.id]=t,e},{})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sortElements",{get:function(){for(var e=vi(vi([],dr(this.nodes),!1),dr(this.edges),!1).sort(function(l,u){return l.zIndex-u.zIndex}),t=[],r=[-Z2,-Z2],i=[this.width+Z2,this.height+Z2],o=0;o<e.length;o++){var a=e[o];a.visible&&(!this.partial||a.isSelected||this.isElementInArea(a,r,i,!1,!1))&&t.push(a)}return t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textEditElement",{get:function(){var e=this.nodes.find(function(r){return r.state===tn.TEXT_EDIT}),t=this.edges.find(function(r){return r.state===tn.TEXT_EDIT});return e||t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selectElements",{get:function(){var e=new Map;return this.nodes.forEach(function(t){t.isSelected&&e.set(t.id,t)}),this.edges.forEach(function(t){t.isSelected&&e.set(t.id,t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selectNodes",{get:function(){var e=[];return this.nodes.forEach(function(t){t.isSelected&&e.push(t)}),e},enumerable:!1,configurable:!0}),n.prototype.getAreaElement=function(e,t,r,i,o){var a=this;r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=!1);var l=[];return cn(vi(vi([],dr(this.nodes),!1),dr(this.edges),!1),function(u){var c=a.isElementInArea(u,e,t,r,i);(!o||u.visible)&&c&&l.push(u)}),l},n.prototype.getModel=function(e){return this.modelMap.get(e)},n.prototype.getNodeModelById=function(e){var t;return this.fakeNode&&e===this.fakeNode.id?this.fakeNode:(t=this.nodesMap[e])===null||t===void 0?void 0:t.model},n.prototype.getPointByClient=function(e){var t=e.x,r=e.y,i=this.rootEl.getBoundingClientRect(),o={x:t-i.left,y:r-i.top},a=dr(this.transformModel.HtmlPointToCanvasPoint([o.x,o.y]),2),l=a[0],u=a[1],c={x:l,y:u};return{domOverlayPosition:o,canvasOverlayPosition:c}},n.prototype.isElementInArea=function(e,t,r,i,o){var a;if(i===void 0&&(i=!0),o===void 0&&(o=!0),e.BaseType===Dn.NODE){e=e;for(var l=ai(e),u=l.minX,c=l.minY,f=l.maxX,v=l.maxY,m=[{x:u,y:c},{x:f,y:c},{x:f,y:v},{x:u,y:v}],y=o,_=0;_<m.length;_++){var b=m[_],w=b.x,x=b.y;if(a=dr(this.transformModel.CanvasPointToHtmlPoint([w,x]),2),w=a[0],x=a[1],df([w,x],t,r)!==o){y=!o;break}}return y}if(e.BaseType===Dn.EDGE){e=e;var k=e.startPoint,N=e.endPoint,D=this.transformModel.CanvasPointToHtmlPoint([k.x,k.y]),V=this.transformModel.CanvasPointToHtmlPoint([N.x,N.y]),U=df(D,t,r),B=df(V,t,r);return i?U&&B:U||B}return!1},n.prototype.graphDataToModel=function(e){var t=this;if(!e){this.clearData();return}if(this.elementsModelMap.clear(),this.nodeModelMap.clear(),this.edgeModelMap.clear(),e.nodes?this.nodes=di(e.nodes,function(i){var o=t.getModelAfterSnapToGrid(i);return t.elementsModelMap.set(o.id,o),t.nodeModelMap.set(o.id,o),o}):this.nodes=[],e.edges){var r=this.edgeType;this.edges=di(e.edges,function(i){var o,a=t.getModel((o=i.type)!==null&&o!==void 0?o:r);if(!a)throw new Error("找不到".concat(i.type,"对应的边。"));var l=new a(i,t);return t.edgeModelMap.set(l.id,l),t.elementsModelMap.set(l.id,l),l})}else this.edges=[]},n.prototype.modelToGraphData=function(){var e=[];this.edges.forEach(function(r){var i=r.getData();i&&!r.virtual&&e.push(i)});var t=[];return this.nodes.forEach(function(r){var i=r.getData();i&&!r.virtual&&t.push(i)}),{nodes:t,edges:e}},n.prototype.modelToHistoryData=function(){for(var e=!1,t=[],r=0;r<this.nodes.length;r++){var i=this.nodes[r];if(i.isDragging){e=!0;break}else t.push(i.getHistoryData())}if(e)return!1;for(var o=!1,a=[],l=0;l<this.edges.length;l++){var u=this.edges[l];if(u.isDragging){o=!0;break}else a.push(u.getHistoryData())}return o?!1:{nodes:t,edges:a}},n.prototype.getEdgeModelById=function(e){var t;return(t=this.edgesMap[e])===null||t===void 0?void 0:t.model},n.prototype.getElement=function(e){return this.modelsMap[e]},n.prototype.getNodeEdges=function(e){for(var t=[],r=0;r<this.edges.length;r++){var i=this.edges[r],o=i.sourceNodeId===e,a=i.targetNodeId===e;(o||a)&&t.push(i)}return t},n.prototype.getSelectElements=function(e){e===void 0&&(e=!0);var t=this.selectElements,r={nodes:[],edges:[]};return t.forEach(function(i){if(i.BaseType===Dn.NODE&&r.nodes.push(i.getData()),i.BaseType===Dn.EDGE){var o=i.getData(),a=t.get(o.sourceNodeId)&&t.get(o.targetNodeId);(e||a)&&r.edges.push(o)}}),r},n.prototype.updateAttributes=function(e,t){var r=this.getElement(e);r==null||r.updateAttributes(t)},n.prototype.changeNodeId=function(e,t){return t||(t=us()),this.nodesMap[t]?(console.warn("当前流程图已存在节点".concat(t,", 修改失败")),""):this.nodesMap[e]?(this.edges.forEach(function(r){r.sourceNodeId===e&&(r.sourceNodeId=t),r.targetNodeId===e&&(r.targetNodeId=t)}),this.nodesMap[e].model.id=t,this.nodesMap[t]=this.nodesMap[e],t):(console.warn("当前流程图找不到节点".concat(e,", 修改失败")),"")},n.prototype.changeEdgeId=function(e,t){return t||(t=us()),this.edgesMap[t]?(console.warn("当前流程图已存在边: ".concat(t,", 修改失败")),""):this.edgesMap[e]?(this.edges.forEach(function(r){r.id===e&&r.changeEdgeId(t)}),t):(console.warn("当前流程图找不到边: ".concat(t,", 修改失败")),"")},n.prototype.getTextModel=function(e){var t=this.editConfigModel,r=t.textMode,i=t.nodeTextMode,o=t.edgeTextMode;if(e.BaseType===Dn.NODE)return e.textMode||i||r||Ci.TEXT;if(e.BaseType===Dn.EDGE)return e.textMode||o||r||Ci.TEXT},n.prototype.setTextMode=function(e,t){this.editConfigModel.updateEditConfig({textMode:e})},n.prototype.setFakeNode=function(e){this.fakeNode=e},n.prototype.removeFakeNode=function(){this.fakeNode=null},n.prototype.setModel=function(e,t){return this.modelMap.set(e,t)},n.prototype.toFront=function(e){var t,r,i,o=((t=this.nodesMap[e])===null||t===void 0?void 0:t.model)||((r=this.edgesMap[e])===null||r===void 0?void 0:r.model);o&&(this.overlapMode===Wi.DEFAULT&&((i=this.topElement)===null||i===void 0||i.setZIndex(),o.setZIndex(pH),this.topElement=o),this.overlapMode===Wi.INCREASE&&this.setElementZIndex(e,"top"))},n.prototype.setElementZIndex=function(e,t){var r,i,o=((r=this.nodesMap[e])===null||r===void 0?void 0:r.model)||((i=this.edgesMap[e])===null||i===void 0?void 0:i.model);if(o){var a=void 0;typeof t=="number"?a=t:(t==="top"&&(a=yg()),t==="bottom"&&(a=$I())),o.setZIndex(a)}},n.prototype.deleteNode=function(e){var t=this.nodesMap[e].model,r=t.getData();this.deleteEdgeBySource(e),this.deleteEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(mt.NODE_DELETE,{data:r,model:t})},n.prototype.addNode=function(e,t,r){t===void 0&&(t=mt.NODE_ADD);var i=Mr(e),o=i.id;o&&this.nodesMap[o]&&delete i.id;var a=this.getModelAfterSnapToGrid(i);this.nodes.push(a);var l=a.getData(),u={data:l};return r&&(u.e=r),this.eventCenter.emit(t,u),a},n.prototype.getModelAfterSnapToGrid=function(e){var t=this.getModel(e.type),r=this.editConfigModel.snapGrid;if(!t)throw new Error("找不到".concat(e.type,"对应的节点，请确认是否已注册此类型节点。"));var i=e.x,o=e.y;i&&o&&(e.x=il(i,this.gridSize,r),e.y=il(o,this.gridSize,r),typeof e.text=="object"&&e.text!==null&&(e.text.x+=e.x-i,e.text.y+=e.y-o));var a=new t(e,this);return this.nodeModelMap.set(a.id,a),this.elementsModelMap.set(a.id,a),a},n.prototype.cloneNode=function(e){var t=this.getNodeModelById(e),r=t==null?void 0:t.getData();if(r){r.x+=30,r.y+=30,r.id="",typeof r.text=="object"&&r.text!==null&&(r.text.x+=30,r.text.y+=30);var i=this.addNode(r);return i.setSelected(!0),t==null||t.setSelected(!1),i.getData()}},n.prototype.moveNode=function(e,t,r,i){var o;i===void 0&&(i=!1);var a=this.nodesMap[e];if(!a){console.warn("不存在id为".concat(e,"的节点"));return}var l=a.model;o=dr(l.getMoveDistance(t,r,i),2),t=o[0],r=o[1],this.moveEdge(e,t,r)},n.prototype.moveNode2Coordinate=function(e,t,r,i){i===void 0&&(i=!1);var o=this.nodesMap[e];if(!o){console.warn("不存在id为".concat(e,"的节点"));return}var a=o.model,l=a.x,u=a.y,c=t-l,f=r-u;this.moveNode(e,c,f,i)},n.prototype.editText=function(e){this.setElementStateById(e,tn.TEXT_EDIT)},n.prototype.addEdge=function(e){var t=Mr(e),r=t.type;r||(r=this.edgeType),t.id&&this.edgesMap[t.id]&&delete t.id;var i=this.getModel(r);if(!i)throw new Error("找不到".concat(r,"对应的边，请确认是否已注册此类型边。"));var o=new i(Sr(Sr({},t),{type:r}),this);this.edgeModelMap.set(o.id,o),this.elementsModelMap.set(o.id,o);var a=o.getData();return this.edges.push(o),this.eventCenter.emit(mt.EDGE_ADD,{data:a}),o},n.prototype.moveEdge=function(e,t,r){for(var i=0;i<this.edges.length;i++){var o=this.edges[i],a=o.textPosition,l=a.x,u=a.y,c=this.edges[i].sourceNodeId===e,f=this.edges[i].targetNodeId===e;c&&o.moveStartPoint(t,r),f&&o.moveEndPoint(t,r),(c||f)&&this.handleEdgeTextMove(o,l,u)}},n.prototype.handleEdgeTextMove=function(e,t,r){var i;if(e.customTextPosition){e.resetTextPosition();return}if(e.modelType===$t.POLYLINE_EDGE&&(!((i=e.text)===null||i===void 0)&&i.value)){var o=e.text,a=l_(o,e.points);e.moveText(a.x-o.x,a.y-o.y)}var l=e.textPosition,u=l.x,c=l.y;e.moveText(u-t,c-r)},n.prototype.deleteEdgeBySourceAndTarget=function(e,t){for(var r=0;r<this.edges.length;r++)if(this.edges[r].sourceNodeId===e&&this.edges[r].targetNodeId===t){var i=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(mt.EDGE_DELETE,{data:i})}},n.prototype.deleteEdgeById=function(e){var t=this.edgesMap[e];if(t){var r=this.edgesMap[e].index,i=this.edgesMap[e].model.getData();this.edges.splice(r,1),this.eventCenter.emit(mt.EDGE_DELETE,{data:i})}},n.prototype.deleteEdgeBySource=function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].sourceNodeId===e){var r=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(mt.EDGE_DELETE,{data:r})}},n.prototype.deleteEdgeByTarget=function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].targetNodeId===e){var r=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(mt.EDGE_DELETE,{data:r})}},n.prototype.setElementStateById=function(e,t,r){this.nodes.forEach(function(i){i.id===e?i.setElementState(t,r):i.setElementState(tn.DEFAULT)}),this.edges.forEach(function(i){i.id===e?i.setElementState(t,r):i.setElementState(tn.DEFAULT)})},n.prototype.updateText=function(e,t){var r=ds(vi(vi([],dr(this.nodes),!1),dr(this.edges),!1),function(i){return i.id===e});r==null||r.updateText(t)},n.prototype.selectNodeById=function(e,t){var r;t===void 0&&(t=!1),t||this.clearSelectElements();var i=(r=this.nodesMap[e])===null||r===void 0?void 0:r.model;i==null||i.setSelected(!0)},n.prototype.selectEdgeById=function(e,t){var r;t===void 0&&(t=!1),t||this.clearSelectElements();var i=(r=this.edgesMap[e])===null||r===void 0?void 0:r.model;i==null||i.setSelected(!0)},n.prototype.selectElementById=function(e,t){t===void 0&&(t=!1),t||this.clearSelectElements();var r=this.getElement(e);r==null||r.setSelected(!0)},n.prototype.deselectElementById=function(e){var t=this.getElement(e);t&&t.setSelected(!1)},n.prototype.clearSelectElements=function(){var e;this.selectElements.forEach(function(t){t==null||t.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Wi.DEFAULT&&((e=this.topElement)===null||e===void 0||e.setZIndex())},n.prototype.moveNodes=function(e,t,r,i){var o,a,l,u=this;i===void 0&&(i=!1);for(var c=e.reduce(function(N,D){var V,U=(V=u.nodesMap[D])===null||V===void 0?void 0:V.model;return U&&(N[D]=U.getMoveDistance(t,r,i)),N},{}),f=0;f<this.edges.length;f++){var v=this.edges[f],m=v.textPosition,y=m.x,_=m.y,b=c[v.sourceNodeId],w=c[v.targetNodeId],x=void 0,k=void 0;b&&w&&v.modelType===$t.POLYLINE_EDGE?(o=dr(b,2),x=o[0],k=o[1],v.updatePointsList(x,k)):(b&&(a=dr(b,2),x=a[0],k=a[1],v.moveStartPoint(x,k)),w&&(l=dr(w,2),x=l[0],k=l[1],v.moveEndPoint(x,k))),(b||w)&&this.handleEdgeTextMove(v,y,_)}},n.prototype.addNodeMoveRules=function(e){this.nodeMoveRules.includes(e)||this.nodeMoveRules.push(e)},n.prototype.addNodeResizeRules=function(e){this.nodeResizeRules.includes(e)||this.nodeResizeRules.push(e)},n.prototype.setDefaultEdgeType=function(e){this.edgeType=e},n.prototype.changeNodeType=function(e,t){var r=this.getNodeModelById(e);if(!r){console.warn("找不到id为".concat(e,"的节点"));return}var i=r.getData();i.type=t;var o=this.getModel(t);if(!o)throw new Error("找不到".concat(t,"对应的节点，请确认是否已注册此类型节点。"));var a=new o(i,this);this.nodes.splice(this.nodesMap[e].index,1,a);var l=this.getNodeEdges(e);l.forEach(function(u){if(u.sourceNodeId===e){var c=c4(a,u.startPoint,a.width,a.height);u.updateStartPoint(c)}if(u.targetNodeId===e){var c=c4(a,u.endPoint,a.width,a.height);u.updateEndPoint(c)}})},n.prototype.changeEdgeType=function(e,t){var r=this.getEdgeModelById(e);if(!r){console.warn("找不到id为".concat(e,"的边"));return}if(r.type!==t){var i=r.getData();i.type=t;var o=this.getModel(t);if(!o)throw new Error("找不到".concat(t,"对应的节点，请确认是否已注册此类型节点。"));delete i.pointsList;var a=new o(i,this);this.edges.splice(this.edgesMap[e].index,1,a)}},n.prototype.getNodeIncomingEdge=function(e){var t=[];return this.edges.forEach(function(r){r.targetNodeId===e&&t.push(r)}),t},n.prototype.getNodeOutgoingEdge=function(e){var t=[];return this.edges.forEach(function(r){r.sourceNodeId===e&&t.push(r)}),t},n.prototype.getAnchorIncomingEdge=function(e){var t=[];return this.edges.forEach(function(r){r.targetAnchorId===e&&t.push(r)}),t},n.prototype.getAnchorOutgoingEdge=function(e){var t=[];return this.edges.forEach(function(r){r.sourceAnchorId===e&&t.push(r)}),t},n.prototype.getNodeIncomingNode=function(e){var t=this,r=[];return this.edges.forEach(function(i){var o;i.targetNodeId===e&&r.push((o=t.nodesMap[i.sourceNodeId])===null||o===void 0?void 0:o.model)}),r},n.prototype.getNodeOutgoingNode=function(e){var t=this,r=[];return this.edges.forEach(function(i){i.sourceNodeId===e&&r.push(t.nodesMap[i.targetNodeId].model)}),r},n.prototype.setTheme=function(e,t){var r;if(t&&(j0[t]&&this.updateBackgroundOptions(Sr(Sr({},typeof this.background=="object"?this.background:{}),j0[t])),F0[t]&&this.updateGridOptions(Za.getGridOptions(Sr(Sr({},this.grid),F0[t])))),e.background&&this.updateBackgroundOptions(e.background),e.grid){var i=Za.getGridOptions((r=e.grid)!==null&&r!==void 0?r:!1);this.updateGridOptions(i)}this.theme=jI(Sr(Sr({},this.customStyles),e),t),this.customStyles=Sr(Sr({},this.customStyles),e)},n.prototype.getTheme=function(){var e=this,t=e.background,r=e.grid,i=Sr(Sr({},Ht(this.theme)),{background:t,grid:r});return i},n.prototype.updateGridOptions=function(e){Ys(this.grid,e)},n.prototype.updateGridSize=function(e){this.gridSize=e},n.prototype.updateBackgroundOptions=function(e){Mu(e)||Mu(this.background)?this.background=e:this.background=Sr(Sr({},this.background),e)},n.prototype.resize=function(e,t){this.width=e??this.rootEl.getBoundingClientRect().width,this.isContainerWidth=Ar(e),this.height=t??this.rootEl.getBoundingClientRect().height,this.isContainerHeight=Ar(t),(!this.width||!this.height)&&console.warn("渲染画布的时候无法获取画布宽高，请确认在container已挂载到DOM。@see https://github.com/didi/LogicFlow/issues/675")},n.prototype.clearData=function(){this.nodes=[],this.edges=[],this.edgeModelMap.clear(),this.nodeModelMap.clear(),this.elementsModelMap.clear()},n.prototype.getVirtualRectSize=function(){var e=this.nodes,t=[],r=[];e.forEach(function(m){var y=m.x,_=m.y,b=m.width,w=m.height,x=m.getNodeStyle().strokeWidth,k=x===void 0?0:x,N=y+b/2+k,D=y-b/2-k,V=_+w/2+k,U=_-w/2-k;t=t.concat([N,D].filter(function(B){return!Number.isNaN(B)})),r=r.concat([V,U].filter(function(B){return!Number.isNaN(B)}))});var i=Math.min.apply(Math,vi([],dr(t),!1)),o=Math.max.apply(Math,vi([],dr(t),!1)),a=Math.min.apply(Math,vi([],dr(r),!1)),l=Math.max.apply(Math,vi([],dr(r),!1)),u=o-i||0,c=l-a||0,f=i+u/2,v=a+c/2;return{width:u,height:c,x:f,y:v}},n.prototype.translateCenter=function(){var e=this,t=e.nodes,r=e.width,i=e.height,o=e.rootEl,a=e.transformModel;if(t.length){var l=r||o.clientWidth,u=i||o.clientHeight,c=this.getVirtualRectSize(),f=c.x,v=c.y;a.focusOn(f,v,l,u)}},n.prototype.fitView=function(e,t){e===void 0&&(e=20),t===void 0&&(t=20);var r=this,i=r.nodes,o=r.width,a=r.height,l=r.rootEl,u=r.transformModel;if(i.length){var c=o||l.clientWidth,f=a||l.clientHeight,v=this.getVirtualRectSize(),m=v.width,y=v.height,_=v.x,b=v.y,w=(m+t)/c,x=(y+e)/f,k=1/Math.max(w,x),N=[c/2,f/2];u.zoom(k,N),u.focusOn(_,b,c,f)}},n.prototype.openEdgeAnimation=function(e){var t=this.getEdgeModelById(e);t==null||t.openEdgeAnimation()},n.prototype.closeEdgeAnimation=function(e){var t=this.getEdgeModelById(e);t==null||t.closeEdgeAnimation()},n.prototype.getPartial=function(){return this.partial},n.prototype.setPartial=function(e){this.partial=e},n.prototype.destroy=function(){try{this.waitCleanEffects.forEach(function(e){e()})}catch(e){console.warn("error on destroy GraphModel",e)}this.waitCleanEffects.length=0,this.eventCenter.destroy()},pt([De],n.prototype,"width",void 0),pt([De],n.prototype,"height",void 0),pt([De],n.prototype,"theme",void 0),pt([De],n.prototype,"grid",void 0),pt([De],n.prototype,"edgeType",void 0),pt([De],n.prototype,"nodes",void 0),pt([De],n.prototype,"edges",void 0),pt([De],n.prototype,"fakeNode",void 0),pt([De],n.prototype,"overlapMode",void 0),pt([De],n.prototype,"background",void 0),pt([De],n.prototype,"gridSize",void 0),pt([De],n.prototype,"transformModel",void 0),pt([De],n.prototype,"editConfigModel",void 0),pt([De],n.prototype,"partial",void 0),pt([_n],n.prototype,"nodesMap",null),pt([_n],n.prototype,"edgesMap",null),pt([_n],n.prototype,"modelsMap",null),pt([_n],n.prototype,"sortElements",null),pt([_n],n.prototype,"textEditElement",null),pt([_n],n.prototype,"selectElements",null),pt([_n],n.prototype,"selectNodes",null),pt([Le],n.prototype,"setTextMode",null),pt([Le],n.prototype,"setFakeNode",null),pt([Le],n.prototype,"removeFakeNode",null),pt([Le],n.prototype,"setModel",null),pt([Le],n.prototype,"toFront",null),pt([Le],n.prototype,"setElementZIndex",null),pt([Le],n.prototype,"deleteNode",null),pt([Le],n.prototype,"addNode",null),pt([Le],n.prototype,"cloneNode",null),pt([Le],n.prototype,"moveNode",null),pt([Le],n.prototype,"moveNode2Coordinate",null),pt([Le],n.prototype,"editText",null),pt([Le],n.prototype,"addEdge",null),pt([Le],n.prototype,"moveEdge",null),pt([Le],n.prototype,"deleteEdgeBySourceAndTarget",null),pt([Le],n.prototype,"deleteEdgeById",null),pt([Le],n.prototype,"deleteEdgeBySource",null),pt([Le],n.prototype,"deleteEdgeByTarget",null),pt([Le],n.prototype,"setElementStateById",null),pt([Le],n.prototype,"updateText",null),pt([Le],n.prototype,"selectNodeById",null),pt([Le],n.prototype,"selectEdgeById",null),pt([Le],n.prototype,"selectElementById",null),pt([Le],n.prototype,"deselectElementById",null),pt([Le],n.prototype,"clearSelectElements",null),pt([Le],n.prototype,"moveNodes",null),pt([Le],n.prototype,"setDefaultEdgeType",null),pt([Le],n.prototype,"changeNodeType",null),pt([Le],n.prototype,"changeEdgeType",null),pt([Le],n.prototype,"getNodeIncomingEdge",null),pt([Le],n.prototype,"getNodeOutgoingEdge",null),pt([Le],n.prototype,"getAnchorIncomingEdge",null),pt([Le],n.prototype,"getAnchorOutgoingEdge",null),pt([Le],n.prototype,"getNodeIncomingNode",null),pt([Le],n.prototype,"getNodeOutgoingNode",null),pt([Le],n.prototype,"setTheme",null),pt([Le],n.prototype,"getTheme",null),pt([Le],n.prototype,"resize",null),pt([Le],n.prototype,"clearData",null),pt([Le],n.prototype,"translateCenter",null),pt([Le],n.prototype,"fitView",null),pt([Le],n.prototype,"openEdgeAnimation",null),pt([Le],n.prototype,"closeEdgeAnimation",null),pt([Le],n.prototype,"setPartial",null),n}(),js=function(){return js=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},js.apply(this,arguments)},r0=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},PB=function(){function n(e){this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}return n.prototype.getStyle=function(){return js({},this.graphModel.theme.snapline)},n.prototype.getCenterSnapLine=function(e,t){for(var r=e.x,i=e.y,o=!1,a=!1,l=0;l<t.length;l++){var u=t[l];if(u.id!==e.id&&(r===u.x&&(o=!0),i===u.y&&(a=!0),o&&a))break}return{isShowVertical:o,isShowHorizontal:a,position:{x:r,y:i}}},n.prototype.getHorizontalSnapline=function(e,t){var r=!1,i=0,o=e.id,a;if(o){var l=this.graphModel.fakeNode;if(l&&l.id===o)a=ai(l);else{var u=this.graphModel.getNodeModelById(o);u&&(a=ai(u))}}for(var c=0;c<t.length;c++){var f=t[c];if(f.id!==e.id){var v=ai(f);if(v.minY===(a==null?void 0:a.minY)||v.maxY===(a==null?void 0:a.minY)){r=!0,i=a.minY;break}if(v.minY===(a==null?void 0:a.maxY)||v.maxY===(a==null?void 0:a.maxY)){r=!0,i=a.maxY;break}}}return{isShowHorizontal:r,isShowVertical:this.isShowVertical,position:js(js({},this.position),{y:i})}},n.prototype.getVerticalSnapline=function(e,t){var r=!1,i=0,o=e.id,a;if(o){var l=this.graphModel.fakeNode;if(l&&l.id===o)a=ai(l);else{var u=this.graphModel.getNodeModelById(o);u&&(a=ai(u))}}for(var c=0;c<t.length;c++){var f=t[c];if(f.id!==e.id){var v=ai(f);if(v.minX===(a==null?void 0:a.minX)||v.maxX===(a==null?void 0:a.minX)){r=!0,i=a.minX;break}if(v.minX===(a==null?void 0:a.maxX)||v.maxX===(a==null?void 0:a.maxX)){r=!0,i=a.maxX;break}}}return{isShowHorizontal:this.isShowHorizontal,isShowVertical:r,position:js(js({},this.position),{x:i})}},n.prototype.getSnapLinePosition=function(e,t){var r=this.getCenterSnapLine(e,t),i=r.isShowHorizontal,o=r.isShowVertical;if(!i){var a=this.getHorizontalSnapline(e,t);a.isShowHorizontal&&(r.isShowHorizontal=a.isShowHorizontal,r.position.y=a.position.y)}if(!o){var l=this.getVerticalSnapline(e,t);l.isShowVertical&&(r.isShowVertical=l.isShowVertical,r.position.x=l.position.x)}return r},n.prototype.setSnaplineInfo=function(e){var t=e.isShowHorizontal,r=e.isShowVertical,i=e.position;this.position=i,this.isShowHorizontal=t,this.isShowVertical=r},n.prototype.clearSnapline=function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1},n.prototype.setNodeSnapLine=function(e){var t=this.graphModel.nodes,r=this.getSnapLinePosition(e,t);this.setSnaplineInfo(r)},r0([De],n.prototype,"isShowHorizontal",void 0),r0([De],n.prototype,"isShowVertical",void 0),r0([De],n.prototype,"position",void 0),r0([Le],n.prototype,"clearSnapline",null),r0([Le],n.prototype,"setNodeSnapLine",null),n}(),Ii=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ia=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},RB={false:[-1/0,-1/0,1/0,1/0],true:[-1/0,-1/0,1/0,1/0],vertical:[-1/0,0,1/0,0],horizontal:[0,-1/0,0,1/0]},HB=function(){function n(e,t){this.MINI_SCALE_SIZE=.2,this.MAX_SCALE_SIZE=16,this.SCALE_X=1,this.SKEW_Y=0,this.SKEW_X=0,this.SCALE_Y=1,this.TRANSLATE_X=0,this.TRANSLATE_Y=0,this.ZOOM_SIZE=.04,this.translateLimitMinX=-1/0,this.translateLimitMinY=-1/0,this.translateLimitMaxX=1/0,this.translateLimitMaxY=1/0,this.eventCenter=e;var r=t.stopMoveGraph,i=r===void 0?!1:r;this.updateTranslateLimits(i)}return n.prototype.setZoomMiniSize=function(e){this.MINI_SCALE_SIZE=e},n.prototype.setZoomMaxSize=function(e){this.MAX_SCALE_SIZE=e},n.prototype.HtmlPointToCanvasPoint=function(e){var t=Ia(e,2),r=t[0],i=t[1];return[(r-this.TRANSLATE_X)/this.SCALE_X,(i-this.TRANSLATE_Y)/this.SCALE_Y]},n.prototype.CanvasPointToHtmlPoint=function(e){var t=Ia(e,2),r=t[0],i=t[1];return[r*this.SCALE_X+this.TRANSLATE_X,i*this.SCALE_Y+this.TRANSLATE_Y]},n.prototype.moveCanvasPointByHtml=function(e,t,r){var i=Ia(e,2),o=i[0],a=i[1];return[o+t/this.SCALE_X,a+r/this.SCALE_Y]},n.prototype.fixDeltaXY=function(e,t){return[e/this.SCALE_X,t/this.SCALE_Y]},n.prototype.getTransformStyle=function(){var e=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(e,")")}},n.prototype.zoom=function(e,t){e===void 0&&(e=!1);var r=this.SCALE_X,i=this.SCALE_Y;return typeof e=="number"?(r=e,i=e):e?(r+=this.ZOOM_SIZE,i+=this.ZOOM_SIZE):(r-=this.ZOOM_SIZE,i-=this.ZOOM_SIZE),r<this.MINI_SCALE_SIZE||r>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(t&&(this.TRANSLATE_X-=(r-this.SCALE_X)*t[0],this.TRANSLATE_Y-=(i-this.SCALE_Y)*t[1]),this.SCALE_X=r,this.SCALE_Y=i,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))},n.prototype.emitGraphTransform=function(e){this.eventCenter.emit(mt.GRAPH_TRANSFORM,{type:e,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})},n.prototype.resetZoom=function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")},n.prototype.translate=function(e,t){this.TRANSLATE_X+e<=this.translateLimitMaxX&&this.TRANSLATE_X+e>=this.translateLimitMinX&&(this.TRANSLATE_X+=e),this.TRANSLATE_Y+t<=this.translateLimitMaxY&&this.TRANSLATE_Y+t>=this.translateLimitMinY&&(this.TRANSLATE_Y+=t),this.emitGraphTransform("translate")},n.prototype.focusOn=function(e,t,r,i){var o=Ia(this.CanvasPointToHtmlPoint([e,t]),2),a=o[0],l=o[1],u=Ia([r/2-a,i/2-l],2),c=u[0],f=u[1];this.TRANSLATE_X+=c,this.TRANSLATE_Y+=f,this.emitGraphTransform("focusOn")},n.prototype.updateTranslateLimits=function(e){var t;t=Ia(Array.isArray(e)&&e.length===4?e:RB[e.toString()],4),this.translateLimitMinX=t[0],this.translateLimitMinY=t[1],this.translateLimitMaxX=t[2],this.translateLimitMaxY=t[3]},Ii([De],n.prototype,"SCALE_X",void 0),Ii([De],n.prototype,"SKEW_Y",void 0),Ii([De],n.prototype,"SKEW_X",void 0),Ii([De],n.prototype,"SCALE_Y",void 0),Ii([De],n.prototype,"TRANSLATE_X",void 0),Ii([De],n.prototype,"TRANSLATE_Y",void 0),Ii([De],n.prototype,"ZOOM_SIZE",void 0),Ii([Le],n.prototype,"zoom",null),Ii([Le],n.prototype,"resetZoom",null),Ii([Le],n.prototype,"translate",null),Ii([Le],n.prototype,"focusOn",null),n}(),IB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),BB=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},jB=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},FB=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},VB=function(n){IB(e,n);function e(){var t=n.apply(this,FB([],jB(arguments),!1))||this;return t.handleResize=function(){var r=t.props,i=r.graphModel,o=r.options,a=i.width,l=i.height,u=i.isContainerWidth,c=i.isContainerHeight,f=a,v=l,m=!1;u&&(f=void 0,m=!0),c&&(v=void 0,m=!0),m&&i.resize(f,v),o.width=a,o.height=l},t.throttleResize=U8(t.handleResize,200),t}return e.prototype.componentDidMount=function(){window.addEventListener("resize",this.throttleResize)},e.prototype.componentDidUpdate=function(){var t=this.props.graphModel.modelToGraphData();this.props.graphModel.eventCenter.emit(mt.GRAPH_UPDATED,{data:t})},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.throttleResize)},e.prototype.getComponent=function(t,r,i){i===void 0&&(i="canvas-overlay");var o=this.props.getView,a=o(t.type);return a?Te(a,{model:t,graphModel:r,overlay:i},t.id):null},e.prototype.render=function(){var t=this,r=this.props,i=r.graphModel,o=r.tool,a=r.options,l=r.dnd,u=r.snaplineModel,c={};a.width&&(c.width="".concat(i.width,"px")),a.height&&(c.height="".concat(i.height,"px"));var f=i.fakeNode,v=i.editConfigModel,m=i.background,y=v.adjustEdge;return Te("div",{className:"lf-graph","flow-id":i.flowId,style:c,children:[Te(cB,{graphModel:i,dnd:l,children:[Te("g",{className:"lf-base",children:di(i.sortElements,function(_){return t.getComponent(_,i)})}),f?this.getComponent(f,i):""]}),Te(wB,{graphModel:i,children:[Te(SB,{graphModel:i}),y?Te(pB,{graphModel:i}):"",a.snapline!==!1?Te(OB,{snaplineModel:u}):""]}),Te(TB,{graphModel:i,tool:o}),m&&Te(mB,{background:m}),Te(Za,{graphModel:i})]})},e=BB([Br],e),e}(Zt),$B=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),co=function(){return co=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},co.apply(this,arguments)},WB=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},zB=function(n){$B(e,n);function e(){var t=n.call(this)||this;return t.onDragStart=function(r){var i=r.event,o=t.props,a=o.anchorData,l=o.nodeModel,u=o.graphModel;u.selectNodeById(l.id),l.autoToFront&&u.toFront(l.id),u.eventCenter.emit(mt.ANCHOR_DRAGSTART,{data:a,e:i,nodeModel:l}),t.setState({startX:a.x,startY:a.y,endX:a.x,endY:a.y})},t.onDragging=function(r){var i=r.event,o=t.props,a=o.graphModel,l=o.nodeModel,u=o.anchorData,c=a.transformModel,f=a.eventCenter,v=a.width,m=a.height,y=a.editConfigModel,_=y.autoExpand,b=y.stopMoveGraph;if(i){var w=i.clientX,x=i.clientY,k=a.getPointByClient({x:w,y:x}),N=k.domOverlayPosition,D=N.x,V=N.y,U=k.canvasOverlayPosition,B=U.x,G=U.y;t.t&&Xu(t.t);var Q=[],ae=10;D<10?Q=[ae,0]:D+10>v?Q=[-ae,0]:V<10?Q=[0,ae]:V+10>m&&(Q=[0,-ae]),t.setState({endX:B,endY:G,dragging:!0}),t.moveAnchorEnd(B,G),Q.length>0&&!b&&_&&(t.t=f_(function(){var q=WB(Q,2),ue=q[0],T=q[1];c.translate(ue,T);var R=t.state,A=R.endX,se=R.endY;t.setState({endX:A-ue,endY:se-T}),t.moveAnchorEnd(A-ue,se-T)})),f.emit(mt.ANCHOR_DRAG,{data:u,e:i,nodeModel:l})}},t.onDragEnd=function(r){var i=r.event;t.t&&Xu(t.t);var o=t.checkEnd(i);t.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),t.sourceRuleResults.clear(),t.targetRuleResults.clear();var a=t.props,l=a.graphModel,u=a.nodeModel,c=a.anchorData;l.eventCenter.emit(mt.ANCHOR_DRAGEND,{data:c,e:i,nodeModel:u,edgeModel:o??void 0})},t.checkEnd=function(r){var i,o=t.props,a=o.graphModel,l=o.nodeModel,u=o.anchorData,c=u.x,f=u.y,v=u.id,m=t.state,y=m.endX,_=m.endY,b=m.dragging,w=Uu({x:y,y:_},a);if(t.preTargetNode&&t.preTargetNode.state!==tn.DEFAULT&&t.preTargetNode.setElementState(tn.DEFAULT),!!b&&w&&w.node){var x=w.node,k=w.anchor.id,N="".concat(l.id,"_").concat(x.id,"_").concat(k,"_").concat(v),D=t.sourceRuleResults.get(N)||{},V=D.isAllPass,U=D.msg,B=t.targetRuleResults.get(N)||{},G=B.isAllPass,Q=B.msg;if(V&&G){x.setElementState(tn.DEFAULT);var ae=a.getNodeModelById(w.node.id),q=(i=a.edgeGenerator)===null||i===void 0?void 0:i.call(a,l.getData(),ae==null?void 0:ae.getData()),ue=a.addEdge(co(co({},q),{sourceNodeId:l.id,sourceAnchorId:v,startPoint:{x:c,y:f},targetNodeId:w.node.id,targetAnchorId:w.anchor.id,endPoint:{x:w.anchor.x,y:w.anchor.y}})),T=t.props.anchorData;return a.eventCenter.emit(mt.ANCHOR_DROP,{data:T,e:r,nodeModel:l,edgeModel:ue}),ue}var R=x.getData();return a.eventCenter.emit(mt.CONNECTION_NOT_ALLOWED,{data:R,msg:Q||U||"不允许添加连线"}),null}},t.sourceRuleResults=new Map,t.targetRuleResults=new Map,t.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},t.dragHandler=new Ti({onDragStart:t.onDragStart,onDragging:t.onDragging,onDragEnd:t.onDragEnd}),t}return e.prototype.getAnchorShape=function(){var t=this.props,r=t.anchorData,i=t.style,o=t.node,a=o.getAnchorShape(r);if(a)return a;var l=r.x,u=r.y,c=co(co({},i),i==null?void 0:i.hover);return Te("g",{children:[Te(sl,co({className:"lf-node-anchor-hover"},c,{x:l,y:u})),Te(sl,co({className:"lf-node-anchor"},i,{x:l,y:u}))]})},Object.defineProperty(e.prototype,"customTrajectory",{get:function(){var t=this.props.graphModel.customTrajectory;return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"relateEdges",{get:function(){var t=this.props,r=t.graphModel,i=r.getAnchorIncomingEdge,o=r.getAnchorOutgoingEdge,a=t.anchorData.id;return{incomingEdgeList:i(a),outgoingEdgeList:o(a)}},enumerable:!1,configurable:!0}),e.prototype.moveAnchorEnd=function(t,r){var i,o,a=this.props,l=a.graphModel,u=a.nodeModel,c=a.anchorData,f=Uu({x:t,y:r},l);if(f){var v=f.node,m=f.anchor.id;if(this.preTargetNode&&this.preTargetNode!==f.node&&this.preTargetNode.setElementState(tn.DEFAULT),c.id===m)return;this.preTargetNode=v;var y="".concat(u.id,"_").concat(v.id,"_").concat(m,"_").concat(c.id);if(!this.targetRuleResults.has(y)){var _=f.anchor,b=u.isAllowConnectedAsSource(v,c,_),w=v.isAllowConnectedAsTarget(u,c,_);this.sourceRuleResults.set(y,Gu(b)),this.targetRuleResults.set(y,Gu(w))}var x=((i=this.sourceRuleResults.get(y))!==null&&i!==void 0?i:{}).isAllPass,k=((o=this.targetRuleResults.get(y))!==null&&o!==void 0?o:{}).isAllPass;x&&k?v.setElementState(tn.ALLOW_CONNECT):v.setElementState(tn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==tn.DEFAULT&&this.preTargetNode.setElementState(tn.DEFAULT)},e.prototype.isShowLine=function(){var t=this.state,r=t.startX,i=t.startY,o=t.endX,a=t.endY,l=zi(r,i,o,a);return l>10},e.prototype.render=function(){var t=this,r=this.state,i=r.startX,o=r.startY,a=r.endX,l=r.endY,u=this.props,c=u.anchorData,f=u.edgeStyle,v=u.nodeModel,m=u.graphModel,y=c.edgeAddable;return Te("g",{className:"lf-anchor",children:[Te("g",{onClick:function(_){_.stopPropagation(),m.eventCenter.emit(mt.ANCHOR_CLICK,{data:c,e:_,nodeModel:v})},onMouseDown:function(_){m.eventCenter.emit(mt.ANCHOR_MOUSEDOWN,{data:c,e:_,nodeModel:v}),y!==!1&&t.dragHandler.handleMouseDown(_)},children:this.getAnchorShape()}),this.isShowLine()&&(this.customTrajectory?this.customTrajectory(co({sourcePoint:{x:i,y:o},targetPoint:{x:a,y:l}},f)):Te(ol,co({x1:i,y1:o,x2:a,y2:l},f,{"pointer-events":"none"})))]})},e}(Zt),UB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),b1=function(){return b1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},b1.apply(this,arguments)},GB=function(n){UB(e,n);function e(t){var r=n.call(this,t)||this;return r.style={},r.onDragging=function(i){var o,a=i.event,l=r.props,u=l.graphModel,c=l.nodeModel,f=l.eventCenter,v=u.selectNodes,m=c.x,y=c.y,_=a.clientX,b=a.clientY,w=u.getPointByClient({x:_,y:b}).canvasOverlayPosition,x=w.x,k=w.y,N=new br(x-m,k-y),D=((o=r.normal)===null||o===void 0?void 0:o.angle(N))-r.defaultAngle,V=new Wu(-m,-y).rotate(D).translate(m,y).toString();c.transform=V,c.rotate=D;var U=di(v,function(G){return G.id});U.indexOf(c.id)===-1&&(U=[c.id]);var B=F8(U,function(G,Q){var ae=u.getNodeModelById(Q);return G[Q]=ae==null?void 0:ae.getMoveDistance(0,0,!1),G},{});U.forEach(function(G){var Q=u.getNodeEdges(G);Q.forEach(function(ae){if(B[ae.sourceNodeId]){var q=u.getNodeModelById(ae.sourceNodeId),ue=q.anchors.find(function(T){return T.id===ae.sourceAnchorId});ae.updateStartPoint(ue)}if(B[ae.targetNodeId]){var q=u.getNodeModelById(ae.targetNodeId),ue=q.anchors.find(function(A){return A.id===ae.targetAnchorId});ae.updateEndPoint(ue)}})}),f.emit(mt.NODE_ROTATE,{e:a,model:c,data:c.getData()})},r.style=t.style,r.stepperDrag=new Ti({onDragging:r.onDragging}),r}return e.prototype.render=function(){var t=this,r=this.props.nodeModel,i=r.x,o=r.y,a=r.width,l=r.height,u=i+a/2+20,c=o-l/2-20;return this.normal=new br(1,0),this.defaultAngle=this.normal.angle(new br(u-i,c-o)),r.defaultAngle=this.defaultAngle,Te("g",{className:"lf-rotate-control",children:Te("g",{onMouseDown:function(f){t.stepperDrag.handleMouseDown(f)},children:Te(sl,b1({},this.style,{cx:u,cy:c}))})})},e}(Zt),pf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var k4;function XB(){return k4||(k4=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var l in o)e.call(o,l)&&o[l]&&(a=i(a,l));return a}function i(o,a){return a?o?o+" "+a:o+a:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(pf)),pf.exports}var ZB=XB();const C1=fl(ZB);var YB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),w1=function(){return w1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},w1.apply(this,arguments)},qB=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},__=function(n){YB(e,n);function e(t){var r=n.call(this)||this;r.mouseDownHandler=function(o){var a=r.props,l=a.draggable,u=a.model,c=a.graphModel,f=c.editConfigModel.nodeTextDraggable;(l??f)&&(o.stopPropagation(),r.stepperDrag.model=u,r.stepperDrag.handleMouseDown(o))},r.onDragging=function(o){var a=o.deltaX,l=o.deltaY,u=r.props,c=u.model,f=u.graphModel.transformModel;if(a||l){var v=qB(f.fixDeltaXY(a,l),2),m=v[0],y=v[1];c.moveText(m,y)}},r.dbClickHandler=function(){var o=r.props,a=o.editable,l=o.graphModel.eventCenter,u=o.model;a&&u.setElementState(tn.TEXT_EDIT),l.emit(mt.TEXT_DBCLICK,{data:u.text,model:u})};var i=t.draggable;return r.stepperDrag=new Ti({onDragging:r.onDragging,step:1,eventType:"TEXT",isStopPropagation:i}),r}return e.prototype.getShape=function(){var t=this.props,r=t.model,i=t.graphModel,o=i.editConfigModel,a=r.text,l=a.value,u=a.x,c=a.y,f=a.editable,v=a.draggable,m={x:u,y:c,className:"",value:l},y=r.getTextStyle(),_=o.nodeTextDraggable||v;return Te(h_,w1({},m,y,{className:C1({"lf-element-text":f,"lf-text-draggable":!f&&_,"lf-text-disabled":!f&&!_}),model:r}))},e.prototype.render=function(){var t=this.props.model.text;if(t)return Te("g",{onMouseDown:this.mouseDownHandler,onDblClick:this.dbClickHandler,children:this.getShape()})},e}(Zt),KB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Bi=function(){return Bi=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Bi.apply(this,arguments)},ou=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},JB=function(n){KB(e,n);function e(t){var r=n.call(this,t)||this;return r.setHoverOn=function(){r.setState({isHovered:!0})},r.setHoverOff=function(){r.setState({isHovered:!1})},r.state={isHovered:!1},r}return e.prototype.getBackground=function(){var t=this.state.isHovered,r=this.props.model,i=r.text,o=r.getTextStyle(),a=o.background||{};if(t&&o.hover&&o.hover.background&&(a=Bi(Bi({},a),o.hover.background)),i!=null&&i.value&&(a==null?void 0:a.fill)!=="transparent"){var l=o.fontSize,u=o.textWidth,c=o.lineHeight,f=o.overflowMode,v=a.wrapPadding,m=i==null?void 0:i.value.split(/[\r\n]/g),y=m.length,_=i.x,b=i.y,w={};if(f==="autoWrap"&&u){var x=c_({rows:m,style:{fontSize:"".concat(l,"px"),width:"".concat(u,"px"),lineHeight:c,padding:v},rowsLength:y,className:"lf-get-text-height"});w=Bi(Bi({},a),{x:_,y:b,width:u,height:x})}else{var k=IH({rows:m,rowsLength:y,fontSize:l}),N=k.width,D=k.height;if(f==="ellipsis"&&(N=u,D=l+2),typeof a.wrapPadding=="string"){var V=a.wrapPadding.split(",").filter(function(le){return le.trim()}).map(function(le){return parseFloat(le.trim())});if(V.length>0&&V.length<=4){if(V.length===1){var U=ou(V,1),B=U[0];V=[B,B,B,B]}else if(V.length===2){var G=ou(V,2),Q=G[0],ae=G[1];V=[Q,ae,Q,ae]}else if(V.length===3){var q=ou(V,3),ue=q[0],ae=q[1],T=q[2];V=[ue,ae,T,ae]}var R=ou(V,4),A=R[0],se=R[1],re=R[2],de=R[3];N+=se+de,D+=A+re,_=_+(se-de)/2,b=b+(re-A)/2}}w=Bi(Bi({},a),{x:_-1,y:b-1,width:N,height:D})}return Te(_i,Bi({},w))}return null},e.prototype.getShape=function(){var t=this.props.model,r=t.text,i=r.x,o=r.y,a=r.value;if(!a)return null;var l=t.getTextStyle(),u=Bi({x:i,y:o,value:a,model:t,className:"lf-element-text"},l);return Te("g",{className:"lf-line-text",onMouseEnter:this.setHoverOn,onMouseLeave:this.setHoverOff,children:[this.getBackground(),Te(h_,Bi({},u))]})},e}(__),QB=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ku=function(){return Ku=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ku.apply(this,arguments)},ej=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},su=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},bs=function(n){QB(e,n);function e(t){var r=n.call(this)||this;r.onDragStart=function(u){var c=u.event,f=r.props,v=f.model,m=f.graphModel;if(c){var y=m.getPointByClient({x:c.clientX,y:c.clientY}).canvasOverlayPosition,_=y.x,b=y.y;r.moveOffset={dx:v.x-_,dy:v.y-b}}},r.onDragging=function(u){var c,f,v,m,y=u.event,_=r.props,b=_.model,w=_.graphModel,x=w.editConfigModel,k=x.stopMoveGraph,N=x.autoExpand,D=x.snapGrid,V=w.transformModel,U=w.selectNodes,B=w.width,G=w.height,Q=w.gridSize;b.isDragging=!0;var ae=y,q=ae.clientX,ue=ae.clientY,T=w.getPointByClient({x:q,y:ue}).canvasOverlayPosition,R=T.x,A=T.y,se=su(V.CanvasPointToHtmlPoint([R,A]),2),re=se[0],de=se[1];if(R=R+((f=(c=r.moveOffset)===null||c===void 0?void 0:c.dx)!==null&&f!==void 0?f:0),A=A+((m=(v=r.moveOffset)===null||v===void 0?void 0:v.dy)!==null&&m!==void 0?m:0),R=il(R,Q,D),A=il(A,Q,D),!B||!G){w.moveNode2Coordinate(b.id,R,A);return}var le=re<0||de<0||re>B||de>G;if(!(N&&!k&&le)){var Ae=su(V.CanvasPointToHtmlPoint([R-b.width/2,A-b.height/2]),2),pe=Ae[0],Ne=Ae[1],Ve=su(V.CanvasPointToHtmlPoint([R+b.width/2,A+b.height/2]),2),Ie=Ve[0],Oe=Ve[1],$=Math.max(Q,20),he=[];pe<0?he=[$,0]:Ie>w.width?he=[-$,0]:Ne<0?he=[0,$]:Oe>w.height&&(he=[0,-$]),r.t&&Xu(r.t);var ge=U.map(function(be){return be.id});ge.indexOf(b.id)===-1&&(ge=[b.id]),he.length>0&&!k&&N?r.t=f_(function(){var be=su(he,2),Be=be[0],xe=be[1];V.translate(Be??0,xe??0);var Re=-(Be??0)/V.SCALE_X,st=-(xe??0)/V.SCALE_X;w.moveNodes(ge,Re,st)}):w.moveNodes(ge,R-b.x,A-b.y)}},r.onDragEnd=function(){r.t&&Xu(r.t);var u=r.props.model;u.isDragging=!1},r.onMouseOut=function(u){hH()&&r.setHoverOff(u)},r.handleMouseUp=function(){var u=r.props.model;r.mouseUpDrag=u.isDragging},r.handleClick=function(u){var c=r.mouseUpDrag===!1;if(r.startTime){var f=r.props,v=f.model,m=f.graphModel;if(c){var y=v.getData(),_=m.getPointByClient({x:u.clientX,y:u.clientY}),b={data:y,e:u,position:_,isSelected:!1,isMultiple:!1},w=u.button===2,x=u.detail===2;if(!w){var k=m.editConfigModel,N=u_(u,k);b.isMultiple=N,v.isSelected&&!x&&N?(b.isSelected=!1,v.setSelected(!1)):(m.selectNodeById(v.id,N),b.isSelected=!0,k.isSilentMode||r.toFront()),x?(k.nodeTextEdit&&v.text.editable&&k.textMode===Ci.TEXT&&(v.setSelected(!1),m.setElementStateById(v.id,tn.TEXT_EDIT)),m.eventCenter.emit(mt.NODE_DBCLICK,b)):(m.eventCenter.emit(mt.ELEMENT_CLICK,b),m.eventCenter.emit(mt.NODE_CLICK,b))}}}},r.handleContextMenu=function(u){u.preventDefault();var c=r.props,f=c.model,v=c.graphModel,m=v.editConfigModel,y=f.getData(),_=v.getPointByClient({x:u.clientX,y:u.clientY});v.setElementStateById(f.id,tn.SHOW_MENU,_.domOverlayPosition),f.isSelected||v.selectNodeById(f.id),v.eventCenter.emit(mt.NODE_CONTEXTMENU,{data:y,e:u,position:_}),m.isSilentMode||r.toFront()},r.handleMouseDown=function(u){var c=r.props,f=c.model,v=c.graphModel;r.startTime=new Date().getTime();var m=v.editConfigModel;m.adjustNodePosition&&f.draggable&&r.stepDrag&&r.stepDrag.handleMouseDown(u)},r.handleFocus=function(){var u=r.props,c=u.model,f=u.graphModel;f.eventCenter.emit(mt.NODE_FOCUS,{data:c.getData()})},r.handleBlur=function(){var u=r.props,c=u.model,f=u.graphModel;f.eventCenter.emit(mt.NODE_BLUR,{data:c.getData()})},r.setHoverOn=function(u){var c=r.props,f=c.model,v=c.graphModel;if(!f.isHovered){var m=f.getData();f.setHovered(!0),v.eventCenter.emit(mt.NODE_MOUSEENTER,{data:m,e:u})}},r.setHoverOff=function(u){var c=r.props,f=c.model,v=c.graphModel,m=f.getData();f.isHovered&&(f.setHovered(!1),v.eventCenter.emit(mt.NODE_MOUSELEAVE,{data:m,e:u}))};var i=t.graphModel,o=i.gridSize,a=i.eventCenter,l=t.model;return r.stepDrag=new Ti({onDragStart:r.onDragStart,onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:o,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:l}),r.modelDisposer=I7(function(){return r.props},function(u){u&&u.model&&r.stepDrag.setModel(u.model)}),r}return e.prototype.componentWillUnmount=function(){this.modelDisposer&&this.modelDisposer(),this.render.$mobx&&this.render.$mobx.dispose()},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getAnchorShape=function(t){return null},e.prototype.getAnchors=function(){var t=this,r=this.props,i=r.model,o=r.graphModel,a=i.isSelected,l=i.isHitable,u=i.isDragging,c=i.isShowAnchor;return l&&(a||c)&&!u?di(i.anchors,function(f,v){var m=i.getAnchorLineStyle(f),y=i.getAnchorStyle(f);return Te(zB,{anchorData:f,node:t,style:y,edgeStyle:m,anchorIndex:v,nodeModel:i,graphModel:o,setHoverOff:t.setHoverOff})}):[]},e.prototype.getRotateControl=function(){var t=this.props,r=t.model,i=t.graphModel,o=i.editConfigModel,a=o.isSilentMode,l=o.allowRotate,u=r.isSelected,c=r.isHitable,f=r.rotatable,v=r.isHovered,m=l&&f,y=r.getRotateControlStyle();if(!a&&c&&(u||v)&&m)return Te(GB,{graphModel:i,nodeModel:r,eventCenter:i.eventCenter,style:y})},e.prototype.getResizeControl=function(){var t=this.props,r=t.model,i=t.graphModel,o=i.editConfigModel,a=o.isSilentMode,l=o.allowResize,u=r.isSelected,c=r.isHitable,f=r.resizable,v=r.isHovered,m=l&&f,y=r.getResizeControlStyle();return!a&&c&&(u||v)&&m?Te(hI,{style:y,model:r,graphModel:i}):null},e.prototype.getText=function(){var t,r=this.props,i=r.model,o=r.graphModel,a=o.editConfigModel;if(a.nodeTextMode!==Ci.TEXT||i.state===tn.TEXT_EDIT)return null;if(i.text){var l=!1;return a.nodeTextDraggable&&i.text.draggable&&(l=!0),Te(__,{editable:a.nodeTextEdit&&((t=i.text.editable)!==null&&t!==void 0?t:!0),model:i,graphModel:o,draggable:l})}return null},e.prototype.getStateClassName=function(){var t=this.props.model,r=t.state,i=t.isDragging,o=t.isSelected,a="lf-node";switch(r){case tn.ALLOW_CONNECT:a+=" lf-node-allow";break;case tn.NOT_ALLOW_CONNECT:a+=" lf-node-not-allow";break;default:a+=" lf-node-default";break}return i&&(a+=" lf-dragging"),o&&(a+=" lf-node-selected"),a},e.prototype.toFront=function(){var t=this.props,r=t.model,i=t.graphModel;r.autoToFront&&i.toFront(r.id)},e.prototype.render=function(){var t=this.props,r=t.model,i=t.graphModel,o=i.editConfigModel,a=o.hideAnchors,l=o.adjustNodePosition,u=o.allowRotate,c=o.allowResize,f=i.gridSize,v=i.transformModel.SCALE_X,m=r.isHitable,y=r.draggable,_=r.transform,b=r.getOuterGAttributes(),w=b.className,x=w===void 0?"":w,k=ej(b,["className"]),N=Te("g",{className:"lf-node-content",children:[Te("g",{transform:_,children:[this.getShape(),this.getText(),u&&this.getRotateControl(),c&&this.getResizeControl()]}),!a&&this.getAnchors()]}),D;return m?(l&&y&&this.stepDrag.setStep(f*v),D=Te("g",Ku({className:"".concat(this.getStateClassName()," ").concat(x),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onMouseEnter:this.setHoverOn,onMouseOver:this.setHoverOn,onMouseLeave:this.setHoverOff,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu,onFocus:this.handleFocus,onBlur:this.handleBlur},k,{children:N}))):D=Te("g",Ku({className:"".concat(this.getStateClassName()," ").concat(x)},k,{children:N})),D},e.isObserved=!1,e}(Zt),tj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),x1=function(){return x1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},x1.apply(this,arguments)},Js=function(n){tj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getShape=function(){var t=this.props.model,r=t.getNodeStyle();return Te(_i,x1({},r,{x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius}))},e}(bs),nj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k1=function(){return k1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},k1.apply(this,arguments)},Ju=function(n){nj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getShape=function(){var t=this.props.model,r=t.x,i=t.y,o=t.r,a=t.getNodeStyle();return Te(sl,k1({},a,{x:r,y:i,r:o}))},e}(bs),rj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qu=function(){return Qu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Qu.apply(this,arguments)},ed=function(n){rj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getShape=function(){var t=this.props.model,r=t,i=r.x,o=r.y,a=r.width,l=r.height,u=r.points,c=t.getNodeStyle(),f={transform:"matrix(1 0 0 1 ".concat(i-a/2," ").concat(o-l/2,")")};return Te("g",Qu({},f,{children:Te(mg,Qu({},c,{points:u,x:i,y:o}))}))},e}(bs),ij=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),S1=function(){return S1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},S1.apply(this,arguments)},E1=function(n){ij(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getShape=function(){var t=this.props.model,r=t.getNodeStyle();return Te("g",{children:Te(mg,S1({},r,{points:t.points,x:t.x,y:t.y}))})},e}(bs),oj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),M1=function(){return M1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},M1.apply(this,arguments)},O1=function(n){oj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getShape=function(){var t=this.props.model,r=t.getNodeStyle();return Te(oI,M1({},r,{x:t.x,y:t.y,rx:t.rx,ry:t.ry}))},e}(bs),sj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),w0=function(){return w0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},w0.apply(this,arguments)},S4=function(n){sj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getBackground=function(){var t=this.props.model,r=t.getTextStyle(),i=t.width,o=t.height,a=t.x,l=t.y,u=w0(w0({},r.background),{x:a,y:l,width:i,height:o});return Te(_i,w0({},u))},e.prototype.getResizeControl=function(){return null},e.prototype.getShape=function(){return Te("g",{children:this.getBackground()})},e}(bs),aj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),A1=function(){return A1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},A1.apply(this,arguments)},lj=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},uj=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},W0=function(n){aj(e,n);function e(){var t=n.apply(this,uj([],lj(arguments),!1))||this;return t.ref=Xd(),t}return Object.defineProperty(e.prototype,"rootEl",{get:function(){return this.ref.current},enumerable:!1,configurable:!0}),e.prototype.setHtml=function(t){t.appendChild(document.createElement("div"))},e.prototype.confirmUpdate=function(t){this.setHtml(t)},e.prototype.shouldUpdate=function(){return this.preProperties&&this.preProperties===this.currentProperties?!1:(this.preProperties=this.currentProperties,!0)},e.prototype.componentDidMount=function(){this.shouldUpdate()&&this.rootEl&&this.setHtml(this.rootEl)},e.prototype.componentDidUpdate=function(){this.shouldUpdate()&&this.rootEl&&this.confirmUpdate(this.rootEl)},e.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this),this.rootEl.innerHTML=""},e.prototype.getShape=function(){var t=this.props.model,r=t.x,i=t.y,o=t.height,a=t.width,l=t.getNodeStyle();return this.currentProperties=JSON.stringify(t.properties),Te("foreignObject",A1({},l,{x:r-a/2,y:i-o/2,width:a,height:o,ref:this.ref}))},e}(bs),dj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ji=function(){return ji=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ji.apply(this,arguments)},cj=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},fj=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},ho;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(ho||(ho={}));var E4=function(n){dj(e,n);function e(t){var r=n.call(this)||this;r.handleMouseDown=function(u){r.stepDrag&&r.stepDrag.handleMouseDown(u)},r.onDragStart=function(){var u=r.props,c=u.x,f=u.y,v=u.edgeModel,m=v.startPoint,y=v.endPoint,_=v.pointsList;r.oldEdge={startPoint:m,endPoint:y,pointsList:_},r.setState({endX:c,endY:f,dragging:!0})},r.onDragging=function(u){var c=u.deltaX,f=u.deltaY,v=r.state,m=v.endX,y=v.endY,_=r.props,b=_.graphModel,w=_.type,x=b.transformModel,k=b.editConfigModel,N=fj(x.moveCanvasPointByHtml([m,y],c,f),2),D=N[0],V=N[1];r.setState({endX:D,endY:V,dragging:!0});var U=r.props.edgeModel,B=Uu({x:m,y},b);if(B&&B.node&&r.isAllowAdjust(B).pass){var G=U.startPoint,Q=U.endPoint,ae=U.sourceNode,q=U.targetNode,ue=w===ho.SOURCE?{startPoint:{x:B.anchor.x,y:B.anchor.y},endPoint:{x:Q.x,y:Q.y},sourceNode:B.node,targetNode:q}:{startPoint:{x:G.x,y:G.y},endPoint:{x:B.anchor.x,y:B.anchor.y},sourceNode:ae,targetNode:B.node};U.updateAfterAdjustStartAndEnd(ue)}else w===ho.SOURCE?U.updateStartPoint({x:D,y:V}):U.updateEndPoint({x:D,y:V});U.text.value&&k.adjustEdge&&U.setText(Object.assign({},U.text,U.textPosition))},r.onDragEnd=function(u){var c,f,v,m=u.event;try{r.setState({dragging:!1});var y=r.props,_=y.graphModel,b=y.edgeModel,w=y.type,x=r.state,k=x.endX,N=x.endY,D=x.dragging,V=Uu({x:k,y:N},_);if(!D)return;var U=!1,B=void 0;if(V&&V.node){var G=r.isAllowAdjust(V),Q=G.pass,ae=G.msg,q=G.newTargetNode;if(Q){var ue=b.getData(),T=ue.text,R=ue.sourceAnchorId,A=R===void 0?"":R,se=ue.targetAnchorId,re=se===void 0?"":se,de=cj(ue,["text","sourceAnchorId","targetAnchorId"]);if(B=ji(ji({sourceAnchorId:A,targetAnchorId:re},de),{text:(T==null?void 0:T.value)||""}),w===ho.SOURCE){var le=_.getNodeModelById(V.node.id),Ae=_.getNodeModelById(b.targetNodeId),pe=(c=_.edgeGenerator)===null||c===void 0?void 0:c.call(_,le==null?void 0:le.getData(),Ae==null?void 0:Ae.getData(),B);B=ji(ji({},pe),{sourceNodeId:V.node.id,sourceAnchorId:V.anchor.id,startPoint:{x:V.anchor.x,y:V.anchor.y},targetNodeId:b.targetNodeId,endPoint:ji({},b.endPoint)}),b.sourceNodeId===V.node.id&&b.sourceAnchorId===V.anchor.id&&(U=!0)}else if(w===ho.TARGET){var le=_.getNodeModelById(b.sourceNodeId),Ae=_.getNodeModelById(V.node.id),pe=(f=_.edgeGenerator)===null||f===void 0?void 0:f.call(_,le==null?void 0:le.getData(),Ae==null?void 0:Ae.getData(),B);B=ji(ji({},pe),{sourceNodeId:b.sourceNodeId,startPoint:ji({},b.startPoint),targetNodeId:V.node.id,targetAnchorId:V.anchor.id,endPoint:{x:V.anchor.x,y:V.anchor.y}}),b.targetNodeId===V.node.id&&b.targetAnchorId===V.anchor.id&&(U=!0)}}else{U=!0;var Ne=q.getData();_.eventCenter.emit(mt.CONNECTION_NOT_ALLOWED,{data:Ne,msg:ae})}}else U=!0;if(U)r.recoveryEdge();else{var Ve=b.getData();_.deleteEdgeById(b.id);var Ie=_.addEdge(ji({},B));_.eventCenter.emit(mt.EDGE_EXCHANGE_NODE,{data:{newEdge:Ie.getData(),oldEdge:Ve}})}(v=r.preTargetNode)===null||v===void 0||v.setElementState(tn.DEFAULT)}finally{var _=r.props.graphModel;_.eventCenter.emit(mt.ADJUST_POINT_DRAGEND,{e:m,data:r.stepDragData})}},r.recoveryEdge=function(){var u=r.props.edgeModel,c=r.oldEdge,f=c.startPoint,v=c.endPoint,m=c.pointsList;u.updateStartPoint(f),u.updateEndPoint(v),u.modelType!==$t.LINE_EDGE&&(u.pointsList=m??[],u.initPoints())},r.getAdjustPointStyle=function(){var u=r.props.graphModel.theme,c=u.edgeAdjust;return c},r.state={dragging:!1,endX:0,endY:0},r.targetRuleResults=new Map,r.sourceRuleResults=new Map;var i=t.type,o=t.edgeModel,a=t.graphModel,l=a.eventCenter;return r.stepDragData={type:i,edgeData:o.getData()},r.stepDrag=new Ti({onDragStart:r.onDragStart,onDragging:r.onDragging,onDragEnd:r.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:l,data:r.stepDragData}),r}return e.prototype.isAllowAdjust=function(t){var r=this.props,i=r.edgeModel,o=i.id,a=i.sourceNode,l=i.targetNode,u=i.sourceAnchorId,c=i.targetAnchorId,f=r.type,v,m,y,_;if(f===ho.SOURCE?(v=t.node,m=l,y=t.anchor,_=l.getAnchorInfo(c)):(v=a,m=t.node,_=t.anchor,y=a.getAnchorInfo(u)),this.preTargetNode&&this.preTargetNode!==t.node&&this.preTargetNode.setElementState(tn.DEFAULT),this.preTargetNode=t.node,_.id===y.id)return{pass:!1,msg:"",newTargetNode:m};var b="".concat(v.id,"_").concat(m.id,"_").concat(y.id,"_").concat(_.id);if(!this.targetRuleResults.has(b)){var w=v.isAllowConnectedAsSource(m,y,_,o),x=m.isAllowConnectedAsTarget(v,y,_,o);this.sourceRuleResults.set(b,Gu(w)),this.targetRuleResults.set(b,Gu(x))}var k=this.sourceRuleResults.get(b),N=k.isAllPass,D=k.msg,V=this.targetRuleResults.get(b),U=V.isAllPass,B=V.msg,G=N&&U?tn.ALLOW_CONNECT:tn.NOT_ALLOW_CONNECT;return f===ho.SOURCE?v.setElementState(G):m.setElementState(G),{pass:N&&U,msg:B||D,newTargetNode:m}},e.prototype.render=function(){var t=this.props,r=t.x,i=t.y,o=t.getAdjustPointShape,a=t.edgeModel,l=this.state.dragging;return Te("g",{pointerEvents:l?"none":"",onMouseDown:this.handleMouseDown,children:l?"":o(r,i,a)})},e}(Zt),hj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),L1=function(){return L1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},L1.apply(this,arguments)};(function(n){hj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getArrowAttributes=function(){var t=this.props,r=t.arrowInfo,i=t.style,o=r.start,a=r.end,l={start:o,end:a,offset:i.offset,verticalLength:i.verticalLength,type:"end"},u=D0(l),c=u.leftX,f=u.leftY,v=u.rightX,m=u.rightY;return L1({d:"M".concat(c," ").concat(f," L").concat(a.x," ").concat(a.y," L").concat(v," ").concat(m," z")},i)},e.prototype.getShape=function(){var t=this.getArrowAttributes(),r=t.d,i=t.strokeWidth,o=t.stroke,a=t.fill;return Te(H0,{d:r,fill:a,strokeWidth:i,stroke:o})},e.prototype.render=function(){return Te("g",{className:"lf-arrow",children:this.getShape()})},e})(Zt);var pj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),x0=function(){return x0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},x0.apply(this,arguments)},vj=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},tc=function(n){pj(e,n);function e(){var t=n.call(this)||this;return t.textRef=Xd(),t.handleHover=function(r,i){var o=t.props,a=o.model,l=o.graphModel.eventCenter;a.setHovered(r);var u=r?mt.EDGE_MOUSEENTER:mt.EDGE_MOUSELEAVE,c=a.getData();l.emit(u,{data:c,e:i})},t.setHoverOn=function(r){var i=t.props.model.isHovered;i||(t.textRef&&t.textRef.current&&t.textRef.current.setHoverOn(),t.handleHover(!0,r))},t.setHoverOff=function(r){var i=t.props.model.isHovered;i&&(t.textRef&&t.textRef.current&&t.textRef.current.setHoverOff(),t.handleHover(!1,r))},t.handleContextMenu=function(r){r.preventDefault(),t.contextMenuTime=new Date().getTime(),t.clickTimer&&clearTimeout(t.clickTimer);var i=t.props,o=i.model,a=i.graphModel,l=a.editConfigModel,u=a.getPointByClient({x:r.clientX,y:r.clientY});a.setElementStateById(o.id,tn.SHOW_MENU,u.domOverlayPosition),l.isSilentMode||t.toFront(),o.isSelected||a.selectEdgeById(o.id);var c=o==null?void 0:o.getData();a.eventCenter.emit(mt.EDGE_CONTEXTMENU,{data:c,e:r,position:u})},t.handleMouseDown=function(r){r.stopPropagation(),t.startTime=new Date().getTime()},t.handleMouseUp=function(){var r=t.props.model;t.mouseUpDrag=r.isDragging},t.handleClick=function(r){if(t.startTime&&!t.mouseUpDrag){var i=r.button===2;if(!i){var o=r.detail===2,a=t.props,l=a.model,u=a.graphModel,c=l==null?void 0:l.getData(),f=u.getPointByClient({x:r.clientX,y:r.clientY});if(o){var v=u.editConfigModel,m=u.textEditElement,y=l.id,_=l.text,b=l.modelType;if(m&&m.id===y&&u.setElementStateById(y,tn.DEFAULT),v.edgeTextEdit&&_.editable&&(l.setSelected(!1),u.setElementStateById(y,tn.TEXT_EDIT)),b===$t.POLYLINE_EDGE){var w=l,x=u.getPointByClient({x:r.x,y:r.y}).canvasOverlayPosition,k=x.x,N=x.y;w.dbClickPosition=l_({x:k,y:N},w.points)}u.eventCenter.emit(mt.EDGE_DBCLICK,{data:c,e:r,position:f})}else u.eventCenter.emit(mt.ELEMENT_CLICK,{data:c,e:r,position:f}),u.eventCenter.emit(mt.EDGE_CLICK,{data:c,e:r,position:f});var D=u.editConfigModel;u.selectEdgeById(l.id,u_(r,D)),D.isSilentMode||t.toFront()}}},t.handleFocus=function(){var r=t.props,i=r.model,o=r.graphModel;o.eventCenter.emit(mt.EDGE_FOCUS,{data:i.getData()})},t.handleBlur=function(){var r=t.props,i=r.model,o=r.graphModel;o.eventCenter.emit(mt.EDGE_BLUR,{data:i.getData()})},t}return e.prototype.getShape=function(){return Te("g",{children:this.getEdge()})},e.prototype.getTextStyle=function(){},e.prototype.getText=function(){var t,r=this.props,i=r.model,o=r.graphModel,a=o.editConfigModel;if(a.edgeTextMode!==Ci.TEXT||i.state===tn.TEXT_EDIT)return null;if(i.text){var l=!1;return a.edgeTextDraggable&&i.text.draggable&&(l=!0),Te(JB,{ref:this.textRef,editable:a.edgeTextEdit&&((t=i.text.editable)!==null&&t!==void 0?t:!0),model:i,graphModel:o,draggable:l})}return null},e.prototype.getArrowInfo=function(){var t=this.props.model,r=t.startPoint,i=t.endPoint,o=t.isSelected,a=this.state.hover;return{start:r,end:i,hover:a,isSelected:o}},e.prototype.getLastTwoPoints=function(){var t=this.props.model,r=t.startPoint,i=t.endPoint;return[r,i]},e.prototype.getArrowStyle=function(){return console.error("getArrowStyle is deprecated in 1.2.0, please use model.getArrowStyle"),null},e.prototype.getArrow=function(){var t=this.props.model,r=t.id,i=t.getArrowStyle(),o=i.refY,a=o===void 0?0:o,l=i.refX,u=l===void 0?2:l,c=vj(this.getLastTwoPoints(),2),f=c[0],v=c[1],m="auto";return f!==null&&v!==null&&(m=AI(OI({x:v.x-f.x,y:v.y-f.y}))),Te("g",{children:Te("defs",{children:[Te("marker",{id:"marker-start-".concat(r),refX:-u,refY:a,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse",children:this.getStartArrow()}),Te("marker",{id:"marker-end-".concat(r),refX:u,refY:a,overflow:"visible",orient:m,markerUnits:"userSpaceOnUse",children:this.getEndArrow()})]})})},e.prototype.getArrowPath=function(t,r){var i=r.stroke,o=r.fill,a=o===void 0?i:o,l=r.strokeWidth,u=r.offset,c=u===void 0?10:u,f=r.verticalLength,v=r.strokeLinecap,m=r.strokeLinejoin,y=r.transform,_="";switch(t){case"solid":_="M".concat(-c/4,",0 L").concat(3*c/4,",").concat(f," L").concat(3*c/4,",-").concat(f," Z");break;case"hollow":_="M".concat(-c/4,",0 L").concat(3*c/4,",").concat(f," L").concat(-c/4,",0 L").concat(3*c/4,",-").concat(f," L").concat(-c/4,",0 Z");break;case"diamond":_="M".concat(-c/2,",0 L0,").concat(f," L").concat(c/2,",0 L0,-").concat(f," L").concat(-c/2,",0 Z");break;case"circle":_="M".concat(-c/2,",0 A").concat(c/4,",").concat(c/4," 0 1,0 ").concat(c/2,",0 A").concat(c/4,",").concat(c/4," 0 1,0 ").concat(-c/2,",0 Z");break;default:_="";break}return Te("path",{d:_,stroke:i,fill:a,strokeWidth:l,strokeLinecap:v,strokeLinejoin:m,transform:y})},e.prototype.getStartArrow=function(){var t=this.props.model,r=t.getArrowStyle(),i=r.stroke,o=r.strokeWidth,a=r.offset,l=r.verticalLength,u=r.startArrowType,c=u===void 0?"none":u,f=r.strokeLinecap,v=r.strokeLinejoin;return this.getArrowPath(c,{stroke:i,strokeWidth:o,offset:a,verticalLength:l,strokeLinecap:f,strokeLinejoin:v})},e.prototype.getEndArrow=function(){var t=this.props.model,r=t.getArrowStyle(),i=r.stroke,o=r.strokeWidth,a=r.offset,l=r.verticalLength,u=r.endArrowType,c=u===void 0?"solid":u,f=r.strokeLinecap,v=r.strokeLinejoin;return this.getArrowPath(c,{stroke:i,strokeWidth:o,offset:a,verticalLength:l,strokeLinecap:f,strokeLinejoin:v,transform:"rotate(180)"})},e.prototype.getAdjustPointShape=function(t,r,i){var o=i.getAdjustPointStyle();return Te(sl,x0({className:"lf-edge-adjust-point"},o,{x:t,y:r}))},e.prototype.getAdjustPoints=function(){var t=this.props,r=t.model,i=t.graphModel,o=i.editConfigModel,a=o.adjustEdgeStartAndEnd,l=o.adjustEdgeStart,u=o.adjustEdgeEnd,c=r.getAdjustStart(),f=r.getAdjustEnd();return Te("g",{children:[a&&l&&Te(E4,x0({type:ho.SOURCE},c,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:r,graphModel:i})),a&&u&&Te(E4,x0({type:ho.TARGET},f,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:r,graphModel:i}))]})},e.prototype.getAnimation=function(){console.error("getAnimation is deprecated in 1.2.0, please use model.getEdgeAnimationStyle")},e.prototype.getAppendWidth=function(){return Te("g",{})},e.prototype.getAppend=function(){return Te("g",{className:"lf-edge-append",children:this.getAppendWidth()})},e.prototype.getEdge=function(){return null},e.prototype.toFront=function(){var t=this.props,r=t.graphModel,i=t.model;r.toFront(i.id)},e.prototype.render=function(){var t=this.props.model,r=t.isSelected,i=t.isHitable,o=t.isShowAdjustPoint;return Te("g",{children:[Te("g",{className:["lf-edge",!i&&"pointer-none",r&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverOn,onMouseEnter:this.setHoverOn,onMouseLeave:this.setHoverOff,onFocus:this.handleFocus,onBlur:this.handleBlur,children:[this.getShape(),this.getAppend(),this.getText(),this.getArrow()]}),o&&r?this.getAdjustPoints():""]})},e.isObserved=!1,e}(Zt),gj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),T1=function(){return T1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},T1.apply(this,arguments)},mj=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},M4=function(n){gj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEdge=function(){var t=this.props.model,r=t.getEdgeStyle(),i=t,o=i.path,a=i.isAnimation,l=i.arrowConfig,u=t.getEdgeAnimationStyle(),c=u.strokeDasharray,f=u.stroke,v=u.strokeDashoffset,m=u.animationName,y=u.animationDuration,_=u.animationIterationCount,b=u.animationTimingFunction,w=u.animationDirection;return Te(H0,T1({d:o},r,l,a?{strokeDasharray:c,stroke:f,style:{strokeDashoffset:v,animationName:m,animationDuration:y,animationIterationCount:_,animationTimingFunction:b,animationDirection:w}}:{}))},e.prototype.getAppendWidth=function(){var t=this.props.model.path;return Te(H0,{d:t,strokeWidth:10,stroke:"transparent",fill:"none"})},e.prototype.getArrowInfo=function(){var t=this.props.model,r=this.state.hover,i=t.isSelected,o=t.getArrowStyle().offset,a=t.pointsList.map(function(v){return{x:v.x,y:v.y}}),l=mj(o4(a,o),2),u=l[0],c=l[1],f={start:u,end:c,hover:r,isSelected:i};return f},e.prototype.getLastTwoPoints=function(){var t=this.props.model,r=t.getArrowStyle().offset,i=t.pointsList.map(function(o){return{x:o.x,y:o.y}});return o4(i,r)},e}(tc),yj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),N1=function(){return N1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},N1.apply(this,arguments)},O4=function(n){yj(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEdge=function(){var t=this.props.model,r=t.startPoint,i=t.endPoint,o=t.isAnimation,a=t.arrowConfig,l=t.getEdgeStyle(),u=t.getEdgeAnimationStyle(),c=u.strokeDasharray,f=u.stroke,v=u.strokeDashoffset,m=u.animationName,y=u.animationDuration,_=u.animationIterationCount,b=u.animationTimingFunction,w=u.animationDirection;return Te(ol,N1({},l,{x1:r.x,y1:r.y,x2:i.x,y2:i.y},a,o?{strokeDasharray:c,stroke:f,style:{strokeDashoffset:v,animationName:m,animationDuration:y,animationIterationCount:_,animationTimingFunction:b,animationDirection:w}}:{}))},e.prototype.getAppendWidth=function(){var t=this.props.model,r=t.startPoint,i=t.endPoint,o={start:r,end:i},a=PH(o),l=a.d,u=a.strokeWidth,c=a.fill,f=a.strokeDasharray,v=a.stroke;return Te(H0,{d:l,fill:c,strokeWidth:u,stroke:v,strokeDasharray:f})},e}(tc),_j=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Fs=function(){return Fs=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Fs.apply(this,arguments)},bj=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},ul=function(n){_j(e,n);function e(){var t=n.call(this)||this;return t.onDragStart=function(){var r=t.props.model;r.dragAppendStart(),t.isShowAdjustPointTemp=r.isShowAdjustPoint,r.isShowAdjustPoint=!1},t.onDragging=function(r){var i=r.deltaX,o=r.deltaY,a=t.props,l=a.model,u=a.graphModel;t.isDragging=!0;var c=u.transformModel,f=u.editConfigModel,v=bj(c.fixDeltaXY(i,o),2),m=v[0],y=v[1],_=l,b=f.adjustEdgeMiddle;b?t.appendInfo=_.dragAppendSimple(t.appendInfo,{x:m,y}):t.appendInfo=_.dragAppend(t.appendInfo,{x:m,y})},t.onDragEnd=function(){var r,i=t.props,o=i.model,a=i.graphModel.eventCenter,l=o;l.dragAppendEnd(),t.isDragging=!1,l.isShowAdjustPoint=(r=t.isShowAdjustPointTemp)!==null&&r!==void 0?r:!1,t.appendInfo=void 0,a.emit(mt.EDGE_ADJUST,{data:l.getData()})},t.beforeDragStart=function(r,i){i.draggable&&t.drag.handleMouseDown(r),t.appendInfo=i},t.drag=new Ti({onDragStart:t.onDragStart,onDragging:t.onDragging,onDragEnd:t.onDragEnd,isStopPropagation:!1}),t}return e.prototype.getEdge=function(){var t=this.props.model,r=t.points,i=t.isAnimation,o=t.arrowConfig,a=t.getEdgeStyle(),l=t.getEdgeAnimationStyle(),u=l.strokeDasharray,c=l.stroke,f=l.strokeDashoffset,v=l.animationName,m=l.animationDuration,y=l.animationIterationCount,_=l.animationTimingFunction,b=l.animationDirection;return Te(uI,Fs({points:r},a,o,i?{strokeDasharray:u,stroke:c,style:{strokeDashoffset:f,animationName:v,animationDuration:m,animationIterationCount:y,animationTimingFunction:_,animationDirection:b}}:{}))},e.prototype.getArrowInfo=function(){var t=this.props.model,r=t.points,i=t.isSelected,o=this.state.hover,a=Ks(r),l=a[0],u=a[0];return a.length>=2&&(l=a[a.length-2],u=a[a.length-1]),{start:l,end:u,hover:o,isSelected:i}},e.prototype.getLastTwoPoints=function(){var t=this.props.model,r=t.points,i=Ks(r),o=i[0],a=i[0];return i.length>=2&&(o=i[i.length-2],a=i[i.length-1]),[o,a]},e.prototype.getAppendAttributes=function(t){var r=t.start,i=t.end,o;if(r.x===i.x&&r.y===i.y)o="";else{var a={start:r,end:i,offset:10,verticalLength:5},l=D0(Fs(Fs({},a),{type:"start"})),u=D0(Fs(Fs({},a),{type:"end"}));o="M".concat(l.leftX," ").concat(l.leftY,`
      L`).concat(l.rightX," ").concat(l.rightY,`
      L`).concat(u.rightX," ").concat(u.rightY,`
      L`).concat(u.leftX," ").concat(u.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},e.prototype.getAppendShape=function(t){var r=this.getAppendAttributes(t),i=r.d,o=r.strokeWidth,a=r.fill,l=r.strokeDasharray,u=r.stroke;return Te(H0,{d:i,fill:a,strokeWidth:o,stroke:u,strokeDasharray:l})},e.prototype.getAppendWidth=function(){for(var t=this,r=this.props,i=r.model,o=r.graphModel,a=i.pointsList,l=i.draggable,u=[],c=a.length,f=function(y){var _="lf-polyline-append",b={start:{x:a[y].x,y:a[y].y},end:{x:a[y+1].x,y:a[y+1].y},startIndex:y,endIndex:y+1,direction:On.HORIZONTAL,draggable:!0},w=Te("g",{className:_,children:v.getAppendShape(b)}),x=o.editConfigModel,k=x.adjustEdge,N=x.adjustEdgeMiddle;if(k&&l){var D=b.startIndex,V=b.endIndex,U=N&&(D===0||V===c-1);b.draggable=!U,b.start.x===b.end.x?(b.draggable&&(_+="-ew-resize"),b.direction=On.VERTICAL):b.start.y===b.end.y&&(b.draggable&&(_+="-ns-resize"),b.direction=On.HORIZONTAL),w=Te("g",{className:v.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(B){return t.beforeDragStart(B,b)},children:Te("g",{className:_,children:v.getAppendShape(b)})})}u.push(w)},v=this,m=0;m<c-1;m++)f(m);return Te("g",{children:u})},e}(tc),za=function(){return za=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},za.apply(this,arguments)},Cj=function(){function n(e){var t=this;this.nodeConfig=null,this.fakeNode=null,this.stopDrag=function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)},this.dragEnter=function(i){!t.nodeConfig||t.fakeNode||(t.fakeNode=t.lf.createFakeNode(za(za({},t.nodeConfig),t.clientToLocalPoint({x:i.clientX,y:i.clientY}))))},this.onDragOver=function(i){if(i.preventDefault(),t.fakeNode){var o=t.clientToLocalPoint({x:i.clientX,y:i.clientY}),a=o.x,l=o.y;t.fakeNode.moveTo(a,l);var u=t.fakeNode.getData();t.lf.setNodeSnapLine(u),t.lf.graphModel.eventCenter.emit(mt.NODE_DND_DRAG,{data:u,e:i})}return!1},this.onDragLeave=function(){t.fakeNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakeNode(),t.fakeNode=null)},this.onDrop=function(i){!t.lf.graphModel||!i||!t.nodeConfig||(t.lf.addNode(za(za({},t.nodeConfig),t.clientToLocalPoint({x:i.clientX,y:i.clientY})),mt.NODE_DND_ADD,i),i.preventDefault(),i.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakeNode(),t.fakeNode=null)};var r=e.lf;this.lf=r}return n.prototype.clientToLocalPoint=function(e){var t=e.x,r=e.y,i=ia(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:t,y:r}),a=o.canvasOverlayPosition,l=a.x,u=a.y,c=this.lf.graphModel.editConfigModel.snapGrid;return{x:il(l,i,c),y:il(u,i,c)}},n.prototype.startDrag=function(e){var t=this.lf.graphModel.editConfigModel;t!=null&&t.isSilentMode||(this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag))},n.prototype.eventMap=function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}},n}();function wj(n,e){n.on("node:mousemove",function(t){var r=t.data;e.setNodeSnapLine(r)}),n.on("node:mouseup",function(){e.clearSnapline()})}var xj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Do=function(){return Do=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Do.apply(this,arguments)},kj=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Sj=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Ej=function(n){xj(e,n);function e(t){var r=n.call(this,t)||this;return r.ref=Xd(),r.__prevText={type:"",text:"",id:""},r.keyupHandler=function(i){var o=r.props.graphModel.textEditElement;i.key==="Enter"&&i.altKey&&(o==null||o.setElementState(tn.DEFAULT))},r.inputHandler=function(i){var o=i.target.innerText,a=r.props.graphModel.textEditElement;a&&(r.__prevText={type:a.type,text:o.replace(/(\r\n)+$|(\n)+$/,""),id:a.id})},r.keydownHandler=function(i){i.stopPropagation()},r.state={style:{left:0,top:0}},r}return e.getDerivedStateFromProps=function(t){var r,i=t.textEditElement,o=t.graphModel,a=o.transformModel,l=o.theme,u=l.inputText,c;if(i){if(!(!((r=i.text)===null||r===void 0)&&r.value)&&i.BaseType===Dn.EDGE){var f=i.text,v=i.textPosition,m=v.x,y=v.y;f.x=m,f.y=y,i.setText(f)}var _={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===Dn.EDGE){var b=l.edgeText,w=b.overflowMode,x=b.lineHeight,k=b.wrapPadding,N=b.textWidth;N&&w==="autoWrap"&&(c=Do(Do({},_),{width:N,minWidth:N,lineHeight:x,padding:k}))}else if(i.BaseType===Dn.NODE){var D=l.nodeText,w=D.overflowMode,x=D.lineHeight,k=D.wrapPadding,N=D.textWidth,V=i.width,U=i.modelType,B=i.textWidth,G=B||N||V;(U!==$t.TEXT_NODE&&w==="autoWrap"||U===$t.TEXT_NODE&&N)&&(c=Do(Do({},_),{width:G,minWidth:G,lineHeight:x,padding:k}))}var Q=i.text,ae=Q.x,q=Q.y,ue=Sj(a.CanvasPointToHtmlPoint([ae,q]),2),T=ue[0],R=ue[1];return{style:Do(Do({left:T,top:R},c),u)}}return null},e.prototype.componentDidUpdate=function(){var t=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var r=this.__prevText,i=r.text,o=r.id;t.updateText(o,i),t.eventCenter.emit(mt.TEXT_UPDATE,{data:Do({},this.__prevText)}),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}},e.prototype.placeCaretAtEnd=function(t){if(window.getSelection!==void 0&&document.createRange!==void 0){var r=document.createRange();r.selectNodeContents(t),r.collapse(!1);var i=window.getSelection();i==null||i.removeAllRanges(),i==null||i.addRange(r)}},e.prototype.render=function(){var t,r=this.props.graphModel.textEditElement,i=this.state.style;return r?Te("div",{contentEditable:!0,className:"lf-text-input",style:i,ref:this.ref,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler,children:(t=r.text)===null||t===void 0?void 0:t.value},r.id):null},e.toolName="text-edit-tool",e=kj([Br],e),e}(Zt),Mj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Oj=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},vf=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Aj=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},Lj=function(n){Mj(e,n);function e(t){var r=n.call(this,t)||this;r.handleMouseDown=function(l){r.stepDrag.handleMouseDown(l)},r.handleWheelEvent=function(l){var u,c;l.preventDefault();var f=l.deltaX,v=l.deltaY,m=l.clientX,y=l.clientY,_=l.ctrlKey,b=new WheelEvent("wheel",{deltaX:f,deltaY:v,clientX:m,clientY:y,ctrlKey:_});(c=(u=r.props.lf.container)===null||u===void 0?void 0:u.querySelector('.lf-canvas-overlay[name="canvas-overlay"]'))===null||c===void 0||c.dispatchEvent(b)},r.onDragging=function(l){var u=l.deltaX,c=l.deltaY,f=r.props,v=f.graphModel,m=f.lf,y=m.getTransform(),_=y.SCALE_X,b=y.SCALE_Y,w=v.getSelectElements(!0);v.moveNodes(w.nodes.map(function(x){return x.id}),u/_,c/b)},r.handleContextMenu=function(l){l.preventDefault();var u=r.props,c=u.graphModel,f=u.graphModel,v=f.eventCenter,m=f.selectElements,y=c.getPointByClient({x:l.clientX,y:l.clientY}),_={nodes:[],edges:[]},b=Aj([],vf(m.values()),!1);b.forEach(function(w){w.BaseType===Dn.NODE&&_.nodes.push(w.getData()),w.BaseType===Dn.EDGE&&_.edges.push(w.getData())}),v.emit(mt.SELECTION_CONTEXTMENU,{data:_,e:l,position:y})};var i=t.graphModel,o=i.gridSize,a=i.eventCenter;return r.stepDrag=new Ti({onDragging:r.onDragging,step:o,eventType:"SELECTION",eventCenter:a}),r}return e.prototype.render=function(){var t,r,i=this.props.graphModel,o=i.selectElements,a=i.transformModel,l=this.props.lf.getTransform(),u=l.SCALE_X,c=l.SCALE_Y;if(!(o.size<=1)){var f=Number.MAX_SAFE_INTEGER,v=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER;o.forEach(function(b){var w;b.BaseType===Dn.NODE&&(w=mH(b)),b.BaseType===Dn.EDGE&&(w=CH(b)),w!==void 0&&(f=Math.min(f,w.x),v=Math.min(v,w.y),m=Math.max(m,w.x1),y=Math.max(y,w.y1))}),t=vf(a.CanvasPointToHtmlPoint([f,v]),2),f=t[0],v=t[1],r=vf(a.CanvasPointToHtmlPoint([m,y]),2),m=r[0],y=r[1];var _={left:"".concat(f-20*u/2,"px"),top:"".concat(v-20*c/2,"px"),width:"".concat(m-f+20*u,"px"),height:"".concat(y-v+20*c,"px"),"border-width":"".concat(2*u,"px")};return Te("div",{className:"lf-multiple-select",style:_,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,onWheel:this.handleWheelEvent})}},e.toolName="multiple-select-tool",e=Oj([Br],e),e}(Zt),gf=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Tj=[Ej,Lj],Nj=function(){function n(e){var t=this;this.toolMap=new Map,this.disabledToolMap=new Map,this.instance=e,cn(Tj,function(o){t.isDisabled(o.toolName)||t.registerTool(o.toolName,o)});var r=e.graphModel,i=r.eventCenter;i.on("".concat(mt.GRAPH_TRANSFORM,",").concat(mt.NODE_CLICK,",").concat(mt.BLANK_CLICK," "),function(){var o,a=r.textEditElement,l=r.editConfigModel,u=l.edgeTextEdit,c=l.nodeTextEdit;(u||c)&&a&&((o=r.textEditElement)===null||o===void 0||o.setElementState(tn.DEFAULT))})}return n.prototype.isDisabled=function(e){var t;return((t=this.instance.options.disabledTools)===null||t===void 0?void 0:t.indexOf(e))!==-1},n.prototype.registerTool=function(e,t){this.toolMap.set(e,t)},n.prototype.disableTool=function(e){var t=this.toolMap.get(e);if(t)return this.disabledToolMap.set(e,t),this.toolMap.delete(e),!0;throw new Error("禁用失败，不存在名为 ".concat(t," 的工具"))},n.prototype.enableTool=function(e){var t=this.disabledToolMap.get(e);if(t)return this.toolMap.set(e,t),this.disabledToolMap.delete(e),!0;throw new Error("不存在名为 ".concat(t," 的工具"))},n.prototype.getTools=function(){return Array.from(this.toolMap.values())},n.prototype.getInstance=function(){return this.instance},n.prototype.destroy=function(){this.toolMap.clear(),this.disabledToolMap.clear()},gf([De],n.prototype,"toolMap",void 0),gf([Le],n.prototype,"disableTool",null),gf([Le],n.prototype,"enableTool",null),n}();function Dj(n){throw new Error("[mobx-utils] "+n)}function td(n,e){e===void 0&&(e="Illegal state"),n||Dj(e)}var b_=function(n){return n&&n!==Object.prototype&&Object.getOwnPropertyNames(n).concat(b_(Object.getPrototypeOf(n))||[])},Pj=function(n){var e=b_(n),t=e.filter(function(r,i){return e.indexOf(r)===i});return t},Rj=function(n){return Pj(n).filter(function(e){return e!=="constructor"&&!~e.indexOf("__")})},C_="pending",nd="fulfilled",_g="rejected";function Hj(n){switch(this.state){case C_:return n.pending&&n.pending(this.value);case _g:return n.rejected&&n.rejected(this.value);case nd:return n.fulfilled?n.fulfilled(this.value):this.value}}function A4(n,e){if(td(arguments.length<=2,"fromPromise expects up to two arguments"),td(typeof n=="function"||typeof n=="object"&&n&&typeof n.then=="function","Please pass a promise or function to fromPromise"),n.isPromiseBasedObservable===!0)return n;typeof n=="function"&&(n=new Promise(n));var t=n;n.then(Le("observableFromPromise-resolve",function(i){t.value=i,t.state=nd}),Le("observableFromPromise-reject",function(i){t.value=i,t.state=_g})),t.isPromiseBasedObservable=!0,t.case=Hj;var r=e&&e.state===nd?e.value:void 0;return t1(t,{value:r,state:C_},{},{deep:!1}),t}(function(n){n.reject=Le("fromPromise.reject",function(t){var r=n(Promise.reject(t));return r.state=_g,r.value=t,r});function e(t){t===void 0&&(t=void 0);var r=n(Promise.resolve(t));return r.state=nd,r.value=t,r}n.resolve=Le("fromPromise.resolve",e)})(A4||(A4={}));var au=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o};(function(){function n(e,t){var r=this;fR(function(){r.current=t,r.subscription=e.subscribe(r)})}return n.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},n.prototype.next=function(e){this.current=e},n.prototype.complete=function(){this.dispose()},n.prototype.error=function(e){this.current=e,this.dispose()},au([De.ref],n.prototype,"current",void 0),au([Le.bound],n.prototype,"next",null),au([Le.bound],n.prototype,"complete",null),au([Le.bound],n.prototype,"error",null),n})();var rd=function(){return rd=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},rd.apply(this,arguments)},i0=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},Ij=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function n(e){var t=this;this.model=e,this.localValues=De.map({}),this.localComputedValues=De.map({}),this.isPropertyDirty=function(r){return t.localValues.has(r)},td(ro(e),"createViewModel expects an observable object"),Rj(e).forEach(function(r){if(!(r===Pt||r==="__mobxDidRunLazyInitializers")){if(td(Ij.indexOf(r)===-1,"The propertyname "+r+" is reserved and cannot be used with viewModels"),g9(e,r)){var i=Jd(e,r).derivation;t.localComputedValues.set(r,_n(i.bind(t)))}var o=Object.getOwnPropertyDescriptor(e,r),a=o?{enumerable:o.enumerable}:{};Object.defineProperty(t,r,rd(rd({},a),{configurable:!0,get:function(){return g9(e,r)?t.localComputedValues.get(r).get():t.isPropertyDirty(r)?t.localValues.get(r):t.model[r]},set:Le(function(l){l!==t.model[r]?t.localValues.set(r,l):t.localValues.delete(r)})}))}})}return Object.defineProperty(n.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),n.prototype.submit=function(){var e=this;rl(this.localValues).forEach(function(t){var r=e.localValues.get(t),i=e.model[t];So(i)?i.replace(r):ti(i)?(i.clear(),i.merge(r)):_R(r)||(e.model[t]=r)}),this.localValues.clear()},n.prototype.reset=function(){this.localValues.clear()},n.prototype.resetProperty=function(e){this.localValues.delete(e)},i0([_n],n.prototype,"isDirty",null),i0([_n],n.prototype,"changedValues",null),i0([Le.bound],n.prototype,"submit",null),i0([Le.bound],n.prototype,"reset",null),i0([Le.bound],n.prototype,"resetProperty",null),n})();function mf(n){if(!n)return"ROOT";for(var e=[];n.parent;)e.push(n.path),n=n.parent;return e.reverse().join("/")}function yf(n){return ro(n)||So(n)||ti(n)}function Bj(n,e){var t=new WeakMap;function r(l){var u=t.get(l.object);i(l,u),e(l,mf(u),n)}function i(l,u){switch(l.type){case"add":o(l.newValue,u,l.name);break;case"update":a(l.oldValue),o(l.newValue,u,l.name||""+l.index);break;case"remove":case"delete":a(l.oldValue);break;case"splice":l.removed.map(a),l.added.forEach(function(v,m){return o(v,u,""+(l.index+m))});for(var c=l.index+l.addedCount;c<l.object.length;c++)if(yf(l.object[c])){var f=t.get(l.object[c]);f&&(f.path=""+c)}break}}function o(l,u,c){if(yf(l)){var f=t.get(l);if(f){if(f.parent!==u||f.path!==c)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+mf(u)+"/"+c+"',")+(" but it already exists at '"+mf(f.parent)+"/"+f.path+"'"))}else{var v={parent:u,path:c,dispose:z7(l,r)};t.set(l,v),wR(l).forEach(function(m){var y=m[0],_=m[1];return o(_,v,y)})}}}function a(l){if(yf(l)){var u=t.get(l);if(!u)return;t.delete(l),u.dispose(),CR(l).forEach(a)}}return o(n,void 0,""),function(){a(n)}}var jj=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){jj(e,n);function e(t,r,i){var o=i===void 0?{}:i,a=o.name,l=a===void 0?"ogm"+(Math.random()*1e3|0):a,u=o.keyToName,c=u===void 0?function(m){return""+m}:u,f=n.call(this)||this;f._keyToName=c,f._groupBy=r,f._ogmInfoKey=Symbol("ogmInfo"+l),f._base=t;for(var v=0;v<t.length;v++)f._addItem(t[v]);return f._disposeBaseObserver=z7(f._base,function(m){if(m.type==="splice")$i(function(){for(var y=0,_=m.removed;y<_.length;y++){var b=_[y];f._removeItem(b)}for(var w=0,x=m.added;w<x.length;w++){var k=x[w];f._addItem(k)}});else if(m.type==="update")$i(function(){f._removeItem(m.oldValue),f._addItem(m.newValue)});else throw new Error("illegal state")}),f}return e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(t){throw new Error("not supported")},e.prototype.set=function(t,r){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var r=this._base[t],i=r[this._ogmInfoKey];i.reaction(),delete r[this._ogmInfoKey]}},e.prototype._getGroupArr=function(t){var r=n.prototype.get.call(this,t);return r===void 0&&(r=De([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),n.prototype.set.call(this,t,r)),r},e.prototype._removeFromGroupArr=function(t,r){var i=n.prototype.get.call(this,t);i.length===1?n.prototype.delete.call(this,t):(r===i.length-1||(i[r]=i[i.length-1],i[r][this._ogmInfoKey].groupArrIndex=r),i.length--)},e.prototype._addItem=function(t){var r=this,i=this._groupBy(t),o=this._getGroupArr(i),a={groupByValue:i,groupArrIndex:o.length,reaction:I7(function(){return r._groupBy(t)},function(l,u){var c=t[r._ogmInfoKey];r._removeFromGroupArr(c.groupByValue,c.groupArrIndex);var f=r._getGroupArr(l),v=f.length;f.push(t),c.groupByValue=l,c.groupArrIndex=v})};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:a}),o.push(t)},e.prototype._removeItem=function(t){var r=t[this._ogmInfoKey];this._removeFromGroupArr(r.groupByValue,r.groupArrIndex),r.reaction(),delete t[this._ogmInfoKey]},e})(fg);Promise.resolve(),typeof queueMicrotask<"u"||typeof process<"u"&&process.nextTick;var D1=function(){return D1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},D1.apply(this,arguments)},Fj=function(){function n(e){this.undos=[],this.redos=[],this.callbacks=[],this.stopWatch=null,this.curData=null,this.maxSize=50,this.waitTime=100,this.eventCenter=e}return n.prototype.add=function(e){Rf(xi(this.undos),e)||(this.undos.push(e),Rf(this.curData,e)||(this.redos=[]),this.eventCenter.emit(mt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undoAble(),redoAble:this.redoAble()}}),this.undos.length>this.maxSize&&this.undos.shift())},n.prototype.undoAble=function(){return this.undos.length>1},n.prototype.undo=function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var t=this.undos.pop();return this.curData=Ht(t),t}},n.prototype.redoAble=function(){return this.redos.length>0},n.prototype.redo=function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=Ht(e),e}},n.prototype.watch=function(e){var t=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=Bj(e,Sd(function(){var r=e.modelToHistoryData();r&&t.add(D1({},r))},this.waitTime))},n.prototype.destroy=function(){this.undos=[],this.redos=[],this.curData=null,this.stopWatch&&this.stopWatch()},n}(),_f={exports:{}},L4;function Vj(){return L4||(L4=1,function(n){(function(e,t,r){if(!e)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},u,c=1;c<20;++c)i[111+c]="f"+c;for(c=0;c<=9;++c)i[c+96]=c.toString();function f(B,G,Q){if(B.addEventListener){B.addEventListener(G,Q,!1);return}B.attachEvent("on"+G,Q)}function v(B){if(B.type=="keypress"){var G=String.fromCharCode(B.which);return B.shiftKey||(G=G.toLowerCase()),G}return i[B.which]?i[B.which]:o[B.which]?o[B.which]:String.fromCharCode(B.which).toLowerCase()}function m(B,G){return B.sort().join(",")===G.sort().join(",")}function y(B){var G=[];return B.shiftKey&&G.push("shift"),B.altKey&&G.push("alt"),B.ctrlKey&&G.push("ctrl"),B.metaKey&&G.push("meta"),G}function _(B){if(B.preventDefault){B.preventDefault();return}B.returnValue=!1}function b(B){if(B.stopPropagation){B.stopPropagation();return}B.cancelBubble=!0}function w(B){return B=="shift"||B=="ctrl"||B=="alt"||B=="meta"}function x(){if(!u){u={};for(var B in i)B>95&&B<112||i.hasOwnProperty(B)&&(u[i[B]]=B)}return u}function k(B,G,Q){return Q||(Q=x()[B]?"keydown":"keypress"),Q=="keypress"&&G.length&&(Q="keydown"),Q}function N(B){return B==="+"?["+"]:(B=B.replace(/\+{2}/g,"+plus"),B.split("+"))}function D(B,G){var Q,ae,q,ue=[];for(Q=N(B),q=0;q<Q.length;++q)ae=Q[q],l[ae]&&(ae=l[ae]),G&&G!="keypress"&&a[ae]&&(ae=a[ae],ue.push("shift")),w(ae)&&ue.push(ae);return G=k(ae,ue,G),{key:ae,modifiers:ue,action:G}}function V(B,G){return B===null||B===t?!1:B===G?!0:V(B.parentNode,G)}function U(B){var G=this;if(B=B||t,!(G instanceof U))return new U(B);G.target=B,G._callbacks={},G._directMap={};var Q={},ae,q=!1,ue=!1,T=!1;function R(pe){pe=pe||{};var Ne=!1,Ve;for(Ve in Q){if(pe[Ve]){Ne=!0;continue}Q[Ve]=0}Ne||(T=!1)}function A(pe,Ne,Ve,Ie,Oe,$){var he,ge,be=[],Be=Ve.type;if(!G._callbacks[pe])return[];for(Be=="keyup"&&w(pe)&&(Ne=[pe]),he=0;he<G._callbacks[pe].length;++he)if(ge=G._callbacks[pe][he],!(!Ie&&ge.seq&&Q[ge.seq]!=ge.level)&&Be==ge.action&&(Be=="keypress"&&!Ve.metaKey&&!Ve.ctrlKey||m(Ne,ge.modifiers))){var xe=!Ie&&ge.combo==Oe,Re=Ie&&ge.seq==Ie&&ge.level==$;(xe||Re)&&G._callbacks[pe].splice(he,1),be.push(ge)}return be}function se(pe,Ne,Ve,Ie){G.stopCallback(Ne,Ne.target||Ne.srcElement,Ve,Ie)||pe(Ne,Ve)===!1&&(_(Ne),b(Ne))}G._handleKey=function(pe,Ne,Ve){var Ie=A(pe,Ne,Ve),Oe,$={},he=0,ge=!1;for(Oe=0;Oe<Ie.length;++Oe)Ie[Oe].seq&&(he=Math.max(he,Ie[Oe].level));for(Oe=0;Oe<Ie.length;++Oe){if(Ie[Oe].seq){if(Ie[Oe].level!=he)continue;ge=!0,$[Ie[Oe].seq]=1,se(Ie[Oe].callback,Ve,Ie[Oe].combo,Ie[Oe].seq);continue}ge||se(Ie[Oe].callback,Ve,Ie[Oe].combo)}var be=Ve.type=="keypress"&&ue;Ve.type==T&&!w(pe)&&!be&&R($),ue=ge&&Ve.type=="keydown"};function re(pe){typeof pe.which!="number"&&(pe.which=pe.keyCode);var Ne=v(pe);if(Ne){if(pe.type=="keyup"&&q===Ne){q=!1;return}G.handleKey(Ne,y(pe),pe)}}function de(){clearTimeout(ae),ae=setTimeout(R,1e3)}function le(pe,Ne,Ve,Ie){Q[pe]=0;function Oe(Be){return function(){T=Be,++Q[pe],de()}}function $(Be){se(Ve,Be,pe),Ie!=="keyup"&&(q=v(Be)),setTimeout(R,10)}for(var he=0;he<Ne.length;++he){var ge=he+1===Ne.length,be=ge?$:Oe(Ie||D(Ne[he+1]).action);Ae(Ne[he],be,Ie,pe,he)}}function Ae(pe,Ne,Ve,Ie,Oe){G._directMap[pe+":"+Ve]=Ne,pe=pe.replace(/\s+/g," ");var $=pe.split(" "),he;if($.length>1){le(pe,$,Ne,Ve);return}he=D(pe,Ve),G._callbacks[he.key]=G._callbacks[he.key]||[],A(he.key,he.modifiers,{type:he.action},Ie,pe,Oe),G._callbacks[he.key][Ie?"unshift":"push"]({callback:Ne,modifiers:he.modifiers,action:he.action,seq:Ie,level:Oe,combo:pe})}G._bindMultiple=function(pe,Ne,Ve){for(var Ie=0;Ie<pe.length;++Ie)Ae(pe[Ie],Ne,Ve)},f(B,"keypress",re),f(B,"keydown",re),f(B,"keyup",re)}U.prototype.bind=function(B,G,Q){var ae=this;return B=B instanceof Array?B:[B],ae._bindMultiple.call(ae,B,G,Q),ae},U.prototype.unbind=function(B,G){var Q=this;return Q.bind.call(Q,B,function(){},G)},U.prototype.trigger=function(B,G){var Q=this;return Q._directMap[B+":"+G]&&Q._directMap[B+":"+G]({},B),Q},U.prototype.reset=function(){var B=this;return B._callbacks={},B._directMap={},B},U.prototype.stopCallback=function(B,G){var Q=this;if((" "+G.className+" ").indexOf(" mousetrap ")>-1||V(G,Q.target))return!1;if("composedPath"in B&&typeof B.composedPath=="function"){var ae=B.composedPath()[0];ae!==B.target&&(G=ae)}return G.tagName=="INPUT"||G.tagName=="SELECT"||G.tagName=="TEXTAREA"||G.isContentEditable},U.prototype.handleKey=function(){var B=this;return B._handleKey.apply(B,arguments)},U.addKeycodes=function(B){for(var G in B)B.hasOwnProperty(G)&&(i[G]=B[G]);u=null},U.init=function(){var B=U(t);for(var G in B)G.charAt(0)!=="_"&&(U[G]=function(Q){return function(){return B[Q].apply(B,arguments)}}(G))},U.init(),e.Mousetrap=U,n.exports&&(n.exports=U)})(typeof window<"u"?window:null,typeof window<"u"?document:null)}(_f)),_f.exports}var $j=Vj();const Wj=fl($j);var lo=null;function T4(n,e){return n.x+=e,n.y+=e,W1(n.text)||(n.text.x+=e,n.text.y+=e),n}function N4(n,e){return n.startPoint&&(n.startPoint.x+=e,n.startPoint.y+=e),n.endPoint&&(n.endPoint.x+=e,n.endPoint.y+=e),n.pointsList&&n.pointsList.length>0&&n.pointsList.forEach(function(t){t.x+=e,t.y+=e}),W1(n.text)||(n.text.x+=e,n.text.y+=e),n}var Ba=40,lu=40;function zj(n,e){var t=n.keyboard,r=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(lu=Ba,!(r!=null&&r.enabled)||e.textEditElement)return!0;var i=n.options.guards,o=e.getSelectElements(!1),a=i&&i.beforeClone?i.beforeClone(o):!0;return!a||o.nodes.length===0&&o.edges.length===0?(lo=null,!0):(lo=o,lo.nodes.forEach(function(l){return T4(l,Ba)}),lo.edges.forEach(function(l){return N4(l,Ba)}),!1)}),t.on(["cmd + v","ctrl + v"],function(){if(!(r!=null&&r.enabled)||e.textEditElement)return!0;if(lo&&(lo.nodes||lo.edges)){n.clearSelectElements();var i=n.addElements(lo,lu);if(!i)return!0;i.nodes.forEach(function(o){return n.selectElementById(o.id,!0)}),i.edges.forEach(function(o){return n.selectElementById(o.id,!0)}),lo.nodes.forEach(function(o){return T4(o,Ba)}),lo.edges.forEach(function(o){return N4(o,Ba)}),lu=lu+Ba}return!1}),t.on(["cmd + z","ctrl + z"],function(){return!(r!=null&&r.enabled)||e.textEditElement?!0:(n.undo(),!1)}),t.on(["cmd + y","ctrl + y"],function(){return!(r!=null&&r.enabled)||e.textEditElement?!0:(n.redo(),!1)}),t.on(["backspace"],function(){if(!(r!=null&&r.enabled)||e.textEditElement)return!0;var i=e.getSelectElements(!0);return n.clearSelectElements(),i.edges.forEach(function(o){return o.id&&n.deleteEdge(o.id)}),i.nodes.forEach(function(o){return o.id&&n.deleteNode(o.id)}),!1})}var Uj=function(){function n(e){e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var t=e.lf;this.target=t.container,this.mousetrap=new Wj(this.target),e.keyboard.enabled&&!t.options.isSilentMode&&this.enable(!0)}return n.prototype.initShortcuts=function(){var e=this,t,r=((t=this.options.keyboard)!==null&&t!==void 0?t:{}).shortcuts;if(r)if(hn(r))r.forEach(function(l){var u=l.keys,c=l.callback,f=l.action;return e.on(u,c,f)});else{var i=r.keys,o=r.callback,a=r.action;this.on(i,o,a)}},n.prototype.on=function(e,t,r){this.mousetrap.bind(this.getKeys(e),t,r)},Object.defineProperty(n.prototype,"disabled",{get:function(){var e,t;return((t=(e=this.options)===null||e===void 0?void 0:e.keyboard)===null||t===void 0?void 0:t.enabled)!==!0},enumerable:!1,configurable:!0}),n.prototype.off=function(e,t){this.mousetrap.unbind(this.getKeys(e),t)},n.prototype.enable=function(e){(this.disabled||e)&&(this.options.keyboard&&(this.options.keyboard.enabled=!0),this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))},n.prototype.disable=function(){this.disabled||(this.options.keyboard&&(this.options.keyboard.enabled=!1),this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))},n.prototype.destroy=function(){this.mousetrap.reset()},n.prototype.getKeys=function(e){var t=this;return(Array.isArray(e)?e:[e]).map(function(r){return t.formatKey(r)})},n.prototype.formatKey=function(e){return e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")},n}(),rs=function(){return rs=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},rs.apply(this,arguments)},uu=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},bf=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},Cf=Symbol("plugin registered by Logicflow.use"),P1=function(){function n(e){var t=this,r;this.viewMap=new Map,this.components=[],this.extension={},this.setView=function(c,f){return t.viewMap.set(c,f)},this.getView=function(c){return t.viewMap.get(c)};var i=T0.get(e),o=i.container,a=i.width,l=i.height;this.options=i,this.container=this.initContainer(o,a,l),this.graphModel=new DB(rs(rs({},i),{container:this.container})),this.plugins=(r=i.plugins)!==null&&r!==void 0?r:[];var u=this.graphModel.eventCenter;this.tool=new Nj(this),this.dnd=new Cj({lf:this}),this.history=new Fj(u),this.keyboard=new Uj({lf:this,keyboard:i.keyboard}),i.snapline!==!1&&(this.snaplineModel=new PB(this.graphModel),wj(u,this.snaplineModel)),i.isSilentMode||(zj(this,this.graphModel),this.keyboard.initShortcuts()),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}return n.prototype.initContainer=function(e,t,r){var i=document.createElement("div");return i.style.position="relative",i.style.width=t?"".concat(t,"px"):"100%",i.style.height=r?"".concat(r,"px"):"100%",e.innerHTML="",e.appendChild(i),i},Object.defineProperty(n.prototype,Symbol.toStringTag,{get:function(){return n.toStringTag},enumerable:!1,configurable:!0}),n.prototype.register=function(e,t,r){if(r===void 0&&(r=!0),typeof e!="string"){this.registerElement(e);return}var i={BaseEdge:tc,BaseEdgeModel:ec,BaseNode:bs,BaseNodeModel:_s,RectNode:Js,RectNodeModel:ll,CircleNode:Ju,CircleNodeModel:Yu,PolygonNode:ed,PolygonNodeModel:qu,TextNode:S4,TextNodeModel:w4,LineEdge:O4,LineEdgeModel:y4,DiamondNode:E1,DiamondNodeModel:m1,PolylineEdge:ul,PolylineEdgeModel:al,BezierEdge:M4,BezierEdgeModel:g4,EllipseNode:O1,EllipseNodeModel:y1,HtmlNode:W0,HtmlNodeModel:V0,h:ht,type:e};if(this.viewMap.forEach(function(c){var f=c.extendKey;f&&(i[f]=c)}),this.graphModel.modelMap.forEach(function(c){var f=c.extendKey;f&&(i[f]=c)}),t){var o=t(i),a=o.view,l=o.model,u=a;r&&!u.isObserved&&(u.isObserved=!0,u=Br(u)),this.setView(e,u),this.graphModel.setModel(e,l)}},n.prototype.registerElement=function(e){var t=e.view;e.isObserverView!==!1&&!t.isObserved&&(t.isObserved=!0,t=Br(t)),this.setView(e.type,t),this.graphModel.setModel(e.type,e.model)},n.prototype.batchRegister=function(e){var t=this;e===void 0&&(e=[]),cn(e,function(r){t.registerElement(r)})},n.prototype.defaultRegister=function(){var e=[{type:"rect",view:Js,model:ll},{type:"circle",view:Ju,model:Yu},{type:"polygon",view:ed,model:qu},{type:"text",view:S4,model:w4},{type:"ellipse",view:O1,model:y1},{type:"diamond",view:E1,model:m1},{type:"html",view:W0,model:V0},{type:"line",view:O4,model:y4},{type:"polyline",view:ul,model:al},{type:"bezier",view:M4,model:g4}];this.batchRegister(e)},n.prototype.addNode=function(e,t,r){return t===void 0&&(t=mt.NODE_ADD),this.graphModel.addNode(e,t,r)},n.prototype.deleteNode=function(e){var t=this.graphModel.getNodeModelById(e);if(!t)return!1;var r=t.getData(),i=this.options.guards,o=i!=null&&i.beforeDelete?i.beforeDelete(r):!0;return o&&this.graphModel.deleteNode(e),o},n.prototype.cloneNode=function(e){var t=this.graphModel.getNodeModelById(e),r=t==null?void 0:t.getData();if(r){var i=this.options.guards,o=i!=null&&i.beforeClone?i.beforeClone(r):!0;if(o)return this.graphModel.cloneNode(e)}},n.prototype.changeNodeId=function(e,t){return this.graphModel.changeNodeId(e,t)},n.prototype.changeNodeType=function(e,t){this.graphModel.changeNodeType(e,t)},n.prototype.getNodeModelById=function(e){return this.graphModel.getNodeModelById(e)},n.prototype.getNodeDataById=function(e){var t=this.getNodeModelById(e);return t==null?void 0:t.getData()},n.prototype.getNodeIncomingEdge=function(e){return this.graphModel.getNodeIncomingEdge(e)},n.prototype.getNodeOutgoingEdge=function(e){return this.graphModel.getNodeOutgoingEdge(e)},n.prototype.getNodeIncomingNode=function(e){return this.graphModel.getNodeIncomingNode(e)},n.prototype.getNodeOutgoingNode=function(e){return this.graphModel.getNodeOutgoingNode(e)},n.prototype.createFakeNode=function(e){var t=this.graphModel.modelMap.get(e.type);if(!t)return console.warn("不存在为".concat(e.type,"类型的节点")),null;var r=new t(rs(rs({},e),{virtual:!0}),this.graphModel);return this.graphModel.setFakeNode(r),r},n.prototype.removeFakeNode=function(){this.graphModel.removeFakeNode()},n.prototype.setNodeSnapLine=function(e){var t;(t=this.snaplineModel)===null||t===void 0||t.setNodeSnapLine(e)},n.prototype.removeNodeSnapLine=function(){var e;(e=this.snaplineModel)===null||e===void 0||e.clearSnapline()},n.prototype.setDefaultEdgeType=function(e){this.graphModel.setDefaultEdgeType(e)},n.prototype.addEdge=function(e){return this.graphModel.addEdge(e)},n.prototype.getEdgeDataById=function(e){var t=this.getEdgeModelById(e);return t==null?void 0:t.getData()},n.prototype.getEdgeModelById=function(e){return this.graphModel.getEdgeModelById(e)},n.prototype.getEdgeModels=function(e){var t=e.sourceNodeId,r=e.targetNodeId,i=[],o=this.graphModel.edges;return t&&r?cn(o,function(a){a.sourceNodeId===t&&a.targetNodeId===r&&i.push(a)}):t?cn(o,function(a){a.sourceNodeId===t&&i.push(a)}):r&&cn(o,function(a){a.targetNodeId===r&&i.push(a)}),i},n.prototype.changeEdgeId=function(e,t){return this.graphModel.changeEdgeId(e,t)},n.prototype.changeEdgeType=function(e,t){this.graphModel.changeEdgeType(e,t)},n.prototype.deleteEdge=function(e){var t=this.graphModel.getEdgeModelById(e);if(!t)return!1;var r=t.getData(),i=this.options.guards,o=i!=null&&i.beforeDelete?i.beforeDelete(r):!0;return o&&this.graphModel.deleteEdgeById(e),o},n.prototype.deleteEdgeByNodeId=function(e){var t=e.sourceNodeId,r=e.targetNodeId;t&&r?this.graphModel.deleteEdgeBySourceAndTarget(t,r):t?this.graphModel.deleteEdgeBySource(t):r&&this.graphModel.deleteEdgeByTarget(r)},n.prototype.getNodeEdges=function(e){return this.graphModel.getNodeEdges(e)},n.prototype.addElements=function(e,t){var r=this,i=e.nodes,o=e.edges;t===void 0&&(t=40);var a={},l={nodes:[],edges:[]};return cn(i,function(u){var c=u.id,f=r.addNode(u);c&&(a[c]=f.id),l.nodes.push(f)}),cn(o,function(u){var c=u.sourceNodeId,f=u.targetNodeId;a[c]&&(c=a[c]),a[f]&&(f=a[f]);var v=r.graphModel.addEdge(rs(rs({},u),{sourceNodeId:c,targetNodeId:f}));l.edges.push(v)}),l},n.prototype.selectElementById=function(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),this.graphModel.selectElementById(e,t),!t&&r&&this.graphModel.toFront(e)},n.prototype.deselectElementById=function(e){this.graphModel.deselectElementById(e)},n.prototype.getSelectElements=function(e){return e===void 0&&(e=!0),this.graphModel.getSelectElements(e)},n.prototype.clearSelectElements=function(){this.graphModel.clearSelectElements()},n.prototype.getModelById=function(e){return this.graphModel.getElement(e)},n.prototype.getDataById=function(e){var t;return(t=this.graphModel.getElement(e))===null||t===void 0?void 0:t.getData()},n.prototype.deleteElement=function(e){var t,r,i,o=this.getModelById(e);if(!o)return!1;var a=(t={},t[Dn.NODE]=this.deleteNode,t[Dn.EDGE]=this.deleteEdge,t);return(i=(r=a[o.BaseType])===null||r===void 0?void 0:r.call(this,e))!==null&&i!==void 0?i:!1},n.prototype.setElementZIndex=function(e,t){return this.graphModel.setElementZIndex(e,t)},n.prototype.getAreaElement=function(e,t,r,i,o){return r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=!1),this.graphModel.getAreaElement(e,t,r,i,o).map(function(a){return a.getData()})},n.prototype.setProperties=function(e,t){var r;(r=this.graphModel.getElement(e))===null||r===void 0||r.setProperties(Mr(t))},n.prototype.getProperties=function(e){var t;return(t=this.graphModel.getElement(e))===null||t===void 0?void 0:t.getProperties()},n.prototype.deleteProperty=function(e,t){var r;(r=this.graphModel.getElement(e))===null||r===void 0||r.deleteProperty(t)},n.prototype.updateAttributes=function(e,t){this.graphModel.updateAttributes(e,t)},n.prototype.editText=function(e){this.graphModel.editText(e)},n.prototype.updateText=function(e,t){this.graphModel.updateText(e,t)},n.prototype.updateEditConfig=function(e){var t=this.graphModel,r=t.editConfigModel,i=t.transformModel,o=r.snapGrid;if(r.updateEditConfig(e),(e==null?void 0:e.stopMoveGraph)!==void 0&&i.updateTranslateLimits(e.stopMoveGraph),e!=null&&e.isSilentMode?this.keyboard.disable():this.keyboard.enable(!0),!Ar(e==null?void 0:e.snapGrid)&&e.snapGrid!==o){var a=this.graphModel.grid.size,l=a===void 0?1:a;this.graphModel.updateGridSize(e.snapGrid?l:1)}},n.prototype.getEditConfig=function(){return this.graphModel.editConfigModel.getConfig()},n.prototype.setTheme=function(e,t){this.graphModel.setTheme(e,t)},n.prototype.getTheme=function(){return this.graphModel.getTheme()},n.prototype.focusByElement=function(e){var t=void 0,r=this.getNodeModelById(e);if(r){var i=r.getData(),o=i.x,a=i.y;t={x:o,y:a}}var l=this.getEdgeModelById(e);if(l){var u=l.textPosition,o=u.x,a=u.y;t={x:o,y:a}}t&&this.focusByCoordinate(t)},n.prototype.focusByCoordinate=function(e){var t=this.graphModel,r=t.transformModel,i=t.width,o=t.height,a=e.x,l=e.y;r.focusOn(a,l,i,o)},n.prototype.focusOn=function(e){if(typeof e=="string")this.focusByElement(e);else if("x"in e&&"y"in e)this.focusByCoordinate(e);else{var t=e.id,r=e.coordinate;t&&this.focusByElement(t),r&&this.focusByCoordinate(r)}},n.prototype.resize=function(e,t){this.graphModel.resize(e,t),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height},n.prototype.toFront=function(e){this.graphModel.toFront(e)},n.prototype.getPointByClient=function(e,t){if(typeof e=="object")return this.graphModel.getPointByClient(e);if(typeof t=="number")return this.graphModel.getPointByClient({x:e,y:t})},n.prototype.getGraphData=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.getGraphRawData();return this.adapterOut?this.adapterOut.apply(this,bf([r],uu(e),!1)):r},n.prototype.getGraphRawData=function(){return this.graphModel.modelToGraphData()},n.prototype.clearData=function(){this.graphModel.clearData(),this.render({})},n.prototype.renderRawData=function(e){this.graphModel.graphDataToModel(Mr(e)),this.options.history!==!1&&this.history.watch(this.graphModel),W9(Te(VB,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(mt.GRAPH_RENDERED,{data:this.graphModel.modelToGraphData(),graphModel:this.graphModel})},n.prototype.render=function(e){var t=Ht(e);this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)},n.prototype.undo=function(){if(this.history.undoAble()){var e=Mr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}},n.prototype.redo=function(){if(this.history.redoAble()){var e=Mr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}},n.prototype.zoom=function(e,t){var r=this.graphModel.transformModel;return r.zoom(e,t)},n.prototype.resetZoom=function(){var e=this.graphModel.transformModel;e.resetZoom()},n.prototype.setZoomMiniSize=function(e){var t=this.graphModel.transformModel;t.setZoomMiniSize(e)},n.prototype.setZoomMaxSize=function(e){var t=this.graphModel.transformModel;t.setZoomMaxSize(e)},n.prototype.getTransform=function(){var e=this.graphModel.transformModel,t=e.SCALE_X,r=e.SCALE_Y,i=e.TRANSLATE_X,o=e.TRANSLATE_Y;return{SCALE_X:t,SCALE_Y:r,TRANSLATE_X:i,TRANSLATE_Y:o}},n.prototype.translate=function(e,t){var r=this.graphModel.transformModel;r.translate(e,t)},n.prototype.resetTranslate=function(){var e=this.graphModel.transformModel,t=e.TRANSLATE_X,r=e.TRANSLATE_Y;this.translate(-t,-r)},n.prototype.translateCenter=function(){this.graphModel.translateCenter()},n.prototype.fitView=function(e,t){t===void 0&&(t=e),this.graphModel.fitView(e,t)},n.prototype.openEdgeAnimation=function(e){this.graphModel.openEdgeAnimation(e)},n.prototype.closeEdgeAnimation=function(e){this.graphModel.closeEdgeAnimation(e)},n.prototype.on=function(e,t){this.graphModel.eventCenter.on(e,t)},n.prototype.off=function(e,t){this.graphModel.eventCenter.off(e,t)},n.prototype.once=function(e,t){this.graphModel.eventCenter.once(e,t)},n.prototype.emit=function(e,t){this.graphModel.eventCenter.emit(e,t)},n.use=function(e,t){var r,i=e.pluginName;if(!i)throw new Error("请给插件指定 pluginName!");this.extensions.set(i,(r={},r[Cf]=Cf,r.extension=e,r.props=t,r))},n.addThemeMode=function(e,t){II(e,t)},n.removeThemeMode=function(e){BI(e)},n.clearThemeMode=function(){v4()},n.prototype.installPlugins=function(e){var t=this;e===void 0&&(e=[]);var r=Array.from(n.extensions,function(o){var a=uu(o,2),l=a[1];return l}),i=bf(bf([],uu(this.plugins),!1),uu(r),!1);cn(i,function(o){var a,l;Cf in o?(a=o.extension,l=o.props):a=o;var u=a==null?void 0:a.pluginName;_8(e,u)===-1&&t.installPlugin(a,l)})},n.prototype.installPlugin=function(e,t){var r,i;if("pluginName"in e&&"install"in e){var o=e.pluginName,a=e.install,l=e.render;o&&(a&&a.call(e,this,n),l&&this.components.push(l.bind(e)),this.extension[o]=e);return}var u=e,c=u.pluginName,f=new u({lf:this,LogicFlow:n,props:t,options:(i=(r=this.options.pluginsOptions)===null||r===void 0?void 0:r[c])!==null&&i!==void 0?i:{}});f.render&&this.components.push(f.render.bind(f)),this.extension[c]=f},n.prototype.destroy=function(){var e;this.clearData(),W9(null,this.container),this.keyboard.destroy(),this.graphModel.destroy(),this.tool.destroy(),this.history.destroy(),v4();for(var t in this.extension){var r=this.extension[t];"destroy"in r&&((e=r.destroy)===null||e===void 0||e.call(r))}},n.extensions=new Map,n}();(function(n){n.toStringTag="LF.".concat(n.name)})(P1||(P1={}));const Gj=P1;function Br(n){return pg(n)}var D4={width:40,height:40},P4={width:40,height:40},R4={width:40,height:40},H4={width:100,height:80},I4={width:100,height:80},Xj=function(){function n(){globalThis._ids=this,this._ids=new Set}return n.prototype.generateId=function(){return"xxxxxxx".replace(/[x]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},n.prototype.next=function(){for(var e=this.generateId();this._ids.has(e);)e=this.generateId();return this._ids.add(e),e},n}(),Zj=(globalThis==null?void 0:globalThis._ids)||new Xj;function Ml(){return Zj.next()}var w_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){w_(e,n);function e(t,r){return t.id||(t.id="Event_".concat(Ml())),t.text||(t.text=""),t.text&&typeof t.text=="string"&&(t.text={value:t.text,x:t.x,y:t.y+40}),n.call(this,t,r)||this}return e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedTargetRules=function(){var t=n.prototype.getConnectedTargetRules.call(this),r={message:"起始节点不能作为边的终点",validate:function(){return!1}};return t.push(r),t},e.extendKey="StartEventModel",e})(Yu);(function(n){w_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.extendKey="StartEventNode",e})(Ju);var x_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),id=function(){return id=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},id.apply(this,arguments)};(function(n){x_(e,n);function e(t,r){return t.id||(t.id="Event_".concat(Ml())),t.text||(t.text=""),t.text&&typeof t.text=="string"&&(t.text={value:t.text,x:t.x,y:t.y+40}),n.call(this,t,r)||this}return e.prototype.setAttributes=function(){this.r=18},e.prototype.getConnectedSourceRules=function(){var t=n.prototype.getConnectedSourceRules.call(this),r={message:"结束节点不能作为边的起点",validate:function(){return!1}};return t.push(r),t},e.extendKey="EndEventModel",e})(Yu);(function(n){x_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},e.prototype.getShape=function(){var t=this.props.model,r=t.getNodeStyle(),i=t,o=i.x,a=i.y,l=i.r,u=n.prototype.getShape.call(this);return ht("g",{},u,ht("circle",id(id({},r),{cx:o,cy:a,r:l-5})))},e.extendKey="EndEventView",e})(Ju);var k_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){k_(e,n);function e(t,r){return t.id||(t.id="Flow_".concat(Ml())),n.call(this,t,r)||this}return e.extendKey="SequenceFlowModel",e})(al);(function(n){k_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.extendKey="SequenceFlowEdge",e})(ul);var S_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),k0=function(){return k0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},k0.apply(this,arguments)};(function(n){S_(e,n);function e(t,r){var i=this;return t.id||(t.id="Gateway_".concat(Ml())),t.text||(t.text=""),t.text&&typeof t.text=="string"&&(t.text={value:t.text,x:t.x,y:t.y+40}),i=n.call(this,t,r)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return e.extendKey="ExclusiveGatewayModel",e})(qu);(function(n){S_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getShape=function(){var t=this.props.model,r=t,i=r.x,o=r.y,a=r.width,l=r.height,u=r.points,c=t.getNodeStyle();return ht("g",{transform:"matrix(1 0 0 1 ".concat(i-a/2," ").concat(o-l/2,")")},ht("polygon",k0(k0({},c),{x:i,y:o,points:u})),ht("path",k0({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},c)))},e.extendKey="ExclusiveGatewayNode",e})(ed);var E_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),R1=function(){return R1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},R1.apply(this,arguments)};(function(n){E_(e,n);function e(t,r){return t.id||(t.id="Activity_".concat(Ml())),n.call(this,t,r)||this}return e.extendKey="ServiceTaskModel",e})(ll);(function(n){E_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var t=this.props.model,r=t.x,i=t.y,o=t.width,a=t.height,l=t.getNodeStyle();return ht("svg",{x:r-o/2+5,y:i-a/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},ht("path",{fill:l.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},e.prototype.getShape=function(){var t=this.props.model,r=t.x,i=t.y,o=t.width,a=t.height,l=t.radius,u=t.getNodeStyle();return ht("g",{},[ht("rect",R1({x:r-o/2,y:i-a/2,rx:l,ry:l,width:o,height:a},u)),this.getLabelShape()])},e.extendKey="ServiceTaskNode",e})(Js);var M_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),od=function(){return od=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},od.apply(this,arguments)};(function(n){M_(e,n);function e(t,r){return t.id||(t.id="Activity_".concat(Ml())),n.call(this,t,r)||this}return e.extendKey="UserTaskModel",e})(ll);(function(n){M_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var t=this.props.model,r=t.x,i=t.y,o=t.width,a=t.height,l=t.getNodeStyle();return ht("svg",{x:r-o/2+5,y:i-a/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},ht("path",{fill:l.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},e.prototype.getShape=function(){var t=this.props.model,r=t.x,i=t.y,o=t.width,a=t.height,l=t.radius,u=t.getNodeStyle();return ht("g",{},[ht("rect",od(od({},u),{x:r-o/2,y:i-a/2,rx:l,ry:l,width:o,height:a})),this.getLabelShape()])},e.extendKey="UserTaskNode",e})(Js);var Yj=function(){function n(){globalThis._ids=this,this._ids=new Set}return n.prototype.generateId=function(){return"xxxxxxx".replace(/[x]/g,function(e){var t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)})},n.prototype.next=function(){for(var e=this.generateId();this._ids.has(e);)e=this.generateId();return this._ids.add(e),e},n}(),qj=(globalThis==null?void 0:globalThis._ids)||new Yj;function B4(){return qj.next()}function O_(n){return Object.prototype.toString.call(n)}function Kj(n){return"  ".repeat(n)}function sd(n){var e=n;return O_(n)==="[object Object]"?(e={},Object.keys(n).forEach(function(t){var r=t;t.charAt(0)==="-"&&(r=t.substring(1)),e[r]=sd(n[t])})):Array.isArray(n)&&(e=[],n.forEach(function(t,r){e[r]=sd(t)})),e}function Jj(n){var e=n;try{typeof e!="string"&&(e=JSON.parse(n))}catch{e=JSON.stringify(sd(n)).replace(/"/g,"'")}return e}var Ds=`	
`;function yu(n,e,t){var r=Kj(t);if(n!==0&&n!==!1&&!n)return Ds+r+"<".concat(e," />");var i="";if(e==="#text")return Ds+r+n;if(e==="#cdata-section")return Ds+r+"<![CDATA["+n+"]]>";if(e==="#comment")return Ds+r+"<!--"+n+"-->";if("".concat(e).charAt(0)==="-")return" "+e.substring(1)+'="'+Jj(n)+'"';if(Array.isArray(n))n.forEach(function(u){i+=yu(u,e,t+1)});else if(O_(n)==="[object Object]"){var o=Object.keys(n),a="",l="";i+=(t===0?"":Ds+r)+"<"+e,o.forEach(function(u){u.charAt(0)==="-"?a+=yu(n[u],u,t+1):l+=yu(n[u],u,t+1)}),i+=a+(l!==""?">".concat(l).concat(Ds+r,"</").concat(e,">"):" />")}else i+=Ds+r+"<".concat(e,">").concat(n.toString(),"</").concat(e,">");return i}function Qj(n){var e="";for(var t in n)e+=yu(n[t],t,0);return e}var Wr=function(){};Wr.ObjTree=function(){return this};Wr.ObjTree.VERSION="0.23";Wr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Wr.ObjTree.prototype.attr_prefix="-";Wr.ObjTree.prototype.parseXML=function(n){var e;if(window.DOMParser){var t=new DOMParser,r=t.parseFromString(n,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(n),e=t.documentElement);if(e)return this.parseDOM(e)};Wr.ObjTree.prototype.parseHTTP=function(n,e,t){var r={};for(var i in e)r[i]=e[i];if(r.method||(typeof r.postBody>"u"&&typeof r.postbody>"u"&&typeof r.parameters>"u"?r.method="get":r.method="post"),t){r.asynchronous=!0;var o=this,a=t,l=r.onComplete;r.onComplete=function(f){var v;f&&f.responseXML&&f.responseXML.documentElement&&(v=o.parseDOM(f.responseXML.documentElement)),a(v,f),l&&l(f)}}else r.asynchronous=!1;var u;if(typeof HTTP<"u"&&HTTP.Request){r.uri=n;var c=new HTTP.Request(r);c&&(u=c.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var c=new Ajax.Request(n,r);c&&(u=c.transport)}if(t)return u;if(u&&u.responseXML&&u.responseXML.documentElement)return this.parseDOM(u.responseXML.documentElement)};Wr.ObjTree.prototype.parseDOM=function(n){if(n){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var t=this.parseElement(n);if(this.__force_array[n.nodeName]&&(t=[t]),n.nodeType!=11){var r={};r[n.nodeName]=t,t=r}return t}};Wr.ObjTree.prototype.parseElement=function(n){if(n.nodeType!=7){if(n.nodeType==3||n.nodeType==4||n.nodeType==8){var e=n.nodeValue.match(/[^\x00-\x20]/);return e==null?void 0:n.nodeValue}var t=null,r={};if(n.attributes&&n.attributes.length){t={};for(var i=0;i<n.attributes.length;i++){var o=n.attributes[i].nodeName;if(typeof o=="string"){var a=n.attributes[i].nodeValue;try{a=JSON.parse(n.attributes[i].nodeValue.replace(/'/g,'"'))}catch{a=n.attributes[i].nodeValue}a&&(o=this.attr_prefix+o,typeof r[o]>"u"&&(r[o]=0),r[o]++,this.addNode(t,o,r[o],a))}}}if(n.childNodes&&n.childNodes.length){var l=!0;t&&(l=!1);for(var i=0;i<n.childNodes.length&&l;i++){var u=n.childNodes[i].nodeType;u==3||u==4||u==8||(l=!1)}if(l){t||(t="");for(var i=0;i<n.childNodes.length;i++)t+=n.childNodes[i].nodeValue}else{t||(t={});for(var i=0;i<n.childNodes.length;i++){var o=n.childNodes[i].nodeName;if(typeof o=="string"){var a=this.parseElement(n.childNodes[i]);a&&(typeof r[o]>"u"&&(r[o]=0),r[o]++,this.addNode(t,o,r[o],a))}}}}else t===null&&(t={});return t}};Wr.ObjTree.prototype.addNode=function(n,e,t,r){this.__force_array[e]?(t==1&&(n[e]=[]),n[e][n[e].length]=r):t==1?n[e]=r:t==2?n[e]=[n[e],r]:n[e][n[e].length]=r};Wr.ObjTree.prototype.writeXML=function(n){var e=this.hash_to_xml(null,n);return this.xmlDecl+e};Wr.ObjTree.prototype.hash_to_xml=function(n,e){var t=[],r=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];i.charAt(0)!=this.attr_prefix?typeof o>"u"||o==null?t[t.length]="<"+i+" />":typeof o=="object"&&o.constructor==Array?t[t.length]=this.array_to_xml(i,o):typeof o=="object"?t[t.length]=this.hash_to_xml(i,o):t[t.length]=this.scalar_to_xml(i,o):r[r.length]=" "+i.substring(1)+'="'+this.xml_escape(o)+'"'}var a=r.join(""),l=t.join("");return typeof n>"u"||n==null||(t.length>0?l.match(/\n/)?l="<"+n+a+`>
`+l+"</"+n+`>
`:l="<"+n+a+">"+l+"</"+n+`>
`:l="<"+n+a+` />
`),l};Wr.ObjTree.prototype.array_to_xml=function(n,e){for(var t=[],r=0;r<e.length;r++){var i=e[r];typeof i>"u"||i==null?t[t.length]="<"+n+" />":typeof i=="object"&&i.constructor==Array?t[t.length]=this.array_to_xml(n,i):typeof i=="object"?t[t.length]=this.hash_to_xml(n,i):t[t.length]=this.scalar_to_xml(n,i)}return t.join("")};Wr.ObjTree.prototype.scalar_to_xml=function(n,e){return n=="#text"?this.xml_escape(e):"<"+n+">"+this.xml_escape(e)+"</"+n+`>
`};Wr.ObjTree.prototype.xml_escape=function(n){return n.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var eF=function(n){return new Wr.ObjTree().parseXML(n)},tF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),H1=function(){return H1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},H1.apply(this,arguments)},nc=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},_o;(function(n){n.START="bpmn:startEvent",n.END="bpmn:endEvent",n.GATEWAY="bpmn:exclusiveGateway",n.USER="bpmn:userTask",n.SYSTEM="bpmn:serviceTask",n.FLOW="bpmn:sequenceFlow"})(_o||(_o={}));var A_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"],j4=["properties","startPoint","endPoint","pointsList"];function F4(n){var e=n?j4.concat(n):j4;return function(t){function r(i){var o={};return typeof i=="string"?i:Array.isArray(i)?i.map(function(a){return r(a)}):(Object.entries(i).forEach(function(a){var l=nc(a,2),u=l[0],c=l[1];typeof c!="object"?u.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(u)?o[u]=c:o["-".concat(u)]=c:e.includes(u)?o["-".concat(u)]=r(c):o[u]=r(c)}),o)}return r(t)}}function ad(n){var e={};return Object.entries(n).forEach(function(t){var r=nc(t,2),i=r[0],o=r[1];i.indexOf("-")===0?e[i.substring(1)]=sd(o):typeof o=="string"?e[i]=o:Object.prototype.toString.call(o)==="[object Object]"?e[i]=ad(o):Array.isArray(o)?e[i]=o.map(function(a){return ad(a)}):e[i]=o}),e}function nF(n,e,t){var r=new Map;e.nodes.forEach(function(o){var a,l={"-id":o.id};if(!((a=o.text)===null||a===void 0)&&a.value&&(l["-name"]=o.text.value),o.properties){var u=F4(t)(o.properties);Object.assign(l,u)}r.set(o.id,l),n[o.type]?Array.isArray(n[o.type])?n[o.type].push(l):n[o.type]=[n[o.type],l]:n[o.type]=l});var i=e.edges.map(function(o){var a,l,u=r.get(o.targetNodeId);u["bpmn:incoming"]?Array.isArray(u["bpmn:incoming"])?u["bpmn:incoming"].push(o.id):u["bpmn:incoming"]=[u["bpmn:incoming"],o.id]:u["bpmn:incoming"]=o.id;var c={"-id":o.id,"-sourceRef":o.sourceNodeId,"-targetRef":o.targetNodeId};if(!((a=o.text)===null||a===void 0)&&a.value&&(c["-name"]=(l=o.text)===null||l===void 0?void 0:l.value),o.properties){var f=F4(t)(o.properties);Object.assign(c,f)}return c});e.edges.forEach(function(o){var a=r.get(o.sourceNodeId);a["bpmn:outgoing"]?Array.isArray(a["bpmn:outgoing"])?a["bpmn:outgoing"].push(o.id):a["bpmn:outgoing"]=[a["bpmn:outgoing"],o.id]:a["bpmn:outgoing"]=o.id}),n[_o.FLOW]=i}function rF(n,e){n["bpmndi:BPMNEdge"]=e.edges.map(function(t){var r,i=t.id,o=t.pointsList.map(function(l){var u=l.x,c=l.y;return{"-x":u,"-y":c}}),a={"-id":"".concat(i,"_di"),"-bpmnElement":i,"di:waypoint":o};return!((r=t.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-t.text.value.length*10/2,"-y":t.text.y-7,"-width":t.text.value.length*10,"-height":14}}),a}),n["bpmndi:BPMNShape"]=e.nodes.map(function(t){var r,i=t.id,o=100,a=80,l=t.x,u=t.y,c=Cs.shapeConfigMap.get(t.type);c&&(o=c.width,a=c.height),l-=o/2,u-=a/2;var f={"-id":"".concat(i,"_di"),"-bpmnElement":i,"dc:Bounds":{"-x":l,"-y":u,"-width":o,"-height":a}};return!((r=t.text)===null||r===void 0)&&r.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-t.text.value.length*10/2,"-y":t.text.y-7,"-width":t.text.value.length*10,"-height":14}}),f})}function iF(n){var e=[],t=[],r=n["bpmn:definitions"];if(r){var i=r["bpmn:process"];Object.keys(i).forEach(function(o){if(o.indexOf("bpmn:")===0){var a=i[o];if(o===_o.FLOW){var l=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];t=sF(a,l)}else{var u=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];e=e.concat(oF(a,u,o))}}})}return{nodes:e,edges:t}}function oF(n,e,t){var r=[];if(Array.isArray(n))n.forEach(function(a){var l;Array.isArray(e)?l=e.find(function(c){return c["-bpmnElement"]===a["-id"]}):l=e;var u=V4(l,t,a);r.push(u)});else{var i=void 0;Array.isArray(e)?i=e.find(function(a){return a["-bpmnElement"]===n["-id"]}):i=e;var o=V4(i,t,n);r.push(o)}return r}function V4(n,e,t){var r=Number(n["dc:Bounds"]["-x"]),i=Number(n["dc:Bounds"]["-y"]),o=t["-name"],a=Cs.shapeConfigMap.get(e);a&&(r+=a.width/2,i+=a.height/2);var l;Object.entries(t).forEach(function(v){var m=nc(v,2),y=m[0],_=m[1];A_.indexOf(y)===-1&&(l||(l={}),l[y]=_)}),l&&(l=ad(l));var u;if(o&&(u={x:r,y:i,value:o},n["bpmndi:BPMNLabel"]&&n["bpmndi:BPMNLabel"]["dc:Bounds"])){var c=n["bpmndi:BPMNLabel"]["dc:Bounds"];u.x=Number(c["-x"])+Number(c["-width"])/2,u.y=Number(c["-y"])+Number(c["-height"])/2}var f={id:n["-bpmnElement"],type:e,x:r,y:i,properties:l};return u&&(f.text=u),f}function sF(n,e){var t=[];if(Array.isArray(n))n.forEach(function(i){var o;Array.isArray(e)?o=e.find(function(a){return a["-bpmnElement"]===i["-id"]}):o=e,t.push($4(o,i))});else{var r=void 0;Array.isArray(e)?r=e.find(function(i){return i["-bpmnElement"]===n["-id"]}):r=e,t.push($4(r,n))}return t}function $4(n,e){var t,r=e["-name"]?"".concat(e["-name"]):"";if(r){var i=n["bpmndi:BPMNLabel"]["dc:Bounds"],o=0;r.split(`
`).forEach(function(u){o<u.length&&(o=u.length)}),t={value:r,x:Number(i["-x"])+o*10/2,y:Number(i["-y"])+7}}var a;Object.entries(e).forEach(function(u){var c=nc(u,2),f=c[0],v=c[1];A_.indexOf(f)===-1&&(a||(a={}),a[f]=v)}),a&&(a=ad(a));var l={id:e["-id"],type:_o.FLOW,pointsList:n["di:waypoint"].map(function(u){return{x:Number(u["-x"]),y:Number(u["-y"])}}),sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:a};return t&&(l.text=t),l}var Cs=function(){function n(e){var t=e.lf,r=this;this.adapterOut=function(i,o){var a=H1({},r.processAttributes);nF(a,i,o);var l={"-id":"BPMNPlane_1","-bpmnElement":a["-id"]};rF(l,i);var u=r.definitionAttributes;u["bpmn:process"]=a,u["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":l};var c={"bpmn:definitions":u};return c},this.adapterIn=function(i){if(i)return iF(i)},t.adapterIn=function(i){return r.adapterIn(i)},t.adapterOut=function(i,o){return r.adapterOut(i,o)},this.processAttributes={"-isExecutable":"true","-id":"Process_".concat(B4())},this.definitionAttributes={"-id":"Definitions_".concat(B4()),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.0"}}return n.prototype.setCustomShape=function(e,t){n.shapeConfigMap.set(e,t)},n.pluginName="bpmn-adapter",n.shapeConfigMap=new Map,n}();Cs.shapeConfigMap.set(_o.START,{width:D4.width,height:D4.height});Cs.shapeConfigMap.set(_o.END,{width:P4.width,height:P4.height});Cs.shapeConfigMap.set(_o.GATEWAY,{width:R4.width,height:R4.height});Cs.shapeConfigMap.set(_o.SYSTEM,{width:H4.width,height:H4.height});Cs.shapeConfigMap.set(_o.USER,{width:I4.width,height:I4.height});(function(n){tF(e,n);function e(t){var r=n.call(this,t)||this;r.adapterXmlIn=function(o){var a=eF(o);return r.adapterIn(a)},r.adapterXmlOut=function(o,a){var l=r.adapterOut(o,a);return Qj(l)};var i=t.lf;return i.adapterIn=r.adapterXmlIn,i.adapterOut=r.adapterXmlOut,r}return e.pluginName="bpmnXmlAdapter",e})(Cs);var aF=function(){function n(){globalThis._ids=this,this._ids=new Set}return n.prototype.generateId=function(){var e="xxxxxxx".replace(/[x]/g,function(t){var r=Math.random()*16|0,i=t==="x"?r:r&3|8;return i.toString(16)});return e},n.prototype.next=function(){for(var e=this.generateId();this._ids.has(e);)e=this.generateId();return this._ids.add(e),e},n}(),lF=(globalThis==null?void 0:globalThis._ids)||new aF;function uF(){return lF.next()}ht("circle",{cx:18,cy:18,r:11,style:"stroke-linecap: round;stroke-linejoin: round;stroke: rgb(34, 36, 42);stroke-width: 2px;fill: white"}),ht("path",{d:"M 18,18 l 2.25,-7.5 m -2.25,7.5 l 5.25,1.5",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(0,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(30,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(60,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(90,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(120,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(150,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(180,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(210,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(240,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(270,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(300,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"}),ht("path",{d:"M 18,18 m 0,7.5 l -0,2.25",transform:"rotate(330,18,18)",style:"fill: none; stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 1px;"});ht("circle",{cx:18,cy:18,r:10,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 4px; fill: rgb(34, 36, 42);"});ht("circle",{cx:25,cy:25,r:13,style:"stroke-linecap: round; stroke-linejoin: round; stroke: rgb(34, 36, 42); stroke-width: 2.5px; fill: white;"});var dF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Vs=function(){return Vs=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vs.apply(this,arguments)},cF=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},fF=Ti,hF=function(n){dF(e,n);function e(t){var r=n.call(this)||this;return r.updatePosition=function(i){var o=i.deltaX,a=i.deltaY,l=r.nodeModel,u=l.x,c=l.y;r.nodeModel.x=u+o/2,r.nodeModel.y=c+a/2,r.nodeModel.moveText(o/2,a/2)},r.getResize=function(i){var o=i.index,a=i.deltaX,l=i.deltaY,u=i.width,c=i.height,f=i.PCTResizeInfo,v=i.pct,m=v===void 0?1:v,y=i.freezeWidth,_=y===void 0?!1:y,b=i.freezeHeight,w=b===void 0?!1:b,x={width:u,height:c,deltaX:a,deltaY:l};if(f){var k=4,N=0,D=0;switch(o){case 0:D=(a*-1-l)/k;break;case 1:D=(a-l)/k;break;case 2:D=(a+l)/k;break;case 3:D=(a*-1+l)/k;break}D!==0&&(N=Math.round(D/f.ResizeBasis.basisHeight*1e5)/1e3),f.ResizePCT.widthPCT=Math.max(Math.min(f.ResizePCT.widthPCT+N,f.ScaleLimit.maxScaleLimit),f.ScaleLimit.minScaleLimit),f.ResizePCT.heightPCT=Math.max(Math.min(f.ResizePCT.heightPCT+N,f.ScaleLimit.maxScaleLimit),f.ScaleLimit.minScaleLimit);var V=Math.round(f.ResizePCT.widthPCT*f.ResizeBasis.basisWidth/100),U=Math.round(f.ResizePCT.heightPCT*f.ResizeBasis.basisHeight/100);switch(o){case 0:a=u-V,l=c-U;break;case 1:a=V-u,l=c-U;break;case 2:a=V-u,l=U-c;break;case 3:a=u-V,l=U-c;break}return x.width=V,x.height=U,x.deltaX=a/m,x.deltaY=l/m,x}switch(o){case 0:x.width=_?u:u-a*m,x.height=w?c:c-l*m;break;case 1:x.width=_?u:u+a*m,x.height=w?c:c-l*m;break;case 2:x.width=_?u:u+a*m,x.height=w?c:c+l*m;break;case 3:x.width=_?u:u-a*m,x.height=w?c:c+l*m;break}return x},r.updateEdgePointByAnchors=function(){var i=r.nodeModel,o=i.id,a=i.anchors,l=r.getNodeEdges(o);l.sourceEdges.forEach(function(u){var c=a.find(function(f){return f.id===u.sourceAnchorId});c&&u.updateStartPoint({x:c.x,y:c.y})}),l.targetEdges.forEach(function(u){var c=a.find(function(f){return f.id===u.targetAnchorId});c&&u.updateEndPoint({x:c.x,y:c.y})})},r.updateRect=function(i){var o=i.deltaX,a=i.deltaY,l=r.nodeModel,u=l.x,c=l.y,f=l.width,v=l.height,m=l.radius,y=l.PCTResizeInfo,_=r.nodeModel,b=_.minWidth,w=_.minHeight,x=_.maxWidth,k=_.maxHeight,N=r.index,D=b===x,V=w===k,U=r.getResize({index:N,deltaX:o,deltaY:a,width:f,height:v,PCTResizeInfo:y,pct:1,freezeWidth:D,freezeHeight:V});if(U.width<b||U.width>x||U.height<w||U.height>k){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:D?0:U.deltaX,deltaY:V?0:U.deltaY}),r.nodeModel.width=U.width,r.nodeModel.height=U.height,r.nodeModel.setProperties({nodeSize:{width:U.width,height:U.height}});var B={x:u,y:c,width:f,height:v,radius:m},G={x:r.nodeModel.x,y:r.nodeModel.y,width:r.nodeModel.width,height:r.nodeModel.height,radius:m};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:o,deltaY:a,beforeNode:B,afterNode:G})},r.updateEllipse=function(i){var o=i.deltaX,a=i.deltaY,l=r.nodeModel,u=l.rx,c=l.ry,f=l.x,v=l.y,m=l.PCTResizeInfo,y=r.index,_=r.nodeModel,b=_.minWidth,w=_.minHeight,x=_.maxWidth,k=_.maxHeight,N=b===x,D=w===k,V=u,U=c,B=r.getResize({index:y,deltaX:o,deltaY:a,width:V,height:U,PCTResizeInfo:m,pct:1/2,freezeWidth:N,freezeHeight:D});if(B.width<b/2||B.width>x/2||B.height<w/2||B.height>k/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:N?0:B.deltaX,deltaY:D?0:B.deltaY}),r.nodeModel.rx=B.width,r.nodeModel.ry=B.height,r.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var G={x:f,y:v},Q={rx:B.width,ry:B.height,x:r.nodeModel.x,y:r.nodeModel.y};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:o,deltaY:a,beforeNode:Vs(Vs({},G),{rx:u,ry:c}),afterNode:Q})},r.updateDiamond=function(i){var o=i.deltaX,a=i.deltaY,l=r.nodeModel,u=l.rx,c=l.ry,f=l.x,v=l.y,m=l.PCTResizeInfo,y=r.index,_=r.nodeModel,b=_.minWidth,w=_.minHeight,x=_.maxWidth,k=_.maxHeight,N=b===x,D=w===k,V=u,U=c,B=r.getResize({index:y,deltaX:o,deltaY:a,width:V,height:U,PCTResizeInfo:m,pct:1/2,freezeWidth:N,freezeHeight:D});if(B.width<b/2||B.width>x/2||B.height<w/2||B.height>k/2){r.dragHandler.cancelDrag();return}r.updatePosition({deltaX:N?0:B.deltaX,deltaY:D?0:B.deltaY}),r.nodeModel.rx=B.width,r.nodeModel.ry=B.height,r.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var G={x:f,y:v,rx:u,ry:c},Q={rx:B.width,ry:B.height,x:r.nodeModel.x,y:r.nodeModel.y};r.updateEdgePointByAnchors(),r.eventEmit({deltaX:o,deltaY:a,beforeNode:G,afterNode:Q})},r.eventEmit=function(i){var o=i.deltaX,a=i.deltaY,l=i.beforeNode,u=i.afterNode,c=r.nodeModel,f=c.id,v=c.modelType,m=c.type,y=Vs({id:f,modelType:v,type:m},l),_=Vs({id:f,modelType:v,type:m},u);r.graphModel.eventCenter.emit("node:resize",{preData:y,data:_,deltaX:o,deltaY:a,index:r.index,model:r.nodeModel})},r.onDragging=function(i){var o,a=i.deltaX,l=i.deltaY,u=r.graphModel.transformModel,c=r.nodeModel.modelType;o=cF(u.fixDeltaXY(a,l),2),a=o[0],l=o[1],c===$t.RECT_NODE||c===$t.HTML_NODE?r.updateRect({deltaX:a,deltaY:l}):c===$t.ELLIPSE_NODE?r.updateEllipse({deltaX:a,deltaY:l}):c===$t.DIAMOND_NODE&&r.updateDiamond({deltaX:a,deltaY:l})},r.onDragEnd=function(){var i=r.graphModel.gridSize,o=i===void 0?1:i,a=o*Math.round(r.nodeModel.x/o),l=o*Math.round(r.nodeModel.y/o);r.nodeModel.moveTo(a,l),r.updateEdgePointByAnchors()},r.index=t.index,r.nodeModel=t.model,r.graphModel=t.graphModel,r.dragHandler=new fF({onDragging:r.onDragging,onDragEnd:r.onDragEnd,step:1}),r}return e.prototype.getNodeEdges=function(t){for(var r=this.graphModel,i=r.edges,o=[],a=[],l=0;l<i.length;l++){var u=i[l];u.sourceNodeId===t?o.push(u):i[l].targetNodeId===t&&a.push(u)}return{sourceEdges:o,targetEdges:a}},e.prototype.render=function(){var t=this.props,r=t.x,i=t.y,o=t.index,a=t.model,l=a.getControlPointStyle();return Te("g",{className:"lf-resize-control-".concat(o),children:Te(_i,Vs({className:"lf-node-control",x:r,y:i},l,{onMouseDown:this.dragHandler.handleMouseDown}))})},e}(Zt),pF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ld=function(){return ld=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ld.apply(this,arguments)},rc=function(n){pF(e,n);function e(){var t=n.call(this)||this;return t.state={},t}return e.prototype.getResizeControl=function(){var t=this.props,r=t.model,i=t.graphModel,o=r.x,a=r.y,l=r.width,u=r.height,c={minX:o-l/2,minY:a-u/2,maxX:o+l/2,maxY:a+u/2},f=c.minX,v=c.minY,m=c.maxX,y=c.maxY,_=[{x:f,y:v},{x:m,y:v},{x:m,y},{x:f,y}];return _.map(function(b,w){return Te(hF,ld({index:w},b,{model:r,graphModel:i}))})},e.prototype.getGroupSolid=function(){var t=this.props.model,r=t.x,i=t.y,o=t.width,a=t.height,l=t.getResizeOutlineStyle();return Te(_i,ld({},l,{x:r,y:i,width:o,height:a}))},e.prototype.render=function(){return Te("g",{className:"lf-resize-control",children:[this.getGroupSolid(),this.getResizeControl()]})},e}(Zt),L_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){L_(e,n);function e(t,r){var i=n.call(this,t,r)||this,o=t.properties.nodeSize;return o&&(i.rx=o.rx,i.ry=o.ry),i}return e.prototype.initNodeData=function(t){n.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var t=n.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(t){if(t===void 0&&(t=!0),t){var r={widthPCT:100,heightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},o={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},e})(y1);(function(n){L_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var t=this.props,r=t.model,i=t.graphModel;return Te(rc,{model:r,graphModel:i})},e.prototype.getResizeShape=function(){return n.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props,r=t.model,i=t.graphModel.editConfigModel.isSilentMode;return Te("g",{children:[this.getResizeShape(),r.isSelected&&!i?this.getControlGroup():""]})},e})(O1);var T_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),I1=function(){return I1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},I1.apply(this,arguments)};(function(n){T_(e,n);function e(t,r){var i=n.call(this,t,r)||this,o=t.properties.nodeSize;return o&&(i.rx=o.rx,i.ry=o.ry),i}return e.prototype.initNodeData=function(t){n.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},e.prototype.getOutlineStyle=function(){var t=n.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(t){if(t===void 0&&(t=!0),t){var r={widthPCT:100,heightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},o={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},e})(m1);(function(n){T_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var t=this.props,r=t.model,i=t.graphModel;return Te(rc,{model:r,graphModel:i})},e.prototype.getResizeShape=function(){var t=this.props.model,r=t.points,i=t.getNodeStyle();return Te("g",{children:Te(mg,I1({},i,{points:r}))})},e.prototype.getShape=function(){var t=this.props,r=t.model.isSelected,i=t.graphModel.editConfigModel.isSilentMode;return Te("g",{children:[this.getResizeShape(),r&&!i?this.getControlGroup():""]})},e})(E1);var N_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}();(function(n){N_(e,n);function e(t,r){var i=n.call(this,t,r)||this,o=t.properties.nodeSize;return o&&(i.width=o.width,i.height=o.height),i}return e.prototype.initNodeData=function(t){n.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var t=n.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(t){if(t===void 0&&(t=!0),t){var r={widthPCT:100,heightPCT:100},i={basisWidth:this.width,basisHeight:this.height},o={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},e})(V0);(function(n){N_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var t=this.props,r=t.model,i=t.graphModel;return Te(rc,{model:r,graphModel:i})},e.prototype.getResizeShape=function(){return n.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props,r=t.model.isSelected,i=t.graphModel.editConfigModel.isSilentMode;return Te("g",{children:[this.getResizeShape(),r&&!i?this.getControlGroup():""]})},e})(W0);var D_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vF=function(n){D_(e,n);function e(t,r){var i=n.call(this,t,r)||this,o=t.properties.nodeSize;return o&&(i.width=o.width,i.height=o.height),i}return e.prototype.initNodeData=function(t){n.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},e.prototype.getOutlineStyle=function(){var t=n.prototype.getOutlineStyle.call(this),r=this.graphModel.editConfigModel.isSilentMode;return r||(t.stroke="none",t.hover&&(t.hover.stroke="none")),t},e.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},e.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},e.prototype.enableProportionResize=function(t){if(t===void 0&&(t=!0),t){var r={widthPCT:100,heightPCT:100},i={basisWidth:this.width,basisHeight:this.height},o={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:r,ResizeBasis:i,ScaleLimit:o}}else delete this.PCTResizeInfo},e}(ll),gF=function(n){D_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var t=this.props,r=t.model,i=t.graphModel;return Te(rc,{model:r,graphModel:i})},e.prototype.getResizeShape=function(){return n.prototype.getShape.call(this)},e.prototype.getShape=function(){var t=this.props,r=t.model.isSelected,i=t.graphModel.editConfigModel.isSilentMode;return Te("g",{children:[this.getResizeShape(),r&&!i?this.getControlGroup():""]})},e}(Js),P_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ud=function(){return ud=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ud.apply(this,arguments)},Ps=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Rs=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},W4=500,z4=300,mF=-1e4;(function(n){P_(e,n);function e(){var t=n.apply(this,Rs([],Ps(arguments),!1))||this;return t.isGroup=!0,t.isFolded=!1,t.unfoldedWidth=W4,t.unfoldedHeight=z4,t.childrenLastFoldStatus={},t}return e.prototype.initNodeData=function(t){var r=this;n.prototype.initNodeData.call(this,t);var i=[];hn(t.children)&&(i=t.children),this.children=new Set(i),this.width=W4,this.height=z4,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=mF,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=!!this.properties.isFolded,setTimeout(function(){r.isFolded&&r.foldGroup(r.isFolded)})},e.prototype.getResizeOutlineStyle=function(){var t=n.prototype.getResizeOutlineStyle.call(this);return t.stroke="none",t},e.prototype.foldGroup=function(t){var r=this;if(t!==this.isFolded){this.setProperty("isFolded",t),this.isFolded=t,t?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHeight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHeight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=Rs(Rs([],Ps(this.incoming.edges),!1),Ps(this.outgoing.edges),!1);this.children.forEach(function(o){var a=r.graphModel.getElement(o);if(a){var l=a.isFolded;if(a.isGroup&&!a.isFolded&&a.foldGroup(t),a.isGroup&&!t){var u=r.childrenLastFoldStatus[o];u!==void 0&&u!==a.isFolded&&a.foldGroup(u)}r.childrenLastFoldStatus[o]=!!l,a.visible=!t;var c=a.incoming.edges,f=a.outgoing.edges;i=Rs(Rs(Rs([],Ps(i),!1),Ps(c),!1),Ps(f),!1)}}),this.foldEdge(t,i)}},e.prototype.getAnchorStyle=function(t){var r=n.prototype.getAnchorStyle.call(this,t);return r.stroke="transparent",r.fill="transparent",r.hover.fill="transparent",r.hover.stroke="transparent",r},e.prototype.foldEdge=function(t,r){var i=this;r.forEach(function(o,a){var l=o.id,u=o.sourceNodeId,c=o.targetNodeId,f=o.startPoint,v=o.endPoint,m=o.type,y=o.text,_=o.getProperties(),b={id:"".concat(l,"__").concat(a),sourceNodeId:u,targetNodeId:c,startPoint:f,endPoint:v,type:m,properties:_,text:y==null?void 0:y.value};o.virtual&&i.graphModel.deleteEdgeById(o.id);var w=i.graphModel.group.getNodeGroup(c);w||(w=i.graphModel.getNodeModelById(c));var x=i.graphModel.group.getNodeGroup(u);x||(x=i.graphModel.getNodeModelById(u)),t&&o.visible!==!1&&(i.children.has(u)||i.id===u?(b.startPoint=void 0,b.sourceNodeId=i.id):(b.endPoint=void 0,b.targetNodeId=i.id),(w.id!==i.id||x.id!==i.id)&&i.createVirtualEdge(b),o.visible=!1),!t&&o.visible===!1&&(w&&w.isGroup&&w.isFolded?(b.targetNodeId=w.id,b.endPoint=void 0,i.createVirtualEdge(b)):x&&x.isGroup&&x.isFolded?(b.sourceNodeId=x.id,b.startPoint=void 0,i.createVirtualEdge(b)):o.visible=!0)})},e.prototype.createVirtualEdge=function(t){t.pointsList=void 0;var r=this.graphModel.addEdge(t);r.virtual=!0,r.text.editable=!1,r.isFoldedEdge=!0},e.prototype.isInRange=function(t){var r=t.minX,i=t.minY,o=t.maxX,a=t.maxY;return r>=this.x-this.width/2&&o<=this.x+this.width/2&&i>=this.y-this.height/2&&a<=this.y+this.height/2},e.prototype.isAllowMoveTo=function(t){var r=t.minX,i=t.minY,o=t.maxX,a=t.maxY;return{x:r>=this.x-this.width/2&&o<=this.x+this.width/2,y:i>=this.y-this.height/2&&a<=this.y+this.height/2}},e.prototype.setAllowAppendChild=function(t){this.setProperty("groupAddable",t)},e.prototype.addChild=function(t){this.children.add(t),this.graphModel.eventCenter.emit("group:add-node",{data:this.getData()})},e.prototype.removeChild=function(t){this.children.delete(t),this.graphModel.eventCenter.emit("group:remove-node",{data:this.getData()})},e.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},e.prototype.getData=function(){var t=this,r=n.prototype.getData.call(this);r.children=[],this.children.forEach(function(o){var a=t.graphModel.getNodeModelById(o);a&&!a.virtual&&r.children.push(o)});var i=r.properties;return i==null||delete i.groupAddable,i==null||delete i.isFolded,r},e.prototype.getHistoryData=function(){var t=n.prototype.getData.call(this);t.children=Rs([],Ps(this.children),!1),t.isGroup=!0;var r=t.properties;return r==null||delete r.groupAddable,r!=null&&r.isFolded&&(t.x=t.x+this.unfoldedWidth/2-this.foldedWidth/2,t.y=t.y+this.unfoldedHeight/2-this.foldedHeight/2),t},e.prototype.isAllowAppendIn=function(t){return console.info("_nodeData",t),!0},e.prototype.toBack=function(){this.zIndex--},e})(vF);(function(n){P_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getControlGroup=function(){var t=this.props.model,r=t.resizable,i=t.properties;return r&&!i.isFolded?n.prototype.getControlGroup.call(this):null},e.prototype.getAddableShape=function(){var t=this.props.model,r=t.width,i=t.height,o=t.x,a=t.y,l=t.radius,u=t.properties,c=t.getAddableOutlineStyle;if(!u.groupAddable)return null;var f=this.props.model.getNodeStyle().strokeWidth,v=f===void 0?0:f,m=c(),y=r+v+8,_=i+v+8;return ht("rect",ud(ud({},m),{width:y,height:_,x:o-y/2,y:a-_/2,rx:l,ry:l}))},e.prototype.getFoldIcon=function(){var t=this.props.model,r=t.x-t.width/2+5,i=t.y-t.height/2+5;if(!t.foldable)return null;var o=ht("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:t.properties.isFolded?"M ".concat(r+3,",").concat(i+6," ").concat(r+11,",").concat(i+6," M").concat(r+7,",").concat(i+2," ").concat(r+7,",").concat(i+10):"M ".concat(r+3,",").concat(i+6," ").concat(r+11,",").concat(i+6," ")});return ht("g",{},[ht("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:t.x-t.width/2+5,y:t.y-t.height/2+5,onClick:function(){t.foldGroup(!t.properties.isFolded)}}),o])},e.prototype.getResizeShape=function(){return ht("g",{},[this.getAddableShape(),n.prototype.getResizeShape.call(this),this.getFoldIcon()])},e})(gF);var U4=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),S0=function(){return S0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},S0.apply(this,arguments)};function yF(n){var e=function(r){U4(i,r);function i(o,a){o.id||(o.id="Flow_".concat(uF()));var l=S0(S0(S0({},{}),o.properties),{isDefaultFlow:!1});return o.properties=l,r.call(this,o,a)||this}return i.extendKey="SequenceFlowModel",i}(al),t=function(r){U4(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.prototype.getStartArrow=function(){var o=this.props.model,a=o.properties.isDefaultFlow;return a?ht("path",{refX:15,stroke:"#000000",strokeWidth:2,d:"M 20 5 10 -5 z"}):ht("path",{d:""})},i.extendKey="SequenceFlowEdge",i}(ul);return{type:"bpmn:sequenceFlow",view:t,model:e}}yF();var G4={width:40,height:40},X4={width:40,height:40},Z4={width:100,height:80},dd={width:100,height:80},Y4={width:100,height:80},q4={width:100,height:80},K4={width:100,height:80},J4={width:100,height:80},Q4={width:100,height:80},e5={width:100,height:80},zr=function(){};zr.ObjTree=function(){return this};zr.ObjTree.VERSION="0.23";zr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;zr.ObjTree.prototype.attr_prefix="-";zr.ObjTree.prototype.parseXML=function(n){var e;if(window.DOMParser){var t=new DOMParser,r=t.parseFromString(n,"application/xml");if(!r)return;e=r.documentElement}else window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(n),e=t.documentElement);if(e){var i=this.parseDOM(e);return i}};zr.ObjTree.prototype.parseHTTP=function(n,e,t){var r={};for(var i in e)r[i]=e[i];if(r.method||(typeof r.postBody>"u"&&typeof r.postbody>"u"&&typeof r.parameters>"u"?r.method="get":r.method="post"),t){r.asynchronous=!0;var o=this,a=t,l=r.onComplete;r.onComplete=function(f){var v;f&&f.responseXML&&f.responseXML.documentElement&&(v=o.parseDOM(f.responseXML.documentElement)),a(v,f),l&&l(f)}}else r.asynchronous=!1;var u;if(typeof HTTP<"u"&&HTTP.Request){r.uri=n;var c=new HTTP.Request(r);c&&(u=c.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var c=new Ajax.Request(n,r);c&&(u=c.transport)}if(t)return u;if(u&&u.responseXML&&u.responseXML.documentElement)return this.parseDOM(u.responseXML.documentElement)};zr.ObjTree.prototype.parseDOM=function(n){if(n){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var t=this.parseElement(n);if(this.__force_array[n.nodeName]&&(t=[t]),n.nodeType!==11){var r={};r[n.nodeName]=t,t=r}return t}};zr.ObjTree.prototype.parseElement=function(n){if(n.nodeType!==7){if(n.nodeType===3||n.nodeType===4||n.nodeType===8){var e=n.nodeValue.match(/[^\x00-\x20]/);return e==null?void 0:n.nodeValue}var t=null,r={};if(n.attributes&&n.attributes.length){t={};for(var i=0;i<n.attributes.length;i++){var o=n.attributes[i].nodeName;if(typeof o=="string"){var a=n.attributes[i].nodeValue;try{a=JSON.parse(n.attributes[i].nodeValue.replace(/'/g,'"'))}catch{a=n.attributes[i].nodeValue}a!=null&&(o=this.attr_prefix+o,typeof r[o]>"u"&&(r[o]=0),r[o]++,this.addNode(t,o,r[o],a))}}}if(n.childNodes&&n.childNodes.length){var l=!0;t&&(l=!1);for(var i=0;i<n.childNodes.length&&l;i++){var u=n.childNodes[i].nodeType;u===3||u===4||u===8||(l=!1)}if(l){t||(t="");for(var i=0;i<n.childNodes.length;i++)t+=n.childNodes[i].nodeValue}else{t||(t={});for(var i=0;i<n.childNodes.length;i++){var o=n.childNodes[i].nodeName;if(typeof o=="string"){var a=this.parseElement(n.childNodes[i]);a&&(typeof r[o]>"u"&&(r[o]=0),r[o]++,this.addNode(t,o,r[o],a))}}}}else t===null&&(t={});return t}};zr.ObjTree.prototype.addNode=function(n,e,t,r){this.__force_array[e]?(t===1&&(n[e]=[]),n[e][n[e].length]=r):t===1?n[e]=r:t===2?n[e]=[n[e],r]:n[e][n[e].length]=r};zr.ObjTree.prototype.writeXML=function(n){var e=this.hash_to_xml(null,n);return this.xmlDecl+e};zr.ObjTree.prototype.hash_to_xml=function(n,e){var t=[],r=[];for(var i in e)if(Eu(e,i)){var o=e[i];i.charAt(0)!==this.attr_prefix?typeof o>"u"||o==null?t[t.length]="<".concat(i," />"):typeof o=="object"&&o.constructor===Array?t[t.length]=this.array_to_xml(i,o):typeof o=="object"?t[t.length]=this.hash_to_xml(i,o):t[t.length]=this.scalar_to_xml(i,o):r[r.length]=" ".concat(i.substring(1),'="').concat(this.xml_escape(o),'"')}var a=r.join(""),l=t.join("");return typeof n>"u"||n==null||(t.length>0?l.match(/\n/)?l="<".concat(n).concat(a,`>
`).concat(l,"</").concat(n,`>
`):l="<".concat(n).concat(a,">").concat(l,"</").concat(n,`>
`):l="<".concat(n).concat(a,` />
`)),l};zr.ObjTree.prototype.array_to_xml=function(n,e){for(var t=[],r=0;r<e.length;r++){var i=e[r];typeof i>"u"||i==null?t[t.length]="<".concat(n," />"):typeof i=="object"&&i.constructor===Array?t[t.length]=this.array_to_xml(n,i):typeof i=="object"?t[t.length]=this.hash_to_xml(n,i):t[t.length]=this.scalar_to_xml(n,i)}return t.join("")};zr.ObjTree.prototype.scalar_to_xml=function(n,e){return n==="#text"?this.xml_escape(e):"<".concat(n,">").concat(this.xml_escape(e),"</").concat(n,`>
`)};zr.ObjTree.prototype.xml_escape=function(n){return n.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var _F=function(n){return new zr.ObjTree().parseXML(n)};function R_(n){return Object.prototype.toString.call(n)}function t5(n){return"  ".repeat(n)}function cd(n){return R_(n)==="[object Object]"?Object.keys(n).reduce(function(e,t){var r=t;return t.charAt(0)==="-"&&(r=t.substring(1)),e[r]=cd(n[t]),e},{}):Array.isArray(n)?n.map(function(e){return cd(e)}):n}function bF(n){var e=n;try{typeof e!="string"&&(e=JSON.parse(n))}catch{e=JSON.stringify(cd(n)).replace(/"/g,"'")}return e}var n5=`	
`;function _u(n,e,t){var r=t5(t),i="",o=n5+r;if(e==="-json")return"";if(e==="#text")return o+n;if(e==="#cdata-section")return"".concat(o,"<![CDATA[").concat(n,"]]>");if(e==="#comment")return"".concat(o,"<!--").concat(n,"-->");if("".concat(e).charAt(0)==="-")return" ".concat(e.substring(1),'="').concat(bF(n),'"');if(Array.isArray(n))i+=n.map(function(c){return _u(c,e,t+1)}).join("");else if(R_(n)==="[object Object]"){var a=Object.keys(n),l="",u=n["-json"]?n5+t5(t+1)+n["-json"]:"";i+="".concat(t===0?"":o,"<").concat(e),a.forEach(function(c){c.charAt(0)==="-"?l+=_u(n[c],c,t+1):u+=_u(n[c],c,t+1)}),i+=l+(u!==""?">".concat(u).concat(o,"</").concat(e,">"):" />")}else i+="".concat(o,"<").concat(e,">").concat(n.toString(),"</").concat(e,">");return i}function CF(n){var e="";for(var t in n)e+=_u(n[t],t,0);return e}var wF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),B1=function(){return B1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},B1.apply(this,arguments)},r5=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},bg=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Er=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},Vi=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},jr;(function(n){n.START="bpmn:startEvent",n.END="bpmn:endEvent",n.INTERMEDIATE_CATCH="bpmn:intermediateCatchEvent",n.INTERMEDIATE_THROW="bpmn:intermediateThrowEvent",n.BOUNDARY="bpmn:boundaryEvent",n.PARALLEL_GATEWAY="bpmn:parallelGateway",n.INCLUSIVE_GATEWAY="bpmn:inclusiveGateway",n.EXCLUSIVE_GATEWAY="bpmn:exclusiveGateway",n.USER="bpmn:userTask",n.SYSTEM="bpmn:serviceTask",n.FLOW="bpmn:sequenceFlow",n.SUBPROCESS="bpmn:subProcess"})(jr||(jr={}));var H_=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef","-children"],xF=["properties","startPoint","endPoint","pointsList"],fd={in:[],out:["properties.panels","properties.nodeSize","properties.definitionId","properties.timerValue","properties.timerType","properties.definitionType","properties.parent","properties.isBoundaryEventTouchingTask"]},I_=function(n,e){var t=Object.keys(e||{});return t.forEach(function(r){if(n[r]){var i=e[r],o=i.in,a=i.out;o&&(n[r].in=o),a&&(n[r].out=a)}else n[r]=e[r]}),n},mi={"bpmn:startEvent":{out:function(n){var e,t,r=n.properties;return((t=(e=mi[r.definitionType])===null||e===void 0?void 0:e.out)===null||t===void 0?void 0:t.call(e,n))||{}}},"bpmn:intermediateCatchEvent":{out:function(n){var e,t,r=n.properties;return((t=(e=mi[r.definitionType])===null||e===void 0?void 0:e.out)===null||t===void 0?void 0:t.call(e,n))||{}}},"bpmn:intermediateThrowEvent":{out:function(n){var e,t,r=n.properties;return((t=(e=mi[r.definitionType])===null||e===void 0?void 0:e.out)===null||t===void 0?void 0:t.call(e,n))||{}}},"bpmn:boundaryEvent":{out:function(n){var e,t,r=n.properties;return((t=(e=mi[r.definitionType])===null||e===void 0?void 0:e.out)===null||t===void 0?void 0:t.call(e,n))||{}}},"bpmn:sequenceFlow":{out:function(n){var e=n.properties,t=e.expressionType,r=e.condition;return r?t==="cdata"?{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression"><![CDATA[${'.concat(r,"}]]></bpmn:conditionExpression>")}:{json:'<bpmn:conditionExpression xsi:type="bpmn2:tFormalExpression">'.concat(r,"</bpmn:conditionExpression>")}:{json:""}}},"bpmn:timerEventDefinition":{out:function(n){var e=n.properties,t=e.timerType,r=e.timerValue,i=e.definitionId,o=function(){return"<bpmn:".concat(t,' xsi:type="bpmn:tFormalExpression">').concat(r,"</bpmn:").concat(t,">")};return{json:'<bpmn:timerEventDefinition id="'.concat(i,'"').concat(t&&r?">".concat(o(),"</bpmn:timerEventDefinition>"):"/>")}},in:function(n,e){var t,r,i,o,a=n,l=e["-id"],u="",c="";try{for(var f=bg(Object.keys(e)),v=f.next();!v.done;v=f.next()){var m=v.value;m.includes("bpmn:")&&(i=Er(m.split(":"),2),u=i[1],c=(o=e[m])===null||o===void 0?void 0:o["#text"])}}catch(y){t={error:y}}finally{try{v&&!v.done&&(r=f.return)&&r.call(f)}finally{if(t)throw t.error}}return{"-definitionId":l,"-definitionType":a,"-timerType":u,"-timerValue":c}}},"bpmn:conditionExpression":{in:function(n,e){var t,r="",i="";return e["#cdata-section"]?(i="cdata",r=((t=/^\$\{(.*)\}$/g.exec(e["#cdata-section"]))===null||t===void 0?void 0:t[1])||""):e["#text"]&&(i="normal",r=e["#text"]),{"-condition":r,"-expressionType":i}}}};function kF(n){var e=n??{},t=e.retainedAttrsFields,r=e.excludeFields,i=e.transformer,o=new Set(Vi(Vi([],Er(xF),!1),Er(t||[]),!1)),a={in:new Set(Vi(Vi([],Er(fd.in),!1),Er((r==null?void 0:r.in)||[]),!1)),out:new Set(Vi(Vi([],Er(fd.out),!1),Er((r==null?void 0:r.out)||[]),!1))};return mi=I_(mi,i),function(l){var u=l.nodes,c=l.edges;function f(v,m){var y,_;if((v==null?void 0:v.flag)!==1){var b;if((b=mi[v.type])&&b.out){var w=b.out(v),x=Object.keys(w);x.length>0&&x.forEach(function(Q){v[Q]=w[Q]})}v!=null&&v.children&&(v.children=v.children.map(function(Q){var ae=u.find(function(q){return q.id===Q})||c.find(function(q){return q.id===Q});return ae||{}}));var k={};if(typeof v=="string")return v;if(Array.isArray(v))return v.map(function(Q){return f(Q,"")}).filter(function(Q){return Q!=null});try{for(var N=bg(Object.entries(v)),D=N.next();!D.done;D=N.next()){var V=Er(D.value,2),U=V[0],B=V[1];if((B==null?void 0:B.flag)===1)return;var G=[m,U].filter(function(Q){return Q}).join(".");a.out.has(G)||(typeof B!="object"?U.indexOf("-")===0||["#text","#cdata-section","#comment"].includes(U)?k[U]=B:k["-".concat(U)]=B:o.has(G)?k["-".concat(U)]=f(B,G):k[U]=f(B,G))}}catch(Q){y={error:Q}}finally{try{D&&!D.done&&(_=N.return)&&_.call(N)}finally{if(y)throw y.error}}return k}}return f(l,"")}}function hd(n){var e,t,r={};try{for(var i=bg(Object.entries(n)),o=i.next();!o.done;o=i.next()){var a=Er(o.value,2),l=a[0],u=a[1];l.indexOf("-")===0?r[l.substring(1)]=cd(u):typeof u=="string"?r[l]=u:Object.prototype.toString.call(u)==="[object Object]"?r[l]=hd(u):Array.isArray(u)?r[l]=u.map(function(c){return hd(c)}):r[l]=u}}catch(c){e={error:c}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return r}function SF(n,e,t){var r,i=new Map,o=kF(t)(e);o.nodes.forEach(function(l){var u=l["-id"],c=l["-type"],f=l.text,v=l.children,m=r5(l,["-id","-type","text","children"]),y={"-id":u};f!=null&&f["-value"]&&(y["-name"]=f["-value"]),m["-json"]&&(y["-json"]=m["-json"]),m["-properties"]&&Object.assign(y,m["-properties"]),v&&(y.children=v),n[c]||(n[c]=[]),n[c].push(y),i.set(u,y)});var a=o.edges.map(function(l){var u=l["-id"],c=l["-sourceNodeId"],f=l["-targetNodeId"],v=l.text,m=r5(l,["-id","-sourceNodeId","-targetNodeId","text"]),y=i.get(f);y["bpmn:incoming"]||(y["bpmn:incoming"]=[]),y["bpmn:incoming"].push(u);var _={"-id":u,"-sourceRef":c,"-targetRef":f};return v!=null&&v["-value"]&&(_["-name"]=v["-value"]),m["-json"]&&(_["-json"]=m["-json"]),m["-properties"]&&Object.assign(_,m["-properties"]),_});return e.edges.forEach(function(l){var u=l.sourceNodeId,c=l.id,f=i.get(u);f["bpmn:outgoing"]||(f["bpmn:outgoing"]=[]),f["bpmn:outgoing"].push(c)}),(r=n["bpmn:subProcess"])===null||r===void 0||r.forEach(function(l){var u={"bpmn:incoming":new Set,"bpmn:outgoing":new Set},c=[];l.children.forEach(function(b){var w,x=i.get(b["-id"]);["bpmn:incoming","bpmn:outgoing"].forEach(function(N){x[N]&&x[N].forEach(function(D){u[N].add(D)})});var k=(w=n[b["-type"]])===null||w===void 0?void 0:w.findIndex(function(N){return N["-id"]===b["-id"]});k>=0&&n[b["-type"]].splice(k,1),i.delete(b["-id"]),l[b["-type"]]||(l[b["-type"]]=[]),l[b["-type"]].push(x)});var f=u["bpmn:incoming"],v=u["bpmn:outgoing"];v.forEach(function(b){f.has(b)&&c.push(b)});for(var m=function(b){var w=a.findIndex(function(x){return x["-id"]===c[b]});w>=0?(l["bpmn:sequenceFlow"]||(l["bpmn:sequenceFlow"]=[]),l["bpmn:sequenceFlow"].push(a[w]),a.splice(w,1)):b++,y=b},y,_=0;_<c.length;)m(_),_=y;delete l.children}),n[jr.FLOW]=a,n}function EF(n,e){n["bpmndi:BPMNEdge"]=e.edges.map(function(t){var r,i=t.id,o=t.pointsList.map(function(l){var u=l.x,c=l.y;return{"-x":u,"-y":c}}),a={"-id":"".concat(i,"_di"),"-bpmnElement":i,"di:waypoint":o};return!((r=t.text)===null||r===void 0)&&r.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-t.text.value.length*10/2,"-y":t.text.y-7,"-width":t.text.value.length*10,"-height":14}}),a}),n["bpmndi:BPMNShape"]=e.nodes.map(function(t){var r,i=t.id,o=100,a=80,l=t.x,u=t.y,c=ni.shapeConfigMap.get(t.type);c&&(o=c.width,a=c.height),l-=o/2,u-=a/2;var f={"-id":"".concat(i,"_di"),"-bpmnElement":i,"dc:Bounds":{"-x":l,"-y":u,"-width":o,"-height":a}};return!((r=t.text)===null||r===void 0)&&r.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-t.text.value.length*10/2,"-y":t.text.y-7,"-width":t.text.value.length*10,"-height":14}}),f})}var MF=["bpmn:incoming","bpmn:outgoing"];function OF(n,e){var t=[],r=[],i=new Map,o=e??{},a=o.transformer,l=o.excludeFields,u={in:new Set(Vi(Vi([],Er(fd.in),!1),Er((l==null?void 0:l.in)||[]),!1)),out:new Set(Vi(Vi([],Er(fd.out),!1),Er((l==null?void 0:l.out)||[]),!1))};mi=I_(mi,a);var c=n["bpmn:definitions"];if(c){var f=c["bpmn:process"];(function(m,y){y.forEach(function(_){try{Object.keys(m).forEach(function(b){try{_(b)}catch(w){console.error(w)}})}catch(b){console.error(b)}})})(f,[function(m){function y(b){b["-children"]||(b["-children"]=[]),Object.keys(b).forEach(function(w){var x;w.indexOf("bpmn:")===0&&!MF.includes(w)&&(f[w]||(f[w]=[]),!Array.isArray(f[w])&&(f[w]=[f[w]]),Array.isArray(b[w])?(x=f[w]).push.apply(x,Vi([],Er(b[w]),!1)):f[w].push(b[w]),Array.isArray(b[w])?b[w].forEach(function(k){!w.includes("Flow")&&b["-children"].push(k["-id"])}):!w.includes("Flow")&&b["-children"].push(b[w]["-id"]),delete b[w])})}if(m==="bpmn:subProcess"){var _=f[m];Array.isArray(_)?_.forEach(function(b){m==="bpmn:subProcess"&&y(b)}):y(_)}},function(m){var y=function(b){Object.keys(b).forEach(function(w){var x,k;if(w.includes("bpmn:")){var N={};mi[w]&&mi[w].in?(N=(k=(x=mi[w]).in)===null||k===void 0?void 0:k.call(x,w,Z.cloneDeep(b[w])),delete b[w]):_(b[w]);var D=void 0;(D=Reflect.ownKeys(N)).length>0&&D.forEach(function(V){Reflect.set(b,V,N[V])})}})};function _(b){i.set(b["-id"],b),Array.isArray(b)?b.forEach(function(w){_(w)}):typeof b=="object"&&y(b)}_(f[m])},function(m){if(m.indexOf("bpmn:")===0){var y=f[m];if(m==="bpmn:sequenceFlow"){var _=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];r=LF(y,_)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];if(m==="bpmn:boundaryEvent"){var w=f[m],x=function(k){var N=k["-attachedToRef"],D=i.get(N);D["-boundaryEvents"]||(D["-boundaryEvents"]=[]),D["-boundaryEvents"].push(k["-id"])};Array.isArray(w)?w.forEach(function(k){x(k)}):x(w)}t=t.concat(AF(y,b,m))}}}])}var v=function(m,y,_){Object.keys(m).forEach(function(b){var w=_?"".concat(_,".").concat(b):b;y.has(w)?delete m[b]:typeof m[b]=="object"&&v(m[b],y,w)})};return t.forEach(function(m){var y,_;if(!((y=e==null?void 0:e.mapping)===null||y===void 0)&&y.in){var b=(_=e==null?void 0:e.mapping)===null||_===void 0?void 0:_.in,w=m.type;b[w]&&(m.type=b[w])}v(m,u.in,"")}),r.forEach(function(m){var y,_;if(!((y=e==null?void 0:e.mapping)===null||y===void 0)&&y.in){var b=(_=e==null?void 0:e.mapping)===null||_===void 0?void 0:_.in,w=m.type;b[w]&&(m.type=b[w])}v(m,u.in,"")}),{nodes:t,edges:r}}function AF(n,e,t){var r=[];if(Array.isArray(n))n.forEach(function(a){var l;Array.isArray(e)?l=e.find(function(c){return c["-bpmnElement"]===a["-id"]}):l=e;var u=i5(l,t,a);r.push(u)});else{var i=void 0;Array.isArray(e)?i=e.find(function(a){return a["-bpmnElement"]===n["-id"]}):i=e;var o=i5(i,t,n);r.push(o)}return r}function i5(n,e,t){var r=Number(n["dc:Bounds"]["-x"]),i=Number(n["dc:Bounds"]["-y"]),o=t["-children"],a=t["-name"],l=ni.shapeConfigMap.get(e);l&&(r+=l.width/2,i+=l.height/2);var u={};Object.entries(t).forEach(function(m){var y=Er(m,2),_=y[0],b=y[1];H_.includes(_)||(u[_]=b)}),u=hd(u);var c;if(a&&(c={x:r,y:i,value:a},n["bpmndi:BPMNLabel"]&&n["bpmndi:BPMNLabel"]["dc:Bounds"])){var f=n["bpmndi:BPMNLabel"]["dc:Bounds"];c.x=Number(f["-x"])+Number(f["-width"])/2,c.y=Number(f["-y"])+Number(f["-height"])/2}var v={id:n["-bpmnElement"],type:e,x:r,y:i,properties:u};return o&&(v.children=o),c&&(v.text=c),v}function LF(n,e){var t=[];if(Array.isArray(n))n.forEach(function(i){var o;Array.isArray(e)?o=e.find(function(a){return a["-bpmnElement"]===i["-id"]}):o=e,t.push(o5(o,i))});else{var r=void 0;Array.isArray(e)?r=e.find(function(i){return i["-bpmnElement"]===n["-id"]}):r=e,t.push(o5(r,n))}return t}function o5(n,e){var t,r=e["-name"]?"".concat(e["-name"]):"";if(r){var i=n["bpmndi:BPMNLabel"]["dc:Bounds"],o=0;r.split(`
`).forEach(function(c){o<c.length&&(o=c.length)}),t={value:r,x:Number(i["-x"])+o*10/2,y:Number(i["-y"])+7}}var a={};Object.entries(e).forEach(function(c){var f=Er(c,2),v=f[0],m=f[1];H_.includes(v)||(a[v]=m)}),a=hd(a);var l=n["di:waypoint"].map(function(c){return{x:Number(c["-x"]),y:Number(c["-y"])}}),u={id:e["-id"],type:jr.FLOW,pointsList:l,sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:a};return t&&(u.text=t),u}var ni=function(){function n(e){var t=e.lf,r=this;this.adapterOut=function(i,o){var a,l,u=B1({},r.processAttributes);SF(u,i,o);var c={"-id":"BPMNPlane_1","-bpmnElement":u["-id"]};EF(c,i);var f=r.definitionAttributes;f["bpmn:process"]=u,f["bpmndi:BPMNDiagram"]={"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c};var v={"bpmn:definitions":f};if(!((a=o==null?void 0:o.mapping)===null||a===void 0)&&a.out){var m=(l=o==null?void 0:o.mapping)===null||l===void 0?void 0:l.out,y=function(_){Array.isArray(_)&&_.forEach(function(b){return y(b)}),typeof _=="object"&&Object.keys(_).forEach(function(b){var w;(w=m[b])?(_[w]=Z.cloneDeep(_[b]),delete _[b],y(_[w])):y(_[b])})};y(v)}return v},this.adapterIn=function(i,o){if(i)return OF(i,o)},t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut,this.processAttributes={"-isExecutable":"true","-id":"Process"},this.definitionAttributes={"-id":"Definitions","-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://logic-flow.org","-exporter":"logicflow","-exporterVersion":"1.2.10"}}return n.prototype.setCustomShape=function(e,t){n.shapeConfigMap.set(e,t)},n.pluginName="bpmn-adapter",n.shapeConfigMap=new Map,n}();ni.shapeConfigMap.set(jr.START,{width:G4.width,height:G4.height});ni.shapeConfigMap.set(jr.END,{width:X4.width,height:X4.height});ni.shapeConfigMap.set(jr.INTERMEDIATE_CATCH,{width:dd.width,height:dd.height});ni.shapeConfigMap.set(jr.INTERMEDIATE_THROW,{width:dd.width,height:dd.height});ni.shapeConfigMap.set(jr.BOUNDARY,{width:Z4.width,height:Z4.height});ni.shapeConfigMap.set(jr.PARALLEL_GATEWAY,{width:Y4.width,height:Y4.height});ni.shapeConfigMap.set(jr.INCLUSIVE_GATEWAY,{width:q4.width,height:q4.height});ni.shapeConfigMap.set(jr.EXCLUSIVE_GATEWAY,{width:K4.width,height:K4.height});ni.shapeConfigMap.set(jr.SYSTEM,{width:J4.width,height:J4.height});ni.shapeConfigMap.set(jr.USER,{width:Q4.width,height:Q4.height});ni.shapeConfigMap.set(jr.SUBPROCESS,{width:e5.width,height:e5.height});(function(n){wF(e,n);function e(t){var r=n.call(this,t)||this;r.adapterXmlIn=function(a){var l=_F(a);return r.adapterIn(l,r.props)},r.adapterXmlOut=function(a){var l=r.adapterOut(a,r.props);return CF(l)};var i=t.lf,o=t.props;return i.adapterIn=r.adapterXmlIn,i.adapterOut=r.adapterXmlOut,r.props=o,r}return e.pluginName="BPMNAdapter",e})(ni);function TF(n,e,t){var r=e.x,i=e.y,o=n.x,a=n.y,l=o-r,u=a-i,c=l*Math.cos(t)-u*Math.sin(t),f=l*Math.sin(t)+u*Math.cos(t),v=c+r,m=f+i;return{x:v,y:m}}var NF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),pd=function(){return pd=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},pd.apply(this,arguments)},DF=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},PF=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};(function(n){NF(e,n);function e(){var t=n.apply(this,PF([],DF(arguments),!1))||this;return t.childrenPositionMap=new Map,t.onNodeRotate=function(r){var i=r.model,o=t.props,a=o.model,l=o.graphModel,u=a.transformWithContainer,c=a.isRestrict,f=t.childrenPositionMap;if(!(!u||c)&&i.id===a.id){var v={x:a.x,y:a.y};cn(Array.from(a.children),function(m){var y=l.getNodeModelById(m);if(y){var _={x:y.x,y:y.y};f.has(y.id)?_=f.get(y.id):f.set(y.id,_);var b=i.rotate*(180/Math.PI);b<0&&(b+=360);var w=b*(Math.PI/180),x=TF(_,v,w);y.moveTo(x.x,x.y),y.rotate=i.rotate}})}},t.onNodeResize=function(r){var i=r.deltaX,o=r.deltaY,a=r.index,l=r.model,u=r.preData,c=t.props,f=c.model,v=c.graphModel,m=f.transformWithContainer,y=f.isRestrict;if(!(!m||y)&&l.id===f.id){var _=u.properties,b=_||{},w=b.width,x=b.height;cn(Array.from(f.children),function(k){var N=v.getNodeModelById(k);if(N){var D=N.width/w*i,V=N.height/x*o;v_({deltaX:D,deltaY:V,index:a,nodeModel:N,graphModel:v,cancelCallback:function(){}})}})}},t.onNodeMouseMove=function(){},t.graphRendered=function(){var r=t.props.model;r.isCollapsed&&r.toggleCollapse(!0)},t}return e.prototype.componentDidMount=function(){n.prototype.componentDidMount.call(this);var t=this.props.graphModel.eventCenter;t.on("node:rotate",this.onNodeRotate),t.on("node:resize",this.onNodeResize),t.on("node:mousemove",this.onNodeMouseMove),t.on("graph:rendered",this.graphRendered)},e.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this);var t=this.props.graphModel.eventCenter;t.off("node:rotate",this.onNodeRotate),t.off("node:resize",this.onNodeResize),t.off("node:mousemove",this.onNodeMouseMove),t.off("graph:rendered",this.graphRendered)},e.prototype.getNodesInGroup=function(t,r){var i=this,o=[];return t.isGroup&&cn(Array.from(t.children),function(a){o.push(a);var l=r.getNodeModelById(a);l!=null&&l.isGroup&&(o=o.concat(i.getNodesInGroup(l,r)))}),o},e.prototype.getResizeControl=function(){var t=this.props.model,r=t.resizable,i=t.isCollapsed,o=r&&!i;return o?n.prototype.getResizeControl.call(this):null},e.prototype.getAppendAreaShape=function(){var t=this.props.model,r=t.width,i=t.height,o=t.x,a=t.y,l=t.radius,u=t.groupAddable;if(!u)return null;var c=t.getNodeStyle().strokeWidth,f=c===void 0?0:c,v=t.getAddableOutlineStyle(),m=r+f+8,y=i+f+8;return ht("rect",pd(pd({},v),{width:m,height:y,x:o-m/2,y:a-y/2,rx:l,ry:l}))},e.prototype.getCollapseIcon=function(t,r){return"M ".concat(t+3,",").concat(r+6," ").concat(t+11,",").concat(r+6," M").concat(t+7,",").concat(r+2," ").concat(t+7,",").concat(r+10)},e.prototype.getExpandIcon=function(t,r){return"M ".concat(t+3,",").concat(r+6," ").concat(t+11,",").concat(r+6," ")},e.prototype.getOperateIcon=function(){var t=this.props.model,r=t.x,i=t.y,o=t.width,a=t.height,l=r-o/2+10,u=i-a/2+10;if(!t.collapsible)return null;var c=t!=null&&t.isCollapsed?this.getCollapseIcon(l,u):this.getExpandIcon(l,u),f=ht("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c});return ht("g",{},[ht("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#f4f5f6",stroke:"#cecece",cursor:"pointer",x:l,y:u,onClick:function(){t.toggleCollapse(!t.isCollapsed)}}),f])},e.prototype.getShape=function(){return ht("g",{},[this.getAppendAreaShape(),n.prototype.getShape.call(this),this.getOperateIcon()])},e})(Js);var RF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),vd=function(){return vd=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},vd.apply(this,arguments)},wf=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},ja=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},o0=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},HF=400,IF=230,BF=80,jF=60,FF=-1e4;(function(n){RF(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.isGroup=!0,i.isRestrict=!1,i.autoResize=!1,i.collapsible=!0,i.isCollapsed=!1,i.groupAddable=!1,i.transformWithContainer=!1,i.childrenLastCollapseStateDict=new Map,i.childrenLastCollapseStateDict=new Map,i.initNodeData(t),i.setAttributes(),i}return e.prototype.initNodeData=function(t){var r;n.prototype.initNodeData.call(this,t);var i=(r=t.properties)!==null&&r!==void 0?r:{},o=i.children,a=i.width,l=i.height,u=i.collapsedWidth,c=i.collapsedHeight,f=i.collapsible,v=i.isCollapsed,m=i.zIndex,y=i.isRestrict,_=i.autoResize,b=i.autoToFront,w=i.transformWithContainer;this.children=o?new Set(o):new Set,this.zIndex=m??FF,this.isCollapsed=v??!1,this.setProperties({isCollapsed:v??!1});var x=a??HF,k=l??IF;this.width=x,this.height=k,this.expandWidth=x,this.expandHeight=k,this.collapsedWidth=u??BF,this.collapsedHeight=c??jF,this.isRestrict=y??!1,this.transformWithContainer=w??!1,this.autoResize=_??!1,this.collapsible=f??!0,this.autoToFront=b??!1,this.text.editable=!1,this.text.draggable=!1},e.prototype.setAttributes=function(){n.prototype.setAttributes.call(this)},e.prototype.getData=function(){var t=this,r=n.prototype.getData.call(this),i=[];return cn(Array.from(this.children),function(o){var a=t.graphModel.getNodeModelById(o);a&&!a.virtual&&i.push(o)}),r.children=i,r.properties&&(r.properties.children=i,r.properties.isCollapsed=this.isCollapsed),r},e.prototype.getNodesInGroup=function(t){var r=[];return t.isGroup&&cn(Array.from(t.children),function(i){r.push(i)}),r},e.prototype.getMoveDistance=function(t,r,i){i===void 0&&(i=!1);var o=ja(n.prototype.getMoveDistance.call(this,t,r,i),2),a=o[0],l=o[1],u=this.getNodesInGroup(this);return this.graphModel.moveNodes(u,t,r,i),[a,l]},e.prototype.getHistoryData=function(){var t=n.prototype.getHistoryData.call(this);t.children=Array.from(this.children),t.isGroup=!0;var r=this,i=r.x,o=r.y,a=r.collapsedWidth,l=r.collapsedHeight,u=r.expandWidth,c=r.expandHeight,f=r.isCollapsed;return f&&(t.x=i+u/2-a/2,t.y=o+c/2-l/2,t.text&&(t.text.x=t.text.x+u/2-a/2,t.text.y=t.text.y+c/2-l/2)),t},e.prototype.toggleCollapse=function(t){var r=this,i=this.graphModel,o=!!t;this.isCollapsed=o,this.setProperties({isCollapsed:o}),i.eventCenter.emit("dynamicGroup:collapse",{collapse:o,nodeModel:this}),o?this.collapse():this.expand();var a=o0(o0([],ja(this.incoming.edges),!1),ja(this.outgoing.edges),!1),l=Array.from(this.children);cn(l,function(u){var c,f,v=r.graphModel.elementsModelMap.get(u);if(v){var m=v.isCollapsed;if(v.isGroup){var y=v;if(y.isCollapsed||y.toggleCollapse(t),!t){var _=(c=r.childrenLastCollapseStateDict)===null||c===void 0?void 0:c.get(u);_!==void 0&&_!==v.isCollapsed&&y.toggleCollapse(_)}}if((f=r.childrenLastCollapseStateDict)===null||f===void 0||f.set(u,!!m),v.visible=!t,v.BaseType===Dn.NODE){var b=v.incoming.edges,w=v.outgoing.edges;a=o0(o0(o0([],ja(a),!1),ja(b),!1),ja(w),!1)}}}),this.collapseEdge(o,a)},e.prototype.collapse=function(){var t=this,r=t.x,i=t.y,o=t.text,a=t.width,l=t.height,u=t.collapsedWidth,c=t.collapsedHeight;this.x=r-a/2+u/2,this.y=i-l/2+c/2,this.text.x=o.x-a/2+u/2,this.text.y=o.y-l/2+c/2,this.expandWidth=a,this.expandHeight=l,this.width=u,this.height=c},e.prototype.expand=function(){var t=this,r=t.x,i=t.y,o=t.text,a=t.expandWidth,l=t.expandHeight,u=t.collapsedWidth,c=t.collapsedHeight;this.width=a,this.height=l,this.x=r+this.width/2-u/2,this.y=i+this.height/2-c/2,this.text.x=o.x+this.width/2-u/2,this.text.y=o.y+this.height/2-c/2},e.prototype.createVirtualEdge=function(t){t.pointsList=void 0;var r=this.graphModel.addEdge(t);r.virtual=!0,r.text.editable=!1,r.isCollapsedEdge=!0},e.prototype.collapseEdge=function(t,r){var i=this,o=this.graphModel;cn(r,function(a,l){var u,c=a.getData(),f=c.targetNodeId,v=c.sourceNodeId,m=vd(vd({},c),{id:"".concat(c.id,"__").concat(l),text:(u=c.text)===null||u===void 0?void 0:u.value});a.virtual&&o.deleteEdgeById(a.id);var y=o.dynamicGroup.getGroupByNodeId(f);y||(y=o.getNodeModelById(f));var _=o.dynamicGroup.getGroupByNodeId(v);_||(_=o.getNodeModelById(v)),t&&a.visible&&(i.children.has(v)||i.id===v?(m.startPoint=void 0,m.sourceNodeId=i.id):(m.endPoint=void 0,m.targetNodeId=i.id),(y.id!==i.id||_.id!==i.id)&&i.createVirtualEdge(m),a.visible=!1),!t&&!a.visible&&(y&&y.isGroup&&y.isCollapsed?(m.targetNodeId=y.id,m.endPoint=void 0,i.createVirtualEdge(m)):_&&_.isGroup&&_.isCollapsed?(m.sourceNodeId=_.id,m.startPoint=void 0,i.createVirtualEdge(m)):a.visible=!0)})},e.prototype.isAllowAppendIn=function(t){return!0},e.prototype.setAllowAppendChild=function(t){this.groupAddable=t},e.prototype.addChild=function(t){this.children.add(t);var r=this.getData();this.graphModel.eventCenter.emit("group:add-node",{data:r,childId:t})},e.prototype.removeChild=function(t){this.children.delete(t);var r=this.getData();this.graphModel.eventCenter.emit("group:remove-node",{data:r})},e.prototype.toBack=function(){this.zIndex--},e.prototype.getResizeOutlineStyle=function(){var t=n.prototype.getResizeOutlineStyle.call(this);return t.stroke="none",t},e.prototype.getAnchorStyle=function(){var t=n.prototype.getAnchorStyle.call(this);return t.stroke="transparent",t.fill="transparent",t.hover&&(t.hover.fill="transparent",t.hover.stroke="transparent"),t},e.prototype.getAddableOutlineStyle=function(){return{stroke:"#feb663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},wf([De],e.prototype,"isCollapsed",void 0),wf([De],e.prototype,"groupAddable",void 0),wf([De],e.prototype,"transformWithContainer",void 0),e})(ll);var s5;(function(n){n.HORIZONTAL="horizontal",n.VERTICAL="vertical"})(s5||(s5={}));var VF=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),E0=function(){return E0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},E0.apply(this,arguments)},$F=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},WF=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},zF=function(n){VF(e,n);function e(t){var r=n.call(this,t)||this;r.textRef=Xd(),r.setHoverOn=function(){var u=r.props.element;u.isDragging||r.state.isHovered||(r.setState({isHovered:!0}),u.setHovered(!0))},r.setHoverOff=function(){var u=r.props.element;r.state.isHovered&&(r.setState({isHovered:!1}),u.setHovered(!1))},r.handleMouseDown=function(u){var c,f=r.props,v=f.label,m=f.graphModel,y=m.editConfigModel.nodeTextDraggable;((c=v.draggable)!==null&&c!==void 0?c:y)&&!r.state.isDragging&&!r.state.isEditing&&r.stepDrag.handleMouseDown(u)},r.handleMouseUp=function(u){r.state.isDragging&&r.stepDrag.handleMouseUp(u)},r.handleDragging=function(u){var c=u.deltaX,f=u.deltaY;r.state.isDragging||r.setState({isDragging:!0});var v=r.props,m=v.label,y=v.graphModel,_=y.transformModel,b=WF(_.fixDeltaXY(c,f),2),w=b[0],x=b[1];r.setElementModelLabelInfo({x:m.x+w,y:m.y+x}),y.eventCenter.emit("label:drag",{data:m.getData(),model:m})},r.handleDragEnd=function(){r.setState({isDragging:!1})},r.handleClick=function(u){var c=r.props,f=c.label,v=c.element,m=c.graphModel;v.setSelected(!r.state.isSelected),r.setState({isSelected:!r.state.isSelected}),r.setElementModelLabelInfo({isSelected:!0}),m.eventCenter.emit("label:click",{data:f.getData(),e:u,model:v})},r.handleDbClick=function(u){var c=r.props,f=c.label,v=c.element,m=c.graphModel;if(m.eventCenter.emit("label:dblclick",{data:f.getData(),e:u,model:v}),!f.editable){v.setSelected(!0);return}if(v.setSelected(),v.setElementState(tn.TEXT_EDIT),r.setState({isEditing:!0}),r.textRef.current){r.textRef.current.contentEditable="true",r.textRef.current.focus();var y=document.createRange(),_=window.getSelection();y.selectNodeContents(r.textRef.current),y.collapse(!1),_==null||_.removeAllRanges(),_==null||_.addRange(y)}},r.handleBlur=function(u){var c=r.props,f=c.label,v=c.element,m=c.graphModel.eventCenter;m.emit("label:blur",{e:u,model:v,data:f.getData(),element:r.textRef.current}),r.setState({isDragging:!1,isHovered:!1,isSelected:!1})},r.handleInput=function(u){var c=r.props,f=c.label,v=c.graphModel;v.eventCenter.emit("label:input",{e:u,data:f.getData()})},r.reCalcLabelSize=function(){};var i=t.label,o=t.graphModel,a=o.gridSize,l=o.eventCenter;return r.stepDrag=new Ti({onDragging:r.handleDragging,onDragEnd:r.handleDragEnd,step:a,eventType:"LABEL",model:i,eventCenter:l}),r.state={isEditing:!1,isHovered:!1,isDragging:!1,isSelected:!1},r}return e.prototype.setElementModelLabelInfo=function(t){var r=this.props,i=r.label,o=r.element,a=r.graphModel,l=o.properties._label,u=l,c=iy(u,function(m){return m.id===i.id}),f=u[c];u[c]=E0(E0({},f),t);var v=a.getElement(o.id);v==null||v.setProperty("_label",u)},e.prototype.componentDidMount=function(){var t=this,r=this.props,i=r.label,o=r.element,a=r.graphModel;a.eventCenter.on("blank:click,node:click,edge:click,label:click",function(l){var u,c,f,v,m=l.data;if(((m==null?void 0:m.type)!=="label"||m.type==="label"&&m.id!==i.id||t.state.isSelected)&&t.setState({isSelected:!1}),((m==null?void 0:m.type)!=="label"||m.type=="label"&&m.id!==i.id)&&t.state.isEditing){t.setState({isEditing:!1});var y=(c=(u=t.textRef.current)===null||u===void 0?void 0:u.innerText)!==null&&c!==void 0?c:"",_=(v=(f=t.textRef.current)===null||f===void 0?void 0:f.innerHTML)!==null&&v!==void 0?v:"";t.setElementModelLabelInfo({value:y,content:_,isSelected:!1}),o.setElementState(tn.DEFAULT)}((m==null?void 0:m.type)!=="label"||m.type=="label"&&m.id!==i.id)&&t.textRef.current&&(t.textRef.current.contentEditable="false")})},e.prototype.componentDidUpdate=function(){},e.prototype.componentWillUnmount=function(){var t=this.props.graphModel;t.eventCenter.off("blank:click,node:click,edge:click")},e.prototype.render=function(){var t,r=this.props,i=r.label,o=r.element,a=r.graphModel,l=this.state,u=l.isDragging,c=l.isHovered,f=l.isSelected,v=l.isEditing,m=a.transformModel,y=m.getTransformStyle().transform,_=i.id,b=i.x,w=i.y,x=i.zIndex,k=i.vertical,N=i.style,D=i.rotate,V=i.content,U=i.labelWidth,B=i.textOverflowMode,G=U??(o.BaseType==="node"?o.width-20:80),Q={left:"".concat(b-G/2,"px"),top:"".concat(w-10,"px"),width:"".concat(G,"px"),height:"20px",zIndex:x??1,transform:D?"".concat(y," rotate(").concat(D,"deg)"):"".concat(y," rotate(").concat(k?-.25:0,"turn)")};return Te("div",{id:"element-container-".concat(_),className:C1("lf-label-editor-container"),style:Q,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onClick:this.handleClick,onDblClick:this.handleDbClick,onBlur:this.handleBlur,onMouseEnter:this.setHoverOn,onMouseOver:this.setHoverOn,onMouseLeave:this.setHoverOff,children:Te("div",{ref:this.textRef,id:"editor-container-".concat(_),className:C1("lf-label-editor",(t={"lf-label-editor-dragging":u,"lf-label-editor-editing":v,"lf-label-editor-hover":!v&&(c||f)},t["lf-label-editor-".concat(B)]=!v,t)),onInput:this.handleInput,style:E0({maxWidth:"".concat(G,"px"),boxSizing:"border-box",display:"inline-block",background:v||o.BaseType==="edge"?"#fff":"transparent"},N),dangerouslySetInnerHTML:{__html:V}})})},e=$F([Br],e),e}(Zt),gi=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},UF=us,GF=function(){function n(e,t,r){var i;this.type="label",this.content="",this.value="",this.style={},this.vertical=!1,this.editable=!0,this.draggable=!0,this.textOverflowMode="default",this.element=t,this.graphModel=r,this.id=(i=e.id)!==null&&i!==void 0?i:UF(),this.initLabelData(e)}return n.prototype.initLabelData=function(e){rn(this,e)},n.prototype.getData=function(){return{id:this.id,x:this.x,y:this.y,type:"label",content:this.content,value:this.value,rotate:this.rotate,style:Fi(this.style),draggable:this.draggable,editable:this.editable,labelWidth:this.labelWidth,textOverflowMode:this.textOverflowMode,vertical:this.vertical}},gi([De],n.prototype,"x",void 0),gi([De],n.prototype,"y",void 0),gi([De],n.prototype,"content",void 0),gi([De],n.prototype,"value",void 0),gi([De],n.prototype,"rotate",void 0),gi([De],n.prototype,"style",void 0),gi([De],n.prototype,"zIndex",void 0),gi([De],n.prototype,"vertical",void 0),gi([De],n.prototype,"editable",void 0),gi([De],n.prototype,"draggable",void 0),gi([De],n.prototype,"labelWidth",void 0),gi([De],n.prototype,"textOverflowMode",void 0),n}(),bu={exports:{}},xf=bu.exports,a5;function XF(){return a5||(a5=1,function(n){/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */"classList"in document.createElement("_")||function(e){if("Element"in e){var t="classList",r="prototype",i=e.Element[r],o=Object,a=String[r].trim||function(){return this.replace(/^\s+|\s+$/g,"")},l=Array[r].indexOf||function(_){for(var b=0,w=this.length;b<w;b++)if(b in this&&this[b]===_)return b;return-1},u=function(_,b){this.name=_,this.code=DOMException[_],this.message=b},c=function(_,b){if(b==="")throw new u("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new u("INVALID_CHARACTER_ERR","String contains an invalid character");return l.call(_,b)},f=function(_){for(var b=a.call(_.getAttribute("class")||""),w=b?b.split(/\s+/):[],x=0,k=w.length;x<k;x++)this.push(w[x]);this._updateClassName=function(){_.setAttribute("class",this.toString())}},v=f[r]=[],m=function(){return new f(this)};if(u[r]=Error[r],v.item=function(_){return this[_]||null},v.contains=function(_){return _+="",c(this,_)!==-1},v.add=function(){var _=arguments,b=0,w=_.length,x,k=!1;do x=_[b]+"",c(this,x)===-1&&(this.push(x),k=!0);while(++b<w);k&&this._updateClassName()},v.remove=function(){var _=arguments,b=0,w=_.length,x,k=!1,N;do for(x=_[b]+"",N=c(this,x);N!==-1;)this.splice(N,1),k=!0,N=c(this,x);while(++b<w);k&&this._updateClassName()},v.toggle=function(_,b){_+="";var w=this.contains(_),x=w?b!==!0&&"remove":b!==!1&&"add";return x&&this[x](_),b===!0||b===!1?b:!w},v.toString=function(){return this.join(" ")},o.defineProperty){var y={get:m,enumerable:!0,configurable:!0};try{o.defineProperty(i,t,y)}catch(_){_.number===-2146823252&&(y.enumerable=!1,o.defineProperty(i,t,y))}}else o[r].__defineGetter__&&i.__defineGetter__(t,m)}}(self);/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */(function(e){if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{new Blob;return}catch{}var t=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(i){var o=function(B){return Object.prototype.toString.call(B).match(/^\[object\s(.*)\]$/)[1]},a=function(){this.data=[]},l=function(G,Q,ae){this.data=G,this.size=G.length,this.type=Q,this.encoding=ae},u=a.prototype,c=l.prototype,f=i.FileReaderSync,v=function(B){this.code=this[this.name=B]},m="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),y=m.length,_=i.URL||i.webkitURL||i,b=_.createObjectURL,w=_.revokeObjectURL,x=_,k=i.btoa,N=i.atob,D=i.ArrayBuffer,V=i.Uint8Array,U=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(l.fake=c.fake=!0;y--;)v.prototype[m[y]]=y+1;return _.createObjectURL||(x=i.URL=function(B){var G=document.createElementNS("http://www.w3.org/1999/xhtml","a"),Q;return G.href=B,"origin"in G||(G.protocol.toLowerCase()==="data:"?G.origin=null:(Q=B.match(U),G.origin=Q&&Q[1])),G}),x.createObjectURL=function(B){var G=B.type,Q;if(G===null&&(G="application/octet-stream"),B instanceof l)return Q="data:"+G,B.encoding==="base64"?Q+";base64,"+B.data:B.encoding==="URI"?Q+","+decodeURIComponent(B.data):k?Q+";base64,"+k(B.data):Q+","+encodeURIComponent(B.data);if(b)return b.call(_,B)},x.revokeObjectURL=function(B){B.substring(0,5)!=="data:"&&w&&w.call(_,B)},u.append=function(B){var G=this.data;if(V&&(B instanceof D||B instanceof V)){for(var Q="",ae=new V(B),q=0,ue=ae.length;q<ue;q++)Q+=String.fromCharCode(ae[q]);G.push(Q)}else if(o(B)==="Blob"||o(B)==="File")if(f){var T=new f;G.push(T.readAsBinaryString(B))}else throw new v("NOT_READABLE_ERR");else B instanceof l?B.encoding==="base64"&&N?G.push(N(B.data)):B.encoding==="URI"?G.push(decodeURIComponent(B.data)):B.encoding==="raw"&&G.push(B.data):(typeof B!="string"&&(B+=""),G.push(unescape(encodeURIComponent(B))))},u.getBlob=function(B){return arguments.length||(B=null),new l(this.data.join(""),B,"raw")},u.toString=function(){return"[object BlobBuilder]"},c.slice=function(B,G,Q){var ae=arguments.length;return ae<3&&(Q=null),new l(this.data.slice(B,ae>1?G:this.data.length),Q,this.encoding)},c.toString=function(){return"[object Blob]"},c.close=function(){this.size=0,delete this.data},a}(e);e.Blob=function(i,o){var a=o&&o.type||"",l=new t;if(i)for(var u=0,c=i.length;u<c;u++)Uint8Array&&i[u]instanceof Uint8Array?l.append(i[u].buffer):l.append(i[u]);var f=l.getBlob(a);return!f.slice&&f.webkitSlice&&(f.slice=f.webkitSlice),f};var r=Object.getPrototypeOf||function(i){return i.__proto__};e.Blob.prototype=r(new e.Blob)})(typeof self<"u"&&self||typeof window<"u"&&window||xf.content||xf),function(e,t){var r=typeof process<"u"&&process&&process.versions&&process.versions.electron;r?e.MediumEditor=t:n.exports=t}(xf,function(){function e(t,r){return this.init(t,r)}return e.extensions={},function(t){function r(u,c){var f,v=Array.prototype.slice.call(arguments,2);c=c||{};for(var m=0;m<v.length;m++){var y=v[m];if(y)for(f in y)y.hasOwnProperty(f)&&typeof y[f]<"u"&&(u||c.hasOwnProperty(f)===!1)&&(c[f]=y[f])}return c}var i=!1;try{var o=document.createElement("div"),a=document.createTextNode(" ");o.appendChild(a),i=o.contains(a)}catch{}var l={isIE:navigator.appName==="Microsoft Internet Explorer"||navigator.appName==="Netscape"&&new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)!==null,isEdge:/Edge\/\d+/.exec(navigator.userAgent)!==null,isFF:navigator.userAgent.toLowerCase().indexOf("firefox")>-1,isMac:t.navigator.platform.toUpperCase().indexOf("MAC")>=0,keyCode:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,DELETE:46,K:75,M:77,V:86},isMetaCtrlKey:function(u){return!!(l.isMac&&u.metaKey||!l.isMac&&u.ctrlKey)},isKey:function(u,c){var f=l.getKeyCode(u);return Array.isArray(c)===!1?f===c:c.indexOf(f)!==-1},getKeyCode:function(u){var c=u.which;return c===null&&(c=u.charCode!==null?u.charCode:u.keyCode),c},blockContainerElementNames:["p","h1","h2","h3","h4","h5","h6","blockquote","pre","ul","li","ol","address","article","aside","audio","canvas","dd","dl","dt","fieldset","figcaption","figure","footer","form","header","hgroup","main","nav","noscript","output","section","video","table","thead","tbody","tfoot","tr","th","td"],emptyElementNames:["br","col","colgroup","hr","img","input","source","wbr"],extend:function(){var c=[!0].concat(Array.prototype.slice.call(arguments));return r.apply(this,c)},defaults:function(){var c=[!1].concat(Array.prototype.slice.call(arguments));return r.apply(this,c)},createLink:function(u,c,f,v){var m=u.createElement("a");return l.moveTextRangeIntoElement(c[0],c[c.length-1],m),m.setAttribute("href",f),v&&(v==="_blank"&&m.setAttribute("rel","noopener noreferrer"),m.setAttribute("target",v)),m},findOrCreateMatchingTextNodes:function(u,c,f){for(var v=u.createTreeWalker(c,NodeFilter.SHOW_ALL,null,!1),m=[],y=0,_=!1,b=null,w=null;(b=v.nextNode())!==null;)if(!(b.nodeType>3))if(b.nodeType===3){if(!_&&f.start<y+b.nodeValue.length&&(_=!0,w=l.splitStartNodeIfNeeded(b,f.start,y)),_&&l.splitEndNodeIfNeeded(b,w,f.end,y),_&&y===f.end)break;if(_&&y>f.end+1)throw new Error("PerformLinking overshot the target!");_&&m.push(w||b),y+=b.nodeValue.length,w!==null&&(y+=w.nodeValue.length,v.nextNode()),w=null}else b.tagName.toLowerCase()==="img"&&(!_&&f.start<=y&&(_=!0),_&&m.push(b));return m},splitStartNodeIfNeeded:function(u,c,f){return c!==f?u.splitText(c-f):null},splitEndNodeIfNeeded:function(u,c,f,v){var m,y;m=v+u.nodeValue.length+(c?c.nodeValue.length:0)-1,y=f-v-(c?u.nodeValue.length:0),m>=f&&v!==m&&y!==0&&(c||u).splitText(y)},splitByBlockElements:function(u){if(u.nodeType!==3&&u.nodeType!==1)return[];var c=[],f=e.util.blockContainerElementNames.join(",");if(u.nodeType===3||u.querySelectorAll(f).length===0)return[u];for(var v=0;v<u.childNodes.length;v++){var m=u.childNodes[v];if(m.nodeType===3)c.push(m);else if(m.nodeType===1){var y=m.querySelectorAll(f);y.length===0?c.push(m):c=c.concat(e.util.splitByBlockElements(m))}}return c},findAdjacentTextNodeWithContent:function(c,f,v){var m=!1,y,_=v.createNodeIterator(c,NodeFilter.SHOW_TEXT,null,!1);for(y=_.nextNode();y;){if(y===f)m=!0;else if(m&&y.nodeType===3&&y.nodeValue&&y.nodeValue.trim().length>0)break;y=_.nextNode()}return y},findPreviousSibling:function(u){if(!u||l.isMediumEditorElement(u))return!1;for(var c=u.previousSibling;!c&&!l.isMediumEditorElement(u.parentNode);)u=u.parentNode,c=u.previousSibling;return c},isDescendant:function(c,f,v){if(!c||!f)return!1;if(c===f)return!!v;if(c.nodeType!==1)return!1;if(i||f.nodeType!==3)return c.contains(f);for(var m=f.parentNode;m!==null;){if(m===c)return!0;m=m.parentNode}return!1},isElement:function(c){return!!(c&&c.nodeType===1)},throttle:function(u,c){var f=50,v,m,y,_=null,b=0,w=function(){b=Date.now(),_=null,y=u.apply(v,m),_||(v=m=null)};return!c&&c!==0&&(c=f),function(){var x=Date.now(),k=c-(x-b);return v=this,m=arguments,k<=0||k>c?(_&&(clearTimeout(_),_=null),b=x,y=u.apply(v,m),_||(v=m=null)):_||(_=setTimeout(w,k)),y}},traverseUp:function(u,c){if(!u)return!1;do{if(u.nodeType===1){if(c(u))return u;if(l.isMediumEditorElement(u))return!1}u=u.parentNode}while(u);return!1},htmlEntities:function(u){return String(u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},insertHTMLCommand:function(u,c){var f,v,m,y,_,b,w,x=!1,k=["insertHTML",!1,c];if(!e.util.isEdge&&u.queryCommandSupported("insertHTML"))try{return u.execCommand.apply(u,k)}catch{}if(f=u.getSelection(),f.rangeCount){if(v=f.getRangeAt(0),w=v.commonAncestorContainer,l.isMediumEditorElement(w)&&!w.firstChild)v.selectNode(w.appendChild(u.createTextNode("")));else if(w.nodeType===3&&v.startOffset===0&&v.endOffset===w.nodeValue.length||w.nodeType!==3&&w.innerHTML===v.toString()){for(;!l.isMediumEditorElement(w)&&w.parentNode&&w.parentNode.childNodes.length===1&&!l.isMediumEditorElement(w.parentNode);)w=w.parentNode;v.selectNode(w)}for(v.deleteContents(),m=u.createElement("div"),m.innerHTML=c,y=u.createDocumentFragment();m.firstChild;)_=m.firstChild,b=y.appendChild(_);v.insertNode(y),b&&(v=v.cloneRange(),v.setStartAfter(b),v.collapse(!0),e.selection.selectRange(u,v)),x=!0}return u.execCommand.callListeners&&u.execCommand.callListeners(k,x),x},execFormatBlock:function(u,c){var f=l.getTopBlockContainer(e.selection.getSelectionStart(u)),v;if(c==="blockquote"){if(f&&(v=Array.prototype.slice.call(f.childNodes),v.some(function(m){return l.isBlockContainer(m)})))return u.execCommand("outdent",!1,null);if(l.isIE)return u.execCommand("indent",!1,c)}if(f&&c===f.nodeName.toLowerCase()&&(c="p"),l.isIE&&(c="<"+c+">"),f&&f.nodeName.toLowerCase()==="blockquote"){if(l.isIE&&c==="<p>")return u.execCommand("outdent",!1,c);if((l.isFF||l.isEdge)&&c==="p")return v=Array.prototype.slice.call(f.childNodes),v.some(function(m){return!l.isBlockContainer(m)})&&u.execCommand("formatBlock",!1,c),u.execCommand("outdent",!1,c)}return u.execCommand("formatBlock",!1,c)},setTargetBlank:function(u,c){var f,v=c||!1;if(u.nodeName.toLowerCase()==="a")u.target="_blank",u.rel="noopener noreferrer";else for(u=u.getElementsByTagName("a"),f=0;f<u.length;f+=1)(v===!1||v===u[f].attributes.href.value)&&(u[f].target="_blank",u[f].rel="noopener noreferrer")},removeTargetBlank:function(u,c){var f;if(u.nodeName.toLowerCase()==="a")u.removeAttribute("target"),u.removeAttribute("rel");else for(u=u.getElementsByTagName("a"),f=0;f<u.length;f+=1)c===u[f].attributes.href.value&&(u[f].removeAttribute("target"),u[f].removeAttribute("rel"))},addClassToAnchors:function(u,c){var f=c.split(" "),v,m;if(u.nodeName.toLowerCase()==="a")for(m=0;m<f.length;m+=1)u.classList.add(f[m]);else{var y=u.getElementsByTagName("a");if(y.length===0){var _=l.getClosestTag(u,"a");u=_?[_]:[]}else u=y;for(v=0;v<u.length;v+=1)for(m=0;m<f.length;m+=1)u[v].classList.add(f[m])}},isListItem:function(u){if(!u)return!1;if(u.nodeName.toLowerCase()==="li")return!0;for(var c=u.parentNode,f=c.nodeName.toLowerCase();f==="li"||!l.isBlockContainer(c)&&f!=="div";){if(f==="li")return!0;if(c=c.parentNode,c)f=c.nodeName.toLowerCase();else return!1}return!1},cleanListDOM:function(u,c){if(c.nodeName.toLowerCase()==="li"){var f=c.parentElement;f.parentElement.nodeName.toLowerCase()==="p"&&(l.unwrap(f.parentElement,u),e.selection.moveCursor(u,c.firstChild,c.firstChild.textContent.length))}},splitOffDOMTree:function(u,c,f){for(var v=c,m=null,y=!f;v!==u;){var _=v.parentNode,b=_.cloneNode(!1),w=y?v:_.firstChild,x;for(m&&(y?b.appendChild(m):x=m),m=b;w;){var k=w.nextSibling;w===v?(w.hasChildNodes()?w=w.cloneNode(!1):w.parentNode.removeChild(w),w.textContent&&m.appendChild(w),w=y?k:null):(w.parentNode.removeChild(w),(w.hasChildNodes()||w.textContent)&&m.appendChild(w),w=k)}x&&m.appendChild(x),v=_}return m},moveTextRangeIntoElement:function(u,c,f){if(!u||!c)return!1;var v=l.findCommonRoot(u,c);if(!v)return!1;if(c===u){var m=u.parentNode,y=u.nextSibling;return m.removeChild(u),f.appendChild(u),y?m.insertBefore(f,y):m.appendChild(f),f.hasChildNodes()}for(var _=[],b,w,x,k=0;k<v.childNodes.length;k++)if(x=v.childNodes[k],!b)l.isDescendant(x,u,!0)&&(b=x);else if(l.isDescendant(x,c,!0)){w=x;break}else _.push(x);var N=w.nextSibling,D=v.ownerDocument.createDocumentFragment();return b===u?(b.parentNode.removeChild(b),D.appendChild(b)):D.appendChild(l.splitOffDOMTree(b,u)),_.forEach(function(V){V.parentNode.removeChild(V),D.appendChild(V)}),w===c?(w.parentNode.removeChild(w),D.appendChild(w)):D.appendChild(l.splitOffDOMTree(w,c,!0)),f.appendChild(D),w.parentNode===v?v.insertBefore(f,w):N?v.insertBefore(f,N):v.appendChild(f),f.hasChildNodes()},depthOfNode:function(u){for(var c=0,f=u;f.parentNode!==null;)f=f.parentNode,c++;return c},findCommonRoot:function(u,c){for(var f=l.depthOfNode(u),v=l.depthOfNode(c),m=u,y=c;f!==v;)f>v?(m=m.parentNode,f-=1):(y=y.parentNode,v-=1);for(;m!==y;)m=m.parentNode,y=y.parentNode;return m},isElementAtBeginningOfBlock:function(u){for(var c,f;!l.isBlockContainer(u)&&!l.isMediumEditorElement(u);){for(f=u;f=f.previousSibling;)if(c=f.nodeType===3?f.nodeValue:f.textContent,c.length>0)return!1;u=u.parentNode}return!0},isMediumEditorElement:function(u){return u&&u.getAttribute&&!!u.getAttribute("data-medium-editor-element")},getContainerEditorElement:function(u){return l.traverseUp(u,function(c){return l.isMediumEditorElement(c)})},isBlockContainer:function(u){return u&&u.nodeType!==3&&l.blockContainerElementNames.indexOf(u.nodeName.toLowerCase())!==-1},getClosestBlockContainer:function(u){return l.traverseUp(u,function(c){return l.isBlockContainer(c)||l.isMediumEditorElement(c)})},getTopBlockContainer:function(u){var c=l.isBlockContainer(u)?u:!1;return l.traverseUp(u,function(f){return l.isBlockContainer(f)&&(c=f),!c&&l.isMediumEditorElement(f)?(c=f,!0):!1}),c},getFirstSelectableLeafNode:function(u){for(;u&&u.firstChild;)u=u.firstChild;if(u=l.traverseUp(u,function(f){return l.emptyElementNames.indexOf(f.nodeName.toLowerCase())===-1}),u.nodeName.toLowerCase()==="table"){var c=u.querySelector("th, td");c&&(u=c)}return u},getFirstTextNode:function(u){return l.warn("getFirstTextNode is deprecated and will be removed in version 6.0.0"),l._getFirstTextNode(u)},_getFirstTextNode:function(u){if(u.nodeType===3)return u;for(var c=0;c<u.childNodes.length;c++){var f=l._getFirstTextNode(u.childNodes[c]);if(f!==null)return f}return null},ensureUrlHasProtocol:function(u){return u.indexOf("://")===-1?"http://"+u:u},warn:function(){t.console!==void 0&&typeof t.console.warn=="function"&&t.console.warn.apply(t.console,arguments)},deprecated:function(u,c,f){var v=u+" is deprecated, please use "+c+" instead.";f&&(v+=" Will be removed in "+f),l.warn(v)},deprecatedMethod:function(u,c,f,v){l.deprecated(u,c,v),typeof this[c]=="function"&&this[c].apply(this,f)},cleanupAttrs:function(u,c){c.forEach(function(f){u.removeAttribute(f)})},cleanupTags:function(u,c){c.indexOf(u.nodeName.toLowerCase())!==-1&&u.parentNode.removeChild(u)},unwrapTags:function(u,c){c.indexOf(u.nodeName.toLowerCase())!==-1&&e.util.unwrap(u,document)},getClosestTag:function(u,c){return l.traverseUp(u,function(f){return f.nodeName.toLowerCase()===c.toLowerCase()})},unwrap:function(u,c){for(var f=c.createDocumentFragment(),v=Array.prototype.slice.call(u.childNodes),m=0;m<v.length;m++)f.appendChild(v[m]);f.childNodes.length?u.parentNode.replaceChild(f,u):u.parentNode.removeChild(u)},guid:function(){function u(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return u()+u()+"-"+u()+"-"+u()+"-"+u()+"-"+u()+u()+u()}};e.util=l}(window),function(){var t=function(r){e.util.extend(this,r)};t.extend=function(r){var i=this,o;r&&r.hasOwnProperty("constructor")?o=r.constructor:o=function(){return i.apply(this,arguments)},e.util.extend(o,i);var a=function(){this.constructor=o};return a.prototype=i.prototype,o.prototype=new a,r&&e.util.extend(o.prototype,r),o},t.prototype={init:function(){},base:void 0,name:void 0,checkState:void 0,destroy:void 0,queryCommandState:void 0,isActive:void 0,isAlreadyApplied:void 0,setActive:void 0,setInactive:void 0,getInteractionElements:void 0,window:void 0,document:void 0,getEditorElements:function(){return this.base.elements},getEditorId:function(){return this.base.id},getEditorOption:function(r){return this.base.options[r]}},["execAction","on","off","subscribe","trigger"].forEach(function(r){t.prototype[r]=function(){return this.base[r].apply(this.base,arguments)}}),e.Extension=t}(),function(){function t(i){return e.util.isBlockContainer(i)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}var r={findMatchingSelectionParent:function(i,o){var a=o.getSelection(),l,u;return a.rangeCount===0?!1:(l=a.getRangeAt(0),u=l.commonAncestorContainer,e.util.traverseUp(u,i))},getSelectionElement:function(i){return this.findMatchingSelectionParent(function(o){return e.util.isMediumEditorElement(o)},i)},exportSelection:function(i,o){if(!i)return null;var a=null,l=o.getSelection();if(l.rangeCount>0){var u=l.getRangeAt(0),c=u.cloneRange(),f;c.selectNodeContents(i),c.setEnd(u.startContainer,u.startOffset),f=c.toString().length,a={start:f,end:f+u.toString().length},this.doesRangeStartWithImages(u,o)&&(a.startsWithImage=!0);var v=this.getTrailingImageCount(i,a,u.endContainer,u.endOffset);if(v&&(a.trailingImageCount=v),f!==0){var m=this.getIndexRelativeToAdjacentEmptyBlocks(o,i,u.startContainer,u.startOffset);m!==-1&&(a.emptyBlocksIndex=m)}}return a},importSelection:function(i,o,a,l){if(!(!i||!o)){var u=a.createRange();u.setStart(o,0),u.collapse(!0);var c=o,f=[],v=0,m=!1,y=!1,_=0,b=!1,w,x=!1,k=null;for((l||i.startsWithImage||typeof i.emptyBlocksIndex<"u")&&(x=!0);!b&&c;){if(c.nodeType>3){c=f.pop();continue}if(c.nodeType===3&&!y)w=v+c.length,!m&&i.start>=v&&i.start<=w&&(x||i.start<w?(u.setStart(c,i.start-v),m=!0):k=c),m&&i.end>=v&&i.end<=w&&(i.trailingImageCount?y=!0:(u.setEnd(c,i.end-v),b=!0)),v=w;else{if(i.trailingImageCount&&y&&(c.nodeName.toLowerCase()==="img"&&_++,_===i.trailingImageCount)){for(var N=0;c.parentNode.childNodes[N]!==c;)N++;u.setEnd(c.parentNode,N+1),b=!0}if(!b&&c.nodeType===1)for(var D=c.childNodes.length-1;D>=0;)f.push(c.childNodes[D]),D-=1}b||(c=f.pop())}!m&&k&&(u.setStart(k,k.length),u.setEnd(k,k.length)),typeof i.emptyBlocksIndex<"u"&&(u=this.importSelectionMoveCursorPastBlocks(a,o,i.emptyBlocksIndex,u)),l&&(u=this.importSelectionMoveCursorPastAnchor(i,u)),this.selectRange(a,u)}},importSelectionMoveCursorPastAnchor:function(i,o){var a=function(v){return v.nodeName.toLowerCase()==="a"};if(i.start===i.end&&o.startContainer.nodeType===3&&o.startOffset===o.startContainer.nodeValue.length&&e.util.traverseUp(o.startContainer,a)){for(var l=o.startContainer,u=o.startContainer.parentNode;u!==null&&u.nodeName.toLowerCase()!=="a";)u.childNodes[u.childNodes.length-1]!==l?u=null:(l=u,u=u.parentNode);if(u!==null&&u.nodeName.toLowerCase()==="a"){for(var c=null,f=0;c===null&&f<u.parentNode.childNodes.length;f++)u.parentNode.childNodes[f]===u&&(c=f);o.setStart(u.parentNode,c+1),o.collapse(!0)}}return o},importSelectionMoveCursorPastBlocks:function(i,o,a,l){var u=i.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,t,!1),c=l.startContainer,f,v,m=0;for(a=a||1,c.nodeType===3&&e.util.isBlockContainer(c.previousSibling)?f=c.previousSibling:f=e.util.getClosestBlockContainer(c);u.nextNode();)if(!v)f===u.currentNode&&(v=u.currentNode);else if(v=u.currentNode,m++,m===a||v.textContent.length>0)break;return v||(v=f),l.setStart(e.util.getFirstSelectableLeafNode(v),0),l},getIndexRelativeToAdjacentEmptyBlocks:function(i,o,a,l){if(a.textContent.length>0&&l>0)return-1;var u=a;if(u.nodeType!==3&&(u=a.childNodes[l]),u){if(!e.util.isElementAtBeginningOfBlock(u))return-1;var c=e.util.findPreviousSibling(u);if(c){if(c.nodeValue)return-1}else return-1}for(var f=e.util.getClosestBlockContainer(a),v=i.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,t,!1),m=0;v.nextNode();){var y=v.currentNode.textContent==="";if((y||m>0)&&(m+=1),v.currentNode===f)return m;y||(m=0)}return m},doesRangeStartWithImages:function(i,o){if(i.startOffset!==0||i.startContainer.nodeType!==1)return!1;if(i.startContainer.nodeName.toLowerCase()==="img")return!0;var a=i.startContainer.querySelector("img");if(!a)return!1;for(var l=o.createTreeWalker(i.startContainer,NodeFilter.SHOW_ALL,null,!1);l.nextNode();){var u=l.currentNode;if(u===a)break;if(u.nodeValue)return!1}return!0},getTrailingImageCount:function(i,o,a,l){if(l===0||a.nodeType!==1||a.nodeName.toLowerCase()!=="img"&&!a.querySelector("img"))return 0;for(var u=a.childNodes[l-1];u.hasChildNodes();)u=u.lastChild;for(var c=i,f=[],v=0,m=!1,y=!1,_=!1,b,w=0;!_&&c;){if(c.nodeType>3){c=f.pop();continue}if(c.nodeType===3&&!y)w=0,b=v+c.length,!m&&o.start>=v&&o.start<=b&&(m=!0),m&&o.end>=v&&o.end<=b&&(y=!0),v=b;else if(c.nodeName.toLowerCase()==="img"&&w++,c===u)_=!0;else if(c.nodeType===1)for(var x=c.childNodes.length-1;x>=0;)f.push(c.childNodes[x]),x-=1;_||(c=f.pop())}return w},selectionContainsContent:function(i){var o=i.getSelection();if(!o||o.isCollapsed||!o.rangeCount)return!1;if(o.toString().trim()!=="")return!0;var a=this.getSelectedParentElement(o.getRangeAt(0));return!!(a&&(a.nodeName.toLowerCase()==="img"||a.nodeType===1&&a.querySelector("img")))},selectionInContentEditableFalse:function(i){var o,a=this.findMatchingSelectionParent(function(l){var u=l&&l.getAttribute("contenteditable");return u==="true"&&(o=!0),l.nodeName!=="#text"&&u==="false"},i);return!o&&a},getSelectionHtml:function(o){var a,l="",u=o.getSelection(),c,f;if(u.rangeCount){for(f=o.createElement("div"),a=0,c=u.rangeCount;a<c;a+=1)f.appendChild(u.getRangeAt(a).cloneContents());l=f.innerHTML}return l},getCaretOffsets:function(o,a){var l,u;return a||(a=window.getSelection().getRangeAt(0)),l=a.cloneRange(),u=a.cloneRange(),l.selectNodeContents(o),l.setEnd(a.endContainer,a.endOffset),u.selectNodeContents(o),u.setStart(a.endContainer,a.endOffset),{left:l.toString().length,right:u.toString().length}},rangeSelectsSingleNode:function(i){var o=i.startContainer;return o===i.endContainer&&o.hasChildNodes()&&i.endOffset===i.startOffset+1},getSelectedParentElement:function(i){return i?this.rangeSelectsSingleNode(i)&&i.startContainer.childNodes[i.startOffset].nodeType!==3?i.startContainer.childNodes[i.startOffset]:i.startContainer.nodeType===3?i.startContainer.parentNode:i.startContainer:null},getSelectedElements:function(i){var o=i.getSelection(),a,l,u;if(!o.rangeCount||o.isCollapsed||!o.getRangeAt(0).commonAncestorContainer)return[];if(a=o.getRangeAt(0),a.commonAncestorContainer.nodeType===3){for(l=[],u=a.commonAncestorContainer;u.parentNode&&u.parentNode.childNodes.length===1;)l.push(u.parentNode),u=u.parentNode;return l}return[].filter.call(a.commonAncestorContainer.getElementsByTagName("*"),function(c){return typeof o.containsNode=="function"?o.containsNode(c,!0):!0})},selectNode:function(i,o){var a=o.createRange();a.selectNodeContents(i),this.selectRange(o,a)},select:function(i,o,a,l,u){var c=i.createRange();return c.setStart(o,a),l?c.setEnd(l,u):c.collapse(!0),this.selectRange(i,c),c},clearSelection:function(i,o){o?i.getSelection().collapseToStart():i.getSelection().collapseToEnd()},moveCursor:function(i,o,a){this.select(i,o,a)},getSelectionRange:function(i){var o=i.getSelection();return o.rangeCount===0?null:o.getRangeAt(0)},selectRange:function(i,o){var a=i.getSelection();a.removeAllRanges(),a.addRange(o)},getSelectionStart:function(i){var o=i.getSelection().anchorNode,a=o&&o.nodeType===3?o.parentNode:o;return a}};e.selection=r}(),function(){function t(i,o){return i?i.some(function(a){if(typeof a.getInteractionElements!="function")return!1;var l=a.getInteractionElements();return l?(Array.isArray(l)||(l=[l]),l.some(function(u){return e.util.isDescendant(u,o,!0)})):!1}):!1}var r=function(i){this.base=i,this.options=this.base.options,this.events=[],this.disabledEvents={},this.customEvents={},this.listeners={}};r.prototype={InputEventOnContenteditableSupported:!e.util.isIE&&!e.util.isEdge,attachDOMEvent:function(i,o,a,l){var u=this.base.options.contentWindow,c=this.base.options.ownerDocument;i=e.util.isElement(i)||[u,c].indexOf(i)>-1?[i]:i,Array.prototype.forEach.call(i,(function(f){f.addEventListener(o,a,l),this.events.push([f,o,a,l])}).bind(this))},detachDOMEvent:function(i,o,a,l){var u,c,f=this.base.options.contentWindow,v=this.base.options.ownerDocument;i&&(i=e.util.isElement(i)||[f,v].indexOf(i)>-1?[i]:i,Array.prototype.forEach.call(i,(function(m){u=this.indexOfListener(m,o,a,l),u!==-1&&(c=this.events.splice(u,1)[0],c[0].removeEventListener(c[1],c[2],c[3]))}).bind(this)))},indexOfListener:function(i,o,a,l){var u,c,f;for(u=0,c=this.events.length;u<c;u=u+1)if(f=this.events[u],f[0]===i&&f[1]===o&&f[2]===a&&f[3]===l)return u;return-1},detachAllDOMEvents:function(){for(var i=this.events.pop();i;)i[0].removeEventListener(i[1],i[2],i[3]),i=this.events.pop()},detachAllEventsFromElement:function(i){for(var o=this.events.filter(function(c){return c&&c[0].getAttribute&&c[0].getAttribute("medium-editor-index")===i.getAttribute("medium-editor-index")}),a=0,l=o.length;a<l;a++){var u=o[a];this.detachDOMEvent(u[0],u[1],u[2],u[3])}},attachAllEventsToElement:function(i){this.listeners.editableInput&&(this.contentCache[i.getAttribute("medium-editor-index")]=i.innerHTML),this.eventsCache&&this.eventsCache.forEach(function(o){this.attachDOMEvent(i,o.name,o.handler.bind(this))},this)},enableCustomEvent:function(i){this.disabledEvents[i]!==void 0&&delete this.disabledEvents[i]},disableCustomEvent:function(i){this.disabledEvents[i]=!0},attachCustomEvent:function(i,o){this.setupListener(i),this.customEvents[i]||(this.customEvents[i]=[]),this.customEvents[i].push(o)},detachCustomEvent:function(i,o){var a=this.indexOfCustomListener(i,o);a!==-1&&this.customEvents[i].splice(a,1)},indexOfCustomListener:function(i,o){return!this.customEvents[i]||!this.customEvents[i].length?-1:this.customEvents[i].indexOf(o)},detachAllCustomEvents:function(){this.customEvents={}},triggerCustomEvent:function(i,o,a){this.customEvents[i]&&!this.disabledEvents[i]&&this.customEvents[i].forEach(function(l){l(o,a)})},destroy:function(){this.detachAllDOMEvents(),this.detachAllCustomEvents(),this.detachExecCommand(),this.base.elements&&this.base.elements.forEach(function(i){i.removeAttribute("data-medium-focused")})},attachToExecCommand:function(){this.execCommandListener||(this.execCommandListener=(function(i){this.handleDocumentExecCommand(i)}).bind(this),this.wrapExecCommand(),this.options.ownerDocument.execCommand.listeners.push(this.execCommandListener))},detachExecCommand:function(){var i=this.options.ownerDocument;if(!(!this.execCommandListener||!i.execCommand.listeners)){var o=i.execCommand.listeners.indexOf(this.execCommandListener);o!==-1&&i.execCommand.listeners.splice(o,1),i.execCommand.listeners.length||this.unwrapExecCommand()}},wrapExecCommand:function(){var i=this.options.ownerDocument;if(!i.execCommand.listeners){var o=function(l,u){i.execCommand.listeners&&i.execCommand.listeners.forEach(function(c){c({command:l[0],value:l[2],args:l,result:u})})},a=function(){var l=i.execCommand.orig.apply(this,arguments);if(!i.execCommand.listeners)return l;var u=Array.prototype.slice.call(arguments);return o(u,l),l};a.orig=i.execCommand,a.listeners=[],a.callListeners=o,i.execCommand=a}},unwrapExecCommand:function(){var i=this.options.ownerDocument;i.execCommand.orig&&(i.execCommand=i.execCommand.orig)},setupListener:function(i){if(!this.listeners[i]){switch(i){case"externalInteraction":this.attachDOMEvent(this.options.ownerDocument.body,"mousedown",this.handleBodyMousedown.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"click",this.handleBodyClick.bind(this),!0),this.attachDOMEvent(this.options.ownerDocument.body,"focus",this.handleBodyFocus.bind(this),!0);break;case"blur":this.setupListener("externalInteraction");break;case"focus":this.setupListener("externalInteraction");break;case"editableInput":this.contentCache={},this.base.elements.forEach(function(o){this.contentCache[o.getAttribute("medium-editor-index")]=o.innerHTML},this),this.InputEventOnContenteditableSupported&&this.attachToEachElement("input",this.handleInput),this.InputEventOnContenteditableSupported||(this.setupListener("editableKeypress"),this.keypressUpdateInput=!0,this.attachDOMEvent(document,"selectionchange",this.handleDocumentSelectionChange.bind(this)),this.attachToExecCommand());break;case"editableClick":this.attachToEachElement("click",this.handleClick);break;case"editableBlur":this.attachToEachElement("blur",this.handleBlur);break;case"editableKeypress":this.attachToEachElement("keypress",this.handleKeypress);break;case"editableKeyup":this.attachToEachElement("keyup",this.handleKeyup);break;case"editableKeydown":this.attachToEachElement("keydown",this.handleKeydown);break;case"editableKeydownSpace":this.setupListener("editableKeydown");break;case"editableKeydownEnter":this.setupListener("editableKeydown");break;case"editableKeydownTab":this.setupListener("editableKeydown");break;case"editableKeydownDelete":this.setupListener("editableKeydown");break;case"editableMouseover":this.attachToEachElement("mouseover",this.handleMouseover);break;case"editableDrag":this.attachToEachElement("dragover",this.handleDragging),this.attachToEachElement("dragleave",this.handleDragging);break;case"editableDrop":this.attachToEachElement("drop",this.handleDrop);break;case"editablePaste":this.attachToEachElement("paste",this.handlePaste);break}this.listeners[i]=!0}},attachToEachElement:function(i,o){this.eventsCache||(this.eventsCache=[]),this.base.elements.forEach(function(a){this.attachDOMEvent(a,i,o.bind(this))},this),this.eventsCache.push({name:i,handler:o})},cleanupElement:function(i){var o=i.getAttribute("medium-editor-index");o&&(this.detachAllEventsFromElement(i),this.contentCache&&delete this.contentCache[o])},focusElement:function(i){i.focus(),this.updateFocus(i,{target:i,type:"focus"})},updateFocus:function(i,o){var a=this.base.getFocusedElement(),l;a&&o.type==="click"&&this.lastMousedownTarget&&(e.util.isDescendant(a,this.lastMousedownTarget,!0)||t(this.base.extensions,this.lastMousedownTarget))&&(l=a),l||this.base.elements.some(function(c){return!l&&e.util.isDescendant(c,i,!0)&&(l=c),!!l},this);var u=!e.util.isDescendant(a,i,!0)&&!t(this.base.extensions,i);l!==a&&(a&&u&&(a.removeAttribute("data-medium-focused"),this.triggerCustomEvent("blur",o,a)),l&&(l.setAttribute("data-medium-focused",!0),this.triggerCustomEvent("focus",o,l))),u&&this.triggerCustomEvent("externalInteraction",o)},updateInput:function(i,o){if(this.contentCache){var a=i.getAttribute("medium-editor-index"),l=i.innerHTML;l!==this.contentCache[a]&&this.triggerCustomEvent("editableInput",o,i),this.contentCache[a]=l}},handleDocumentSelectionChange:function(i){if(i.currentTarget&&i.currentTarget.activeElement){var o=i.currentTarget.activeElement,a;this.base.elements.some(function(l){return e.util.isDescendant(l,o,!0)?(a=l,!0):!1},this),a&&this.updateInput(a,{target:o,currentTarget:a})}},handleDocumentExecCommand:function(){var i=this.base.getFocusedElement();i&&this.updateInput(i,{target:i,currentTarget:i})},handleBodyClick:function(i){this.updateFocus(i.target,i)},handleBodyFocus:function(i){this.updateFocus(i.target,i)},handleBodyMousedown:function(i){this.lastMousedownTarget=i.target},handleInput:function(i){this.updateInput(i.currentTarget,i)},handleClick:function(i){this.triggerCustomEvent("editableClick",i,i.currentTarget)},handleBlur:function(i){this.triggerCustomEvent("editableBlur",i,i.currentTarget)},handleKeypress:function(i){if(this.triggerCustomEvent("editableKeypress",i,i.currentTarget),this.keypressUpdateInput){var o={target:i.target,currentTarget:i.currentTarget};setTimeout((function(){this.updateInput(o.currentTarget,o)}).bind(this),0)}},handleKeyup:function(i){this.triggerCustomEvent("editableKeyup",i,i.currentTarget)},handleMouseover:function(i){this.triggerCustomEvent("editableMouseover",i,i.currentTarget)},handleDragging:function(i){this.triggerCustomEvent("editableDrag",i,i.currentTarget)},handleDrop:function(i){this.triggerCustomEvent("editableDrop",i,i.currentTarget)},handlePaste:function(i){this.triggerCustomEvent("editablePaste",i,i.currentTarget)},handleKeydown:function(i){if(this.triggerCustomEvent("editableKeydown",i,i.currentTarget),e.util.isKey(i,e.util.keyCode.SPACE))return this.triggerCustomEvent("editableKeydownSpace",i,i.currentTarget);if(e.util.isKey(i,e.util.keyCode.ENTER)||i.ctrlKey&&e.util.isKey(i,e.util.keyCode.M))return this.triggerCustomEvent("editableKeydownEnter",i,i.currentTarget);if(e.util.isKey(i,e.util.keyCode.TAB))return this.triggerCustomEvent("editableKeydownTab",i,i.currentTarget);if(e.util.isKey(i,[e.util.keyCode.DELETE,e.util.keyCode.BACKSPACE]))return this.triggerCustomEvent("editableKeydownDelete",i,i.currentTarget)}},e.Events=r}(),function(){var t=e.Extension.extend({action:void 0,aria:void 0,tagNames:void 0,style:void 0,useQueryState:void 0,contentDefault:void 0,contentFA:void 0,classList:void 0,attrs:void 0,constructor:function(r){t.isBuiltInButton(r)?e.Extension.call(this,this.defaults[r]):e.Extension.call(this,r)},init:function(){e.Extension.prototype.init.apply(this,arguments),this.button=this.createButton(),this.on(this.button,"click",this.handleClick.bind(this))},getButton:function(){return this.button},getAction:function(){return typeof this.action=="function"?this.action(this.base.options):this.action},getAria:function(){return typeof this.aria=="function"?this.aria(this.base.options):this.aria},getTagNames:function(){return typeof this.tagNames=="function"?this.tagNames(this.base.options):this.tagNames},createButton:function(){var r=this.document.createElement("button"),i=this.contentDefault,o=this.getAria(),a=this.getEditorOption("buttonLabels");return r.classList.add("medium-editor-action"),r.classList.add("medium-editor-action-"+this.name),this.classList&&this.classList.forEach(function(l){r.classList.add(l)}),r.setAttribute("data-action",this.getAction()),o&&(r.setAttribute("title",o),r.setAttribute("aria-label",o)),this.attrs&&Object.keys(this.attrs).forEach(function(l){r.setAttribute(l,this.attrs[l])},this),a==="fontawesome"&&this.contentFA&&(i=this.contentFA),r.innerHTML=i,r},handleClick:function(r){r.preventDefault(),r.stopPropagation();var i=this.getAction();i&&this.execAction(i)},isActive:function(){return this.button.classList.contains(this.getEditorOption("activeButtonClass"))},setInactive:function(){this.button.classList.remove(this.getEditorOption("activeButtonClass")),delete this.knownState},setActive:function(){this.button.classList.add(this.getEditorOption("activeButtonClass")),delete this.knownState},queryCommandState:function(){var r=null;return this.useQueryState&&(r=this.base.queryCommandState(this.getAction())),r},isAlreadyApplied:function(r){var i=!1,o=this.getTagNames(),a,l;return this.knownState===!1||this.knownState===!0?this.knownState:(o&&o.length>0&&(i=o.indexOf(r.nodeName.toLowerCase())!==-1),!i&&this.style&&(a=this.style.value.split("|"),l=this.window.getComputedStyle(r,null).getPropertyValue(this.style.prop),a.forEach(function(u){this.knownState||(i=l.indexOf(u)!==-1,(i||this.style.prop!=="text-decoration")&&(this.knownState=i))},this)),i)}});t.isBuiltInButton=function(r){return typeof r=="string"&&e.extensions.button.prototype.defaults.hasOwnProperty(r)},e.extensions.button=t}(),function(){e.extensions.button.prototype.defaults={bold:{name:"bold",action:"bold",aria:"bold",tagNames:["b","strong"],style:{prop:"font-weight",value:"700|bold"},useQueryState:!0,contentDefault:"<b>B</b>",contentFA:'<i class="fa fa-bold"></i>'},italic:{name:"italic",action:"italic",aria:"italic",tagNames:["i","em"],style:{prop:"font-style",value:"italic"},useQueryState:!0,contentDefault:"<b><i>I</i></b>",contentFA:'<i class="fa fa-italic"></i>'},underline:{name:"underline",action:"underline",aria:"underline",tagNames:["u"],style:{prop:"text-decoration",value:"underline"},useQueryState:!0,contentDefault:"<b><u>U</u></b>",contentFA:'<i class="fa fa-underline"></i>'},strikethrough:{name:"strikethrough",action:"strikethrough",aria:"strike through",tagNames:["strike"],style:{prop:"text-decoration",value:"line-through"},useQueryState:!0,contentDefault:"<s>A</s>",contentFA:'<i class="fa fa-strikethrough"></i>'},superscript:{name:"superscript",action:"superscript",aria:"superscript",tagNames:["sup"],contentDefault:"<b>x<sup>1</sup></b>",contentFA:'<i class="fa fa-superscript"></i>'},subscript:{name:"subscript",action:"subscript",aria:"subscript",tagNames:["sub"],contentDefault:"<b>x<sub>1</sub></b>",contentFA:'<i class="fa fa-subscript"></i>'},image:{name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:"<b>image</b>",contentFA:'<i class="fa fa-picture-o"></i>'},html:{name:"html",action:"html",aria:"evaluate html",tagNames:["iframe","object"],contentDefault:"<b>html</b>",contentFA:'<i class="fa fa-code"></i>'},orderedlist:{name:"orderedlist",action:"insertorderedlist",aria:"ordered list",tagNames:["ol"],useQueryState:!0,contentDefault:"<b>1.</b>",contentFA:'<i class="fa fa-list-ol"></i>'},unorderedlist:{name:"unorderedlist",action:"insertunorderedlist",aria:"unordered list",tagNames:["ul"],useQueryState:!0,contentDefault:"<b>&bull;</b>",contentFA:'<i class="fa fa-list-ul"></i>'},indent:{name:"indent",action:"indent",aria:"indent",tagNames:[],contentDefault:"<b>&rarr;</b>",contentFA:'<i class="fa fa-indent"></i>'},outdent:{name:"outdent",action:"outdent",aria:"outdent",tagNames:[],contentDefault:"<b>&larr;</b>",contentFA:'<i class="fa fa-outdent"></i>'},justifyCenter:{name:"justifyCenter",action:"justifyCenter",aria:"center justify",tagNames:[],style:{prop:"text-align",value:"center"},contentDefault:"<b>C</b>",contentFA:'<i class="fa fa-align-center"></i>'},justifyFull:{name:"justifyFull",action:"justifyFull",aria:"full justify",tagNames:[],style:{prop:"text-align",value:"justify"},contentDefault:"<b>J</b>",contentFA:'<i class="fa fa-align-justify"></i>'},justifyLeft:{name:"justifyLeft",action:"justifyLeft",aria:"left justify",tagNames:[],style:{prop:"text-align",value:"left"},contentDefault:"<b>L</b>",contentFA:'<i class="fa fa-align-left"></i>'},justifyRight:{name:"justifyRight",action:"justifyRight",aria:"right justify",tagNames:[],style:{prop:"text-align",value:"right"},contentDefault:"<b>R</b>",contentFA:'<i class="fa fa-align-right"></i>'},removeFormat:{name:"removeFormat",aria:"remove formatting",action:"removeFormat",contentDefault:"<b>X</b>",contentFA:'<i class="fa fa-eraser"></i>'},quote:{name:"quote",action:"append-blockquote",aria:"blockquote",tagNames:["blockquote"],contentDefault:"<b>&ldquo;</b>",contentFA:'<i class="fa fa-quote-right"></i>'},pre:{name:"pre",action:"append-pre",aria:"preformatted text",tagNames:["pre"],contentDefault:"<b>0101</b>",contentFA:'<i class="fa fa-code fa-lg"></i>'},h1:{name:"h1",action:"append-h1",aria:"header type one",tagNames:["h1"],contentDefault:"<b>H1</b>",contentFA:'<i class="fa fa-header"><sup>1</sup>'},h2:{name:"h2",action:"append-h2",aria:"header type two",tagNames:["h2"],contentDefault:"<b>H2</b>",contentFA:'<i class="fa fa-header"><sup>2</sup>'},h3:{name:"h3",action:"append-h3",aria:"header type three",tagNames:["h3"],contentDefault:"<b>H3</b>",contentFA:'<i class="fa fa-header"><sup>3</sup>'},h4:{name:"h4",action:"append-h4",aria:"header type four",tagNames:["h4"],contentDefault:"<b>H4</b>",contentFA:'<i class="fa fa-header"><sup>4</sup>'},h5:{name:"h5",action:"append-h5",aria:"header type five",tagNames:["h5"],contentDefault:"<b>H5</b>",contentFA:'<i class="fa fa-header"><sup>5</sup>'},h6:{name:"h6",action:"append-h6",aria:"header type six",tagNames:["h6"],contentDefault:"<b>H6</b>",contentFA:'<i class="fa fa-header"><sup>6</sup>'}}}(),function(){var t=e.extensions.button.extend({init:function(){e.extensions.button.prototype.init.apply(this,arguments)},formSaveLabel:"&#10003;",formCloseLabel:"&times;",activeClass:"medium-editor-toolbar-form-active",hasForm:!0,getForm:function(){},isDisplayed:function(){return this.hasForm?this.getForm().classList.contains(this.activeClass):!1},showForm:function(){this.hasForm&&this.getForm().classList.add(this.activeClass)},hideForm:function(){this.hasForm&&this.getForm().classList.remove(this.activeClass)},showToolbarDefaultActions:function(){var r=this.base.getExtensionByName("toolbar");r&&r.showToolbarDefaultActions()},hideToolbarDefaultActions:function(){var r=this.base.getExtensionByName("toolbar");r&&r.hideToolbarDefaultActions()},setToolbarPosition:function(){var r=this.base.getExtensionByName("toolbar");r&&r.setToolbarPosition()}});e.extensions.form=t}(),function(){var t=e.extensions.form.extend({customClassOption:null,customClassOptionText:"Button",linkValidation:!1,placeholderText:"Paste or type a link",targetCheckbox:!1,targetCheckboxText:"Open in new window",name:"anchor",action:"createLink",aria:"link",tagNames:["a"],contentDefault:"<b>#</b>",contentFA:'<i class="fa fa-link"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this))},handleClick:function(r){r.preventDefault(),r.stopPropagation();var i=e.selection.getSelectionRange(this.document);return i.startContainer.nodeName.toLowerCase()==="a"||i.endContainer.nodeName.toLowerCase()==="a"||e.util.getClosestTag(e.selection.getSelectedParentElement(i),"a")?this.execAction("unlink"):(this.isDisplayed()||this.showForm(),!1)},handleKeydown:function(r){e.util.isKey(r,e.util.keyCode.K)&&e.util.isMetaCtrlKey(r)&&!r.shiftKey&&this.handleClick(r)},getForm:function(){return this.form||(this.form=this.createForm()),this.form},getTemplate:function(){var r=['<input type="text" class="medium-editor-toolbar-input" placeholder="',this.placeholderText,'">'];return r.push('<a href="#" class="medium-editor-toolbar-save">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':this.formSaveLabel,"</a>"),r.push('<a href="#" class="medium-editor-toolbar-close">',this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':this.formCloseLabel,"</a>"),this.targetCheckbox&&r.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-target" id="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">','<label for="medium-editor-toolbar-anchor-target-field-'+this.getEditorId()+'">',this.targetCheckboxText,"</label>","</div>"),this.customClassOption&&r.push('<div class="medium-editor-toolbar-form-row">','<input type="checkbox" class="medium-editor-toolbar-anchor-button">',"<label>",this.customClassOptionText,"</label>","</div>"),r.join("")},isDisplayed:function(){return e.extensions.form.prototype.isDisplayed.apply(this)},hideForm:function(){e.extensions.form.prototype.hideForm.apply(this),this.getInput().value=""},showForm:function(r){var i=this.getInput(),o=this.getAnchorTargetCheckbox(),a=this.getAnchorButtonCheckbox();if(r=r||{value:""},typeof r=="string"&&(r={value:r}),this.base.saveSelection(),this.hideToolbarDefaultActions(),e.extensions.form.prototype.showForm.apply(this),this.setToolbarPosition(),i.value=r.value,i.focus(),o&&(o.checked=r.target==="_blank"),a){var l=r.buttonClass?r.buttonClass.split(" "):[];a.checked=l.indexOf(this.customClassOption)!==-1}},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},getFormOpts:function(){var r=this.getAnchorTargetCheckbox(),i=this.getAnchorButtonCheckbox(),o={value:this.getInput().value.trim()};return this.linkValidation&&(o.value=this.checkLinkFormat(o.value)),o.target="_self",r&&r.checked&&(o.target="_blank"),i&&i.checked&&(o.buttonClass=this.customClassOption),o},doFormSave:function(){var r=this.getFormOpts();this.completeFormSave(r)},completeFormSave:function(r){this.base.restoreSelection(),this.execAction(this.action,r),this.base.checkSelection()},ensureEncodedUri:function(r){return r===decodeURI(r)?encodeURI(r):r},ensureEncodedUriComponent:function(r){return r===decodeURIComponent(r)?encodeURIComponent(r):r},ensureEncodedParam:function(r){var i=r.split("="),o=i[0],a=i[1];return o+(a===void 0?"":"="+this.ensureEncodedUriComponent(a))},ensureEncodedQuery:function(r){return r.split("&").map(this.ensureEncodedParam.bind(this)).join("&")},checkLinkFormat:function(r){var i=/^([a-z]+:)?\/\/|^(mailto|tel|maps):|^\#/i,o=i.test(r),a="",l=/^\+?\s?\(?(?:\d\s?\-?\)?){3,20}$/,u=r.match(/^(.*?)(?:\?(.*?))?(?:#(.*))?$/),c=u[1],f=u[2],v=u[3];if(l.test(r))return"tel:"+r;if(!o){var m=c.split("/")[0];(m.match(/.+(\.|:).+/)||m==="localhost")&&(a="http://")}return a+this.ensureEncodedUri(c)+(f===void 0?"":"?"+this.ensureEncodedQuery(f))+(v===void 0?"":"#"+v)},doFormCancel:function(){this.base.restoreSelection(),this.base.checkSelection()},attachFormEvents:function(r){var i=r.querySelector(".medium-editor-toolbar-close"),o=r.querySelector(".medium-editor-toolbar-save"),a=r.querySelector(".medium-editor-toolbar-input");this.on(r,"click",this.handleFormClick.bind(this)),this.on(a,"keyup",this.handleTextboxKeyup.bind(this)),this.on(i,"click",this.handleCloseClick.bind(this)),this.on(o,"click",this.handleSaveClick.bind(this),!0)},createForm:function(){var r=this.document,i=r.createElement("div");return i.className="medium-editor-toolbar-form",i.id="medium-editor-toolbar-form-anchor-"+this.getEditorId(),i.innerHTML=this.getTemplate(),this.attachFormEvents(i),i},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},getAnchorTargetCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-target")},getAnchorButtonCheckbox:function(){return this.getForm().querySelector(".medium-editor-toolbar-anchor-button")},handleTextboxKeyup:function(r){if(r.keyCode===e.util.keyCode.ENTER){r.preventDefault(),this.doFormSave();return}r.keyCode===e.util.keyCode.ESCAPE&&(r.preventDefault(),this.doFormCancel())},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});e.extensions.anchor=t}(),function(){var t=e.Extension.extend({name:"anchor-preview",hideDelay:500,previewValueSelector:"a",showWhenToolbarIsVisible:!1,showOnEmptyLinks:!0,init:function(){this.anchorPreview=this.createPreview(),this.getEditorOption("elementsContainer").appendChild(this.anchorPreview),this.attachToEditables()},getInteractionElements:function(){return this.getPreviewElement()},getPreviewElement:function(){return this.anchorPreview},createPreview:function(){var r=this.document.createElement("div");return r.id="medium-editor-anchor-preview-"+this.getEditorId(),r.className="medium-editor-anchor-preview",r.innerHTML=this.getTemplate(),this.on(r,"click",this.handleClick.bind(this)),r},getTemplate:function(){return'<div class="medium-editor-toolbar-anchor-preview" id="medium-editor-toolbar-anchor-preview">    <a class="medium-editor-toolbar-anchor-preview-inner"></a></div>'},destroy:function(){this.anchorPreview&&(this.anchorPreview.parentNode&&this.anchorPreview.parentNode.removeChild(this.anchorPreview),delete this.anchorPreview)},hidePreview:function(){this.anchorPreview&&this.anchorPreview.classList.remove("medium-editor-anchor-preview-active"),this.activeAnchor=null},showPreview:function(r){return this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||r.getAttribute("data-disable-preview")?!0:(this.previewValueSelector&&(this.anchorPreview.querySelector(this.previewValueSelector).textContent=r.attributes.href.value,this.anchorPreview.querySelector(this.previewValueSelector).href=r.attributes.href.value),this.anchorPreview.classList.add("medium-toolbar-arrow-over"),this.anchorPreview.classList.remove("medium-toolbar-arrow-under"),this.anchorPreview.classList.contains("medium-editor-anchor-preview-active")||this.anchorPreview.classList.add("medium-editor-anchor-preview-active"),this.activeAnchor=r,this.positionPreview(),this.attachPreviewHandlers(),this)},positionPreview:function(r){r=r||this.activeAnchor;var i=this.window.innerWidth,o=this.anchorPreview.offsetHeight,a=r.getBoundingClientRect(),l=this.diffLeft,u=this.diffTop,c=this.getEditorOption("elementsContainer"),f=["absolute","fixed"].indexOf(window.getComputedStyle(c).getPropertyValue("position"))>-1,v={},m,y,_,b,w;m=this.anchorPreview.offsetWidth/2;var x=this.base.getExtensionByName("toolbar");x&&(l=x.diffLeft,u=x.diffTop),y=l-m,f?(b=c.getBoundingClientRect(),["top","left"].forEach(function(k){v[k]=a[k]-b[k]}),v.width=a.width,v.height=a.height,a=v,i=b.width,w=c.scrollTop):w=this.window.pageYOffset,_=a.left+a.width/2,w+=o+a.top+a.height-u-this.anchorPreview.offsetHeight,this.anchorPreview.style.top=Math.round(w)+"px",this.anchorPreview.style.right="initial",_<m?(this.anchorPreview.style.left=y+m+"px",this.anchorPreview.style.right="initial"):i-_<m?(this.anchorPreview.style.left="auto",this.anchorPreview.style.right=0):(this.anchorPreview.style.left=y+_+"px",this.anchorPreview.style.right="initial")},attachToEditables:function(){this.subscribe("editableMouseover",this.handleEditableMouseover.bind(this)),this.subscribe("positionedToolbar",this.handlePositionedToolbar.bind(this))},handlePositionedToolbar:function(){this.showWhenToolbarIsVisible||this.hidePreview()},handleClick:function(r){var i=this.base.getExtensionByName("anchor"),o=this.activeAnchor;i&&o&&(r.preventDefault(),this.base.selectElement(this.activeAnchor),this.base.delay((function(){if(o){var a={value:o.attributes.href.value,target:o.getAttribute("target"),buttonClass:o.getAttribute("class")};i.showForm(a),o=null}}).bind(this))),this.hidePreview()},handleAnchorMouseout:function(){this.anchorToPreview=null,this.off(this.activeAnchor,"mouseout",this.instanceHandleAnchorMouseout),this.instanceHandleAnchorMouseout=null},handleEditableMouseover:function(r){var i=e.util.getClosestTag(r.target,"a");if(i!==!1){if(!this.showOnEmptyLinks&&(!/href=["']\S+["']/.test(i.outerHTML)||/href=["']#\S+["']/.test(i.outerHTML)))return!0;var o=this.base.getExtensionByName("toolbar");if(!this.showWhenToolbarIsVisible&&o&&o.isDisplayed&&o.isDisplayed())return!0;this.activeAnchor&&this.activeAnchor!==i&&this.detachPreviewHandlers(),this.anchorToPreview=i,this.instanceHandleAnchorMouseout=this.handleAnchorMouseout.bind(this),this.on(this.anchorToPreview,"mouseout",this.instanceHandleAnchorMouseout),this.base.delay((function(){this.anchorToPreview&&this.showPreview(this.anchorToPreview)}).bind(this))}},handlePreviewMouseover:function(){this.lastOver=new Date().getTime(),this.hovering=!0},handlePreviewMouseout:function(r){(!r.relatedTarget||!/anchor-preview/.test(r.relatedTarget.className))&&(this.hovering=!1)},updatePreview:function(){if(this.hovering)return!0;var r=new Date().getTime()-this.lastOver;r>this.hideDelay&&this.detachPreviewHandlers()},detachPreviewHandlers:function(){clearInterval(this.intervalTimer),this.instanceHandlePreviewMouseover&&(this.off(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.activeAnchor&&(this.off(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.off(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout))),this.hidePreview(),this.hovering=this.instanceHandlePreviewMouseover=this.instanceHandlePreviewMouseout=null},attachPreviewHandlers:function(){this.lastOver=new Date().getTime(),this.hovering=!0,this.instanceHandlePreviewMouseover=this.handlePreviewMouseover.bind(this),this.instanceHandlePreviewMouseout=this.handlePreviewMouseout.bind(this),this.intervalTimer=setInterval(this.updatePreview.bind(this),200),this.on(this.anchorPreview,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.anchorPreview,"mouseout",this.instanceHandlePreviewMouseout),this.on(this.activeAnchor,"mouseover",this.instanceHandlePreviewMouseover),this.on(this.activeAnchor,"mouseout",this.instanceHandlePreviewMouseout)}});e.extensions.anchorPreview=t}(),function(){var t,r,i,o,a;t=[" ","	",`
`,"\r"," "," "," "," "," ","\u2028","\u2029"],r="com|net|org|edu|gov|mil|aero|asia|biz|cat|coop|info|int|jobs|mobi|museum|name|post|pro|tel|travel|xxx|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cs|cu|cv|cx|cy|cz|dd|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|ja|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw",i="(((?:(https?://|ftps?://|nntp://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.]("+r+")\\/)\\S+(?:[^\\s`!\\[\\]{};:'\".,?«»“”‘’])))|(([a-z0-9\\-]+\\.)?[a-z0-9\\-]+\\.("+r+"))",o=new RegExp("^("+r+")$","i"),a=new RegExp(i,"gi");function l(c){return!e.util.getClosestTag(c,"a")}var u=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.disableEventHandling=!1,this.subscribe("editableKeypress",this.onKeypress.bind(this)),this.subscribe("editableBlur",this.onBlur.bind(this)),this.document.execCommand("AutoUrlDetect",!1,!1)},isLastInstance:function(){for(var c=0,f=0;f<this.window._mediumEditors.length;f++){var v=this.window._mediumEditors[f];v!==null&&v.getExtensionByName("autoLink")!==void 0&&c++}return c===1},destroy:function(){this.document.queryCommandSupported("AutoUrlDetect")&&this.isLastInstance()&&this.document.execCommand("AutoUrlDetect",!1,!0)},onBlur:function(c,f){this.performLinking(f)},onKeypress:function(c){this.disableEventHandling||e.util.isKey(c,[e.util.keyCode.SPACE,e.util.keyCode.ENTER])&&(clearTimeout(this.performLinkingTimeout),this.performLinkingTimeout=setTimeout((function(){try{var f=this.base.exportSelection();this.performLinking(c.target)&&this.base.importSelection(f,!0)}catch(v){window.console&&window.console.error("Failed to perform linking",v),this.disableEventHandling=!0}}).bind(this),0))},performLinking:function(c){var f=e.util.splitByBlockElements(c),v=!1;f.length===0&&(f=[c]);for(var m=0;m<f.length;m++)v=this.removeObsoleteAutoLinkSpans(f[m])||v,v=this.performLinkingWithinElement(f[m])||v;return this.base.events.updateInput(c,{target:c,currentTarget:c}),v},removeObsoleteAutoLinkSpans:function(c){if(!c||c.nodeType===3)return!1;for(var f=c.querySelectorAll('span[data-auto-link="true"]'),v=!1,m=0;m<f.length;m++){var y=f[m].textContent;if(y.indexOf("://")===-1&&(y=e.util.ensureUrlHasProtocol(y)),f[m].getAttribute("data-href")!==y&&l(f[m])){v=!0;var _=y.replace(/\s+$/,"");if(f[m].getAttribute("data-href")===_){var b=y.length-_.length,w=e.util.splitOffDOMTree(f[m],this.splitTextBeforeEnd(f[m],b));f[m].parentNode.insertBefore(w,f[m].nextSibling)}else e.util.unwrap(f[m],this.document)}}return v},splitTextBeforeEnd:function(c,f){for(var v=this.document.createTreeWalker(c,NodeFilter.SHOW_TEXT,null,!1),m=!0;m;)m=v.lastChild()!==null;for(var y,_,b;f>0&&b!==null;)y=v.currentNode,_=y.nodeValue,_.length>f?(b=y.splitText(_.length-f),f=0):(b=v.previousNode(),f-=_.length);return b},performLinkingWithinElement:function(c){for(var f=this.findLinkableText(c),v=!1,m=0;m<f.length;m++){var y=e.util.findOrCreateMatchingTextNodes(this.document,c,f[m]);this.shouldNotLink(y)||this.createAutoLink(y,f[m].href)}return v},shouldNotLink:function(c){for(var f=!1,v=0;v<c.length&&f===!1;v++)f=!!e.util.traverseUp(c[v],function(m){return m.nodeName.toLowerCase()==="a"||m.getAttribute&&m.getAttribute("data-auto-link")==="true"});return f},findLinkableText:function(c){for(var f=c.textContent,v=null,m=[];(v=a.exec(f))!==null;){var y=!0,_=v.index+v[0].length;y=(v.index===0||t.indexOf(f[v.index-1])!==-1)&&(_===f.length||t.indexOf(f[_])!==-1),y=y&&(v[0].indexOf("/")!==-1||o.test(v[0].split(".").pop().split("?").shift())),y&&m.push({href:v[0],start:v.index,end:_})}return m},createAutoLink:function(c,f){f=e.util.ensureUrlHasProtocol(f);var v=e.util.createLink(this.document,c,f,this.getEditorOption("targetBlank")?"_blank":null),m=this.document.createElement("span");for(m.setAttribute("data-auto-link","true"),m.setAttribute("data-href",f),v.insertBefore(m,v.firstChild);v.childNodes.length>1;)m.appendChild(v.childNodes[1])}});e.extensions.autoLink=u}(),function(){var t="medium-editor-dragover";function r(o){var a=e.util.getContainerEditorElement(o),l=Array.prototype.slice.call(a.parentElement.querySelectorAll("."+t));l.forEach(function(u){u.classList.remove(t)})}var i=e.Extension.extend({name:"fileDragging",allowedTypes:["image"],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(o){o.preventDefault(),o.dataTransfer.dropEffect="copy";var a=o.target.classList?o.target:o.target.parentElement;r(a),o.type==="dragover"&&a.classList.add(t)},handleDrop:function(o){o.preventDefault(),o.stopPropagation(),this.base.selectElement(o.target);var a=this.base.exportSelection();a.start=a.end,this.base.importSelection(a),o.dataTransfer.files&&Array.prototype.slice.call(o.dataTransfer.files).forEach(function(l){this.isAllowedFile(l)&&l.type.match("image")&&this.insertImageFile(l)},this),r(o.target)},isAllowedFile:function(o){return this.allowedTypes.some(function(a){return!!o.type.match(a)})},insertImageFile:function(o){if(typeof FileReader=="function"){var a=new FileReader;a.readAsDataURL(o),a.addEventListener("load",(function(l){var u=this.document.createElement("img");u.src=l.target.result,e.util.insertHTMLCommand(this.document,u.outerHTML)}).bind(this))}}});e.extensions.fileDragging=i}(),function(){var t=e.Extension.extend({name:"keyboard-commands",commands:[{command:"bold",key:"B",meta:!0,shift:!1,alt:!1},{command:"italic",key:"I",meta:!0,shift:!1,alt:!1},{command:"underline",key:"U",meta:!0,shift:!1,alt:!1}],init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.keys={},this.commands.forEach(function(r){var i=r.key.charCodeAt(0);this.keys[i]||(this.keys[i]=[]),this.keys[i].push(r)},this)},handleKeydown:function(r){var i=e.util.getKeyCode(r);if(this.keys[i]){var o=e.util.isMetaCtrlKey(r),a=!!r.shiftKey,l=!!r.altKey;this.keys[i].forEach(function(u){u.meta===o&&u.shift===a&&(u.alt===l||u.alt===void 0)&&(r.preventDefault(),r.stopPropagation(),typeof u.command=="function"?u.command.apply(this):u.command!==!1&&this.execAction(u.command))},this)}}});e.extensions.keyboardCommands=t}(),function(){var t=e.extensions.form.extend({name:"fontname",action:"fontName",aria:"change font name",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-font"></i>',fonts:["","Arial","Verdana","Times New Roman"],init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(r){if(r.preventDefault(),r.stopPropagation(),!this.isDisplayed()){var i=this.document.queryCommandValue("fontName")+"";this.showForm(i)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getSelect().value=""},showForm:function(r){var i=this.getSelect();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),i.value=r||"",i.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontName(),this.base.checkSelection()},createForm:function(){var r=this.document,i=r.createElement("div"),o=r.createElement("select"),a=r.createElement("a"),l=r.createElement("a"),u;i.className="medium-editor-toolbar-form",i.id="medium-editor-toolbar-form-fontname-"+this.getEditorId(),this.on(i,"click",this.handleFormClick.bind(this));for(var c=0;c<this.fonts.length;c++)u=r.createElement("option"),u.innerHTML=this.fonts[c],u.value=this.fonts[c],o.appendChild(u);return o.className="medium-editor-toolbar-select",i.appendChild(o),this.on(o,"change",this.handleFontChange.bind(this)),l.setAttribute("href","#"),l.className="medium-editor-toobar-save",l.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",i.appendChild(l),this.on(l,"click",this.handleSaveClick.bind(this),!0),a.setAttribute("href","#"),a.className="medium-editor-toobar-close",a.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",i.appendChild(a),this.on(a,"click",this.handleCloseClick.bind(this)),i},getSelect:function(){return this.getForm().querySelector("select.medium-editor-toolbar-select")},clearFontName:function(){e.selection.getSelectedElements(this.document).forEach(function(r){r.nodeName.toLowerCase()==="font"&&r.hasAttribute("face")&&r.removeAttribute("face")})},handleFontChange:function(){var r=this.getSelect().value;r===""?this.clearFontName():this.execAction("fontName",{value:r})},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});e.extensions.fontName=t}(),function(){var t=e.extensions.form.extend({name:"fontsize",action:"fontSize",aria:"increase/decrease font size",contentDefault:"&#xB1;",contentFA:'<i class="fa fa-text-height"></i>',init:function(){e.extensions.form.prototype.init.apply(this,arguments)},handleClick:function(r){if(r.preventDefault(),r.stopPropagation(),!this.isDisplayed()){var i=this.document.queryCommandValue("fontSize")+"";this.showForm(i)}return!1},getForm:function(){return this.form||(this.form=this.createForm()),this.form},isDisplayed:function(){return this.getForm().style.display==="block"},hideForm:function(){this.getForm().style.display="none",this.getInput().value=""},showForm:function(r){var i=this.getInput();this.base.saveSelection(),this.hideToolbarDefaultActions(),this.getForm().style.display="block",this.setToolbarPosition(),i.value=r||"",i.focus()},destroy:function(){if(!this.form)return!1;this.form.parentNode&&this.form.parentNode.removeChild(this.form),delete this.form},doFormSave:function(){this.base.restoreSelection(),this.base.checkSelection()},doFormCancel:function(){this.base.restoreSelection(),this.clearFontSize(),this.base.checkSelection()},createForm:function(){var r=this.document,i=r.createElement("div"),o=r.createElement("input"),a=r.createElement("a"),l=r.createElement("a");return i.className="medium-editor-toolbar-form",i.id="medium-editor-toolbar-form-fontsize-"+this.getEditorId(),this.on(i,"click",this.handleFormClick.bind(this)),o.setAttribute("type","range"),o.setAttribute("min","1"),o.setAttribute("max","7"),o.className="medium-editor-toolbar-input",i.appendChild(o),this.on(o,"change",this.handleSliderChange.bind(this)),l.setAttribute("href","#"),l.className="medium-editor-toobar-save",l.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-check"></i>':"&#10003;",i.appendChild(l),this.on(l,"click",this.handleSaveClick.bind(this),!0),a.setAttribute("href","#"),a.className="medium-editor-toobar-close",a.innerHTML=this.getEditorOption("buttonLabels")==="fontawesome"?'<i class="fa fa-times"></i>':"&times;",i.appendChild(a),this.on(a,"click",this.handleCloseClick.bind(this)),i},getInput:function(){return this.getForm().querySelector("input.medium-editor-toolbar-input")},clearFontSize:function(){e.selection.getSelectedElements(this.document).forEach(function(r){r.nodeName.toLowerCase()==="font"&&r.hasAttribute("size")&&r.removeAttribute("size")})},handleSliderChange:function(){var r=this.getInput().value;r==="4"?this.clearFontSize():this.execAction("fontSize",{value:r})},handleFormClick:function(r){r.stopPropagation()},handleSaveClick:function(r){r.preventDefault(),this.doFormSave()},handleCloseClick:function(r){r.preventDefault(),this.doFormCancel()}});e.extensions.fontSize=t}(),function(){var t="%ME_PASTEBIN%",r=null,i=null,o=function(c){c.stopPropagation()};function a(){return[[new RegExp(/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g),""],[new RegExp(/<!--StartFragment-->|<!--EndFragment-->/g),""],[new RegExp(/<br>$/i),""],[new RegExp(/<[^>]*docs-internal-guid[^>]*>/gi),""],[new RegExp(/<\/b>(<br[^>]*>)?$/gi),""],[new RegExp(/<span class="Apple-converted-space">\s+<\/span>/g)," "],[new RegExp(/<br class="Apple-interchange-newline">/g),"<br>"],[new RegExp(/<span[^>]*(font-style:italic;font-weight:(bold|700)|font-weight:(bold|700);font-style:italic)[^>]*>/gi),'<span class="replace-with italic bold">'],[new RegExp(/<span[^>]*font-style:italic[^>]*>/gi),'<span class="replace-with italic">'],[new RegExp(/<span[^>]*font-weight:(bold|700)[^>]*>/gi),'<span class="replace-with bold">'],[new RegExp(/&lt;(\/?)(i|b|a)&gt;/gi),"<$1$2>"],[new RegExp(/&lt;a(?:(?!href).)+href=(?:&quot;|&rdquo;|&ldquo;|"|“|”)(((?!&quot;|&rdquo;|&ldquo;|"|“|”).)*)(?:&quot;|&rdquo;|&ldquo;|"|“|”)(?:(?!&gt;).)*&gt;/gi),'<a href="$1">'],[new RegExp(/<\/p>\n+/gi),"</p>"],[new RegExp(/\n+<p/gi),"<p"],[new RegExp(/<\/?o:[a-z]*>/gi),""],[new RegExp(/<!\[if !supportLists\]>(((?!<!).)*)<!\[endif]\>/gi),"$1"]]}function l(c,f,v){var m=c.clipboardData||f.clipboardData||v.dataTransfer,y={};if(!m)return y;if(m.getData){var _=m.getData("Text");_&&_.length>0&&(y["text/plain"]=_)}if(m.types)for(var b=0;b<m.types.length;b++){var w=m.types[b];y[w]=m.getData(w)}return y}var u=e.Extension.extend({forcePlainText:!0,cleanPastedHTML:!1,preCleanReplacements:[],cleanReplacements:[],cleanAttrs:["class","style","dir"],cleanTags:["meta"],unwrapTags:[],init:function(){e.Extension.prototype.init.apply(this,arguments),(this.forcePlainText||this.cleanPastedHTML)&&(this.subscribe("editableKeydown",this.handleKeydown.bind(this)),this.getEditorElements().forEach(function(c){this.on(c,"paste",this.handlePaste.bind(this))},this),this.subscribe("addElement",this.handleAddElement.bind(this)))},handleAddElement:function(c,f){this.on(f,"paste",this.handlePaste.bind(this))},destroy:function(){(this.forcePlainText||this.cleanPastedHTML)&&this.removePasteBin()},handlePaste:function(c,f){if(!c.defaultPrevented){var v=l(c,this.window,this.document),m=v["text/html"],y=v["text/plain"];this.window.clipboardData&&c.clipboardData===void 0&&!m&&(m=y),(m||y)&&(c.preventDefault(),this.doPaste(m,y,f))}},doPaste:function(c,f,v){var m,y="",_;if(this.cleanPastedHTML&&c)return this.cleanPaste(c);if(f){if(this.getEditorOption("disableReturn")||v&&v.getAttribute("data-disable-return"))y=e.util.htmlEntities(f);else if(m=f.split(/[\r\n]+/g),m.length>1)for(_=0;_<m.length;_+=1)m[_]!==""&&(y+="<p>"+e.util.htmlEntities(m[_])+"</p>");else y=e.util.htmlEntities(m[0]);e.util.insertHTMLCommand(this.document,y)}},handlePasteBinPaste:function(c){if(c.defaultPrevented){this.removePasteBin();return}var f=l(c,this.window,this.document),v=f["text/html"],m=f["text/plain"],y=i;if(!this.cleanPastedHTML||v){c.preventDefault(),this.removePasteBin(),this.doPaste(v,m,y),this.trigger("editablePaste",{currentTarget:y,target:y},y);return}setTimeout((function(){this.cleanPastedHTML&&(v=this.getPasteBinHtml()),this.removePasteBin(),this.doPaste(v,m,y),this.trigger("editablePaste",{currentTarget:y,target:y},y)}).bind(this),0)},handleKeydown:function(c,f){e.util.isKey(c,e.util.keyCode.V)&&e.util.isMetaCtrlKey(c)&&(c.stopImmediatePropagation(),this.removePasteBin(),this.createPasteBin(f))},createPasteBin:function(c){var f,v=e.selection.getSelectionRange(this.document),m=this.window.pageYOffset;i=c,v&&(f=v.getClientRects(),f.length?m+=f[0].top:v.startContainer.getBoundingClientRect!==void 0?m+=v.startContainer.getBoundingClientRect().top:m+=v.getBoundingClientRect().top),r=v;var y=this.document.createElement("div");y.id=this.pasteBinId="medium-editor-pastebin-"+ +Date.now(),y.setAttribute("style","border: 1px red solid; position: absolute; top: "+m+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"),y.setAttribute("contentEditable",!0),y.innerHTML=t,this.document.body.appendChild(y),this.on(y,"focus",o),this.on(y,"focusin",o),this.on(y,"focusout",o),y.focus(),e.selection.selectNode(y,this.document),this.boundHandlePaste||(this.boundHandlePaste=this.handlePasteBinPaste.bind(this)),this.on(y,"paste",this.boundHandlePaste)},removePasteBin:function(){r!==null&&(e.selection.selectRange(this.document,r),r=null),i!==null&&(i=null);var c=this.getPasteBin();c&&c&&(this.off(c,"focus",o),this.off(c,"focusin",o),this.off(c,"focusout",o),this.off(c,"paste",this.boundHandlePaste),c.parentElement.removeChild(c))},getPasteBin:function(){return this.document.getElementById(this.pasteBinId)},getPasteBinHtml:function(){var c=this.getPasteBin();if(!c||c.firstChild&&c.firstChild.id==="mcepastebin")return!1;var f=c.innerHTML;return!f||f===t?!1:f},cleanPaste:function(c){var f,v,m,y,_=/<p|<br|<div/.test(c),b=[].concat(this.preCleanReplacements||[],a(),this.cleanReplacements||[]);for(f=0;f<b.length;f+=1)c=c.replace(b[f][0],b[f][1]);if(!_)return this.pasteHTML(c);for(m=this.document.createElement("div"),m.innerHTML="<p>"+c.split("<br><br>").join("</p><p>")+"</p>",v=m.querySelectorAll("a,p,div,br"),f=0;f<v.length;f+=1)switch(y=v[f],y.innerHTML=y.innerHTML.replace(/\n/gi," "),y.nodeName.toLowerCase()){case"p":case"div":this.filterCommonBlocks(y);break;case"br":this.filterLineBreak(y);break}this.pasteHTML(m.innerHTML)},pasteHTML:function(c,f){f=e.util.defaults({},f,{cleanAttrs:this.cleanAttrs,cleanTags:this.cleanTags,unwrapTags:this.unwrapTags});var v,m,y,_,b=this.document.createDocumentFragment();for(b.appendChild(this.document.createElement("body")),_=b.querySelector("body"),_.innerHTML=c,this.cleanupSpans(_),v=_.querySelectorAll("*"),y=0;y<v.length;y+=1)m=v[y],m.nodeName.toLowerCase()==="a"&&this.getEditorOption("targetBlank")&&e.util.setTargetBlank(m),e.util.cleanupAttrs(m,f.cleanAttrs),e.util.cleanupTags(m,f.cleanTags),e.util.unwrapTags(m,f.unwrapTags);e.util.insertHTMLCommand(this.document,_.innerHTML.replace(/&nbsp;/g," "))},isCommonBlock:function(c){return c&&(c.nodeName.toLowerCase()==="p"||c.nodeName.toLowerCase()==="div")},filterCommonBlocks:function(c){/^\s*$/.test(c.textContent)&&c.parentNode&&c.parentNode.removeChild(c)},filterLineBreak:function(c){this.isCommonBlock(c.previousElementSibling)?this.removeWithParent(c):this.isCommonBlock(c.parentNode)&&(c.parentNode.firstChild===c||c.parentNode.lastChild===c)?this.removeWithParent(c):c.parentNode&&c.parentNode.childElementCount===1&&c.parentNode.textContent===""&&this.removeWithParent(c)},removeWithParent:function(c){c&&c.parentNode&&(c.parentNode.parentNode&&c.parentNode.childElementCount===1?c.parentNode.parentNode.removeChild(c.parentNode):c.parentNode.removeChild(c))},cleanupSpans:function(c){var f,v,m,y=c.querySelectorAll(".replace-with"),_=function(b){return b&&b.nodeName!=="#text"&&b.getAttribute("contenteditable")==="false"};for(f=0;f<y.length;f+=1)v=y[f],m=this.document.createElement(v.classList.contains("bold")?"b":"i"),v.classList.contains("bold")&&v.classList.contains("italic")?m.innerHTML="<i>"+v.innerHTML+"</i>":m.innerHTML=v.innerHTML,v.parentNode.replaceChild(m,v);for(y=c.querySelectorAll("span"),f=0;f<y.length;f+=1){if(v=y[f],e.util.traverseUp(v,_))return!1;e.util.unwrap(v,this.document)}}});e.extensions.paste=u}(),function(){var t=e.Extension.extend({name:"placeholder",text:"Type your text",hideOnClick:!0,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initPlaceholders(),this.attachEventHandlers()},initPlaceholders:function(){this.getEditorElements().forEach(this.initElement,this)},handleAddElement:function(r,i){this.initElement(i)},initElement:function(r){r.getAttribute("data-placeholder")||r.setAttribute("data-placeholder",this.text),this.updatePlaceholder(r)},destroy:function(){this.getEditorElements().forEach(this.cleanupElement,this)},handleRemoveElement:function(r,i){this.cleanupElement(i)},cleanupElement:function(r){r.getAttribute("data-placeholder")===this.text&&r.removeAttribute("data-placeholder")},showPlaceholder:function(r){r&&(e.util.isFF&&r.childNodes.length===0?(r.classList.add("medium-editor-placeholder-relative"),r.classList.remove("medium-editor-placeholder")):(r.classList.add("medium-editor-placeholder"),r.classList.remove("medium-editor-placeholder-relative")))},hidePlaceholder:function(r){r&&(r.classList.remove("medium-editor-placeholder"),r.classList.remove("medium-editor-placeholder-relative"))},updatePlaceholder:function(r,i){if(r.querySelector("img, blockquote, ul, ol, table")||r.textContent.replace(/^\s+|\s+$/g,"")!=="")return this.hidePlaceholder(r);i||this.showPlaceholder(r)},attachEventHandlers:function(){this.hideOnClick&&this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableInput",this.handleInput.bind(this)),this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("addElement",this.handleAddElement.bind(this)),this.subscribe("removeElement",this.handleRemoveElement.bind(this))},handleInput:function(r,i){var o=this.hideOnClick&&i===this.base.getFocusedElement();this.updatePlaceholder(i,o)},handleFocus:function(r,i){this.hidePlaceholder(i)},handleBlur:function(r,i){this.updatePlaceholder(i)}});e.extensions.placeholder=t}(),function(){var t=e.Extension.extend({name:"toolbar",align:"center",allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",standardizeSelectionStart:!1,static:!1,sticky:!1,stickyTopOffset:0,updateOnEmptySelection:!1,relativeContainer:null,init:function(){e.Extension.prototype.init.apply(this,arguments),this.initThrottledMethods(),this.relativeContainer?this.relativeContainer.appendChild(this.getToolbarElement()):this.getEditorOption("elementsContainer").appendChild(this.getToolbarElement())},forEachExtension:function(r,i){return this.base.extensions.forEach(function(o){if(o!==this)return r.apply(i||this,arguments)},this)},createToolbar:function(){var r=this.document.createElement("div");return r.id="medium-editor-toolbar-"+this.getEditorId(),r.className="medium-editor-toolbar",this.static?r.className+=" static-toolbar":this.relativeContainer?r.className+=" medium-editor-relative-toolbar":r.className+=" medium-editor-stalker-toolbar",r.appendChild(this.createToolbarButtons()),this.forEachExtension(function(i){i.hasForm&&r.appendChild(i.getForm())}),this.attachEventHandlers(),r},createToolbarButtons:function(){var r=this.document.createElement("ul"),i,o,a,l,u,c;return r.id="medium-editor-toolbar-actions"+this.getEditorId(),r.className="medium-editor-toolbar-actions",r.style.display="block",this.buttons.forEach(function(f){typeof f=="string"?(u=f,c=null):(u=f.name,c=f),l=this.base.addBuiltInExtension(u,c),l&&typeof l.getButton=="function"&&(o=l.getButton(this.base),i=this.document.createElement("li"),e.util.isElement(o)?i.appendChild(o):i.innerHTML=o,r.appendChild(i))},this),a=r.querySelectorAll("button"),a.length>0&&(a[0].classList.add(this.firstButtonClass),a[a.length-1].classList.add(this.lastButtonClass)),r},destroy:function(){this.toolbar&&(this.toolbar.parentNode&&this.toolbar.parentNode.removeChild(this.toolbar),delete this.toolbar)},getInteractionElements:function(){return this.getToolbarElement()},getToolbarElement:function(){return this.toolbar||(this.toolbar=this.createToolbar()),this.toolbar},getToolbarActionsElement:function(){return this.getToolbarElement().querySelector(".medium-editor-toolbar-actions")},initThrottledMethods:function(){this.throttledPositionToolbar=e.util.throttle((function(){this.base.isActive&&this.positionToolbarIfShown()}).bind(this))},attachEventHandlers:function(){this.subscribe("blur",this.handleBlur.bind(this)),this.subscribe("focus",this.handleFocus.bind(this)),this.subscribe("editableClick",this.handleEditableClick.bind(this)),this.subscribe("editableKeyup",this.handleEditableKeyup.bind(this)),this.on(this.document.documentElement,"mouseup",this.handleDocumentMouseup.bind(this)),this.static&&this.sticky&&this.on(this.window,"scroll",this.handleWindowScroll.bind(this),!0),this.on(this.window,"resize",this.handleWindowResize.bind(this))},handleWindowScroll:function(){this.positionToolbarIfShown()},handleWindowResize:function(){this.throttledPositionToolbar()},handleDocumentMouseup:function(r){if(r&&r.target&&e.util.isDescendant(this.getToolbarElement(),r.target))return!1;this.checkState()},handleEditableClick:function(){setTimeout((function(){this.checkState()}).bind(this),0)},handleEditableKeyup:function(){this.checkState()},handleBlur:function(){clearTimeout(this.hideTimeout),clearTimeout(this.delayShowTimeout),this.hideTimeout=setTimeout((function(){this.hideToolbar()}).bind(this),1)},handleFocus:function(){this.checkState()},isDisplayed:function(){return this.getToolbarElement().classList.contains("medium-editor-toolbar-active")},showToolbar:function(){clearTimeout(this.hideTimeout),this.isDisplayed()||(this.getToolbarElement().classList.add("medium-editor-toolbar-active"),this.trigger("showToolbar",{},this.base.getFocusedElement()))},hideToolbar:function(){this.isDisplayed()&&(this.getToolbarElement().classList.remove("medium-editor-toolbar-active"),this.trigger("hideToolbar",{},this.base.getFocusedElement()))},isToolbarDefaultActionsDisplayed:function(){return this.getToolbarActionsElement().style.display==="block"},hideToolbarDefaultActions:function(){this.isToolbarDefaultActionsDisplayed()&&(this.getToolbarActionsElement().style.display="none")},showToolbarDefaultActions:function(){this.hideExtensionForms(),this.isToolbarDefaultActionsDisplayed()||(this.getToolbarActionsElement().style.display="block"),this.delayShowTimeout=this.base.delay((function(){this.showToolbar()}).bind(this))},hideExtensionForms:function(){this.forEachExtension(function(r){r.hasForm&&r.isDisplayed()&&r.hideForm()})},multipleBlockElementsSelected:function(){var r=/<[^\/>][^>]*><\/[^>]+>/gim,i=new RegExp("<("+e.util.blockContainerElementNames.join("|")+")[^>]*>","g"),o=e.selection.getSelectionHtml(this.document).replace(r,""),a=o.match(i);return!!a&&a.length>1},modifySelection:function(){var r=this.window.getSelection(),i=r.getRangeAt(0);if(this.standardizeSelectionStart&&i.startContainer.nodeValue&&i.startOffset===i.startContainer.nodeValue.length){var o=e.util.findAdjacentTextNodeWithContent(e.selection.getSelectionElement(this.window),i.startContainer,this.document);if(o){for(var a=0;o.nodeValue.substr(a,1).trim().length===0;)a=a+1;i=e.selection.select(this.document,o,a,i.endContainer,i.endOffset)}}},checkState:function(){if(!this.base.preventSelectionUpdates){if(!this.base.getFocusedElement()||e.selection.selectionInContentEditableFalse(this.window))return this.hideToolbar();var r=e.selection.getSelectionElement(this.window);if(!r||this.getEditorElements().indexOf(r)===-1||r.getAttribute("data-disable-toolbar"))return this.hideToolbar();if(this.updateOnEmptySelection&&this.static)return this.showAndUpdateToolbar();if(!e.selection.selectionContainsContent(this.document)||this.allowMultiParagraphSelection===!1&&this.multipleBlockElementsSelected())return this.hideToolbar();this.showAndUpdateToolbar()}},showAndUpdateToolbar:function(){this.modifySelection(),this.setToolbarButtonStates(),this.trigger("positionToolbar",{},this.base.getFocusedElement()),this.showToolbarDefaultActions(),this.setToolbarPosition()},setToolbarButtonStates:function(){this.forEachExtension(function(r){typeof r.isActive=="function"&&typeof r.setInactive=="function"&&r.setInactive()}),this.checkActiveButtons()},checkActiveButtons:function(){var r=[],i=null,o=e.selection.getSelectionRange(this.document),a,l=function(u){typeof u.checkState=="function"?u.checkState(a):typeof u.isActive=="function"&&typeof u.isAlreadyApplied=="function"&&typeof u.setActive=="function"&&!u.isActive()&&u.isAlreadyApplied(a)&&u.setActive()};if(o&&(this.forEachExtension(function(u){if(typeof u.queryCommandState=="function"&&(i=u.queryCommandState(),i!==null)){i&&typeof u.setActive=="function"&&u.setActive();return}r.push(u)}),a=e.selection.getSelectedParentElement(o),!!this.getEditorElements().some(function(u){return e.util.isDescendant(u,a,!0)})))for(;a&&(r.forEach(l),!e.util.isMediumEditorElement(a));)a=a.parentNode},positionToolbarIfShown:function(){this.isDisplayed()&&this.setToolbarPosition()},setToolbarPosition:function(){var r=this.base.getFocusedElement(),i=this.window.getSelection();if(!r)return this;(this.static||!i.isCollapsed)&&(this.showToolbar(),this.relativeContainer||(this.static?this.positionStaticToolbar(r):this.positionToolbar(i)),this.trigger("positionedToolbar",{},this.base.getFocusedElement()))},positionStaticToolbar:function(r){this.getToolbarElement().style.left="0";var i=this.document.documentElement&&this.document.documentElement.scrollTop||this.document.body.scrollTop,o=this.window.innerWidth,a=this.getToolbarElement(),l=r.getBoundingClientRect(),u=l.top+i,c=l.left+l.width/2,f=a.offsetHeight,v=a.offsetWidth,m=v/2,y;switch(this.sticky?i>u+r.offsetHeight-f-this.stickyTopOffset?(a.style.top=u+r.offsetHeight-f+"px",a.classList.remove("medium-editor-sticky-toolbar")):i>u-f-this.stickyTopOffset?(a.classList.add("medium-editor-sticky-toolbar"),a.style.top=this.stickyTopOffset+"px"):(a.classList.remove("medium-editor-sticky-toolbar"),a.style.top=u-f+"px"):a.style.top=u-f+"px",this.align){case"left":y=l.left;break;case"right":y=l.right-v;break;case"center":y=c-m;break}y<0?y=0:y+v>o&&(y=o-Math.ceil(v)-1),a.style.left=y+"px"},positionToolbar:function(r){this.getToolbarElement().style.left="0",this.getToolbarElement().style.right="initial";var i=r.getRangeAt(0),o=i.getBoundingClientRect();(!o||o.height===0&&o.width===0&&i.startContainer===i.endContainer)&&(i.startContainer.nodeType===1&&i.startContainer.querySelector("img")?o=i.startContainer.querySelector("img").getBoundingClientRect():o=i.startContainer.getBoundingClientRect());var a=this.window.innerWidth,l=this.getToolbarElement(),u=l.offsetHeight,c=l.offsetWidth,f=c/2,v=50,m=this.diffLeft-f,y=this.getEditorOption("elementsContainer"),_=["absolute","fixed"].indexOf(window.getComputedStyle(y).getPropertyValue("position"))>-1,b={},w={},x,k;_?(k=y.getBoundingClientRect(),["top","left"].forEach(function(N){w[N]=o[N]-k[N]}),w.width=o.width,w.height=o.height,o=w,a=k.width,b.top=y.scrollTop):b.top=this.window.pageYOffset,x=o.left+o.width/2,b.top+=o.top-u,o.top<v?(l.classList.add("medium-toolbar-arrow-over"),l.classList.remove("medium-toolbar-arrow-under"),b.top+=v+o.height-this.diffTop):(l.classList.add("medium-toolbar-arrow-under"),l.classList.remove("medium-toolbar-arrow-over"),b.top+=this.diffTop),x<f?(b.left=m+f,b.right="initial"):a-x<f?(b.left="auto",b.right=0):(b.left=m+x,b.right="initial"),["top","left","right"].forEach(function(N){l.style[N]=b[N]+(isNaN(b[N])?"":"px")})}});e.extensions.toolbar=t}(),function(){var t=e.Extension.extend({init:function(){e.Extension.prototype.init.apply(this,arguments),this.subscribe("editableDrag",this.handleDrag.bind(this)),this.subscribe("editableDrop",this.handleDrop.bind(this))},handleDrag:function(r){var i="medium-editor-dragover";r.preventDefault(),r.dataTransfer.dropEffect="copy",r.type==="dragover"?r.target.classList.add(i):r.type==="dragleave"&&r.target.classList.remove(i)},handleDrop:function(r){var i="medium-editor-dragover",o;r.preventDefault(),r.stopPropagation(),r.dataTransfer.files&&(o=Array.prototype.slice.call(r.dataTransfer.files,0),o.some((function(a){if(a.type.match("image")){var l,u;l=new FileReader,l.readAsDataURL(a),u="medium-img-"+ +new Date,e.util.insertHTMLCommand(this.document,'<img class="medium-editor-image-loading" id="'+u+'" />'),l.onload=(function(){var c=this.document.getElementById(u);c&&(c.removeAttribute("id"),c.removeAttribute("class"),c.src=l.result)}).bind(this)}}).bind(this))),r.target.classList.remove(i)}});e.extensions.imageDragging=t}(),function(){function t(T){var R=e.selection.getSelectionStart(this.options.ownerDocument),A=R.textContent,se=e.selection.getCaretOffsets(R);(A[se.left-1]===void 0||A[se.left-1].trim()===""||A[se.left]!==void 0&&A[se.left].trim()==="")&&T.preventDefault()}function r(T,R){if(this.options.disableReturn||R.getAttribute("data-disable-return"))T.preventDefault();else if(this.options.disableDoubleReturn||R.getAttribute("data-disable-double-return")){var A=e.selection.getSelectionStart(this.options.ownerDocument);(A&&A.textContent.trim()===""&&A.nodeName.toLowerCase()!=="li"||A.previousElementSibling&&A.previousElementSibling.nodeName.toLowerCase()!=="br"&&A.previousElementSibling.textContent.trim()==="")&&T.preventDefault()}}function i(T){var R=e.selection.getSelectionStart(this.options.ownerDocument),A=R&&R.nodeName.toLowerCase();A==="pre"&&(T.preventDefault(),e.util.insertHTMLCommand(this.options.ownerDocument,"    ")),e.util.isListItem(R)&&(T.preventDefault(),T.shiftKey?this.options.ownerDocument.execCommand("outdent",!1,null):this.options.ownerDocument.execCommand("indent",!1,null))}function o(T){var R,A=e.selection.getSelectionStart(this.options.ownerDocument),se=A.nodeName.toLowerCase(),re=/^(\s+|<br\/?>)?$/i,de=/h\d/i;e.util.isKey(T,[e.util.keyCode.BACKSPACE,e.util.keyCode.ENTER])&&A.previousElementSibling&&de.test(se)&&e.selection.getCaretOffsets(A).left===0?e.util.isKey(T,e.util.keyCode.BACKSPACE)&&re.test(A.previousElementSibling.innerHTML)?(A.previousElementSibling.parentNode.removeChild(A.previousElementSibling),T.preventDefault()):!this.options.disableDoubleReturn&&e.util.isKey(T,e.util.keyCode.ENTER)&&(R=this.options.ownerDocument.createElement("p"),R.innerHTML="<br>",A.previousElementSibling.parentNode.insertBefore(R,A),T.preventDefault()):e.util.isKey(T,e.util.keyCode.DELETE)&&A.nextElementSibling&&A.previousElementSibling&&!de.test(se)&&re.test(A.innerHTML)&&de.test(A.nextElementSibling.nodeName.toLowerCase())?(e.selection.moveCursor(this.options.ownerDocument,A.nextElementSibling),A.previousElementSibling.parentNode.removeChild(A),T.preventDefault()):e.util.isKey(T,e.util.keyCode.BACKSPACE)&&se==="li"&&re.test(A.innerHTML)&&!A.previousElementSibling&&!A.parentElement.previousElementSibling&&A.nextElementSibling&&A.nextElementSibling.nodeName.toLowerCase()==="li"?(R=this.options.ownerDocument.createElement("p"),R.innerHTML="<br>",A.parentElement.parentElement.insertBefore(R,A.parentElement),e.selection.moveCursor(this.options.ownerDocument,R),A.parentElement.removeChild(A),T.preventDefault()):e.util.isKey(T,e.util.keyCode.BACKSPACE)&&e.util.getClosestTag(A,"blockquote")!==!1&&e.selection.getCaretOffsets(A).left===0?(T.preventDefault(),e.util.execFormatBlock(this.options.ownerDocument,"p")):e.util.isKey(T,e.util.keyCode.ENTER)&&e.util.getClosestTag(A,"blockquote")!==!1&&e.selection.getCaretOffsets(A).right===0?(R=this.options.ownerDocument.createElement("p"),R.innerHTML="<br>",A.parentElement.insertBefore(R,A.nextSibling),e.selection.moveCursor(this.options.ownerDocument,R),T.preventDefault()):e.util.isKey(T,e.util.keyCode.BACKSPACE)&&e.util.isMediumEditorElement(A.parentElement)&&!A.previousElementSibling&&A.nextElementSibling&&re.test(A.innerHTML)&&(T.preventDefault(),e.selection.moveCursor(this.options.ownerDocument,A.nextSibling),A.parentElement.removeChild(A))}function a(T){var R=e.selection.getSelectionStart(this.options.ownerDocument),A;R&&(e.util.isMediumEditorElement(R)&&R.children.length===0&&!e.util.isBlockContainer(R)&&this.options.ownerDocument.execCommand("formatBlock",!1,"p"),e.util.isKey(T,e.util.keyCode.ENTER)&&!e.util.isListItem(R)&&!e.util.isBlockContainer(R)&&(A=R.nodeName.toLowerCase(),A==="a"?this.options.ownerDocument.execCommand("unlink",!1,null):!T.shiftKey&&!T.ctrlKey&&this.options.ownerDocument.execCommand("formatBlock",!1,"p")))}function l(T,R){var A=R.parentNode.querySelector('textarea[medium-editor-textarea-id="'+R.getAttribute("medium-editor-textarea-id")+'"]');A&&(A.value=R.innerHTML.trim())}function u(T){T._mediumEditors||(T._mediumEditors=[null]),this.id||(this.id=T._mediumEditors.length),T._mediumEditors[this.id]=this}function c(T){!T._mediumEditors||!T._mediumEditors[this.id]||(T._mediumEditors[this.id]=null)}function f(T,R,A){var se=[];if(T||(T=[]),typeof T=="string"&&(T=R.querySelectorAll(T)),e.util.isElement(T)&&(T=[T]),A)for(var re=0;re<T.length;re++){var de=T[re];e.util.isElement(de)&&!de.getAttribute("data-medium-editor-element")&&!de.getAttribute("medium-editor-textarea-id")&&se.push(de)}else se=Array.prototype.slice.apply(T);return se}function v(T){var R=T.parentNode.querySelector('textarea[medium-editor-textarea-id="'+T.getAttribute("medium-editor-textarea-id")+'"]');R&&(R.classList.remove("medium-editor-hidden"),R.removeAttribute("medium-editor-textarea-id")),T.parentNode&&T.parentNode.removeChild(T)}function m(T,R){return Object.keys(R).forEach(function(A){T[A]===void 0&&(T[A]=R[A])}),T}function y(T,R,A){var se={window:A.options.contentWindow,document:A.options.ownerDocument,base:A};return T=m(T,se),typeof T.init=="function"&&T.init(),T.name||(T.name=R),T}function _(){return this.elements.every(function(T){return!!T.getAttribute("data-disable-toolbar")})?!1:this.options.toolbar!==!1}function b(){return _.call(this)?this.options.anchorPreview!==!1:!1}function w(){return this.options.placeholder!==!1}function x(){return this.options.autoLink!==!1}function k(){return this.options.imageDragging!==!1}function N(){return this.options.keyboardCommands!==!1}function D(){return!this.options.extensions.imageDragging}function V(T){for(var R=this.options.ownerDocument.createElement("div"),A=Date.now(),se="medium-editor-"+A,re=T.attributes;this.options.ownerDocument.getElementById(se);)A++,se="medium-editor-"+A;R.className=T.className,R.id=se,R.innerHTML=T.value,T.setAttribute("medium-editor-textarea-id",se);for(var de=0,le=re.length;de<le;de++)R.hasAttribute(re[de].nodeName)||R.setAttribute(re[de].nodeName,re[de].value);return T.form&&this.on(T.form,"reset",(function(Ae){Ae.defaultPrevented||this.resetContent(this.options.ownerDocument.getElementById(se))}).bind(this)),T.classList.add("medium-editor-hidden"),T.parentNode.insertBefore(R,T),R}function U(T,R){if(!T.getAttribute("data-medium-editor-element")){T.nodeName.toLowerCase()==="textarea"&&(T=V.call(this,T),this.instanceHandleEditableInput||(this.instanceHandleEditableInput=l.bind(this),this.subscribe("editableInput",this.instanceHandleEditableInput))),!this.options.disableEditing&&!T.getAttribute("data-disable-editing")&&(T.setAttribute("contentEditable",!0),T.setAttribute("spellcheck",this.options.spellcheck)),this.instanceHandleEditableKeydownEnter||(T.getAttribute("data-disable-return")||T.getAttribute("data-disable-double-return"))&&(this.instanceHandleEditableKeydownEnter=r.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter)),!this.options.disableReturn&&!T.getAttribute("data-disable-return")&&this.on(T,"keyup",a.bind(this));var A=e.util.guid();T.setAttribute("data-medium-editor-element",!0),T.classList.add("medium-editor-element"),T.setAttribute("role","textbox"),T.setAttribute("aria-multiline",!0),T.setAttribute("data-medium-editor-editor-index",R),T.setAttribute("medium-editor-index",A),ue[A]=T.innerHTML,this.events.attachAllEventsToElement(T)}return T}function B(){this.subscribe("editableKeydownTab",i.bind(this)),this.subscribe("editableKeydownDelete",o.bind(this)),this.subscribe("editableKeydownEnter",o.bind(this)),this.options.disableExtraSpaces&&this.subscribe("editableKeydownSpace",t.bind(this)),this.instanceHandleEditableKeydownEnter||(this.options.disableReturn||this.options.disableDoubleReturn)&&(this.instanceHandleEditableKeydownEnter=r.bind(this),this.subscribe("editableKeydownEnter",this.instanceHandleEditableKeydownEnter))}function G(){if(this.extensions=[],Object.keys(this.options.extensions).forEach(function(re){re!=="toolbar"&&this.options.extensions[re]&&this.extensions.push(y(this.options.extensions[re],re,this))},this),D.call(this)){var T=this.options.fileDragging;T||(T={},k.call(this)||(T.allowedTypes=[])),this.addBuiltInExtension("fileDragging",T)}var R={paste:!0,"anchor-preview":b.call(this),autoLink:x.call(this),keyboardCommands:N.call(this),placeholder:w.call(this)};Object.keys(R).forEach(function(re){R[re]&&this.addBuiltInExtension(re)},this);var A=this.options.extensions.toolbar;if(!A&&_.call(this)){var se=e.util.extend({},this.options.toolbar,{allowMultiParagraphSelection:this.options.allowMultiParagraphSelection});A=new e.extensions.toolbar(se)}A&&this.extensions.push(y(A,"toolbar",this))}function Q(T,R){var A=[["allowMultiParagraphSelection","toolbar.allowMultiParagraphSelection"]];return R&&A.forEach(function(se){R.hasOwnProperty(se[0])&&R[se[0]]!==void 0&&e.util.deprecated(se[0],se[1],"v6.0.0")}),e.util.defaults({},R,T)}function ae(T,R){var A=/^append-(.+)$/gi,se=/justify([A-Za-z]*)$/g,re,de;if(re=A.exec(T),re)return e.util.execFormatBlock(this.options.ownerDocument,re[1]);if(T==="fontSize")return R.size&&e.util.deprecated(".size option for fontSize command",".value","6.0.0"),de=R.value||R.size,this.options.ownerDocument.execCommand("fontSize",!1,de);if(T==="fontName")return R.name&&e.util.deprecated(".name option for fontName command",".value","6.0.0"),de=R.value||R.name,this.options.ownerDocument.execCommand("fontName",!1,de);if(T==="createLink")return this.createLink(R);if(T==="image"){var le=this.options.contentWindow.getSelection().toString().trim();return this.options.ownerDocument.execCommand("insertImage",!1,le)}if(T==="html"){var Ae=this.options.contentWindow.getSelection().toString().trim();return e.util.insertHTMLCommand(this.options.ownerDocument,Ae)}if(se.exec(T)){var pe=this.options.ownerDocument.execCommand(T,!1,null),Ne=e.selection.getSelectedParentElement(e.selection.getSelectionRange(this.options.ownerDocument));return Ne&&q.call(this,e.util.getTopBlockContainer(Ne)),pe}return de=R&&R.value,this.options.ownerDocument.execCommand(T,!1,de)}function q(T){if(T){var R,A=Array.prototype.slice.call(T.childNodes).filter(function(se){var re=se.nodeName.toLowerCase()==="div";return re&&!R&&(R=se.style.textAlign),re});A.length&&(this.saveSelection(),A.forEach(function(se){if(se.style.textAlign===R){var re=se.lastChild;if(re){e.util.unwrap(se,this.options.ownerDocument);var de=this.options.ownerDocument.createElement("BR");re.parentNode.insertBefore(de,re.nextSibling)}}},this),T.style.textAlign=R,this.restoreSelection())}}var ue={};e.prototype={init:function(T,R){return this.options=Q.call(this,this.defaults,R),this.origElements=T,this.options.elementsContainer||(this.options.elementsContainer=this.options.ownerDocument.body),this.setup()},setup:function(){this.isActive||(u.call(this,this.options.contentWindow),this.events=new e.Events(this),this.elements=[],this.addElements(this.origElements),this.elements.length!==0&&(this.isActive=!0,G.call(this),B.call(this)))},destroy:function(){this.isActive&&(this.isActive=!1,this.extensions.forEach(function(T){typeof T.destroy=="function"&&T.destroy()},this),this.events.destroy(),this.elements.forEach(function(T){this.options.spellcheck&&(T.innerHTML=T.innerHTML),T.removeAttribute("contentEditable"),T.removeAttribute("spellcheck"),T.removeAttribute("data-medium-editor-element"),T.classList.remove("medium-editor-element"),T.removeAttribute("role"),T.removeAttribute("aria-multiline"),T.removeAttribute("medium-editor-index"),T.removeAttribute("data-medium-editor-editor-index"),T.getAttribute("medium-editor-textarea-id")&&v(T)},this),this.elements=[],this.instanceHandleEditableKeydownEnter=null,this.instanceHandleEditableInput=null,c.call(this,this.options.contentWindow))},on:function(T,R,A,se){return this.events.attachDOMEvent(T,R,A,se),this},off:function(T,R,A,se){return this.events.detachDOMEvent(T,R,A,se),this},subscribe:function(T,R){return this.events.attachCustomEvent(T,R),this},unsubscribe:function(T,R){return this.events.detachCustomEvent(T,R),this},trigger:function(T,R,A){return this.events.triggerCustomEvent(T,R,A),this},delay:function(T){var R=this;return setTimeout(function(){R.isActive&&T()},this.options.delay)},serialize:function(){var T,R,A={},se=this.elements.length;for(T=0;T<se;T+=1)R=this.elements[T].id!==""?this.elements[T].id:"element-"+T,A[R]={value:this.elements[T].innerHTML.trim()};return A},getExtensionByName:function(T){var R;return this.extensions&&this.extensions.length&&this.extensions.some(function(A){return A.name===T?(R=A,!0):!1}),R},addBuiltInExtension:function(T,R){var A=this.getExtensionByName(T),se;if(A)return A;switch(T){case"anchor":se=e.util.extend({},this.options.anchor,R),A=new e.extensions.anchor(se);break;case"anchor-preview":A=new e.extensions.anchorPreview(this.options.anchorPreview);break;case"autoLink":A=new e.extensions.autoLink;break;case"fileDragging":A=new e.extensions.fileDragging(R);break;case"fontname":A=new e.extensions.fontName(this.options.fontName);break;case"fontsize":A=new e.extensions.fontSize(R);break;case"keyboardCommands":A=new e.extensions.keyboardCommands(this.options.keyboardCommands);break;case"paste":A=new e.extensions.paste(this.options.paste);break;case"placeholder":A=new e.extensions.placeholder(this.options.placeholder);break;default:e.extensions.button.isBuiltInButton(T)&&(R?(se=e.util.defaults({},R,e.extensions.button.prototype.defaults[T]),A=new e.extensions.button(se)):A=new e.extensions.button(T))}return A&&this.extensions.push(y(A,T,this)),A},stopSelectionUpdates:function(){this.preventSelectionUpdates=!0},startSelectionUpdates:function(){this.preventSelectionUpdates=!1},checkSelection:function(){var T=this.getExtensionByName("toolbar");return T&&T.checkState(),this},queryCommandState:function(T){var R=/^full-(.+)$/gi,A,se=null;A=R.exec(T),A&&(T=A[1]);try{se=this.options.ownerDocument.queryCommandState(T)}catch{se=null}return se},execAction:function(T,R){var A=/^full-(.+)$/gi,se,re;return se=A.exec(T),se?(this.saveSelection(),this.selectAllContents(),re=ae.call(this,se[1],R),this.restoreSelection()):re=ae.call(this,T,R),(T==="insertunorderedlist"||T==="insertorderedlist")&&e.util.cleanListDOM(this.options.ownerDocument,this.getSelectedParentElement()),this.checkSelection(),re},getSelectedParentElement:function(T){return T===void 0&&(T=this.options.contentWindow.getSelection().getRangeAt(0)),e.selection.getSelectedParentElement(T)},selectAllContents:function(){var T=e.selection.getSelectionElement(this.options.contentWindow);if(T){for(;T.children.length===1;)T=T.children[0];this.selectElement(T)}},selectElement:function(T){e.selection.selectNode(T,this.options.ownerDocument);var R=e.selection.getSelectionElement(this.options.contentWindow);R&&this.events.focusElement(R)},getFocusedElement:function(){var T;return this.elements.some(function(R){return!T&&R.getAttribute("data-medium-focused")&&(T=R),!!T},this),T},exportSelection:function(){var T=e.selection.getSelectionElement(this.options.contentWindow),R=this.elements.indexOf(T),A=null;return R>=0&&(A=e.selection.exportSelection(T,this.options.ownerDocument)),A!==null&&R!==0&&(A.editableElementIndex=R),A},saveSelection:function(){this.selectionState=this.exportSelection()},importSelection:function(T,R){if(T){var A=this.elements[T.editableElementIndex||0];e.selection.importSelection(T,A,this.options.ownerDocument,R)}},restoreSelection:function(){this.importSelection(this.selectionState)},createLink:function(T){var R=e.selection.getSelectionElement(this.options.contentWindow),A={},se;if(this.elements.indexOf(R)!==-1){try{if(this.events.disableCustomEvent("editableInput"),T.url&&e.util.deprecated(".url option for createLink",".value","6.0.0"),se=T.url||T.value,se&&se.trim().length>0){var re=this.options.contentWindow.getSelection();if(re){var de=re.getRangeAt(0),le=de.commonAncestorContainer,Ae,pe,Ne,Ve;if(de.endContainer.nodeType===3&&de.startContainer.nodeType!==3&&de.startOffset===0&&de.startContainer.firstChild===de.endContainer&&(le=de.endContainer),pe=e.util.getClosestBlockContainer(de.startContainer),Ne=e.util.getClosestBlockContainer(de.endContainer),le.nodeType!==3&&le.textContent.length!==0&&pe===Ne){var Ie=pe||R,Oe=this.options.ownerDocument.createDocumentFragment();this.execAction("unlink"),Ae=this.exportSelection(),Oe.appendChild(Ie.cloneNode(!0)),R===Ie?e.selection.select(this.options.ownerDocument,Ie.firstChild,0,Ie.lastChild,Ie.lastChild.nodeType===3?Ie.lastChild.nodeValue.length:Ie.lastChild.childNodes.length):e.selection.select(this.options.ownerDocument,Ie,0,Ie,Ie.childNodes.length);var $=this.exportSelection();Ve=e.util.findOrCreateMatchingTextNodes(this.options.ownerDocument,Oe,{start:Ae.start-$.start,end:Ae.end-$.start,editableElementIndex:Ae.editableElementIndex}),Ve.length===0&&(Oe=this.options.ownerDocument.createDocumentFragment(),Oe.appendChild(le.cloneNode(!0)),Ve=[Oe.firstChild.firstChild,Oe.firstChild.lastChild]),e.util.createLink(this.options.ownerDocument,Ve,se.trim());var he=(Oe.firstChild.innerHTML.match(/^\s+/)||[""])[0].length;e.util.insertHTMLCommand(this.options.ownerDocument,Oe.firstChild.innerHTML.replace(/^\s+/,"")),Ae.start-=he,Ae.end-=he,this.importSelection(Ae)}else this.options.ownerDocument.execCommand("createLink",!1,se);this.options.targetBlank||T.target==="_blank"?e.util.setTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),se):e.util.removeTargetBlank(e.selection.getSelectionStart(this.options.ownerDocument),se),T.buttonClass&&e.util.addClassToAnchors(e.selection.getSelectionStart(this.options.ownerDocument),T.buttonClass)}}if(this.options.targetBlank||T.target==="_blank"||T.buttonClass){A=this.options.ownerDocument.createEvent("HTMLEvents"),A.initEvent("input",!0,!0,this.options.contentWindow);for(var ge=0,be=this.elements.length;ge<be;ge+=1)this.elements[ge].dispatchEvent(A)}}finally{this.events.enableCustomEvent("editableInput")}this.events.triggerCustomEvent("editableInput",A,R)}},cleanPaste:function(T){this.getExtensionByName("paste").cleanPaste(T)},pasteHTML:function(T,R){this.getExtensionByName("paste").pasteHTML(T,R)},setContent:function(T,R){if(R=R||0,this.elements[R]){var A=this.elements[R];A.innerHTML=T,this.checkContentChanged(A)}},getContent:function(T){return T=T||0,this.elements[T]?this.elements[T].innerHTML.trim():null},checkContentChanged:function(T){T=T||e.selection.getSelectionElement(this.options.contentWindow),this.events.updateInput(T,{target:T,currentTarget:T})},resetContent:function(T){if(T){var R=this.elements.indexOf(T);R!==-1&&this.setContent(ue[T.getAttribute("medium-editor-index")],R);return}this.elements.forEach(function(A,se){this.setContent(ue[A.getAttribute("medium-editor-index")],se)},this)},addElements:function(T){var R=f(T,this.options.ownerDocument,!0);if(R.length===0)return!1;R.forEach(function(A){A=U.call(this,A,this.id),this.elements.push(A),this.trigger("addElement",{target:A,currentTarget:A},A)},this)},removeElements:function(T){var R=f(T,this.options.ownerDocument),A=R.map(function(se){return se.getAttribute("medium-editor-textarea-id")&&se.parentNode?se.parentNode.querySelector('div[medium-editor-textarea-id="'+se.getAttribute("medium-editor-textarea-id")+'"]'):se});this.elements=this.elements.filter(function(se){return A.indexOf(se)!==-1?(this.events.cleanupElement(se),se.getAttribute("medium-editor-textarea-id")&&v(se),this.trigger("removeElement",{target:se,currentTarget:se},se),!1):!0},this)}},e.getEditorFromElement=function(T){var R=T.getAttribute("data-medium-editor-editor-index"),A=T&&T.ownerDocument&&(T.ownerDocument.defaultView||T.ownerDocument.parentWindow);return A&&A._mediumEditors&&A._mediumEditors[R]?A._mediumEditors[R]:null}}(),function(){e.prototype.defaults={activeButtonClass:"medium-editor-button-active",buttonLabels:!1,delay:0,disableReturn:!1,disableDoubleReturn:!1,disableExtraSpaces:!1,disableEditing:!1,autoLink:!1,elementsContainer:!1,contentWindow:window,ownerDocument:document,targetBlank:!1,extensions:{},spellcheck:!0}}(),e.parseVersionString=function(t){var r=t.split("-"),i=r[0].split("."),o=r.length>1?r[1]:"";return{major:parseInt(i[0],10),minor:parseInt(i[1],10),revision:parseInt(i[2],10),preRelease:o,toString:function(){return[i[0],i[1],i[2]].join(".")+(o?"-"+o:"")}}},e.version=e.parseVersionString.call(this,"5.23.3"),e}())}(bu)),bu.exports}var ZF=XF();const gd=fl(ZF);/*!
 * vanilla-picker v2.12.3
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2024 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */var Cg=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},wg=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),du=function(){function n(e,t){var r=[],i=!0,o=!1,a=void 0;try{for(var l=e[Symbol.iterator](),u;!(i=(u=l.next()).done)&&(r.push(u.value),!(t&&r.length===t));i=!0);}catch(c){o=!0,a=c}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();String.prototype.startsWith=String.prototype.startsWith||function(n){return this.indexOf(n)===0};String.prototype.padStart=String.prototype.padStart||function(n,e){for(var t=this;t.length<n;)t=e+t;return t};var YF={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function l5(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=e>0?n.toFixed(e).replace(/0+$/,"").replace(/\.$/,""):n.toString();return t||"0"}var qF=function(){function n(e,t,r,i){Cg(this,n);var o=this;function a(u){if(u.startsWith("hsl")){var c=u.match(/([\-\d\.e]+)/g).map(Number),f=du(c,4),v=f[0],m=f[1],y=f[2],_=f[3];_===void 0&&(_=1),v/=360,m/=100,y/=100,o.hsla=[v,m,y,_]}else if(u.startsWith("rgb")){var b=u.match(/([\-\d\.e]+)/g).map(Number),w=du(b,4),x=w[0],k=w[1],N=w[2],D=w[3];D===void 0&&(D=1),o.rgba=[x,k,N,D]}else u.startsWith("#")?o.rgba=n.hexToRgb(u):o.rgba=n.nameToRgb(u)||n.hexToRgb(u)}if(e!==void 0)if(Array.isArray(e))this.rgba=e;else if(r===void 0){var l=e&&""+e;l&&a(l.toLowerCase())}else this.rgba=[e,t,r,i===void 0?1:i]}return wg(n,[{key:"printRGB",value:function(t){var r=t?this.rgba:this.rgba.slice(0,3),i=r.map(function(o,a){return l5(o,a===3?3:0)});return t?"rgba("+i+")":"rgb("+i+")"}},{key:"printHSL",value:function(t){var r=[360,100,100,1],i=["","%","%",""],o=t?this.hsla:this.hsla.slice(0,3),a=o.map(function(l,u){return l5(l*r[u],u===3?3:1)+i[u]});return t?"hsla("+a+")":"hsl("+a+")"}},{key:"printHex",value:function(t){var r=this.hex;return t?r:r.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=n.hslToRgb(this._hsla)},set:function(t){t.length===3&&(t[3]=1),this._rgba=t,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=n.rgbToHsl(this._rgba)},set:function(t){t.length===3&&(t[3]=1),this._hsla=t,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){var t=this.rgba,r=t.map(function(i,o){return o<3?i.toString(16):Math.round(i*255).toString(16)});return"#"+r.map(function(i){return i.padStart(2,"0")}).join("")},set:function(t){this.rgba=n.hexToRgb(t)}}],[{key:"hexToRgb",value:function(t){var r=(t.startsWith("#")?t.slice(1):t).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!r.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+t);var i=r.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map(function(o){return parseInt(o,16)});return i[3]=i[3]/255,i}},{key:"nameToRgb",value:function(t){var r=t.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),i=YF[r];return i===void 0?i:n.hexToRgb(i.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(t){var r=du(t,4),i=r[0],o=r[1],a=r[2],l=r[3];i/=255,o/=255,a/=255;var u=Math.max(i,o,a),c=Math.min(i,o,a),f=void 0,v=void 0,m=(u+c)/2;if(u===c)f=v=0;else{var y=u-c;switch(v=m>.5?y/(2-u-c):y/(u+c),u){case i:f=(o-a)/y+(o<a?6:0);break;case o:f=(a-i)/y+2;break;case a:f=(i-o)/y+4;break}f/=6}return[f,v,m,l]}},{key:"hslToRgb",value:function(t){var r=du(t,4),i=r[0],o=r[1],a=r[2],l=r[3],u=void 0,c=void 0,f=void 0;if(o===0)u=c=f=a;else{var v=function(w,x,k){return k<0&&(k+=1),k>1&&(k-=1),k<.16666666666666666?w+(x-w)*6*k:k<.5?x:k<.6666666666666666?w+(x-w)*(.6666666666666666-k)*6:w},m=a<.5?a*(1+o):a+o-a*o,y=2*a-m;u=v(y,m,i+1/3),c=v(y,m,i),f=v(y,m,i-1/3)}var _=[u*255,c*255,f*255].map(Math.round);return _[3]=l,_}}]),n}(),KF=function(){function n(){Cg(this,n),this._events=[]}return wg(n,[{key:"add",value:function(t,r,i){t.addEventListener(r,i,!1),this._events.push({target:t,type:r,handler:i})}},{key:"remove",value:function(t,r,i){this._events=this._events.filter(function(o){var a=!0;return t&&t!==o.target&&(a=!1),r&&r!==o.type&&(a=!1),i&&i!==o.handler&&(a=!1),a&&n._doRemove(o.target,o.type,o.handler),!a})}},{key:"destroy",value:function(){this._events.forEach(function(t){return n._doRemove(t.target,t.type,t.handler)}),this._events=[]}}],[{key:"_doRemove",value:function(t,r,i){t.removeEventListener(r,i,!1)}}]),n}();function JF(n){var e=document.createElement("div");return e.innerHTML=n,e.firstElementChild}function kf(n,e,t){var r=!1;function i(u,c,f){return Math.max(c,Math.min(u,f))}function o(u,c,f){if(f&&(r=!0),!!r){u.preventDefault();var v=e.getBoundingClientRect(),m=v.width,y=v.height,_=c.clientX,b=c.clientY,w=i(_-v.left,0,m),x=i(b-v.top,0,y);t(w/m,x/y)}}function a(u,c){var f=u.buttons===void 0?u.which:u.buttons;f===1?o(u,u,c):r=!1}function l(u,c){u.touches.length===1?o(u,u.touches[0],c):r=!1}n.add(e,"mousedown",function(u){a(u,!0)}),n.add(e,"touchstart",function(u){l(u,!0)}),n.add(window,"mousemove",a),n.add(e,"touchmove",l),n.add(window,"mouseup",function(u){r=!1}),n.add(e,"touchend",function(u){r=!1}),n.add(e,"touchcancel",function(u){r=!1})}var QF=`linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,
                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em`,eV=360,B_="keydown",cu="mousedown",Sf="focusin";function uo(n,e){return(e||document).querySelector(n)}function tV(n){n.preventDefault(),n.stopPropagation()}function Ef(n,e,t,r,i){n.add(e,B_,function(o){t.indexOf(o.key)>=0&&r(o)})}var j_=function(){function n(e){Cg(this,n),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new KF,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(e)}return wg(n,[{key:"setOptions",value:function(t){var r=this;if(!t)return;var i=this.settings;function o(c,f,v){for(var m in c)f[m]=c[m]}if(t instanceof HTMLElement)i.parent=t;else{i.parent&&t.parent&&i.parent!==t.parent&&(this._events.remove(i.parent),this._popupInited=!1),o(t,i),t.onChange&&(this.onChange=t.onChange),t.onDone&&(this.onDone=t.onDone),t.onOpen&&(this.onOpen=t.onOpen),t.onClose&&(this.onClose=t.onClose);var a=t.color||t.colour;a&&this._setColor(a)}var l=i.parent;if(l&&i.popup&&!this._popupInited){var u=function(f){return r.openHandler(f)};this._events.add(l,"click",u),Ef(this._events,l,[" ","Spacebar","Enter"],u),this._popupInited=!0}else t.parent&&!i.popup&&this.show()}},{key:"openHandler",value:function(t){if(this.show()){t&&t.preventDefault(),this.settings.parent.style.pointerEvents="none";var r=t&&t.type===B_?this._domEdit:this.domElement;setTimeout(function(){return r.focus()},100),this.onOpen&&this.onOpen(this.colour)}}},{key:"closeHandler",value:function(t){var r=t&&t.type,i=!1;if(!t)i=!0;else if(r===cu||r===Sf){var o=(this.__containedEvent||0)+100;t.timeStamp>o&&(i=!0)}else tV(t),i=!0;i&&this.hide()&&(this.settings.parent.style.pointerEvents="",r!==cu&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(t,r){this.closeHandler(),this.setOptions(t),r&&this.openHandler()}},{key:"setColor",value:function(t,r){this._setColor(t,{silent:r})}},{key:"_setColor",value:function(t,r){if(typeof t=="string"&&(t=t.trim()),!!t){r=r||{};var i=void 0;try{i=new qF(t)}catch(a){if(r.failSilently)return;throw a}if(!this.settings.alpha){var o=i.hsla;o[3]=1,i.hsla=o}this.colour=this.color=i,this._setHSLA(null,null,null,null,r)}}},{key:"setColour",value:function(t,r){this.setColor(t,r)}},{key:"show",value:function(){var t=this.settings.parent;if(!t)return!1;if(this.domElement){var r=this._toggleDOM(!0);return this._setPosition(),r}var i=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',o=JF(i);return this.domElement=o,this._domH=uo(".picker_hue",o),this._domSL=uo(".picker_sl",o),this._domA=uo(".picker_alpha",o),this._domEdit=uo(".picker_editor input",o),this._domSample=uo(".picker_sample",o),this._domOkay=uo(".picker_done button",o),this._domCancel=uo(".picker_cancel button",o),o.classList.add("layout_"+this.settings.layout),this.settings.alpha||o.classList.add("no_alpha"),this.settings.editor||o.classList.add("no_editor"),this.settings.cancelButton||o.classList.add("no_cancel"),this._ifPopup(function(){return o.classList.add("popup")}),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var t=this,r=this,i=this.domElement,o=this._events;function a(c,f,v){o.add(c,f,v)}a(i,"click",function(c){return c.preventDefault()}),kf(o,this._domH,function(c,f){return r._setHSLA(c)}),kf(o,this._domSL,function(c,f){return r._setHSLA(null,c,1-f)}),this.settings.alpha&&kf(o,this._domA,function(c,f){return r._setHSLA(null,null,null,1-f)});var l=this._domEdit;a(l,"input",function(c){r._setColor(this.value,{fromEditor:!0,failSilently:!0})}),a(l,"focus",function(c){var f=this;f.selectionStart===f.selectionEnd&&f.select()}),this._ifPopup(function(){var c=function(m){return t.closeHandler(m)};a(window,cu,c),a(window,Sf,c),Ef(o,i,["Esc","Escape"],c);var f=function(m){t.__containedEvent=m.timeStamp};a(i,cu,f),a(i,Sf,f),a(t._domCancel,"click",c)});var u=function(f){t._ifPopup(function(){return t.closeHandler(f)}),t.onDone&&t.onDone(t.colour)};a(this._domOkay,"click",u),Ef(o,i,["Enter"],u)}},{key:"_setPosition",value:function(){var t=this.settings.parent,r=this.domElement;t!==r.parentNode&&t.appendChild(r),this._ifPopup(function(i){getComputedStyle(t).position==="static"&&(t.style.position="relative");var o=i===!0?"popup_right":"popup_"+i;["popup_top","popup_bottom","popup_left","popup_right"].forEach(function(a){a===o?r.classList.add(a):r.classList.remove(a)}),r.classList.add(o)})}},{key:"_setHSLA",value:function(t,r,i,o,a){a=a||{};var l=this.colour,u=l.hsla;[t,r,i,o].forEach(function(c,f){(c||c===0)&&(u[f]=c)}),l.hsla=u,this._updateUI(a),this.onChange&&!a.silent&&this.onChange(l)}},{key:"_updateUI",value:function(t){if(!this.domElement)return;t=t||{};var r=this.colour,i=r.hsla,o="hsl("+i[0]*eV+", 100%, 50%)",a=r.hslString,l=r.hslaString,u=this._domH,c=this._domSL,f=this._domA,v=uo(".picker_selector",u),m=uo(".picker_selector",c),y=uo(".picker_selector",f);function _(U,B,G){B.style.left=G*100+"%"}function b(U,B,G){B.style.top=G*100+"%"}_(u,v,i[0]),this._domSL.style.backgroundColor=this._domH.style.color=o,_(c,m,i[1]),b(c,m,1-i[2]),c.style.color=a,b(f,y,1-i[3]);var w=a,x=w.replace("hsl","hsla").replace(")",", 0)"),k="linear-gradient("+[w,x]+")";if(this._domA.style.background=k+", "+QF,!t.fromEditor){var N=this.settings.editorFormat,D=this.settings.alpha,V=void 0;switch(N){case"rgb":V=r.printRGB(D);break;case"hsl":V=r.printHSL(D);break;default:V=r.printHex(D)}this._domEdit.value=V}this._domSample.style.color=l}},{key:"_ifPopup",value:function(t,r){this.settings.parent&&this.settings.popup?t&&t(this.settings.popup):r&&r()}},{key:"_toggleDOM",value:function(t){var r=this.domElement;if(!r)return!1;var i=t?"":"none",o=r.style.display!==i;return o&&(r.style.display=i),o}}]),n}();{var Mf=document.createElement("style");Mf.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}',document.documentElement.firstElementChild.appendChild(Mf),j_.StyleElement=Mf}var Of={exports:{}},u5;function F_(){return u5||(u5=1,function(n,e){(function(t,r){n.exports=t()})(function(){var t="object",r="function",i="undefined",o=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],a=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],l=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],u=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function c($,he){var ge=typeof $[he];return ge==r||!!(ge==t&&$[he])||ge=="unknown"}function f($,he){return!!(typeof $[he]==t&&$[he])}function v($,he){return typeof $[he]!=i}function m($){return function(he,ge){for(var be=ge.length;be--;)if(!$(he,ge[be]))return!1;return!0}}var y=m(c),_=m(f),b=m(v);function w($){return $&&y($,u)&&b($,l)}function x($){return f($,"body")?$.body:$.getElementsByTagName("body")[0]}var k=[].forEach?function($,he){$.forEach(he)}:function($,he){for(var ge=0,be=$.length;ge<be;++ge)he($[ge],ge)},N={},D=typeof window!=i&&typeof document!=i,V={isHostMethod:c,isHostObject:f,isHostProperty:v,areHostMethods:y,areHostObjects:_,areHostProperties:b,isTextRange:w,getBody:x,forEach:k},U={version:"1.3.2",initialized:!1,isBrowser:D,supported:!0,util:V,features:{},modules:N,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==i?!0:rangyAutoInitialize}};function B($){typeof console!=i&&c(console,"log")}function G($,he){D&&he?alert($):B($)}function Q($){U.initialized=!0,U.supported=!1,G("Rangy is not supported in this environment. Reason: "+$,U.config.alertOnFail)}U.fail=Q;function ae($){G("Rangy warning: "+$,U.config.alertOnWarn)}U.warn=ae;var q;({}).hasOwnProperty?(V.extend=q=function($,he,ge){var be,Be;for(var xe in he)xe==="__proto__"||xe==="constructor"||xe==="prototype"||he.hasOwnProperty(xe)&&(be=$[xe],Be=he[xe],ge&&be!==null&&typeof be=="object"&&Be!==null&&typeof Be=="object"&&q(be,Be,!0),$[xe]=Be);return he.hasOwnProperty("toString")&&($.toString=he.toString),$},V.createOptions=function($,he){var ge={};return q(ge,he),$&&q(ge,$),ge}):Q("hasOwnProperty not supported"),D||Q("Rangy can only run in a browser"),function(){var $;if(D){var he=document.createElement("div");he.appendChild(document.createElement("span"));var ge=[].slice;try{ge.call(he.childNodes,0)[0].nodeType==1&&($=function(be){return ge.call(be,0)})}catch{}}$||($=function(be){for(var Be=[],xe=0,Re=be.length;xe<Re;++xe)Be[xe]=be[xe];return Be}),V.toArray=$}();var ue;D&&(c(document,"addEventListener")?ue=function($,he,ge){$.addEventListener(he,ge,!1)}:c(document,"attachEvent")?ue=function($,he,ge){$.attachEvent("on"+he,ge)}:Q("Document does not have required addEventListener or attachEvent method"),V.addListener=ue);var T=[];function R($){return $.message||$.description||String($)}function A(){if(!(!D||U.initialized)){var $,he=!1,ge=!1;c(document,"createRange")&&($=document.createRange(),y($,a)&&b($,o)&&(he=!0));var be=x(document);if(!be||be.nodeName.toLowerCase()!="body"){Q("No body element found");return}if(be&&c(be,"createTextRange")&&($=be.createTextRange(),w($)&&(ge=!0)),!he&&!ge){Q("Neither Range nor TextRange are available");return}U.initialized=!0,U.features={implementsDomRange:he,implementsTextRange:ge};var Be,xe;for(var Re in N)(Be=N[Re])instanceof Ae&&Be.init(Be,U);for(var st=0,Lt=T.length;st<Lt;++st)try{T[st](U)}catch(wt){xe="Rangy init listener threw an exception. Continuing. Detail: "+R(wt),B(xe)}}}function se($,he,ge){ge&&($+=" in module "+ge.name),U.warn("DEPRECATED: "+$+" is deprecated. Please use "+he+" instead.")}function re($,he,ge,be){$[he]=function(){return se(he,ge,be),$[ge].apply($,V.toArray(arguments))}}V.deprecationNotice=se,V.createAliasForDeprecatedMethod=re,U.init=A,U.addInitListener=function($){U.initialized?$(U):T.push($)};var de=[];U.addShimListener=function($){de.push($)};function le($){$=$||window,A();for(var he=0,ge=de.length;he<ge;++he)de[he]($)}D&&(U.shim=U.createMissingNativeApi=le,re(U,"createMissingNativeApi","shim"));function Ae($,he,ge){this.name=$,this.dependencies=he,this.initialized=!1,this.supported=!1,this.initializer=ge}Ae.prototype={init:function(){for(var $=this.dependencies||[],he=0,ge=$.length,be,Be;he<ge;++he){if(Be=$[he],be=N[Be],!be||!(be instanceof Ae))throw new Error("required module '"+Be+"' not found");if(be.init(),!be.supported)throw new Error("required module '"+Be+"' not supported")}this.initializer(this)},fail:function($){throw this.initialized=!0,this.supported=!1,new Error($)},warn:function($){U.warn("Module "+this.name+": "+$)},deprecationNotice:function($,he){U.warn("DEPRECATED: "+$+" in module "+this.name+" is deprecated. Please use "+he+" instead")},createError:function($){return new Error("Error in Rangy "+this.name+" module: "+$)}};function pe($,he,ge){var be=new Ae($,he,function(Be){if(!Be.initialized){Be.initialized=!0;try{ge(U,Be),Be.supported=!0}catch(Re){var xe="Module '"+$+"' failed to load: "+R(Re);B(xe),Re.stack&&B(Re.stack)}}});return N[$]=be,be}U.createModule=function($){var he,ge;arguments.length==2?(he=arguments[1],ge=[]):(he=arguments[2],ge=arguments[1]);var be=pe($,ge,he);U.initialized&&U.supported&&be.init()},U.createCoreModule=function($,he,ge){pe($,he,ge)};function Ne(){}U.RangePrototype=Ne,U.rangePrototype=new Ne;function Ve(){}U.selectionPrototype=new Ve,U.createCoreModule("DomUtil",[],function($,he){var ge="undefined",be=$.util,Be=be.getBody;be.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||he.fail("document missing a Node creation method"),be.isHostMethod(document,"getElementsByTagName")||he.fail("document missing getElementsByTagName method");var xe=document.createElement("div");be.areHostMethods(xe,["insertBefore","appendChild","cloneNode"])||he.fail("Incomplete Element implementation"),be.isHostProperty(xe,"innerHTML")||he.fail("Element is missing innerHTML property");var Re=document.createTextNode("test");be.areHostMethods(Re,["splitText","deleteData","insertData","appendData","cloneNode"])||he.fail("Incomplete Text Node implementation");var st=function(ke,Ye){for(var ft=ke.length;ft--;)if(ke[ft]===Ye)return!0;return!1};function Lt(ke){var Ye;return typeof ke.namespaceURI==ge||(Ye=ke.namespaceURI)===null||Ye=="http://www.w3.org/1999/xhtml"}function wt(ke){var Ye=ke.parentNode;return Ye.nodeType==1?Ye:null}function Mt(ke){for(var Ye=0;ke=ke.previousSibling;)++Ye;return Ye}function on(ke){switch(ke.nodeType){case 7:case 10:return 0;case 3:case 8:return ke.length;default:return ke.childNodes.length}}function pn(ke,Ye){var ft=[],yt;for(yt=ke;yt;yt=yt.parentNode)ft.push(yt);for(yt=Ye;yt;yt=yt.parentNode)if(st(ft,yt))return yt;return null}function z(ke,Ye,ft){for(var yt=ft?Ye:Ye.parentNode;yt;){if(yt===ke)return!0;yt=yt.parentNode}return!1}function E(ke,Ye){return z(ke,Ye,!0)}function H(ke,Ye,ft){for(var yt,zt=ft?ke:ke.parentNode;zt;){if(yt=zt.parentNode,yt===Ye)return zt;zt=yt}return null}function K(ke){var Ye=ke.nodeType;return Ye==3||Ye==4||Ye==8}function W(ke){if(!ke)return!1;var Ye=ke.nodeType;return Ye==3||Ye==8}function ne(ke,Ye){var ft=Ye.nextSibling,yt=Ye.parentNode;return ft?yt.insertBefore(ke,ft):yt.appendChild(ke),ke}function te(ke,Ye,ft){var yt=ke.cloneNode(!1);if(yt.deleteData(0,Ye),ke.deleteData(Ye,ke.length-Ye),ne(yt,ke),ft)for(var zt=0,Gt;Gt=ft[zt++];)Gt.node==ke&&Gt.offset>Ye?(Gt.node=yt,Gt.offset-=Ye):Gt.node==ke.parentNode&&Gt.offset>Mt(ke)&&++Gt.offset;return yt}function ce(ke){if(ke.nodeType==9)return ke;if(typeof ke.ownerDocument!=ge)return ke.ownerDocument;if(typeof ke.document!=ge)return ke.document;if(ke.parentNode)return ce(ke.parentNode);throw he.createError("getDocument: no document found for node")}function Se(ke){var Ye=ce(ke);if(typeof Ye.defaultView!=ge)return Ye.defaultView;if(typeof Ye.parentWindow!=ge)return Ye.parentWindow;throw he.createError("Cannot get a window object for node")}function Ee(ke){if(typeof ke.contentDocument!=ge)return ke.contentDocument;if(typeof ke.contentWindow!=ge)return ke.contentWindow.document;throw he.createError("getIframeDocument: No Document object found for iframe element")}function He(ke){if(typeof ke.contentWindow!=ge)return ke.contentWindow;if(typeof ke.contentDocument!=ge)return ke.contentDocument.defaultView;throw he.createError("getIframeWindow: No Window object found for iframe element")}function Xe(ke){return ke&&be.isHostMethod(ke,"setTimeout")&&be.isHostObject(ke,"document")}function it(ke,Ye,ft){var yt;if(ke?be.isHostProperty(ke,"nodeType")?yt=ke.nodeType==1&&ke.tagName.toLowerCase()=="iframe"?Ee(ke):ce(ke):Xe(ke)&&(yt=ke.document):yt=document,!yt)throw Ye.createError(ft+"(): Parameter must be a Window object or DOM node");return yt}function lt(ke){for(var Ye;Ye=ke.parentNode;)ke=Ye;return ke}function At(ke,Ye,ft,yt){var zt,Gt,fr,An,Yn;if(ke==ft)return Ye===yt?0:Ye<yt?-1:1;if(zt=H(ft,ke,!0))return Ye<=Mt(zt)?-1:1;if(zt=H(ke,ft,!0))return Mt(zt)<yt?-1:1;if(Gt=pn(ke,ft),!Gt)throw new Error("comparePoints error: nodes have no common ancestor");if(fr=ke===Gt?Gt:H(ke,Gt,!0),An=ft===Gt?Gt:H(ft,Gt,!0),fr===An)throw he.createError("comparePoints got to case 4 and childA and childB are the same!");for(Yn=Gt.firstChild;Yn;){if(Yn===fr)return-1;if(Yn===An)return 1;Yn=Yn.nextSibling}}var Ge=!1;function nt(ke){var Ye;try{return Ye=ke.parentNode,!1}catch{return!0}}(function(){var ke=document.createElement("b");ke.innerHTML="1";var Ye=ke.firstChild;ke.innerHTML="<br />",Ge=nt(Ye),$.features.crashyTextNodes=Ge})();function Dt(ke){if(!ke)return"[No node]";if(Ge&&nt(ke))return"[Broken node]";if(K(ke))return'"'+ke.data+'"';if(ke.nodeType==1){var Ye=ke.id?' id="'+ke.id+'"':"";return"<"+ke.nodeName+Ye+">[index:"+Mt(ke)+",length:"+ke.childNodes.length+"]["+(ke.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return ke.nodeName}function Je(ke){for(var Ye=ce(ke).createDocumentFragment(),ft;ft=ke.firstChild;)Ye.appendChild(ft);return Ye}var xn;typeof window.getComputedStyle!=ge?xn=function(ke,Ye){return Se(ke).getComputedStyle(ke,null)[Ye]}:typeof document.documentElement.currentStyle!=ge?xn=function(ke,Ye){return ke.currentStyle?ke.currentStyle[Ye]:""}:he.fail("No means of obtaining computed style properties found");function at(ke,Ye,ft){var yt=Be(ke),zt=ke.createElement("div");zt.contentEditable=""+!!ft,Ye&&(zt.innerHTML=Ye);var Gt=yt.firstChild;return Gt?yt.insertBefore(zt,Gt):yt.appendChild(zt),zt}function kn(ke){return ke.parentNode.removeChild(ke)}function Yt(ke){this.root=ke,this._next=ke}Yt.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var ke=this._current=this._next,Ye,ft;if(this._current)if(Ye=ke.firstChild,Ye)this._next=Ye;else{for(ft=null;ke!==this.root&&!(ft=ke.nextSibling);)ke=ke.parentNode;this._next=ft}return this._current},detach:function(){this._current=this._next=this.root=null}};function Bt(ke){return new Yt(ke)}function jt(ke,Ye){this.node=ke,this.offset=Ye}jt.prototype={equals:function(ke){return!!ke&&this.node===ke.node&&this.offset==ke.offset},inspect:function(){return"[DomPosition("+Dt(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}};function sn(ke){this.code=this[ke],this.codeName=ke,this.message="DOMException: "+this.codeName}sn.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},sn.prototype.toString=function(){return this.message},$.dom={arrayContains:st,isHtmlNamespace:Lt,parentElement:wt,getNodeIndex:Mt,getNodeLength:on,getCommonAncestor:pn,isAncestorOf:z,isOrIsAncestorOf:E,getClosestAncestorIn:H,isCharacterDataNode:K,isTextOrCommentNode:W,insertAfter:ne,splitDataNode:te,getDocument:ce,getWindow:Se,getIframeWindow:He,getIframeDocument:Ee,getBody:Be,isWindow:Xe,getContentDocument:it,getRootContainer:lt,comparePoints:At,isBrokenNode:nt,inspectNode:Dt,getComputedStyleProperty:xn,createTestElement:at,removeNode:kn,fragmentFromNodeChildren:Je,createIterator:Bt,DomPosition:jt},$.DOMException=sn}),U.createCoreModule("DomRange",["DomUtil"],function($,he){var ge=$.dom,be=$.util,Be=ge.DomPosition,xe=$.DOMException,Re=ge.isCharacterDataNode,st=ge.getNodeIndex,Lt=ge.isOrIsAncestorOf,wt=ge.getDocument,Mt=ge.comparePoints,on=ge.splitDataNode,pn=ge.getClosestAncestorIn,z=ge.getNodeLength,E=ge.arrayContains,H=ge.getRootContainer,K=$.features.crashyTextNodes,W=ge.removeNode;function ne(Y,M){return Y.nodeType!=3&&(Lt(Y,M.startContainer)||Lt(Y,M.endContainer))}function te(Y){return Y.document||wt(Y.startContainer)}function ce(Y){return H(Y.startContainer)}function Se(Y){return new Be(Y.parentNode,st(Y))}function Ee(Y){return new Be(Y.parentNode,st(Y)+1)}function He(Y,M,F){var fe=Y.nodeType==11?Y.firstChild:Y;return Re(M)?F==M.length?ge.insertAfter(Y,M):M.parentNode.insertBefore(Y,F==0?M:on(M,F)):F>=M.childNodes.length?M.appendChild(Y):M.insertBefore(Y,M.childNodes[F]),fe}function Xe(Y,M,F){if(Jt(Y),Jt(M),te(M)!=te(Y))throw new xe("WRONG_DOCUMENT_ERR");var fe=Mt(Y.startContainer,Y.startOffset,M.endContainer,M.endOffset),Me=Mt(Y.endContainer,Y.endOffset,M.startContainer,M.startOffset);return F?fe<=0&&Me>=0:fe<0&&Me>0}function it(Y){for(var M,F,fe=te(Y.range).createDocumentFragment(),Me;F=Y.next();){if(M=Y.isPartiallySelectedSubtree(),F=F.cloneNode(!M),M&&(Me=Y.getSubtreeIterator(),F.appendChild(it(Me)),Me.detach()),F.nodeType==10)throw new xe("HIERARCHY_REQUEST_ERR");fe.appendChild(F)}return fe}function lt(Y,M,F){var fe,Me;F=F||{stop:!1};for(var me,Ce;me=Y.next();)if(Y.isPartiallySelectedSubtree()){if(M(me)===!1){F.stop=!0;return}else if(Ce=Y.getSubtreeIterator(),lt(Ce,M,F),Ce.detach(),F.stop)return}else for(fe=ge.createIterator(me);Me=fe.next();)if(M(Me)===!1){F.stop=!0;return}}function At(Y){for(var M;Y.next();)Y.isPartiallySelectedSubtree()?(M=Y.getSubtreeIterator(),At(M),M.detach()):Y.remove()}function Ge(Y){for(var M,F=te(Y.range).createDocumentFragment(),fe;M=Y.next();){if(Y.isPartiallySelectedSubtree()?(M=M.cloneNode(!1),fe=Y.getSubtreeIterator(),M.appendChild(Ge(fe)),fe.detach()):Y.remove(),M.nodeType==10)throw new xe("HIERARCHY_REQUEST_ERR");F.appendChild(M)}return F}function nt(Y,M,F){var fe=!!(M&&M.length),Me,me=!!F;fe&&(Me=new RegExp("^("+M.join("|")+")$"));var Ce=[];return lt(new Je(Y,!1),function(qe){if(!(fe&&!Me.test(qe.nodeType))&&!(me&&!F(qe))){var dt=Y.startContainer;if(!(qe==dt&&Re(dt)&&Y.startOffset==dt.length)){var St=Y.endContainer;qe==St&&Re(St)&&Y.endOffset==0||Ce.push(qe)}}}),Ce}function Dt(Y){var M=typeof Y.getName>"u"?"Range":Y.getName();return"["+M+"("+ge.inspectNode(Y.startContainer)+":"+Y.startOffset+", "+ge.inspectNode(Y.endContainer)+":"+Y.endOffset+")]"}function Je(Y,M){if(this.range=Y,this.clonePartiallySelectedTextNodes=M,!Y.collapsed){this.sc=Y.startContainer,this.so=Y.startOffset,this.ec=Y.endContainer,this.eo=Y.endOffset;var F=Y.commonAncestorContainer;this.sc===this.ec&&Re(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc===F&&!Re(this.sc)?this.sc.childNodes[this.so]:pn(this.sc,F,!0),this._last=this.ec===F&&!Re(this.ec)?this.ec.childNodes[this.eo-1]:pn(this.ec,F,!0))}}Je.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var Y=this._current=this._next;return Y&&(this._next=Y!==this._last?Y.nextSibling:null,Re(Y)&&this.clonePartiallySelectedTextNodes&&(Y===this.ec&&(Y=Y.cloneNode(!0)).deleteData(this.eo,Y.length-this.eo),this._current===this.sc&&(Y=Y.cloneNode(!0)).deleteData(0,this.so))),Y},remove:function(){var Y=this._current,M,F;Re(Y)&&(Y===this.sc||Y===this.ec)?(M=Y===this.sc?this.so:0,F=Y===this.ec?this.eo:Y.length,M!=F&&Y.deleteData(M,F-M)):Y.parentNode&&W(Y)},isPartiallySelectedSubtree:function(){var Y=this._current;return ne(Y,this.range)},getSubtreeIterator:function(){var Y;if(this.isSingleCharacterDataNode)Y=this.range.cloneRange(),Y.collapse(!1);else{Y=new Mn(te(this.range));var M=this._current,F=M,fe=0,Me=M,me=z(M);Lt(M,this.sc)&&(F=this.sc,fe=this.so),Lt(M,this.ec)&&(Me=this.ec,me=this.eo),Ft(Y,F,fe,Me,me)}return new Je(Y,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var xn=[1,3,4,5,7,8,10],at=[2,9,11],kn=[5,6,10,12],Yt=[1,3,4,5,7,8,10,11],Bt=[1,3,4,5,7,8];function jt(Y){return function(M,F){for(var fe,Me=F?M:M.parentNode;Me;){if(fe=Me.nodeType,E(Y,fe))return Me;Me=Me.parentNode}return null}}var sn=jt([9,11]),ke=jt(kn),Ye=jt([6,10,12]),ft=jt([1]);function yt(Y,M){if(Ye(Y,M))throw new xe("INVALID_NODE_TYPE_ERR")}function zt(Y,M){if(!E(M,Y.nodeType))throw new xe("INVALID_NODE_TYPE_ERR")}function Gt(Y,M){if(M<0||M>(Re(Y)?Y.length:Y.childNodes.length))throw new xe("INDEX_SIZE_ERR")}function fr(Y,M){if(sn(Y,!0)!==sn(M,!0))throw new xe("WRONG_DOCUMENT_ERR")}function An(Y){if(ke(Y,!0))throw new xe("NO_MODIFICATION_ALLOWED_ERR")}function Yn(Y,M){if(!Y)throw new xe(M)}function ci(Y,M){return M<=(Re(Y)?Y.length:Y.childNodes.length)}function fi(Y){return!!Y.startContainer&&!!Y.endContainer&&!(K&&(ge.isBrokenNode(Y.startContainer)||ge.isBrokenNode(Y.endContainer)))&&H(Y.startContainer)==H(Y.endContainer)&&ci(Y.startContainer,Y.startOffset)&&ci(Y.endContainer,Y.endOffset)}function Jt(Y){if(!fi(Y))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+Y.inspect()+")")}var Ur=document.createElement("style"),Hn=!1;try{Ur.innerHTML="<b>x</b>",Hn=Ur.firstChild.nodeType==3}catch{}$.features.htmlParsingConforms=Hn;var Gr=Hn?function(Y){var M=this.startContainer,F=wt(M);if(!M)throw new xe("INVALID_STATE_ERR");var fe=null;return M.nodeType==1?fe=M:Re(M)&&(fe=ge.parentElement(M)),fe===null||fe.nodeName=="HTML"&&ge.isHtmlNamespace(wt(fe).documentElement)&&ge.isHtmlNamespace(fe)?fe=F.createElement("body"):fe=fe.cloneNode(!1),fe.innerHTML=Y,ge.fragmentFromNodeChildren(fe)}:function(Y){var M=te(this),F=M.createElement("body");return F.innerHTML=Y,ge.fragmentFromNodeChildren(F)};function Ni(Y,M){Jt(Y);var F=Y.startContainer,fe=Y.startOffset,Me=Y.endContainer,me=Y.endOffset,Ce=F===Me;Re(Me)&&me>0&&me<Me.length&&on(Me,me,M),Re(F)&&fe>0&&fe<F.length&&(F=on(F,fe,M),Ce?(me-=fe,Me=F):Me==F.parentNode&&me>=st(F)&&me++,fe=0),Y.setStartAndEnd(F,fe,Me,me)}function xt(Y){Jt(Y);var M=Y.commonAncestorContainer.parentNode.cloneNode(!1);return M.appendChild(Y.cloneContents()),M.innerHTML}var io=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ri=0,qn=1,Cr=2,wr=3,Xr=0,hi=1,Zr=2,ii=3;be.extend($.rangePrototype,{compareBoundaryPoints:function(Y,M){Jt(this),fr(this.startContainer,M.startContainer);var F,fe,Me,me,Ce=Y==wr||Y==ri?"start":"end",qe=Y==qn||Y==ri?"start":"end";return F=this[Ce+"Container"],fe=this[Ce+"Offset"],Me=M[qe+"Container"],me=M[qe+"Offset"],Mt(F,fe,Me,me)},insertNode:function(Y){if(Jt(this),zt(Y,Yt),An(this.startContainer),Lt(Y,this.startContainer))throw new xe("HIERARCHY_REQUEST_ERR");var M=He(Y,this.startContainer,this.startOffset);this.setStartBefore(M)},cloneContents:function(){Jt(this);var Y,M;if(this.collapsed)return te(this).createDocumentFragment();if(this.startContainer===this.endContainer&&Re(this.startContainer))return Y=this.startContainer.cloneNode(!0),Y.data=Y.data.slice(this.startOffset,this.endOffset),M=te(this).createDocumentFragment(),M.appendChild(Y),M;var F=new Je(this,!0);return Y=it(F),F.detach(),Y},canSurroundContents:function(){Jt(this),An(this.startContainer),An(this.endContainer);var Y=new Je(this,!0),M=Y._first&&ne(Y._first,this)||Y._last&&ne(Y._last,this);return Y.detach(),!M},surroundContents:function(Y){if(zt(Y,Bt),!this.canSurroundContents())throw new xe("INVALID_STATE_ERR");var M=this.extractContents();if(Y.hasChildNodes())for(;Y.lastChild;)Y.removeChild(Y.lastChild);He(Y,this.startContainer,this.startOffset),Y.appendChild(M),this.selectNode(Y)},cloneRange:function(){Jt(this);for(var Y=new Mn(te(this)),M=io.length,F;M--;)F=io[M],Y[F]=this[F];return Y},toString:function(){Jt(this);var Y=this.startContainer;if(Y===this.endContainer&&Re(Y))return Y.nodeType==3||Y.nodeType==4?Y.data.slice(this.startOffset,this.endOffset):"";var M=[],F=new Je(this,!0);return lt(F,function(fe){(fe.nodeType==3||fe.nodeType==4)&&M.push(fe.data)}),F.detach(),M.join("")},compareNode:function(Y){Jt(this);var M=Y.parentNode,F=st(Y);if(!M)throw new xe("NOT_FOUND_ERR");var fe=this.comparePoint(M,F),Me=this.comparePoint(M,F+1);return fe<0?Me>0?Zr:Xr:Me>0?hi:ii},comparePoint:function(Y,M){return Jt(this),Yn(Y,"HIERARCHY_REQUEST_ERR"),fr(Y,this.startContainer),Mt(Y,M,this.startContainer,this.startOffset)<0?-1:Mt(Y,M,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:Gr,toHtml:function(){return xt(this)},intersectsNode:function(Y,M){if(Jt(this),H(Y)!=ce(this))return!1;var F=Y.parentNode,fe=st(Y);if(!F)return!0;var Me=Mt(F,fe,this.endContainer,this.endOffset),me=Mt(F,fe+1,this.startContainer,this.startOffset);return M?Me<=0&&me>=0:Me<0&&me>0},isPointInRange:function(Y,M){return Jt(this),Yn(Y,"HIERARCHY_REQUEST_ERR"),fr(Y,this.startContainer),Mt(Y,M,this.startContainer,this.startOffset)>=0&&Mt(Y,M,this.endContainer,this.endOffset)<=0},intersectsRange:function(Y){return Xe(this,Y,!1)},intersectsOrTouchesRange:function(Y){return Xe(this,Y,!0)},intersection:function(Y){if(this.intersectsRange(Y)){var M=Mt(this.startContainer,this.startOffset,Y.startContainer,Y.startOffset),F=Mt(this.endContainer,this.endOffset,Y.endContainer,Y.endOffset),fe=this.cloneRange();return M==-1&&fe.setStart(Y.startContainer,Y.startOffset),F==1&&fe.setEnd(Y.endContainer,Y.endOffset),fe}return null},union:function(Y){if(this.intersectsOrTouchesRange(Y)){var M=this.cloneRange();return Mt(Y.startContainer,Y.startOffset,this.startContainer,this.startOffset)==-1&&M.setStart(Y.startContainer,Y.startOffset),Mt(Y.endContainer,Y.endOffset,this.endContainer,this.endOffset)==1&&M.setEnd(Y.endContainer,Y.endOffset),M}else throw new xe("Ranges do not intersect")},containsNode:function(Y,M){return M?this.intersectsNode(Y,!1):this.compareNode(Y)==ii},containsNodeContents:function(Y){return this.comparePoint(Y,0)>=0&&this.comparePoint(Y,z(Y))<=0},containsRange:function(Y){var M=this.intersection(Y);return M!==null&&Y.equals(M)},containsNodeText:function(Y){var M=this.cloneRange();M.selectNode(Y);var F=M.getNodes([3]);if(F.length>0){M.setStart(F[0],0);var fe=F.pop();return M.setEnd(fe,fe.length),this.containsRange(M)}else return this.containsNodeContents(Y)},getNodes:function(Y,M){return Jt(this),nt(this,Y,M)},getDocument:function(){return te(this)},collapseBefore:function(Y){this.setEndBefore(Y),this.collapse(!1)},collapseAfter:function(Y){this.setStartAfter(Y),this.collapse(!0)},getBookmark:function(Y){var M=te(this),F=$.createRange(M);Y=Y||ge.getBody(M),F.selectNodeContents(Y);var fe=this.intersection(F),Me=0,me=0;return fe&&(F.setEnd(fe.startContainer,fe.startOffset),Me=F.toString().length,me=Me+fe.toString().length),{start:Me,end:me,containerNode:Y}},moveToBookmark:function(Y){var M=Y.containerNode,F=0;this.setStart(M,0),this.collapse(!0);for(var fe=[M],Me,me=!1,Ce=!1,qe,dt,St;!Ce&&(Me=fe.pop());)if(Me.nodeType==3)qe=F+Me.length,!me&&Y.start>=F&&Y.start<=qe&&(this.setStart(Me,Y.start-F),me=!0),me&&Y.end>=F&&Y.end<=qe&&(this.setEnd(Me,Y.end-F),Ce=!0),F=qe;else for(St=Me.childNodes,dt=St.length;dt--;)fe.push(St[dt])},getName:function(){return"DomRange"},equals:function(Y){return Mn.rangesEqual(this,Y)},isValid:function(){return fi(this)},inspect:function(){return Dt(this)},detach:function(){}});function X(Y){Y.START_TO_START=ri,Y.START_TO_END=qn,Y.END_TO_END=Cr,Y.END_TO_START=wr,Y.NODE_BEFORE=Xr,Y.NODE_AFTER=hi,Y.NODE_BEFORE_AND_AFTER=Zr,Y.NODE_INSIDE=ii}function _e(Y){X(Y),X(Y.prototype)}function $e(Y,M){return function(){Jt(this);var F=this.startContainer,fe=this.startOffset,Me=this.commonAncestorContainer,me=new Je(this,!0),Ce,qe;F!==Me&&(Ce=pn(F,Me,!0),qe=Ee(Ce),F=qe.node,fe=qe.offset),lt(me,An),me.reset();var dt=Y(me);return me.detach(),M(this,F,fe,F,fe),dt}}function Ke(Y,M){function F(Ce,qe){return function(dt){zt(dt,xn),zt(H(dt),at);var St=(Ce?Se:Ee)(dt);(qe?fe:Me)(this,St.node,St.offset)}}function fe(Ce,qe,dt){var St=Ce.endContainer,In=Ce.endOffset;(qe!==Ce.startContainer||dt!==Ce.startOffset)&&((H(qe)!=H(St)||Mt(qe,dt,St,In)==1)&&(St=qe,In=dt),M(Ce,qe,dt,St,In))}function Me(Ce,qe,dt){var St=Ce.startContainer,In=Ce.startOffset;(qe!==Ce.endContainer||dt!==Ce.endOffset)&&((H(qe)!=H(St)||Mt(qe,dt,St,In)==-1)&&(St=qe,In=dt),M(Ce,St,In,qe,dt))}var me=function(){};me.prototype=$.rangePrototype,Y.prototype=new me,be.extend(Y.prototype,{setStart:function(Ce,qe){yt(Ce,!0),Gt(Ce,qe),fe(this,Ce,qe)},setEnd:function(Ce,qe){yt(Ce,!0),Gt(Ce,qe),Me(this,Ce,qe)},setStartAndEnd:function(){var Ce=arguments,qe=Ce[0],dt=Ce[1],St=qe,In=dt;switch(Ce.length){case 3:In=Ce[2];break;case 4:St=Ce[2],In=Ce[3];break}yt(qe,!0),Gt(qe,dt),yt(St,!0),Gt(St,In),M(this,qe,dt,St,In)},setBoundary:function(Ce,qe,dt){this["set"+(dt?"Start":"End")](Ce,qe)},setStartBefore:F(!0,!0),setStartAfter:F(!1,!0),setEndBefore:F(!0,!1),setEndAfter:F(!1,!1),collapse:function(Ce){Jt(this),Ce?M(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):M(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(Ce){yt(Ce,!0),M(this,Ce,0,Ce,z(Ce))},selectNode:function(Ce){yt(Ce,!1),zt(Ce,xn);var qe=Se(Ce),dt=Ee(Ce);M(this,qe.node,qe.offset,dt.node,dt.offset)},extractContents:$e(Ge,M),deleteContents:$e(At,M),canSurroundContents:function(){Jt(this),An(this.startContainer),An(this.endContainer);var Ce=new Je(this,!0),qe=Ce._first&&ne(Ce._first,this)||Ce._last&&ne(Ce._last,this);return Ce.detach(),!qe},splitBoundaries:function(){Ni(this)},splitBoundariesPreservingPositions:function(Ce){Ni(this,Ce)},normalizeBoundaries:function(){Jt(this);var Ce=this.startContainer,qe=this.startOffset,dt=this.endContainer,St=this.endOffset,In=function(Ln){var oi=Ln.nextSibling;oi&&oi.nodeType==Ln.nodeType&&(dt=Ln,St=Ln.length,Ln.appendData(oi.data),W(oi))},Ol=function(Ln){var oi=Ln.previousSibling;if(oi&&oi.nodeType==Ln.nodeType){Ce=Ln;var c2=Ln.length;if(qe=oi.length,Ln.insertData(0,oi.data),W(oi),Ce==dt)St+=qe,dt=Ce;else if(dt==Ln.parentNode){var zo=st(Ln);St==zo?(dt=Ln,St=c2):St>zo&&St--}}},Tt=!0,Yr;if(Re(dt))St==dt.length?In(dt):St==0&&(Yr=dt.previousSibling,Yr&&Yr.nodeType==dt.nodeType&&(St=Yr.length,Ce==dt&&(Tt=!1),Yr.appendData(dt.data),W(dt),dt=Yr));else{if(St>0){var ha=dt.childNodes[St-1];ha&&Re(ha)&&In(ha)}Tt=!this.collapsed}if(Tt){if(Re(Ce))qe==0?Ol(Ce):qe==Ce.length&&(Yr=Ce.nextSibling,Yr&&Yr.nodeType==Ce.nodeType&&(dt==Yr&&(dt=Ce,St+=Ce.length),Ce.appendData(Yr.data),W(Yr)));else if(qe<Ce.childNodes.length){var Wo=Ce.childNodes[qe];Wo&&Re(Wo)&&Ol(Wo)}}else Ce=dt,qe=St;M(this,Ce,qe,dt,St)},collapseToPoint:function(Ce,qe){yt(Ce,!0),Gt(Ce,qe),this.setStartAndEnd(Ce,qe)},parentElement:function(){Jt(this);var Ce=this.commonAncestorContainer;return Ce?ft(this.commonAncestorContainer,!0):null}}),_e(Y)}function We(Y){Y.collapsed=Y.startContainer===Y.endContainer&&Y.startOffset===Y.endOffset,Y.commonAncestorContainer=Y.collapsed?Y.startContainer:ge.getCommonAncestor(Y.startContainer,Y.endContainer)}function Ft(Y,M,F,fe,Me){Y.startContainer=M,Y.startOffset=F,Y.endContainer=fe,Y.endOffset=Me,Y.document=ge.getDocument(M),We(Y)}function Mn(Y){Ft(this,Y,0,Y,0)}Ke(Mn,Ft),be.extend(Mn,{rangeProperties:io,RangeIterator:Je,copyComparisonConstants:_e,createPrototypeRange:Ke,inspect:Dt,toHtml:xt,getRangeDocument:te,rangesEqual:function(Y,M){return Y.startContainer===M.startContainer&&Y.startOffset===M.startOffset&&Y.endContainer===M.endContainer&&Y.endOffset===M.endOffset}}),$.DomRange=Mn}),U.createCoreModule("WrappedRange",["DomRange"],function($,he){var ge,be,Be=$.dom,xe=$.util,Re=Be.DomPosition,st=$.DomRange,Lt=Be.getBody,wt=Be.getContentDocument,Mt=Be.isCharacterDataNode;if($.features.implementsDomRange&&function(){var W,ne=st.rangeProperties;function te(Ge){for(var nt=ne.length,Dt;nt--;)Dt=ne[nt],Ge[Dt]=Ge.nativeRange[Dt];Ge.collapsed=Ge.startContainer===Ge.endContainer&&Ge.startOffset===Ge.endOffset}function ce(Ge,nt,Dt,Je,xn){var at=Ge.startContainer!==nt||Ge.startOffset!=Dt,kn=Ge.endContainer!==Je||Ge.endOffset!=xn,Yt=!Ge.equals(Ge.nativeRange);(at||kn||Yt)&&(Ge.setEnd(Je,xn),Ge.setStart(nt,Dt))}var Se;ge=function(Ge){if(!Ge)throw he.createError("WrappedRange: Range must be specified");this.nativeRange=Ge,te(this)},st.createPrototypeRange(ge,ce),W=ge.prototype,W.selectNode=function(Ge){this.nativeRange.selectNode(Ge),te(this)},W.cloneContents=function(){return this.nativeRange.cloneContents()},W.surroundContents=function(Ge){this.nativeRange.surroundContents(Ge),te(this)},W.collapse=function(Ge){this.nativeRange.collapse(Ge),te(this)},W.cloneRange=function(){return new ge(this.nativeRange.cloneRange())},W.refresh=function(){te(this)},W.toString=function(){return this.nativeRange.toString()};var Ee=document.createTextNode("test");Lt(document).appendChild(Ee);var He=document.createRange();He.setStart(Ee,0),He.setEnd(Ee,0);try{He.setStart(Ee,1),W.setStart=function(Ge,nt){this.nativeRange.setStart(Ge,nt),te(this)},W.setEnd=function(Ge,nt){this.nativeRange.setEnd(Ge,nt),te(this)},Se=function(Ge){return function(nt){this.nativeRange[Ge](nt),te(this)}}}catch{W.setStart=function(nt,Dt){try{this.nativeRange.setStart(nt,Dt)}catch{this.nativeRange.setEnd(nt,Dt),this.nativeRange.setStart(nt,Dt)}te(this)},W.setEnd=function(nt,Dt){try{this.nativeRange.setEnd(nt,Dt)}catch{this.nativeRange.setStart(nt,Dt),this.nativeRange.setEnd(nt,Dt)}te(this)},Se=function(nt,Dt){return function(Je){try{this.nativeRange[nt](Je)}catch{this.nativeRange[Dt](Je),this.nativeRange[nt](Je)}te(this)}}}W.setStartBefore=Se("setStartBefore","setEndBefore"),W.setStartAfter=Se("setStartAfter","setEndAfter"),W.setEndBefore=Se("setEndBefore","setStartBefore"),W.setEndAfter=Se("setEndAfter","setStartAfter"),W.selectNodeContents=function(Ge){this.setStartAndEnd(Ge,0,Be.getNodeLength(Ge))},He.selectNodeContents(Ee),He.setEnd(Ee,3);var Xe=document.createRange();Xe.selectNodeContents(Ee),Xe.setEnd(Ee,4),Xe.setStart(Ee,2),He.compareBoundaryPoints(He.START_TO_END,Xe)==-1&&He.compareBoundaryPoints(He.END_TO_START,Xe)==1?W.compareBoundaryPoints=function(Ge,nt){return nt=nt.nativeRange||nt,Ge==nt.START_TO_END?Ge=nt.END_TO_START:Ge==nt.END_TO_START&&(Ge=nt.START_TO_END),this.nativeRange.compareBoundaryPoints(Ge,nt)}:W.compareBoundaryPoints=function(Ge,nt){return this.nativeRange.compareBoundaryPoints(Ge,nt.nativeRange||nt)};var it=document.createElement("div");it.innerHTML="123";var lt=it.firstChild,At=Lt(document);At.appendChild(it),He.setStart(lt,1),He.setEnd(lt,2),He.deleteContents(),lt.data=="13"&&(W.deleteContents=function(){this.nativeRange.deleteContents(),te(this)},W.extractContents=function(){var Ge=this.nativeRange.extractContents();return te(this),Ge}),At.removeChild(it),At=null,xe.isHostMethod(He,"createContextualFragment")&&(W.createContextualFragment=function(Ge){return this.nativeRange.createContextualFragment(Ge)}),Lt(document).removeChild(Ee),W.getName=function(){return"WrappedRange"},$.WrappedRange=ge,$.createNativeRange=function(Ge){return Ge=wt(Ge,he,"createNativeRange"),Ge.createRange()}}(),$.features.implementsTextRange){var on=function(W){var ne=W.parentElement(),te=W.duplicate();te.collapse(!0);var ce=te.parentElement();te=W.duplicate(),te.collapse(!1);var Se=te.parentElement(),Ee=ce==Se?ce:Be.getCommonAncestor(ce,Se);return Ee==ne?Ee:Be.getCommonAncestor(ne,Ee)},pn=function(W){return W.compareEndPoints("StartToEnd",W)==0},z=function(W,ne,te,ce,Se){var Ee=W.duplicate();Ee.collapse(te);var He=Ee.parentElement();if(Be.isOrIsAncestorOf(ne,He)||(He=ne),!He.canHaveHTML){var Xe=new Re(He.parentNode,Be.getNodeIndex(He));return{boundaryPosition:Xe,nodeInfo:{nodeIndex:Xe.offset,containerElement:Xe.node}}}var it=Be.getDocument(He).createElement("span");it.parentNode&&Be.removeNode(it);for(var lt,At=te?"StartToStart":"StartToEnd",Ge,nt,Dt,Je,xn=Se&&Se.containerElement==He?Se.nodeIndex:0,at=He.childNodes.length,kn=at,Yt=kn;Yt==at?He.appendChild(it):He.insertBefore(it,He.childNodes[Yt]),Ee.moveToElementText(it),lt=Ee.compareEndPoints(At,W),!(lt==0||xn==kn);){if(lt==-1){if(kn==xn+1)break;xn=Yt}else kn=kn==xn+1?xn:Yt;Yt=Math.floor((xn+kn)/2),He.removeChild(it)}if(Je=it.nextSibling,lt==-1&&Je&&Mt(Je)){Ee.setEndPoint(te?"EndToStart":"EndToEnd",W);var Bt;if(/[\r\n]/.test(Je.data)){var jt=Ee.duplicate(),sn=jt.text.replace(/\r\n/g,"\r").length;for(Bt=jt.moveStart("character",sn);(lt=jt.compareEndPoints("StartToEnd",jt))==-1;)Bt++,jt.moveStart("character",1)}else Bt=Ee.text.length;Dt=new Re(Je,Bt)}else Ge=(ce||!te)&&it.previousSibling,nt=(ce||te)&&it.nextSibling,nt&&Mt(nt)?Dt=new Re(nt,0):Ge&&Mt(Ge)?Dt=new Re(Ge,Ge.data.length):Dt=new Re(He,Be.getNodeIndex(it));return Be.removeNode(it),{boundaryPosition:Dt,nodeInfo:{nodeIndex:Yt,containerElement:He}}},E=function(W,ne){var te,ce,Se=W.offset,Ee=Be.getDocument(W.node),He,Xe,it=Lt(Ee).createTextRange(),lt=Mt(W.node);return lt?(te=W.node,ce=te.parentNode):(Xe=W.node.childNodes,te=Se<Xe.length?Xe[Se]:null,ce=W.node),He=Ee.createElement("span"),He.innerHTML="&#feff;",te?ce.insertBefore(He,te):ce.appendChild(He),it.moveToElementText(He),it.collapse(!ne),ce.removeChild(He),lt&&it[ne?"moveStart":"moveEnd"]("character",Se),it};be=function(W){this.textRange=W,this.refresh()},be.prototype=new st(document),be.prototype.refresh=function(){var W,ne,te,ce=on(this.textRange);pn(this.textRange)?ne=W=z(this.textRange,ce,!0,!0).boundaryPosition:(te=z(this.textRange,ce,!0,!1),W=te.boundaryPosition,ne=z(this.textRange,ce,!1,!1,te.nodeInfo).boundaryPosition),this.setStart(W.node,W.offset),this.setEnd(ne.node,ne.offset)},be.prototype.getName=function(){return"WrappedTextRange"},st.copyComparisonConstants(be);var H=function(W){if(W.collapsed)return E(new Re(W.startContainer,W.startOffset),!0);var ne=E(new Re(W.startContainer,W.startOffset),!0),te=E(new Re(W.endContainer,W.endOffset),!1),ce=Lt(st.getRangeDocument(W)).createTextRange();return ce.setEndPoint("StartToStart",ne),ce.setEndPoint("EndToEnd",te),ce};if(be.rangeToTextRange=H,be.prototype.toTextRange=function(){return H(this)},$.WrappedTextRange=be,!$.features.implementsDomRange||$.config.preferTextRange){var K=function(W){return W("return this;")()}(Function);typeof K.Range>"u"&&(K.Range=be),$.createNativeRange=function(W){return W=wt(W,he,"createNativeRange"),Lt(W).createTextRange()},$.WrappedRange=be}}$.createRange=function(W){return W=wt(W,he,"createRange"),new $.WrappedRange($.createNativeRange(W))},$.createRangyRange=function(W){return W=wt(W,he,"createRangyRange"),new st(W)},xe.createAliasForDeprecatedMethod($,"createIframeRange","createRange"),xe.createAliasForDeprecatedMethod($,"createIframeRangyRange","createRangyRange"),$.addShimListener(function(W){var ne=W.document;typeof ne.createRange>"u"&&(ne.createRange=function(){return $.createRange(ne)}),ne=W=null})}),U.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function($,he){$.config.checkSelectionRanges=!0;var ge="boolean",be="number",Be=$.dom,xe=$.util,Re=xe.isHostMethod,st=$.DomRange,Lt=$.WrappedRange,wt=$.DOMException,Mt=Be.DomPosition,on,pn,z=$.features,E="Control",H=Be.getDocument,K=Be.getBody,W=st.rangesEqual;function ne(X){return typeof X=="string"?/^backward(s)?$/i.test(X):!!X}function te(X,_e){if(X){if(Be.isWindow(X))return X;if(X instanceof Jt)return X.win;var $e=Be.getContentDocument(X,he,_e);return Be.getWindow($e)}else return window}function ce(X){return te(X,"getWinSelection").getSelection()}function Se(X){return te(X,"getDocSelection").document.selection}function Ee(X){var _e=!1;return X.anchorNode&&(_e=Be.comparePoints(X.anchorNode,X.anchorOffset,X.focusNode,X.focusOffset)==1),_e}var He=Re(window,"getSelection"),Xe=xe.isHostObject(document,"selection");z.implementsWinGetSelection=He,z.implementsDocSelection=Xe;var it=Xe&&(!He||$.config.preferTextRange);if(it)on=Se,$.isSelectionValid=function(X){var _e=te(X,"isSelectionValid").document,$e=_e.selection;return $e.type!="None"||H($e.createRange().parentElement())==_e};else if(He)on=ce,$.isSelectionValid=function(){return!0};else return he.fail("Neither document.selection or window.getSelection() detected."),!1;$.getNativeSelection=on;var lt=on();if(!lt)return he.fail("Native selection was null (possibly issue 138?)"),!1;var At=$.createNativeRange(document),Ge=K(document),nt=xe.areHostProperties(lt,["anchorNode","focusNode","anchorOffset","focusOffset"]);z.selectionHasAnchorAndFocus=nt;var Dt=Re(lt,"extend");z.selectionHasExtend=Dt;var Je=Re(lt,"setBaseAndExtent");z.selectionHasSetBaseAndExtent=Je;var xn=typeof lt.rangeCount==be;z.selectionHasRangeCount=xn;var at=!1,kn=!0,Yt=Dt?function(X,_e){var $e=st.getRangeDocument(_e),Ke=$.createRange($e);Ke.collapseToPoint(_e.endContainer,_e.endOffset),X.addRange(yt(Ke)),X.extend(_e.startContainer,_e.startOffset)}:null;xe.areHostMethods(lt,["addRange","getRangeAt","removeAllRanges"])&&typeof lt.rangeCount==be&&z.implementsDomRange&&function(){var X=window.getSelection();if(X){for(var _e=X.rangeCount,$e=_e>1,Ke=[],We=Ee(X),Ft=0;Ft<_e;++Ft)Ke[Ft]=X.getRangeAt(Ft);var Mn=Be.createTestElement(document,"",!1),Y=Mn.appendChild(document.createTextNode("   ")),M=document.createRange();if(M.setStart(Y,1),M.collapse(!0),X.removeAllRanges(),X.addRange(M),kn=X.rangeCount==1,X.removeAllRanges(),!$e){var F=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(F&&parseInt(F[1])>=36)at=!1;else{var fe=M.cloneRange();M.setStart(Y,0),fe.setEnd(Y,3),fe.setStart(Y,2),X.addRange(M),X.addRange(fe),at=X.rangeCount==2}}for(Be.removeNode(Mn),X.removeAllRanges(),Ft=0;Ft<_e;++Ft)Ft==0&&We?Yt?Yt(X,Ke[Ft]):($.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),X.addRange(Ke[Ft])):X.addRange(Ke[Ft])}}(),z.selectionSupportsMultipleRanges=at,z.collapsedNonEditableSelectionsSupported=kn;var Bt=!1,jt;Ge&&Re(Ge,"createControlRange")&&(jt=Ge.createControlRange(),xe.areHostProperties(jt,["item","add"])&&(Bt=!0)),z.implementsControlRange=Bt,nt?pn=function(X){return X.anchorNode===X.focusNode&&X.anchorOffset===X.focusOffset}:pn=function(X){return X.rangeCount?X.getRangeAt(X.rangeCount-1).collapsed:!1};function sn(X,_e,$e){var Ke=$e?"end":"start",We=$e?"start":"end";X.anchorNode=_e[Ke+"Container"],X.anchorOffset=_e[Ke+"Offset"],X.focusNode=_e[We+"Container"],X.focusOffset=_e[We+"Offset"]}function ke(X){var _e=X.nativeSelection;X.anchorNode=_e.anchorNode,X.anchorOffset=_e.anchorOffset,X.focusNode=_e.focusNode,X.focusOffset=_e.focusOffset}function Ye(X){X.anchorNode=X.focusNode=null,X.anchorOffset=X.focusOffset=0,X.rangeCount=0,X.isCollapsed=!0,X._ranges.length=0,ft(X)}function ft(X){X.type=X.rangeCount==0?"None":pn(X)?"Caret":"Range"}function yt(X){var _e;return X instanceof st?(_e=$.createNativeRange(X.getDocument()),_e.setEnd(X.endContainer,X.endOffset),_e.setStart(X.startContainer,X.startOffset)):X instanceof Lt?_e=X.nativeRange:z.implementsDomRange&&X instanceof Be.getWindow(X.startContainer).Range&&(_e=X),_e}function zt(X){if(!X.length||X[0].nodeType!=1)return!1;for(var _e=1,$e=X.length;_e<$e;++_e)if(!Be.isAncestorOf(X[0],X[_e]))return!1;return!0}function Gt(X){var _e=X.getNodes();if(!zt(_e))throw he.createError("getSingleElementFromRange: range "+X.inspect()+" did not consist of a single element");return _e[0]}function fr(X){return!!X&&typeof X.text<"u"}function An(X,_e){var $e=new Lt(_e);X._ranges=[$e],sn(X,$e,!1),X.rangeCount=1,X.isCollapsed=$e.collapsed,ft(X)}function Yn(X){if(X._ranges.length=0,X.docSelection.type=="None")Ye(X);else{var _e=X.docSelection.createRange();if(fr(_e))An(X,_e);else{X.rangeCount=_e.length;for(var $e,Ke=H(_e.item(0)),We=0;We<X.rangeCount;++We)$e=$.createRange(Ke),$e.selectNode(_e.item(We)),X._ranges.push($e);X.isCollapsed=X.rangeCount==1&&X._ranges[0].collapsed,sn(X,X._ranges[X.rangeCount-1],!1),ft(X)}}}function ci(X,_e){for(var $e=X.docSelection.createRange(),Ke=Gt(_e),We=H($e.item(0)),Ft=K(We).createControlRange(),Mn=0,Y=$e.length;Mn<Y;++Mn)Ft.add($e.item(Mn));try{Ft.add(Ke)}catch{throw he.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}Ft.select(),Yn(X)}var fi;Re(lt,"getRangeAt")?fi=function(X,_e){try{return X.getRangeAt(_e)}catch{return null}}:nt&&(fi=function(X){var _e=H(X.anchorNode),$e=$.createRange(_e);return $e.setStartAndEnd(X.anchorNode,X.anchorOffset,X.focusNode,X.focusOffset),$e.collapsed!==this.isCollapsed&&$e.setStartAndEnd(X.focusNode,X.focusOffset,X.anchorNode,X.anchorOffset),$e});function Jt(X,_e,$e){this.nativeSelection=X,this.docSelection=_e,this._ranges=[],this.win=$e,this.refresh()}Jt.prototype=$.selectionPrototype;function Ur(X){X.win=X.anchorNode=X.focusNode=X._ranges=null,X.rangeCount=X.anchorOffset=X.focusOffset=0,X.detached=!0,ft(X)}var Hn=[];function Gr(X,_e){for(var $e=Hn.length,Ke,We;$e--;)if(Ke=Hn[$e],We=Ke.selection,_e=="deleteAll")Ur(We);else if(Ke.win==X)return _e=="delete"?(Hn.splice($e,1),!0):We;return _e=="deleteAll"&&(Hn.length=0),null}var Ni=function(X){if(X&&X instanceof Jt)return X.refresh(),X;X=te(X,"getNativeSelection");var _e=Gr(X),$e=on(X),Ke=Xe?Se(X):null;return _e?(_e.nativeSelection=$e,_e.docSelection=Ke,_e.refresh()):(_e=new Jt($e,Ke,X),Hn.push({win:X,selection:_e})),_e};$.getSelection=Ni,xe.createAliasForDeprecatedMethod($,"getIframeSelection","getSelection");var xt=Jt.prototype;function io(X,_e){for(var $e=H(_e[0].startContainer),Ke=K($e).createControlRange(),We=0,Ft,Mn=_e.length;We<Mn;++We){Ft=Gt(_e[We]);try{Ke.add(Ft)}catch{throw he.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}Ke.select(),Yn(X)}if(!it&&nt&&xe.areHostMethods(lt,["removeAllRanges","addRange"])){xt.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),Ye(this)};var ri=function(X,_e){Yt(X.nativeSelection,_e),X.refresh()};xn?xt.addRange=function(X,_e){if(Bt&&Xe&&this.docSelection.type==E)ci(this,X);else if(ne(_e)&&Dt)ri(this,X);else{var $e;at?$e=this.rangeCount:(this.removeAllRanges(),$e=0);var Ke=yt(X).cloneRange();try{this.nativeSelection.addRange(Ke)}catch{}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==$e+1){if($.config.checkSelectionRanges){var We=fi(this.nativeSelection,this.rangeCount-1);We&&!W(We,X)&&(X=new Lt(We))}this._ranges[this.rangeCount-1]=X,sn(this,X,wr(this.nativeSelection)),this.isCollapsed=pn(this),ft(this)}else this.refresh()}}:xt.addRange=function(X,_e){ne(_e)&&Dt?ri(this,X):(this.nativeSelection.addRange(yt(X)),this.refresh())},xt.setRanges=function(X){if(Bt&&Xe&&X.length>1)io(this,X);else{this.removeAllRanges();for(var _e=0,$e=X.length;_e<$e;++_e)this.addRange(X[_e])}}}else if(Re(lt,"empty")&&Re(At,"select")&&Bt&&it)xt.removeAllRanges=function(){try{if(this.docSelection.empty(),this.docSelection.type!="None"){var X;if(this.anchorNode)X=H(this.anchorNode);else if(this.docSelection.type==E){var _e=this.docSelection.createRange();_e.length&&(X=H(_e.item(0)))}if(X){var $e=K(X).createTextRange();$e.select(),this.docSelection.empty()}}}catch{}Ye(this)},xt.addRange=function(X){this.docSelection.type==E?ci(this,X):($.WrappedTextRange.rangeToTextRange(X).select(),this._ranges[0]=X,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,sn(this,X,!1),ft(this))},xt.setRanges=function(X){this.removeAllRanges();var _e=X.length;_e>1?io(this,X):_e&&this.addRange(X[0])};else return he.fail("No means of selecting a Range or TextRange was found"),!1;xt.getRangeAt=function(X){if(X<0||X>=this.rangeCount)throw new wt("INDEX_SIZE_ERR");return this._ranges[X].cloneRange()};var qn;if(it)qn=function(X){var _e;$.isSelectionValid(X.win)?_e=X.docSelection.createRange():(_e=K(X.win.document).createTextRange(),_e.collapse(!0)),X.docSelection.type==E?Yn(X):fr(_e)?An(X,_e):Ye(X)};else if(Re(lt,"getRangeAt")&&typeof lt.rangeCount==be)qn=function(X){if(Bt&&Xe&&X.docSelection.type==E)Yn(X);else if(X._ranges.length=X.rangeCount=X.nativeSelection.rangeCount,X.rangeCount){for(var _e=0,$e=X.rangeCount;_e<$e;++_e)X._ranges[_e]=new $.WrappedRange(X.nativeSelection.getRangeAt(_e));sn(X,X._ranges[X.rangeCount-1],wr(X.nativeSelection)),X.isCollapsed=pn(X),ft(X)}else Ye(X)};else if(nt&&typeof lt.isCollapsed==ge&&typeof At.collapsed==ge&&z.implementsDomRange)qn=function(X){var _e,$e=X.nativeSelection;$e.anchorNode?(_e=fi($e,0),X._ranges=[_e],X.rangeCount=1,ke(X),X.isCollapsed=pn(X),ft(X)):Ye(X)};else return he.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;xt.refresh=function(X){var _e=X?this._ranges.slice(0):null,$e=this.anchorNode,Ke=this.anchorOffset;if(qn(this),X){var We=_e.length;if(We!=this._ranges.length||this.anchorNode!=$e||this.anchorOffset!=Ke)return!0;for(;We--;)if(!W(_e[We],this._ranges[We]))return!0;return!1}};var Cr=function(X,_e){var $e=X.getAllRanges();X.removeAllRanges();for(var Ke=0,We=$e.length;Ke<We;++Ke)W(_e,$e[Ke])||X.addRange($e[Ke]);X.rangeCount||Ye(X)};Bt&&Xe?xt.removeRange=function(X){if(this.docSelection.type==E){for(var _e=this.docSelection.createRange(),$e=Gt(X),Ke=H(_e.item(0)),We=K(Ke).createControlRange(),Ft,Mn=!1,Y=0,M=_e.length;Y<M;++Y)Ft=_e.item(Y),Ft!==$e||Mn?We.add(_e.item(Y)):Mn=!0;We.select(),Yn(this)}else Cr(this,X)}:xt.removeRange=function(X){Cr(this,X)};var wr;!it&&nt&&z.implementsDomRange?(wr=Ee,xt.isBackward=function(){return wr(this)}):wr=xt.isBackward=function(){return!1},xt.isBackwards=xt.isBackward,xt.toString=function(){for(var X=[],_e=0,$e=this.rangeCount;_e<$e;++_e)X[_e]=""+this._ranges[_e];return X.join("")};function Xr(X,_e){if(X.win.document!=H(_e))throw new wt("WRONG_DOCUMENT_ERR")}function hi(X,_e){if(_e<0||_e>(Be.isCharacterDataNode(X)?X.length:X.childNodes.length))throw new wt("INDEX_SIZE_ERR")}xt.collapse=function(X,_e){Xr(this,X);var $e=$.createRange(X);$e.collapseToPoint(X,_e),this.setSingleRange($e),this.isCollapsed=!0},xt.collapseToStart=function(){if(this.rangeCount){var X=this._ranges[0];this.collapse(X.startContainer,X.startOffset)}else throw new wt("INVALID_STATE_ERR")},xt.collapseToEnd=function(){if(this.rangeCount){var X=this._ranges[this.rangeCount-1];this.collapse(X.endContainer,X.endOffset)}else throw new wt("INVALID_STATE_ERR")},xt.selectAllChildren=function(X){Xr(this,X);var _e=$.createRange(X);_e.selectNodeContents(X),this.setSingleRange(_e)},Je?xt.setBaseAndExtent=function(X,_e,$e,Ke){this.nativeSelection.setBaseAndExtent(X,_e,$e,Ke),this.refresh()}:Dt&&(xt.setBaseAndExtent=function(X,_e,$e,Ke){hi(X,_e),hi($e,Ke),Xr(this,X),Xr(this,$e);var We=$.createRange(node),Ft=Be.comparePoints(X,_e,$e,Ke)==-1;Ft?We.setStartAndEnd($e,Ke,X,_e):We.setStartAndEnd(X,_e,$e,Ke),this.setSingleRange(We,Ft)}),xt.deleteFromDocument=function(){if(Bt&&Xe&&this.docSelection.type==E){for(var X=this.docSelection.createRange(),_e;X.length;)_e=X.item(0),X.remove(_e),Be.removeNode(_e);this.refresh()}else if(this.rangeCount){var $e=this.getAllRanges();if($e.length){this.removeAllRanges();for(var Ke=0,We=$e.length;Ke<We;++Ke)$e[Ke].deleteContents();this.addRange($e[We-1])}}},xt.eachRange=function(X,_e){for(var $e=0,Ke=this._ranges.length;$e<Ke;++$e)if(X(this.getRangeAt($e)))return _e},xt.getAllRanges=function(){var X=[];return this.eachRange(function(_e){X.push(_e)}),X},xt.setSingleRange=function(X,_e){this.removeAllRanges(),this.addRange(X,_e)},xt.callMethodOnEachRange=function(X,_e){var $e=[];return this.eachRange(function(Ke){$e.push(Ke[X].apply(Ke,_e||[]))}),$e};function Zr(X){return function(_e,$e){var Ke;this.rangeCount?(Ke=this.getRangeAt(0),Ke["set"+(X?"Start":"End")](_e,$e)):(Ke=$.createRange(this.win.document),Ke.setStartAndEnd(_e,$e)),this.setSingleRange(Ke,this.isBackward())}}xt.setStart=Zr(!0),xt.setEnd=Zr(!1),$.rangePrototype.select=function(X){Ni(this.getDocument()).setSingleRange(this,X)},xt.changeEachRange=function(X){var _e=[],$e=this.isBackward();this.eachRange(function(Ke){X(Ke),_e.push(Ke)}),this.removeAllRanges(),$e&&_e.length==1?this.addRange(_e[0],"backward"):this.setRanges(_e)},xt.containsNode=function(X,_e){return this.eachRange(function($e){return $e.containsNode(X,_e)},!0)||!1},xt.getBookmark=function(X){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[X])}},xt.moveToBookmark=function(X){for(var _e=[],$e=0,Ke,We;Ke=X.rangeBookmarks[$e++];)We=$.createRange(this.win),We.moveToBookmark(Ke),_e.push(We);X.backward?this.setSingleRange(_e[0],"backward"):this.setRanges(_e)},xt.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},xt.restoreRanges=function(X){this.removeAllRanges();for(var _e=0,$e;$e=X.ranges[_e];++_e)this.addRange($e,X.backward&&_e==0)},xt.toHtml=function(){var X=[];return this.eachRange(function(_e){X.push(st.toHtml(_e))}),X.join("")},z.implementsTextRange&&(xt.getNativeTextRange=function(){var X;if(X=this.docSelection){var _e=X.createRange();if(fr(_e))return _e;throw he.createError("getNativeTextRange: selection is a control selection")}else{if(this.rangeCount>0)return $.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw he.createError("getNativeTextRange: selection contains no range")}});function ii(X){var _e=[],$e=new Mt(X.anchorNode,X.anchorOffset),Ke=new Mt(X.focusNode,X.focusOffset),We=typeof X.getName=="function"?X.getName():"Selection";if(typeof X.rangeCount<"u")for(var Ft=0,Mn=X.rangeCount;Ft<Mn;++Ft)_e[Ft]=st.inspect(X.getRangeAt(Ft));return"["+We+"(Ranges: "+_e.join(", ")+")(anchor: "+$e.inspect()+", focus: "+Ke.inspect()+"]"}xt.getName=function(){return"WrappedSelection"},xt.inspect=function(){return ii(this)},xt.detach=function(){Gr(this.win,"delete"),Ur(this)},Jt.detachAll=function(){Gr(null,"deleteAll")},Jt.inspect=ii,Jt.isDirectionBackward=ne,$.Selection=Jt,$.selectionPrototype=xt,$.addShimListener(function(X){typeof X.getSelection>"u"&&(X.getSelection=function(){return Ni(X)}),X=null})});var Ie=!1,Oe=function($){Ie||(Ie=!0,!U.initialized&&U.config.autoInitialize&&A())};return D&&(document.readyState=="complete"?Oe():(c(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",Oe,!1),ue(window,"load",Oe))),U})}(Of)),Of.exports}var nV=F_();const d5=fl(nV);var Af={exports:{}},c5;function rV(){return c5||(c5=1,function(n,e){(function(t,r){n.exports=t(F_())})(function(t){return t.createModule("ClassApplier",["WrappedSelection"],function(r,i){var o=r.dom,a=o.DomPosition,l=o.arrayContains,u=r.util,c=u.forEach,f="span",v=u.isHostMethod(document,"createElementNS");function m(z,E){for(var H in z)if(z.hasOwnProperty(H)&&E(H,z[H])===!1)return!1;return!0}function y(z){return z.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function _(z,E){return!!z&&new RegExp("(?:^|\\s)"+E+"(?:\\s|$)").test(z)}function b(z,E){if(typeof z.classList=="object")return z.classList.contains(E);var H=typeof z.className=="string",K=H?z.className:z.getAttribute("class");return _(K,E)}function w(z,E){if(typeof z.classList=="object")z.classList.add(E);else{var H=typeof z.className=="string",K=H?z.className:z.getAttribute("class");K?_(K,E)||(K+=" "+E):K=E,H?z.className=K:z.setAttribute("class",K)}}var x=function(){function z(E,H,K){return H&&K?" ":""}return function(E,H){if(typeof E.classList=="object")E.classList.remove(H);else{var K=typeof E.className=="string",W=K?E.className:E.getAttribute("class");W=W.replace(new RegExp("(^|\\s)"+H+"(\\s|$)"),z),K?E.className=W:E.setAttribute("class",W)}}}();function k(z){var E=typeof z.className=="string";return E?z.className:z.getAttribute("class")}function N(z){return z&&z.split(/\s+/).sort().join(" ")}function D(z){return N(k(z))}function V(z,E){return D(z)==D(E)}function U(z,E){for(var H=E.split(/\s+/),K=0,W=H.length;K<W;++K)if(!b(z,y(H[K])))return!1;return!0}function B(z){var E=z.parentNode;return E&&E.nodeType==1&&!/^(textarea|style|script|select|iframe)$/i.test(E.nodeName)}function G(z,E,H,K,W){var ne=z.node,te=z.offset,ce=ne,Se=te;ne==K&&te>W&&++Se,ne==E&&(te==H||te==H+1)&&(ce=K,Se+=W-H),ne==E&&te>H+1&&--Se,z.node=ce,z.offset=Se}function Q(z,E,H){z.node==E&&z.offset>H&&--z.offset}function ae(z,E,H,K){H==-1&&(H=E.childNodes.length);var W=z.parentNode,ne=o.getNodeIndex(z);c(K,function(te){G(te,W,ne,E,H)}),E.childNodes.length==H?E.appendChild(z):E.insertBefore(z,E.childNodes[H])}function q(z,E){var H=z.parentNode,K=o.getNodeIndex(z);c(E,function(W){Q(W,H,K)}),o.removeNode(z)}function ue(z,E,H,K,W){for(var ne,te=[];ne=z.firstChild;)ae(ne,E,H++,W),te.push(ne);return q(z,W),te}function T(z,E){return ue(z,z.parentNode,o.getNodeIndex(z),!0,E)}function R(z,E){var H=z.cloneRange();H.selectNodeContents(E);var K=H.intersection(z),W=K?K.toString():"";return W!=""}function A(z){for(var E=z.getNodes([3]),H=0,K;(K=E[H])&&!R(z,K);)++H;for(var W=E.length-1;(K=E[W])&&!R(z,K);)--W;return E.slice(H,W+1)}function se(z,E){if(z.attributes.length!=E.attributes.length)return!1;for(var H=0,K=z.attributes.length,W,ne,te;H<K;++H)if(W=z.attributes[H],te=W.name,te!="class"&&(ne=E.attributes.getNamedItem(te),W===null!=(ne===null)||W.specified!=ne.specified||W.specified&&W.nodeValue!==ne.nodeValue))return!1;return!0}function re(z,E){for(var H=0,K=z.attributes.length,W;H<K;++H)if(W=z.attributes[H].name,!(E&&l(E,W))&&z.attributes[H].specified&&W!="class")return!0;return!1}var de=o.getComputedStyleProperty,le=function(){var z=document.createElement("div");return typeof z.isContentEditable=="boolean"?function(E){return E&&E.nodeType==1&&E.isContentEditable}:function(E){return!E||E.nodeType!=1||E.contentEditable=="false"?!1:E.contentEditable=="true"||le(E.parentNode)}}();function Ae(z){var E;return z&&z.nodeType==1&&((E=z.parentNode)&&E.nodeType==9&&E.designMode=="on"||le(z)&&!le(z.parentNode))}function pe(z){return(le(z)||z.nodeType!=1&&le(z.parentNode))&&!Ae(z)}var Ne=/^inline(-block|-table)?$/i;function Ve(z){return z&&z.nodeType==1&&!Ne.test(de(z,"display"))}var Ie=/[^\r\n\t\f \u200B]/;function Oe(z){if(z.data.length==0)return!0;if(Ie.test(z.data))return!1;var E=de(z.parentNode,"whiteSpace");switch(E){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(z.data))return!1}return Ve(z.previousSibling)||Ve(z.nextSibling)}function $(z){var E=[],H,K;for(H=0;K=z[H++];)E.push(new a(K.startContainer,K.startOffset),new a(K.endContainer,K.endOffset));return E}function he(z,E){for(var H=0,K,W,ne,te=z.length;H<te;++H)K=z[H],W=E[H*2],ne=E[H*2+1],K.setStartAndEnd(W.node,W.offset,ne.node,ne.offset)}function ge(z,E){return o.isCharacterDataNode(z)?E==0?!!z.previousSibling:E==z.length?!!z.nextSibling:!0:E>0&&E<z.childNodes.length}function be(z,E,H,K){var W,ne,te=H==0;if(o.isAncestorOf(E,z))return z;if(o.isCharacterDataNode(E)){var ce=o.getNodeIndex(E);if(H==0)H=ce;else if(H==E.length)H=ce+1;else throw i.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+H+" in "+E.data);E=E.parentNode}if(ge(E,H)){W=E.cloneNode(!1),ne=E.parentNode,W.id&&W.removeAttribute("id");for(var Se,Ee=0;Se=E.childNodes[H];)ae(Se,W,Ee++,K);return ae(W,ne,o.getNodeIndex(E)+1,K),E==z?W:be(z,ne,o.getNodeIndex(W),K)}else if(z!=E){W=E.parentNode;var He=o.getNodeIndex(E);return te||He++,be(z,W,He,K)}return z}function Be(z,E){return z.namespaceURI==E.namespaceURI&&z.tagName.toLowerCase()==E.tagName.toLowerCase()&&V(z,E)&&se(z,E)&&de(z,"display")=="inline"&&de(E,"display")=="inline"}function xe(z){var E=z?"nextSibling":"previousSibling";return function(H,K){var W=H.parentNode,ne=H[E];if(ne){if(ne&&ne.nodeType==3)return ne}else if(K&&(ne=W[E],ne&&ne.nodeType==1&&Be(W,ne))){var te=ne[z?"firstChild":"lastChild"];if(te&&te.nodeType==3)return te}return null}}var Re=xe(!1),st=xe(!0);function Lt(z){this.isElementMerge=z.nodeType==1,this.textNodes=[];var E=this.isElementMerge?z.lastChild:z;E&&(this.textNodes[0]=E)}Lt.prototype={doMerge:function(z){var E=this.textNodes,H=E[0];if(E.length>1){var K=o.getNodeIndex(H),W=[],ne=0,te;c(E,function(ce,Se){te=ce.parentNode,Se>0&&(te.removeChild(ce),te.hasChildNodes()||o.removeNode(te),z&&c(z,function(Ee){Ee.node==ce&&(Ee.node=H,Ee.offset+=ne),Ee.node==te&&Ee.offset>K&&(--Ee.offset,Ee.offset==K+1&&Se<E.length-1&&(Ee.node=H,Ee.offset=ne))})),W[Se]=ce.data,ne+=ce.data.length}),H.data=W.join("")}return H.data},getLength:function(){for(var z=this.textNodes.length,E=0;z--;)E+=this.textNodes[z].length;return E},toString:function(){var z=[];return c(this.textNodes,function(E,H){z[H]="'"+E.data+"'"}),"[Merge("+z.join(",")+")]"}};var wt=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],Mt={};function on(z,E,H){var K,W,ne,te,ce=this;ce.cssClass=ce.className=z;var Se=null,Ee={};if(typeof E=="object"&&E!==null){for(typeof E.elementTagName<"u"&&(E.elementTagName=E.elementTagName.toLowerCase()),H=E.tagNames,Se=E.elementProperties,Ee=E.elementAttributes,W=0;te=wt[W++];)E.hasOwnProperty(te)&&(ce[te]=E[te]);K=E.normalize}else K=E;ce.normalize=typeof K>"u"?!0:K,ce.attrExceptions=[];var He=document.createElement(ce.elementTagName);ce.elementProperties=ce.copyPropertiesToElement(Se,He,!0),m(Ee,function(it,lt){ce.attrExceptions.push(it),Ee[it]=""+lt}),ce.elementAttributes=Ee,ce.elementSortedClassName=ce.elementProperties.hasOwnProperty("className")?N(ce.elementProperties.className+" "+z):z,ce.applyToAnyTagName=!1;var Xe=typeof H;if(Xe=="string")H=="*"?ce.applyToAnyTagName=!0:ce.tagNames=y(H.toLowerCase()).split(/\s*,\s*/);else if(Xe=="object"&&typeof H.length=="number")for(ce.tagNames=[],W=0,ne=H.length;W<ne;++W)H[W]=="*"?ce.applyToAnyTagName=!0:ce.tagNames.push(H[W].toLowerCase());else ce.tagNames=[ce.elementTagName]}on.prototype={elementTagName:f,elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(z,E,H){var K,W,ne={},te,ce,Se,Ee;for(var He in z)if(z.hasOwnProperty(He))if(ce=z[He],Se=E[He],He=="className")w(E,ce),w(E,this.className),E[He]=N(E[He]),H&&(ne[He]=ce);else if(He=="style"){W=Se,H&&(ne[He]=te={});for(K in z[He])z[He].hasOwnProperty(K)&&(W[K]=ce[K],H&&(te[K]=W[K]));this.attrExceptions.push(He)}else E[He]=ce,H&&(ne[He]=E[He],Ee=Mt.hasOwnProperty(He)?Mt[He]:He,this.attrExceptions.push(Ee));return H?ne:""},copyAttributesToElement:function(z,E){for(var H in z)z.hasOwnProperty(H)&&!/^class(?:Name)?$/i.test(H)&&E.setAttribute(H,z[H])},appliesToElement:function(z){return l(this.tagNames,z.tagName.toLowerCase())},getEmptyElements:function(z){var E=this;return z.getNodes([1],function(H){return E.appliesToElement(H)&&!H.hasChildNodes()})},hasClass:function(z){return z.nodeType==1&&(this.applyToAnyTagName||this.appliesToElement(z))&&b(z,this.className)},getSelfOrAncestorWithClass:function(z){for(;z;){if(this.hasClass(z))return z;z=z.parentNode}return null},isModifiable:function(z){return!this.applyToEditableOnly||pe(z)},isIgnorableWhiteSpaceNode:function(z){return this.ignoreWhiteSpace&&z&&z.nodeType==3&&Oe(z)},postApply:function(z,E,H,K){var W=z[0],ne=z[z.length-1],te=[],ce,Se=W,Ee=ne,He=0,Xe=ne.length,it;c(z,function(nt){it=Re(nt,!K),it?(ce||(ce=new Lt(it),te.push(ce)),ce.textNodes.push(nt),nt===W&&(Se=ce.textNodes[0],He=Se.length),nt===ne&&(Ee=ce.textNodes[0],Xe=ce.getLength())):ce=null});var lt=st(ne,!K);if(lt&&(ce||(ce=new Lt(ne),te.push(ce)),ce.textNodes.push(lt)),te.length){for(var At=0,Ge=te.length;At<Ge;++At)te[At].doMerge(H);E.setStartAndEnd(Se,He,Ee,Xe)}},createContainer:function(z){var E=o.getDocument(z),H=v&&!o.isHtmlNamespace(z)&&z.namespaceURI?E.createElementNS(z.namespaceURI,this.elementTagName):E.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,H,!1),this.copyAttributesToElement(this.elementAttributes,H),w(H,this.className),this.onElementCreate&&this.onElementCreate(H,this),H},elementHasProperties:function(z,E){var H=this;return m(E,function(K,W){if(K=="className")return U(z,W);if(typeof W=="object"){if(!H.elementHasProperties(z[K],W))return!1}else if(z[K]!==W)return!1})},elementHasAttributes:function(z,E){return m(E,function(H,K){if(z.getAttribute(H)!==K)return!1})},applyToTextNode:function(z,E){if(B(z)){var H=z.parentNode;if(H.childNodes.length==1&&this.useExistingElements&&this.appliesToElement(H)&&this.elementHasProperties(H,this.elementProperties)&&this.elementHasAttributes(H,this.elementAttributes))w(H,this.className);else{var K=z.parentNode,W=this.createContainer(K);K.insertBefore(W,z),W.appendChild(z)}}},isRemovable:function(z){return z.tagName.toLowerCase()==this.elementTagName&&D(z)==this.elementSortedClassName&&this.elementHasProperties(z,this.elementProperties)&&!re(z,this.attrExceptions)&&this.elementHasAttributes(z,this.elementAttributes)&&this.isModifiable(z)},isEmptyContainer:function(z){var E=z.childNodes.length;return z.nodeType==1&&this.isRemovable(z)&&(E==0||E==1&&this.isEmptyContainer(z.firstChild))},removeEmptyContainers:function(z){var E=this,H=z.getNodes([1],function(ne){return E.isEmptyContainer(ne)}),K=[z],W=$(K);c(H,function(ne){q(ne,W)}),he(K,W)},undoToTextNode:function(z,E,H,K){if(!E.containsNode(H)){var W=E.cloneRange();W.selectNode(H),W.isPointInRange(E.endContainer,E.endOffset)&&(be(H,E.endContainer,E.endOffset,K),E.setEndAfter(H)),W.isPointInRange(E.startContainer,E.startOffset)&&(H=be(H,E.startContainer,E.startOffset,K))}this.isRemovable(H)?T(H,K):x(H,this.className)},splitAncestorWithClass:function(z,E,H){var K=this.getSelfOrAncestorWithClass(z);K&&be(K,z,E,H)},undoToAncestor:function(z,E){this.isRemovable(z)?T(z,E):x(z,this.className)},applyToRange:function(z,E){var H=this;E=E||[];var K=$(E||[]);z.splitBoundariesPreservingPositions(K),H.removeEmptyElements&&H.removeEmptyContainers(z);var W=A(z);if(W.length){c(W,function(ce){!H.isIgnorableWhiteSpaceNode(ce)&&!H.getSelfOrAncestorWithClass(ce)&&H.isModifiable(ce)&&H.applyToTextNode(ce,K)});var ne=W[W.length-1];z.setStartAndEnd(W[0],0,ne,ne.length),H.normalize&&H.postApply(W,z,K,!1),he(E,K)}var te=H.getEmptyElements(z);c(te,function(ce){w(ce,H.className)})},applyToRanges:function(z){for(var E=z.length;E--;)this.applyToRange(z[E],z);return z},applyToSelection:function(z){var E=r.getSelection(z);E.setRanges(this.applyToRanges(E.getAllRanges()))},undoToRange:function(z,E){var H=this;E=E||[];var K=$(E);z.splitBoundariesPreservingPositions(K),H.removeEmptyElements&&H.removeEmptyContainers(z,K);var W=A(z),ne,te,ce=W[W.length-1];if(W.length){H.splitAncestorWithClass(z.endContainer,z.endOffset,K),H.splitAncestorWithClass(z.startContainer,z.startOffset,K);for(var Se=0,Ee=W.length;Se<Ee;++Se)ne=W[Se],te=H.getSelfOrAncestorWithClass(ne),te&&H.isModifiable(ne)&&H.undoToAncestor(te,K);z.setStartAndEnd(W[0],0,ce,ce.length),H.normalize&&H.postApply(W,z,K,!0),he(E,K)}var He=H.getEmptyElements(z);c(He,function(Xe){x(Xe,H.className)})},undoToRanges:function(z){for(var E=z.length;E--;)this.undoToRange(z[E],z);return z},undoToSelection:function(z){var E=r.getSelection(z),H=r.getSelection(z).getAllRanges();this.undoToRanges(H),E.setRanges(H)},isAppliedToRange:function(z){if(z.collapsed||z.toString()=="")return!!this.getSelfOrAncestorWithClass(z.commonAncestorContainer);var E=z.getNodes([3]);if(E.length){for(var H=0,K;K=E[H++];)if(!this.isIgnorableWhiteSpaceNode(K)&&R(z,K)&&this.isModifiable(K)&&!this.getSelfOrAncestorWithClass(K))return!1}return!0},isAppliedToRanges:function(z){var E=z.length;if(E==0)return!1;for(;E--;)if(!this.isAppliedToRange(z[E]))return!1;return!0},isAppliedToSelection:function(z){var E=r.getSelection(z);return this.isAppliedToRanges(E.getAllRanges())},toggleRange:function(z){this.isAppliedToRange(z)?this.undoToRange(z):this.applyToRange(z)},toggleSelection:function(z){this.isAppliedToSelection(z)?this.undoToSelection(z):this.applyToSelection(z)},getElementsWithClassIntersectingRange:function(z){var E=[],H=this;return z.getNodes([3],function(K){var W=H.getSelfOrAncestorWithClass(K);W&&!l(E,W)&&E.push(W)}),E},detach:function(){}};function pn(z,E,H){return new on(z,E,H)}on.util={hasClass:b,addClass:w,removeClass:x,getClass:k,hasSameClasses:V,hasAllClasses:U,replaceWithOwnChildren:T,elementsHaveSameNonClassAttributes:se,elementHasNonClassAttributes:re,splitNodeAt:be,isEditableElement:le,isEditingHost:Ae,isEditable:pe},r.CssClassApplier=r.ClassApplier=on,r.createClassApplier=pn,u.createAliasForDeprecatedMethod(r,"createCssClassApplier","createClassApplier",i)}),t})}(Af)),Af.exports}rV();var f5={toolbar:{allowMultiParagraphSelection:!0,buttons:["bold","colorpicker","italic","underline","strikethrough","quote","justifyLeft","justifyCenter","justifyRight","justifyFull","superscript","subscript","orderedlist","unorderedlist","pre","removeFormat","outdent","indent","h2","h3"],standardizeSelectionStart:!1,updateOnEmptySelection:!1},placeholder:{text:"请输入内容",hideOnClick:!0},disableEditing:!0},h5=gd.extensions.button.extend({name:"colorpicker",tagNames:["mark"],contentDefault:"<b>Color</b>",aria:"Color Picker",action:"colorPicker",init:function(){var n=this;d5.init(),gd.extensions.button.prototype.init.call(this),this.colorPicker=new j_({parent:this.button,color:"#000",onDone:function(e){n.coloredText&&n.coloredText.isAppliedToSelection()&&n.coloredText.undoToSelection(),n.coloredText=d5.createClassApplier("colored",{elementTagName:"span",elementProperties:{style:{color:e.hex}},normalize:!0}),n.coloredText.toggleSelection(),n.base.checkContentChanged(),n.setInactive()}})},getButton:function(){return this.button},handleClick:function(){this.setActive(),this.colorPicker.show()},isAlreadyApplied:function(n){return n.nodeName.toLowerCase()==="mark"},isActive:function(){return this.button.classList.contains("medium-editor-button-active")},setInactive:function(){this.button.classList.remove("medium-editor-button-active")},setActive:function(){this.button.classList.add("medium-editor-button-active")}}),iV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),oV=function(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var l=n.length-1;l>=0;l--)(a=n[l])&&(o=(i<3?a(o):i>3?a(e,t,o):a(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},p5=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},v5=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))};(function(n){iV(e,n);function e(t){var r=n.call(this,t)||this;r.labelMap=new Map;var i=t.lf,o=t.graphModel;return r.lf=i,r.graphModel=o,r.state={tick:0},r}return e.prototype.componentDidMount=function(){var t=this,r=this.props.graphModel;this.editor=new gd(".lf-label-editor",Ys(f5,{autoLink:!0,extensions:{colorPicker:new h5}})),r.eventCenter.on("text:update,node:mousemove,node:resize,node:rotate,node:drag,label:drop,node:drop",function(){}),r.eventCenter.on("node:properties-change,node:properties-delete",function(){t.setState({tick:t.state.tick+1})})},e.prototype.componentDidUpdate=function(){var t;this.editor&&this.editor.elements.length>0?this.editor.addElements(".lf-label-editor"):((t=this.editor)===null||t===void 0||t.destroy(),this.editor=new gd(".lf-label-editor",Ys(f5,{autoLink:!0,extensions:{colorPicker:new h5}})))},e.prototype.componentWillUnmount=function(){var t;(t=this.editor)===null||t===void 0||t.destroy()},e.prototype.getLabels=function(){var t=this,r=this.props,i=r.lf.extension,o=r.graphModel,a=v5(v5([],p5(o.nodes),!1),p5(o.edges),!1),l=i.label;if(l){var u=[];return cn(a,function(c){var f,v,m=c.getData(),y=(v=(f=m.properties)===null||f===void 0?void 0:f._label)!==null&&v!==void 0?v:[];cn(y,function(_){var b=t.labelMap,w=new GF(_,c,o);b.set(w.id,w),u.push(Te(zF,{label:w,element:c,graphModel:o},w.id))})}),u}return null},e.prototype.render=function(){return Te("foreignObject",{id:"lf-label-overlay",class:"lf-label-overlay",children:this.getLabels()})},e.toolName="label-edit-tool",e=oV([Br],e),e})(Zt);var sV=function(){function n(e){var t=e.lf,r=this;this.lf=t,this.lf.setPatternItems=function(i){r.setPatternItems(i)}}return n.prototype.render=function(e,t){var r=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=t;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){var o;(o=r.panelEl)===null||o===void 0||o.appendChild(r.createDndItem(i))}),t.appendChild(this.panelEl),this.domContainer=t},n.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},n.prototype.setPatternItems=function(e){this.shapeList=e,this.domContainer&&this.render(this.lf,this.domContainer)},n.prototype.createDndItem=function(e){var t=this,r=document.createElement("div");r.className=e.className?"lf-dnd-item ".concat(e.className):"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",e.icon&&(i.style.backgroundImage="url(".concat(e.icon,")")),r.appendChild(i),e.label){var o=document.createElement("div");o.innerText=e.label,o.className="lf-dnd-text",r.appendChild(o)}return e.disabled?(r.classList.add("disabled"),r.onmousedown=function(){e.callback&&e.callback(t.lf,t.domContainer)},r):(r.onmousedown=function(){e.type&&t.lf.dnd.startDrag({type:e.type,properties:e.properties,text:e.text}),e.callback&&e.callback(t.lf,t.domContainer)},r.ondblclick=function(a){t.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:a,data:e})},r.onclick=function(a){t.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:a,data:e})},r.oncontextmenu=function(a){t.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:a,data:e})},r)},n.pluginName="dndPanel",n}(),aV=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},lV=function(){function n(e){var t=e.lf,r=e.LogicFlow,i=e.options,o=this;this.width=200,this.height=150,this.scale=1,this.translateX=0,this.translateY=0,this.showEdge=!1,this.viewPortTop=0,this.viewPortLeft=0,this.viewPortWidth=150,this.viewPortHeight=75,this.isShow=!1,this.isShowHeader=!1,this.isShowCloseIcon=!1,this.headerTitle="导航",this.disabledPlugins=["miniMap","control","selectionSelect"],this.onGraphResize=function(){o.updateViewPortBounds(),o.isShow&&o.updateViewPort()},this.render=function(l,u){o.container=u,o.lf.on("history:change",function(){o.isShow&&o.setView()}),o.lf.on("graph:transform",function(){o.isShow&&o.setView(!1)})},this.show=function(l,u){o.isShow||(o.createMiniMap(l,u),o.setView()),o.isShow=!0},this.hide=function(){o.isShow&&(o.removeMiniMap(),o.lf.emit("miniMap:close",{})),o.isShow=!1},this.updatePosition=function(l){if(typeof l=="object")(l.left!==void 0||l.right!==void 0)&&(o.leftPosition=l.left,o.rightPosition=l.right),(l.top!==void 0||l.bottom!==void 0)&&(o.topPosition=l.top,o.bottomPosition=l.bottom);else switch(l){case"left-top":o.leftPosition=0,o.rightPosition=void 0,o.topPosition=0,o.bottomPosition=void 0;break;case"right-top":o.leftPosition=void 0,o.rightPosition=0,o.topPosition=0,o.bottomPosition=void 0;break;case"left-bottom":o.leftPosition=0,o.rightPosition=void 0,o.topPosition=void 0,o.bottomPosition=0;break;case"right-bottom":o.leftPosition=void 0,o.rightPosition=0,o.topPosition=void 0,o.bottomPosition=0;break}o.updateMiniMapPosition()},this.reset=function(){o.lf.resetTranslate(),o.lf.resetZoom()},this.setShowEdge=function(l){o.showEdge!==l&&(o.showEdge=l,o.setView())},this.startDrag=function(l){document.addEventListener("mousemove",o.drag),document.addEventListener("mouseup",o.drop);var u=l.x,c=l.y;o.startPosition={x:u,y:c}},this.drag=function(l){var u=l.x,c=l.y,f=(u-o.startPosition.x)/o.scale,v=(c-o.startPosition.y)/o.scale,m=o.viewPortLeft+f+o.viewPortWidth/o.scale/2,y=o.viewPortTop+v+o.viewPortHeight/o.scale/2;o.startPosition={x:u,y:c},o.lf.focusOn({coordinate:{x:m,y}})},this.drop=function(){document.removeEventListener("mousemove",o.drag),document.removeEventListener("mouseup",o.drop)},this.mapClick=function(l){var u=l.offsetX,c=l.offsetY,f=o.translateX+u/o.scale,v=o.translateY+c/o.scale;o.lf.focusOn({coordinate:{x:f,y:v}})},this.lf=t,this.LFCtor=r,i&&this.setOption(i),this.viewPortWidth=t.graphModel.width,this.viewPortHeight=t.graphModel.height;var a={left:0,right:this.viewPortWidth,top:0,bottom:this.viewPortHeight};this.bounds=a,this.elementAreaBounds=a,this.viewPortBounds=a,this.initMiniMap(),t.on("graph:resize",this.onGraphResize)}return n.prototype.setOption=function(e){var t=e.width,r=t===void 0?150:t,i=e.height,o=i===void 0?220:i,a=e.showEdge,l=a===void 0?!1:a,u=e.isShowHeader,c=u===void 0?!1:u,f=e.isShowCloseIcon,v=f===void 0?!1:f,m=e.leftPosition,y=e.topPosition,_=e.rightPosition,b=_===void 0?0:_,w=e.bottomPosition,x=w===void 0?0:w,k=e.headerTitle,N=k===void 0?"导航":k;this.width=r,this.height=o,this.showEdge=l,this.isShowHeader=c,this.isShowCloseIcon=v,this.leftPosition=m,this.rightPosition=m!==void 0?void 0:b,this.topPosition=y,this.bottomPosition=y!==void 0?void 0:x,this.headerTitle=N},n.prototype.initMiniMap=function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width="".concat(this.width,"px"),e.style.height="".concat(this.height,"px"),this.lfMap=new this.LFCtor({container:e,grid:!1,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!1,history:!1,snapline:!1,disabledPlugins:this.disabledPlugins}),this.miniMapWrap=e,this.createViewPort(),e.addEventListener("click",this.mapClick)},n.prototype.createMiniMap=function(e,t){var r,i=document.createElement("div");this.miniMapContainer=i,i.appendChild(this.miniMapWrap),i.style.position="absolute",(e!==void 0||t!==void 0)&&(this.leftPosition=e||0,this.topPosition=t||0,this.rightPosition=void 0,this.bottomPosition=void 0),this.updateMiniMapPosition(),i.className="lf-mini-map",this.isShowCloseIcon||i.classList.add("lf-mini-map-no-close-icon"),this.isShowHeader||i.classList.add("lf-mini-map-no-header"),(r=this.container)===null||r===void 0||r.appendChild(i),this.miniMapWrap.appendChild(this.viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText=this.headerTitle,i.appendChild(o);var a=document.createElement("span");a.className="lf-mini-map-close",a.addEventListener("click",this.hide),i.appendChild(a)},n.prototype.updateMiniMapPosition=function(){if(this.miniMapContainer){var e=this.miniMapContainer.style;this.rightPosition!==void 0?(e.right="".concat(this.rightPosition,"px"),e.left=""):(e.left="".concat(this.leftPosition,"px"),e.right=""),this.bottomPosition!==void 0?(e.bottom="".concat(this.bottomPosition,"px"),e.top=""):(e.top="".concat(this.topPosition,"px"),e.bottom="")}},n.prototype.removeMiniMap=function(){var e;this.miniMapContainer&&((e=this.container)===null||e===void 0||e.removeChild(this.miniMapContainer))},n.prototype.updateBounds=function(e){e&&this.updateElementAreaBounds(e),this.updateViewPortBounds(),this.bounds={left:Math.min(this.elementAreaBounds.left,this.viewPortBounds.left),right:Math.max(this.elementAreaBounds.right,this.viewPortBounds.right),top:Math.min(this.elementAreaBounds.top,this.viewPortBounds.top),bottom:Math.max(this.elementAreaBounds.bottom,this.viewPortBounds.bottom)}},n.prototype.updateElementAreaBounds=function(e){var t={left:0,right:0,top:0,bottom:0},r=e.nodes;r&&r.length>0&&r.forEach(function(i){var o,a,l=i.x,u=i.y,c=(o=i.width)!==null&&o!==void 0?o:200,f=(a=i.height)!==null&&a!==void 0?a:200,v=l-c/2,m=l+c/2,y=u-f/2,_=u+f/2;t.left=Math.min(v,t.left),t.right=Math.max(m,t.right),t.top=Math.min(y,t.top),t.bottom=Math.max(_,t.bottom)}),this.elementAreaBounds=t},n.prototype.updateViewPortBounds=function(){var e=this.lf.getTransform(),t=e.TRANSLATE_X,r=e.TRANSLATE_Y,i=e.SCALE_X,o=e.SCALE_Y,a=this.lf.graphModel,l=a.width,u=a.height;this.viewPortBounds={left:-t/i,right:(-t+l)/i,top:-r/o,bottom:(-r+u)/o}},n.prototype.resetData=function(e){var t=e.nodes,r=e.edges;return t.forEach(function(i){i.text=void 0}),this.showEdge&&r.forEach(function(i){i.text=void 0}),{nodes:t,edges:this.showEdge?r:[]}},n.prototype.setView=function(e){var t,r;if(e===void 0&&(e=!0),e){var i=this.lf.getGraphRawData(),o=this.resetData(i),a=this.lf.viewMap,l=this.lf.graphModel.modelMap,u=this.lfMap.viewMap;try{for(var c=aV(a.keys()),f=c.next();!f.done;f=c.next()){var v=f.value;u.has(v)||this.lfMap.register({type:v,view:a.get(v),model:l.get(v)})}}catch(Q){t={error:Q}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}this.lfMap.render(o),this.updateBounds(o)}else this.updateBounds();var m=this.bounds,y=m.left,_=m.top,b=m.right,w=m.bottom,x=b-y,k=w-_,N=this.width/x,D=this.height/k,V=Math.min(N,D);this.scale=V;var U=y-(this.width/V-x)/2,B=_-(this.height/V-k)/2;if(this.lfMap.graphModel.transformModel.translate(-U+this.translateX,-B+this.translateY),this.translateX=U,this.translateY=B,this.miniMapWrap.firstChild){var G=this.miniMapWrap.firstChild.style;G.pointerEvents="none",G.transform="matrix(".concat(V,", 0, 0, ").concat(V,", 0, 0)"),G.transformOrigin="left top",G.height="".concat(this.height/V,"px"),G.width="".concat(this.width/V,"px"),this.updateViewPort()}},n.prototype.updateViewPort=function(){var e=this.viewport.style,t=this.lf.getTransform(),r=t.TRANSLATE_X,i=t.TRANSLATE_Y,o=t.SCALE_X,a=t.SCALE_Y,l=this.lf.graphModel,u=l.width,c=l.height;this.viewPortLeft=-r/o,this.viewPortTop=-i/a,this.viewPortWidth=u/o*this.scale,this.viewPortHeight=c/a*this.scale,e.width="".concat(this.viewPortWidth,"px"),e.height="".concat(this.viewPortHeight,"px"),e.left="".concat((this.viewPortLeft-this.translateX)*this.scale,"px"),e.top="".concat((this.viewPortTop-this.translateY)*this.scale,"px")},n.prototype.createViewPort=function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",this.startDrag),e.addEventListener("click",function(t){t.stopPropagation()}),this.viewport=e},n.prototype.destroy=function(){this.lf.off("graph:resize",this.onGraphResize)},n.pluginName="miniMap",n}();var V_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Ua=function(){return Ua=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ua.apply(this,arguments)},M0=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},uV={tr:"tl",lb:"tl",tl:"tr",rb:"tr",br:"bl",lt:"bl",bl:"br",rt:"br"};function dV(n){for(var e=n,t=1;t<e.length-1;){var r=M0(e[t-1],2),i=r[0],o=r[1],a=M0(e[t],2),l=a[0],u=a[1],c=M0(e[t+1],2),f=c[0],v=c[1];i===l&&l===f||o===u&&u===v?e.splice(t,1):t++}return e}function cV(n,e,t,r){var i=[n[0],n[1]],o=[n[0],n[1]];switch(t){case"tl":return e==="tr"?(i[1]+=r,o[0]+=r):e==="lb"&&(i[0]+=r,o[1]+=r),[i,o];case"tr":return e==="tl"?(i[1]+=r,o[0]-=r):e==="rb"&&(i[0]-=r,o[1]+=r),[i,o];case"bl":return e==="br"?(i[1]-=r,o[0]+=r):e==="lt"&&(i[0]+=r,o[1]-=r),[i,o];case"br":return e==="bl"?(i[1]-=r,o[0]-=r):e==="rt"&&(i[0]-=r,o[1]-=r),[i,o];default:return[]}}function fV(n,e,t,r){var i,o="",a="";n[0]===e[0]?o=n[1]>e[1]?"t":"b":n[1]===e[1]&&(o=n[0]>e[0]?"l":"r"),e[0]===t[0]?a=e[1]>t[1]?"t":"b":e[1]===t[1]&&(a=e[0]>t[0]?"l":"r");var l=Math.min(Math.hypot(e[0]-n[0],e[1]-n[1])/2,Math.hypot(t[0]-e[0],t[1]-e[1])/2,r)||1/5*r,u="".concat(o).concat(a),c=uV[u]||"-",f="L ".concat(n[0]," ").concat(n[1]);if(c==="-")f+="L ".concat(e[0]," ").concat(e[1]," L ").concat(t[0]," ").concat(t[1]);else{var v=M0(cV(e,u,c,l),2),m=v[0],y=v[1];m&&y&&(f+="L ".concat(m[0]," ").concat(m[1]," Q ").concat(e[0]," ").concat(e[1]," ").concat(y[0]," ").concat(y[1]),i=M0(y,2),e[0]=i[0],e[1]=i[1])}return f}function hV(n,e){var t=0,r="";if(n.length===2)r+="M".concat(n[t][0]," ").concat(n[t++][1]," L ").concat(n[t][0]," ").concat(n[t][1]);else{for(r+="M".concat(n[t][0]," ").concat(n[t++][1]);t+1<n.length;){var i=n[t-1],o=n[t],a=n[t+++1];r+=fV(i,o,a,e)}r+="L ".concat(n[t][0]," ").concat(n[t][1])}return r}(function(n){V_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getEdge=function(){var t=this.props.model,r=t.points,i=t.isAnimation,o=t.arrowConfig,a=t.radius,l=a===void 0?5:a,u=t.getEdgeStyle(),c=t.getEdgeAnimationStyle(),f=dV(r.split(" ").map(function(y){return y.split(",").map(function(_){return+_})})),v=hV(f,l),m=Ua(Ua(Ua({style:i?c:{}},u),o),{fill:"none"});return ht("path",Ua({d:v},m))},e})(ul);(function(n){V_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(al);var $_=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),md=function(){return md=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},md.apply(this,arguments)},g5=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}return o},m5=function(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))},pV=function(n){$_(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var t=this.props.model,r=t.id,i=t.x,o=t.y,a=t.width,l=t.height,u=t.properties,c=this.props.model.getNodeStyle();return ht("svg",{x:i-a/2,y:o-l/2,width:50,height:24,style:"z-index: 0; background: none; overflow: auto;"},[u.labelText?ht("text",{x:0,y:-5,fontSize:"16px",fill:c.stroke},u.labelText):"",u.disabledDelete?"":ht("text",{x:u.labelText?50:0,y:-5,fontSize:"24px",cursor:"pointer",fill:c.stroke,onclick:this.handleCustomDeleteIconClick.bind(this,r)},"x")])},e.prototype.getShape=function(){var t=this.props.model,r=t.x,i=t.y,o=t.width,a=t.height,l=t.id,u=this.props.model.getNodeStyle();return ht("g",{},[ht("rect",md(md({},u),{x:r-o/2,y:i-a/2,width:o,height:a,id:l})),this.getLabelShape()])},e.prototype.toFront=function(){},e.prototype.handleCustomDeleteIconClick=function(t){var r=this.props.graphModel;r.deleteNode(t)},e}(ed),vV=function(n){$_(e,n);function e(){var t=n.apply(this,m5([],g5(arguments),!1))||this;return t.d=10,t.isResize=!1,t}return e.prototype.initNodeData=function(t){t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!1},n.prototype.initNodeData.call(this,t),this.zIndex=0,this.draggable=!0},e.prototype.setAttributes=function(){var t=this,r;this.points=[],((r=this.properties)===null||r===void 0?void 0:r.node_selection_ids).length>1&&setTimeout(function(){var i;t.updatePointsByNodes(((i=t.properties)===null||i===void 0?void 0:i.node_selection_ids)||[])})},e.prototype.getNodeStyle=function(){var t=n.prototype.getNodeStyle.call(this);return t.stroke=this.properties.strokeColor||"#008000",t.strokeDasharray="10 5",t},e.prototype.getDefaultAnchor=function(){return[]},e.prototype.updatePoints=function(t){this.points=t},e.prototype.updateCoordinate=function(t){var r=t.x,i=t.y;this.x=r,this.y=i},e.prototype.updatePointsByNodes=function(t){var r=this,i=[],o=1/0,a=1/0,l=-1/0,u=-1/0;t.forEach(function(c){var f=r.graphModel.getNodeModelById(c);if(f){var v=f.width,m=f.height,y=f.x,_=f.y;o=Math.min(o,y-v/2-r.d),a=Math.min(a,_-m/2-r.d),l=Math.max(l,y+v/2+r.d),u=Math.max(u,_+m/2+r.d)}}),i.push([o,a],[l,a],[l,u],[o,u]),![o,a,l,u].some(function(c){return Math.abs(c)===1/0})&&(this.updatePoints(i),this.updateCoordinate({x:(l+o)/2,y:(u+a)/2}))},e.prototype.resize=function(t){var r;this.isResize=!0;for(var i=t.width,o=t.height,a={x:i/this.width,y:o/this.height},l=(this.properties.node_selection_ids||[]).slice(),u=[],c=new Set;l.length;){var f=l.shift(),v=(r=this.graphModel.nodesMap[f])===null||r===void 0?void 0:r.model;if(v){if(!Cu(v)){u.push(v);continue}c.has(v.id)||(c.add(v.id),l.push.apply(l,m5([],g5(v.properties.node_selection_ids||[]),!1)))}}var m={x:this.x-this.width/2,y:this.y-this.height/2},y=n.prototype.resize.call(this,t),_={x:this.x-this.width/2,y:this.y-this.height/2};return u.forEach(function(b){b.width=b.width*a.x,b.height=b.height*a.y;var w=(b.x-m.x)*a.x+_.x-b.x,x=(b.y-m.y)*a.y+_.y-b.y;b.move(w,x,!0)}),this.isResize=!1,y},e}(qu),j1="node-selection";(function(){function n(e){var t=e.lf;this.selectNodes=[],this.d=10,this.lf=t,t.register({type:j1,view:pV,model:vV})}return Object.defineProperty(n.prototype,"selectNodesIds",{get:function(){return this.selectNodes.map(function(e){return e.id})},enumerable:!1,configurable:!0}),n.prototype.addNodeSelection=function(){var e=this.lf.addNode({type:"node-selection",text:"",properties:{node_selection_ids:this.selectNodesIds},x:0,y:0});e.updatePointsByNodes(this.selectNodesIds)},n.prototype.updateNodeSelection=function(){var e,t=this.getNodeSelection();t&&(this.lf.setProperties(t.id,{node_selection_ids:this.selectNodesIds}),(e=this.lf.getNodeModelById(t.id))===null||e===void 0||e.updatePointsByNodes(this.selectNodesIds))},n.prototype.getNodeSelection=function(){var e=this,t=this.selectNodesIds,r=this.lf.getGraphRawData(),i=t.filter(function(o){return o!==e.currentClickNode.id});return r.nodes.find(function(o){if(o.type==="node-selection"){var a=ia(o,"properties.node_selection_ids",[]);return i.every(function(l){return a.includes(l)})}return!1})},n.prototype.onNodeChange=function(e,t){var r=e.graphModel.nodes.filter(function(i){if(!Cu(i))return!1;var o=i.properties.node_selection_ids||[];return o.includes(t.id)});Promise.resolve().then(function(){r.forEach(function(i){i.updatePointsByNodes(i.properties.node_selection_ids||[])})})},n.prototype.render=function(e){var t=this;this.lf=e,e.on("node:click",function(r){var i;if(!(!r.e.shiftKey||r.data.type===j1)){t.currentClickNode=r.data;var o=!1;t.selectNodesIds.includes(r.data.id)&&((i=t.lf.getNodeModelById(r.data.id))===null||i===void 0||i.setSelected(!1),o=!0);var a=e.getSelectElements(!0).nodes;t.selectNodes=a,t.selectNodes.length===1?o?t.updateNodeSelection():t.addNodeSelection():t.selectNodes.length>1&&t.updateNodeSelection()}}),e.graphModel.addNodeMoveRules(function(r,i,o){if(t.onNodeChange(e,r),Cu(r)&&!r.isResize){var a=r.properties.node_selection_ids||[];return e.graphModel.moveNodes(a,i,o,!0),!0}return!0}),e.graphModel.addNodeResizeRules(function(r){return Cu(r)||t.onNodeChange(e,r),!0})},n.pluginName="node-selection",n})();var Cu=function(n){return!!(n&&n.type===j1)},gV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),yd=function(){return yd=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},yd.apply(this,arguments)};(function(n){gV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getLabelShape=function(){var t=this.props.model,r=t.x,i=t.y,o=t.width,a=t.height,l=t.properties;return ht("text",{x:r-o/2+5,y:i-a/2+16,fontSize:12,fill:"blue"},l.moreText)},e.prototype.getShape=function(){var t=this.props.model,r=t.x,i=t.y,o=t.width,a=t.height,l=this.props.model.getNodeStyle();return ht("g",{},[ht("rect",yd(yd({},l),{fill:"#FFFFFF",x:r-o/2,y:i-a/2})),this.getLabelShape()])},e})(Js);var mV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),$s=function(){return $s=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},$s.apply(this,arguments)},yV=function(n){mV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.setAttributes=function(){var t=this.properties,r=t.width,i=t.height,o=t.radius;Ar(r)||(this.width=r),Ar(i)||(this.height=i),Ar(o)||(this.radius=o)},e.prototype.getTextStyle=function(){var t=this.properties,r=t.refX,i=r===void 0?0:r,o=t.refY,a=o===void 0?0:o,l=t.textStyle,u=n.prototype.getTextStyle.call(this);return $s($s($s({},u),Ht(l)||{}),{transform:"matrix(1 0 0 1 ".concat(i," ").concat(a,")")})},e.prototype.getNodeStyle=function(){var t=n.prototype.getNodeStyle.call(this),r=this.properties.style;return $s($s({},t),Ht(r)||{})},e}(V0),W_={};function Un(n,e){var t=n.type,r=n.component,i=n.effect,o=n.view,a=n.model;if(!t)throw new Error("You should specify type in config");W_[t]={component:r,effect:i},e.register({type:t,view:o||xV,model:a||yV})}var ic=!1,_d=Pn({});function _V(n,e,t,r,i){ic&&(_d[n]=wd(Oi({render:function(){return Wn(q5,{to:t},[Wn(e,{node:r,graph:i})])},provide:function(){return{getNode:function(){return r},getGraph:function(){return i}}}})))}function bV(n){ic&&delete _d[n]}function y5(){return ic}function CV(){return ic=!0,Oi({props:{flowId:{type:String,required:!0}},setup:function(n){return function(){var e=[];return Object.keys(_d).forEach(function(t){t.startsWith(n.flowId)&&e.push(_d[t])}),Wn(Et,{},e.map(function(t){return Wn(t)}))}}})}var wV=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),xV=function(n){wV(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getComponentContainer=function(){return this.root},e.prototype.targetId=function(){return"".concat(this.props.graphModel.flowId,":").concat(this.props.model.id)},e.prototype.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this),this.unmount()},e.prototype.setHtml=function(t){var r=document.createElement("div");r.className="custom-vue-node-content",this.root=r,t.appendChild(r),this.renderVueComponent()},e.prototype.confirmUpdate=function(t){},e.prototype.renderVueComponent=function(){var t;this.unmountVueComponent();var r=this.getComponentContainer(),i=this.props,o=i.model,a=i.graphModel;if(r){var l=W_[o.type].component;l&&(y5()?_V(this.targetId(),l,r,o,a):(this.vm=xd({render:function(){return Wn(l,{node:o,graph:a})},provide:function(){return{getNode:function(){return o},getGraph:function(){return a}}}}),(t=this.vm)===null||t===void 0||t.mount(r)))}},e.prototype.unmountVueComponent=function(){var t=this.getComponentContainer();return this.vm&&(this.vm.unmount(),this.vm=null),t&&(t.innerHTML=""),t},e.prototype.unmount=function(){y5()&&bV(this.targetId()),this.unmountVueComponent()},e}(W0);const kV={name:"CustomLine",emits:["delete"],inject:["getGraphModel","getModel"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},methods:{handleDelete(){const n=this.getGraphModel(),e=this.getModel();n.deleteEdgeById(e.id),this.$emit("delete")}}},SV={class:"custom-line-popup"};function EV(n,e,t,r,i,o){return G0((oe(),we("div",SV,[L("button",{class:"delete-btn",onClick:e[0]||(e[0]=Qt((...a)=>o.handleDelete&&o.handleDelete(...a),["stop"]))},"删 除")],512)),[[X0,t.isSelected]])}const MV=Ct(kV,[["render",EV],["__scopeId","data-v-6456a6d9"]]),OV=70,AV=36;class LV extends ul{constructor(e){super(e),this.isMounted=!1,this.r=Wn(MV,{properties:e.model.getProperties(),isSelected:e.model.isSelected,isHovered:e.model.isHovered}),this.app=xd({render:()=>this.r,provide:()=>({getModel:()=>e.model,getGraphModel:()=>e.graphModel}),mounted:()=>{}})}getText(){const{model:e}=this.props,{customWidth:t=OV,customHeight:r=AV}=e.getProperties(),i=e.id,{startPoint:o,endPoint:a,arrowConfig:l,pointsList:u}=e;let c={x:(o.x+a.x-t)/2,y:(o.y+a.y-r)/2,width:t,height:r};if(u.length>2){let v=Math.round(u.length/2);c.x=u[v-1].x+5,c.y=u[v-1].y}const f={width:t,height:r};return setTimeout(()=>{const v=document.querySelector("#line_"+i).querySelector(".vue-app-wrapper");this.isMounted?(this.r.component.props.isSelected=this.props.model.isSelected,this.r.component.props.isHovered=this.props.model.isHovered,this.r.component.props.properties=this.props.model.getProperties()):(this.isMounted=!0,this.app.mount(v))},0),ht("foreignObject",{...c,id:"line_"+i},[ht("div",{id:i,style:f,className:"vue-app-wrapper"})])}}class TV extends al{initEdgeData(e){super.initEdgeData(e)}createId(){return z0("customEdge")}getEdgeStyle(){const e=super.getEdgeStyle();return this.isSelected||this.isHovered?e.stroke="#2475FC":e.stroke="#A1A7B3",e.strokeWidth=2,e}getArrowStyle(){const e=super.getArrowStyle();return e.refX=0,e}getOutlineStyle(){const e=super.getOutlineStyle();return e.stroke="none",e.hover.stroke="none",e}getData(){const e=super.getData();return e.sourceAnchorId=this.sourceAnchorId,e.targetAnchorId=this.targetAnchorId,e}updatePathByAnchor(){const e=this.graphModel.getNodeModelById(this.sourceNodeId),t=e==null?void 0:e.getDefaultAnchor().find(o=>o.id===this.sourceAnchorId),r=this.graphModel.getNodeModelById(this.targetNodeId),i=r==null?void 0:r.getDefaultAnchor().find(o=>o.id===this.targetAnchorId);if(t){const o={x:t==null?void 0:t.x,y:t==null?void 0:t.y};this.updateStartPoint(o)}if(i){const o={x:i==null?void 0:i.x,y:i==null?void 0:i.y};this.updateEndPoint(o)}this.pointsList=[],this.initPoints()}}const NV={type:"custom-edge",view:LV,model:TV};function z_(n,e){return n.map(t=>{let r=e?e.node_id:t.node_id,i=e?e.node_name:t.node_name,o=e?e.node_type:t.node_type,a=t.name||t.key,l=e?`${e.text}.${a}`:a,u=t.children||t.subs||[],c="",f="";o==1?f=`global.${l}`:e?f=`${e.original_value}.${t.key}`:f=`${r}.${t.key}`,c=`【${f}】`;let v={label:a,value:c,original_value:f,node_id:r,node_name:i,node_type:o,text:l,key:t.key,id:r,typ:t.typ,children:u||[]};return v.children&&v.children.length>0&&(v.children=z_(v.children,v)),v})}class sr extends W0{constructor(e){super(e)}renderVue(e,t){this.isMounted=!1,this.r=Wn(e,{properties:t.model.getProperties(),isSelected:t.model.isSelected,isHovered:t.model.isHovered}),this.app=xd({render:()=>this.r,provide:()=>({getNode:()=>t.model,getGraph:()=>t.graphModel,setData:r=>{wi(()=>{t.model.properties={...t.model.properties,...r};let i=null;this.r&&this.r.el&&(i=this.r.el.clientHeight),t.model._height=i||r.height||t.model.properties.height,t.model.refreshBranch(),t.graphModel.eventCenter.emit("custom:setData",t.model)})},setTitle:r=>{t.model.properties.node_name=r,t.graphModel.eventCenter.emit("custom:setNodeName",{node_name:r,node_id:t.model.id,node_type:t.model.type})}}),mounted:()=>{}})}shouldUpdate(){const e={...this.props.model.properties,isSelected:this.props.model.isSelected,isHovered:this.props.model.isHovered};if(!(this.preProperties&&this.preProperties===JSON.stringify(e)))return this.preProperties=JSON.stringify(e),!0}getAnchorShape(e){let t=this.props.graphModel.getNodeEdges(this.props.model.id),r=t.map(_=>_.sourceAnchorId),i=t.map(_=>_.targetAnchorId),o=!1;const{x:a,y:l,type:u}=e,c=10;u==="left"?o=i.includes(e.id):o=r.includes(e.id);const f=ht("circle",{className:"custom-anchor-circle",cx:a,cy:l,r:c,fill:"#fff",stroke:"#2475FC","stroke-width":2}),v=ht("g",{className:"custom-anchor-arrow",transform:`translate(${a-c-2}, ${l-c-2})`},[ht("circle",{cx:12,cy:12,r:c,fill:"#2475FC",stroke:"#2475FC","stroke-width":1}),ht("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",fill:"#fff"})]),m=ht("g",{className:`custom-anchor-plus ${o?"anchor-hide":""}`,transform:`translate(${a-c-2}, ${l-c-2})`},[ht("circle",{cx:12,cy:12,r:c,fill:"#2475FC",stroke:"#2475FC","stroke-width":1}),ht("line",{x1:12,y1:6,x2:12,y2:18,strokeWidth:2.4,strokeLinecap:"round",strokeLinejoin:"round",stroke:"#fff"}),ht("line",{x1:6,y1:12,x2:18,y2:12,strokeWidth:2.4,strokeLinecap:"round",strokeLinejoin:"round",stroke:"#fff"})]);return ht("g",{id:e.id,className:`custom-anchor custom-anchor-${u} ${o?"anchor-selected":"anchor-not-selected"}`,onClick:_=>{_.stopPropagation();const{graphModel:b,model:w}=this.props;u==="right"&&!o&&b.eventCenter.emit("custom:showPopupMenu",{anchorData:e,model:w})}},f,v,m)}setHtml(e){if(!this.props.model.virtual)if(this.isMounted)this.r.component.props.isSelected=this.props.model.isSelected,this.r.component.props.isHovered=this.props.model.isHovered,this.r.component.props.properties=this.props.model.getProperties();else{this.isMounted=!0;const t=document.createElement("div");t.className="root-node",t.id="node-"+this.props.model.id,e.appendChild(t),this.app.mount(t)}}}class ar extends V0{createId(){return z0(this.type)}initNodeData(e){this.width=e.properties.width,this.height=e.properties.height,super.initNodeData(e)}getAnchorLineStyle(){const e=super.getAnchorLineStyle();return e.stroke="#2475FC",e}getOutlineStyle(){const e=super.getOutlineStyle();return e.stroke="none",e.hover.stroke="none",e}getGlobalVariable(){const{nodes:e}=this.graphModel;let t=e.find(o=>o.type==="start-node");if(!t)return{sys_global:[],diy_global:[],all_global:[]};let r=JSON.parse(t.properties.node_params);return{sys_global:r.start.sys_global,diy_global:r.start.diy_global,all_global:[...r.start.sys_global,...r.start.diy_global]}}getAllParentVariable(){const e=[],t=new Set,r=this.incoming.edges,{nodes:i}=this.graphModel,o=["start-node","http-node","parameter-extraction-node","knowledge-base-node","ai-dialogue-node","specify-reply-node","problem-optimization-node","select-data-node","code-run-node"];let a=i.find(c=>c.type==="start-node");a&&(t.add(a.id),e.push(a));const l=c=>{for(let f=0;f<c.length;f++){let m=c[f].sourceNode;t.has(m.id)||(t.add(m.id),o.includes(m.type)&&e.push(m),l(m.incoming.edges))}};l(r);let u=[];for(const c of e){if(!o.includes(c.type))continue;let f=JSON.parse(c.properties.node_params),v={label:c.properties.node_name,value:c.id,node_id:c.id,node_type:c.properties.node_type,typ:"node",children:[]};c.type==="http-node"&&(v.children=f.curl.output),c.type==="code-run-node"&&(v.children=f.code_run.output),c.type==="parameter-extraction-node"&&(v.children=f.params_extractor.output),c.type==="start-node"&&(v.children=[...f.start.diy_global,...f.start.sys_global]),c.type==="select-data-node"&&(v.children=[{key:"output_list",typ:"Array(Object)",name:"output_list",label:"output_list"},{key:"row_num",typ:"integer",name:"row_num",label:"row_num"}]),c.type==="knowledge-base-node"&&(v.children=[{key:"special.lib_paragraph_list",typ:"string",name:"知识库引用",label:"知识库引用"}]),c.type==="ai-dialogue-node"&&(v.children=[{key:"special.llm_reply_content",typ:"string",name:"AI回复内容",label:"AI回复内容"}]),c.type==="specify-reply-node"&&(v.children=[{key:"special.llm_reply_content",typ:"string",name:"消息内容",label:"消息内容"}]),c.type==="problem-optimization-node"&&(v.children=[{key:"special.question_optimize_reply_content",typ:"string",name:"问题优化结果",label:"问题优化结果"}]),v.children.forEach(m=>{m.node_id=c.id,m.node_name=c.properties.node_name,m.node_type=c.properties.node_type}),v.children=z_(v.children,null),u.push(v)}return u}refreshBranch(){this.incoming.edges.forEach(e=>{e.updatePathByAnchor()}),this.outgoing.edges.forEach(e=>{e.updatePathByAnchor()})}}const DV="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%205C8.55228%205%209%204.55228%209%204C9%203.44772%208.55228%203%208%203C7.44772%203%207%203.44772%207%204C7%204.55228%207.44772%205%208%205Z'%20fill='%23595959'/%3e%3cpath%20d='M8%209C8.55228%209%209%208.55228%209%208C9%207.44772%208.55228%207%208%207C7.44772%207%207%207.44772%207%208C7%208.55228%207.44772%209%208%209Z'%20fill='%23595959'/%3e%3cpath%20d='M8%2012.666C8.55228%2012.666%209%2012.2183%209%2011.666C9%2011.1137%208.55228%2010.666%208%2010.666C7.44772%2010.666%207%2011.1137%207%2011.666C7%2012.2183%207.44772%2012.666%208%2012.666Z'%20fill='%23595959'/%3e%3c/svg%3e",PV={name:"NodeCommon",inject:["setTitle"],props:{iconName:{type:String,default:""},node_type:{default:""},nodeKey:{type:String,default:""},value:{type:String,default:""},title:{type:String,default:""},menus:{type:Array,default(){return[]}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{isShowMenu:!1}},mounted(){document.addEventListener("click",this.documentClick)},beforeUnmount(){document.removeEventListener("click",this.documentClick)},methods:{handleMenu(n){this.$emit("handleMenu",n)},showMenu(){this.isShowMenu=!this.isShowMenu},documentClick(n){this.isShowMenu&&!this.$el.querySelector(".node-menus").contains(n.target)&&n.target!==this.$el.querySelector(".node-menu-btn")&&n.target!==this.$el.querySelector(".btn-icon")&&(this.isShowMenu=!1)},getImggeUrl(n){return new URL(Object.assign({"../../../../assets/svg/ai-dialogue-node.svg":_h,"../../../../assets/svg/ai-generate-white.svg":bh,"../../../../assets/svg/ai-generate.svg":Ch,"../../../../assets/svg/ai-mark.svg":wh,"../../../../assets/svg/ai.svg":xh,"../../../../assets/svg/alert-icon.svg":kh,"../../../../assets/svg/ali-ocr.svg":Sh,"../../../../assets/svg/analysis.svg":Eh,"../../../../assets/svg/anthrop.svg":Mh,"../../../../assets/svg/arrow-down.svg":Oh,"../../../../assets/svg/arrow-left.svg":Ah,"../../../../assets/svg/attachment.svg":Lh,"../../../../assets/svg/auth.svg":Th,"../../../../assets/svg/azure.svg":Nh,"../../../../assets/svg/baichuan.svg":Dh,"../../../../assets/svg/book.svg":Ph,"../../../../assets/svg/chat-cache.svg":Rh,"../../../../assets/svg/chat-mode.svg":Hh,"../../../../assets/svg/chat-robot-icon.svg":Ih,"../../../../assets/svg/chat.svg":Bh,"../../../../assets/svg/check-arrow-filled.svg":jh,"../../../../assets/svg/circularNeedle.svg":Fh,"../../../../assets/svg/client.svg":Vh,"../../../../assets/svg/close-circle.svg":$h,"../../../../assets/svg/cmd.svg":Wh,"../../../../assets/svg/code-run-node.svg":zh,"../../../../assets/svg/cohere.svg":Uh,"../../../../assets/svg/collaborator.svg":Gh,"../../../../assets/svg/collapse-close.svg":Xh,"../../../../assets/svg/collapse-open.svg":Zh,"../../../../assets/svg/colour-edit.svg":Yh,"../../../../assets/svg/comment-search.svg":qh,"../../../../assets/svg/common-quession.svg":Kh,"../../../../assets/svg/cu-doc-active.svg":Jh,"../../../../assets/svg/cu-doc-icon.svg":Qh,"../../../../assets/svg/data-node.svg":ep,"../../../../assets/svg/data-security.svg":tp,"../../../../assets/svg/database-menu-icon.svg":np,"../../../../assets/svg/deepseek.svg":rp,"../../../../assets/svg/delete.svg":ip,"../../../../assets/svg/direct-connection.svg":op,"../../../../assets/svg/dislike-active.svg":sp,"../../../../assets/svg/dislike.svg":ap,"../../../../assets/svg/doc-active-menu-icon.svg":lp,"../../../../assets/svg/doc-directory.svg":up,"../../../../assets/svg/doc-draft.svg":dp,"../../../../assets/svg/doc-file.svg":cp,"../../../../assets/svg/doc-file2.svg":fp,"../../../../assets/svg/doc-icon-active.svg":hp,"../../../../assets/svg/doc-icon.svg":pp,"../../../../assets/svg/doc-menu-icon.svg":vp,"../../../../assets/svg/document.svg":gp,"../../../../assets/svg/drag.svg":mp,"../../../../assets/svg/duiwaifuwu.svg":yp,"../../../../assets/svg/economic-active.svg":_p,"../../../../assets/svg/economic.svg":bp,"../../../../assets/svg/edit-02.svg":Cp,"../../../../assets/svg/edit.svg":wp,"../../../../assets/svg/empty-document.svg":xp,"../../../../assets/svg/empty.svg":kp,"../../../../assets/svg/end-node.svg":Sp,"../../../../assets/svg/enterprise-active.svg":Ep,"../../../../assets/svg/enterprise.svg":Mp,"../../../../assets/svg/enterprise2.svg":Op,"../../../../assets/svg/expand.svg":Ap,"../../../../assets/svg/explain-node.svg":Lp,"../../../../assets/svg/export-record.svg":Tp,"../../../../assets/svg/eye-open.svg":Np,"../../../../assets/svg/field-menu-icon.svg":Dp,"../../../../assets/svg/file-search.svg":Pp,"../../../../assets/svg/finance.svg":Rp,"../../../../assets/svg/gemini.svg":Hp,"../../../../assets/svg/generate-icon.svg":Ip,"../../../../assets/svg/gou.svg":Bp,"../../../../assets/svg/government.svg":jp,"../../../../assets/svg/graph-icon.svg":Fp,"../../../../assets/svg/guanlianzhishiku.svg":Vp,"../../../../assets/svg/high-active.svg":$p,"../../../../assets/svg/high.svg":Wp,"../../../../assets/svg/http-node.svg":zp,"../../../../assets/svg/huanyingyu.svg":Up,"../../../../assets/svg/huoshanyinqin.svg":Gp,"../../../../assets/svg/img-icon.svg":Xp,"../../../../assets/svg/input.svg":Zp,"../../../../assets/svg/jibenpeizhi.svg":Yp,"../../../../assets/svg/jichupeizhi.svg":qp,"../../../../assets/svg/jina.svg":Kp,"../../../../assets/svg/judge-node.svg":Jp,"../../../../assets/svg/knowledge-base-node.svg":Qp,"../../../../assets/svg/knowledge-config-active-icon.svg":e3,"../../../../assets/svg/knowledge-config-icon.svg":t3,"../../../../assets/svg/law.svg":n3,"../../../../assets/svg/liaotianceshi.svg":r3,"../../../../assets/svg/like-active.svg":i3,"../../../../assets/svg/like-icon.svg":o3,"../../../../assets/svg/like.svg":s3,"../../../../assets/svg/lingyiwanwu.svg":a3,"../../../../assets/svg/link-icon-active.svg":l3,"../../../../assets/svg/link-icon.svg":u3,"../../../../assets/svg/link-left.svg":d3,"../../../../assets/svg/login-success.svg":c3,"../../../../assets/svg/logout.svg":f3,"../../../../assets/svg/manufacture.svg":h3,"../../../../assets/svg/medical-treatment.svg":p3,"../../../../assets/svg/menu-expand.svg":v3,"../../../../assets/svg/message.svg":g3,"../../../../assets/svg/minus.svg":m3,"../../../../assets/svg/mix-icon.svg":y3,"../../../../assets/svg/more-compatible.svg":_3,"../../../../assets/svg/moxingshezhi.svg":b3,"../../../../assets/svg/multimode-box.svg":C3,"../../../../assets/svg/nav-chat.svg":w3,"../../../../assets/svg/nav-doc.svg":x3,"../../../../assets/svg/nav-find.svg":k3,"../../../../assets/svg/nav-library.svg":S3,"../../../../assets/svg/nav-robot.svg":E3,"../../../../assets/svg/nav-search.svg":M3,"../../../../assets/svg/network.svg":O3,"../../../../assets/svg/open-ai.svg":A3,"../../../../assets/svg/ordinary-segmentation.svg":L3,"../../../../assets/svg/out-the-box.svg":T3,"../../../../assets/svg/output.svg":N3,"../../../../assets/svg/parameter-extraction-node.svg":D3,"../../../../assets/svg/pc.svg":P3,"../../../../assets/svg/pdf-img.svg":R3,"../../../../assets/svg/pdf-ocr.svg":H3,"../../../../assets/svg/pdf-text.svg":I3,"../../../../assets/svg/phone.svg":B3,"../../../../assets/svg/plus.svg":j3,"../../../../assets/svg/point-h.svg":F3,"../../../../assets/svg/problem-optimization-node.svg":V3,"../../../../assets/svg/problem-optimization.svg":$3,"../../../../assets/svg/prompt-icon.svg":W3,"../../../../assets/svg/put-away.svg":z3,"../../../../assets/svg/qa-feedback.svg":U3,"../../../../assets/svg/question-node.svg":G3,"../../../../assets/svg/quick-Instruction.svg":X3,"../../../../assets/svg/quote-file.svg":Z3,"../../../../assets/svg/quotes.svg":Y3,"../../../../assets/svg/recommendation.svg":q3,"../../../../assets/svg/retail.svg":K3,"../../../../assets/svg/reward-points.svg":J3,"../../../../assets/svg/right-fork-icon.svg":Q3,"../../../../assets/svg/save-draft.svg":ev,"../../../../assets/svg/sdk.svg":tv,"../../../../assets/svg/search-check-icon.svg":nv,"../../../../assets/svg/search-right.svg":rv,"../../../../assets/svg/search-tip.svg":iv,"../../../../assets/svg/search.svg":ov,"../../../../assets/svg/segmentation-down.svg":sv,"../../../../assets/svg/segmentation-icon.svg":av,"../../../../assets/svg/segmentation-up.svg":lv,"../../../../assets/svg/segmentation.svg":uv,"../../../../assets/svg/select-disabled.svg":dv,"../../../../assets/svg/semantic-segmentation.svg":cv,"../../../../assets/svg/sensitive-icon.svg":fv,"../../../../assets/svg/seo-gray.svg":hv,"../../../../assets/svg/seo-highlight.svg":pv,"../../../../assets/svg/seo-light.svg":vv,"../../../../assets/svg/session-record.svg":gv,"../../../../assets/svg/session.svg":mv,"../../../../assets/svg/setting.svg":yv,"../../../../assets/svg/share.svg":_v,"../../../../assets/svg/similarity.svg":bv,"../../../../assets/svg/skii.svg":Cv,"../../../../assets/svg/source-energy.svg":wv,"../../../../assets/svg/specify-reply-node.svg":xv,"../../../../assets/svg/start-node.svg":kv,"../../../../assets/svg/statistical-analysis.svg":Sv,"../../../../assets/svg/success.svg":Ev,"../../../../assets/svg/suggested-issues.svg":Mv,"../../../../assets/svg/switch-mobile.svg":Ov,"../../../../assets/svg/system-setting.svg":Av,"../../../../assets/svg/team-manage-active.svg":Lv,"../../../../assets/svg/team-manage.svg":Tv,"../../../../assets/svg/team-manage2.svg":Nv,"../../../../assets/svg/tengxunhunyuan.svg":Dv,"../../../../assets/svg/test-active-menu-icon.svg":Pv,"../../../../assets/svg/test-menu-icon.svg":Rv,"../../../../assets/svg/think.svg":Hv,"../../../../assets/svg/tongyiqianwen.svg":Iv,"../../../../assets/svg/unit.svg":Bv,"../../../../assets/svg/unknown-issue.svg":jv,"../../../../assets/svg/unknown-prompt.svg":Fv,"../../../../assets/svg/use-token-active.svg":Vv,"../../../../assets/svg/use-token.svg":$v,"../../../../assets/svg/user-icon.svg":Wv,"../../../../assets/svg/variable-assignment-node.svg":zv,"../../../../assets/svg/vector-icon.svg":Uv,"../../../../assets/svg/wenxinyiyan.svg":Gv,"../../../../assets/svg/workflow-robot-icon.svg":Xv,"../../../../assets/svg/workflow.svg":Zv,"../../../../assets/svg/xitongtishici.svg":Yv,"../../../../assets/svg/xunfeixinghuo.svg":qv,"../../../../assets/svg/yuezhianmian.svg":Kv,"../../../../assets/svg/zhipuai.svg":Jv})[`../../../../assets/svg/${n}.svg`],import.meta.url).href},updateTitle(n){this.setTitle(n)}}},RV=["data-node-name","data-node-type"],HV={class:"node-header"},IV={class:"node-header-left"},BV={key:0,class:"node-icon"},jV=["src"],FV={key:1,class:"node-title"},VV={key:0,class:"node-menu-wrapper"},$V={class:"node-menus"},WV=["onClick"],zV={class:"node-body"};function UV(n,e,t,r,i,o){const a=Vr;return oe(),we("div",{class:Lr(["node-common-wrapper",[`node-common-wrapper_${t.iconName}`]]),"data-node-name":t.title,"data-node-type":t.node_type},[L("div",{class:Lr(["node-common",{isHovered:t.isHovered,isSelected:t.isSelected}])},[L("div",HV,[L("div",IV,[t.iconName?(oe(),we("span",BV,[L("img",{src:o.getImggeUrl(t.iconName),alt:""},null,8,jV)])):ct("",!0),["1",1].includes(t.node_type)?(oe(),we("span",FV,rt(t.title),1)):(oe(),Qe(a,{key:2,size:"small",class:"node-title-input",value:t.title,onInput:e[0]||(e[0]=l=>o.updateTitle(l.target.value))},null,8,["value"]))]),L("div",null,[t.menus.length>0?(oe(),we("div",VV,[L("div",{class:"node-menu-btn",onClick:e[1]||(e[1]=Qt((...l)=>o.showMenu&&o.showMenu(...l),["stop"]))},e[2]||(e[2]=[L("img",{class:"btn-icon",src:DV,alt:""},null,-1)])),G0(L("div",$V,[(oe(!0),we(Et,null,Rt(t.menus,l=>(oe(),we("div",{class:"node-menu del-btn",key:l.key,onClick:Qt(u=>o.handleMenu(l),["stop"])},rt(l.name),9,WV))),128))],512),[[X0,i.isShowMenu]])])):ct("",!0)])]),L("div",zV,[K5(n.$slots,"default",{},void 0,!0)])],2)],10,RV)}const lr=Ct(PV,[["render",UV],["__scopeId","data-v-41ba7f39"]]),U_="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cpath%20d='M9%202C11%202%2014.3333%203.33333%2014.3333%208C14.3333%2012.6667%2011%2014%209%2014'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.7002%207.99609L11%207.99609'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.6665%2012L1.6665%208L5.6665%204'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%202C11%202%2014.3333%203.33333%2014.3333%208C14.3333%2012.6667%2011%2014%209%2014'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.7002%207.99609L11%207.99609'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M5.6665%2012L1.6665%208L5.6665%204'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",GV="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2016%2016'%20class='design-iconfont'%3e%3cg%20clip-path='url(%23u9u3epnhq__clip0_8437_35332)'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3cpath%20d='M5.66699%203.66536L8.00033%201.33203L10.3337%203.66536L8.00033%205.9987L5.66699%203.66536Z'%20stroke='%23262626'/%3e%3cpath%20d='M10%208.33333L12.3333%206L14.6667%208.33333L12.3333%2010.6667L10%208.33333Z'%20stroke='%23262626'/%3e%3cpath%20d='M5.66699%2012.3333L8.00033%2010L10.3337%2012.3333L8.00033%2014.6667L5.66699%2012.3333Z'%20stroke='%23262626'/%3e%3cpath%20d='M1.3335%207.9974L3.66683%205.66406L6.00016%207.9974L3.66683%2010.3307L1.3335%207.9974Z'%20stroke='%23262626'/%3e%3cpath%20d='M5.66699%203.66536L8.00033%201.33203L10.3337%203.66536L8.00033%205.9987L5.66699%203.66536Z'%20stroke='%23262626'/%3e%3cpath%20d='M10%208.33333L12.3333%206L14.6667%208.33333L12.3333%2010.6667L10%208.33333Z'%20stroke='%23262626'/%3e%3cpath%20d='M5.66699%2012.3333L8.00033%2010L10.3337%2012.3333L8.00033%2014.6667L5.66699%2012.3333Z'%20stroke='%23000'/%3e%3cpath%20d='M1.3335%207.9974L3.66683%205.66406L6.00016%207.9974L3.66683%2010.3307L1.3335%207.9974Z'%20stroke='%23000'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='u9u3epnhq__clip0_8437_35332'%3e%3cpath%20fill='%23fff'%20d='M0%200H16V16H0z'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",XV=[{lable:"string",value:"string"},{lable:"number",value:"number"},{lable:"array<string>",value:"array<string>"}],ZV={name:"StartNode",components:{NodeCommon:lr,QuestionCircleOutlined:ir,PlusOutlined:rr},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{sys_global:[],diy_global:[],show:!1,typOptions:[...XV],formState:{key:"",value:"",typ:"string",required:!1,desc:""},editIndex:-1,formRules:{key:[{required:!0,message:"请输入变量名",trigger:"blur"},{pattern:/[a-zA-Z_][a-zA-Z0-9_\-.]*/,message:"英文字母和下划线组成",trigger:"blur"},{min:1,max:20,message:"长度在1到20个字符",trigger:"blur"}],typ:[{required:!0,message:"请选择变量类型",trigger:"change"}],required:[{required:!0,message:"请选择是否必填",trigger:"change"}],desc:[{min:1,max:50,message:"长度在1到50个字符",trigger:"blur"}]}}},computed:{},mounted(){let n=JSON.parse(this.properties.node_params);this.sys_global=n.start.sys_global,this.diy_global=n.start.diy_global,this.$nextTick(()=>{this.updateHeight()})},methods:{getHeight(){return 322+50*this.diy_global.length},updateHeight(){let n=this.getHeight();this.setData({height:n})},update(){let n=this.getHeight(),e=JSON.parse(this.properties.node_params);e.start.diy_global=[...this.diy_global],this.setData({height:n,node_params:JSON.stringify(e)})},handleAdd(){this.formState={key:"",value:"",typ:"string",required:!1,desc:""},this.editIndex=-1,this.show=!0},handleEdit(n,e){this.formState={...n},this.editIndex=e,this.show=!0},handleDel(n){this.diy_global.splice(n,1),this.update()},async handleOk(){try{await this.$refs.formRef.validate(),this.editIndex>-1?(this.diy_global.splice(this.editIndex,1,{...this.formState}),this.editIndex=-1):this.diy_global.push({...this.formState}),this.show=!1,this.formState={key:"",value:"",typ:"string",required:!1,desc:""},this.update()}catch{}}}},YV={class:"start-node"},qV={class:"start-node-options"},KV={class:"options-item-body"},JV={class:"option-label"},QV={class:"option-type"},e$={class:"start-node-options"},t$={class:"options-title"},n$={class:"options-item-body"},r$={class:"option-label"},i$={class:"option-type"},o$={class:"item-actions-box"},s$={class:"action-items-box"};function a$(n,e,t,r,i,o){const a=Kt("QuestionCircleOutlined"),l=Ai,u=bo,c=Kt("PlusOutlined"),f=cr,v=Vr,m=Co,y=ei,_=Qr,b=ua,w=Ed,x=to,k=Mi,N=Kt("node-common");return oe(),Qe(N,{title:t.properties.node_name,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type},{default:J(()=>[L("div",YV,[e[9]||(e[9]=L("div",{class:"node-desc"},"流程开始节点，点击可以设置全局变量、触发方式等",-1)),L("div",qV,[e[5]||(e[5]=L("div",{class:"options-title"},[L("div",null,[L("img",{src:U_,alt:"",class:"title-icon"}),ze("输出")])],-1)),(oe(!0),we(Et,null,Rt(i.sys_global,D=>(oe(),we("div",{class:Lr(["options-item",{"is-required":D.required}]),key:D.key},[L("div",KV,[L("div",JV,rt(D.key),1),L("div",QV,rt(D.typ),1)])],2))),128))]),L("div",e$,[L("div",t$,[e[7]||(e[7]=L("div",null,[L("img",{src:GV,alt:"",class:"title-icon"}),L("span",null,"自定义全局变量")],-1)),L("div",null,[j(l,{"arrow-point-at-center":"",overlayInnerStyle:{width:"600px"},placement:"top"},{title:J(()=>e[6]||(e[6]=[L("div",{style:{width:"600px"}},[ze(" 定义工作流的全局变量。通过全局变量可以临时缓存数据。全局变量可以通过以下方式赋值："),L("br"),ze(" 1、通过webapp访问时，可以在连接中拼接参数给全局变量赋值"),L("br"),ze(" 2、通过api访问时，可以再API中传递参数值"),L("br"),ze(" 3、可以通过变量赋值节点，给全局变量赋值 ")],-1)])),default:J(()=>[j(a,{style:{color:"#595959","font-size":"16px"}})]),_:1})])]),(oe(!0),we(Et,null,Rt(i.diy_global,(D,V)=>(oe(),we("div",{class:Lr(["options-item diy-options-item",{"is-required":D.required}]),key:D.key},[L("div",n$,[L("div",r$,rt(D.key),1),L("div",i$,rt(D.typ),1)]),L("div",o$,[j(u,{class:"action-btn",name:"edit-02",onClick:U=>o.handleEdit(D,V)},null,8,["onClick"]),j(u,{class:"action-btn",name:"close-circle",onClick:U=>o.handleDel(V)},null,8,["onClick"])])],2))),128)),L("div",s$,[j(f,{style:{width:"100%"},class:"add-btn",type:"dashed",onClick:o.handleAdd},{icon:J(()=>[j(c)]),default:J(()=>[e[8]||(e[8]=ze(" 添加全局变量 "))]),_:1,__:[8]},8,["onClick"])])]),j(k,{open:i.show,"onUpdate:open":e[4]||(e[4]=D=>i.show=D),title:"新增变量",okText:"保 存",cancelText:"取 消",onOk:o.handleOk},{default:J(()=>[j(x,{ref:"formRef",model:i.formState,rules:i.formRules,"label-align":"right","label-col":{span:4},"wrapper-col":{span:19}},{default:J(()=>[j(m,{label:"变量名",name:"key"},{default:J(()=>[j(v,{value:i.formState.key,"onUpdate:value":e[0]||(e[0]=D=>i.formState.key=D),placeholder:"请输入变量名"},null,8,["value"])]),_:1}),j(m,{label:"类型",name:"typ"},{default:J(()=>[j(_,{value:i.formState.typ,"onUpdate:value":e[1]||(e[1]=D=>i.formState.typ=D)},{default:J(()=>[(oe(!0),we(Et,null,Rt(i.typOptions,D=>(oe(),Qe(y,{value:D.value,key:D.value},{default:J(()=>[L("span",null,rt(D.lable),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),j(m,{label:"必填",name:"required"},{default:J(()=>[j(b,{checked:i.formState.required,"onUpdate:checked":e[2]||(e[2]=D=>i.formState.required=D)},null,8,["checked"])]),_:1}),j(m,{label:"描述",name:"desc"},{default:J(()=>[j(w,{value:i.formState.desc,"onUpdate:value":e[3]||(e[3]=D=>i.formState.desc=D),placeholder:"请输入描述"},null,8,["value"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["open","onOk"])])]),_:1},8,["title","icon-name","isSelected","isHovered","node-key","node_type"])}const l$=Ct(ZV,[["render",a$],["__scopeId","data-v-4b460364"]]);let u$=class extends sr{constructor(e){super(e),this.renderVue(l$,e)}},d$=class extends ar{setAttributes(){this.width=568,this.height=322;const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t+i/2,y:r-o/2+25,id:u+"-anchor_right",type:"right",isHovered:a,isSelected:l,nodeId:e}]}};const c$={type:"start-node",model:d$,view:u$};function f$(n){let e=84,t=[],r=0,i=0;return n.term&&n.term.length&&(i=n.term.length,n.term.forEach((o,a)=>{r+=o.terms.length;let l=0;if(a>0){let u=2;for(let c=0;c<a;c++)u+=n.term[c].terms.length;l=46*u+106*(a-1),a>3&&(l=l+10)}t.push({id:n.nodeSortKey+"-anchor_"+a,offsetHeight:38,offsetTop:e+l})})),t.push({id:n.nodeSortKey+"-anchor_right",offsetHeight:38,offsetTop:225+42*r+116*(i-1)}),t}function h$(n){let e=388;return n.showMoreBtn&&(e=e+144),n.categorys&&n.categorys.length?n.categorys.map((t,r)=>({id:n.nodeSortKey+"-anchor_"+r,offsetHeight:38,offsetTop:e+36*r})):[]}function p$(){return[{label:"用户消息",value:"【global.question】",payload:{typ:"string"}},{label:"open_id",value:"【global.openid】",payload:{typ:"string"}}]}const fa=["http-node","code-run-node"],v$={1:"start-node",2:"judge-node",3:"question-node",4:"http-node",5:"knowledge-base-node",6:"ai-dialogue-node",7:"end-node",8:"variable-assignment-node",9:"specify-reply-node",11:"problem-optimization-node",12:"parameter-extraction-node",13:"data-node",14:"data-node",15:"data-node",16:"data-node",17:"code-run-node"};function g$(n){let e=v$[n];return new URL(Object.assign({"../../../assets/svg/ai-dialogue-node.svg":_h,"../../../assets/svg/ai-generate-white.svg":bh,"../../../assets/svg/ai-generate.svg":Ch,"../../../assets/svg/ai-mark.svg":wh,"../../../assets/svg/ai.svg":xh,"../../../assets/svg/alert-icon.svg":kh,"../../../assets/svg/ali-ocr.svg":Sh,"../../../assets/svg/analysis.svg":Eh,"../../../assets/svg/anthrop.svg":Mh,"../../../assets/svg/arrow-down.svg":Oh,"../../../assets/svg/arrow-left.svg":Ah,"../../../assets/svg/attachment.svg":Lh,"../../../assets/svg/auth.svg":Th,"../../../assets/svg/azure.svg":Nh,"../../../assets/svg/baichuan.svg":Dh,"../../../assets/svg/book.svg":Ph,"../../../assets/svg/chat-cache.svg":Rh,"../../../assets/svg/chat-mode.svg":Hh,"../../../assets/svg/chat-robot-icon.svg":Ih,"../../../assets/svg/chat.svg":Bh,"../../../assets/svg/check-arrow-filled.svg":jh,"../../../assets/svg/circularNeedle.svg":Fh,"../../../assets/svg/client.svg":Vh,"../../../assets/svg/close-circle.svg":$h,"../../../assets/svg/cmd.svg":Wh,"../../../assets/svg/code-run-node.svg":zh,"../../../assets/svg/cohere.svg":Uh,"../../../assets/svg/collaborator.svg":Gh,"../../../assets/svg/collapse-close.svg":Xh,"../../../assets/svg/collapse-open.svg":Zh,"../../../assets/svg/colour-edit.svg":Yh,"../../../assets/svg/comment-search.svg":qh,"../../../assets/svg/common-quession.svg":Kh,"../../../assets/svg/cu-doc-active.svg":Jh,"../../../assets/svg/cu-doc-icon.svg":Qh,"../../../assets/svg/data-node.svg":ep,"../../../assets/svg/data-security.svg":tp,"../../../assets/svg/database-menu-icon.svg":np,"../../../assets/svg/deepseek.svg":rp,"../../../assets/svg/delete.svg":ip,"../../../assets/svg/direct-connection.svg":op,"../../../assets/svg/dislike-active.svg":sp,"../../../assets/svg/dislike.svg":ap,"../../../assets/svg/doc-active-menu-icon.svg":lp,"../../../assets/svg/doc-directory.svg":up,"../../../assets/svg/doc-draft.svg":dp,"../../../assets/svg/doc-file.svg":cp,"../../../assets/svg/doc-file2.svg":fp,"../../../assets/svg/doc-icon-active.svg":hp,"../../../assets/svg/doc-icon.svg":pp,"../../../assets/svg/doc-menu-icon.svg":vp,"../../../assets/svg/document.svg":gp,"../../../assets/svg/drag.svg":mp,"../../../assets/svg/duiwaifuwu.svg":yp,"../../../assets/svg/economic-active.svg":_p,"../../../assets/svg/economic.svg":bp,"../../../assets/svg/edit-02.svg":Cp,"../../../assets/svg/edit.svg":wp,"../../../assets/svg/empty-document.svg":xp,"../../../assets/svg/empty.svg":kp,"../../../assets/svg/end-node.svg":Sp,"../../../assets/svg/enterprise-active.svg":Ep,"../../../assets/svg/enterprise.svg":Mp,"../../../assets/svg/enterprise2.svg":Op,"../../../assets/svg/expand.svg":Ap,"../../../assets/svg/explain-node.svg":Lp,"../../../assets/svg/export-record.svg":Tp,"../../../assets/svg/eye-open.svg":Np,"../../../assets/svg/field-menu-icon.svg":Dp,"../../../assets/svg/file-search.svg":Pp,"../../../assets/svg/finance.svg":Rp,"../../../assets/svg/gemini.svg":Hp,"../../../assets/svg/generate-icon.svg":Ip,"../../../assets/svg/gou.svg":Bp,"../../../assets/svg/government.svg":jp,"../../../assets/svg/graph-icon.svg":Fp,"../../../assets/svg/guanlianzhishiku.svg":Vp,"../../../assets/svg/high-active.svg":$p,"../../../assets/svg/high.svg":Wp,"../../../assets/svg/http-node.svg":zp,"../../../assets/svg/huanyingyu.svg":Up,"../../../assets/svg/huoshanyinqin.svg":Gp,"../../../assets/svg/img-icon.svg":Xp,"../../../assets/svg/input.svg":Zp,"../../../assets/svg/jibenpeizhi.svg":Yp,"../../../assets/svg/jichupeizhi.svg":qp,"../../../assets/svg/jina.svg":Kp,"../../../assets/svg/judge-node.svg":Jp,"../../../assets/svg/knowledge-base-node.svg":Qp,"../../../assets/svg/knowledge-config-active-icon.svg":e3,"../../../assets/svg/knowledge-config-icon.svg":t3,"../../../assets/svg/law.svg":n3,"../../../assets/svg/liaotianceshi.svg":r3,"../../../assets/svg/like-active.svg":i3,"../../../assets/svg/like-icon.svg":o3,"../../../assets/svg/like.svg":s3,"../../../assets/svg/lingyiwanwu.svg":a3,"../../../assets/svg/link-icon-active.svg":l3,"../../../assets/svg/link-icon.svg":u3,"../../../assets/svg/link-left.svg":d3,"../../../assets/svg/login-success.svg":c3,"../../../assets/svg/logout.svg":f3,"../../../assets/svg/manufacture.svg":h3,"../../../assets/svg/medical-treatment.svg":p3,"../../../assets/svg/menu-expand.svg":v3,"../../../assets/svg/message.svg":g3,"../../../assets/svg/minus.svg":m3,"../../../assets/svg/mix-icon.svg":y3,"../../../assets/svg/more-compatible.svg":_3,"../../../assets/svg/moxingshezhi.svg":b3,"../../../assets/svg/multimode-box.svg":C3,"../../../assets/svg/nav-chat.svg":w3,"../../../assets/svg/nav-doc.svg":x3,"../../../assets/svg/nav-find.svg":k3,"../../../assets/svg/nav-library.svg":S3,"../../../assets/svg/nav-robot.svg":E3,"../../../assets/svg/nav-search.svg":M3,"../../../assets/svg/network.svg":O3,"../../../assets/svg/open-ai.svg":A3,"../../../assets/svg/ordinary-segmentation.svg":L3,"../../../assets/svg/out-the-box.svg":T3,"../../../assets/svg/output.svg":N3,"../../../assets/svg/parameter-extraction-node.svg":D3,"../../../assets/svg/pc.svg":P3,"../../../assets/svg/pdf-img.svg":R3,"../../../assets/svg/pdf-ocr.svg":H3,"../../../assets/svg/pdf-text.svg":I3,"../../../assets/svg/phone.svg":B3,"../../../assets/svg/plus.svg":j3,"../../../assets/svg/point-h.svg":F3,"../../../assets/svg/problem-optimization-node.svg":V3,"../../../assets/svg/problem-optimization.svg":$3,"../../../assets/svg/prompt-icon.svg":W3,"../../../assets/svg/put-away.svg":z3,"../../../assets/svg/qa-feedback.svg":U3,"../../../assets/svg/question-node.svg":G3,"../../../assets/svg/quick-Instruction.svg":X3,"../../../assets/svg/quote-file.svg":Z3,"../../../assets/svg/quotes.svg":Y3,"../../../assets/svg/recommendation.svg":q3,"../../../assets/svg/retail.svg":K3,"../../../assets/svg/reward-points.svg":J3,"../../../assets/svg/right-fork-icon.svg":Q3,"../../../assets/svg/save-draft.svg":ev,"../../../assets/svg/sdk.svg":tv,"../../../assets/svg/search-check-icon.svg":nv,"../../../assets/svg/search-right.svg":rv,"../../../assets/svg/search-tip.svg":iv,"../../../assets/svg/search.svg":ov,"../../../assets/svg/segmentation-down.svg":sv,"../../../assets/svg/segmentation-icon.svg":av,"../../../assets/svg/segmentation-up.svg":lv,"../../../assets/svg/segmentation.svg":uv,"../../../assets/svg/select-disabled.svg":dv,"../../../assets/svg/semantic-segmentation.svg":cv,"../../../assets/svg/sensitive-icon.svg":fv,"../../../assets/svg/seo-gray.svg":hv,"../../../assets/svg/seo-highlight.svg":pv,"../../../assets/svg/seo-light.svg":vv,"../../../assets/svg/session-record.svg":gv,"../../../assets/svg/session.svg":mv,"../../../assets/svg/setting.svg":yv,"../../../assets/svg/share.svg":_v,"../../../assets/svg/similarity.svg":bv,"../../../assets/svg/skii.svg":Cv,"../../../assets/svg/source-energy.svg":wv,"../../../assets/svg/specify-reply-node.svg":xv,"../../../assets/svg/start-node.svg":kv,"../../../assets/svg/statistical-analysis.svg":Sv,"../../../assets/svg/success.svg":Ev,"../../../assets/svg/suggested-issues.svg":Mv,"../../../assets/svg/switch-mobile.svg":Ov,"../../../assets/svg/system-setting.svg":Av,"../../../assets/svg/team-manage-active.svg":Lv,"../../../assets/svg/team-manage.svg":Tv,"../../../assets/svg/team-manage2.svg":Nv,"../../../assets/svg/tengxunhunyuan.svg":Dv,"../../../assets/svg/test-active-menu-icon.svg":Pv,"../../../assets/svg/test-menu-icon.svg":Rv,"../../../assets/svg/think.svg":Hv,"../../../assets/svg/tongyiqianwen.svg":Iv,"../../../assets/svg/unit.svg":Bv,"../../../assets/svg/unknown-issue.svg":jv,"../../../assets/svg/unknown-prompt.svg":Fv,"../../../assets/svg/use-token-active.svg":Vv,"../../../assets/svg/use-token.svg":$v,"../../../assets/svg/user-icon.svg":Wv,"../../../assets/svg/variable-assignment-node.svg":zv,"../../../assets/svg/vector-icon.svg":Uv,"../../../assets/svg/wenxinyiyan.svg":Gv,"../../../assets/svg/workflow-robot-icon.svg":Xv,"../../../assets/svg/workflow.svg":Zv,"../../../assets/svg/xitongtishici.svg":Yv,"../../../assets/svg/xunfeixinghuo.svg":qv,"../../../assets/svg/yuezhianmian.svg":Kv,"../../../assets/svg/zhipuai.svg":Jv})[`../../../assets/svg/${e}.svg`],import.meta.url).href}const m$={class:"gray-block"},y$={class:"flex-block-item"},_$={class:"number-box"},b$={class:"number-slider-box"},C$={class:"number-input-box"},w$={class:"number-box"},x$={class:"number-slider-box"},k$={class:"number-input-box"},S$={class:"number-box"},E$={class:"number-box"},M$={class:"number-slider-box"},O$={class:"number-input-box"};const A$={class:"gray-block mt16"},L$={class:"array-form-box"},T$={class:"flex-block-item"},N$=["onClick"],D$={class:"form-item-list"},P$={class:"flex-block-item"},R$={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(n,{expose:e,emit:t}){const r=Qs(),i=Cn("getGraph"),o=Cn("getNode"),a=n,l=nn(()=>r.modelList),u=t,c=Fe(!1),f=()=>{c.value=!c.value,u("setData",{...m,showMoreBtn:c.value,height:w()})},v=Fe(),m=Pn({model_config_id:void 0,use_model:void 0,temperature:0,max_token:0,context_pair:0,prompt:"",enable_thinking:!1,categorys:[{category:"",next_node_key:"",key:Math.random()*1e4}]});let y=!1;const _=Fe(!1),b=Fe([]);bn(()=>a.properties,ae=>{try{if(_.value||V(),y)return;let q=JSON.parse(ae.node_params).cate||{};q=JSON.parse(JSON.stringify(q));for(let ue in q)if(ue=="categorys")if(q.categorys&&q.categorys.length>0){let T=q.categorys.map(R=>({...R,key:Math.random()*1e4}));m[ue]=T}else m[ue]=[{category:"",next_node_key:"",key:Math.random()*1e4}];else m[ue]=q[ue];!m.model_config_id&&l.value.length>0&&(m.model_config_id=l.value[0].id,m.use_model=l.value[0].children[0].name),y=!0,setTimeout(()=>{u("setData",{...m,node_params:JSON.stringify({cate:{...m,model_config_id:m.model_config_id?+m.model_config_id:m.model_config_id}}),showMoreBtn:c.value,height:w()})},100)}catch{}},{immediate:!0,deep:!0}),bn(()=>m,ae=>{u("setData",{...m,node_params:JSON.stringify({cate:{...m,model_config_id:m.model_config_id?+m.model_config_id:m.model_config_id}}),showMoreBtn:c.value,height:w()})},{deep:!0});function w(){let ae=464+(m.categorys.length+1)*38;return c.value?ae+210:ae}const x=()=>{m.categorys.push({category:"",next_node_key:"",key:Math.random()*1e4})},k=ae=>{m.categorys.splice(ae,1)},N=()=>{let ae=/ +【/g;m.prompt=m.prompt.replace(/\//g,"").replace(ae,"【")};function D(ae,q=""){let ue=[];return ae.forEach(T=>{let R=q?`${q}.${T.key}`:String(T.key),A=q?`${q}.${T.key}`:String(T.key);ue.push({label:R,value:A,payload:{typ:T.typ},hasSub:T.subs&&T.subs.length>0}),T.subs&&Array.isArray(T.subs)&&(ue=ue.concat(D(T.subs,R)))}),ue}function V(){let ae=o(),q=i().getNodeIncomingNode(ae.id),ue=[];q&&q.length&&q.forEach(R=>{let A=R.properties.node_type,se=R.properties.output;A==4&&se&&se.length&&(ue=D(se),ue=ue.filter(re=>!re.hasSub),ue=ue.map(re=>({...re,value:`【${re.value}】`})))});let T=[...p$(),...ue];b.value=T}const U=(ae,q)=>Promise.resolve(),B=Fe({}),G=(ae,q)=>{B.value=q},Q=nn(()=>{if(!m.model_config_id)return!1;let ae=m.model_config_id+"#"+m.use_model;return B.value[ae]});return e({}),(ae,q)=>{const ue=cr,T=Co,R=Ai,A=Q0,se=da,re=wo,de=ua,le=BD,Ae=Vr,pe=to;return oe(),we("div",{class:"form-block",onMousedown:q[13]||(q[13]=Qt(()=>{},["stop"]))},[j(pe,{ref_key:"formRef",ref:v,layout:"vertical",model:m},{default:J(()=>[L("div",m$,[q[24]||(q[24]=L("div",{class:"gray-block-title"},"输入",-1)),j(T,{label:"LLM模型",name:"use_model"},{default:J(()=>[L("div",y$,[j(Md,{modelType:"LLM",modeName:m.use_model,"onUpdate:modeName":q[0]||(q[0]=Ne=>m.use_model=Ne),modeId:m.model_config_id,"onUpdate:modeId":q[1]||(q[1]=Ne=>m.model_config_id=Ne),onLoaded:G,style:{width:"348px"}},null,8,["modeName","modeId"]),j(ue,{onClick:f},{default:J(()=>[q[14]||(q[14]=ze("高级设置 ")),c.value?(oe(),Qe(Ue(J0),{key:0})):(oe(),Qe(Ue(Od),{key:1}))]),_:1,__:[14]})])]),_:1}),c.value?(oe(),Qe(T,{key:0,name:"temperature"},{label:J(()=>[q[16]||(q[16]=L("span",null,"温度 ",-1)),j(R,null,{title:J(()=>q[15]||(q[15]=[ze("温度越低，回答越严谨。温度越高，回答越发散。")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",_$,[L("div",b$,[j(se,null,{default:J(()=>[j(A,{class:"custom-slider",value:m.temperature,"onUpdate:value":q[2]||(q[2]=Ne=>m.temperature=Ne),min:0,max:2,step:.1},null,8,["value"])]),_:1})]),L("div",C$,[j(re,{value:m.temperature,"onUpdate:value":q[3]||(q[3]=Ne=>m.temperature=Ne),min:0,max:2,step:.1},null,8,["value"])])])]),_:1})):ct("",!0),c.value?(oe(),Qe(T,{key:1,name:"max_token"},{label:J(()=>[q[18]||(q[18]=L("span",null,"最大token ",-1)),j(R,null,{title:J(()=>q[17]||(q[17]=[ze("问题+答案的最大token数，如果出现回答被截断，可调高此值")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",w$,[L("div",x$,[j(se,null,{default:J(()=>[j(A,{class:"custom-slider",value:m.max_token,"onUpdate:value":q[4]||(q[4]=Ne=>m.max_token=Ne),min:0,max:100*1024},null,8,["value"])]),_:1})]),L("div",k$,[j(re,{value:m.max_token,"onUpdate:value":q[5]||(q[5]=Ne=>m.max_token=Ne),min:0,max:100*1024},null,8,["value"])])])]),_:1})):ct("",!0),c.value&&Q.value?(oe(),Qe(T,{key:2,name:"enable_thinking"},{label:J(()=>[q[20]||(q[20]=L("span",null,"深度思考 ",-1)),j(R,null,{title:J(()=>q[19]||(q[19]=[ze("开启时，调用大模型时会指定走深度思考模式")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",S$,[j(de,{checked:m.enable_thinking,"onUpdate:checked":q[6]||(q[6]=Ne=>m.enable_thinking=Ne)},null,8,["checked"])])]),_:1})):ct("",!0),j(T,{name:"context_pair"},{label:J(()=>[q[22]||(q[22]=L("span",null,"上下文数量 ",-1)),j(R,null,{title:J(()=>q[21]||(q[21]=[ze("提示词中携带的历史聊天记录轮次。设置为0则不携带聊天记录。最多设置50轮。注意，携带的历史聊天记录越多，消耗的token相应也就越多。")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",E$,[L("div",M$,[j(se,null,{default:J(()=>[j(A,{class:"custom-slider",value:m.context_pair,"onUpdate:value":q[7]||(q[7]=Ne=>m.context_pair=Ne),min:0,max:50},null,8,["value"])]),_:1})]),L("div",O$,[j(re,{value:m.context_pair,"onUpdate:value":q[8]||(q[8]=Ne=>m.context_pair=Ne),min:0,max:50},null,8,["value"])])])]),_:1}),ct("",!0),q[25]||(q[25]=L("div",{class:"diy-form-item"},[L("div",{class:"form-label"},"用户问题"),L("div",{class:"form-content"},"流程开始>用户问题")],-1))]),L("div",A$,[q[27]||(q[27]=L("div",{class:"gray-block-title"},"问题分类设置",-1)),L("div",L$,[(oe(!0),we(Et,null,Rt(m.categorys,(Ne,Ve)=>(oe(),we("div",{class:"form-item-list",key:Ne.key},[j(T,{label:null,name:["categorys",Ve,"category"],rules:{required:!0,validator:(Ie,Oe)=>U(Ie,Oe)}},{default:J(()=>[L("div",T$,[j(Ae,{class:"flex1",value:Ne.category,"onUpdate:value":Ie=>Ne.category=Ie,placeholder:"请输入"},null,8,["value","onUpdate:value"]),L("div",{class:"btn-hover-wrap",onClick:Ie=>k(Ve)},[j(Ue(Or))],8,N$)])]),_:2},1032,["name","rules"])]))),128)),L("div",D$,[j(T,{label:null},{default:J(()=>[L("div",P$,[j(Ae,{class:"flex1",value:"默认分类",readonly:""})])]),_:1})]),j(ue,{onClick:x,icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>q[26]||(q[26]=[ze("添加问题分类")])),_:1,__:[26]},8,["icon"])])])]),_:1},8,["model"])],32)}}},H$=Ct(R$,[["__scopeId","data-v-628a6457"]]),I$={name:"QuestionNode",components:{NodeCommon:lr,FormBlock:H$},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(n){this.setData({...n})}},mounted(){}},B$={class:"question-node"};function j$(n,e,t,r,i,o){const a=Kt("FormBlock"),l=Kt("node-common");return oe(),Qe(l,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",B$,[e[0]||(e[0]=L("div",{class:"node-desc"},"由大模型判断用户消息属于哪个分类，不同分类走不同分支",-1)),j(a,{onSetData:o.handleSetData,properties:t.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const F$=Ct(I$,[["render",j$],["__scopeId","data-v-0088e0e6"]]);let V$=class extends sr{constructor(e){super(e),this.renderVue(F$,e)}},$$=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getAnchorPos(){return h$(this.properties)}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;let c=[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e}],f=this.getAnchorPos(),v=r-o/2;for(let m=0;m<f.length;m++){let{offsetTop:y,offsetHeight:_}=f[m];c.push({id:f[m].id,x:t+i/2,y:v+y+_/2,type:"right"})}return c.push({id:u+"-anchor_right",x:t+i/2,y:v+428+f.length*34-16,type:"right",nodeId:e}),c}};const W$={type:"question-node",model:$$,view:V$},z$={name:"QuestionNode",components:{NodeCommon:lr},inject:["getNode","getGraph"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},mounted(){},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}}}},U$={class:"question-node"},G$={class:"node-desc"};function X$(n,e,t,r,i,o){const a=Kt("node-common");return oe(),Qe(a,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",U$,[L("div",G$,rt(t.properties.content||"点击设置消息内容"),1)])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","onHandleMenu"])}const Z$=Ct(z$,[["render",X$],["__scopeId","data-v-2201925d"]]);let Y$=class extends sr{constructor(e){super(e),this.renderVue(Z$,e)}},q$=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;let c=[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e}];return this.properties.node_type!=5&&c.push({x:t+i/2,y:r-o/2+24,id:u+"-anchor_right",type:"right",nodeId:e}),c}};const K$={type:"action-node",model:q$,view:Y$},J$={name:"QuestionNode",components:{NodeCommon:lr},inject:["getNode","getGraph"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},secondsToMinutes(n){return _w(n)}}},Q$={class:"qa-node"},eW={key:0,class:"no-data"};function tW(n,e,t,r,i,o){const a=Kt("node-common");return oe(),Qe(a,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",Q$,[t.properties.no_resp_jump_time?ct("",!0):(oe(),we("div",eW,"点击设置消息内容"))])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","onHandleMenu"])}const nW=Ct(J$,[["render",tW],["__scopeId","data-v-745358a5"]]);let rW=class extends sr{constructor(e){super(e),this.renderVue(nW,e)}},iW=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+24,id:u+"-anchor_right",type:"right",nodeId:e}]}};const oW={type:"qa-node",model:iW,view:rW},sW={name:"CascadePanel",props:{options:{type:Array,default:()=>[]},value:{type:[String,Number,Array],default:""},checkAnyLevel:{type:Boolean,default:!1},childrenKey:{type:String,default:"children"},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"}},data(){return{activePath:[],selectedValuePath:[],selectedPath:[]}},watch:{options:{handler(){this.initPanel()},immediate:!0},value:{handler(n){n&&this.initSelectedPath()},immediate:!0}},methods:{initPanel(){if(!this.options||this.options.length===0){this.activePath=[];return}this.activePath=[{title:"",options:this.options,level:0}],this.value&&this.initSelectedPath()},initSelectedPath(){Array.isArray(this.value)?(this.selectedValuePath=[...this.value],this.findPathByValues(this.selectedValuePath)):this.findPathByValue(this.value)},findPathByValue(n){const e=[],t=[],r=(i,o)=>{if(!i||i.length===0)return!1;for(let a=0;a<i.length;a++){const l=i[a],u=l[this.valueKey];if(u===n)return e[o]=l,t[o]=u,!0;if(l[this.childrenKey]&&l[this.childrenKey].length>0){if(e[o]=l,t[o]=u,r(l[this.childrenKey],o+1))return!0;e[o]=null,t[o]=null}}return!1};r(this.options,0),this.selectedPath=e.filter(i=>i),this.selectedValuePath=t.filter(i=>i!=null),this.updateActivePath()},findPathByValues(n){if(!n||n.length===0)return;const e=[];let t=this.options;for(let r=0;r<n.length;r++){const i=n[r],o=t.find(a=>a[this.valueKey]===i);if(o)e.push(o),t=o[this.childrenKey]||[];else break}this.selectedPath=e,this.updateActivePath()},updateActivePath(){if(!this.selectedPath||this.selectedPath.length===0){this.activePath=[{title:"",options:this.options,level:0}];return}this.activePath=[],this.activePath.push({title:"",options:this.options,level:0});for(let n=0;n<this.selectedPath.length;n++){const e=this.selectedPath[n];e[this.childrenKey]&&e[this.childrenKey].length>0&&this.activePath.push({title:e[this.labelKey],options:e[this.childrenKey],level:n+1})}},handleSelect(n,e){this.selectedPath=this.selectedPath.slice(0,e),this.selectedPath.push(n),this.selectedValuePath=this.selectedValuePath.slice(0,e),this.selectedValuePath.push(n[this.valueKey]),this.activePath=this.activePath.slice(0,e+1),this.hasChildren(n)&&this.activePath.push({title:n[this.labelKey],options:n[this.childrenKey],level:e+1}),this.$emit("select",n,this.selectedPath,e),(this.checkAnyLevel||!this.hasChildren(n))&&(this.$emit("change",n[this.valueKey],this.selectedValuePath,this.selectedPath),this.$emit("input",this.checkAnyLevel?this.selectedValuePath:n[this.valueKey]))},isActive(n,e){return!this.selectedPath||this.selectedPath.length<=e?!1:n[this.valueKey]===this.selectedPath[e][this.valueKey]},hasChildren(n){return n[this.childrenKey]&&n[this.childrenKey].length>0},reset(){this.selectedPath=[],this.selectedValuePath=[],this.initPanel()}}},aW={class:"cascade-panel"},lW={class:"cascade-panel-container"},uW={class:"cascade-panel-body"},dW=["onClick"],cW={class:"item-content"},fW={class:"item-label"},hW={key:0,class:"item-icon"},pW={key:0,class:"cascade-panel-empty"};function vW(n,e,t,r,i,o){return oe(),we("div",aW,[L("div",lW,[(oe(!0),we(Et,null,Rt(i.activePath,(a,l)=>(oe(),we("div",{class:"cascade-panel-list",key:l},[L("div",uW,[(oe(!0),we(Et,null,Rt(a.options,u=>(oe(),we("div",{class:Lr(["cascade-panel-item",{active:o.isActive(u,l)}]),key:u.value,onClick:c=>o.handleSelect(u,l)},[L("div",cW,[L("span",fW,rt(u.label),1),o.hasChildren(u)?(oe(),we("span",hW,e[0]||(e[0]=[L("svg",{viewBox:"0 0 1024 1024",width:"12",height:"12"},[L("path",{d:"M765.7 486.8L314.9 134.7c-5.3-4.1-12.9-0.4-12.9 6.3v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1c16.4-12.8 16.4-37.6 0-50.4z",fill:"currentColor"})],-1)]))):ct("",!0)])],10,dW))),128)),a.options&&a.options.length===0?(oe(),we("div",pW," 暂无数据 ")):ct("",!0)])]))),128))])])}const gW=Ct(sW,[["render",vW],["__scopeId","data-v-4e1ab9d6"]]),G_=n=>{let e=[];return n.forEach(t=>{t.children&&t.children.length>0?e.push(...G_(t.children)):e.push(t)}),e},mW={name:"JMention",components:{CascadePanel:gW},inject:["getNode","getGraph","setData"],emits:["input","change","update:selectedList","focus","open"],props:{type:{type:String,default:"input",validator(n){return["input","textarea"].includes(n)}},placeholder:{type:String,default:"请输入"},defaultValue:{type:String,default:""},options:{type:Array,default:()=>[]},defaultSelectedList:{type:Array,default:()=>[]},canRepeat:{type:Boolean,default:!0},isContain:{type:Boolean,default:!1},inputStyle:{type:String,default:""}},data(){return{timer:null,showDropdown:!1,showAtList:!1,positionStyle:"",chooseIndex:0,selectedList:[],selectedIdSet:new Set,showOptions:[],atText:"",localValue:""}},watch:{defaultValue(n){(!n||n=="")&&this.refresh()},chooseIndex(){},showAtList(n){this.onOpen(n)},options(){this.initShowOptionList()}},mounted(){const n=this.getGraph();this.initShowOptionList(),document.addEventListener("dragstart",this.handleDragstart),document.addEventListener("click",this.handleClick),document.addEventListener("scroll",this.onScroll),n.eventCenter.on("node:dragstart, blank:dragstart, graph:transform",this.hideDropdownMenus),this.initData()},beforeUnmount(){const n=this.getGraph();document.removeEventListener("dragstart",this.handleDragstart),document.removeEventListener("click",this.handleClick),document.removeEventListener("scroll",this.onScroll),n.eventCenter.off("node:dragstart, blank:dragstart, graph:transform",this.hideDropdownMenus)},methods:{handleClick(n){n.target.closest(".dropdown-list")||this.hideDropdownMenus()},handleDragstart(n){n.target.closest(".dropdown-list")&&n.preventDefault()},onScroll(){this.hideDropdownMenus()},hideDropdownMenus(){this.showDropdown=!1,this.showAtList=!1},onFocus(){this.$emit("focus")},onOpen(n){this.$emit("open",n)},getText(n){const e=document.createElement("div");e.innerHTML=n;let t="";return Array.from(e.childNodes).forEach(r=>{let i="";this.type==="textarea"?r.nodeName==="BR"?i=`
`:r.classList&&r.classList.contains("j-mention-at")?i=r.dataset.value:i=r.textContent:r.classList&&r.classList.contains("j-mention-at")?i=r.dataset.value:r.nodeName==="BR"?i="":i=r.textContent.replace(/\n/g,""),(i==="&nbsp;"||i===" ")&&(i=""),t+=i}),t},onChange(){let e=this.$refs.JMention.innerHTML,t=this.getText(e);this.localValue=t;let r={};this.selectedList.forEach(o=>{!r[o.value]&&t.indexOf(o.value)!==-1&&(r[o.value]=o)});let i=Object.values(r);this.$emit("change",t,i)},refresh(){this.selectedList=[],this.selectedIdSet=new Set,this.initShowOptionList(),this.initData()},initData(){const n=this.$refs.JMention;let e=this.defaultValue.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=this.defaultSelectedList||[],r=G_(this.options),i=[...t,...r].filter(a=>a&&a.value&&a.value!=""&&a.typ!=="node");const o=new Set;i.forEach(a=>{const l=new RegExp(`(${a.value})`,"g");if(l.test(this.defaultValue)&&!o.has(a.value)){let u=a.node_name+"."+a.text;u=u.replace(/\./g,"/"),e=e.replace(l,`<span class="j-mention-at" data-id="${a.node_id}" contentEditable="false" data-value="${a.value}">${u}</span> `),o.add(a.value),this.selectOption(a,!0)}}),n.innerHTML=e,this.localValue=this.defaultValue},initShowOptionList(){this.showOptions=this.options.filter(n=>this.atText?n.label.startsWith(this.atText):this.canRepeat?!0:!this.selectedIdSet.has(n.id+""))},dropDownKeydown(n){const{keyCode:e}=n;if(!this.showDropdown){if(e===13&&this.type==="input"){n.preventDefault(),n.stopPropagation();return}return}if(![13,38,40].includes(e)||(n.preventDefault(),n.stopPropagation(),e===13))return;const r={38:-1,40:1};this.chooseIndex+=r[e]||0,this.chooseIndex=Math.max(0,Math.min(this.chooseIndex,this.showOptions.length-1))},getLastChar(n=1){const e=window.getSelection();if(e.rangeCount<=0)return;const t=e.getRangeAt(0),r=t.startOffset,i=t.startContainer;let o="";if(i.nodeType===Node.TEXT_NODE)o=i.textContent.slice(0,r);else if(i.nodeType===Node.ELEMENT_NODE){const a=i.childNodes;for(let l=0;l<a.length;l++){const u=a[l];u.nodeType===Node.TEXT_NODE&&(l===a.length-1?o+=u.textContent.slice(0,r):o+=u.textContent)}}return o.slice(-n)},getLastAtText(){const n=window.getSelection();if(n.rangeCount<=0)return;const e=n.getRangeAt(0),t=e.startOffset,r=e.startContainer;let i="";if(r.nodeType===Node.TEXT_NODE)i=r.textContent.slice(0,t);else if(r.nodeType===Node.ELEMENT_NODE){const a=r.childNodes;for(let l=0;l<a.length;l++){const u=a[l];u.nodeType===Node.TEXT_NODE&&(l===a.length-1?i+=u.textContent.slice(0,t):i+=u.textContent)}}const o=i.lastIndexOf("/");return o===-1?"":i.slice(o+1)},async getCaretPosition(){const n=window.getSelection();if(n.rangeCount<=0)return{top:0,left:0};const t=n.getRangeAt(0).getBoundingClientRect(),r=await this.getDropdownListSize();let i=t.bottom,o=t.left;const a=window.innerWidth,l=window.innerHeight;return o+r.width>a&&(o=a-r.width),i+r.height>l&&(i=t.top-r.height),{top:i,left:o,x:o,y:i}},async getDropdownListSize(){this.showDropdown=!0,await this.$nextTick();const n=this.$refs.dropdownList.offsetWidth,e=this.$refs.dropdownList.offsetHeight;return this.showDropdown=!1,{width:n,height:e}},updateSelectedList(){const e=this.$refs.JMention.querySelectorAll(".j-mention-at");this.selectedList=[],this.selectedIdSet=new Set;for(const t of e){let r=t.dataset.value;const i=this.options.find(o=>o.value==r);this.selectedList.push(i),this.selectedIdSet.add(r)}this.$emit("update:selectedList",this.selectedList),!(e.length===this.selectedList.length&&!this.atText&&!this.showDropdown)&&this.initShowOptionList()},checkStartWith(n){return this.options.filter(t=>t.label.startsWith(n)).length>0},updateValue(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>{this.onChange()},100)},clickJMention(){this.showDropdown=!1,this.showAtList=!1},async divInput(n){this.updateValue();const e=this.getLastChar();if(n.inputType==="deleteContentBackward"&&!this.atText&&(this.showDropdown=!1,this.showAtList=!1),e==="/")this.showDropdown=!0,this.atText="";else{const i=this.getLastAtText();this.atText=i;const o=this.checkStartWith(i);i&&(this.showDropdown=o)}if(!this.showDropdown)return;const{x:t,y:r}=await this.getCaretPosition();this.showDropdown=!0,this.positionStyle="",this.positionStyle+=`left:${t}px;`,this.positionStyle+=`top:${r}px;`,this.chooseIndex=0,this.showAtList=!0},insertAtCaret(n,e){let t=this.atText.length+1;this.getLastChar(t)!=="/"+this.atText&&(t=0);const i=window.getSelection();if(i.rangeCount<=0)return;const o=i.getRangeAt(0),a=o.startOffset,l=o.startContainer;let u=a-t,c=l;if(u<0){let f=l.previousSibling;for(;f;){if(f.nodeType===Node.TEXT_NODE){u=f.textContent.length-t,c=f;break}f=f.previousSibling}}if(c.nodeType===Node.TEXT_NODE){c.replaceData(u,t," ");const f=document.createElement("span");f.contentEditable="false",f.classList.add("j-mention-at"),f.style=this.atTextStyle,f.textContent=`${n}`;const v=document.createElement("span");v.contentEditable=!0,v.innerHTML+="&nbsp;",v.classList.add("at-space");for(const _ in e)f.dataset[_]=e[_];const m=document.createRange();m.setStart(c,u),m.insertNode(f);let y=f.nextSibling;y||(y=document.createTextNode(""),v.parentNode.appendChild(y)),o.setStart(y,1),o.setEnd(y,1),i.removeAllRanges(),i.addRange(o)}},onSelectOption(n,e,t){let r=t[t.length-1];delete r.children,this.selectOption(r)},selectOption(n,e=!1){if(!n)return;this.showDropdown=!1,this.showAtList=!1;let t=n.node_name+"."+n.text;t=t.replace(/\./g,"/");const r={id:n.id,label:n.label,value:n.value,text:n.text,index:this.selectedList.length};this.selectedList.push(n),this.selectedIdSet.add(n.value),e||(this.insertAtCaret(t,r),this.initShowOptionList(),this.updateValue())}}},yW={style:{width:"100%",position:"relative"}},_W={class:"mention-input-warpper",ref:"JMentionContainer"},bW=["placeholder"],CW={key:0,class:"placeholder"};function wW(n,e,t,r,i,o){const a=Kt("CascadePanel");return oe(),we("div",yW,[e[5]||(e[5]=L("div",null,null,-1)),(oe(),Qe(q5,{to:"body"},[i.showDropdown?(oe(),we("div",{key:0,class:"dropdown-list",ref:"dropdownList",style:yo(i.positionStyle)},[j(a,{options:i.showOptions,onChange:o.onSelectOption},null,8,["options","onChange"])],4)):ct("",!0)])),L("div",_W,[L("div",{ref:"JMention",style:yo([t.inputStyle]),class:Lr(["j-mention",[{"show-placeholder":i.localValue.length==0},"type-"+t.type]]),contenteditable:"plaintext-only",placeholder:t.placeholder,onWheel:e[0]||(e[0]=Qt(()=>{},["stop"])),onFocus:e[1]||(e[1]=(...l)=>o.onFocus&&o.onFocus(...l)),onInput:e[2]||(e[2]=(...l)=>o.divInput&&o.divInput(...l)),onKeydown:e[3]||(e[3]=(...l)=>o.dropDownKeydown&&o.dropDownKeydown(...l)),onClick:e[4]||(e[4]=(...l)=>o.clickJMention&&o.clickJMention(...l))},null,46,bW),i.localValue.length==0?(oe(),we("span",CW,rt(t.placeholder),1)):ct("",!0)],512)])}const Hr=Ct(mW,[["render",wW],["__scopeId","data-v-04156cdd"]]),xW={class:"input-box"},kW={__name:"full-at-input",props:{options:{type:Array,default:()=>[]},defaultSelectedList:{type:Array,default:()=>[]},defaultValue:{type:String,default:""},placeholder:{type:String,default:"请输入消息内容，键入“/”可以插入变量"},type:{type:String,default:"textarea"}},emits:["open","change","ok"],setup(n,{expose:e,emit:t}){const r=Fe(!1),i=t;bn(()=>r.value,v=>{v||i("ok")});const o=n,a=Fe(null),l=()=>{r.value=!0,wi(()=>{a.value.refresh()})},u=v=>{i("open",v)},c=(v,m)=>{i("change",v,m)},f=()=>{r.value=!1};return e({show:l}),(v,m)=>{const y=cr,_=Mi;return oe(),we("div",null,[j(_,{open:r.value,"onUpdate:open":m[1]||(m[1]=b=>r.value=b),title:"字段详情",width:746},{footer:J(()=>[j(y,{type:"primary",onClick:f},{default:J(()=>m[2]||(m[2]=[ze("确定")])),_:1,__:[2]})]),default:J(()=>[L("div",xW,[j(Hr,{inputStyle:"height: 550px;",options:o.options,defaultSelectedList:o.defaultSelectedList,defaultValue:o.defaultValue,placeholder:o.placeholder,type:o.type,ref_key:"atInputRef",ref:a,onOpen:u,onChange:m[0]||(m[0]=(b,w)=>c(b,w))},null,8,["options","defaultSelectedList","defaultValue","placeholder","type"])])]),_:1},8,["open"])])}}},X_=Ct(kW,[["__scopeId","data-v-725e87a7"]]),SW={class:"gray-block"},EW={class:"flex-block-item"},MW={class:"number-box"},OW={class:"number-slider-box"},AW={class:"number-input-box"},LW={class:"number-box"},TW={class:"number-slider-box"},NW={class:"number-input-box"},DW={class:"number-box"},PW={class:"number-box"},RW={class:"number-slider-box"},HW={class:"number-input-box"},IW={class:"space-between-box"},BW={class:"field-list-item"},jW={class:"field-label"},FW={class:"field-type"},VW={class:"diy-form-item"},$W={class:"form-content"},WW={class:"diy-form-item mt12"},zW={class:"form-content"},UW={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(n,{expose:e,emit:t}){const r=Qs(),i=Cn("getGraph"),o=Cn("getNode"),a=n,l=Fe(null),u=nn(()=>r.modelList);Fe(!1);const c=Fe([]),f=Fe([]),v=Fe(!1),m=()=>{v.value=!v.value,w("setData",{height:v.value?890:684})},y=(de,le)=>{k.prompt=de,k.prompt_tags=le},_=()=>{let de=o().getAllParentVariable();c.value=de};function b(de){if(de){let le=de.split("."),Ae=le[0],pe=le.filter((Ne,Ve)=>Ve>0).join(".");return[Ae,pe]}return["global","question"]}const w=t,x=Fe(),k=Pn({model_config_id:void 0,use_model:void 0,temperature:0,max_token:0,context_pair:0,prompt:"",prompt_tags:[],question_value:"",enable_thinking:!1,libs_node_key:void 0});let N=!1;bn(()=>a.properties,de=>{try{if(N)return;let le=de.dataRaw||de.node_params||"{}",Ae=JSON.parse(le).llm||{};Ae=JSON.parse(JSON.stringify(Ae));let{model_config_id:pe,use_model:Ne,context_pair:Ve,temperature:Ie,max_token:Oe,prompt:$,prompt_tags:he,question_value:ge,enable_thinking:be,libs_node_key:Be}=Ae;_(),G(),k.model_config_id=pe,k.use_model=Ne,k.context_pair=Ve||0,k.temperature=Ie,k.max_token=Oe,k.prompt=$,k.enable_thinking=be,k.prompt_tags=he||[],k.libs_node_key=Be,k.question_value=b(ge),!k.model_config_id&&u.value.length>0&&(k.model_config_id=u.value[0].id,k.use_model=u.value[0].children[0].name),N=!0,setTimeout(()=>{w("setData",{...k,node_params:JSON.stringify({llm:{...k,question_value:k.question_value.join("."),model_config_id:k.model_config_id?+k.model_config_id:k.model_config_id}})})},100)}catch(le){}},{immediate:!0,deep:!0}),bn(()=>k,de=>{w("setData",{...k,node_params:JSON.stringify({llm:{...k,question_value:k.question_value.join("."),model_config_id:k.model_config_id?+k.model_config_id:k.model_config_id}})})},{deep:!0});const D=de=>{fa.includes(de.node_type)&&(_(),wi(()=>{k.prompt_tags&&k.prompt_tags.length>0&&(k.prompt_tags.forEach(le=>{if(le.node_id==de.node_id){let Ae=le.label.split("/");Ae[0]=de.node_name,le.label=Ae.join("/"),le.node_name=de.node_name}}),l.value.refresh())}))},V=Fe(null),U=()=>{V.value.show()},B=de=>{k.prompt="",de.prompt_type==1?k.prompt=de.markdown:k.prompt=de.prompt,wi(()=>{l.value.initData()})};function G(){let de=o().getAllParentVariable();f.value=ae(de)}const Q=nn(()=>f.value.filter(le=>le.node_type==5));function ae(de){return de.forEach(le=>{le.typ=="node"?le.node_type==1?le.value="global":le.value=le.node_id:le.value=le.key,le.children&&le.children.length>0&&(le.children=ae(le.children))}),de}const q=de=>{de&&G()},ue=Fe({}),T=(de,le)=>{ue.value=le},R=nn(()=>{if(!k.model_config_id)return!1;let de=k.model_config_id+"#"+k.use_model;return ue.value[de]}),A=Fe(null),se=()=>{A.value.show()},re=()=>{l.value.refresh()};return or(()=>{i().eventCenter.on("custom:setNodeName",D)}),vs(()=>{i().eventCenter.off("custom:setNodeName",D)}),e({}),(de,le)=>{const Ae=cr,pe=Co,Ne=Ai,Ve=Q0,Ie=da,Oe=wo,$=ua,he=hl,ge=pl,be=ei,Be=Qr,xe=to;return oe(),we("div",{class:"form-block",onMousedown:le[13]||(le[13]=Qt(()=>{},["stop"]))},[j(xe,{ref_key:"formRef",ref:x,layout:"vertical",model:k},{default:J(()=>[L("div",SW,[le[28]||(le[28]=L("div",{class:"gray-block-title"},"输入",-1)),j(pe,{label:"LLM模型",name:"use_model"},{default:J(()=>[L("div",EW,[j(Md,{modelType:"LLM",modeName:k.use_model,"onUpdate:modeName":le[0]||(le[0]=Re=>k.use_model=Re),modeId:k.model_config_id,"onUpdate:modeId":le[1]||(le[1]=Re=>k.model_config_id=Re),onLoaded:T,style:{width:"348px"}},null,8,["modeName","modeId"]),j(Ae,{onClick:m},{default:J(()=>[le[14]||(le[14]=ze("高级设置 ")),v.value?(oe(),Qe(Ue(J0),{key:0})):(oe(),Qe(Ue(Od),{key:1}))]),_:1,__:[14]})])]),_:1}),v.value?(oe(),Qe(pe,{key:0,name:"temperature"},{label:J(()=>[le[16]||(le[16]=L("span",null,"温度 ",-1)),j(Ne,null,{title:J(()=>le[15]||(le[15]=[ze("温度越低，回答越严谨。温度越高，回答越发散。")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",MW,[L("div",OW,[j(Ie,null,{default:J(()=>[j(Ve,{class:"custom-slider",value:k.temperature,"onUpdate:value":le[2]||(le[2]=Re=>k.temperature=Re),min:0,max:2,step:.1},null,8,["value"])]),_:1})]),L("div",AW,[j(Oe,{value:k.temperature,"onUpdate:value":le[3]||(le[3]=Re=>k.temperature=Re),min:0,max:2,step:.1},null,8,["value"])])])]),_:1})):ct("",!0),v.value?(oe(),Qe(pe,{key:1,name:"max_token"},{label:J(()=>[le[18]||(le[18]=L("span",null,"最大token ",-1)),j(Ne,null,{title:J(()=>le[17]||(le[17]=[ze("问题+答案的最大token数，如果出现回答被截断，可调高此值")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",LW,[L("div",TW,[j(Ie,null,{default:J(()=>[j(Ve,{class:"custom-slider",value:k.max_token,"onUpdate:value":le[4]||(le[4]=Re=>k.max_token=Re),min:0,max:100*1024},null,8,["value"])]),_:1})]),L("div",NW,[j(Oe,{value:k.max_token,"onUpdate:value":le[5]||(le[5]=Re=>k.max_token=Re),min:0,max:100*1024},null,8,["value"])])])]),_:1})):ct("",!0),v.value&&R.value?(oe(),Qe(pe,{key:2,name:"enable_thinking"},{label:J(()=>[le[20]||(le[20]=L("span",null,"深度思考 ",-1)),j(Ne,null,{title:J(()=>le[19]||(le[19]=[ze("开启时，调用大模型时会指定走深度思考模式")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",DW,[j($,{checked:k.enable_thinking,"onUpdate:checked":le[6]||(le[6]=Re=>k.enable_thinking=Re)},null,8,["checked"])])]),_:1})):ct("",!0),j(pe,{name:"context_pair"},{label:J(()=>[le[22]||(le[22]=L("span",null,"上下文数量 ",-1)),j(Ne,null,{title:J(()=>le[21]||(le[21]=[ze("提示词中携带的历史聊天记录轮次。设置为0则不携带聊天记录。最多设置50轮。注意，携带的历史聊天记录越多，消耗的token相应也就越多。")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",PW,[L("div",RW,[j(Ie,null,{default:J(()=>[j(Ve,{class:"custom-slider",value:k.context_pair,"onUpdate:value":le[7]||(le[7]=Re=>k.context_pair=Re),min:0,max:50},null,8,["value"])]),_:1})]),L("div",HW,[j(Oe,{value:k.context_pair,"onUpdate:value":le[8]||(le[8]=Re=>k.context_pair=Re),min:0,max:50},null,8,["value"])])])]),_:1}),j(pe,{name:"prompt",class:"width-100"},{label:J(()=>[L("div",IW,[le[24]||(le[24]=L("div",null,"提示词",-1)),j(he,{gap:8},{default:J(()=>[L("div",{class:"btn-hover-wrap",onClick:U},[j(Ue(Lx)),le[23]||(le[23]=ze("从提示词库导入 "))]),L("div",{class:"btn-hover-wrap",onClick:se},[j(Ue(n2))])]),_:1})])]),default:J(()=>[j(Hr,{type:"textarea",inputStyle:"height: 100px;",options:c.value,defaultSelectedList:k.prompt_tags,defaultValue:k.prompt,ref_key:"atInputRef",ref:l,onOpen:_,onChange:le[9]||(le[9]=(Re,st)=>y(Re,st)),placeholder:"请输入消息内容，键入“/”可以插入变量"},{option:J(({label:Re,payload:st})=>[L("div",BW,[L("div",jW,rt(Re),1),L("div",FW,rt(st.typ),1)])]),_:1},8,["options","defaultSelectedList","defaultValue"]),le[25]||(le[25]=L("div",{class:"form-tip"},"输入 / 插入变量",-1))]),_:1,__:[25]}),L("div",VW,[le[26]||(le[26]=L("div",{class:"form-label"},"用户问题",-1)),L("div",$W,[j(ge,{value:k.question_value,"onUpdate:value":le[10]||(le[10]=Re=>k.question_value=Re),onDropdownVisibleChange:q,style:{width:"220px"},options:f.value,allowClear:!1,displayRender:({labels:Re})=>Re.join("/"),"field-names":{children:"children"},placeholder:"请选择"},null,8,["value","options","displayRender"])])]),L("div",WW,[le[27]||(le[27]=L("div",{class:"form-label"},"知识库引用",-1)),L("div",zW,[j(Be,{placeholder:"请选择",allowClear:"",onDropdownVisibleChange:q,value:k.libs_node_key,"onUpdate:value":le[11]||(le[11]=Re=>k.libs_node_key=Re),style:{width:"220px"}},{default:J(()=>[(oe(!0),we(Et,null,Rt(Q.value,Re=>(oe(),Qe(be,{value:Re.node_id,key:Re.node_id},{default:J(()=>[ze(rt(Re.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])])])]),le[29]||(le[29]=L("div",{class:"gray-block mt16"},[L("div",{class:"gray-block-title"},"输出"),L("div",{class:"options-item"},[L("div",{class:"option-label"},"AI回复内容"),L("div",{class:"option-type"},"string")])],-1))]),_:1,__:[29]},8,["model"]),j(py,{onOk:B,ref_key:"importPromptRef",ref:V},null,512),j(X_,{options:c.value,defaultSelectedList:k.prompt_tags,defaultValue:k.prompt,placeholder:"请输入消息内容，键入“/”可以插入变量",type:"textarea",onOpen:_,onChange:le[12]||(le[12]=(Re,st)=>y(Re,st)),onOk:re,ref_key:"fullAtInputRef",ref:A},null,8,["options","defaultSelectedList","defaultValue"])],32)}}},GW=Ct(UW,[["__scopeId","data-v-10709224"]]),XW={name:"AiDialogueNode",components:{NodeCommon:lr,FormBlock:GW},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(n){this.setData({...n})}},mounted(){}},ZW={class:"ai-dialogue-node"};function YW(n,e,t,r,i,o){const a=Kt("FormBlock"),l=Kt("node-common");return oe(),Qe(l,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",ZW,[e[0]||(e[0]=L("div",{class:"node-desc"},"调用大模型，生成回复。",-1)),j(a,{onSetData:o.handleSetData,properties:t.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const qW=Ct(XW,[["render",YW],["__scopeId","data-v-93080c85"]]);let KW=class extends sr{constructor(e){super(e),this.renderVue(qW,e)}},JW=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+24,id:u+"-anchor_right",type:"right",nodeId:e}]}};const QW={type:"ai-dialogue-node",model:JW,view:KW},dl="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20class='design-iconfont'%3e%3cpath%20d='M10%200V16M10%2032V16M10%2016H23'%20stroke='%23BFBFBF'%20stroke-linejoin='round'/%3e%3c/svg%3e",ez={class:"sub-field-item"},tz=["onClick"],nz=["onClick"],rz={__name:"subs-key",props:{data:{},level:{type:Number},typOptions:{type:Array}},setup(n){const e=n,t=nn(()=>e.level>2?e.typOptions.filter(u=>u.value!="object"):e.typOptions),r=nn(()=>e.level==2?"180px":"146px"),i=(u,c)=>{c[u].subs.push({key:"",value:"",subs:[],cu_key:Math.random()*1e4})},o=(u,c)=>{c.splice(u,1)},a=u=>{u.subs=[]},l=u=>u.typ=="object"&&e.level<=2;return(u,c)=>{const f=Vr,v=ei,m=Qr,y=Kt("SubsKey",!0);return oe(!0),we(Et,null,Rt(e.data,(_,b)=>(oe(),we("div",{class:Lr(["sub-field-item-box",`sub-field-item-box_${e.level}`]),key:_.cu_key},[L("div",ez,[c[0]||(c[0]=L("img",{class:"fork-icon",src:dl,alt:""},null,-1)),j(f,{class:"mr12",style:yo({width:r.value}),value:_.key,"onUpdate:value":w=>_.key=w,placeholder:"请输入"},null,8,["style","value","onUpdate:value"]),c[1]||(c[1]=L("img",{class:"fork-icon",src:dl,alt:""},null,-1)),j(m,{class:"mr12",onChange:w=>a(_),value:_.typ,"onUpdate:value":w=>_.typ=w,placeholder:"请选择",style:yo({width:r.value})},{default:J(()=>[(oe(!0),we(Et,null,Rt(t.value,w=>(oe(),Qe(v,{value:w.value},{default:J(()=>[ze(rt(w.value),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["onChange","value","onUpdate:value","style"]),l(_)?(oe(),we("div",{key:0,class:"btn-hover-wrap mr12",onClick:w=>i(b,e.data)},[j(Ue(vl))],8,tz)):ct("",!0),L("div",{class:"btn-hover-wrap",onClick:w=>o(b,e.data)},[j(Ue(Or))],8,nz)]),_.subs&&_.subs.length>0?(oe(),Qe(y,{key:0,level:e.level+1,typOptions:e.typOptions,data:_.subs},null,8,["level","typOptions","data"])):ct("",!0)],2))),128)}}},iz=Ct(rz,[["__scopeId","data-v-a4534228"]]),oz={class:"form-block"},sz={class:"gray-block"},az={class:"flex-block-item"},lz={class:"field-list-item"},uz={class:"field-label"},dz={class:"field-type"},cz=["onClick"],fz={class:"flex-block-item"},hz={class:"field-list-item"},pz={class:"field-label"},vz={class:"field-type"},gz=["onClick"],mz={key:0,class:"array-form-box"},yz={class:"flex-block-item"},_z={class:"field-list-item"},bz={class:"field-label"},Cz={class:"field-type"},wz=["onClick"],xz={class:"field-list-item"},kz={class:"field-label"},Sz={class:"field-type"},Ez={class:"flex-block-item"},Mz={class:"gray-block mt16"},Oz={class:"output-box"},Az={class:"flex-block-item",style:{gap:"12px"}},Lz=["onClick"],Tz=["onClick"],Nz={key:0,class:"sub-field-box"},Dz={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(n,{expose:e,emit:t}){const r=Cn("getGraph"),i=Cn("getNode"),o=n,a=t,l=Pn({}),u=(se,re,de)=>{if(se){let le=`at_input_${re}_${de}`;l[le]=se}},c=(se,re,de,le)=>{se=="body_raw"?(m.body_raw=re,m.body_raw_tags=de):(le.tags=de,le.value=re)},f=()=>{let se=i().getAllParentVariable();se.forEach(re=>{re.tags=re.tags||[]}),b.value=se},v=Fe(),m=Pn({method:"POST",rawurl:"",headers:[{key:"",value:""}],params:[{key:"",value:""}],type:1,body:[],body_raw:"",body_raw_tags:[],timeout:30,output:[{key:"",typ:"",subs:[]}]});function y(se){return se.forEach(re=>{re.cu_key=Math.random()*1e4,re.subs&&re.subs.length?y(re.subs):re.subs=[]}),se}let _=!1;const b=Fe([]);Fe(!1),bn(()=>o.properties,se=>{try{if(_)return;f();let re=se.dataRaw||se.node_params||"{}",de=JSON.parse(re).curl||{};de=JSON.parse(JSON.stringify(de));for(let le in de){if(le=="headers"||le=="params"||le=="body"){de[le]&&de[le].length>0?m[le]=de[le].map(Ae=>({...Ae,cu_key:Math.random()*1e4})):m[le]=[];continue}if(le=="output"){m.output=y(de[le]);continue}m[le]=de[le]}_=!0,setTimeout(()=>{a("setData",{...m,node_params:JSON.stringify({curl:{...m}}),height:x()})},100)}catch(re){}},{immediate:!0,deep:!0}),bn(()=>m,se=>{a("setData",{...m,node_params:JSON.stringify({curl:{...m}}),height:x()})},{deep:!0});const w=()=>{};function x(){let se=562,re=0;m.type==1&&(se=640+(m.body.length-1)*36),m.type==2&&(se=670),m.method=="GET"&&(se=505),re=se+(m.headers.length-1)*36+(m.params.length-1)*36;let de=k(m.output);return re+180+(de-1)*36}function k(se){let re=se.length;for(const de of se)de.subs&&Array.isArray(de.subs)&&(re+=k(de.subs));return re}const N=()=>{m.headers.push({key:"",value:"",cu_key:Math.random()*1e4})},D=se=>{m.headers.splice(se,1)},V=()=>{m.params.push({key:"",value:"",cu_key:Math.random()*1e4})},U=se=>{m.params.splice(se,1)},B=()=>{m.body.push({key:"",value:"",cu_key:Math.random()*1e4})},G=se=>{m.body.splice(se,1)},Q=()=>{m.output.push({key:"",typ:"string",subs:[],cu_key:Math.random()*1e4})},ae=se=>{m.output.splice(se,1)},q=se=>{se.subs=[]},ue=se=>{m.output[se].subs.push({key:"",value:"",subs:[],cu_key:Math.random()*1e4})},T=(se,re)=>Promise.resolve(),R=[{lable:"string",value:"string"},{lable:"number",value:"number"},{lable:"boole",value:"boole"},{lable:"float",value:"float"},{lable:"object",value:"object"},{lable:"array<string>",value:"array<string>"},{lable:"array<number>",value:"array<number>"},{lable:"array<boole>",value:"array<boole>"},{lable:"array<float>",value:"array<float>"},{lable:"array<object>",value:"array<object>"}],A=se=>{fa.includes(se.node_type)&&(f(),wi(()=>{m.body_raw_tags&&m.body_raw_tags.length>0&&m.body_raw_tags.forEach(de=>{if(de.node_id==se.node_id){let le=de.label.split("/");le[0]=se.node_name,de.label=le.join("/"),de.node_name=se.node_name}}),["headers","params","body"].forEach(de=>{m[de].forEach(Ae=>{Ae.tags&&Ae.tags.length>0&&Ae.tags.forEach(pe=>{if(pe.node_id==se.node_id){let Ne=pe.label.split("/");Ne[0]=se.node_name,pe.label=Ne.join("/"),pe.node_name=se.node_name}})})}),Object.keys(gs(l)).forEach(de=>{l[de]&&l[de].$refs.JMention&&l[de].refresh()})}))};return or(()=>{r().eventCenter.on("custom:setNodeName",A)}),vs(()=>{r().eventCenter.off("custom:setNodeName",A)}),e({}),(se,re)=>{const de=ei,le=Qr,Ae=da,pe=Vr,Ne=Co,Ve=cr,Ie=gy,Oe=vy,$=hl,he=wo,ge=to;return oe(),we("div",oz,[j(ge,{ref_key:"formRef",ref:v,layout:"vertical",model:m},{default:J(()=>[L("div",sz,[re[22]||(re[22]=L("div",{class:"gray-block-title"},"输入",-1)),j(Ne,{label:"请求地址",name:"rawurl",rules:[{required:!0,message:"请输入请求地址"}]},{default:J(()=>[L("div",{class:"flex-block-item",onMousedown:re[2]||(re[2]=Qt(()=>{},["stop"]))},[j(Ae,null,{default:J(()=>[j(le,{value:m.method,"onUpdate:value":re[0]||(re[0]=be=>m.method=be),style:{width:"160px"}},{default:J(()=>[j(de,{value:"POST"},{default:J(()=>re[10]||(re[10]=[ze("POST")])),_:1,__:[10]}),j(de,{value:"GET"},{default:J(()=>re[11]||(re[11]=[ze("GET")])),_:1,__:[11]})]),_:1},8,["value"])]),_:1}),j(pe,{class:"flex1",value:m.rawurl,"onUpdate:value":re[1]||(re[1]=be=>m.rawurl=be),placeholder:"请输入请求地址"},null,8,["value"])],32)]),_:1}),L("div",{class:"array-form-box",onMousedown:re[3]||(re[3]=Qt(()=>{},["stop"]))},[re[13]||(re[13]=L("div",{class:"form-item-label"},"HEADERS",-1)),(oe(!0),we(Et,null,Rt(m.headers,(be,Be)=>(oe(),we("div",{class:"form-item-list",key:Be},[j(Ne,{label:null,name:["headers",Be,"value"],rules:{required:!0,validator:(xe,Re)=>T(xe,Re)}},{default:J(()=>[L("div",az,[j(Ae,null,{default:J(()=>[j(pe,{style:{width:"160px"},value:be.key,"onUpdate:value":xe=>be.key=xe,placeholder:"请输入参数KEY"},null,8,["value","onUpdate:value"])]),_:2},1024),j(Hr,{inputStyle:"overflow-y: hidden; overflow-x: scroll; height: 32px;",ref_for:!0,ref:xe=>u(xe,"headers",Be),options:b.value,defaultSelectedList:be.tags,defaultValue:be.value,onOpen:f,onChange:(xe,Re)=>c("headers",xe,Re,be,Be),placeholder:"请输入变量值，键入“/”插入变量"},{option:J(({label:xe,payload:Re})=>[L("div",lz,[L("div",uz,rt(xe),1),L("div",dz,rt(Re.typ),1)])]),_:2},1032,["options","defaultSelectedList","defaultValue","onChange"]),L("div",{class:"btn-hover-wrap",onClick:xe=>D(Be)},[j(Ue(Or))],8,cz)])]),_:2},1032,["name","rules"])]))),128)),j(Ve,{onClick:N,icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>re[12]||(re[12]=[ze("添加参数")])),_:1,__:[12]},8,["icon"])],32),L("div",{class:"array-form-box",onMousedown:re[4]||(re[4]=Qt(()=>{},["stop"]))},[re[15]||(re[15]=L("div",{class:"form-item-label"},"PARAMS",-1)),(oe(!0),we(Et,null,Rt(m.params,(be,Be)=>(oe(),we("div",{class:"form-item-list",key:Be},[j(Ne,{label:null,name:["params",Be,"value"],rules:{required:!0,validator:(xe,Re)=>T(xe,Re)}},{default:J(()=>[L("div",fz,[j(Ae,null,{default:J(()=>[j(pe,{style:{width:"160px"},value:be.key,"onUpdate:value":xe=>be.key=xe,placeholder:"请输入参数KEY"},null,8,["value","onUpdate:value"])]),_:2},1024),j(Hr,{inputStyle:"overflow-y: hidden; overflow-x: scroll; height: 32px;",ref_for:!0,ref:xe=>u(xe,"params",Be),options:b.value,defaultSelectedList:be.tags,defaultValue:be.value,onOpen:f,onChange:(xe,Re)=>c("params",xe,Re,be,Be),placeholder:"请输入变量值，键入“/”插入变量"},{option:J(({label:xe,payload:Re})=>[L("div",hz,[L("div",pz,rt(xe),1),L("div",vz,rt(Re.typ),1)])]),_:2},1032,["options","defaultSelectedList","defaultValue","onChange"]),L("div",{class:"btn-hover-wrap",onClick:xe=>U(Be)},[j(Ue(Or))],8,gz)])]),_:2},1032,["name","rules"])]))),128)),j(Ve,{onClick:V,icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>re[14]||(re[14]=[ze("添加参数")])),_:1,__:[14]},8,["icon"])],32),m.method=="POST"?(oe(),we("div",{key:0,onMousedown:re[7]||(re[7]=Qt(()=>{},["stop"]))},[j(Ne,{label:"BODY",name:"type",class:"line-height-22"},{default:J(()=>[j(Oe,{value:m.type,"onUpdate:value":re[5]||(re[5]=be=>m.type=be)},{default:J(()=>[j(Ie,{value:0},{default:J(()=>re[16]||(re[16]=[ze("none")])),_:1,__:[16]}),j(Ie,{value:1},{default:J(()=>re[17]||(re[17]=[ze("x-www-form-urlencoded")])),_:1,__:[17]}),j(Ie,{value:2},{default:J(()=>re[18]||(re[18]=[ze("JSON")])),_:1,__:[18]})]),_:1},8,["value"])]),_:1}),m.type==1?(oe(),we("div",mz,[(oe(!0),we(Et,null,Rt(m.body,(be,Be)=>(oe(),we("div",{class:"form-item-list",key:Be},[j(Ne,{label:null,name:["body",Be,"value"],rules:{required:!0,validator:(xe,Re)=>T(xe,Re)}},{default:J(()=>[L("div",yz,[j(Ae,null,{default:J(()=>[j(pe,{style:{width:"160px"},value:be.key,"onUpdate:value":xe=>be.key=xe,placeholder:"请输入参数KEY"},null,8,["value","onUpdate:value"])]),_:2},1024),j(Hr,{inputStyle:"overflow-y: hidden; overflow-x: scroll; height: 32px;",ref_for:!0,ref:xe=>u(xe,"body",Be),options:b.value,defaultSelectedList:be.tags,defaultValue:be.value,onOpen:f,onChange:(xe,Re)=>c("body",xe,Re,be,Be),placeholder:"请输入变量值，键入“/”插入变量"},{option:J(({label:xe,payload:Re})=>[L("div",_z,[L("div",bz,rt(xe),1),L("div",Cz,rt(Re.typ),1)])]),_:2},1032,["options","defaultSelectedList","defaultValue","onChange"]),L("div",{class:"btn-hover-wrap",onClick:xe=>G(Be)},[j(Ue(Or))],8,wz)])]),_:2},1032,["name","rules"])]))),128)),j(Ve,{onClick:B,icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>re[19]||(re[19]=[ze("添加参数")])),_:1,__:[19]},8,["icon"])])):ct("",!0),m.type==2?(oe(),Qe(Ne,{key:1,label:null,name:"body_raw"},{default:J(()=>[j(Hr,{type:"textarea",options:b.value,defaultSelectedList:m.body_raw_tags,defaultValue:m.body_raw,ref:be=>u(be,"body","body_raw"),onOpen:f,onChange:re[6]||(re[6]=(be,Be)=>c("body_raw",be,Be)),placeholder:"请输入变量值，键入“/”插入变量"},{option:J(({label:be,payload:Be})=>[L("div",xz,[L("div",kz,rt(be),1),L("div",Sz,rt(Be.typ),1)])]),_:1},8,["options","defaultSelectedList","defaultValue"])]),_:1})):ct("",!0)],32)):ct("",!0),j(Ne,{name:"timeout"},{label:J(()=>[j($,{gap:2},{default:J(()=>re[20]||(re[20]=[ze("超时时长")])),_:1,__:[20]})]),default:J(()=>[L("div",Ez,[j(he,{placeholder:"请输入请求地址",style:{width:"138px"},precision:0,value:m.timeout,"onUpdate:value":re[8]||(re[8]=be=>m.timeout=be),min:0,max:3e3},null,8,["value"]),re[21]||(re[21]=ze(" 秒 "))])]),_:1})]),L("div",Mz,[L("div",{class:"gray-block-title",onClick:w},"输出 (输出字段提取)"),L("div",Oz,[re[24]||(re[24]=L("div",{class:"output-block"},[L("div",{class:"output-item"},"参数Key"),L("div",{class:"output-item"},"类型")],-1)),L("div",{class:"array-form-box",onMousedown:re[9]||(re[9]=Qt(()=>{},["stop"]))},[(oe(!0),we(Et,null,Rt(m.output,(be,Be)=>(oe(),we("div",{class:"form-item-list",key:Be},[j(Ne,{label:null,name:["output",Be,"key"],rules:{required:!0,validator:(xe,Re)=>T(xe,Re)}},{default:J(()=>[L("div",Az,[j(pe,{style:{width:"214px"},value:be.key,"onUpdate:value":xe=>be.key=xe,placeholder:"请输入"},null,8,["value","onUpdate:value"]),j(Ae,null,{default:J(()=>[j(le,{onChange:xe=>q(be),value:be.typ,"onUpdate:value":xe=>be.typ=xe,placeholder:"请选择",style:{width:"214px"}},{default:J(()=>[(oe(),we(Et,null,Rt(R,xe=>j(de,{value:xe.value},{default:J(()=>[ze(rt(xe.value),1)]),_:2},1032,["value"])),64))]),_:2},1032,["onChange","value","onUpdate:value"])]),_:2},1024),be.typ=="object"?(oe(),we("div",{key:0,class:"btn-hover-wrap",onClick:xe=>ue(Be)},[j(Ue(vl))],8,Lz)):ct("",!0),L("div",{class:"btn-hover-wrap",onClick:xe=>ae(Be)},[j(Ue(Or))],8,Tz)]),be.subs&&be.subs.length>0?(oe(),we("div",Nz,[j(Ae,null,{default:J(()=>[j(iz,{data:be.subs,level:2,typOptions:R},null,8,["data"])]),_:2},1024)])):ct("",!0)]),_:2},1032,["name","rules"])]))),128)),j(Ve,{onClick:Q,icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>re[23]||(re[23]=[ze("添加参数")])),_:1,__:[23]},8,["icon"])],32)])])]),_:1},8,["model"])])}}},Pz=Ct(Dz,[["__scopeId","data-v-140bb2e1"]]),Rz={name:"HttpNode",components:{NodeCommon:lr,FormBlock:Pz},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{message_list:[]}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(n){this.setData({...n})}}},Hz={class:"http-node"};function Iz(n,e,t,r,i,o){const a=Kt("FormBlock"),l=Kt("node-common");return oe(),Qe(l,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",Hz,[e[0]||(e[0]=L("div",{class:"node-desc"},"发起一个http请求，实现与第三方系统数据交互",-1)),j(a,{onSetData:o.handleSetData,properties:t.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const Bz=Ct(Rz,[["render",Iz],["__scopeId","data-v-ab89d90a"]]);let jz=class extends sr{constructor(e){super(e),this.renderVue(Bz,e)}},Fz=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+24,id:u+"-anchor_right",type:"right",nodeId:e}]}};const Vz={type:"http-node",model:Fz,view:jz},$z={class:"library-checkbox-box"},Wz={class:"list-tools"},zz={class:"list-box",ref:"scrollContainer"},Uz={class:"library-name"},Gz={class:"library-desc"},Xz={__name:"library-select-alert",emits:["change","close"],setup(n,{expose:e,emit:t}){const r=t,i=Pn({indeterminate:!1,checkAll:!1,checkedList:[]}),o=Fe(!1),a=x=>{m(),i.checkedList=x,o.value=!0},l=()=>{o.value=!1,v()},u=Fe(""),c=()=>{m()},f=Fe([]),v=()=>{r("change",[...i.checkedList])},m=async()=>{const x=await G5({library_name:u.value,type:""});if(x){let k=x.data||[];f.value=k}},y=Fe(!1),_=async()=>{y.value=!0,await m(),y.value=!1,ss.success("刷新完成")},b=()=>{window.open("/#/library/add")},w=()=>{r("close")};return e({open:a}),(x,k)=>{const N=Vr,D=cr,V=Rx,U=Px,B=Ad,G=Mi;return oe(),Qe(G,{width:"746px",open:o.value,"onUpdate:open":k[2]||(k[2]=Q=>o.value=Q),title:"关联知识库",onCancel:w,onOk:l,okText:"确定",cancelText:"取消"},{default:J(()=>[L("div",$z,[L("div",Wz,[L("div",null,[j(N,{style:{width:"282px"},value:u.value,"onUpdate:value":k[0]||(k[0]=Q=>u.value=Q),placeholder:"请输入知识库名称搜索",onChange:c},{suffix:J(()=>[j(Ue(Nx),{style:{color:"rgba(0, 0, 0, 0.25)"}})]),_:1},8,["value"])]),L("div",null,[j(D,{style:{"margin-right":"8px"},onClick:_},{default:J(()=>[j(Ue(Dx)),k[3]||(k[3]=ze(" 刷新 "))]),_:1,__:[3]}),j(D,{type:"primary",ghost:"",onClick:b},{default:J(()=>k[4]||(k[4]=[ze("新建知识库")])),_:1,__:[4]})])]),j(B,{spinning:y.value,delay:100},{default:J(()=>[j(U,{value:i.checkedList,"onUpdate:value":k[1]||(k[1]=Q=>i.checkedList=Q),style:{width:"100%"}},{default:J(()=>[L("div",zz,[(oe(!0),we(Et,null,Rt(f.value,Q=>(oe(),we("div",{class:"list-item-wraapper",key:Q.id},[j(V,{class:"list-item",value:Q.id},{default:J(()=>[L("div",Uz,rt(Q.library_name),1),L("div",Gz,rt(Q.library_intro),1)]),_:2},1032,["value"])]))),128))],512)]),_:1},8,["value"])]),_:1},8,["spinning"])])]),_:1},8,["open"])}}},Zz=Ct(Xz,[["__scopeId","data-v-ae6d969c"]]),Yz={class:"recall-settings-box"},qz={class:"form-box"},Kz={class:"form-item is-required"},Jz={class:"form-item-body"},Qz={class:"retrieval-mode-items"},eU=["onClick"],tU={class:"retrieval-mode-title"},nU={class:"title-text"},rU={class:"retrieval-mode-desc"},iU={class:"form-item"},oU={class:"form-item-label"},sU={class:"form-item-body"},aU={class:"number-box"},lU={class:"number-slider-box"},uU={class:"number-input-box"},dU={class:"form-item"},cU={class:"form-item-label"},fU={class:"form-item-body"},hU={class:"number-box"},pU={class:"number-slider-box"},vU={class:"number-input-box"},gU={class:"form-item"},mU={class:"form-item-label"},yU={class:"form-item-body"},_U=["src"],bU={__name:"recall-settings-alert",emits:["change"],setup(n,{expose:e,emit:t}){const r=t,i=Fe([{iconName:"search",title:"混合检索",value:1,isRecommendation:!0,desc:"同时执行全文检索和向量检索，使用RRF算法进行排序，从两中查询结果中选择更匹配用户问题的结果"},{iconName:"file-search",title:"向量检索",value:2,desc:"将用户提问转成向量之后与知识库分段匹配相似度，返回相似度高的结果"},{iconName:"comment-search",title:"全文检索",value:3,desc:"通过分词匹配文档中的词汇，返回包含这些词汇的文本片段"}]),o=Pn({rerank_status:0,rerank_use_model:void 0,rerank_model_config_id:void 0,search_type:1}),a=Fe(!1),l=b=>{_(),o.rerank_status=b.rerank_status||0,o.rerank_use_model=b.rerank_use_model||void 0,o.rerank_model_config_id=b.rerank_model_config_id||"",o.top_k=b.top_k,o.similarity=b.similarity,o.search_type=b.search_type,a.value=!0},u=(b,w)=>{o.rerank_model_config_id=w.rerank_model_config_id},c=b=>{o.search_type=b},f=()=>o.rerank_status==1&&!o.rerank_model_config_id,v=()=>{if(f())return ss.error("请选择Rerank模型");a.value=!1,m()},m=()=>{r("change",gs(o))},y=Fe([]),_=()=>{my({model_type:"RERANK"}).then(b=>{let w=b.data||[];y.value=w.map(x=>({id:x.model_config.id,name:x.model_info.model_name,icon:x.model_info.model_icon_url,children:x.model_info.rerank_model_list}))})};return e({open:l}),(b,w)=>{const x=bo,k=Ai,N=Q0,D=wo,V=ua,U=hl,B=ei,G=_x,Q=Qr,ae=Mi;return oe(),Qe(ae,{width:"472px",open:a.value,"onUpdate:open":w[6]||(w[6]=q=>a.value=q),title:"召回设置",onOk:v,okText:"确定",cancelText:"取消"},{default:J(()=>[L("div",Yz,[L("div",qz,[L("div",Kz,[w[7]||(w[7]=L("div",{class:"form-item-label"},[L("span",null,"检索模式")],-1)),L("div",Jz,[L("div",Qz,[(oe(!0),we(Et,null,Rt(i.value,q=>(oe(),we("div",{class:Lr(["retrieval-mode-item",{active:o.search_type==q.value}]),key:q.value,onClick:ue=>c(q.value)},[o.search_type==q.value?(oe(),Qe(x,{key:0,class:"check-arrow",name:"check-arrow-filled"})):ct("",!0),L("div",tU,[j(x,{name:q.iconName,class:"title-icon"},null,8,["name"]),L("span",nU,rt(q.title),1),q.isRecommendation?(oe(),Qe(x,{key:0,class:"recommendation-icon",name:"recommendation"})):ct("",!0)]),L("div",rU,rt(q.desc),1)],10,eU))),128))])])]),L("div",iU,[L("div",oU,[w[9]||(w[9]=L("span",null,"Top K ",-1)),j(k,null,{title:J(()=>w[8]||(w[8]=[ze("最多从知识库中召回分段数，最低为1，最高为10。召回分段数越多，消耗的token也会越多。")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),L("div",sU,[L("div",aU,[L("div",lU,[j(N,{class:"custom-slider",value:o.top_k,"onUpdate:value":w[0]||(w[0]=q=>o.top_k=q),min:1,max:10},null,8,["value"])]),L("div",uU,[j(D,{value:o.top_k,"onUpdate:value":w[1]||(w[1]=q=>o.top_k=q),min:1,max:10},null,8,["value"])])])])]),L("div",dU,[L("div",cU,[w[11]||(w[11]=L("span",null,"相似度阈值 ",-1)),j(k,null,{title:J(()=>w[10]||(w[10]=[ze("召回时，只会召回相似度大于阈值的文本分段。取值范围：0~1，阈值越大回答的越准确，建议不超过0.9")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),L("div",fU,[L("div",hU,[L("div",pU,[j(N,{class:"custom-slider",value:o.similarity,"onUpdate:value":w[2]||(w[2]=q=>o.similarity=q),min:0,max:1,step:.01},null,8,["value"])]),L("div",vU,[j(D,{value:o.similarity,"onUpdate:value":w[3]||(w[3]=q=>o.similarity=q),min:0,max:1,step:.01},null,8,["value"])])])])]),L("div",gU,[L("div",mU,[w[12]||(w[12]=L("span",null,"Rerank模型",-1)),w[13]||(w[13]=ze("   ")),j(V,{checkedValue:1,unCheckedValue:0,checked:o.rerank_status,"onUpdate:checked":w[4]||(w[4]=q=>o.rerank_status=q)},null,8,["checked"])]),L("div",yU,[j(Q,{value:o.rerank_use_model,"onUpdate:value":w[5]||(w[5]=q=>o.rerank_use_model=q),placeholder:"请选择Rerank模型",onChange:u,style:{width:"320px"}},{default:J(()=>[(oe(!0),we(Et,null,Rt(y.value,q=>(oe(),Qe(G,{key:q.id},{label:J(()=>[j(U,{align:"center",gap:8},{default:J(()=>[L("img",{class:"model-icon",src:q.icon,alt:""},null,8,_U),ze(rt(q.name),1)]),_:2},1024)]),default:J(()=>[(oe(!0),we(Et,null,Rt(q.children,ue=>(oe(),Qe(B,{value:ue,rerank_model_config_id:q.id,key:ue},{default:J(()=>[L("span",null,rt(ue),1)]),_:2},1032,["value","rerank_model_config_id"]))),128))]),_:2},1024))),128))]),_:1},8,["value"])])])])])]),_:1},8,["open"])}}},CU=Ct(bU,[["__scopeId","data-v-56081df4"]]),wU={class:"gray-block"},xU={class:"avatar-box"},kU=["src"],SU={class:"content-box"},EU={class:"list-name"},MU={class:"list-intro"},OU=["onClick"],AU={class:"btn-block"},LU={class:"diy-form-item"},TU={class:"form-content"},NU={class:"form-content"},DU={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(n,{expose:e,emit:t}){const r=n,i=Cn("getNode");function o(Q){if(Q){let ae=Q.split("."),q=ae[0],ue=ae.filter((T,R)=>R>0).join(".");return[q,ue]}return["global","question"]}const a=t,l=Fe(),u=Pn({library_ids:[],rerank_status:0,rerank_use_model:void 0,rerank_model_config_id:void 0,top_k:5,similarity:.5,search_type:1,question_value:""});let c=!1;bn(()=>r.properties,Q=>{try{if(c)return;U();let ae=JSON.parse(Q.node_params).libs||{};ae=JSON.parse(JSON.stringify(ae));for(let q in ae)q=="library_ids"?u[q]=ae[q]?ae[q].split(","):[]:q=="question_value"?u.question_value=o(ae.question_value):u[q]=ae[q];setTimeout(()=>{f()},1e3),c=!0}catch{}},{immediate:!0,deep:!0}),bn(()=>u,Q=>{f()},{deep:!0});const f=()=>{a("setData",{...u,library_ids:u.library_ids.join(","),node_params:JSON.stringify({libs:{...u,rerank_model_config_id:u.rerank_model_config_id?+u.rerank_model_config_id:void 0,question_value:u.question_value.join("."),library_ids:u.library_ids.join(",")}}),height:500})},v=Fe([]),m=Fe(null),y=nn(()=>v.value.filter(Q=>u.library_ids.includes(Q.id))),_=Q=>{let ae=u.library_ids.indexOf(Q.id);u.library_ids.splice(ae,1)},b=Q=>{D(),u.library_ids=[...Q]},w=()=>{m.value.open([...u.library_ids])},x=Fe(null),k=()=>{x.value.open(gs(u))},N=Q=>{u.rerank_status=Q.rerank_status,u.rerank_use_model=Q.rerank_use_model,u.rerank_model_config_id=Q.rerank_model_config_id,u.top_k=Q.top_k,u.similarity=Q.similarity,u.search_type=Q.search_type},D=async()=>{const Q=await G5({type:""});Q&&(v.value=Q.data||[])};D();const V=Fe([]);function U(){let Q=i().getAllParentVariable();V.value=B(Q)}function B(Q){return Q.forEach(ae=>{ae.typ=="node"?ae.node_type==1?ae.value="global":ae.value=ae.node_id:ae.value=ae.key,ae.children&&ae.children.length>0&&(ae.children=B(ae.children))}),Q}const G=Q=>{Q||U()};return e({}),(Q,ae)=>{const q=cr,ue=Co,T=pl,R=to;return oe(),we("div",{class:"form-block",onMousedown:ae[1]||(ae[1]=Qt(()=>{},["stop"]))},[j(R,{ref_key:"formRef",ref:l,layout:"vertical",model:u},{default:J(()=>[L("div",wU,[ae[5]||(ae[5]=L("div",{class:"gray-block-title"},"输入",-1)),j(ue,{label:"关联知识库"},{default:J(()=>[(oe(!0),we(Et,null,Rt(y.value,A=>(oe(),we("div",{class:"konwledge-list-item",key:A.id},[L("div",xU,[L("img",{src:A.avatar,alt:""},null,8,kU)]),L("div",SU,[L("div",EU,rt(A.library_name),1),L("div",MU,rt(A.library_intro),1)]),L("div",{class:"btn-hover-wrap",onClick:se=>_(A)},[j(Ue(Or))],8,OU)]))),128)),L("div",AU,[L("div",null,[j(q,{onClick:w,icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>ae[2]||(ae[2]=[ze("添加知识库")])),_:1,__:[2]},8,["icon"])]),L("div",null,[j(q,{onClick:k,icon:Wn(Ue(Hx)),block:"",type:"dashed"},{default:J(()=>ae[3]||(ae[3]=[ze("召回设置")])),_:1,__:[3]},8,["icon"])])])]),_:1}),L("div",LU,[ae[4]||(ae[4]=L("div",{class:"form-label"},"用户问题",-1)),L("div",TU,[L("div",NU,[j(T,{value:u.question_value,"onUpdate:value":ae[0]||(ae[0]=A=>u.question_value=A),onDropdownVisibleChange:G,style:{width:"220px"},options:V.value,allowClear:!1,displayRender:({labels:A})=>A.join("/"),"field-names":{children:"children"},placeholder:"请选择"},null,8,["value","options","displayRender"])])])])]),ae[6]||(ae[6]=L("div",{class:"gray-block mt16"},[L("div",{class:"gray-block-title"},"输出"),L("div",{class:"options-item"},[L("div",{class:"option-label"},"知识库引用"),L("div",{class:"option-type"},"知识库引用")])],-1))]),_:1,__:[6]},8,["model"]),j(Zz,{ref_key:"librarySelectAlertRef",ref:m,onClose:D,onChange:b},null,512),j(CU,{ref_key:"recallSettingsAlertRef",ref:x,onChange:N},null,512)],32)}}},PU=Ct(DU,[["__scopeId","data-v-254e06ce"]]),RU={name:"KnowledgeBaseNode",components:{NodeCommon:lr,FormBlock:PU},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(n){this.setData({...n})}},mounted(){}},HU={class:"knowledge-base-node"};function IU(n,e,t,r,i,o){const a=Kt("FormBlock"),l=Kt("node-common");return oe(),Qe(l,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",HU,[e[0]||(e[0]=L("div",{class:"node-desc"}," 从指定知识库中检索相关的分段，点击召回设置可以规定检索数据的条数和相似度阈值 ",-1)),j(a,{onSetData:o.handleSetData,properties:t.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const BU=Ct(RU,[["render",IU],["__scopeId","data-v-c7c67742"]]);let jU=class extends sr{constructor(e){super(e),this.renderVue(BU,e)}},FU=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+24,id:u+"-anchor_right",type:"right",nodeId:e}]}};const VU={type:"knowledge-base-node",model:FU,view:jU},$U={name:"EndNode",inject:["getNode","getGraph","setData"],components:{NodeCommon:lr},props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},computed:{},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}}}};function WU(n,e,t,r,i,o){const a=Kt("node-common");return oe(),Qe(a,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>e[0]||(e[0]=[L("div",{class:"end-node"},[L("div",{class:"node-desc"},"触发该节点结束调用,并返回流程执行结果")],-1)])),_:1,__:[0]},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const zU=Ct($U,[["render",WU],["__scopeId","data-v-986bb121"]]);let UU=class extends sr{constructor(e){super(e),this.renderVue(zU,e)}},GU=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e}]}};const XU={type:"end-node",model:GU,view:UU},ZU={name:"EndNode",inject:["getNode","getGraph","setData"],components:{NodeCommon:lr},props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{observer:null,menus:[{name:"删除",key:"delete",color:"#fb363f"}],formState:{content:"",height:88}}},computed:{},mounted(){var t;let n=JSON.parse(this.properties.node_params);this.formState={...this.formState,...n};const e=(t=this.$refs.textareaRef)==null?void 0:t.querySelector("textarea");e&&(this.observer=new ResizeObserver(r=>{for(const i of r){const{height:o}=i.contentRect;this.formState.height=o+8,this.updateContent()}}),this.observer.observe(e))},beforeDestroy(){this.observer&&this.observer.disconnect()},methods:{getHeight(){return 68+this.formState.height},updateContent(){this.setData({node_params:JSON.stringify(this.formState),height:this.getHeight()})},handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}}}};function YU(n,e,t,r,i,o){const a=Ed,l=Kt("node-common");return oe(),Qe(l,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",{class:"explain-node",onMousedown:e[3]||(e[3]=Qt(()=>{},["stop"])),ref:"textareaRef"},[j(a,{style:yo({height:`${i.formState.height}px`}),onWheel:e[0]||(e[0]=Qt(()=>{},["stop"])),bordered:!1,class:"explain-textarea",value:i.formState.content,"onUpdate:value":e[1]||(e[1]=u=>i.formState.content=u),placeholder:"请输入注释",onInput:e[2]||(e[2]=u=>o.updateContent(u.target.value))},null,8,["style","value"])],544)]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const qU=Ct(ZU,[["render",YU],["__scopeId","data-v-252cedd8"]]);let KU=class extends sr{constructor(e){super(e),this.renderVue(qU,e)}},JU=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[]}};const QU={type:"explain-node",model:JU,view:KU},eG={name:"VariableAssignmentNode",inject:["getNode","getGraph","setData"],components:{PlusOutlined:rr,CloseCircleOutlined:Or,NodeCommon:lr,AtInput:Hr},props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}],list:[],options:[],valueOptions:[]}},computed:{},mounted(){this.getOptions(),this.getValueOptions();const n=this.getGraph();let e=this.properties.dataRaw||this.properties.node_params||"{}",r=JSON.parse(e).assign||[];r.forEach(i=>{i.tags=i.tags||[]}),this.list=r,this.$nextTick(()=>{this.update()}),n.eventCenter.on("custom:setNodeName",this.onUpatateNodeName)},onBeforeUnmount(){this.getGraph().eventCenter.off("custom:setNodeName",this.onUpatateNodeName)},methods:{onUpatateNodeName(n){fa.includes(n.node_type)&&(this.getValueOptions(),this.$nextTick(()=>{this.list.forEach((e,t)=>{e.tags&&e.tags.length>0&&e.tags.forEach(r=>{if(r.node_id==n.node_id){let i=r.label.split("/");i[0]=n.node_name,r.label=i.join("/"),r.node_name=n.node_name}}),this.$refs[`atInput${t}`][0].refresh()})}))},getOptions(){let e=this.getNode().getGlobalVariable().diy_global||[];e.forEach(t=>{t.label=t.key,t.value="global."+t.key}),this.options=e||[]},getValueOptions(){let n=this.getNode().getAllParentVariable();this.valueOptions=n||[]},getHeight(){return 130+40*(this.list.length==0?1:this.list.length)},updateHeight(){let n=this.getHeight();this.setData({height:n})},update(){let n=this.getHeight(),e=JSON.parse(this.properties.node_params);e.assign=[...this.list],this.setData({height:n,node_params:JSON.stringify(e)})},showAtList(n){n&&this.getValueOptions()},changeValue(n,e,t){t.tags=e,t.value=n,this.update()},handleAdd(){this.list.push({variable:void 0,value:""}),this.update()},handleDel(n){this.list.splice(n,1),this.update()},handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},dropdownVisibleChange(n){n&&this.getOptions()}}},tG={class:"variable-node"},nG={class:"field-items"},rG={class:"field-name-box"},iG={class:"field-value-box"},oG={class:"field-value-option"},sG={class:"option-label"},aG={class:"option-type"},lG={class:"field-actions"};function uG(n,e,t,r,i,o){const a=ei,l=Qr,u=Kt("at-input"),c=Kt("CloseCircleOutlined"),f=Kt("PlusOutlined"),v=cr,m=Kt("node-common");return oe(),Qe(m,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",tG,[e[1]||(e[1]=L("div",{class:"node-desc"},"通过本节点可以给全局变量赋值",-1)),L("div",nG,[(oe(!0),we(Et,null,Rt(i.list,(y,_)=>(oe(),we("div",{class:"field-item",key:_},[L("div",rG,[j(l,{style:{width:"100%"},placeholder:"请输入选择变量",value:y.variable,"onUpdate:value":b=>y.variable=b,onDropdownVisibleChange:o.dropdownVisibleChange,onChange:o.update},{default:J(()=>[(oe(!0),we(Et,null,Rt(i.options,b=>(oe(),Qe(a,{value:b.value,key:b.key},{default:J(()=>[L("span",null,rt(b.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","onDropdownVisibleChange","onChange"])]),L("div",iG,[j(u,{ref_for:!0,ref:"atInput"+_,inputStyle:"overflow-y: hidden; overflow-x: scroll; height: 32px;",options:i.valueOptions,defaultSelectedList:y.tags,defaultValue:y.value,onOpen:o.showAtList,onChange:(b,w)=>o.changeValue(b,w,y,_),placeholder:"请输入变量值，键入“/”插入变量"},{option:J(({label:b,payload:w})=>[L("div",oG,[L("div",sG,rt(b),1),L("div",aG,rt(w.typ),1)])]),_:2},1032,["options","defaultSelectedList","defaultValue","onOpen","onChange"])]),L("div",lG,[j(c,{class:"action-btn",onClick:b=>o.handleDel(_)},null,8,["onClick"])])]))),128))]),L("div",null,[j(v,{style:{width:"100%"},class:"add-btn",type:"dashed",onClick:o.handleAdd},{icon:J(()=>[j(f)]),default:J(()=>[e[0]||(e[0]=ze(" 添加赋值变量 "))]),_:1,__:[0]},8,["onClick"])])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const dG=Ct(eG,[["render",uG],["__scopeId","data-v-13677238"]]);let cG=class extends sr{constructor(e){super(e),this.renderVue(dG,e)}},fG=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+25,id:u+"-anchor_right",type:"right",nodeId:e}]}};const hG={type:"variable-assignment-node",model:fG,view:cG},pG={class:"gray-block-title"},vG=["onClick"],gG={class:"condition-list-box"},mG={class:"left-select-box"},yG={class:"condition-body"},_G=["onClick"],bG={class:"btn-wrap"},CG={class:"add-btn-block"},wG={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(n,{expose:e,emit:t}){const r=n,i=Cn("getNode"),o=t,a=Fe(),l=Pn({term:[]}),u=Fe([]);function c(){let G=i().getAllParentVariable();u.value=f(G)}function f(G){return G.forEach(Q=>{Q.typ=="node"?Q.node_type==1?Q.value="global":Q.value=Q.node_id:Q.value=Q.key,Q.children&&Q.children.length>0&&(Q.children=f(Q.children))}),G}const v=G=>{G||c()};let m=["special.lib_paragraph_list","special.llm_reply_content","specify-reply-node"],y=!1;bn(()=>r.properties,G=>{try{if(y)return;let Q=JSON.parse(G.node_params).term||[];Q=Q.map(ae=>{let q=ae.terms.map(ue=>{let T="";for(let R=0;R<m.length;R++)if(ue.variable.indexOf(m[R])>-1){T=m[R];break}if(T!=""){let R=ue.variable.split(".");ue.variable=[R[0],T]}else ue.variable=ue.variable.split(".");return{...ue,type:ue.type>0?ue.type:1,key:Math.random()*1e4}});return{...ae,is_or:ae.is_or?1:0,terms:q,key:Math.random()*1e4}}),l.term=Q,y=!0,setTimeout(()=>{o("setData",{...l,height:_()})},100)}catch(Q){}},{immediate:!0,deep:!0}),bn(()=>l,()=>{let G=JSON.parse(JSON.stringify(l.term));G=G.map(Q=>({is_or:Q.is_or==1,next_node_key:Q.next_node_key,terms:Q.terms.map(ae=>({variable:ae.variable.join("."),is_mult:ae.is_mult,type:ae.type,value:ae.value}))})),o("setData",{...l,term:G,node_params:JSON.stringify({term:G}),height:_()})},{deep:!0});function _(){let G=0,Q=l.term.length;return l.term.forEach(ae=>{G+=ae.terms.length}),G=G-Q,240+150*Q+46*G}const b=G=>{l.term[G].terms.push({is_mult:!1,type:void 0,value:"",variable:[],key:Math.random()*1e4})},w=(G,Q)=>{l.term[G].terms.splice(Q,1)},x=()=>{l.term.push({is_or:0,key:Math.random()*1e4,next_node_key:"",terms:[{is_mult:!1,type:void 0,value:"",variable:[],key:Math.random()*1e4}]})},k=G=>{l.term.splice(G,1)},N=G=>{let Q=U(G);G.is_mult=Q.includes("array"),G.type=void 0};let D=[{label:"等于",value:1},{label:"不等于",value:2},{label:"包含",value:3},{label:"不包含",value:4},{label:"为空",value:5},{label:"不为空",value:6}],V=[{label:"包含其中一项",value:3},{label:"不包含其中一项",value:4},{label:"为空",value:5},{label:"不为空",value:6}];function U(G){let Q="";if(G.variable&&G.variable.length>0){let ae=u.value.filter(q=>q.key==G.variable[0]);ae&&ae.length&&(Q=ae[0].typ),Q=="object"&&(ae[0]&&ae[0].children&&(ae=ae[0].subs.filter(q=>q.key==G.variable[1])),ae&&ae.length&&(Q=ae[0].typ),Q=="object"&&(ae[0]&&ae[0].children&&(ae=ae[0].subs.filter(q=>q.key==G.variable[2])),ae&&ae.length&&(Q=ae[0].typ)))}return Q}function B(G){if(!G.variable)return[];let Q=U(G);return Q==""?G.is_mult?V:D:Q=="boole"?[{label:"等于",value:1},{label:"不等于",value:2}]:Q.includes("array")?V:D}return or(()=>{c()}),e({}),(G,Q)=>{const ae=hl,q=ei,ue=Qr,T=pl,R=Vr,A=cr,se=to;return oe(),we("div",{class:"form-block",onMousedown:Q[1]||(Q[1]=Qt(()=>{},["stop"]))},[j(se,{ref_key:"formRef",ref:a,layout:"vertical",model:l},{default:J(()=>[j(Ue(Ix),{style:{display:"flex","flex-direction":"column",gap:"8px"},handle:".drag-btn",modelValue:l.term,"onUpdate:modelValue":Q[0]||(Q[0]=re=>l.term=re),"item-key":"key"},{item:J(({element:re,index:de})=>[(oe(),we("div",{class:"gray-block",key:re.key},[L("div",pG,[j(ae,{gap:8},{default:J(()=>[j(Ue(Ud),{class:"icon drag-btn"}),ze(rt(de==0?"if":"else if"),1)]),_:2},1024),l.term.length>1?(oe(),we("div",{key:0,class:"btn-hover-wrap",onClick:le=>k(de)},[j(Ue(Or))],8,vG)):ct("",!0)]),L("div",gG,[L("div",mG,[j(ue,{size:"small",value:re.is_or,"onUpdate:value":le=>re.is_or=le,bordered:!1,style:{width:"64px"}},{default:J(()=>[j(q,{value:0},{default:J(()=>Q[2]||(Q[2]=[ze("and")])),_:1,__:[2]}),j(q,{value:1},{default:J(()=>Q[3]||(Q[3]=[ze("or")])),_:1,__:[3]})]),_:2},1032,["value","onUpdate:value"])]),L("div",yG,[(oe(!0),we(Et,null,Rt(re.terms,(le,Ae)=>(oe(),we("div",{class:"condition-item",key:le.key},[j(T,{value:le.variable,"onUpdate:value":pe=>le.variable=pe,onChange:pe=>N(le),onDropdownVisibleChange:v,style:{width:"180px"},options:u.value,allowClear:!1,displayRender:({labels:pe})=>pe.join("/"),"field-names":{children:"children"},placeholder:"请选择"},null,8,["value","onUpdate:value","onChange","options","displayRender"]),j(ue,{value:le.type,"onUpdate:value":pe=>le.type=pe,style:{width:"130px"},placeholder:"请选择"},{default:J(()=>[(oe(!0),we(Et,null,Rt(B(le),pe=>(oe(),Qe(q,{value:pe.value,key:pe.value},{default:J(()=>[ze(rt(pe.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value"]),le.type!=5&&le.type!=6?(oe(),Qe(R,{key:0,placeholder:"请输入",value:le.value,"onUpdate:value":pe=>le.value=pe,style:{width:"170px"}},null,8,["value","onUpdate:value"])):ct("",!0),L("div",{class:"btn-hover-wrap",onClick:pe=>w(de,Ae)},[j(Ue(Or))],8,_G)]))),128))])]),L("div",bG,[j(A,{onClick:le=>b(de),icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>Q[4]||(Q[4]=[ze("添加条件")])),_:2,__:[4]},1032,["onClick","icon"])])]))]),_:1},8,["modelValue"]),L("div",CG,[j(A,{onClick:x,icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>Q[5]||(Q[5]=[ze("添加分支")])),_:1,__:[5]},8,["icon"])]),Q[6]||(Q[6]=L("div",{class:"gray-block mt8"},[L("div",{class:"gray-block-title"},"else"),L("div",{class:"main-text"},"不符合上述所有分支的条件时，走默认分支")],-1))]),_:1,__:[6]},8,["model"])],32)}}},xG=Ct(wG,[["__scopeId","data-v-f95c43d2"]]),kG={name:"MessageNode",components:{NodeCommon:lr,FormBlock:xG},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(n){this.setData({...n})}}},SG={class:"judge-node"};function EG(n,e,t,r,i,o){const a=Kt("FormBlock"),l=Kt("node-common");return oe(),Qe(l,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",SG,[e[0]||(e[0]=L("div",{class:"no-data"},"指定条件创建不同分支，系统根据变量值判断应该走哪个分支",-1)),j(a,{onSetData:o.handleSetData,properties:t.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const MG=Ct(kG,[["render",EG],["__scopeId","data-v-93d3bcf8"]]);let OG=class extends sr{constructor(e){super(e),this.renderVue(MG,e)}},AG=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getAnchorPos(){return f$(this.properties)}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;let c=[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e}],f=this.getAnchorPos();for(let v=0;v<f.length;v++){let{offsetTop:m,offsetHeight:y}=f[v],_=r-o/2;c.push({id:f[v].id,x:t+i/2,y:_+m+y/2,type:"right"})}return c}};const LG={type:"judge-node",model:AG,view:OG},TG={name:"SpecifyReplyNode",inject:["getNode","getGraph","setData"],components:{NodeCommon:lr,AtInput:Hr,FullscreenOutlined:n2,FullAtInput:X_},props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}],valueOptions:[],formState:{content:"",content_tags:[]}}},computed:{},mounted(){this.getValueOptions();const n=this.getGraph();let e=this.properties.dataRaw||this.properties.node_params||"{}";const r=JSON.parse(e).reply||{content:"",content_tags:[]};this.formState.content=r.content,this.formState.content_tags=r.content_tags||[],this.$nextTick(()=>{this.$refs.atInputRef.refresh()}),this.update(),n.eventCenter.on("custom:setNodeName",this.onUpatateNodeName)},onBeforeUnmount(){this.getGraph().eventCenter.off("custom:setNodeName",this.onUpatateNodeName)},methods:{onUpatateNodeName(n){fa.includes(n.node_type)&&(this.getValueOptions(),this.$nextTick(()=>{this.formState.content_tags&&this.formState.content_tags.length>0&&this.formState.content_tags.forEach(e=>{if(e.node_id==n.node_id){let t=e.label.split("/");t[0]=n.node_name,e.label=t.join("/"),e.node_name=n.node_name}}),this.$refs.atInputRef.refresh()}))},getValueOptions(){let n=this.getNode().getAllParentVariable();this.valueOptions=n||[]},getHeight(){return 312},updateHeight(){let n=this.getHeight();this.setData({height:n})},update(){let n=this.getHeight(),e=JSON.parse(this.properties.node_params);e.reply={...this.formState},this.setData({height:n,node_params:JSON.stringify(e)})},showAtList(n){n&&this.getValueOptions()},changeValue(n,e){this.formState.content_tags=e,this.formState.content=n,this.update()},handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleOpenFullAtModal(){this.$refs.fullAtInputRef.show()},handleRefreshAtInput(){this.$refs.atInputRef.refresh()}}},NG={class:"specify-reply-node"},DG={class:"node-content"},PG={class:"form-item-label"},RG={class:"flex-between-box"},HG={class:"form-item-body"};function IG(n,e,t,r,i,o){const a=Kt("FullscreenOutlined"),l=Kt("at-input"),u=Kt("FullAtInput"),c=Kt("node-common");return oe(),Qe(c,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",NG,[e[6]||(e[6]=L("div",{class:"node-desc"},"触发该节点，将生成一条固定消息",-1)),L("div",DG,[e[5]||(e[5]=L("div",{class:"form-label"},"输出",-1)),L("div",{class:"form-item",onMousedown:e[2]||(e[2]=Qt(()=>{},["stop"]))},[L("div",PG,[L("div",RG,[e[4]||(e[4]=L("div",null,"消息内容",-1)),L("div",{class:"btn-hover-wrap",onClick:e[0]||(e[0]=(...f)=>o.handleOpenFullAtModal&&o.handleOpenFullAtModal(...f))},[j(a)])])]),L("div",HG,[j(l,{inputStyle:"height: 100px;",options:i.valueOptions,defaultSelectedList:i.formState.content_tags,defaultValue:i.formState.content,ref:"atInputRef",placeholder:"请输入消息内容，键入“/”可以插入变量","input-style":"height: 130px",type:"textarea",onOpen:o.showAtList,onChange:e[1]||(e[1]=(f,v)=>o.changeValue(f,v))},null,8,["options","defaultSelectedList","defaultValue","onOpen"])])],32)]),j(u,{options:i.valueOptions,defaultSelectedList:i.formState.content_tags,defaultValue:i.formState.content,placeholder:"请输入消息内容，键入“/”可以插入变量",type:"textarea",onOpen:o.showAtList,onChange:e[3]||(e[3]=(f,v)=>o.changeValue(f,v)),onOk:o.handleRefreshAtInput,ref:"fullAtInputRef"},null,8,["options","defaultSelectedList","defaultValue","onOpen","onOk"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const BG=Ct(TG,[["render",IG],["__scopeId","data-v-7002d066"]]);let jG=class extends sr{constructor(e){super(e),this.renderVue(BG,e)}},FG=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o)=>{if(r.id==i.id)return!1;const a=r.graphModel.edges.map(u=>u.sourceAnchorId),l=o.id;return o.type==="right"&&!a.includes(l)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o}=this,{nodeSortKey:a}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:a+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+25,id:a+"-anchor_right",type:"right",nodeId:e}]}};const VG={type:"specify-reply-node",model:FG,view:jG},Z_={__name:"add-params-modal",emits:["add","edit","addSub"],setup(n,{expose:e,emit:t}){const r=t,i=Fe(!1),o=Fe("新增参数");let a="add";const l=(x,k)=>k?/^[a-zA-Z_]+$/.test(k)?Promise.resolve():Promise.reject("只能包含英文字母和下划线"):Promise.reject("请输入参数key");let u=0;const c=Pn({key:"",typ:"string",required:!1,default:"",enum:"",cu_key:"",subs:[]}),f=()=>{i.value=!0},v=()=>{Object.assign(c,{key:"",typ:"string",required:!1,default:"",enum:"",cu_key:Math.random()*1e4,subs:[]}),a="add",o.value="新增参数",i.value=!0},m=x=>{u=x,Object.assign(c,{key:"",typ:"string",required:!1,default:"",enum:"",cu_key:Math.random()*1e4,subs:[]}),a="addSub",o.value="新增参数",i.value=!0},y=(x,k)=>{u=k,Object.assign(c,{key:"",typ:"string",required:!1,default:"",enum:"",cu_key:Math.random()*1e4,subs:[]}),Object.assign(c,{...x}),a="edit",o.value="编辑参数",i.value=!0},_=Fe(null),b=()=>{_.value.validate().then(()=>{a=="add"&&r("add",{...c}),a=="addSub"&&r("addSub",{...c},u),a=="edit"&&r("edit",{...c},u),i.value=!1})},w=[{lable:"string",value:"string"},{lable:"number",value:"number"},{lable:"boole",value:"boole"},{lable:"float",value:"float"},{lable:"object",value:"object"},{lable:"array<string>",value:"array<string>"},{lable:"array<number>",value:"array<number>"},{lable:"array<boole>",value:"array<boole>"},{lable:"array<float>",value:"array<float>"},{lable:"array<object>",value:"array<object>"}];return e({show:f,add:v,edit:y,addSub:m}),(x,k)=>{const N=Vr,D=Co,V=ei,U=Qr,B=ua,G=Ed,Q=to,ae=Mi;return oe(),we("div",null,[j(ae,{open:i.value,"onUpdate:open":k[5]||(k[5]=q=>i.value=q),title:o.value,onOk:b,width:472,"ok-text":"确定","cancel-text":"取消"},{default:J(()=>[j(Q,{ref_key:"formRef",ref:_,layout:"vertical",model:c,style:{margin:"24px 0"}},{default:J(()=>[j(D,{label:"参数key",name:"key",rules:[{required:!0,validator:(q,ue)=>l(q,ue)}]},{default:J(()=>[j(N,{value:c.key,"onUpdate:value":k[0]||(k[0]=q=>c.key=q),maxlength:20,placeholder:"英文字母和下划线“_”组成，最多20字符"},null,8,["value"])]),_:1},8,["rules"]),j(D,{label:"参数类型",name:"typ",rules:[{required:!0,message:"请选择参数类型"}]},{default:J(()=>[j(U,{value:c.typ,"onUpdate:value":k[1]||(k[1]=q=>c.typ=q),placeholder:"请选择",style:{width:"100%"}},{default:J(()=>[(oe(),we(Et,null,Rt(w,q=>j(V,{value:q.value},{default:J(()=>[ze(rt(q.value),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"])]),_:1}),j(D,{label:"是否必填",name:"required",rules:[{required:!0,message:"请选择是否必填"}]},{default:J(()=>[j(B,{checked:c.required,"onUpdate:checked":k[2]||(k[2]=q=>c.required=q)},null,8,["checked"])]),_:1}),j(D,{label:"默认值",name:"default",rules:[{required:c.required,message:"请输入默认值"}]},{default:J(()=>[j(N,{value:c.default,"onUpdate:value":k[3]||(k[3]=q=>c.default=q),placeholder:"必填时大模型未提取到会返回默认值"},null,8,["value"])]),_:1},8,["rules"]),j(D,{label:"枚举值",name:"enum"},{default:J(()=>[j(G,{style:{height:"80px"},value:c.enum,"onUpdate:value":k[4]||(k[4]=q=>c.enum=q),placeholder:"列举该字段的值，一行一个。系统会要求大模型只能返回列举的值"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])])}}},$G={class:"sub-field-item"},WG=["onClick"],zG=["onClick"],UG=["onClick"],GG={__name:"subs-key",props:{data:{},level:{type:Number},typOptions:{type:Array}},setup(n){const e=n,t=nn(()=>e.level>2?e.typOptions.filter(y=>y.value!="object"):e.typOptions),r=nn(()=>e.level==2?"180px":"146px");let i=0;const o=(y,_)=>{_.splice(y,1)},a=y=>{y.subs=[]},l=Fe(null),u=y=>{i=y,l.value.add()},c=(y,_)=>{l.value.edit(y,_)},f=y=>{e.data[i].subs.push(y)},v=(y,_)=>{e.data.splice(_,1,y)},m=y=>y.typ=="object"&&e.level<=2;return(y,_)=>{const b=Vr,w=ei,x=Qr,k=Kt("SubsKey",!0);return oe(),we(Et,null,[(oe(!0),we(Et,null,Rt(e.data,(N,D)=>(oe(),we("div",{class:Lr(["sub-field-item-box",`sub-field-item-box_${e.level}`]),key:N.cu_key},[L("div",$G,[_[0]||(_[0]=L("img",{class:"fork-icon",src:dl,alt:""},null,-1)),j(b,{class:"mr12",style:yo({width:r.value}),value:N.key,"onUpdate:value":V=>N.key=V,placeholder:"请输入"},null,8,["style","value","onUpdate:value"]),_[1]||(_[1]=L("img",{class:"fork-icon",src:dl,alt:""},null,-1)),j(x,{class:"mr12",onChange:V=>a(N),value:N.typ,"onUpdate:value":V=>N.typ=V,placeholder:"请选择",style:yo({width:r.value})},{default:J(()=>[(oe(!0),we(Et,null,Rt(t.value,V=>(oe(),Qe(w,{value:V.value},{default:J(()=>[ze(rt(V.value),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["onChange","value","onUpdate:value","style"]),m(N)?(oe(),we("div",{key:0,class:"btn-hover-wrap mr12",onClick:V=>u(D,e.data)},[j(Ue(vl))],8,WG)):ct("",!0),L("div",{class:"btn-hover-wrap mr12",onClick:V=>c(N,D)},[j(Ue(yy))],8,zG),L("div",{class:"btn-hover-wrap",onClick:V=>o(D,e.data)},[j(Ue(Or))],8,UG)]),N.subs&&N.subs.length>0?(oe(),Qe(k,{key:0,level:e.level+1,typOptions:e.typOptions,data:N.subs},null,8,["level","typOptions","data"])):ct("",!0)],2))),128)),j(Z_,{onAdd:f,onEdit:v,ref_key:"addParamsModalRef",ref:l},null,512)],64)}}},XG=Ct(GG,[["__scopeId","data-v-a20f7631"]]),ZG={class:"gray-block"},YG={class:"flex-block-item"},qG={class:"number-box"},KG={class:"number-slider-box"},JG={class:"number-input-box"},QG={class:"number-box"},eX={class:"number-slider-box"},tX={class:"number-input-box"},nX={class:"number-box"},rX={class:"number-box"},iX={class:"number-slider-box"},oX={class:"number-input-box"},sX={class:"field-list-item"},aX={class:"field-label"},lX={class:"field-type"},uX={class:"diy-form-item"},dX={class:"form-content"},cX={class:"gray-block mt16"},fX={class:"output-box"},hX={class:"flex-block-item",style:{gap:"12px"}},pX=["onClick"],vX=["onClick"],gX=["onClick"],mX={key:0,class:"sub-field-box"},yX={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(n,{expose:e,emit:t}){const r=Qs(),i=Cn("getGraph"),o=Cn("getNode"),a=n,l=t,u=Fe(null),c=nn(()=>r.modelList),f=(Oe,$)=>{y.prompt=Oe,y.prompt_tags=$},v=()=>{let Oe=o().getAllParentVariable();Oe.forEach($=>{$.tags=$.tags||[]}),x.value=Oe},m=Fe(),y=Pn({model_config_id:void 0,use_model:void 0,temperature:0,max_token:0,context_pair:0,prompt:"",question_value:"",enable_thinking:!1,output:[]});function _(Oe){return Oe.forEach($=>{$.cu_key=Math.random()*1e4,$.subs&&$.subs.length?_($.subs):$.subs=[]}),Oe}function b(Oe){if(Oe){let $=Oe.split("."),he=$[0],ge=$.filter((be,Be)=>Be>0).join(".");return[he,ge]}return["global","question"]}let w=!1;const x=Fe([]),k=Fe([]),N=Fe(!1),D=()=>{N.value=!N.value,l("setData",{height:U()})};bn(()=>a.properties,Oe=>{try{if(w)return;v(),le();let $=Oe.dataRaw||Oe.node_params||"{}",he=JSON.parse($).params_extractor||{};he=JSON.parse(JSON.stringify(he));for(let ge in he){if(ge=="output"){y.output=_(he[ge]);continue}if(ge=="question_value"){y.question_value=b(he[ge]);continue}y[ge]=he[ge]}!y.model_config_id&&c.value.length>0&&(y.model_config_id=c.value[0].id,y.use_model=c.value[0].children[0].name),w=!0,setTimeout(()=>{l("setData",{...y,node_params:JSON.stringify({params_extractor:{...y,question_value:y.question_value.join("."),model_config_id:y.model_config_id?+y.model_config_id:y.model_config_id}}),height:U()})},100)}catch($){}},{immediate:!0,deep:!0}),bn(()=>y,Oe=>{l("setData",{...y,node_params:JSON.stringify({params_extractor:{...y,question_value:y.question_value.join("."),model_config_id:y.model_config_id?+y.model_config_id:y.model_config_id}}),height:U()})},{deep:!0});const V=()=>{};function U(){let Oe=N.value?670:520,$=B(y.output);return Oe+180+($-1)*36}function B(Oe){let $=Oe.length;for(const he of Oe)he.subs&&Array.isArray(he.subs)&&($+=B(he.subs));return $}const G=Fe(null),Q=()=>{G.value.add()},ae=(Oe,$)=>{G.value.edit(Oe,$)},q=Oe=>{y.output.push(Oe)},ue=(Oe,$)=>{y.output.splice($,1,Oe)},T=Oe=>{y.output.splice(Oe,1)},R=Oe=>{Oe.subs=[]},A=Oe=>{G.value.addSub(Oe)},se=(Oe,$)=>{y.output[$].subs.push(Oe)},re=[{lable:"string",value:"string"},{lable:"number",value:"number"},{lable:"boole",value:"boole"},{lable:"float",value:"float"},{lable:"object",value:"object"},{lable:"array<string>",value:"array<string>"},{lable:"array<number>",value:"array<number>"},{lable:"array<boole>",value:"array<boole>"},{lable:"array<float>",value:"array<float>"},{lable:"array<object>",value:"array<object>"}],de=Oe=>{fa.includes(Oe.node_type)&&(v(),wi(()=>{y.prompt_tags&&y.prompt_tags.length>0&&(y.prompt_tags.forEach($=>{if($.node_id==Oe.node_id){let he=$.label.split("/");he[0]=Oe.node_name,$.label=he.join("/"),$.node_name=Oe.node_name}}),u.value.refresh())}))};function le(){let Oe=o().getAllParentVariable();k.value=Ae(Oe)}function Ae(Oe){return Oe.forEach($=>{$.typ=="node"?$.node_type==1?$.value="global":$.value=$.node_id:$.value=$.key,$.children&&$.children.length>0&&($.children=Ae($.children))}),Oe}const pe=Oe=>{Oe||le()},Ne=Fe({}),Ve=(Oe,$)=>{Ne.value=$},Ie=nn(()=>{if(!y.model_config_id)return!1;let Oe=y.model_config_id+"#"+y.use_model;return Ne.value[Oe]});return or(()=>{i().eventCenter.on("custom:setNodeName",de)}),vs(()=>{i().eventCenter.off("custom:setNodeName",de)}),e({}),(Oe,$)=>{const he=cr,ge=Co,be=Ai,Be=Q0,xe=da,Re=wo,st=ua,Lt=pl,wt=Vr,Mt=ei,on=Qr,pn=to;return oe(),we("div",{class:"form-block",onMousedown:$[12]||($[12]=Qt(()=>{},["stop"]))},[j(pn,{ref_key:"formRef",ref:m,layout:"vertical",model:y},{default:J(()=>[L("div",ZG,[$[25]||($[25]=L("div",{class:"gray-block-title"},"输入",-1)),j(ge,{label:"LLM模型",name:"use_model"},{default:J(()=>[L("div",YG,[j(Md,{modelType:"LLM",modeName:y.use_model,"onUpdate:modeName":$[0]||($[0]=z=>y.use_model=z),modeId:y.model_config_id,"onUpdate:modeId":$[1]||($[1]=z=>y.model_config_id=z),onLoaded:Ve,style:{width:"348px"}},null,8,["modeName","modeId"]),j(he,{onClick:D},{default:J(()=>[$[13]||($[13]=ze("高级设置 ")),N.value?(oe(),Qe(Ue(J0),{key:0})):(oe(),Qe(Ue(Od),{key:1}))]),_:1,__:[13]})])]),_:1}),N.value?(oe(),Qe(ge,{key:0,name:"temperature"},{label:J(()=>[$[15]||($[15]=L("span",null,"温度 ",-1)),j(be,null,{title:J(()=>$[14]||($[14]=[ze("温度越低，回答越严谨。温度越高，回答越发散。")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",qG,[L("div",KG,[j(xe,null,{default:J(()=>[j(Be,{class:"custom-slider",value:y.temperature,"onUpdate:value":$[2]||($[2]=z=>y.temperature=z),min:0,max:2,step:.1},null,8,["value"])]),_:1})]),L("div",JG,[j(Re,{value:y.temperature,"onUpdate:value":$[3]||($[3]=z=>y.temperature=z),min:0,max:2,step:.1},null,8,["value"])])])]),_:1})):ct("",!0),N.value?(oe(),Qe(ge,{key:1,name:"max_token"},{label:J(()=>[$[17]||($[17]=L("span",null,"最大token ",-1)),j(be,null,{title:J(()=>$[16]||($[16]=[ze("问题+答案的最大token数，如果出现回答被截断，可调高此值")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",QG,[L("div",eX,[j(xe,null,{default:J(()=>[j(Be,{class:"custom-slider",value:y.max_token,"onUpdate:value":$[4]||($[4]=z=>y.max_token=z),min:0,max:100*1024},null,8,["value"])]),_:1})]),L("div",tX,[j(Re,{value:y.max_token,"onUpdate:value":$[5]||($[5]=z=>y.max_token=z),min:0,max:100*1024},null,8,["value"])])])]),_:1})):ct("",!0),N.value&&Ie.value?(oe(),Qe(ge,{key:2,name:"enable_thinking"},{label:J(()=>[$[19]||($[19]=L("span",null,"深度思考 ",-1)),j(be,null,{title:J(()=>$[18]||($[18]=[ze("开启时，调用大模型时会指定走深度思考模式")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",nX,[j(st,{checked:y.enable_thinking,"onUpdate:checked":$[6]||($[6]=z=>y.enable_thinking=z)},null,8,["checked"])])]),_:1})):ct("",!0),j(ge,{name:"context_pair"},{label:J(()=>[$[21]||($[21]=L("span",null,"上下文数量 ",-1)),j(be,null,{title:J(()=>$[20]||($[20]=[ze("提示词中携带的历史聊天记录轮次。设置为0则不携带聊天记录。最多设置50轮。注意，携带的历史聊天记录越多，消耗的token相应也就越多。")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",rX,[L("div",iX,[j(xe,null,{default:J(()=>[j(Be,{class:"custom-slider",value:y.context_pair,"onUpdate:value":$[7]||($[7]=z=>y.context_pair=z),min:0,max:50},null,8,["value"])]),_:1})]),L("div",oX,[j(Re,{value:y.context_pair,"onUpdate:value":$[8]||($[8]=z=>y.context_pair=z),min:0,max:50},null,8,["value"])])])]),_:1}),j(ge,{name:"prompt",class:"width-100"},{label:J(()=>$[22]||($[22]=[L("div",{class:"space-between-box"},[L("div",null,"提示词")],-1)])),default:J(()=>[j(Hr,{type:"textarea",inputStyle:"height: 100px;",options:x.value,defaultSelectedList:y.prompt_tags,defaultValue:y.prompt,ref_key:"atInputRef",ref:u,onOpen:v,onChange:$[9]||($[9]=(z,E)=>f(z,E)),placeholder:"请输入消息内容，键入“/”可以插入变量"},{option:J(({label:z,payload:E})=>[L("div",sX,[L("div",aX,rt(z),1),L("div",lX,rt(E.typ),1)])]),_:1},8,["options","defaultSelectedList","defaultValue"]),$[23]||($[23]=L("div",{class:"form-tip"},"输入 / 插入变量",-1))]),_:1,__:[23]}),L("div",uX,[$[24]||($[24]=L("div",{class:"form-label"},"用户问题",-1)),L("div",dX,[j(Lt,{value:y.question_value,"onUpdate:value":$[10]||($[10]=z=>y.question_value=z),onDropdownVisibleChange:pe,style:{width:"220px"},options:k.value,allowClear:!1,displayRender:({labels:z})=>z.join("/"),"field-names":{children:"children"},placeholder:"请选择"},null,8,["value","options","displayRender"])])])]),L("div",cX,[L("div",{class:"gray-block-title",onClick:V},"输出 (输出字段提取)"),L("div",fX,[$[27]||($[27]=L("div",{class:"output-block"},[L("div",{class:"output-item"},"参数Key"),L("div",{class:"output-item"},"类型")],-1)),L("div",{class:"array-form-box",onMousedown:$[11]||($[11]=Qt(()=>{},["stop"]))},[(oe(!0),we(Et,null,Rt(y.output,(z,E)=>(oe(),we("div",{class:"form-item-list",key:E},[j(ge,{label:null,name:["output",E,"key"]},{default:J(()=>[L("div",hX,[j(wt,{style:{width:"214px"},value:z.key,"onUpdate:value":H=>z.key=H,placeholder:"请输入"},null,8,["value","onUpdate:value"]),j(xe,null,{default:J(()=>[j(on,{onChange:H=>R(z),value:z.typ,"onUpdate:value":H=>z.typ=H,placeholder:"请选择",style:{width:"214px"}},{default:J(()=>[(oe(),we(Et,null,Rt(re,H=>j(Mt,{value:H.value},{default:J(()=>[ze(rt(H.value),1)]),_:2},1032,["value"])),64))]),_:2},1032,["onChange","value","onUpdate:value"])]),_:2},1024),z.typ=="object"?(oe(),we("div",{key:0,class:"btn-hover-wrap",onClick:H=>A(E)},[j(Ue(vl))],8,pX)):ct("",!0),L("div",{class:"btn-hover-wrap",onClick:H=>ae(z,E)},[j(Ue(yy))],8,vX),L("div",{class:"btn-hover-wrap",onClick:H=>T(E)},[j(Ue(Or))],8,gX)]),z.subs&&z.subs.length>0?(oe(),we("div",mX,[j(xe,null,{default:J(()=>[j(XG,{data:z.subs,level:2,typOptions:re},null,8,["data"])]),_:2},1024)])):ct("",!0)]),_:2},1032,["name"])]))),128)),j(he,{onClick:Q,icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>$[26]||($[26]=[ze("添加参数")])),_:1,__:[26]},8,["icon"])],32)])])]),_:1},8,["model"]),j(Z_,{onAdd:q,onEdit:ue,onAddSub:se,ref_key:"addParamsModalRef",ref:G},null,512)],32)}}},_X=Ct(yX,[["__scopeId","data-v-feff0909"]]),bX={name:"HttpNode",components:{NodeCommon:lr,FormBlock:_X},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{message_list:[]}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(n){this.setData({...n})}}},CX={class:"http-node"};function wX(n,e,t,r,i,o){const a=Kt("FormBlock"),l=Kt("node-common");return oe(),Qe(l,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",CX,[e[0]||(e[0]=L("div",{class:"node-desc"},"用大模型从用户消息中提取指定的参数并输出到下一节点",-1)),j(a,{onSetData:o.handleSetData,properties:t.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const xX=Ct(bX,[["render",wX],["__scopeId","data-v-1bd43fd9"]]);let kX=class extends sr{constructor(e){super(e),this.renderVue(xX,e)}},SX=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+24,id:u+"-anchor_right",type:"right",nodeId:e}]}};const EX={type:"parameter-extraction-node",model:SX,view:kX},MX={class:"gray-block"},OX={class:"flex-block-item"},AX={class:"number-box"},LX={class:"number-slider-box"},TX={class:"number-input-box"},NX={class:"number-box"},DX={class:"number-slider-box"},PX={class:"number-input-box"},RX={class:"number-box"},HX={class:"number-box"},IX={class:"number-slider-box"},BX={class:"number-input-box"},jX={class:"field-list-item"},FX={class:"field-label"},VX={class:"field-type"},$X={class:"diy-form-item"},WX={class:"form-content"},zX={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(n,{expose:e,emit:t}){const r=Qs(),i=Cn("getGraph"),o=Cn("getNode"),a=n,l=Fe(null),u=nn(()=>r.modelList);Fe(!1);const c=Fe([]),f=Fe([]),v=Fe(!1),m=()=>{v.value=!v.value,k("setData",{height:v.value?770:628})},y=(T,R)=>{D.prompt=T,D.prompt_tags=R};function _(){let T=o().getAllParentVariable();f.value=b(T)}function b(T){return T.forEach(R=>{R.typ=="node"?R.node_type==1?R.value="global":R.value=R.node_id:R.value=R.key,R.children&&R.children.length>0&&(R.children=b(R.children))}),T}const w=()=>{let T=o().getAllParentVariable();c.value=T};function x(T){if(T){let R=T.split("."),A=R[0],se=R.filter((re,de)=>de>0).join(".");return[A,se]}return["global","question"]}const k=t,N=Fe(),D=Pn({model_config_id:void 0,use_model:void 0,temperature:0,max_token:0,context_pair:0,prompt:"",prompt_tags:[],question_value:"",enable_thinking:!1});let V=!1;bn(()=>a.properties,T=>{try{if(V)return;let R=T.dataRaw||T.node_params||"{}",A=JSON.parse(R).question_optimize||{};A=JSON.parse(JSON.stringify(A));let{model_config_id:se,use_model:re,context_pair:de,temperature:le,max_token:Ae,prompt:pe,prompt_tags:Ne,question_value:Ve,enable_thinking:Ie}=A;w(),_(),D.model_config_id=se,D.use_model=re,D.context_pair=de||0,D.temperature=le,D.max_token=Ae,D.prompt=pe,D.enable_thinking=Ie,D.prompt_tags=Ne||[],D.question_value=x(Ve),!D.model_config_id&&u.value.length>0&&(D.model_config_id=u.value[0].id,D.use_model=u.value[0].children[0].name),V=!0,setTimeout(()=>{k("setData",{...D,node_params:JSON.stringify({question_optimize:{...D,question_value:D.question_value.join("."),model_config_id:D.model_config_id?+D.model_config_id:D.model_config_id}})})},100)}catch(R){}},{immediate:!0,deep:!0}),bn(()=>D,T=>{k("setData",{...D,node_params:JSON.stringify({question_optimize:{...D,question_value:D.question_value.join("."),model_config_id:D.model_config_id?+D.model_config_id:D.model_config_id}})})},{deep:!0});const U=T=>{fa.includes(T.node_type)&&(w(),wi(()=>{D.prompt_tags&&D.prompt_tags.length>0&&(D.prompt_tags.forEach(R=>{if(R.node_id==T.node_id){let A=R.label.split("/");A[0]=T.node_name,R.label=A.join("/"),R.node_name=T.node_name}}),l.value.refresh())}))},B=Fe(null),G=T=>{D.prompt="",T.prompt_type==1?D.prompt=T.markdown:D.prompt=T.prompt,wi(()=>{l.value.initData()})},Q=T=>{T||_()},ae=Fe({}),q=(T,R)=>{ae.value=R},ue=nn(()=>{if(!D.model_config_id)return!1;let T=D.model_config_id+"#"+D.use_model;return ae.value[T]});return or(()=>{i().eventCenter.on("custom:setNodeName",U)}),vs(()=>{i().eventCenter.off("custom:setNodeName",U)}),e({}),(T,R)=>{const A=cr,se=Co,re=Ai,de=Q0,le=da,Ae=wo,pe=ua,Ne=pl,Ve=to;return oe(),we("div",{class:"form-block",onMousedown:R[11]||(R[11]=Qt(()=>{},["stop"]))},[j(Ve,{ref_key:"formRef",ref:N,layout:"vertical",model:D},{default:J(()=>[L("div",MX,[R[24]||(R[24]=L("div",{class:"gray-block-title"},"输入",-1)),j(se,{label:"LLM模型",name:"use_model"},{default:J(()=>[L("div",OX,[j(Md,{modelType:"LLM",modeName:D.use_model,"onUpdate:modeName":R[0]||(R[0]=Ie=>D.use_model=Ie),modeId:D.model_config_id,"onUpdate:modeId":R[1]||(R[1]=Ie=>D.model_config_id=Ie),onLoaded:q,style:{width:"348px"}},null,8,["modeName","modeId"]),j(A,{onClick:m},{default:J(()=>[R[12]||(R[12]=ze("高级设置 ")),v.value?(oe(),Qe(Ue(J0),{key:0})):(oe(),Qe(Ue(Od),{key:1}))]),_:1,__:[12]})])]),_:1}),v.value?(oe(),Qe(se,{key:0,name:"temperature"},{label:J(()=>[R[14]||(R[14]=L("span",null,"温度 ",-1)),j(re,null,{title:J(()=>R[13]||(R[13]=[ze("温度越低，回答越严谨。温度越高，回答越发散。")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",AX,[L("div",LX,[j(le,null,{default:J(()=>[j(de,{class:"custom-slider",value:D.temperature,"onUpdate:value":R[2]||(R[2]=Ie=>D.temperature=Ie),min:0,max:2,step:.1},null,8,["value"])]),_:1})]),L("div",TX,[j(Ae,{value:D.temperature,"onUpdate:value":R[3]||(R[3]=Ie=>D.temperature=Ie),min:0,max:2,step:.1},null,8,["value"])])])]),_:1})):ct("",!0),v.value?(oe(),Qe(se,{key:1,name:"max_token"},{label:J(()=>[R[16]||(R[16]=L("span",null,"最大token ",-1)),j(re,null,{title:J(()=>R[15]||(R[15]=[ze("问题+答案的最大token数，如果出现回答被截断，可调高此值")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",NX,[L("div",DX,[j(le,null,{default:J(()=>[j(de,{class:"custom-slider",value:D.max_token,"onUpdate:value":R[4]||(R[4]=Ie=>D.max_token=Ie),min:0,max:100*1024},null,8,["value"])]),_:1})]),L("div",PX,[j(Ae,{value:D.max_token,"onUpdate:value":R[5]||(R[5]=Ie=>D.max_token=Ie),min:0,max:100*1024},null,8,["value"])])])]),_:1})):ct("",!0),v.value&&ue.value?(oe(),Qe(se,{key:2,name:"enable_thinking"},{label:J(()=>[R[18]||(R[18]=L("span",null,"深度思考 ",-1)),j(re,null,{title:J(()=>R[17]||(R[17]=[ze("开启时，调用大模型时会指定走深度思考模式")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",RX,[j(pe,{checked:D.enable_thinking,"onUpdate:checked":R[6]||(R[6]=Ie=>D.enable_thinking=Ie)},null,8,["checked"])])]),_:1})):ct("",!0),j(se,{name:"context_pair"},{label:J(()=>[R[20]||(R[20]=L("span",null,"上下文数量 ",-1)),j(re,null,{title:J(()=>R[19]||(R[19]=[ze("提示词中携带的历史聊天记录轮次。设置为0则不携带聊天记录。最多设置50轮。注意，携带的历史聊天记录越多，消耗的token相应也就越多。")])),default:J(()=>[j(Ue(ir),{class:"question-icon"})]),_:1})]),default:J(()=>[L("div",HX,[L("div",IX,[j(le,null,{default:J(()=>[j(de,{class:"custom-slider",value:D.context_pair,"onUpdate:value":R[7]||(R[7]=Ie=>D.context_pair=Ie),min:0,max:50},null,8,["value"])]),_:1})]),L("div",BX,[j(Ae,{value:D.context_pair,"onUpdate:value":R[8]||(R[8]=Ie=>D.context_pair=Ie),min:0,max:50},null,8,["value"])])])]),_:1}),j(se,{name:"prompt",class:"width-100"},{label:J(()=>R[21]||(R[21]=[L("div",{class:"space-between-box"},[L("div",null,"对话背景")],-1)])),default:J(()=>[j(Hr,{type:"textarea",inputStyle:"height: 100px;",options:c.value,defaultSelectedList:D.prompt_tags,defaultValue:D.prompt,ref_key:"atInputRef",ref:l,onOpen:w,onChange:R[9]||(R[9]=(Ie,Oe)=>y(Ie,Oe)),placeholder:"描述当前对话的背景，便于大模型补全用户问题，比如：当前对话是关于chatwiki的使用问题和功能介绍"},{option:J(({label:Ie,payload:Oe})=>[L("div",jX,[L("div",FX,rt(Ie),1),L("div",VX,rt(Oe.typ),1)])]),_:1},8,["options","defaultSelectedList","defaultValue"]),R[22]||(R[22]=L("div",{class:"form-tip"},"输入 / 插入变量",-1))]),_:1,__:[22]}),L("div",$X,[R[23]||(R[23]=L("div",{class:"form-label"},"用户问题",-1)),L("div",WX,[j(Ne,{value:D.question_value,"onUpdate:value":R[10]||(R[10]=Ie=>D.question_value=Ie),onDropdownVisibleChange:Q,style:{width:"220px"},options:f.value,allowClear:!1,displayRender:({labels:Ie})=>Ie.join("/"),"field-names":{children:"children"},placeholder:"请选择"},null,8,["value","options","displayRender"])])])]),R[25]||(R[25]=L("div",{class:"gray-block mt16"},[L("div",{class:"gray-block-title"},"输出"),L("div",{class:"options-item"},[L("div",{class:"option-label"},"问题优化结果"),L("div",{class:"option-type"},"string")])],-1))]),_:1,__:[25]},8,["model"]),j(py,{onOk:G,ref_key:"importPromptRef",ref:B},null,512)],32)}}},UX=Ct(zX,[["__scopeId","data-v-204a8ec6"]]),GX={name:"AiDialogueNode",components:{NodeCommon:lr,FormBlock:UX},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(n){this.setData({...n})}},mounted(){}},XX={class:"ai-dialogue-node"};function ZX(n,e,t,r,i,o){const a=Kt("FormBlock"),l=Kt("node-common");return oe(),Qe(l,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",XX,[e[0]||(e[0]=L("div",{class:"node-desc"},"用大模型优化用户问题，补全潜在信息缺口，提升知识召回率",-1)),j(a,{onSetData:o.handleSetData,properties:t.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const YX=Ct(GX,[["render",ZX],["__scopeId","data-v-5f767515"]]);let qX=class extends sr{constructor(e){super(e),this.renderVue(YX,e)}},KX=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+24,id:u+"-anchor_right",type:"right",nodeId:e}]}};const JX={type:"problem-optimization-node",model:KX,view:qX},oc="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%202C11%202%2014.3333%203.33333%2014.3333%208C14.3333%2012.6667%2011%2014%209%2014'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M1.7002%208L11%208'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M9%202C11%202%2014.3333%203.33333%2014.3333%208C14.3333%2012.6667%2011%2014%209%2014'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.9666%208L1.66672%208'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7%2012L11%208L7%204'%20stroke='%23262626'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",u2=Mw("dataTable",{state:()=>({formList:[],formFieldListMap:{},formListLoading:!1,formFieldListLoadingMap:{},formListQueue:[],formFieldListQueueMap:{}}),getters:{},actions:{async getFormList(){if(this.formList.length>0)return[...this.formList];if(this.formListLoading)return new Promise(n=>{this.formListQueue.push(n)});this.formListLoading=!0;try{const n=await jx();this.formList=n.data||[];const e=[...this.formList];return this.formListQueue.forEach(t=>t(e)),this.formListQueue=[],e}catch(n){this.formList=[];const e=[...this.formList];return this.formListQueue.forEach(t=>t(e)),this.formListQueue=[],e}finally{this.formListLoading=!1}},async getFormFieldList({form_id:n}){if(this.formFieldListMap[n]&&this.formFieldListMap[n].length>0)return[...this.formFieldListMap[n]];if(this.formFieldListLoadingMap[n])return new Promise(e=>{this.formFieldListQueueMap[n]||(this.formFieldListQueueMap[n]=[]),this.formFieldListQueueMap[n].push(e)});this.formFieldListLoadingMap[n]=!0;try{const e=await Bx({form_id:n});this.formFieldListMap[n]=e.data||[];const t=[...this.formFieldListMap[n]];return this.formFieldListQueueMap[n]&&(this.formFieldListQueueMap[n].forEach(r=>r(t)),this.formFieldListQueueMap[n]=[]),t}catch(e){this.formFieldListMap[n]=[];const t=[...this.formFieldListMap[n]];return this.formFieldListQueueMap[n]&&(this.formFieldListQueueMap[n].forEach(r=>r(t)),this.formFieldListQueueMap[n]=[]),t}finally{this.formFieldListLoadingMap[n]=!1}},async refreshFormList(){return this.formList=[],this.formListLoading=!1,this.formListQueue=[],await this.getFormList()},async refreshFormFieldList({form_id:n}){return this.formFieldListMap[n]=[],this.formFieldListLoadingMap[n]=!1,this.formFieldListQueueMap[n]=[],await this.getFormFieldList({form_id:n})}}}),QX={class:"field-select-box"},eZ={key:0,class:"field-list-box"},tZ={key:1,class:"empty-box"},nZ={__name:"field-select-alert",emits:["ok"],setup(n,{expose:e,emit:t}){const r=t,i=u2(),o=Pn({show:!1,formId:"",selectedRowKeys:[],selectedRows:[]}),a=Fe([{title:"字段名称",dataIndex:"name",key:"name"},{title:"数据类型",dataIndex:"type",key:"type"},{title:"字段描述",dataIndex:"description",key:"description"}]),l=Fe([]),u=(_,b)=>{o.selectedRowKeys=_,o.selectedRows=b},c=({formId:_,selectedRowKeys:b,selectedRows:w})=>{o.formId=_,o.selectedRowKeys=b,o.selectedRows=w,y(),o.show=!0},f=()=>{window.open("/#/database/details/field-manage?form_id="+o.formId)},v=()=>{r("ok",o.selectedRowKeys,o.selectedRows),o.show=!1},m=Fe(!1),y=_=>{m.value=!0,i.getFormFieldList({form_id:o.formId}).then(b=>{m.value=!1,b.forEach(w=>{w.value="",w.id=w.id*1}),l.value=b}).catch(()=>{m.value=!1})};return e({open:c}),(_,b)=>{const w=hy,x=Mi;return oe(),Qe(x,{width:"746px",open:o.show,"onUpdate:open":b[0]||(b[0]=k=>o.show=k),title:"关联数据表",onOk:v,"ok-text":"确定","cancel-text":"取消"},{default:J(()=>[L("div",QX,[l.value.length?(oe(),we("div",eZ,[j(w,{rowKey:"name","row-selection":{selectedRowKeys:o.selectedRowKeys,onChange:u},dataSource:l.value,columns:a.value,loading:m.value,pagination:!1},null,8,["row-selection","dataSource","columns","loading"])])):ct("",!0),l.value.length?ct("",!0):(oe(),we("div",tZ,[b[2]||(b[2]=L("img",{src:X1,alt:""},null,-1)),L("div",null,[b[1]||(b[1]=ze(" 暂无字段, 请先去数据表添加 ")),L("a",{onClick:f}," 去添加")])]))])]),_:1},8,["open"])}}},rZ=Ct(nZ,[["__scopeId","data-v-ecdd9175"]]),iZ={class:"field-list"},oZ={class:"field-list-row"},sZ={key:0,class:"field-list-col field-list-col-head field-value-head"},aZ={key:1,class:"field-list-col field-list-col-head field-del-head"},lZ={key:0,class:"field-list-row"},uZ={class:"field-list-col field-value-col"},dZ={class:"field-list-col field-name-col"},cZ={class:"field-list-col field-type-col"},fZ={key:0,class:"field-list-col field-value-col"},hZ={key:1,class:"field-list-col field-del-col"},pZ=["onClick"],vZ={key:0,class:"add-btn-box"},gZ={__name:"index",props:{showAdd:{type:Boolean,default:!1},showDelete:{type:Boolean,default:!0},showInput:{type:Boolean,default:!0},showEmptyFieldRow:{type:Boolean,default:!1},formId:{type:[String,Number],default:""},list:{type:Array,default:()=>[]}},emits:["change"],setup(n,{emit:e}){const t=e,r=n,i=Cn("getNode"),o=Pn({list:r.list});bn(()=>r.list,b=>{o.list=b});const a=Fe([]),l=()=>{let b=i().getAllParentVariable();a.value=b||[]},u=()=>{l()},c=(b,w,x,k)=>{o.list[k].value=b,o.list[k].atTags=w,m()},f=(b,w)=>{o.list=[...w],m()},v=b=>{o.list.splice(b,1),m()},m=()=>{t("change",[...o.list])},y=Fe(),_=()=>{y.value.open({formId:r.formId,selectedRows:r.list,selectedRowKeys:r.list.map(b=>b.name)})};return or(()=>{l()}),(b,w)=>{const x=Vr,k=Ai,N=bo,D=cr;return oe(),we("div",null,[L("div",iZ,[L("div",oZ,[w[0]||(w[0]=L("div",{class:"field-list-col field-list-col-head field-name-head"},"字段名",-1)),w[1]||(w[1]=L("div",{class:"field-list-col field-list-col-head field-type-head"},"类型",-1)),n.showInput?(oe(),we("div",sZ,"字段值")):ct("",!0),r.showDelete?(oe(),we("div",aZ)):ct("",!0)]),n.showEmptyFieldRow?(oe(),we("div",lZ,[w[2]||(w[2]=L("div",{class:"field-list-col field-name-col"},"--",-1)),w[3]||(w[3]=L("div",{class:"field-list-col field-type-col"},"--",-1)),L("div",uZ,[j(k,{title:"请先选择数据库"},{default:J(()=>[j(x,{disabled:!0,placeholder:"请输入参数值，键入/插入变量"})]),_:1})])])):ct("",!0),(oe(!0),we(Et,null,Rt(o.list,(V,U)=>(oe(),we("div",{class:"field-list-row",key:V.name},[L("div",dZ,rt(V.name),1),L("div",cZ,rt(V.type),1),n.showInput?(oe(),we("div",fZ,[j(Hr,{options:a.value,defaultValue:V.value,defaultSelectedList:V.atTags,onOpen:u,onChange:(B,G)=>c(B,G,V,U),placeholder:"请输入参数值，键入“/”插入变量"},null,8,["options","defaultValue","defaultSelectedList","onChange"])])):ct("",!0),r.showDelete?(oe(),we("div",hZ,[L("span",{class:"del-btn",onClick:B=>v(U)},[j(N,{class:"del-icon",name:"close-circle"})],8,pZ)])):ct("",!0)]))),128))]),r.showAdd?(oe(),we("div",vZ,[j(D,{class:"add-btn",type:"dashed",block:"",onClick:_},{default:J(()=>[j(Ue(rr)),w[4]||(w[4]=ze(" 添加更新字段"))]),_:1,__:[4]})])):ct("",!0),j(rZ,{formId:n.formId,ref_key:"fieldSelectAlertRef",ref:y,onOk:f},null,8,["formId"])])}}},xg=Ct(gZ,[["__scopeId","data-v-88fd3ecf"]]),mZ={class:"library-checkbox-box"},yZ={class:"list-box",ref:"scrollContainer"},_Z={class:"library-name"},bZ={class:"library-desc"},CZ={key:1,class:"empty-box"},wZ={__name:"table-select-alert",props:{value:{type:[String,Number],default:""},options:{type:Array,default:()=>[]}},emits:["ok"],setup(n,{expose:e,emit:t}){const r=t,i=n,o=Fe(),a=Fe(!1),l=v=>{o.value=v,a.value=!0},u=()=>{a.value=!1,c()},c=()=>{let v=i.options.filter(m=>m.id===o.value);r("ok",o.value,JSON.parse(JSON.stringify(v[0])))},f=()=>{window.open("/#/database/list")};return e({open:l}),(v,m)=>{const y=gy,_=vy,b=Mi;return oe(),Qe(b,{width:"746px",open:a.value,"onUpdate:open":m[1]||(m[1]=w=>a.value=w),title:"关联数据表","ok-text":"确定","cancel-text":"取消",onOk:u},{default:J(()=>[L("div",mZ,[n.options.length?(oe(),Qe(_,{key:0,value:o.value,"onUpdate:value":m[0]||(m[0]=w=>o.value=w),style:{width:"100%"}},{default:J(()=>[L("div",yZ,[(oe(!0),we(Et,null,Rt(i.options,w=>(oe(),we("div",{class:"list-item-wraapper",key:w.id},[j(y,{class:"list-item",value:w.id},{default:J(()=>[L("div",_Z,rt(w.name),1),L("div",bZ,rt(w.description),1)]),_:2},1032,["value"])]))),128))],512)]),_:1},8,["value"])):ct("",!0),n.options.length?ct("",!0):(oe(),we("div",CZ,[m[3]||(m[3]=L("img",{src:X1,alt:""},null,-1)),L("div",null,[m[2]||(m[2]=ze(" 暂无数据表, 请先去添加数据表 ")),L("a",{onClick:f}," 去添加")])]))])]),_:1},8,["open"])}}},xZ=Ct(wZ,[["__scopeId","data-v-51756847"]]),kZ={class:""},SZ={key:0,class:"data-table-info"},EZ={class:"data-table-name"},MZ={class:"data-table-desc"},OZ={__name:"index",props:{value:{type:[String,Number],default:""},options:{type:Array,default:()=>[]},description:{type:String,default:""},title:{type:String,default:""}},emits:["update:value","change"],setup(n,{emit:e}){const t=e,r=n,i=Fe(null),o=nn(()=>{let c=r.options.filter(f=>f.id===r.value);return c.length?c[0]:null}),a=()=>{i.value.open()},l=(c,f)=>{t("update:value",c),t("change",c,f)},u=()=>{t("update:value",""),t("change","")};return(c,f)=>{const v=bo,m=cr;return oe(),we("div",kZ,[r.value?(oe(),we("div",SZ,[L("div",EZ,rt(o.value?o.value.name:r.title),1),L("div",MZ,rt(o.value?o.value.description:r.description),1),j(v,{class:"del-btn",name:"close-circle",onClick:u})])):(oe(),Qe(m,{key:1,class:"select-data-btn",type:"primary",ghost:"",onClick:a},{default:J(()=>[j(Ue(rr)),f[0]||(f[0]=ze(" 选择数据表"))]),_:1,__:[0]})),j(xZ,{ref_key:"tableSelectAlertRef",ref:i,onOk:l,options:n.options},null,8,["options"])])}}},sc=Ct(OZ,[["__scopeId","data-v-618f643f"]]),AZ={class:"node-box"},LZ={class:"node-box-content"},TZ={class:"setting-box"},NZ={class:"setting-box"},DZ={__name:"index",props:{properties:{type:Object,default:()=>({})},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},setup(n){const e=n,t=Cn("getNode"),r=Cn("getGraph"),i=Cn("setData"),o=u2(),a=Fe([{name:"删除",key:"delete",color:"#fb363f"}]),l=w=>{if(w.key==="delete"){let x=t();r().deleteNode(x.id)}};let u={};const c=Pn({tableList:[],formData:{form_name:"",form_description:"",form_id:"",datas:[]}}),f=(w,x)=>{x?(c.formData.form_name=x.name,c.formData.form_description=x.description,b(x.id)):(c.formData.form_name="",c.formData.form_description="",c.formData.datas=[]),y()},v=w=>{c.formData.datas=w,y()},m=()=>{let w=e.properties.dataRaw||e.properties.node_params||"{}";u=JSON.parse(w),c.formData=u.form_insert,y()},y=()=>{u.form_insert=gs(c.formData),i({node_params:JSON.stringify(u)})},_=async()=>{const w=await o.getFormList();c.tableList=w},b=async w=>{o.getFormFieldList({form_id:w}).then(x=>{x.forEach(k=>{k.id=k.id*1}),c.formData.datas=x,y()}).catch(()=>{})};return or(()=>{_(),m()}),(w,x)=>(oe(),Qe(lr,{title:e.properties.node_name,menus:a.value,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type,onHandleMenu:l},{default:J(()=>[L("div",AZ,[x[4]||(x[4]=L("div",{class:"node-desc"},[ze("在指定数据表中插入数据，可以在数据库中维护数据表 "),L("a",{target:"_blank",href:"/#/database/list"},"去管理")],-1)),L("div",LZ,[x[1]||(x[1]=L("div",{class:"node-box-title"},[L("img",{class:"input-icon",src:oc,alt:""}),L("span",{class:"text"},"输入")],-1)),x[2]||(x[2]=L("div",{class:"setting-label"},[L("span",null,"数据表")],-1)),L("div",TZ,[j(sc,{options:c.tableList,title:c.formData.form_name,description:c.formData.form_description,value:c.formData.form_id,"onUpdate:value":x[0]||(x[0]=k=>c.formData.form_id=k),onChange:f},null,8,["options","title","description","value"])]),x[3]||(x[3]=L("div",{class:"setting-label"},[L("span",null,"插入数据"),L("span",{class:"tip"},"（不填写字段值则为空）")],-1)),L("div",NZ,[j(xg,{"form-id":c.formData.form_id,showEmptyFieldRow:c.formData.form_id=="",list:c.formData.datas,showAdd:!1,showDelete:!1,onChange:v},null,8,["form-id","showEmptyFieldRow","list"])])])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type"]))}},PZ=Ct(DZ,[["__scopeId","data-v-18cd4c0a"]]);let RZ=class extends sr{constructor(e){super(e),this.renderVue(PZ,e)}},HZ=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+25,id:u+"-anchor_right",type:"right",nodeId:e}]}};const IZ={type:"add-data-node",model:HZ,view:RZ},Gn={EQUALITY:{EQ:{label:"等于",value:"eq"},IS:{label:"是",value:"eq"},IS_NOT:{label:"不是",value:"neq"}},COMPARISON:{GT:{label:"大于",value:"gt"},LT:{label:"小于",value:"lt"},GTE:{label:"大于等于",value:"gte"},LTE:{label:"小于等于",value:"lte"},BETWEEN:{label:"介于",value:"between"}},TEXT:{CONTAIN:{label:"包含",value:"contain"},NOT_CONTAIN:{label:"不包含",value:"not_contain"}},NULLABILITY:{EMPTY:{label:"为空",value:"empty"},NOT_EMPTY:{label:"不为空",value:"not_empty"}},BOOLEAN:{TRUE:{label:"是",value:"true"},FALSE:{label:"不是",value:"false"}}},Y_={string:[Gn.EQUALITY.IS,Gn.EQUALITY.IS_NOT,Gn.TEXT.CONTAIN,Gn.TEXT.NOT_CONTAIN,Gn.NULLABILITY.EMPTY,Gn.NULLABILITY.NOT_EMPTY],integer:[Gn.COMPARISON.GT,Gn.COMPARISON.LT,Gn.COMPARISON.GTE,Gn.COMPARISON.LTE,Gn.EQUALITY.EQ,Gn.COMPARISON.BETWEEN],number:[Gn.COMPARISON.GT,Gn.COMPARISON.LT,Gn.COMPARISON.GTE,Gn.COMPARISON.LTE,Gn.EQUALITY.EQ,Gn.COMPARISON.BETWEEN],boolean:[Gn.BOOLEAN.TRUE,Gn.BOOLEAN.FALSE]},BZ=n=>Y_[n]||[],jZ={class:"query-condition-filter"},FZ={class:"condition-select-box"},VZ={class:"select-wrapper"},$Z={class:"field-items"},WZ={class:"field-select-box"},zZ={class:"operator-select-box"},UZ={class:"field-value-box"},GZ={key:0,class:"site-input-group-wrapper"},XZ={class:"site-input-left",title:"请输入数字，键入“/”插入变量"},ZZ={class:"site-input-right",title:"请输入数字，键入“/”插入变量"},YZ=["onClick"],qZ={class:"add-btn-box"},KZ={__name:"query-condition-filter",props:{where:{type:Array,default:()=>[]},fieldOptions:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},type:{type:[Number,String],default:1}},emits:["change","changeType"],setup(n,{emit:e}){const t=e,r=n,i=Cn("getNode"),o=Pn({list:r.where,type:r.type});bn(()=>r.where,N=>{o.list=N}),bn(()=>r.type,N=>{o.type=N});const a=nn(()=>r.where.length>1),l=nn(()=>Y_),u=Fe([]),c=()=>{let N=i().getAllParentVariable();u.value=N||[]},f=()=>{c()},v=()=>{let N={type:o.type,list:o.list};t("change",N)},m=(N,D,V,U)=>{o.list[U].rule_value1=N,o.list[U].atTags=D,v()},y=(N,D,V,U)=>{o.list[U].rule_value2=N,o.list[U].atTags2=D,v()},_=()=>{let N={form_field_id:"",field_name:"",field_type:"",rule:"",rule_value1:"",rule_value2:"",atTags:[],atTags2:[]};o.list.push(N),v()},b=N=>{o.list.splice(N,1),v()},w=(N,D)=>{let V=BZ(D.type),U={form_field_id:D.value,field_name:D.name,field_type:D.type,rule:V[0].value,rule_value1:"",rule_value2:"",atTags:[],atTags2:[]};o.list[N]=U,v()},x=(N,D)=>{let V=o.list[N];V.rule=D.value,V.rule_value1="",V.rule_value2="",V.atTags=[],V.atTags2=[],v()},k=({key:N})=>{o.type=N,t("changeType",N),v()};return or(()=>{c()}),(N,D)=>{const V=c0,U=z1,B=_y,G=ei,Q=Qr,ae=Vr,q=bo,ue=cr,T=Ai;return oe(),we("div",{class:Lr(["query-condition-filter-warpper",{"is-multiple":a.value}])},[L("div",jZ,[D[5]||(D[5]=L("div",{class:"auxiliary-line"},null,-1)),L("div",FZ,[L("div",VZ,[j(B,null,{overlay:J(()=>[j(U,{style:{width:"100px"},onClick:k},{default:J(()=>[(oe(),Qe(V,{key:1},{default:J(()=>D[1]||(D[1]=[L("a",{href:"javascript:;"},"且",-1)])),_:1,__:[1]})),(oe(),Qe(V,{key:2},{default:J(()=>D[2]||(D[2]=[L("a",{href:"javascript:;"},"或",-1)])),_:1,__:[2]}))]),_:1})]),default:J(()=>[L("a",{class:"ant-dropdown-link",onClick:D[0]||(D[0]=Qt(()=>{},["prevent"]))},[ze(rt(o.type==1?"且":"或")+" ",1),j(Ue(J0))])]),_:1})])]),L("div",$Z,[(oe(!0),we(Et,null,Rt(o.list,(R,A)=>(oe(),we("div",{class:"field-item",key:R.field},[L("div",WZ,[j(Q,{style:{width:"100px"},value:R.form_field_id,"onUpdate:value":se=>R.form_field_id=se,onChange:(se,re)=>w(A,re)},{default:J(()=>[j(G,{value:0,type:"integer",name:"ID",key:"id"},{default:J(()=>D[3]||(D[3]=[ze("ID")])),_:1,__:[3]}),(oe(!0),we(Et,null,Rt(r.fieldOptions,se=>(oe(),Qe(G,{value:se.id,type:se.type,name:se.name,key:se.id},{default:J(()=>[ze(rt(se.name),1)]),_:2},1032,["value","type","name"]))),128))]),_:2},1032,["value","onUpdate:value","onChange"])]),L("div",zZ,[j(Q,{value:R.rule,"onUpdate:value":se=>R.rule=se,style:{width:"100px"},onChange:(se,re)=>x(A,re)},{default:J(()=>[(oe(!0),we(Et,null,Rt(l.value[R.field_type],se=>(oe(),Qe(G,{value:se.value,key:se.value},{default:J(()=>[ze(rt(se.label),1)]),_:2},1032,["value"]))),128))]),_:2},1032,["value","onUpdate:value","onChange"])]),L("div",UZ,[R.rule==="between"?(oe(),we("div",GZ,[L("div",XZ,[j(Hr,{options:u.value,defaultValue:R.rule_value1,defaultSelectedList:R.atTags,onOpen:f,onChange:(se,re)=>m(se,re,R,A),placeholder:"请输入数字"},null,8,["options","defaultValue","defaultSelectedList","onChange"])]),D[4]||(D[4]=L("span",{class:"site-input-split"},"~",-1)),L("div",ZZ,[j(Hr,{options:u.value,defaultValue:R.rule_value2,defaultSelectedList:R.atTags2,onOpen:f,onChange:(se,re)=>y(se,re,R,A),placeholder:"请输入数字"},null,8,["options","defaultValue","defaultSelectedList","onChange"])])])):["empty","not_empty","boolean"].includes(R.field_type)?(oe(),Qe(ae,{key:1,placeholder:"无需输入值",disabled:""})):["integer","number"].includes(R.field_type)?(oe(),Qe(Hr,{key:2,options:u.value,defaultValue:R.rule_value1,defaultSelectedList:R.atTags,onOpen:f,onChange:(se,re)=>m(se,re,R,A),placeholder:"请输入数字，键入“/”插入变量"},null,8,["options","defaultValue","defaultSelectedList","onChange"])):(oe(),Qe(Hr,{key:3,options:u.value,defaultValue:R.rule_value1,defaultSelectedList:R.atTags,onOpen:f,onChange:(se,re)=>m(se,re,R,A),placeholder:"请输入参数值，键入“/”插入变量"},null,8,["options","defaultValue","defaultSelectedList","onChange"]))]),L("span",{class:"field-del-btn",onClick:se=>b(A)},[j(q,{class:"del-icon",name:"close-circle"})],8,YZ)]))),128))])]),L("div",qZ,[n.disabled?(oe(),Qe(T,{key:0,title:"请先选择数据库",style:{width:"100%"}},{default:J(()=>[L("span",null,[j(ue,{class:"add-btn",type:"dashed",disabled:"",block:""},{default:J(()=>[j(Ue(rr)),D[6]||(D[6]=ze(" 添加条件 "))]),_:1,__:[6]})])]),_:1})):(oe(),Qe(ue,{key:1,class:"add-btn",type:"dashed",block:"",onClick:_},{default:J(()=>[j(Ue(rr)),D[7]||(D[7]=ze(" 添加条件 "))]),_:1,__:[7]}))])],2)}}},kg=Ct(KZ,[["__scopeId","data-v-606f28e6"]]),JZ={class:"node-box"},QZ={class:"node-box-content"},eY={class:"setting-box"},tY={class:"setting-box"},nY={class:"setting-box"},rY={__name:"index",props:{properties:{type:Object,default:()=>({})},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},setup(n){const e=n,t=Cn("getNode"),r=Cn("getGraph"),i=Cn("setData"),o=u2(),a=Fe([{name:"删除",key:"delete",color:"#fb363f"}]),l=N=>{if(N.key==="delete"){let D=t();r().deleteNode(D.id)}};let u={};const c=Pn({tableList:[],formData:{form_name:"",form_description:"",form_id:"",typ:1,datas:[],where:[]},fieldList:[]}),f=({type:N,list:D})=>{c.formData.typ=N,c.formData.where=D,_()},v=(N,D)=>{D?(c.formData.form_name=D.name,c.formData.form_description=D.description,k(D.id)):(c.formData.form_name="",c.formData.form_description="",c.formData.datas=[],c.formData.where=[],c.formData.typ=1),_()},m=N=>{c.formData.datas=N,_()},y=()=>{let N=e.properties.dataRaw||e.properties.node_params||"{}";u=JSON.parse(N);let D=b(u.form_update.where||[]);u.form_update.where=D,c.formData=u.form_update,c.formData.form_id&&k(c.formData.form_id),_()},_=()=>{let N={...gs(c.formData)};N.where=w(N.where),u.form_update=N,i({node_params:JSON.stringify(u)})},b=N=>{let D=[];return N.forEach(V=>{let U=JSON.parse(JSON.stringify(V)),B=U.rule.split("_");U.form_field_id=U.form_field_id*1,U.field_type=B[0],B.shift(),U.rule=B.join("_"),D.push(U)}),D},w=N=>{let D=[];return N.forEach(V=>{let U=JSON.parse(JSON.stringify(V));U.form_field_id=U.form_field_id*1,U.rule=V.field_type+"_"+V.rule,D.push(U)}),D},x=async()=>{const N=await o.getFormList();N&&(c.tableList=N)},k=async N=>{o.getFormFieldList({form_id:N}).then(D=>{D.forEach(V=>{V.id=V.id*1}),c.fieldList=D}).catch(()=>{})};return or(()=>{x(),y()}),(N,D)=>(oe(),Qe(lr,{title:e.properties.node_name,menus:a.value,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type,onHandleMenu:l},{default:J(()=>[L("div",JZ,[D[5]||(D[5]=L("div",{class:"node-desc"},[ze(" 在指定数据表中更新符合条件的数据，可以在数据库中维护数据表 "),L("a",{target:"_blank",href:"/#/database/list"},"去管理")],-1)),L("div",QZ,[D[1]||(D[1]=L("div",{class:"node-box-title"},[L("img",{class:"input-icon",src:oc,alt:""}),L("span",{class:"text"},"输入")],-1)),D[2]||(D[2]=L("div",{class:"setting-label"},[L("span",null,"数据表")],-1)),L("div",eY,[j(sc,{options:c.tableList,title:c.formData.form_name,description:c.formData.form_description,value:c.formData.form_id,"onUpdate:value":D[0]||(D[0]=V=>c.formData.form_id=V),onChange:v},null,8,["options","title","description","value"])]),D[3]||(D[3]=L("div",{class:"setting-label"},[L("span",null,"更新条件")],-1)),L("div",tY,[j(kg,{disabled:!c.formData.form_id,where:c.formData.where,"field-options":c.fieldList,type:c.formData.typ,onChange:f},null,8,["disabled","where","field-options","type"])]),D[4]||(D[4]=L("div",{class:"setting-label"},[L("span",null,"更新数据")],-1)),L("div",nY,[j(xg,{"form-id":c.formData.form_id,showAdd:c.formData.form_id!="",showEmptyFieldRow:c.formData.form_id=="",list:c.formData.datas,onChange:m},null,8,["form-id","showAdd","showEmptyFieldRow","list"])])])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type"]))}},iY=Ct(rY,[["__scopeId","data-v-a5e177bf"]]);let oY=class extends sr{constructor(e){super(e),this.renderVue(iY,e)}},sY=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+25,id:u+"-anchor_right",type:"right",nodeId:e}]}};const aY={type:"update-data-node",model:sY,view:oY},lY={class:"node-box"},uY={class:"node-box-content"},dY={class:"setting-box"},cY={class:"setting-box"},fY={__name:"index",props:{properties:{type:Object,default:()=>({})},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},setup(n){const e=n,t=Cn("getNode"),r=Cn("getGraph"),i=Cn("setData"),o=u2(),a=Fe([{name:"删除",key:"delete",color:"#fb363f"}]),l=k=>{if(k.key==="delete"){let N=t();r().deleteNode(N.id)}};let u={};const c=Pn({tableList:[],formData:{form_name:"",form_description:"",form_id:"",typ:1,where:[]},fieldList:[]}),f=({type:k,list:N})=>{c.formData.typ=k,c.formData.where=N,y()},v=(k,N)=>{N?(c.formData.form_name=N.name,c.formData.form_description=N.description,x(N.id)):(c.formData.form_name="",c.formData.form_description="",c.formData.where=[]),y()},m=()=>{let k=e.properties.dataRaw||e.properties.node_params||"{}";u=JSON.parse(k);let N=_(u.form_delete.where||[]);u.form_delete.where=N,c.formData=u.form_delete,c.formData.form_id&&x(c.formData.form_id),y()},y=()=>{let k={...gs(c.formData)};k.where=b(k.where),u.form_delete=k,i({node_params:JSON.stringify(u)})},_=k=>{let N=[];return k.forEach(D=>{let V=JSON.parse(JSON.stringify(D)),U=V.rule.split("_");V.form_field_id=V.form_field_id*1,V.field_type=U[0],U.shift(),V.rule=U.join("_"),N.push(V)}),N},b=k=>{let N=[];return k.forEach(D=>{let V=JSON.parse(JSON.stringify(D));V.form_field_id=V.form_field_id*1,V.rule=D.field_type+"_"+D.rule,N.push(V)}),N},w=async()=>{const k=await o.getFormList();k&&(c.tableList=k)},x=async k=>{o.getFormFieldList({form_id:k}).then(N=>{N.forEach(D=>{D.id=D.id*1}),c.fieldList=N}).catch(()=>{})};return or(()=>{w(),m()}),(k,N)=>(oe(),Qe(lr,{title:e.properties.node_name,menus:a.value,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type,onHandleMenu:l},{default:J(()=>[L("div",lY,[N[4]||(N[4]=L("div",{class:"node-desc"},[ze("删除指定数据表中符合条件的数据，可以在数据库中维护数据表 "),L("a",{target:"_blank",href:"/#/database/list"},"去管理")],-1)),L("div",uY,[N[1]||(N[1]=L("div",{class:"node-box-title"},[L("img",{class:"input-icon",src:oc,alt:""}),L("span",{class:"text"},"输入")],-1)),N[2]||(N[2]=L("div",{class:"setting-label"},[L("span",null,"数据表")],-1)),L("div",dY,[j(sc,{options:c.tableList,title:c.formData.form_name,description:c.formData.form_description,value:c.formData.form_id,"onUpdate:value":N[0]||(N[0]=D=>c.formData.form_id=D),onChange:v},null,8,["options","title","description","value"])]),N[3]||(N[3]=L("div",{class:"setting-label"},[L("span",null,"删除条件")],-1)),L("div",cY,[j(kg,{disabled:!c.formData.form_id,where:c.formData.where,"field-options":c.fieldList,type:c.formData.typ,onChange:f},null,8,["disabled","where","field-options","type"])])])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type"]))}},hY=Ct(fY,[["__scopeId","data-v-d44d9dc5"]]);let pY=class extends sr{constructor(e){super(e),this.renderVue(hY,e)}},vY=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+25,id:u+"-anchor_right",type:"right",nodeId:e}]}};const gY={type:"delete-data-node",model:vY,view:pY},mY={class:"collapse-panel-warpper"},yY={class:"collapse-panel-header"},_Y={class:"title-text"},bY={class:"collapse-panel-body"},CY={__name:"collapse-panel",props:{title:{type:String},count:{type:[Number,String],default:0},defaultCollapsed:{type:Boolean,default:!1}},setup(n){const t=Fe(n.defaultCollapsed),r=()=>{t.value=!t.value};return(i,o)=>{const a=bo;return oe(),we("div",mY,[L("div",yY,[L("div",{class:"collapse-panel-title",onClick:Qt(r,["stop"])},[L("span",_Y,[ze(rt(n.title)+" ",1),n.count?(oe(),we(Et,{key:0},[ze("（"+rt(n.count)+"）",1)],64)):ct("",!0)]),j(a,{name:"arrow-down",class:Lr(["arrow-icon",{collapsed:t.value}]),style:{"font-size":"16px",color:"#000"}},null,8,["class"])])]),G0(L("div",bY,[K5(i.$slots,"default",{},void 0,!0)],512),[[X0,!t.value]])])}}},Lf=Ct(CY,[["__scopeId","data-v-9f89b1e9"]]),wY={class:"field-select-box"},xY={key:0,class:"field-list-box"},kY={key:1,class:"empty-box"},SY={__name:"field-select-alert",emits:["ok"],setup(n,{expose:e,emit:t}){const r=t,i=Pn({show:!1,formId:"",selectedRowKeys:[],selectedRows:[]}),o=Fe([{title:"字段名称",dataIndex:"name",key:"name"},{title:"数据类型",dataIndex:"type",key:"type"},{title:"字段描述",dataIndex:"description",key:"description"}]),a=Fe([{name:"create_time",type:"integer",description:"create_time",is_asc:0},{name:"update_time",type:"integer",description:"update_time",is_asc:0}]),l=(f,v)=>{i.selectedRowKeys=f,i.selectedRows=v},u=({formId:f,selectedRowKeys:v,selectedRows:m})=>{i.formId=f,i.selectedRowKeys=v,i.selectedRows=m,i.show=!0},c=()=>{r("ok",i.selectedRowKeys,i.selectedRows),i.show=!1};return e({open:u}),(f,v)=>{const m=hy,y=Mi;return oe(),Qe(y,{width:"746px",open:i.show,"onUpdate:open":v[1]||(v[1]=_=>i.show=_),title:"关联数据表",onOk:c,"ok-text":"确定","cancel-text":"取消"},{default:J(()=>[L("div",wY,[a.value.length?(oe(),we("div",xY,[j(m,{rowKey:"name","row-selection":{selectedRowKeys:i.selectedRowKeys,onChange:l},dataSource:a.value,columns:o.value,pagination:!1},null,8,["row-selection","dataSource","columns"])])):ct("",!0),a.value.length?ct("",!0):(oe(),we("div",kY,[v[3]||(v[3]=L("img",{src:X1,alt:""},null,-1)),L("div",null,[v[2]||(v[2]=ze(" 暂无字段, 请先去数据表添加 ")),L("a",{onClick:v[0]||(v[0]=(..._)=>f.openAddLibrary&&f.openAddLibrary(..._))}," 去添加")])]))])]),_:1},8,["open"])}}},EY=Ct(SY,[["__scopeId","data-v-e0fc750c"]]),MY={class:"field-list"},OY={class:"field-list-col field-drag-col"},AY={class:"drag-btn"},LY={class:"field-list-col field-name-col"},TY={class:"field-name-box"},NY={class:"field-name"},DY={class:"field-type-tag"},PY={class:"field-list-col field-value-col"},RY={key:0,class:"field-list-col field-del-col"},HY={class:"add-btn-box"},IY={__name:"index",props:{showAdd:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},formId:{type:[String,Number],default:""},list:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["change"],setup(n,{emit:e}){const t=e,r=n,i=[{label:"升序",value:1,key:"asc"},{label:"降序",value:0,key:"desc"}],o=Fe([]);bn(()=>r.list,m=>{o.value=m.map(y=>({...y,is_asc:y.is_asc?1:0}))});const a=m=>{o.value.splice(m,1),c()},l=(m,y)=>{o.value=y.map(_=>({..._})),c()},u=()=>{c()},c=()=>{let m=o.value.map(y=>({...y,is_asc:y.is_asc==1}));t("change",m)},f=Fe(),v=()=>{f.value.open({formId:r.formId,selectedRows:r.list,selectedRowKeys:r.list.map(m=>m.name)})};return(m,y)=>{const _=ei,b=Qr,w=bo,x=cr,k=Ai;return oe(),we("div",null,[L("div",MY,[(oe(!0),we(Et,null,Rt(o.value,N=>(oe(),we("div",{class:"field-list-row",key:N.name},[L("div",OY,[L("span",AY,[j(Ue(Ud))])]),L("div",LY,[L("div",TY,[L("span",NY,rt(N.name),1),L("span",DY,rt(N.type),1)])]),L("div",PY,[j(b,{value:N.is_asc,"onUpdate:value":D=>N.is_asc=D,style:{width:"100%"},onChange:u},{default:J(()=>[(oe(),we(Et,null,Rt(i,D=>j(_,{value:D.value,key:D.key},{default:J(()=>[ze(rt(D.label),1)]),_:2},1032,["value"])),64))]),_:2},1032,["value","onUpdate:value"])]),r.showDelete?(oe(),we("div",RY,[L("span",{class:"del-btn",onClick:y[0]||(y[0]=D=>a(m.index))},[j(w,{class:"del-icon",name:"close-circle"})])])):ct("",!0)]))),128))]),L("div",HY,[n.disabled?(oe(),Qe(k,{key:0,title:"请先选择数据库",style:{width:"100%"}},{default:J(()=>[L("span",null,[j(x,{class:"add-btn",type:"dashed",disabled:"",block:""},{default:J(()=>[j(Ue(rr)),y[1]||(y[1]=ze(" 添加排序字段 "))]),_:1,__:[1]})])]),_:1})):(oe(),Qe(x,{key:1,class:"add-btn",type:"dashed",block:"",onClick:v},{default:J(()=>[j(Ue(rr)),y[2]||(y[2]=ze(" 添加排序字段 "))]),_:1,__:[2]}))]),j(EY,{formId:n.formId,ref_key:"fieldSelectAlertRef",ref:f,onOk:l},null,8,["formId"])])}}},BY=Ct(IY,[["__scopeId","data-v-fbdcd109"]]),jY={class:"field-item"},FY={class:"field-name"},VY={class:"field-type"},$Y={__name:"output-fields",props:{treeData:{type:Array,default:()=>[]}},setup(n){const e=n,t=Fe([]);return(r,i)=>{const o=bo,a=Fx;return oe(),we("div",{class:"field-tree-wrapper",onWheel:i[1]||(i[1]=Qt(()=>{},["stop"])),onTouchmove:i[2]||(i[2]=Qt(()=>{},["stop"]))},[j(a,{selectedKeys:t.value,"onUpdate:selectedKeys":i[0]||(i[0]=l=>t.value=l),blockNode:"",defaultExpandAll:!0,height:224,"tree-data":e.treeData},{switcherIcon:J(({switcherCls:l})=>[L("span",{class:Lr(l)},[j(o,{class:"switcher-btn",name:"arrow-down",style:{"font-size":"14px",color:"#333"}})],2)]),title:J(({dataRef:l})=>[L("div",jY,[L("span",FY,rt(l.title),1),L("span",VY,rt(l.type),1)])]),_:1},8,["selectedKeys","tree-data"])],32)}}},WY=Ct($Y,[["__scopeId","data-v-2c5047db"]]),zY={class:"node-box"},UY={class:"node-box-content"},GY={class:"setting-box"},XY={class:"setting-box"},ZY={class:"node-box-content"},YY={class:"setting-box"},qY={__name:"index",props:{properties:{type:Object,default:()=>({})},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},setup(n){const e=n,t=Cn("getNode"),r=Cn("getGraph"),i=Cn("setData"),o=u2(),a=Fe([{name:"删除",key:"delete",color:"#fb363f"}]),l=U=>{if(U.key==="delete"){let B=t();r().deleteNode(B.id)}};let u={};const c=Pn({tableList:[],formData:{form_name:"",form_description:"",form_id:"",typ:1,fields:[],where:[],order:[],limit:100},fieldList:[]}),f=nn(()=>[{title:"output_list",key:"output_list",type:"Array(Object)",children:c.formData.fields.map(B=>({title:B.name,key:B.name,type:B.type}))},{title:"row_num",key:"row_num",type:"integer"}]),v=({type:U,list:B})=>{c.formData.typ=U,c.formData.where=B,x()},m=U=>{c.formData.order=[...U],x()},y=(U,B)=>{B?(c.formData.form_name=B.name,c.formData.form_description=B.description,V(B.id)):(c.formData.form_name="",c.formData.form_description="",c.formData.typ=1,c.formData.fields=[],c.formData.where=[],c.formData.order=[],c.formData.limit=100),x()},_=U=>{c.formData.fields=U,x()},b=()=>{x()},w=()=>{let U=e.properties.dataRaw||e.properties.node_params||"{}";u=JSON.parse(U);let B=k(u.form_select.where||[]);u.form_select.where=B,c.formData=u.form_select,c.formData.form_id&&V(c.formData.form_id),x()},x=()=>{let U={...gs(c.formData)};U.where=N(U.where),u.form_select=U,i({node_params:JSON.stringify(u)})},k=U=>{let B=[];return U.forEach(G=>{let Q=JSON.parse(JSON.stringify(G)),ae=Q.rule.split("_");Q.form_field_id=Q.form_field_id*1,Q.field_type=ae[0],ae.shift(),Q.rule=ae.join("_"),B.push(Q)}),B},N=U=>{let B=[];return U.forEach(G=>{let Q=JSON.parse(JSON.stringify(G));Q.form_field_id=Q.form_field_id*1,Q.rule=G.field_type+"_"+G.rule,B.push(Q)}),B},D=async()=>{const U=await o.getFormList();U&&(c.tableList=U)},V=async U=>{o.getFormFieldList({form_id:U}).then(B=>{B.forEach(G=>{G.id=G.id*1}),c.fieldList=B}).catch(()=>{})};return or(()=>{D(),w()}),(U,B)=>{const G=wo;return oe(),Qe(lr,{title:e.properties.node_name,menus:a.value,"icon-name":n.properties.node_icon_name,isSelected:n.isSelected,isHovered:n.isHovered,"node-key":n.properties.node_key,node_type:n.properties.node_type,onHandleMenu:l},{default:J(()=>[L("div",zY,[B[12]||(B[12]=L("div",{class:"node-desc"},[ze(" 在指定数据表中查询符合条件的数据，可以在数据库中维护数据表 "),L("a",{target:"_blank",href:"/#/database/list"},"去管理")],-1)),L("div",UY,[B[8]||(B[8]=L("div",{class:"node-box-title"},[L("img",{class:"input-icon",src:oc,alt:""}),L("span",{class:"text"},"输入")],-1)),B[9]||(B[9]=L("div",{class:"setting-label"},[L("span",null,"数据表")],-1)),L("div",GY,[j(sc,{options:c.tableList,title:c.formData.form_name,description:c.formData.form_description,value:c.formData.form_id,"onUpdate:value":B[0]||(B[0]=Q=>c.formData.form_id=Q),onChange:y},null,8,["options","title","description","value"])]),L("div",XY,[j(Lf,{title:"查询条件",count:c.formData.where.length},{default:J(()=>[j(kg,{disabled:!c.formData.form_id,where:c.formData.where,"field-options":c.fieldList,type:c.formData.typ,onChange:v},null,8,["disabled","where","field-options","type"])]),_:1},8,["count"])]),L("div",{class:"setting-box",onWheel:B[1]||(B[1]=Qt(()=>{},["stop"])),onTouchmove:B[2]||(B[2]=Qt(()=>{},["stop"]))},[j(Lf,{title:"查询字段",count:c.formData.fields.length},{default:J(()=>[j(xg,{"form-id":c.formData.form_id,showAdd:c.formData.form_id!="",showInput:!1,showEmptyFieldRow:c.formData.form_id=="",list:c.formData.fields,onChange:_},null,8,["form-id","showAdd","showEmptyFieldRow","list"])]),_:1},8,["count"])],32),L("div",{class:"setting-box",onWheel:B[3]||(B[3]=Qt(()=>{},["stop"])),onTouchmove:B[4]||(B[4]=Qt(()=>{},["stop"]))},[j(Lf,{title:"排序",count:c.formData.order.length},{default:J(()=>[j(BY,{"form-id":c.formData.form_id,disabled:!c.formData.form_id,list:c.formData.order,onChange:m},null,8,["form-id","disabled","list"])]),_:1},8,["count"])],32),B[10]||(B[10]=L("div",{class:"setting-label"},[L("span",null,"查询数量")],-1)),L("div",{class:"setting-box",onWheel:B[6]||(B[6]=Qt(()=>{},["stop"])),onTouchmove:B[7]||(B[7]=Qt(()=>{},["stop"]))},[j(G,{min:1,max:1e3,value:c.formData.limit,"onUpdate:value":B[5]||(B[5]=Q=>c.formData.limit=Q),disabled:!c.formData.form_id,style:{width:"205px"},onChange:b},null,8,["value","disabled"])],32)]),L("div",ZY,[B[11]||(B[11]=L("div",{class:"node-box-title"},[L("img",{class:"input-icon",src:U_,alt:""}),L("span",{class:"text"},"输出")],-1)),L("div",YY,[j(WY,{treeData:f.value},null,8,["treeData"])])])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type"])}}},KY=Ct(qY,[["__scopeId","data-v-4f02f950"]]);let JY=class extends sr{constructor(e){super(e),this.renderVue(KY,e)}},QY=class extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+25,id:u+"-anchor_right",type:"right",nodeId:e}]}};const eq={type:"select-data-node",model:QY,view:JY},tq={class:"sub-field-item"},nq=["onClick"],rq=["onClick"],iq={__name:"subs-key",props:{data:{},level:{type:Number},typOptions:{type:Array}},setup(n){const e=n,t=nn(()=>e.level>2?e.typOptions.filter(u=>u.value!="object"):e.typOptions),r=nn(()=>e.level==2?"180px":"146px"),i=(u,c)=>{c[u].subs.push({key:"",value:"",subs:[],cu_key:Math.random()*1e4})},o=(u,c)=>{c.splice(u,1)},a=u=>{u.subs=[]},l=u=>u.typ=="object"&&e.level<=2;return(u,c)=>{const f=Vr,v=ei,m=Qr,y=Kt("SubsKey",!0);return oe(!0),we(Et,null,Rt(e.data,(_,b)=>(oe(),we("div",{class:Lr(["sub-field-item-box",`sub-field-item-box_${e.level}`]),key:_.cu_key},[L("div",tq,[c[0]||(c[0]=L("img",{class:"fork-icon",src:dl,alt:""},null,-1)),j(f,{class:"mr12",style:yo({width:r.value}),value:_.key,"onUpdate:value":w=>_.key=w,placeholder:"请输入"},null,8,["style","value","onUpdate:value"]),c[1]||(c[1]=L("img",{class:"fork-icon",src:dl,alt:""},null,-1)),j(m,{class:"mr12",onChange:w=>a(_),value:_.typ,"onUpdate:value":w=>_.typ=w,placeholder:"请选择",style:yo({width:r.value})},{default:J(()=>[(oe(!0),we(Et,null,Rt(t.value,w=>(oe(),Qe(v,{value:w.value},{default:J(()=>[ze(rt(w.value),1)]),_:2},1032,["value"]))),256))]),_:2},1032,["onChange","value","onUpdate:value","style"]),l(_)?(oe(),we("div",{key:0,class:"btn-hover-wrap mr12",onClick:w=>i(b,e.data)},[j(Ue(vl))],8,nq)):ct("",!0),L("div",{class:"btn-hover-wrap",onClick:w=>o(b,e.data)},[j(Ue(Or))],8,rq)]),_.subs&&_.subs.length>0?(oe(),Qe(y,{key:0,level:e.level+1,typOptions:e.typOptions,data:_.subs},null,8,["level","typOptions","data"])):ct("",!0)],2))),128)}}},oq=Ct(iq,[["__scopeId","data-v-5348e09b"]]);var _5={exports:{}},wu={exports:{}},sq=wu.exports,b5;function ws(){return b5||(b5=1,function(n,e){(function(t,r){n.exports=r()})(sq,function(){var t=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(t),o=/MSIE \d/.test(t),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),l=/Edge\/(\d+)/.exec(t),u=o||a||l,c=u&&(o?document.documentMode||6:+(l||a)[1]),f=!l&&/WebKit\//.test(t),v=f&&/Qt\/\d+\.\d+/.test(t),m=!l&&/Chrome\/(\d+)/.exec(t),y=m&&+m[1],_=/Opera\//.test(t),b=/Apple Computer/.test(navigator.vendor),w=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),x=/PhantomJS/.test(t),k=b&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),N=/Android/.test(t),D=k||N||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),V=k||/Mac/.test(r),U=/\bCrOS\b/.test(t),B=/win/i.test(r),G=_&&t.match(/Version\/(\d*\.\d*)/);G&&(G=Number(G[1])),G&&G>=15&&(_=!1,f=!0);var Q=V&&(v||_&&(G==null||G<12.11)),ae=i||u&&c>=9;function q(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var ue=function(s,d){var p=s.className,h=q(d).exec(p);if(h){var g=p.slice(h.index+h[0].length);s.className=p.slice(0,h.index)+(g?h[1]+g:"")}};function T(s){for(var d=s.childNodes.length;d>0;--d)s.removeChild(s.firstChild);return s}function R(s,d){return T(s).appendChild(d)}function A(s,d,p,h){var g=document.createElement(s);if(p&&(g.className=p),h&&(g.style.cssText=h),typeof d=="string")g.appendChild(document.createTextNode(d));else if(d)for(var C=0;C<d.length;++C)g.appendChild(d[C]);return g}function se(s,d,p,h){var g=A(s,d,p,h);return g.setAttribute("role","presentation"),g}var re;document.createRange?re=function(s,d,p,h){var g=document.createRange();return g.setEnd(h||s,p),g.setStart(s,d),g}:re=function(s,d,p){var h=document.body.createTextRange();try{h.moveToElementText(s.parentNode)}catch{return h}return h.collapse(!0),h.moveEnd("character",p),h.moveStart("character",d),h};function de(s,d){if(d.nodeType==3&&(d=d.parentNode),s.contains)return s.contains(d);do if(d.nodeType==11&&(d=d.host),d==s)return!0;while(d=d.parentNode)}function le(s){var d=s.ownerDocument||s,p;try{p=s.activeElement}catch{p=d.body||null}for(;p&&p.shadowRoot&&p.shadowRoot.activeElement;)p=p.shadowRoot.activeElement;return p}function Ae(s,d){var p=s.className;q(d).test(p)||(s.className+=(p?" ":"")+d)}function pe(s,d){for(var p=s.split(" "),h=0;h<p.length;h++)p[h]&&!q(p[h]).test(d)&&(d+=" "+p[h]);return d}var Ne=function(s){s.select()};k?Ne=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:u&&(Ne=function(s){try{s.select()}catch{}});function Ve(s){return s.display.wrapper.ownerDocument}function Ie(s){return Oe(s.display.wrapper)}function Oe(s){return s.getRootNode?s.getRootNode():s.ownerDocument}function $(s){return Ve(s).defaultView}function he(s){var d=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,d)}}function ge(s,d,p){d||(d={});for(var h in s)s.hasOwnProperty(h)&&(p!==!1||!d.hasOwnProperty(h))&&(d[h]=s[h]);return d}function be(s,d,p,h,g){d==null&&(d=s.search(/[^\s\u00a0]/),d==-1&&(d=s.length));for(var C=h||0,S=g||0;;){var O=s.indexOf("	",C);if(O<0||O>=d)return S+(d-C);S+=O-C,S+=p-S%p,C=O+1}}var Be=function(){this.id=null,this.f=null,this.time=0,this.handler=he(this.onTimeout,this)};Be.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},Be.prototype.set=function(s,d){this.f=d;var p=+new Date+s;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=p)};function xe(s,d){for(var p=0;p<s.length;++p)if(s[p]==d)return p;return-1}var Re=50,st={toString:function(){return"CodeMirror.Pass"}},Lt={scroll:!1},wt={origin:"*mouse"},Mt={origin:"+move"};function on(s,d,p){for(var h=0,g=0;;){var C=s.indexOf("	",h);C==-1&&(C=s.length);var S=C-h;if(C==s.length||g+S>=d)return h+Math.min(S,d-g);if(g+=C-h,g+=p-g%p,h=C+1,g>=d)return h}}var pn=[""];function z(s){for(;pn.length<=s;)pn.push(E(pn)+" ");return pn[s]}function E(s){return s[s.length-1]}function H(s,d){for(var p=[],h=0;h<s.length;h++)p[h]=d(s[h],h);return p}function K(s,d,p){for(var h=0,g=p(d);h<s.length&&p(s[h])<=g;)h++;s.splice(h,0,d)}function W(){}function ne(s,d){var p;return Object.create?p=Object.create(s):(W.prototype=s,p=new W),d&&ge(d,p),p}var te=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ce(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||te.test(s))}function Se(s,d){return d?d.source.indexOf("\\w")>-1&&ce(s)?!0:d.test(s):ce(s)}function Ee(s){for(var d in s)if(s.hasOwnProperty(d)&&s[d])return!1;return!0}var He=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Xe(s){return s.charCodeAt(0)>=768&&He.test(s)}function it(s,d,p){for(;(p<0?d>0:d<s.length)&&Xe(s.charAt(d));)d+=p;return d}function lt(s,d,p){for(var h=d>p?-1:1;;){if(d==p)return d;var g=(d+p)/2,C=h<0?Math.ceil(g):Math.floor(g);if(C==d)return s(C)?d:p;s(C)?p=C:d=C+h}}function At(s,d,p,h){if(!s)return h(d,p,"ltr",0);for(var g=!1,C=0;C<s.length;++C){var S=s[C];(S.from<p&&S.to>d||d==p&&S.to==d)&&(h(Math.max(S.from,d),Math.min(S.to,p),S.level==1?"rtl":"ltr",C),g=!0)}g||h(d,p,"ltr")}var Ge=null;function nt(s,d,p){var h;Ge=null;for(var g=0;g<s.length;++g){var C=s[g];if(C.from<d&&C.to>d)return g;C.to==d&&(C.from!=C.to&&p=="before"?h=g:Ge=g),C.from==d&&(C.from!=C.to&&p!="before"?h=g:Ge=g)}return h??Ge}var Dt=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",d="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(I){return I<=247?s.charAt(I):1424<=I&&I<=1524?"R":1536<=I&&I<=1785?d.charAt(I-1536):1774<=I&&I<=2220?"r":8192<=I&&I<=8203?"w":I==8204?"b":"L"}var h=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,C=/[LRr]/,S=/[Lb1n]/,O=/[1n]/;function P(I,ee,ie){this.level=I,this.from=ee,this.to=ie}return function(I,ee){var ie=ee=="ltr"?"L":"R";if(I.length==0||ee=="ltr"&&!h.test(I))return!1;for(var ye=I.length,ve=[],Pe=0;Pe<ye;++Pe)ve.push(p(I.charCodeAt(Pe)));for(var je=0,Ze=ie;je<ye;++je){var et=ve[je];et=="m"?ve[je]=Ze:Ze=et}for(var ot=0,tt=ie;ot<ye;++ot){var ut=ve[ot];ut=="1"&&tt=="r"?ve[ot]="n":C.test(ut)&&(tt=ut,ut=="r"&&(ve[ot]="R"))}for(var bt=1,_t=ve[0];bt<ye-1;++bt){var Vt=ve[bt];Vt=="+"&&_t=="1"&&ve[bt+1]=="1"?ve[bt]="1":Vt==","&&_t==ve[bt+1]&&(_t=="1"||_t=="n")&&(ve[bt]=_t),_t=Vt}for(var Sn=0;Sn<ye;++Sn){var er=ve[Sn];if(er==",")ve[Sn]="N";else if(er=="%"){var Nn=void 0;for(Nn=Sn+1;Nn<ye&&ve[Nn]=="%";++Nn);for(var Kr=Sn&&ve[Sn-1]=="!"||Nn<ye&&ve[Nn]=="1"?"1":"N",Dr=Sn;Dr<Nn;++Dr)ve[Dr]=Kr;Sn=Nn-1}}for(var Fn=0,Pr=ie;Fn<ye;++Fn){var ur=ve[Fn];Pr=="L"&&ur=="1"?ve[Fn]="L":C.test(ur)&&(Pr=ur)}for(var zn=0;zn<ye;++zn)if(g.test(ve[zn])){var Vn=void 0;for(Vn=zn+1;Vn<ye&&g.test(ve[Vn]);++Vn);for(var Rn=(zn?ve[zn-1]:ie)=="L",Rr=(Vn<ye?ve[Vn]:ie)=="L",Ta=Rn==Rr?Rn?"L":"R":ie,Qo=zn;Qo<Vn;++Qo)ve[Qo]=Ta;zn=Vn-1}for(var pr=[],ao,tr=0;tr<ye;)if(S.test(ve[tr])){var Jc=tr;for(++tr;tr<ye&&S.test(ve[tr]);++tr);pr.push(new P(0,Jc,tr))}else{var To=tr,Ts=pr.length,Ns=ee=="rtl"?1:0;for(++tr;tr<ye&&ve[tr]!="L";++tr);for(var kr=To;kr<tr;)if(O.test(ve[kr])){To<kr&&(pr.splice(Ts,0,new P(1,To,kr)),Ts+=Ns);var Na=kr;for(++kr;kr<tr&&O.test(ve[kr]);++kr);pr.splice(Ts,0,new P(2,Na,kr)),Ts+=Ns,To=kr}else++kr;To<tr&&pr.splice(Ts,0,new P(1,To,tr))}return ee=="ltr"&&(pr[0].level==1&&(ao=I.match(/^\s+/))&&(pr[0].from=ao[0].length,pr.unshift(new P(0,0,ao[0].length))),E(pr).level==1&&(ao=I.match(/\s+$/))&&(E(pr).to-=ao[0].length,pr.push(new P(0,ye-ao[0].length,ye)))),ee=="rtl"?pr.reverse():pr}}();function Je(s,d){var p=s.order;return p==null&&(p=s.order=Dt(s.text,d)),p}var xn=[],at=function(s,d,p){if(s.addEventListener)s.addEventListener(d,p,!1);else if(s.attachEvent)s.attachEvent("on"+d,p);else{var h=s._handlers||(s._handlers={});h[d]=(h[d]||xn).concat(p)}};function kn(s,d){return s._handlers&&s._handlers[d]||xn}function Yt(s,d,p){if(s.removeEventListener)s.removeEventListener(d,p,!1);else if(s.detachEvent)s.detachEvent("on"+d,p);else{var h=s._handlers,g=h&&h[d];if(g){var C=xe(g,p);C>-1&&(h[d]=g.slice(0,C).concat(g.slice(C+1)))}}}function Bt(s,d){var p=kn(s,d);if(p.length)for(var h=Array.prototype.slice.call(arguments,2),g=0;g<p.length;++g)p[g].apply(null,h)}function jt(s,d,p){return typeof d=="string"&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}}),Bt(s,p||d.type,s,d),zt(d)||d.codemirrorIgnore}function sn(s){var d=s._handlers&&s._handlers.cursorActivity;if(d)for(var p=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),h=0;h<d.length;++h)xe(p,d[h])==-1&&p.push(d[h])}function ke(s,d){return kn(s,d).length>0}function Ye(s){s.prototype.on=function(d,p){at(this,d,p)},s.prototype.off=function(d,p){Yt(this,d,p)}}function ft(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function yt(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function zt(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function Gt(s){ft(s),yt(s)}function fr(s){return s.target||s.srcElement}function An(s){var d=s.which;return d==null&&(s.button&1?d=1:s.button&2?d=3:s.button&4&&(d=2)),V&&s.ctrlKey&&d==1&&(d=3),d}var Yn=function(){if(u&&c<9)return!1;var s=A("div");return"draggable"in s||"dragDrop"in s}(),ci;function fi(s){if(ci==null){var d=A("span","​");R(s,A("span",[d,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(ci=d.offsetWidth<=1&&d.offsetHeight>2&&!(u&&c<8))}var p=ci?A("span","​"):A("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var Jt;function Ur(s){if(Jt!=null)return Jt;var d=R(s,document.createTextNode("AخA")),p=re(d,0,1).getBoundingClientRect(),h=re(d,1,2).getBoundingClientRect();return T(s),!p||p.left==p.right?!1:Jt=h.right-p.right<3}var Hn=`

b`.split(/\n/).length!=3?function(s){for(var d=0,p=[],h=s.length;d<=h;){var g=s.indexOf(`
`,d);g==-1&&(g=s.length);var C=s.slice(d,s.charAt(g-1)=="\r"?g-1:g),S=C.indexOf("\r");S!=-1?(p.push(C.slice(0,S)),d+=S+1):(p.push(C),d=g+1)}return p}:function(s){return s.split(/\r\n?|\n/)},Gr=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var d;try{d=s.ownerDocument.selection.createRange()}catch{}return!d||d.parentElement()!=s?!1:d.compareEndPoints("StartToEnd",d)!=0},Ni=function(){var s=A("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),xt=null;function io(s){if(xt!=null)return xt;var d=R(s,A("span","x")),p=d.getBoundingClientRect(),h=re(d,0,1).getBoundingClientRect();return xt=Math.abs(p.left-h.left)>1}var ri={},qn={};function Cr(s,d){arguments.length>2&&(d.dependencies=Array.prototype.slice.call(arguments,2)),ri[s]=d}function wr(s,d){qn[s]=d}function Xr(s){if(typeof s=="string"&&qn.hasOwnProperty(s))s=qn[s];else if(s&&typeof s.name=="string"&&qn.hasOwnProperty(s.name)){var d=qn[s.name];typeof d=="string"&&(d={name:d}),s=ne(d,s),s.name=d.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return Xr("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return Xr("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function hi(s,d){d=Xr(d);var p=ri[d.name];if(!p)return hi(s,"text/plain");var h=p(s,d);if(Zr.hasOwnProperty(d.name)){var g=Zr[d.name];for(var C in g)g.hasOwnProperty(C)&&(h.hasOwnProperty(C)&&(h["_"+C]=h[C]),h[C]=g[C])}if(h.name=d.name,d.helperType&&(h.helperType=d.helperType),d.modeProps)for(var S in d.modeProps)h[S]=d.modeProps[S];return h}var Zr={};function ii(s,d){var p=Zr.hasOwnProperty(s)?Zr[s]:Zr[s]={};ge(d,p)}function X(s,d){if(d===!0)return d;if(s.copyState)return s.copyState(d);var p={};for(var h in d){var g=d[h];g instanceof Array&&(g=g.concat([])),p[h]=g}return p}function _e(s,d){for(var p;s.innerMode&&(p=s.innerMode(d),!(!p||p.mode==s));)d=p.state,s=p.mode;return p||{mode:s,state:d}}function $e(s,d,p){return s.startState?s.startState(d,p):!0}var Ke=function(s,d,p){this.pos=this.start=0,this.string=s,this.tabSize=d||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};Ke.prototype.eol=function(){return this.pos>=this.string.length},Ke.prototype.sol=function(){return this.pos==this.lineStart},Ke.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ke.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ke.prototype.eat=function(s){var d=this.string.charAt(this.pos),p;if(typeof s=="string"?p=d==s:p=d&&(s.test?s.test(d):s(d)),p)return++this.pos,d},Ke.prototype.eatWhile=function(s){for(var d=this.pos;this.eat(s););return this.pos>d},Ke.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},Ke.prototype.skipToEnd=function(){this.pos=this.string.length},Ke.prototype.skipTo=function(s){var d=this.string.indexOf(s,this.pos);if(d>-1)return this.pos=d,!0},Ke.prototype.backUp=function(s){this.pos-=s},Ke.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=be(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?be(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.indentation=function(){return be(this.string,null,this.tabSize)-(this.lineStart?be(this.string,this.lineStart,this.tabSize):0)},Ke.prototype.match=function(s,d,p){if(typeof s=="string"){var h=function(S){return p?S.toLowerCase():S},g=this.string.substr(this.pos,s.length);if(h(g)==h(s))return d!==!1&&(this.pos+=s.length),!0}else{var C=this.string.slice(this.pos).match(s);return C&&C.index>0?null:(C&&d!==!1&&(this.pos+=C[0].length),C)}},Ke.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ke.prototype.hideFirstChars=function(s,d){this.lineStart+=s;try{return d()}finally{this.lineStart-=s}},Ke.prototype.lookAhead=function(s){var d=this.lineOracle;return d&&d.lookAhead(s)},Ke.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function We(s,d){if(d-=s.first,d<0||d>=s.size)throw new Error("There is no line "+(d+s.first)+" in the document.");for(var p=s;!p.lines;)for(var h=0;;++h){var g=p.children[h],C=g.chunkSize();if(d<C){p=g;break}d-=C}return p.lines[d]}function Ft(s,d,p){var h=[],g=d.line;return s.iter(d.line,p.line+1,function(C){var S=C.text;g==p.line&&(S=S.slice(0,p.ch)),g==d.line&&(S=S.slice(d.ch)),h.push(S),++g}),h}function Mn(s,d,p){var h=[];return s.iter(d,p,function(g){h.push(g.text)}),h}function Y(s,d){var p=d-s.height;if(p)for(var h=s;h;h=h.parent)h.height+=p}function M(s){if(s.parent==null)return null;for(var d=s.parent,p=xe(d.lines,s),h=d.parent;h;d=h,h=h.parent)for(var g=0;h.children[g]!=d;++g)p+=h.children[g].chunkSize();return p+d.first}function F(s,d){var p=s.first;e:do{for(var h=0;h<s.children.length;++h){var g=s.children[h],C=g.height;if(d<C){s=g;continue e}d-=C,p+=g.chunkSize()}return p}while(!s.lines);for(var S=0;S<s.lines.length;++S){var O=s.lines[S],P=O.height;if(d<P)break;d-=P}return p+S}function fe(s,d){return d>=s.first&&d<s.first+s.size}function Me(s,d){return String(s.lineNumberFormatter(d+s.firstLineNumber))}function me(s,d,p){if(p===void 0&&(p=null),!(this instanceof me))return new me(s,d,p);this.line=s,this.ch=d,this.sticky=p}function Ce(s,d){return s.line-d.line||s.ch-d.ch}function qe(s,d){return s.sticky==d.sticky&&Ce(s,d)==0}function dt(s){return me(s.line,s.ch)}function St(s,d){return Ce(s,d)<0?d:s}function In(s,d){return Ce(s,d)<0?s:d}function Ol(s,d){return Math.max(s.first,Math.min(d,s.first+s.size-1))}function Tt(s,d){if(d.line<s.first)return me(s.first,0);var p=s.first+s.size-1;return d.line>p?me(p,We(s,p).text.length):Yr(d,We(s,d.line).text.length)}function Yr(s,d){var p=s.ch;return p==null||p>d?me(s.line,d):p<0?me(s.line,0):s}function ha(s,d){for(var p=[],h=0;h<d.length;h++)p[h]=Tt(s,d[h]);return p}var Wo=function(s,d){this.state=s,this.lookAhead=d},Ln=function(s,d,p,h){this.state=d,this.doc=s,this.line=p,this.maxLookAhead=h||0,this.baseTokens=null,this.baseTokenPos=1};Ln.prototype.lookAhead=function(s){var d=this.doc.getLine(this.line+s);return d!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),d},Ln.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},Ln.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Ln.fromSaved=function(s,d,p){return d instanceof Wo?new Ln(s,X(s.mode,d.state),p,d.lookAhead):new Ln(s,X(s.mode,d),p)},Ln.prototype.save=function(s){var d=s!==!1?X(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Wo(d,this.maxLookAhead):d};function oi(s,d,p,h){var g=[s.state.modeGen],C={};Lg(s,d.text,s.doc.mode,p,function(I,ee){return g.push(I,ee)},C,h);for(var S=p.state,O=function(I){p.baseTokens=g;var ee=s.state.overlays[I],ie=1,ye=0;p.state=!0,Lg(s,d.text,ee.mode,p,function(ve,Pe){for(var je=ie;ye<ve;){var Ze=g[ie];Ze>ve&&g.splice(ie,1,ve,g[ie+1],Ze),ie+=2,ye=Math.min(ve,Ze)}if(Pe)if(ee.opaque)g.splice(je,ie-je,ve,"overlay "+Pe),ie=je+2;else for(;je<ie;je+=2){var et=g[je+1];g[je+1]=(et?et+" ":"")+"overlay "+Pe}},C),p.state=S,p.baseTokens=null,p.baseTokenPos=1},P=0;P<s.state.overlays.length;++P)O(P);return{styles:g,classes:C.bgClass||C.textClass?C:null}}function c2(s,d,p){if(!d.styles||d.styles[0]!=s.state.modeGen){var h=zo(s,M(d)),g=d.text.length>s.options.maxHighlightLength&&X(s.doc.mode,h.state),C=oi(s,d,h);g&&(h.state=g),d.stateAfter=h.save(!g),d.styles=C.styles,C.classes?d.styleClasses=C.classes:d.styleClasses&&(d.styleClasses=null),p===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return d.styles}function zo(s,d,p){var h=s.doc,g=s.display;if(!h.mode.startState)return new Ln(h,!0,d);var C=Q_(s,d,p),S=C>h.first&&We(h,C-1).stateAfter,O=S?Ln.fromSaved(h,S,C):new Ln(h,$e(h.mode),C);return h.iter(C,d,function(P){ac(s,P.text,O);var I=O.line;P.stateAfter=I==d-1||I%5==0||I>=g.viewFrom&&I<g.viewTo?O.save():null,O.nextLine()}),p&&(h.modeFrontier=O.line),O}function ac(s,d,p,h){var g=s.doc.mode,C=new Ke(d,s.options.tabSize,p);for(C.start=C.pos=h||0,d==""&&Eg(g,p.state);!C.eol();)lc(g,C,p.state),C.start=C.pos}function Eg(s,d){if(s.blankLine)return s.blankLine(d);if(s.innerMode){var p=_e(s,d);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function lc(s,d,p,h){for(var g=0;g<10;g++){h&&(h[0]=_e(s,p).mode);var C=s.token(d,p);if(d.pos>d.start)return C}throw new Error("Mode "+s.name+" failed to advance stream.")}var Mg=function(s,d,p){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=d||null,this.state=p};function Og(s,d,p,h){var g=s.doc,C=g.mode,S;d=Tt(g,d);var O=We(g,d.line),P=zo(s,d.line,p),I=new Ke(O.text,s.options.tabSize,P),ee;for(h&&(ee=[]);(h||I.pos<d.ch)&&!I.eol();)I.start=I.pos,S=lc(C,I,P.state),h&&ee.push(new Mg(I,S,X(g.mode,P.state)));return h?ee:new Mg(I,S,P.state)}function Ag(s,d){if(s)for(;;){var p=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;s=s.slice(0,p.index)+s.slice(p.index+p[0].length);var h=p[1]?"bgClass":"textClass";d[h]==null?d[h]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(d[h])||(d[h]+=" "+p[2])}return s}function Lg(s,d,p,h,g,C,S){var O=p.flattenSpans;O==null&&(O=s.options.flattenSpans);var P=0,I=null,ee=new Ke(d,s.options.tabSize,h),ie,ye=s.options.addModeClass&&[null];for(d==""&&Ag(Eg(p,h.state),C);!ee.eol();){if(ee.pos>s.options.maxHighlightLength?(O=!1,S&&ac(s,d,h,ee.pos),ee.pos=d.length,ie=null):ie=Ag(lc(p,ee,h.state,ye),C),ye){var ve=ye[0].name;ve&&(ie="m-"+(ie?ve+" "+ie:ve))}if(!O||I!=ie){for(;P<ee.start;)P=Math.min(ee.start,P+5e3),g(P,I);I=ie}ee.start=ee.pos}for(;P<ee.pos;){var Pe=Math.min(ee.pos,P+5e3);g(Pe,I),P=Pe}}function Q_(s,d,p){for(var h,g,C=s.doc,S=p?-1:d-(s.doc.mode.innerMode?1e3:100),O=d;O>S;--O){if(O<=C.first)return C.first;var P=We(C,O-1),I=P.stateAfter;if(I&&(!p||O+(I instanceof Wo?I.lookAhead:0)<=C.modeFrontier))return O;var ee=be(P.text,null,s.options.tabSize);(g==null||h>ee)&&(g=O-1,h=ee)}return g}function eb(s,d){if(s.modeFrontier=Math.min(s.modeFrontier,d),!(s.highlightFrontier<d-10)){for(var p=s.first,h=d-1;h>p;h--){var g=We(s,h).stateAfter;if(g&&(!(g instanceof Wo)||h+g.lookAhead<d)){p=h+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,p)}}var Tg=!1,Eo=!1;function tb(){Tg=!0}function nb(){Eo=!0}function f2(s,d,p){this.marker=s,this.from=d,this.to=p}function Al(s,d){if(s)for(var p=0;p<s.length;++p){var h=s[p];if(h.marker==d)return h}}function rb(s,d){for(var p,h=0;h<s.length;++h)s[h]!=d&&(p||(p=[])).push(s[h]);return p}function ib(s,d,p){var h=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));h&&s.markedSpans&&h.has(s.markedSpans)?s.markedSpans.push(d):(s.markedSpans=s.markedSpans?s.markedSpans.concat([d]):[d],h&&h.add(s.markedSpans)),d.marker.attachLine(s)}function ob(s,d,p){var h;if(s)for(var g=0;g<s.length;++g){var C=s[g],S=C.marker,O=C.from==null||(S.inclusiveLeft?C.from<=d:C.from<d);if(O||C.from==d&&S.type=="bookmark"&&(!p||!C.marker.insertLeft)){var P=C.to==null||(S.inclusiveRight?C.to>=d:C.to>d);(h||(h=[])).push(new f2(S,C.from,P?null:C.to))}}return h}function sb(s,d,p){var h;if(s)for(var g=0;g<s.length;++g){var C=s[g],S=C.marker,O=C.to==null||(S.inclusiveRight?C.to>=d:C.to>d);if(O||C.from==d&&S.type=="bookmark"&&(!p||C.marker.insertLeft)){var P=C.from==null||(S.inclusiveLeft?C.from<=d:C.from<d);(h||(h=[])).push(new f2(S,P?null:C.from-d,C.to==null?null:C.to-d))}}return h}function uc(s,d){if(d.full)return null;var p=fe(s,d.from.line)&&We(s,d.from.line).markedSpans,h=fe(s,d.to.line)&&We(s,d.to.line).markedSpans;if(!p&&!h)return null;var g=d.from.ch,C=d.to.ch,S=Ce(d.from,d.to)==0,O=ob(p,g,S),P=sb(h,C,S),I=d.text.length==1,ee=E(d.text).length+(I?g:0);if(O)for(var ie=0;ie<O.length;++ie){var ye=O[ie];if(ye.to==null){var ve=Al(P,ye.marker);ve?I&&(ye.to=ve.to==null?null:ve.to+ee):ye.to=g}}if(P)for(var Pe=0;Pe<P.length;++Pe){var je=P[Pe];if(je.to!=null&&(je.to+=ee),je.from==null){var Ze=Al(O,je.marker);Ze||(je.from=ee,I&&(O||(O=[])).push(je))}else je.from+=ee,I&&(O||(O=[])).push(je)}O&&(O=Ng(O)),P&&P!=O&&(P=Ng(P));var et=[O];if(!I){var ot=d.text.length-2,tt;if(ot>0&&O)for(var ut=0;ut<O.length;++ut)O[ut].to==null&&(tt||(tt=[])).push(new f2(O[ut].marker,null,null));for(var bt=0;bt<ot;++bt)et.push(tt);et.push(P)}return et}function Ng(s){for(var d=0;d<s.length;++d){var p=s[d];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&s.splice(d--,1)}return s.length?s:null}function ab(s,d,p){var h=null;if(s.iter(d.line,p.line+1,function(ve){if(ve.markedSpans)for(var Pe=0;Pe<ve.markedSpans.length;++Pe){var je=ve.markedSpans[Pe].marker;je.readOnly&&(!h||xe(h,je)==-1)&&(h||(h=[])).push(je)}}),!h)return null;for(var g=[{from:d,to:p}],C=0;C<h.length;++C)for(var S=h[C],O=S.find(0),P=0;P<g.length;++P){var I=g[P];if(!(Ce(I.to,O.from)<0||Ce(I.from,O.to)>0)){var ee=[P,1],ie=Ce(I.from,O.from),ye=Ce(I.to,O.to);(ie<0||!S.inclusiveLeft&&!ie)&&ee.push({from:I.from,to:O.from}),(ye>0||!S.inclusiveRight&&!ye)&&ee.push({from:O.to,to:I.to}),g.splice.apply(g,ee),P+=ee.length-3}}return g}function Dg(s){var d=s.markedSpans;if(d){for(var p=0;p<d.length;++p)d[p].marker.detachLine(s);s.markedSpans=null}}function Pg(s,d){if(d){for(var p=0;p<d.length;++p)d[p].marker.attachLine(s);s.markedSpans=d}}function h2(s){return s.inclusiveLeft?-1:0}function p2(s){return s.inclusiveRight?1:0}function dc(s,d){var p=s.lines.length-d.lines.length;if(p!=0)return p;var h=s.find(),g=d.find(),C=Ce(h.from,g.from)||h2(s)-h2(d);if(C)return-C;var S=Ce(h.to,g.to)||p2(s)-p2(d);return S||d.id-s.id}function Rg(s,d){var p=Eo&&s.markedSpans,h;if(p)for(var g=void 0,C=0;C<p.length;++C)g=p[C],g.marker.collapsed&&(d?g.from:g.to)==null&&(!h||dc(h,g.marker)<0)&&(h=g.marker);return h}function Hg(s){return Rg(s,!0)}function v2(s){return Rg(s,!1)}function lb(s,d){var p=Eo&&s.markedSpans,h;if(p)for(var g=0;g<p.length;++g){var C=p[g];C.marker.collapsed&&(C.from==null||C.from<d)&&(C.to==null||C.to>d)&&(!h||dc(h,C.marker)<0)&&(h=C.marker)}return h}function Ig(s,d,p,h,g){var C=We(s,d),S=Eo&&C.markedSpans;if(S)for(var O=0;O<S.length;++O){var P=S[O];if(P.marker.collapsed){var I=P.marker.find(0),ee=Ce(I.from,p)||h2(P.marker)-h2(g),ie=Ce(I.to,h)||p2(P.marker)-p2(g);if(!(ee>=0&&ie<=0||ee<=0&&ie>=0)&&(ee<=0&&(P.marker.inclusiveRight&&g.inclusiveLeft?Ce(I.to,p)>=0:Ce(I.to,p)>0)||ee>=0&&(P.marker.inclusiveRight&&g.inclusiveLeft?Ce(I.from,h)<=0:Ce(I.from,h)<0)))return!0}}}function Di(s){for(var d;d=Hg(s);)s=d.find(-1,!0).line;return s}function ub(s){for(var d;d=v2(s);)s=d.find(1,!0).line;return s}function db(s){for(var d,p;d=v2(s);)s=d.find(1,!0).line,(p||(p=[])).push(s);return p}function cc(s,d){var p=We(s,d),h=Di(p);return p==h?d:M(h)}function Bg(s,d){if(d>s.lastLine())return d;var p=We(s,d),h;if(!Uo(s,p))return d;for(;h=v2(p);)p=h.find(1,!0).line;return M(p)+1}function Uo(s,d){var p=Eo&&d.markedSpans;if(p){for(var h=void 0,g=0;g<p.length;++g)if(h=p[g],!!h.marker.collapsed){if(h.from==null)return!0;if(!h.marker.widgetNode&&h.from==0&&h.marker.inclusiveLeft&&fc(s,d,h))return!0}}}function fc(s,d,p){if(p.to==null){var h=p.marker.find(1,!0);return fc(s,h.line,Al(h.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==d.text.length)return!0;for(var g=void 0,C=0;C<d.markedSpans.length;++C)if(g=d.markedSpans[C],g.marker.collapsed&&!g.marker.widgetNode&&g.from==p.to&&(g.to==null||g.to!=p.from)&&(g.marker.inclusiveLeft||p.marker.inclusiveRight)&&fc(s,d,g))return!0}function Mo(s){s=Di(s);for(var d=0,p=s.parent,h=0;h<p.lines.length;++h){var g=p.lines[h];if(g==s)break;d+=g.height}for(var C=p.parent;C;p=C,C=p.parent)for(var S=0;S<C.children.length;++S){var O=C.children[S];if(O==p)break;d+=O.height}return d}function g2(s){if(s.height==0)return 0;for(var d=s.text.length,p,h=s;p=Hg(h);){var g=p.find(0,!0);h=g.from.line,d+=g.from.ch-g.to.ch}for(h=s;p=v2(h);){var C=p.find(0,!0);d-=h.text.length-C.from.ch,h=C.to.line,d+=h.text.length-C.to.ch}return d}function hc(s){var d=s.display,p=s.doc;d.maxLine=We(p,p.first),d.maxLineLength=g2(d.maxLine),d.maxLineChanged=!0,p.iter(function(h){var g=g2(h);g>d.maxLineLength&&(d.maxLineLength=g,d.maxLine=h)})}var pa=function(s,d,p){this.text=s,Pg(this,d),this.height=p?p(this):1};pa.prototype.lineNo=function(){return M(this)},Ye(pa);function cb(s,d,p,h){s.text=d,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),Dg(s),Pg(s,p);var g=h?h(s):1;g!=s.height&&Y(s,g)}function fb(s){s.parent=null,Dg(s)}var hb={},pb={};function jg(s,d){if(!s||/^\s*$/.test(s))return null;var p=d.addModeClass?pb:hb;return p[s]||(p[s]=s.replace(/\S+/g,"cm-$&"))}function Fg(s,d){var p=se("span",null,null,f?"padding-right: .1px":null),h={pre:se("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};d.measure={};for(var g=0;g<=(d.rest?d.rest.length:0);g++){var C=g?d.rest[g-1]:d.line,S=void 0;h.pos=0,h.addToken=gb,Ur(s.display.measure)&&(S=Je(C,s.doc.direction))&&(h.addToken=yb(h.addToken,S)),h.map=[];var O=d!=s.display.externalMeasured&&M(C);_b(C,h,c2(s,C,O)),C.styleClasses&&(C.styleClasses.bgClass&&(h.bgClass=pe(C.styleClasses.bgClass,h.bgClass||"")),C.styleClasses.textClass&&(h.textClass=pe(C.styleClasses.textClass,h.textClass||""))),h.map.length==0&&h.map.push(0,0,h.content.appendChild(fi(s.display.measure))),g==0?(d.measure.map=h.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(h.map),(d.measure.caches||(d.measure.caches=[])).push({}))}if(f){var P=h.content.lastChild;(/\bcm-tab\b/.test(P.className)||P.querySelector&&P.querySelector(".cm-tab"))&&(h.content.className="cm-tab-wrap-hack")}return Bt(s,"renderLine",s,d.line,h.pre),h.pre.className&&(h.textClass=pe(h.pre.className,h.textClass||"")),h}function vb(s){var d=A("span","•","cm-invalidchar");return d.title="\\u"+s.charCodeAt(0).toString(16),d.setAttribute("aria-label",d.title),d}function gb(s,d,p,h,g,C,S){if(d){var O=s.splitSpaces?mb(d,s.trailingSpace):d,P=s.cm.state.specialChars,I=!1,ee;if(!P.test(d))s.col+=d.length,ee=document.createTextNode(O),s.map.push(s.pos,s.pos+d.length,ee),u&&c<9&&(I=!0),s.pos+=d.length;else{ee=document.createDocumentFragment();for(var ie=0;;){P.lastIndex=ie;var ye=P.exec(d),ve=ye?ye.index-ie:d.length-ie;if(ve){var Pe=document.createTextNode(O.slice(ie,ie+ve));u&&c<9?ee.appendChild(A("span",[Pe])):ee.appendChild(Pe),s.map.push(s.pos,s.pos+ve,Pe),s.col+=ve,s.pos+=ve}if(!ye)break;ie+=ve+1;var je=void 0;if(ye[0]=="	"){var Ze=s.cm.options.tabSize,et=Ze-s.col%Ze;je=ee.appendChild(A("span",z(et),"cm-tab")),je.setAttribute("role","presentation"),je.setAttribute("cm-text","	"),s.col+=et}else ye[0]=="\r"||ye[0]==`
`?(je=ee.appendChild(A("span",ye[0]=="\r"?"␍":"␤","cm-invalidchar")),je.setAttribute("cm-text",ye[0]),s.col+=1):(je=s.cm.options.specialCharPlaceholder(ye[0]),je.setAttribute("cm-text",ye[0]),u&&c<9?ee.appendChild(A("span",[je])):ee.appendChild(je),s.col+=1);s.map.push(s.pos,s.pos+1,je),s.pos++}}if(s.trailingSpace=O.charCodeAt(d.length-1)==32,p||h||g||I||C||S){var ot=p||"";h&&(ot+=h),g&&(ot+=g);var tt=A("span",[ee],ot,C);if(S)for(var ut in S)S.hasOwnProperty(ut)&&ut!="style"&&ut!="class"&&tt.setAttribute(ut,S[ut]);return s.content.appendChild(tt)}s.content.appendChild(ee)}}function mb(s,d){if(s.length>1&&!/  /.test(s))return s;for(var p=d,h="",g=0;g<s.length;g++){var C=s.charAt(g);C==" "&&p&&(g==s.length-1||s.charCodeAt(g+1)==32)&&(C=" "),h+=C,p=C==" "}return h}function yb(s,d){return function(p,h,g,C,S,O,P){g=g?g+" cm-force-border":"cm-force-border";for(var I=p.pos,ee=I+h.length;;){for(var ie=void 0,ye=0;ye<d.length&&(ie=d[ye],!(ie.to>I&&ie.from<=I));ye++);if(ie.to>=ee)return s(p,h,g,C,S,O,P);s(p,h.slice(0,ie.to-I),g,C,null,O,P),C=null,h=h.slice(ie.to-I),I=ie.to}}}function Vg(s,d,p,h){var g=!h&&p.widgetNode;g&&s.map.push(s.pos,s.pos+d,g),!h&&s.cm.display.input.needsContentAttribute&&(g||(g=s.content.appendChild(document.createElement("span"))),g.setAttribute("cm-marker",p.id)),g&&(s.cm.display.input.setUneditable(g),s.content.appendChild(g)),s.pos+=d,s.trailingSpace=!1}function _b(s,d,p){var h=s.markedSpans,g=s.text,C=0;if(!h){for(var S=1;S<p.length;S+=2)d.addToken(d,g.slice(C,C=p[S]),jg(p[S+1],d.cm.options));return}for(var O=g.length,P=0,I=1,ee="",ie,ye,ve=0,Pe,je,Ze,et,ot;;){if(ve==P){Pe=je=Ze=ye="",ot=null,et=null,ve=1/0;for(var tt=[],ut=void 0,bt=0;bt<h.length;++bt){var _t=h[bt],Vt=_t.marker;if(Vt.type=="bookmark"&&_t.from==P&&Vt.widgetNode)tt.push(Vt);else if(_t.from<=P&&(_t.to==null||_t.to>P||Vt.collapsed&&_t.to==P&&_t.from==P)){if(_t.to!=null&&_t.to!=P&&ve>_t.to&&(ve=_t.to,je=""),Vt.className&&(Pe+=" "+Vt.className),Vt.css&&(ye=(ye?ye+";":"")+Vt.css),Vt.startStyle&&_t.from==P&&(Ze+=" "+Vt.startStyle),Vt.endStyle&&_t.to==ve&&(ut||(ut=[])).push(Vt.endStyle,_t.to),Vt.title&&((ot||(ot={})).title=Vt.title),Vt.attributes)for(var Sn in Vt.attributes)(ot||(ot={}))[Sn]=Vt.attributes[Sn];Vt.collapsed&&(!et||dc(et.marker,Vt)<0)&&(et=_t)}else _t.from>P&&ve>_t.from&&(ve=_t.from)}if(ut)for(var er=0;er<ut.length;er+=2)ut[er+1]==ve&&(je+=" "+ut[er]);if(!et||et.from==P)for(var Nn=0;Nn<tt.length;++Nn)Vg(d,0,tt[Nn]);if(et&&(et.from||0)==P){if(Vg(d,(et.to==null?O+1:et.to)-P,et.marker,et.from==null),et.to==null)return;et.to==P&&(et=!1)}}if(P>=O)break;for(var Kr=Math.min(O,ve);;){if(ee){var Dr=P+ee.length;if(!et){var Fn=Dr>Kr?ee.slice(0,Kr-P):ee;d.addToken(d,Fn,ie?ie+Pe:Pe,Ze,P+Fn.length==ve?je:"",ye,ot)}if(Dr>=Kr){ee=ee.slice(Kr-P),P=Kr;break}P=Dr,Ze=""}ee=g.slice(C,C=p[I++]),ie=jg(p[I++],d.cm.options)}}}function $g(s,d,p){this.line=d,this.rest=db(d),this.size=this.rest?M(E(this.rest))-p+1:1,this.node=this.text=null,this.hidden=Uo(s,d)}function m2(s,d,p){for(var h=[],g,C=d;C<p;C=g){var S=new $g(s.doc,We(s.doc,C),C);g=C+S.size,h.push(S)}return h}var va=null;function bb(s){va?va.ops.push(s):s.ownsGroup=va={ops:[s],delayedCallbacks:[]}}function Cb(s){var d=s.delayedCallbacks,p=0;do{for(;p<d.length;p++)d[p].call(null);for(var h=0;h<s.ops.length;h++){var g=s.ops[h];if(g.cursorActivityHandlers)for(;g.cursorActivityCalled<g.cursorActivityHandlers.length;)g.cursorActivityHandlers[g.cursorActivityCalled++].call(null,g.cm)}}while(p<d.length)}function wb(s,d){var p=s.ownsGroup;if(p)try{Cb(p)}finally{va=null,d(p)}}var Ll=null;function Kn(s,d){var p=kn(s,d);if(p.length){var h=Array.prototype.slice.call(arguments,2),g;va?g=va.delayedCallbacks:Ll?g=Ll:(g=Ll=[],setTimeout(xb,0));for(var C=function(O){g.push(function(){return p[O].apply(null,h)})},S=0;S<p.length;++S)C(S)}}function xb(){var s=Ll;Ll=null;for(var d=0;d<s.length;++d)s[d]()}function Wg(s,d,p,h){for(var g=0;g<d.changes.length;g++){var C=d.changes[g];C=="text"?Sb(s,d):C=="gutter"?Ug(s,d,p,h):C=="class"?pc(s,d):C=="widget"&&Eb(s,d,h)}d.changes=null}function Tl(s){return s.node==s.text&&(s.node=A("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),u&&c<8&&(s.node.style.zIndex=2)),s.node}function kb(s,d){var p=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),d.background)p?d.background.className=p:(d.background.parentNode.removeChild(d.background),d.background=null);else if(p){var h=Tl(d);d.background=h.insertBefore(A("div",null,p),h.firstChild),s.display.input.setUneditable(d.background)}}function zg(s,d){var p=s.display.externalMeasured;return p&&p.line==d.line?(s.display.externalMeasured=null,d.measure=p.measure,p.built):Fg(s,d)}function Sb(s,d){var p=d.text.className,h=zg(s,d);d.text==d.node&&(d.node=h.pre),d.text.parentNode.replaceChild(h.pre,d.text),d.text=h.pre,h.bgClass!=d.bgClass||h.textClass!=d.textClass?(d.bgClass=h.bgClass,d.textClass=h.textClass,pc(s,d)):p&&(d.text.className=p)}function pc(s,d){kb(s,d),d.line.wrapClass?Tl(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className="");var p=d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass;d.text.className=p||""}function Ug(s,d,p,h){if(d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null),d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null),d.line.gutterClass){var g=Tl(d);d.gutterBackground=A("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(s.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px; width: "+h.gutterTotalWidth+"px"),s.display.input.setUneditable(d.gutterBackground),g.insertBefore(d.gutterBackground,d.text)}var C=d.line.gutterMarkers;if(s.options.lineNumbers||C){var S=Tl(d),O=d.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?h.fixedPos:-h.gutterTotalWidth)+"px");if(O.setAttribute("aria-hidden","true"),s.display.input.setUneditable(O),S.insertBefore(O,d.text),d.line.gutterClass&&(O.className+=" "+d.line.gutterClass),s.options.lineNumbers&&(!C||!C["CodeMirror-linenumbers"])&&(d.lineNumber=O.appendChild(A("div",Me(s.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+h.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),C)for(var P=0;P<s.display.gutterSpecs.length;++P){var I=s.display.gutterSpecs[P].className,ee=C.hasOwnProperty(I)&&C[I];ee&&O.appendChild(A("div",[ee],"CodeMirror-gutter-elt","left: "+h.gutterLeft[I]+"px; width: "+h.gutterWidth[I]+"px"))}}}function Eb(s,d,p){d.alignable&&(d.alignable=null);for(var h=q("CodeMirror-linewidget"),g=d.node.firstChild,C=void 0;g;g=C)C=g.nextSibling,h.test(g.className)&&d.node.removeChild(g);Gg(s,d,p)}function Mb(s,d,p,h){var g=zg(s,d);return d.text=d.node=g.pre,g.bgClass&&(d.bgClass=g.bgClass),g.textClass&&(d.textClass=g.textClass),pc(s,d),Ug(s,d,p,h),Gg(s,d,h),d.node}function Gg(s,d,p){if(Xg(s,d.line,d,p,!0),d.rest)for(var h=0;h<d.rest.length;h++)Xg(s,d.rest[h],d,p,!1)}function Xg(s,d,p,h,g){if(d.widgets)for(var C=Tl(p),S=0,O=d.widgets;S<O.length;++S){var P=O[S],I=A("div",[P.node],"CodeMirror-linewidget"+(P.className?" "+P.className:""));P.handleMouseEvents||I.setAttribute("cm-ignore-events","true"),Ob(P,I,p,h),s.display.input.setUneditable(I),g&&P.above?C.insertBefore(I,p.gutter||p.text):C.appendChild(I),Kn(P,"redraw")}}function Ob(s,d,p,h){if(s.noHScroll){(p.alignable||(p.alignable=[])).push(d);var g=h.wrapperWidth;d.style.left=h.fixedPos+"px",s.coverGutter||(g-=h.gutterTotalWidth,d.style.paddingLeft=h.gutterTotalWidth+"px"),d.style.width=g+"px"}s.coverGutter&&(d.style.zIndex=5,d.style.position="relative",s.noHScroll||(d.style.marginLeft=-h.gutterTotalWidth+"px"))}function Nl(s){if(s.height!=null)return s.height;var d=s.doc.cm;if(!d)return 0;if(!de(document.body,s.node)){var p="position: relative;";s.coverGutter&&(p+="margin-left: -"+d.display.gutters.offsetWidth+"px;"),s.noHScroll&&(p+="width: "+d.display.wrapper.clientWidth+"px;"),R(d.display.measure,A("div",[s.node],null,p))}return s.height=s.node.parentNode.offsetHeight}function Oo(s,d){for(var p=fr(d);p!=s.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==s.sizer&&p!=s.mover)return!0}function y2(s){return s.lineSpace.offsetTop}function vc(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function Zg(s){if(s.cachedPaddingH)return s.cachedPaddingH;var d=R(s.measure,A("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,h={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(h.left)&&!isNaN(h.right)&&(s.cachedPaddingH=h),h}function oo(s){return Re-s.display.nativeBarWidth}function xs(s){return s.display.scroller.clientWidth-oo(s)-s.display.barWidth}function gc(s){return s.display.scroller.clientHeight-oo(s)-s.display.barHeight}function Ab(s,d,p){var h=s.options.lineWrapping,g=h&&xs(s);if(!d.measure.heights||h&&d.measure.width!=g){var C=d.measure.heights=[];if(h){d.measure.width=g;for(var S=d.text.firstChild.getClientRects(),O=0;O<S.length-1;O++){var P=S[O],I=S[O+1];Math.abs(P.bottom-I.bottom)>2&&C.push((P.bottom+I.top)/2-p.top)}}C.push(p.bottom-p.top)}}function Yg(s,d,p){if(s.line==d)return{map:s.measure.map,cache:s.measure.cache};if(s.rest){for(var h=0;h<s.rest.length;h++)if(s.rest[h]==d)return{map:s.measure.maps[h],cache:s.measure.caches[h]};for(var g=0;g<s.rest.length;g++)if(M(s.rest[g])>p)return{map:s.measure.maps[g],cache:s.measure.caches[g],before:!0}}}function Lb(s,d){d=Di(d);var p=M(d),h=s.display.externalMeasured=new $g(s.doc,d,p);h.lineN=p;var g=h.built=Fg(s,h);return h.text=g.pre,R(s.display.lineMeasure,g.pre),h}function qg(s,d,p,h){return so(s,ga(s,d),p,h)}function mc(s,d){if(d>=s.display.viewFrom&&d<s.display.viewTo)return s.display.view[Es(s,d)];var p=s.display.externalMeasured;if(p&&d>=p.lineN&&d<p.lineN+p.size)return p}function ga(s,d){var p=M(d),h=mc(s,p);h&&!h.text?h=null:h&&h.changes&&(Wg(s,h,p,wc(s)),s.curOp.forceUpdate=!0),h||(h=Lb(s,d));var g=Yg(h,d,p);return{line:d,view:h,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function so(s,d,p,h,g){d.before&&(p=-1);var C=p+(h||""),S;return d.cache.hasOwnProperty(C)?S=d.cache[C]:(d.rect||(d.rect=d.view.text.getBoundingClientRect()),d.hasHeights||(Ab(s,d.view,d.rect),d.hasHeights=!0),S=Nb(s,d,p,h),S.bogus||(d.cache[C]=S)),{left:S.left,right:S.right,top:g?S.rtop:S.top,bottom:g?S.rbottom:S.bottom}}var Kg={left:0,right:0,top:0,bottom:0};function Jg(s,d,p){for(var h,g,C,S,O,P,I=0;I<s.length;I+=3)if(O=s[I],P=s[I+1],d<O?(g=0,C=1,S="left"):d<P?(g=d-O,C=g+1):(I==s.length-3||d==P&&s[I+3]>d)&&(C=P-O,g=C-1,d>=P&&(S="right")),g!=null){if(h=s[I+2],O==P&&p==(h.insertLeft?"left":"right")&&(S=p),p=="left"&&g==0)for(;I&&s[I-2]==s[I-3]&&s[I-1].insertLeft;)h=s[(I-=3)+2],S="left";if(p=="right"&&g==P-O)for(;I<s.length-3&&s[I+3]==s[I+4]&&!s[I+5].insertLeft;)h=s[(I+=3)+2],S="right";break}return{node:h,start:g,end:C,collapse:S,coverStart:O,coverEnd:P}}function Tb(s,d){var p=Kg;if(d=="left")for(var h=0;h<s.length&&(p=s[h]).left==p.right;h++);else for(var g=s.length-1;g>=0&&(p=s[g]).left==p.right;g--);return p}function Nb(s,d,p,h){var g=Jg(d.map,p,h),C=g.node,S=g.start,O=g.end,P=g.collapse,I;if(C.nodeType==3){for(var ee=0;ee<4;ee++){for(;S&&Xe(d.line.text.charAt(g.coverStart+S));)--S;for(;g.coverStart+O<g.coverEnd&&Xe(d.line.text.charAt(g.coverStart+O));)++O;if(u&&c<9&&S==0&&O==g.coverEnd-g.coverStart?I=C.parentNode.getBoundingClientRect():I=Tb(re(C,S,O).getClientRects(),h),I.left||I.right||S==0)break;O=S,S=S-1,P="right"}u&&c<11&&(I=Db(s.display.measure,I))}else{S>0&&(P=h="right");var ie;s.options.lineWrapping&&(ie=C.getClientRects()).length>1?I=ie[h=="right"?ie.length-1:0]:I=C.getBoundingClientRect()}if(u&&c<9&&!S&&(!I||!I.left&&!I.right)){var ye=C.parentNode.getClientRects()[0];ye?I={left:ye.left,right:ye.left+ya(s.display),top:ye.top,bottom:ye.bottom}:I=Kg}for(var ve=I.top-d.rect.top,Pe=I.bottom-d.rect.top,je=(ve+Pe)/2,Ze=d.view.measure.heights,et=0;et<Ze.length-1&&!(je<Ze[et]);et++);var ot=et?Ze[et-1]:0,tt=Ze[et],ut={left:(P=="right"?I.right:I.left)-d.rect.left,right:(P=="left"?I.left:I.right)-d.rect.left,top:ot,bottom:tt};return!I.left&&!I.right&&(ut.bogus=!0),s.options.singleCursorHeightPerLine||(ut.rtop=ve,ut.rbottom=Pe),ut}function Db(s,d){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!io(s))return d;var p=screen.logicalXDPI/screen.deviceXDPI,h=screen.logicalYDPI/screen.deviceYDPI;return{left:d.left*p,right:d.right*p,top:d.top*h,bottom:d.bottom*h}}function Qg(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var d=0;d<s.rest.length;d++)s.measure.caches[d]={}}function e6(s){s.display.externalMeasure=null,T(s.display.lineMeasure);for(var d=0;d<s.display.view.length;d++)Qg(s.display.view[d])}function Dl(s){e6(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function t6(s){return m&&N?-(s.body.getBoundingClientRect().left-parseInt(getComputedStyle(s.body).marginLeft)):s.defaultView.pageXOffset||(s.documentElement||s.body).scrollLeft}function n6(s){return m&&N?-(s.body.getBoundingClientRect().top-parseInt(getComputedStyle(s.body).marginTop)):s.defaultView.pageYOffset||(s.documentElement||s.body).scrollTop}function yc(s){var d=Di(s),p=d.widgets,h=0;if(p)for(var g=0;g<p.length;++g)p[g].above&&(h+=Nl(p[g]));return h}function _2(s,d,p,h,g){if(!g){var C=yc(d);p.top+=C,p.bottom+=C}if(h=="line")return p;h||(h="local");var S=Mo(d);if(h=="local"?S+=y2(s.display):S-=s.display.viewOffset,h=="page"||h=="window"){var O=s.display.lineSpace.getBoundingClientRect();S+=O.top+(h=="window"?0:n6(Ve(s)));var P=O.left+(h=="window"?0:t6(Ve(s)));p.left+=P,p.right+=P}return p.top+=S,p.bottom+=S,p}function r6(s,d,p){if(p=="div")return d;var h=d.left,g=d.top;if(p=="page")h-=t6(Ve(s)),g-=n6(Ve(s));else if(p=="local"||!p){var C=s.display.sizer.getBoundingClientRect();h+=C.left,g+=C.top}var S=s.display.lineSpace.getBoundingClientRect();return{left:h-S.left,top:g-S.top}}function b2(s,d,p,h,g){return h||(h=We(s.doc,d.line)),_2(s,h,qg(s,h,d.ch,g),p)}function Pi(s,d,p,h,g,C){h=h||We(s.doc,d.line),g||(g=ga(s,h));function S(Pe,je){var Ze=so(s,g,Pe,je?"right":"left",C);return je?Ze.left=Ze.right:Ze.right=Ze.left,_2(s,h,Ze,p)}var O=Je(h,s.doc.direction),P=d.ch,I=d.sticky;if(P>=h.text.length?(P=h.text.length,I="before"):P<=0&&(P=0,I="after"),!O)return S(I=="before"?P-1:P,I=="before");function ee(Pe,je,Ze){var et=O[je],ot=et.level==1;return S(Ze?Pe-1:Pe,ot!=Ze)}var ie=nt(O,P,I),ye=Ge,ve=ee(P,ie,I=="before");return ye!=null&&(ve.other=ee(P,ye,I!="before")),ve}function i6(s,d){var p=0;d=Tt(s.doc,d),s.options.lineWrapping||(p=ya(s.display)*d.ch);var h=We(s.doc,d.line),g=Mo(h)+y2(s.display);return{left:p,right:p,top:g,bottom:g+h.height}}function _c(s,d,p,h,g){var C=me(s,d,p);return C.xRel=g,h&&(C.outside=h),C}function bc(s,d,p){var h=s.doc;if(p+=s.display.viewOffset,p<0)return _c(h.first,0,null,-1,-1);var g=F(h,p),C=h.first+h.size-1;if(g>C)return _c(h.first+h.size-1,We(h,C).text.length,null,1,1);d<0&&(d=0);for(var S=We(h,g);;){var O=Pb(s,S,g,d,p),P=lb(S,O.ch+(O.xRel>0||O.outside>0?1:0));if(!P)return O;var I=P.find(1);if(I.line==g)return I;S=We(h,g=I.line)}}function o6(s,d,p,h){h-=yc(d);var g=d.text.length,C=lt(function(S){return so(s,p,S-1).bottom<=h},g,0);return g=lt(function(S){return so(s,p,S).top>h},C,g),{begin:C,end:g}}function s6(s,d,p,h){p||(p=ga(s,d));var g=_2(s,d,so(s,p,h),"line").top;return o6(s,d,p,g)}function Cc(s,d,p,h){return s.bottom<=p?!1:s.top>p?!0:(h?s.left:s.right)>d}function Pb(s,d,p,h,g){g-=Mo(d);var C=ga(s,d),S=yc(d),O=0,P=d.text.length,I=!0,ee=Je(d,s.doc.direction);if(ee){var ie=(s.options.lineWrapping?Hb:Rb)(s,d,p,C,ee,h,g);I=ie.level!=1,O=I?ie.from:ie.to-1,P=I?ie.to:ie.from-1}var ye=null,ve=null,Pe=lt(function(bt){var _t=so(s,C,bt);return _t.top+=S,_t.bottom+=S,Cc(_t,h,g,!1)?(_t.top<=g&&_t.left<=h&&(ye=bt,ve=_t),!0):!1},O,P),je,Ze,et=!1;if(ve){var ot=h-ve.left<ve.right-h,tt=ot==I;Pe=ye+(tt?0:1),Ze=tt?"after":"before",je=ot?ve.left:ve.right}else{!I&&(Pe==P||Pe==O)&&Pe++,Ze=Pe==0?"after":Pe==d.text.length?"before":so(s,C,Pe-(I?1:0)).bottom+S<=g==I?"after":"before";var ut=Pi(s,me(p,Pe,Ze),"line",d,C);je=ut.left,et=g<ut.top?-1:g>=ut.bottom?1:0}return Pe=it(d.text,Pe,1),_c(p,Pe,Ze,et,h-je)}function Rb(s,d,p,h,g,C,S){var O=lt(function(ie){var ye=g[ie],ve=ye.level!=1;return Cc(Pi(s,me(p,ve?ye.to:ye.from,ve?"before":"after"),"line",d,h),C,S,!0)},0,g.length-1),P=g[O];if(O>0){var I=P.level!=1,ee=Pi(s,me(p,I?P.from:P.to,I?"after":"before"),"line",d,h);Cc(ee,C,S,!0)&&ee.top>S&&(P=g[O-1])}return P}function Hb(s,d,p,h,g,C,S){var O=o6(s,d,h,S),P=O.begin,I=O.end;/\s/.test(d.text.charAt(I-1))&&I--;for(var ee=null,ie=null,ye=0;ye<g.length;ye++){var ve=g[ye];if(!(ve.from>=I||ve.to<=P)){var Pe=ve.level!=1,je=so(s,h,Pe?Math.min(I,ve.to)-1:Math.max(P,ve.from)).right,Ze=je<C?C-je+1e9:je-C;(!ee||ie>Ze)&&(ee=ve,ie=Ze)}}return ee||(ee=g[g.length-1]),ee.from<P&&(ee={from:P,to:ee.to,level:ee.level}),ee.to>I&&(ee={from:ee.from,to:I,level:ee.level}),ee}var ks;function ma(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(ks==null){ks=A("pre",null,"CodeMirror-line-like");for(var d=0;d<49;++d)ks.appendChild(document.createTextNode("x")),ks.appendChild(A("br"));ks.appendChild(document.createTextNode("x"))}R(s.measure,ks);var p=ks.offsetHeight/50;return p>3&&(s.cachedTextHeight=p),T(s.measure),p||1}function ya(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var d=A("span","xxxxxxxxxx"),p=A("pre",[d],"CodeMirror-line-like");R(s.measure,p);var h=d.getBoundingClientRect(),g=(h.right-h.left)/10;return g>2&&(s.cachedCharWidth=g),g||10}function wc(s){for(var d=s.display,p={},h={},g=d.gutters.clientLeft,C=d.gutters.firstChild,S=0;C;C=C.nextSibling,++S){var O=s.display.gutterSpecs[S].className;p[O]=C.offsetLeft+C.clientLeft+g,h[O]=C.clientWidth}return{fixedPos:xc(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:p,gutterWidth:h,wrapperWidth:d.wrapper.clientWidth}}function xc(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function a6(s){var d=ma(s.display),p=s.options.lineWrapping,h=p&&Math.max(5,s.display.scroller.clientWidth/ya(s.display)-3);return function(g){if(Uo(s.doc,g))return 0;var C=0;if(g.widgets)for(var S=0;S<g.widgets.length;S++)g.widgets[S].height&&(C+=g.widgets[S].height);return p?C+(Math.ceil(g.text.length/h)||1)*d:C+d}}function kc(s){var d=s.doc,p=a6(s);d.iter(function(h){var g=p(h);g!=h.height&&Y(h,g)})}function Ss(s,d,p,h){var g=s.display;if(!p&&fr(d).getAttribute("cm-not-content")=="true")return null;var C,S,O=g.lineSpace.getBoundingClientRect();try{C=d.clientX-O.left,S=d.clientY-O.top}catch{return null}var P=bc(s,C,S),I;if(h&&P.xRel>0&&(I=We(s.doc,P.line).text).length==P.ch){var ee=be(I,I.length,s.options.tabSize)-I.length;P=me(P.line,Math.max(0,Math.round((C-Zg(s.display).left)/ya(s.display))-ee))}return P}function Es(s,d){if(d>=s.display.viewTo||(d-=s.display.viewFrom,d<0))return null;for(var p=s.display.view,h=0;h<p.length;h++)if(d-=p[h].size,d<0)return h}function Tr(s,d,p,h){d==null&&(d=s.doc.first),p==null&&(p=s.doc.first+s.doc.size),h||(h=0);var g=s.display;if(h&&p<g.viewTo&&(g.updateLineNumbers==null||g.updateLineNumbers>d)&&(g.updateLineNumbers=d),s.curOp.viewChanged=!0,d>=g.viewTo)Eo&&cc(s.doc,d)<g.viewTo&&Xo(s);else if(p<=g.viewFrom)Eo&&Bg(s.doc,p+h)>g.viewFrom?Xo(s):(g.viewFrom+=h,g.viewTo+=h);else if(d<=g.viewFrom&&p>=g.viewTo)Xo(s);else if(d<=g.viewFrom){var C=C2(s,p,p+h,1);C?(g.view=g.view.slice(C.index),g.viewFrom=C.lineN,g.viewTo+=h):Xo(s)}else if(p>=g.viewTo){var S=C2(s,d,d,-1);S?(g.view=g.view.slice(0,S.index),g.viewTo=S.lineN):Xo(s)}else{var O=C2(s,d,d,-1),P=C2(s,p,p+h,1);O&&P?(g.view=g.view.slice(0,O.index).concat(m2(s,O.lineN,P.lineN)).concat(g.view.slice(P.index)),g.viewTo+=h):Xo(s)}var I=g.externalMeasured;I&&(p<I.lineN?I.lineN+=h:d<I.lineN+I.size&&(g.externalMeasured=null))}function Go(s,d,p){s.curOp.viewChanged=!0;var h=s.display,g=s.display.externalMeasured;if(g&&d>=g.lineN&&d<g.lineN+g.size&&(h.externalMeasured=null),!(d<h.viewFrom||d>=h.viewTo)){var C=h.view[Es(s,d)];if(C.node!=null){var S=C.changes||(C.changes=[]);xe(S,p)==-1&&S.push(p)}}}function Xo(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function C2(s,d,p,h){var g=Es(s,d),C,S=s.display.view;if(!Eo||p==s.doc.first+s.doc.size)return{index:g,lineN:p};for(var O=s.display.viewFrom,P=0;P<g;P++)O+=S[P].size;if(O!=d){if(h>0){if(g==S.length-1)return null;C=O+S[g].size-d,g++}else C=O-d;d+=C,p+=C}for(;cc(s.doc,p)!=p;){if(g==(h<0?0:S.length-1))return null;p+=h*S[g-(h<0?1:0)].size,g+=h}return{index:g,lineN:p}}function Ib(s,d,p){var h=s.display,g=h.view;g.length==0||d>=h.viewTo||p<=h.viewFrom?(h.view=m2(s,d,p),h.viewFrom=d):(h.viewFrom>d?h.view=m2(s,d,h.viewFrom).concat(h.view):h.viewFrom<d&&(h.view=h.view.slice(Es(s,d))),h.viewFrom=d,h.viewTo<p?h.view=h.view.concat(m2(s,h.viewTo,p)):h.viewTo>p&&(h.view=h.view.slice(0,Es(s,p)))),h.viewTo=p}function l6(s){for(var d=s.display.view,p=0,h=0;h<d.length;h++){var g=d[h];!g.hidden&&(!g.node||g.changes)&&++p}return p}function Pl(s){s.display.input.showSelection(s.display.input.prepareSelection())}function u6(s,d){d===void 0&&(d=!0);var p=s.doc,h={},g=h.cursors=document.createDocumentFragment(),C=h.selection=document.createDocumentFragment(),S=s.options.$customCursor;S&&(d=!0);for(var O=0;O<p.sel.ranges.length;O++)if(!(!d&&O==p.sel.primIndex)){var P=p.sel.ranges[O];if(!(P.from().line>=s.display.viewTo||P.to().line<s.display.viewFrom)){var I=P.empty();if(S){var ee=S(s,P);ee&&Sc(s,ee,g)}else(I||s.options.showCursorWhenSelecting)&&Sc(s,P.head,g);I||Bb(s,P,C)}}return h}function Sc(s,d,p){var h=Pi(s,d,"div",null,null,!s.options.singleCursorHeightPerLine),g=p.appendChild(A("div"," ","CodeMirror-cursor"));if(g.style.left=h.left+"px",g.style.top=h.top+"px",g.style.height=Math.max(0,h.bottom-h.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var C=b2(s,d,"div",null,null),S=C.right-C.left;g.style.width=(S>0?S:s.defaultCharWidth())+"px"}if(h.other){var O=p.appendChild(A("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));O.style.display="",O.style.left=h.other.left+"px",O.style.top=h.other.top+"px",O.style.height=(h.other.bottom-h.other.top)*.85+"px"}}function w2(s,d){return s.top-d.top||s.left-d.left}function Bb(s,d,p){var h=s.display,g=s.doc,C=document.createDocumentFragment(),S=Zg(s.display),O=S.left,P=Math.max(h.sizerWidth,xs(s)-h.sizer.offsetLeft)-S.right,I=g.direction=="ltr";function ee(tt,ut,bt,_t){ut<0&&(ut=0),ut=Math.round(ut),_t=Math.round(_t),C.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+tt+`px;
                             top: `+ut+"px; width: "+(bt??P-tt)+`px;
                             height: `+(_t-ut)+"px"))}function ie(tt,ut,bt){var _t=We(g,tt),Vt=_t.text.length,Sn,er;function Nn(Fn,Pr){return b2(s,me(tt,Fn),"div",_t,Pr)}function Kr(Fn,Pr,ur){var zn=s6(s,_t,null,Fn),Vn=Pr=="ltr"==(ur=="after")?"left":"right",Rn=ur=="after"?zn.begin:zn.end-(/\s/.test(_t.text.charAt(zn.end-1))?2:1);return Nn(Rn,Vn)[Vn]}var Dr=Je(_t,g.direction);return At(Dr,ut||0,bt??Vt,function(Fn,Pr,ur,zn){var Vn=ur=="ltr",Rn=Nn(Fn,Vn?"left":"right"),Rr=Nn(Pr-1,Vn?"right":"left"),Ta=ut==null&&Fn==0,Qo=bt==null&&Pr==Vt,pr=zn==0,ao=!Dr||zn==Dr.length-1;if(Rr.top-Rn.top<=3){var tr=(I?Ta:Qo)&&pr,Jc=(I?Qo:Ta)&&ao,To=tr?O:(Vn?Rn:Rr).left,Ts=Jc?P:(Vn?Rr:Rn).right;ee(To,Rn.top,Ts-To,Rn.bottom)}else{var Ns,kr,Na,Qc;Vn?(Ns=I&&Ta&&pr?O:Rn.left,kr=I?P:Kr(Fn,ur,"before"),Na=I?O:Kr(Pr,ur,"after"),Qc=I&&Qo&&ao?P:Rr.right):(Ns=I?Kr(Fn,ur,"before"):O,kr=!I&&Ta&&pr?P:Rn.right,Na=!I&&Qo&&ao?O:Rr.left,Qc=I?Kr(Pr,ur,"after"):P),ee(Ns,Rn.top,kr-Ns,Rn.bottom),Rn.bottom<Rr.top&&ee(O,Rn.bottom,null,Rr.top),ee(Na,Rr.top,Qc-Na,Rr.bottom)}(!Sn||w2(Rn,Sn)<0)&&(Sn=Rn),w2(Rr,Sn)<0&&(Sn=Rr),(!er||w2(Rn,er)<0)&&(er=Rn),w2(Rr,er)<0&&(er=Rr)}),{start:Sn,end:er}}var ye=d.from(),ve=d.to();if(ye.line==ve.line)ie(ye.line,ye.ch,ve.ch);else{var Pe=We(g,ye.line),je=We(g,ve.line),Ze=Di(Pe)==Di(je),et=ie(ye.line,ye.ch,Ze?Pe.text.length+1:null).end,ot=ie(ve.line,Ze?0:null,ve.ch).start;Ze&&(et.top<ot.top-2?(ee(et.right,et.top,null,et.bottom),ee(O,ot.top,ot.left,ot.bottom)):ee(et.right,et.top,ot.left-et.right,et.bottom)),et.bottom<ot.top&&ee(O,et.bottom,null,ot.top)}p.appendChild(C)}function Ec(s){if(s.state.focused){var d=s.display;clearInterval(d.blinker);var p=!0;d.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?d.blinker=setInterval(function(){s.hasFocus()||_a(s),d.cursorDiv.style.visibility=(p=!p)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(d.cursorDiv.style.visibility="hidden")}}function d6(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||Oc(s))}function Mc(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&_a(s))},100)}function Oc(s,d){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(Bt(s,"focus",s,d),s.state.focused=!0,Ae(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),f&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),Ec(s))}function _a(s,d){s.state.delayingBlurEvent||(s.state.focused&&(Bt(s,"blur",s,d),s.state.focused=!1,ue(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function x2(s){for(var d=s.display,p=d.lineDiv.offsetTop,h=Math.max(0,d.scroller.getBoundingClientRect().top),g=d.lineDiv.getBoundingClientRect().top,C=0,S=0;S<d.view.length;S++){var O=d.view[S],P=s.options.lineWrapping,I=void 0,ee=0;if(!O.hidden){if(g+=O.line.height,u&&c<8){var ie=O.node.offsetTop+O.node.offsetHeight;I=ie-p,p=ie}else{var ye=O.node.getBoundingClientRect();I=ye.bottom-ye.top,!P&&O.text.firstChild&&(ee=O.text.firstChild.getBoundingClientRect().right-ye.left-1)}var ve=O.line.height-I;if((ve>.005||ve<-.005)&&(g<h&&(C-=ve),Y(O.line,I),c6(O.line),O.rest))for(var Pe=0;Pe<O.rest.length;Pe++)c6(O.rest[Pe]);if(ee>s.display.sizerWidth){var je=Math.ceil(ee/ya(s.display));je>s.display.maxLineLength&&(s.display.maxLineLength=je,s.display.maxLine=O.line,s.display.maxLineChanged=!0)}}}Math.abs(C)>2&&(d.scroller.scrollTop+=C)}function c6(s){if(s.widgets)for(var d=0;d<s.widgets.length;++d){var p=s.widgets[d],h=p.node.parentNode;h&&(p.height=h.offsetHeight)}}function k2(s,d,p){var h=p&&p.top!=null?Math.max(0,p.top):s.scroller.scrollTop;h=Math.floor(h-y2(s));var g=p&&p.bottom!=null?p.bottom:h+s.wrapper.clientHeight,C=F(d,h),S=F(d,g);if(p&&p.ensure){var O=p.ensure.from.line,P=p.ensure.to.line;O<C?(C=O,S=F(d,Mo(We(d,O))+s.wrapper.clientHeight)):Math.min(P,d.lastLine())>=S&&(C=F(d,Mo(We(d,P))-s.wrapper.clientHeight),S=P)}return{from:C,to:Math.max(S,C+1)}}function jb(s,d){if(!jt(s,"scrollCursorIntoView")){var p=s.display,h=p.sizer.getBoundingClientRect(),g=null,C=p.wrapper.ownerDocument;if(d.top+h.top<0?g=!0:d.bottom+h.top>(C.defaultView.innerHeight||C.documentElement.clientHeight)&&(g=!1),g!=null&&!x){var S=A("div","​",null,`position: absolute;
                         top: `+(d.top-p.viewOffset-y2(s.display))+`px;
                         height: `+(d.bottom-d.top+oo(s)+p.barHeight)+`px;
                         left: `+d.left+"px; width: "+Math.max(2,d.right-d.left)+"px;");s.display.lineSpace.appendChild(S),S.scrollIntoView(g),s.display.lineSpace.removeChild(S)}}}function Fb(s,d,p,h){h==null&&(h=0);var g;!s.options.lineWrapping&&d==p&&(p=d.sticky=="before"?me(d.line,d.ch+1,"before"):d,d=d.ch?me(d.line,d.sticky=="before"?d.ch-1:d.ch,"after"):d);for(var C=0;C<5;C++){var S=!1,O=Pi(s,d),P=!p||p==d?O:Pi(s,p);g={left:Math.min(O.left,P.left),top:Math.min(O.top,P.top)-h,right:Math.max(O.left,P.left),bottom:Math.max(O.bottom,P.bottom)+h};var I=Ac(s,g),ee=s.doc.scrollTop,ie=s.doc.scrollLeft;if(I.scrollTop!=null&&(Hl(s,I.scrollTop),Math.abs(s.doc.scrollTop-ee)>1&&(S=!0)),I.scrollLeft!=null&&(Ms(s,I.scrollLeft),Math.abs(s.doc.scrollLeft-ie)>1&&(S=!0)),!S)break}return g}function Vb(s,d){var p=Ac(s,d);p.scrollTop!=null&&Hl(s,p.scrollTop),p.scrollLeft!=null&&Ms(s,p.scrollLeft)}function Ac(s,d){var p=s.display,h=ma(s.display);d.top<0&&(d.top=0);var g=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:p.scroller.scrollTop,C=gc(s),S={};d.bottom-d.top>C&&(d.bottom=d.top+C);var O=s.doc.height+vc(p),P=d.top<h,I=d.bottom>O-h;if(d.top<g)S.scrollTop=P?0:d.top;else if(d.bottom>g+C){var ee=Math.min(d.top,(I?O:d.bottom)-C);ee!=g&&(S.scrollTop=ee)}var ie=s.options.fixedGutter?0:p.gutters.offsetWidth,ye=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:p.scroller.scrollLeft-ie,ve=xs(s)-p.gutters.offsetWidth,Pe=d.right-d.left>ve;return Pe&&(d.right=d.left+ve),d.left<10?S.scrollLeft=0:d.left<ye?S.scrollLeft=Math.max(0,d.left+ie-(Pe?0:10)):d.right>ve+ye-3&&(S.scrollLeft=d.right+(Pe?0:10)-ve),S}function Lc(s,d){d!=null&&(S2(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+d)}function ba(s){S2(s);var d=s.getCursor();s.curOp.scrollToPos={from:d,to:d,margin:s.options.cursorScrollMargin}}function Rl(s,d,p){(d!=null||p!=null)&&S2(s),d!=null&&(s.curOp.scrollLeft=d),p!=null&&(s.curOp.scrollTop=p)}function $b(s,d){S2(s),s.curOp.scrollToPos=d}function S2(s){var d=s.curOp.scrollToPos;if(d){s.curOp.scrollToPos=null;var p=i6(s,d.from),h=i6(s,d.to);f6(s,p,h,d.margin)}}function f6(s,d,p,h){var g=Ac(s,{left:Math.min(d.left,p.left),top:Math.min(d.top,p.top)-h,right:Math.max(d.right,p.right),bottom:Math.max(d.bottom,p.bottom)+h});Rl(s,g.scrollLeft,g.scrollTop)}function Hl(s,d){Math.abs(s.doc.scrollTop-d)<2||(i||Nc(s,{top:d}),h6(s,d,!0),i&&Nc(s),jl(s,100))}function h6(s,d,p){d=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,d)),!(s.display.scroller.scrollTop==d&&!p)&&(s.doc.scrollTop=d,s.display.scrollbars.setScrollTop(d),s.display.scroller.scrollTop!=d&&(s.display.scroller.scrollTop=d))}function Ms(s,d,p,h){d=Math.max(0,Math.min(d,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((p?d==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-d)<2)&&!h)&&(s.doc.scrollLeft=d,y6(s),s.display.scroller.scrollLeft!=d&&(s.display.scroller.scrollLeft=d),s.display.scrollbars.setScrollLeft(d))}function Il(s){var d=s.display,p=d.gutters.offsetWidth,h=Math.round(s.doc.height+vc(s.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:s.options.fixedGutter?p:0,docHeight:h,scrollHeight:h+oo(s)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:p}}var Os=function(s,d,p){this.cm=p;var h=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),g=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");h.tabIndex=g.tabIndex=-1,s(h),s(g),at(h,"scroll",function(){h.clientHeight&&d(h.scrollTop,"vertical")}),at(g,"scroll",function(){g.clientWidth&&d(g.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,u&&c<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Os.prototype.update=function(s){var d=s.scrollWidth>s.clientWidth+1,p=s.scrollHeight>s.clientHeight+1,h=s.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=d?h+"px":"0";var g=s.viewHeight-(d?h:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+g)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(d){this.horiz.style.display="block",this.horiz.style.right=p?h+"px":"0",this.horiz.style.left=s.barLeft+"px";var C=s.viewWidth-s.barLeft-(p?h:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+C)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(h==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?h:0,bottom:d?h:0}},Os.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Os.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Os.prototype.zeroWidthHack=function(){var s=V&&!w?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Be,this.disableVert=new Be},Os.prototype.enableZeroWidthBar=function(s,d,p){s.style.visibility="";function h(){var g=s.getBoundingClientRect(),C=p=="vert"?document.elementFromPoint(g.right-1,(g.top+g.bottom)/2):document.elementFromPoint((g.right+g.left)/2,g.bottom-1);C!=s?s.style.visibility="hidden":d.set(1e3,h)}d.set(1e3,h)},Os.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var Bl=function(){};Bl.prototype.update=function(){return{bottom:0,right:0}},Bl.prototype.setScrollLeft=function(){},Bl.prototype.setScrollTop=function(){},Bl.prototype.clear=function(){};function Ca(s,d){d||(d=Il(s));var p=s.display.barWidth,h=s.display.barHeight;p6(s,d);for(var g=0;g<4&&p!=s.display.barWidth||h!=s.display.barHeight;g++)p!=s.display.barWidth&&s.options.lineWrapping&&x2(s),p6(s,Il(s)),p=s.display.barWidth,h=s.display.barHeight}function p6(s,d){var p=s.display,h=p.scrollbars.update(d);p.sizer.style.paddingRight=(p.barWidth=h.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=h.bottom)+"px",p.heightForcer.style.borderBottom=h.bottom+"px solid transparent",h.right&&h.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=h.bottom+"px",p.scrollbarFiller.style.width=h.right+"px"):p.scrollbarFiller.style.display="",h.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=h.bottom+"px",p.gutterFiller.style.width=d.gutterWidth+"px"):p.gutterFiller.style.display=""}var v6={native:Os,null:Bl};function g6(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&ue(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new v6[s.options.scrollbarStyle](function(d){s.display.wrapper.insertBefore(d,s.display.scrollbarFiller),at(d,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),d.setAttribute("cm-not-content","true")},function(d,p){p=="horizontal"?Ms(s,d):Hl(s,d)},s),s.display.scrollbars.addClass&&Ae(s.display.wrapper,s.display.scrollbars.addClass)}var Wb=0;function As(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Wb,markArrays:null},bb(s.curOp)}function Ls(s){var d=s.curOp;d&&wb(d,function(p){for(var h=0;h<p.ops.length;h++)p.ops[h].cm.curOp=null;zb(p)})}function zb(s){for(var d=s.ops,p=0;p<d.length;p++)Ub(d[p]);for(var h=0;h<d.length;h++)Gb(d[h]);for(var g=0;g<d.length;g++)Xb(d[g]);for(var C=0;C<d.length;C++)Zb(d[C]);for(var S=0;S<d.length;S++)Yb(d[S])}function Ub(s){var d=s.cm,p=d.display;Kb(d),s.updateMaxLine&&hc(d),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<p.viewFrom||s.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&d.options.lineWrapping,s.update=s.mustUpdate&&new E2(d,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function Gb(s){s.updatedDisplay=s.mustUpdate&&Tc(s.cm,s.update)}function Xb(s){var d=s.cm,p=d.display;s.updatedDisplay&&x2(d),s.barMeasure=Il(d),p.maxLineChanged&&!d.options.lineWrapping&&(s.adjustWidthTo=qg(d,p.maxLine,p.maxLine.text.length).left+3,d.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+s.adjustWidthTo+oo(d)+d.display.barWidth),s.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+s.adjustWidthTo-xs(d))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=p.input.prepareSelection())}function Zb(s){var d=s.cm;s.adjustWidthTo!=null&&(d.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<d.doc.scrollLeft&&Ms(d,Math.min(d.display.scroller.scrollLeft,s.maxScrollLeft),!0),d.display.maxLineChanged=!1);var p=s.focus&&s.focus==le(Ie(d));s.preparedSelection&&d.display.input.showSelection(s.preparedSelection,p),(s.updatedDisplay||s.startHeight!=d.doc.height)&&Ca(d,s.barMeasure),s.updatedDisplay&&Pc(d,s.barMeasure),s.selectionChanged&&Ec(d),d.state.focused&&s.updateInput&&d.display.input.reset(s.typing),p&&d6(s.cm)}function Yb(s){var d=s.cm,p=d.display,h=d.doc;if(s.updatedDisplay&&m6(d,s.update),p.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),s.scrollTop!=null&&h6(d,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&Ms(d,s.scrollLeft,!0,!0),s.scrollToPos){var g=Fb(d,Tt(h,s.scrollToPos.from),Tt(h,s.scrollToPos.to),s.scrollToPos.margin);jb(d,g)}var C=s.maybeHiddenMarkers,S=s.maybeUnhiddenMarkers;if(C)for(var O=0;O<C.length;++O)C[O].lines.length||Bt(C[O],"hide");if(S)for(var P=0;P<S.length;++P)S[P].lines.length&&Bt(S[P],"unhide");p.wrapper.offsetHeight&&(h.scrollTop=d.display.scroller.scrollTop),s.changeObjs&&Bt(d,"changes",d,s.changeObjs),s.update&&s.update.finish()}function qr(s,d){if(s.curOp)return d();As(s);try{return d()}finally{Ls(s)}}function Jn(s,d){return function(){if(s.curOp)return d.apply(s,arguments);As(s);try{return d.apply(s,arguments)}finally{Ls(s)}}}function xr(s){return function(){if(this.curOp)return s.apply(this,arguments);As(this);try{return s.apply(this,arguments)}finally{Ls(this)}}}function Qn(s){return function(){var d=this.cm;if(!d||d.curOp)return s.apply(this,arguments);As(d);try{return s.apply(this,arguments)}finally{Ls(d)}}}function jl(s,d){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(d,he(qb,s))}function qb(s){var d=s.doc;if(!(d.highlightFrontier>=s.display.viewTo)){var p=+new Date+s.options.workTime,h=zo(s,d.highlightFrontier),g=[];d.iter(h.line,Math.min(d.first+d.size,s.display.viewTo+500),function(C){if(h.line>=s.display.viewFrom){var S=C.styles,O=C.text.length>s.options.maxHighlightLength?X(d.mode,h.state):null,P=oi(s,C,h,!0);O&&(h.state=O),C.styles=P.styles;var I=C.styleClasses,ee=P.classes;ee?C.styleClasses=ee:I&&(C.styleClasses=null);for(var ie=!S||S.length!=C.styles.length||I!=ee&&(!I||!ee||I.bgClass!=ee.bgClass||I.textClass!=ee.textClass),ye=0;!ie&&ye<S.length;++ye)ie=S[ye]!=C.styles[ye];ie&&g.push(h.line),C.stateAfter=h.save(),h.nextLine()}else C.text.length<=s.options.maxHighlightLength&&ac(s,C.text,h),C.stateAfter=h.line%5==0?h.save():null,h.nextLine();if(+new Date>p)return jl(s,s.options.workDelay),!0}),d.highlightFrontier=h.line,d.modeFrontier=Math.max(d.modeFrontier,h.line),g.length&&qr(s,function(){for(var C=0;C<g.length;C++)Go(s,g[C],"text")})}}var E2=function(s,d,p){var h=s.display;this.viewport=d,this.visible=k2(h,s.doc,d),this.editorIsHidden=!h.wrapper.offsetWidth,this.wrapperHeight=h.wrapper.clientHeight,this.wrapperWidth=h.wrapper.clientWidth,this.oldDisplayWidth=xs(s),this.force=p,this.dims=wc(s),this.events=[]};E2.prototype.signal=function(s,d){ke(s,d)&&this.events.push(arguments)},E2.prototype.finish=function(){for(var s=0;s<this.events.length;s++)Bt.apply(null,this.events[s])};function Kb(s){var d=s.display;!d.scrollbarsClipped&&d.scroller.offsetWidth&&(d.nativeBarWidth=d.scroller.offsetWidth-d.scroller.clientWidth,d.heightForcer.style.height=oo(s)+"px",d.sizer.style.marginBottom=-d.nativeBarWidth+"px",d.sizer.style.borderRightWidth=oo(s)+"px",d.scrollbarsClipped=!0)}function Jb(s){if(s.hasFocus())return null;var d=le(Ie(s));if(!d||!de(s.display.lineDiv,d))return null;var p={activeElt:d};if(window.getSelection){var h=$(s).getSelection();h.anchorNode&&h.extend&&de(s.display.lineDiv,h.anchorNode)&&(p.anchorNode=h.anchorNode,p.anchorOffset=h.anchorOffset,p.focusNode=h.focusNode,p.focusOffset=h.focusOffset)}return p}function Qb(s){if(!(!s||!s.activeElt||s.activeElt==le(Oe(s.activeElt)))&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&de(document.body,s.anchorNode)&&de(document.body,s.focusNode))){var d=s.activeElt.ownerDocument,p=d.defaultView.getSelection(),h=d.createRange();h.setEnd(s.anchorNode,s.anchorOffset),h.collapse(!1),p.removeAllRanges(),p.addRange(h),p.extend(s.focusNode,s.focusOffset)}}function Tc(s,d){var p=s.display,h=s.doc;if(d.editorIsHidden)return Xo(s),!1;if(!d.force&&d.visible.from>=p.viewFrom&&d.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&l6(s)==0)return!1;_6(s)&&(Xo(s),d.dims=wc(s));var g=h.first+h.size,C=Math.max(d.visible.from-s.options.viewportMargin,h.first),S=Math.min(g,d.visible.to+s.options.viewportMargin);p.viewFrom<C&&C-p.viewFrom<20&&(C=Math.max(h.first,p.viewFrom)),p.viewTo>S&&p.viewTo-S<20&&(S=Math.min(g,p.viewTo)),Eo&&(C=cc(s.doc,C),S=Bg(s.doc,S));var O=C!=p.viewFrom||S!=p.viewTo||p.lastWrapHeight!=d.wrapperHeight||p.lastWrapWidth!=d.wrapperWidth;Ib(s,C,S),p.viewOffset=Mo(We(s.doc,p.viewFrom)),s.display.mover.style.top=p.viewOffset+"px";var P=l6(s);if(!O&&P==0&&!d.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var I=Jb(s);return P>4&&(p.lineDiv.style.display="none"),eC(s,p.updateLineNumbers,d.dims),P>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,Qb(I),T(p.cursorDiv),T(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,O&&(p.lastWrapHeight=d.wrapperHeight,p.lastWrapWidth=d.wrapperWidth,jl(s,400)),p.updateLineNumbers=null,!0}function m6(s,d){for(var p=d.viewport,h=!0;;h=!1){if(!h||!s.options.lineWrapping||d.oldDisplayWidth==xs(s)){if(p&&p.top!=null&&(p={top:Math.min(s.doc.height+vc(s.display)-gc(s),p.top)}),d.visible=k2(s.display,s.doc,p),d.visible.from>=s.display.viewFrom&&d.visible.to<=s.display.viewTo)break}else h&&(d.visible=k2(s.display,s.doc,p));if(!Tc(s,d))break;x2(s);var g=Il(s);Pl(s),Ca(s,g),Pc(s,g),d.force=!1}d.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(d.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function Nc(s,d){var p=new E2(s,d);if(Tc(s,p)){x2(s),m6(s,p);var h=Il(s);Pl(s),Ca(s,h),Pc(s,h),p.finish()}}function eC(s,d,p){var h=s.display,g=s.options.lineNumbers,C=h.lineDiv,S=C.firstChild;function O(Pe){var je=Pe.nextSibling;return f&&V&&s.display.currentWheelTarget==Pe?Pe.style.display="none":Pe.parentNode.removeChild(Pe),je}for(var P=h.view,I=h.viewFrom,ee=0;ee<P.length;ee++){var ie=P[ee];if(!ie.hidden)if(!ie.node||ie.node.parentNode!=C){var ye=Mb(s,ie,I,p);C.insertBefore(ye,S)}else{for(;S!=ie.node;)S=O(S);var ve=g&&d!=null&&d<=I&&ie.lineNumber;ie.changes&&(xe(ie.changes,"gutter")>-1&&(ve=!1),Wg(s,ie,I,p)),ve&&(T(ie.lineNumber),ie.lineNumber.appendChild(document.createTextNode(Me(s.options,I)))),S=ie.node.nextSibling}I+=ie.size}for(;S;)S=O(S)}function Dc(s){var d=s.gutters.offsetWidth;s.sizer.style.marginLeft=d+"px",Kn(s,"gutterChanged",s)}function Pc(s,d){s.display.sizer.style.minHeight=d.docHeight+"px",s.display.heightForcer.style.top=d.docHeight+"px",s.display.gutters.style.height=d.docHeight+s.display.barHeight+oo(s)+"px"}function y6(s){var d=s.display,p=d.view;if(!(!d.alignWidgets&&(!d.gutters.firstChild||!s.options.fixedGutter))){for(var h=xc(d)-d.scroller.scrollLeft+s.doc.scrollLeft,g=d.gutters.offsetWidth,C=h+"px",S=0;S<p.length;S++)if(!p[S].hidden){s.options.fixedGutter&&(p[S].gutter&&(p[S].gutter.style.left=C),p[S].gutterBackground&&(p[S].gutterBackground.style.left=C));var O=p[S].alignable;if(O)for(var P=0;P<O.length;P++)O[P].style.left=C}s.options.fixedGutter&&(d.gutters.style.left=h+g+"px")}}function _6(s){if(!s.options.lineNumbers)return!1;var d=s.doc,p=Me(s.options,d.first+d.size-1),h=s.display;if(p.length!=h.lineNumChars){var g=h.measure.appendChild(A("div",[A("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),C=g.firstChild.offsetWidth,S=g.offsetWidth-C;return h.lineGutter.style.width="",h.lineNumInnerWidth=Math.max(C,h.lineGutter.offsetWidth-S)+1,h.lineNumWidth=h.lineNumInnerWidth+S,h.lineNumChars=h.lineNumInnerWidth?p.length:-1,h.lineGutter.style.width=h.lineNumWidth+"px",Dc(s.display),!0}return!1}function Rc(s,d){for(var p=[],h=!1,g=0;g<s.length;g++){var C=s[g],S=null;if(typeof C!="string"&&(S=C.style,C=C.className),C=="CodeMirror-linenumbers")if(d)h=!0;else continue;p.push({className:C,style:S})}return d&&!h&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function b6(s){var d=s.gutters,p=s.gutterSpecs;T(d),s.lineGutter=null;for(var h=0;h<p.length;++h){var g=p[h],C=g.className,S=g.style,O=d.appendChild(A("div",null,"CodeMirror-gutter "+C));S&&(O.style.cssText=S),C=="CodeMirror-linenumbers"&&(s.lineGutter=O,O.style.width=(s.lineNumWidth||1)+"px")}d.style.display=p.length?"":"none",Dc(s)}function Fl(s){b6(s.display),Tr(s),y6(s)}function tC(s,d,p,h){var g=this;this.input=p,g.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=se("div",null,"CodeMirror-code"),g.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=A("div",null,"CodeMirror-cursors"),g.measure=A("div",null,"CodeMirror-measure"),g.lineMeasure=A("div",null,"CodeMirror-measure"),g.lineSpace=se("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var C=se("div",[g.lineSpace],"CodeMirror-lines");g.mover=A("div",[C],null,"position: relative"),g.sizer=A("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=A("div",null,null,"position: absolute; height: "+Re+"px; width: 1px;"),g.gutters=A("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=A("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=A("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),m&&y>=105&&(g.wrapper.style.clipPath="inset(0px)"),g.wrapper.setAttribute("translate","no"),u&&c<8&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),!f&&!(i&&D)&&(g.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(g.wrapper):s(g.wrapper)),g.viewFrom=g.viewTo=d.first,g.reportedViewFrom=g.reportedViewTo=d.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=Rc(h.gutters,h.lineNumbers),b6(g),p.init(g)}var M2=0,Ao=null;u?Ao=-.53:i?Ao=15:m?Ao=-.7:b&&(Ao=-1/3);function C6(s){var d=s.wheelDeltaX,p=s.wheelDeltaY;return d==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(d=s.detail),p==null&&s.detail&&s.axis==s.VERTICAL_AXIS?p=s.detail:p==null&&(p=s.wheelDelta),{x:d,y:p}}function nC(s){var d=C6(s);return d.x*=Ao,d.y*=Ao,d}function w6(s,d){m&&y==102&&(s.display.chromeScrollHack==null?s.display.sizer.style.pointerEvents="none":clearTimeout(s.display.chromeScrollHack),s.display.chromeScrollHack=setTimeout(function(){s.display.chromeScrollHack=null,s.display.sizer.style.pointerEvents=""},100));var p=C6(d),h=p.x,g=p.y,C=Ao;d.deltaMode===0&&(h=d.deltaX,g=d.deltaY,C=1);var S=s.display,O=S.scroller,P=O.scrollWidth>O.clientWidth,I=O.scrollHeight>O.clientHeight;if(h&&P||g&&I){if(g&&V&&f){e:for(var ee=d.target,ie=S.view;ee!=O;ee=ee.parentNode)for(var ye=0;ye<ie.length;ye++)if(ie[ye].node==ee){s.display.currentWheelTarget=ee;break e}}if(h&&!i&&!_&&C!=null){g&&I&&Hl(s,Math.max(0,O.scrollTop+g*C)),Ms(s,Math.max(0,O.scrollLeft+h*C)),(!g||g&&I)&&ft(d),S.wheelStartX=null;return}if(g&&C!=null){var ve=g*C,Pe=s.doc.scrollTop,je=Pe+S.wrapper.clientHeight;ve<0?Pe=Math.max(0,Pe+ve-50):je=Math.min(s.doc.height,je+ve+50),Nc(s,{top:Pe,bottom:je})}M2<20&&d.deltaMode!==0&&(S.wheelStartX==null?(S.wheelStartX=O.scrollLeft,S.wheelStartY=O.scrollTop,S.wheelDX=h,S.wheelDY=g,setTimeout(function(){if(S.wheelStartX!=null){var Ze=O.scrollLeft-S.wheelStartX,et=O.scrollTop-S.wheelStartY,ot=et&&S.wheelDY&&et/S.wheelDY||Ze&&S.wheelDX&&Ze/S.wheelDX;S.wheelStartX=S.wheelStartY=null,ot&&(Ao=(Ao*M2+ot)/(M2+1),++M2)}},200)):(S.wheelDX+=h,S.wheelDY+=g))}}var si=function(s,d){this.ranges=s,this.primIndex=d};si.prototype.primary=function(){return this.ranges[this.primIndex]},si.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var p=this.ranges[d],h=s.ranges[d];if(!qe(p.anchor,h.anchor)||!qe(p.head,h.head))return!1}return!0},si.prototype.deepCopy=function(){for(var s=[],d=0;d<this.ranges.length;d++)s[d]=new dn(dt(this.ranges[d].anchor),dt(this.ranges[d].head));return new si(s,this.primIndex)},si.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},si.prototype.contains=function(s,d){d||(d=s);for(var p=0;p<this.ranges.length;p++){var h=this.ranges[p];if(Ce(d,h.from())>=0&&Ce(s,h.to())<=0)return p}return-1};var dn=function(s,d){this.anchor=s,this.head=d};dn.prototype.from=function(){return In(this.anchor,this.head)},dn.prototype.to=function(){return St(this.anchor,this.head)},dn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ri(s,d,p){var h=s&&s.options.selectionsMayTouch,g=d[p];d.sort(function(ye,ve){return Ce(ye.from(),ve.from())}),p=xe(d,g);for(var C=1;C<d.length;C++){var S=d[C],O=d[C-1],P=Ce(O.to(),S.from());if(h&&!S.empty()?P>0:P>=0){var I=In(O.from(),S.from()),ee=St(O.to(),S.to()),ie=O.empty()?S.from()==S.head:O.from()==O.head;C<=p&&--p,d.splice(--C,2,new dn(ie?ee:I,ie?I:ee))}}return new si(d,p)}function Zo(s,d){return new si([new dn(s,d||s)],0)}function Yo(s){return s.text?me(s.from.line+s.text.length-1,E(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function x6(s,d){if(Ce(s,d.from)<0)return s;if(Ce(s,d.to)<=0)return Yo(d);var p=s.line+d.text.length-(d.to.line-d.from.line)-1,h=s.ch;return s.line==d.to.line&&(h+=Yo(d).ch-d.to.ch),me(p,h)}function Hc(s,d){for(var p=[],h=0;h<s.sel.ranges.length;h++){var g=s.sel.ranges[h];p.push(new dn(x6(g.anchor,d),x6(g.head,d)))}return Ri(s.cm,p,s.sel.primIndex)}function k6(s,d,p){return s.line==d.line?me(p.line,s.ch-d.ch+p.ch):me(p.line+(s.line-d.line),s.ch)}function rC(s,d,p){for(var h=[],g=me(s.first,0),C=g,S=0;S<d.length;S++){var O=d[S],P=k6(O.from,g,C),I=k6(Yo(O),g,C);if(g=O.to,C=I,p=="around"){var ee=s.sel.ranges[S],ie=Ce(ee.head,ee.anchor)<0;h[S]=new dn(ie?I:P,ie?P:I)}else h[S]=new dn(P,P)}return new si(h,s.sel.primIndex)}function Ic(s){s.doc.mode=hi(s.options,s.doc.modeOption),Vl(s)}function Vl(s){s.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,jl(s,100),s.state.modeGen++,s.curOp&&Tr(s)}function S6(s,d){return d.from.ch==0&&d.to.ch==0&&E(d.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function Bc(s,d,p,h){function g(ot){return p?p[ot]:null}function C(ot,tt,ut){cb(ot,tt,ut,h),Kn(ot,"change",ot,d)}function S(ot,tt){for(var ut=[],bt=ot;bt<tt;++bt)ut.push(new pa(I[bt],g(bt),h));return ut}var O=d.from,P=d.to,I=d.text,ee=We(s,O.line),ie=We(s,P.line),ye=E(I),ve=g(I.length-1),Pe=P.line-O.line;if(d.full)s.insert(0,S(0,I.length)),s.remove(I.length,s.size-I.length);else if(S6(s,d)){var je=S(0,I.length-1);C(ie,ie.text,ve),Pe&&s.remove(O.line,Pe),je.length&&s.insert(O.line,je)}else if(ee==ie)if(I.length==1)C(ee,ee.text.slice(0,O.ch)+ye+ee.text.slice(P.ch),ve);else{var Ze=S(1,I.length-1);Ze.push(new pa(ye+ee.text.slice(P.ch),ve,h)),C(ee,ee.text.slice(0,O.ch)+I[0],g(0)),s.insert(O.line+1,Ze)}else if(I.length==1)C(ee,ee.text.slice(0,O.ch)+I[0]+ie.text.slice(P.ch),g(0)),s.remove(O.line+1,Pe);else{C(ee,ee.text.slice(0,O.ch)+I[0],g(0)),C(ie,ye+ie.text.slice(P.ch),ve);var et=S(1,I.length-1);Pe>1&&s.remove(O.line+1,Pe-1),s.insert(O.line+1,et)}Kn(s,"change",s,d)}function qo(s,d,p){function h(g,C,S){if(g.linked)for(var O=0;O<g.linked.length;++O){var P=g.linked[O];if(P.doc!=C){var I=S&&P.sharedHist;p&&!I||(d(P.doc,I),h(P.doc,g,I))}}}h(s,null,!0)}function E6(s,d){if(d.cm)throw new Error("This document is already in use.");s.doc=d,d.cm=s,kc(s),Ic(s),M6(s),s.options.direction=d.direction,s.options.lineWrapping||hc(s),s.options.mode=d.modeOption,Tr(s)}function M6(s){(s.doc.direction=="rtl"?Ae:ue)(s.display.lineDiv,"CodeMirror-rtl")}function iC(s){qr(s,function(){M6(s),Tr(s)})}function O2(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function jc(s,d){var p={from:dt(d.from),to:Yo(d),text:Ft(s,d.from,d.to)};return L6(s,p,d.from.line,d.to.line+1),qo(s,function(h){return L6(h,p,d.from.line,d.to.line+1)},!0),p}function O6(s){for(;s.length;){var d=E(s);if(d.ranges)s.pop();else break}}function oC(s,d){if(d)return O6(s.done),E(s.done);if(s.done.length&&!E(s.done).ranges)return E(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),E(s.done)}function A6(s,d,p,h){var g=s.history;g.undone.length=0;var C=+new Date,S,O;if((g.lastOp==h||g.lastOrigin==d.origin&&d.origin&&(d.origin.charAt(0)=="+"&&g.lastModTime>C-(s.cm?s.cm.options.historyEventDelay:500)||d.origin.charAt(0)=="*"))&&(S=oC(g,g.lastOp==h)))O=E(S.changes),Ce(d.from,d.to)==0&&Ce(d.from,O.to)==0?O.to=Yo(d):S.changes.push(jc(s,d));else{var P=E(g.done);for((!P||!P.ranges)&&A2(s.sel,g.done),S={changes:[jc(s,d)],generation:g.generation},g.done.push(S);g.done.length>g.undoDepth;)g.done.shift(),g.done[0].ranges||g.done.shift()}g.done.push(p),g.generation=++g.maxGeneration,g.lastModTime=g.lastSelTime=C,g.lastOp=g.lastSelOp=h,g.lastOrigin=g.lastSelOrigin=d.origin,O||Bt(s,"historyAdded")}function sC(s,d,p,h){var g=d.charAt(0);return g=="*"||g=="+"&&p.ranges.length==h.ranges.length&&p.somethingSelected()==h.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function aC(s,d,p,h){var g=s.history,C=h&&h.origin;p==g.lastSelOp||C&&g.lastSelOrigin==C&&(g.lastModTime==g.lastSelTime&&g.lastOrigin==C||sC(s,C,E(g.done),d))?g.done[g.done.length-1]=d:A2(d,g.done),g.lastSelTime=+new Date,g.lastSelOrigin=C,g.lastSelOp=p,h&&h.clearRedo!==!1&&O6(g.undone)}function A2(s,d){var p=E(d);p&&p.ranges&&p.equals(s)||d.push(s)}function L6(s,d,p,h){var g=d["spans_"+s.id],C=0;s.iter(Math.max(s.first,p),Math.min(s.first+s.size,h),function(S){S.markedSpans&&((g||(g=d["spans_"+s.id]={}))[C]=S.markedSpans),++C})}function lC(s){if(!s)return null;for(var d,p=0;p<s.length;++p)s[p].marker.explicitlyCleared?d||(d=s.slice(0,p)):d&&d.push(s[p]);return d?d.length?d:null:s}function uC(s,d){var p=d["spans_"+s.id];if(!p)return null;for(var h=[],g=0;g<d.text.length;++g)h.push(lC(p[g]));return h}function T6(s,d){var p=uC(s,d),h=uc(s,d);if(!p)return h;if(!h)return p;for(var g=0;g<p.length;++g){var C=p[g],S=h[g];if(C&&S)e:for(var O=0;O<S.length;++O){for(var P=S[O],I=0;I<C.length;++I)if(C[I].marker==P.marker)continue e;C.push(P)}else S&&(p[g]=S)}return p}function wa(s,d,p){for(var h=[],g=0;g<s.length;++g){var C=s[g];if(C.ranges){h.push(p?si.prototype.deepCopy.call(C):C);continue}var S=C.changes,O=[];h.push({changes:O});for(var P=0;P<S.length;++P){var I=S[P],ee=void 0;if(O.push({from:I.from,to:I.to,text:I.text}),d)for(var ie in I)(ee=ie.match(/^spans_(\d+)$/))&&xe(d,Number(ee[1]))>-1&&(E(O)[ie]=I[ie],delete I[ie])}}return h}function Fc(s,d,p,h){if(h){var g=s.anchor;if(p){var C=Ce(d,g)<0;C!=Ce(p,g)<0?(g=d,d=p):C!=Ce(d,p)<0&&(d=p)}return new dn(g,d)}else return new dn(p||d,d)}function L2(s,d,p,h,g){g==null&&(g=s.cm&&(s.cm.display.shift||s.extend)),hr(s,new si([Fc(s.sel.primary(),d,p,g)],0),h)}function N6(s,d,p){for(var h=[],g=s.cm&&(s.cm.display.shift||s.extend),C=0;C<s.sel.ranges.length;C++)h[C]=Fc(s.sel.ranges[C],d[C],null,g);var S=Ri(s.cm,h,s.sel.primIndex);hr(s,S,p)}function Vc(s,d,p,h){var g=s.sel.ranges.slice(0);g[d]=p,hr(s,Ri(s.cm,g,s.sel.primIndex),h)}function D6(s,d,p,h){hr(s,Zo(d,p),h)}function dC(s,d,p){var h={ranges:d.ranges,update:function(g){this.ranges=[];for(var C=0;C<g.length;C++)this.ranges[C]=new dn(Tt(s,g[C].anchor),Tt(s,g[C].head))},origin:p&&p.origin};return Bt(s,"beforeSelectionChange",s,h),s.cm&&Bt(s.cm,"beforeSelectionChange",s.cm,h),h.ranges!=d.ranges?Ri(s.cm,h.ranges,h.ranges.length-1):d}function P6(s,d,p){var h=s.history.done,g=E(h);g&&g.ranges?(h[h.length-1]=d,T2(s,d,p)):hr(s,d,p)}function hr(s,d,p){T2(s,d,p),aC(s,s.sel,s.cm?s.cm.curOp.id:NaN,p)}function T2(s,d,p){(ke(s,"beforeSelectionChange")||s.cm&&ke(s.cm,"beforeSelectionChange"))&&(d=dC(s,d,p));var h=p&&p.bias||(Ce(d.primary().head,s.sel.primary().head)<0?-1:1);R6(s,I6(s,d,h,!0)),!(p&&p.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&ba(s.cm)}function R6(s,d){d.equals(s.sel)||(s.sel=d,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,sn(s.cm)),Kn(s,"cursorActivity",s))}function H6(s){R6(s,I6(s,s.sel,null,!1))}function I6(s,d,p,h){for(var g,C=0;C<d.ranges.length;C++){var S=d.ranges[C],O=d.ranges.length==s.sel.ranges.length&&s.sel.ranges[C],P=N2(s,S.anchor,O&&O.anchor,p,h),I=S.head==S.anchor?P:N2(s,S.head,O&&O.head,p,h);(g||P!=S.anchor||I!=S.head)&&(g||(g=d.ranges.slice(0,C)),g[C]=new dn(P,I))}return g?Ri(s.cm,g,d.primIndex):d}function xa(s,d,p,h,g){var C=We(s,d.line);if(C.markedSpans)for(var S=0;S<C.markedSpans.length;++S){var O=C.markedSpans[S],P=O.marker,I="selectLeft"in P?!P.selectLeft:P.inclusiveLeft,ee="selectRight"in P?!P.selectRight:P.inclusiveRight;if((O.from==null||(I?O.from<=d.ch:O.from<d.ch))&&(O.to==null||(ee?O.to>=d.ch:O.to>d.ch))){if(g&&(Bt(P,"beforeCursorEnter"),P.explicitlyCleared))if(C.markedSpans){--S;continue}else break;if(!P.atomic)continue;if(p){var ie=P.find(h<0?1:-1),ye=void 0;if((h<0?ee:I)&&(ie=B6(s,ie,-h,ie&&ie.line==d.line?C:null)),ie&&ie.line==d.line&&(ye=Ce(ie,p))&&(h<0?ye<0:ye>0))return xa(s,ie,d,h,g)}var ve=P.find(h<0?-1:1);return(h<0?I:ee)&&(ve=B6(s,ve,h,ve.line==d.line?C:null)),ve?xa(s,ve,d,h,g):null}}return d}function N2(s,d,p,h,g){var C=h||1,S=xa(s,d,p,C,g)||!g&&xa(s,d,p,C,!0)||xa(s,d,p,-C,g)||!g&&xa(s,d,p,-C,!0);return S||(s.cantEdit=!0,me(s.first,0))}function B6(s,d,p,h){return p<0&&d.ch==0?d.line>s.first?Tt(s,me(d.line-1)):null:p>0&&d.ch==(h||We(s,d.line)).text.length?d.line<s.first+s.size-1?me(d.line+1,0):null:new me(d.line,d.ch+p)}function j6(s){s.setSelection(me(s.firstLine(),0),me(s.lastLine()),Lt)}function F6(s,d,p){var h={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return h.canceled=!0}};return p&&(h.update=function(g,C,S,O){g&&(h.from=Tt(s,g)),C&&(h.to=Tt(s,C)),S&&(h.text=S),O!==void 0&&(h.origin=O)}),Bt(s,"beforeChange",s,h),s.cm&&Bt(s.cm,"beforeChange",s.cm,h),h.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:h.from,to:h.to,text:h.text,origin:h.origin}}function ka(s,d,p){if(s.cm){if(!s.cm.curOp)return Jn(s.cm,ka)(s,d,p);if(s.cm.state.suppressEdits)return}if(!((ke(s,"beforeChange")||s.cm&&ke(s.cm,"beforeChange"))&&(d=F6(s,d,!0),!d))){var h=Tg&&!p&&ab(s,d.from,d.to);if(h)for(var g=h.length-1;g>=0;--g)V6(s,{from:h[g].from,to:h[g].to,text:g?[""]:d.text,origin:d.origin});else V6(s,d)}}function V6(s,d){if(!(d.text.length==1&&d.text[0]==""&&Ce(d.from,d.to)==0)){var p=Hc(s,d);A6(s,d,p,s.cm?s.cm.curOp.id:NaN),$l(s,d,p,uc(s,d));var h=[];qo(s,function(g,C){!C&&xe(h,g.history)==-1&&(U6(g.history,d),h.push(g.history)),$l(g,d,null,uc(g,d))})}}function D2(s,d,p){var h=s.cm&&s.cm.state.suppressEdits;if(!(h&&!p)){for(var g=s.history,C,S=s.sel,O=d=="undo"?g.done:g.undone,P=d=="undo"?g.undone:g.done,I=0;I<O.length&&(C=O[I],!(p?C.ranges&&!C.equals(s.sel):!C.ranges));I++);if(I!=O.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(C=O.pop(),C.ranges){if(A2(C,P),p&&!C.equals(s.sel)){hr(s,C,{clearRedo:!1});return}S=C}else if(h){O.push(C);return}else break;var ee=[];A2(S,P),P.push({changes:ee,generation:g.generation}),g.generation=C.generation||++g.maxGeneration;for(var ie=ke(s,"beforeChange")||s.cm&&ke(s.cm,"beforeChange"),ye=function(je){var Ze=C.changes[je];if(Ze.origin=d,ie&&!F6(s,Ze,!1))return O.length=0,{};ee.push(jc(s,Ze));var et=je?Hc(s,Ze):E(O);$l(s,Ze,et,T6(s,Ze)),!je&&s.cm&&s.cm.scrollIntoView({from:Ze.from,to:Yo(Ze)});var ot=[];qo(s,function(tt,ut){!ut&&xe(ot,tt.history)==-1&&(U6(tt.history,Ze),ot.push(tt.history)),$l(tt,Ze,null,T6(tt,Ze))})},ve=C.changes.length-1;ve>=0;--ve){var Pe=ye(ve);if(Pe)return Pe.v}}}}function $6(s,d){if(d!=0&&(s.first+=d,s.sel=new si(H(s.sel.ranges,function(g){return new dn(me(g.anchor.line+d,g.anchor.ch),me(g.head.line+d,g.head.ch))}),s.sel.primIndex),s.cm)){Tr(s.cm,s.first,s.first-d,d);for(var p=s.cm.display,h=p.viewFrom;h<p.viewTo;h++)Go(s.cm,h,"gutter")}}function $l(s,d,p,h){if(s.cm&&!s.cm.curOp)return Jn(s.cm,$l)(s,d,p,h);if(d.to.line<s.first){$6(s,d.text.length-1-(d.to.line-d.from.line));return}if(!(d.from.line>s.lastLine())){if(d.from.line<s.first){var g=d.text.length-1-(s.first-d.from.line);$6(s,g),d={from:me(s.first,0),to:me(d.to.line+g,d.to.ch),text:[E(d.text)],origin:d.origin}}var C=s.lastLine();d.to.line>C&&(d={from:d.from,to:me(C,We(s,C).text.length),text:[d.text[0]],origin:d.origin}),d.removed=Ft(s,d.from,d.to),p||(p=Hc(s,d)),s.cm?cC(s.cm,d,h):Bc(s,d,h),T2(s,p,Lt),s.cantEdit&&N2(s,me(s.firstLine(),0))&&(s.cantEdit=!1)}}function cC(s,d,p){var h=s.doc,g=s.display,C=d.from,S=d.to,O=!1,P=C.line;s.options.lineWrapping||(P=M(Di(We(h,C.line))),h.iter(P,S.line+1,function(ve){if(ve==g.maxLine)return O=!0,!0})),h.sel.contains(d.from,d.to)>-1&&sn(s),Bc(h,d,p,a6(s)),s.options.lineWrapping||(h.iter(P,C.line+d.text.length,function(ve){var Pe=g2(ve);Pe>g.maxLineLength&&(g.maxLine=ve,g.maxLineLength=Pe,g.maxLineChanged=!0,O=!1)}),O&&(s.curOp.updateMaxLine=!0)),eb(h,C.line),jl(s,400);var I=d.text.length-(S.line-C.line)-1;d.full?Tr(s):C.line==S.line&&d.text.length==1&&!S6(s.doc,d)?Go(s,C.line,"text"):Tr(s,C.line,S.line+1,I);var ee=ke(s,"changes"),ie=ke(s,"change");if(ie||ee){var ye={from:C,to:S,text:d.text,removed:d.removed,origin:d.origin};ie&&Kn(s,"change",s,ye),ee&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(ye)}s.display.selForContextMenu=null}function Sa(s,d,p,h,g){var C;h||(h=p),Ce(h,p)<0&&(C=[h,p],p=C[0],h=C[1]),typeof d=="string"&&(d=s.splitLines(d)),ka(s,{from:p,to:h,text:d,origin:g})}function W6(s,d,p,h){p<s.line?s.line+=h:d<s.line&&(s.line=d,s.ch=0)}function z6(s,d,p,h){for(var g=0;g<s.length;++g){var C=s[g],S=!0;if(C.ranges){C.copied||(C=s[g]=C.deepCopy(),C.copied=!0);for(var O=0;O<C.ranges.length;O++)W6(C.ranges[O].anchor,d,p,h),W6(C.ranges[O].head,d,p,h);continue}for(var P=0;P<C.changes.length;++P){var I=C.changes[P];if(p<I.from.line)I.from=me(I.from.line+h,I.from.ch),I.to=me(I.to.line+h,I.to.ch);else if(d<=I.to.line){S=!1;break}}S||(s.splice(0,g+1),g=0)}}function U6(s,d){var p=d.from.line,h=d.to.line,g=d.text.length-(h-p)-1;z6(s.done,p,h,g),z6(s.undone,p,h,g)}function Wl(s,d,p,h){var g=d,C=d;return typeof d=="number"?C=We(s,Ol(s,d)):g=M(d),g==null?null:(h(C,g)&&s.cm&&Go(s.cm,g,p),C)}function zl(s){this.lines=s,this.parent=null;for(var d=0,p=0;p<s.length;++p)s[p].parent=this,d+=s[p].height;this.height=d}zl.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,d){for(var p=s,h=s+d;p<h;++p){var g=this.lines[p];this.height-=g.height,fb(g),Kn(g,"delete")}this.lines.splice(s,d)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,d,p){this.height+=p,this.lines=this.lines.slice(0,s).concat(d).concat(this.lines.slice(s));for(var h=0;h<d.length;++h)d[h].parent=this},iterN:function(s,d,p){for(var h=s+d;s<h;++s)if(p(this.lines[s]))return!0}};function Ul(s){this.children=s;for(var d=0,p=0,h=0;h<s.length;++h){var g=s[h];d+=g.chunkSize(),p+=g.height,g.parent=this}this.size=d,this.height=p,this.parent=null}Ul.prototype={chunkSize:function(){return this.size},removeInner:function(s,d){this.size-=d;for(var p=0;p<this.children.length;++p){var h=this.children[p],g=h.chunkSize();if(s<g){var C=Math.min(d,g-s),S=h.height;if(h.removeInner(s,C),this.height-=S-h.height,g==C&&(this.children.splice(p--,1),h.parent=null),(d-=C)==0)break;s=0}else s-=g}if(this.size-d<25&&(this.children.length>1||!(this.children[0]instanceof zl))){var O=[];this.collapse(O),this.children=[new zl(O)],this.children[0].parent=this}},collapse:function(s){for(var d=0;d<this.children.length;++d)this.children[d].collapse(s)},insertInner:function(s,d,p){this.size+=d.length,this.height+=p;for(var h=0;h<this.children.length;++h){var g=this.children[h],C=g.chunkSize();if(s<=C){if(g.insertInner(s,d,p),g.lines&&g.lines.length>50){for(var S=g.lines.length%25+25,O=S;O<g.lines.length;){var P=new zl(g.lines.slice(O,O+=25));g.height-=P.height,this.children.splice(++h,0,P),P.parent=this}g.lines=g.lines.slice(0,S),this.maybeSpill()}break}s-=C}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var d=s.children.splice(s.children.length-5,5),p=new Ul(d);if(s.parent){s.size-=p.size,s.height-=p.height;var g=xe(s.parent.children,s);s.parent.children.splice(g+1,0,p)}else{var h=new Ul(s.children);h.parent=s,s.children=[h,p],s=h}p.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,d,p){for(var h=0;h<this.children.length;++h){var g=this.children[h],C=g.chunkSize();if(s<C){var S=Math.min(d,C-s);if(g.iterN(s,S,p))return!0;if((d-=S)==0)break;s=0}else s-=C}}};var Gl=function(s,d,p){if(p)for(var h in p)p.hasOwnProperty(h)&&(this[h]=p[h]);this.doc=s,this.node=d};Gl.prototype.clear=function(){var s=this.doc.cm,d=this.line.widgets,p=this.line,h=M(p);if(!(h==null||!d)){for(var g=0;g<d.length;++g)d[g]==this&&d.splice(g--,1);d.length||(p.widgets=null);var C=Nl(this);Y(p,Math.max(0,p.height-C)),s&&(qr(s,function(){G6(s,p,-C),Go(s,h,"widget")}),Kn(s,"lineWidgetCleared",s,this,h))}},Gl.prototype.changed=function(){var s=this,d=this.height,p=this.doc.cm,h=this.line;this.height=null;var g=Nl(this)-d;g&&(Uo(this.doc,h)||Y(h,h.height+g),p&&qr(p,function(){p.curOp.forceUpdate=!0,G6(p,h,g),Kn(p,"lineWidgetChanged",p,s,M(h))}))},Ye(Gl);function G6(s,d,p){Mo(d)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&Lc(s,p)}function fC(s,d,p,h){var g=new Gl(s,p,h),C=s.cm;return C&&g.noHScroll&&(C.display.alignWidgets=!0),Wl(s,d,"widget",function(S){var O=S.widgets||(S.widgets=[]);if(g.insertAt==null?O.push(g):O.splice(Math.min(O.length,Math.max(0,g.insertAt)),0,g),g.line=S,C&&!Uo(s,S)){var P=Mo(S)<s.scrollTop;Y(S,S.height+Nl(g)),P&&Lc(C,g.height),C.curOp.forceUpdate=!0}return!0}),C&&Kn(C,"lineWidgetAdded",C,g,typeof d=="number"?d:M(d)),g}var X6=0,Ko=function(s,d){this.lines=[],this.type=d,this.doc=s,this.id=++X6};Ko.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,d=s&&!s.curOp;if(d&&As(s),ke(this,"clear")){var p=this.find();p&&Kn(this,"clear",p.from,p.to)}for(var h=null,g=null,C=0;C<this.lines.length;++C){var S=this.lines[C],O=Al(S.markedSpans,this);s&&!this.collapsed?Go(s,M(S),"text"):s&&(O.to!=null&&(g=M(S)),O.from!=null&&(h=M(S))),S.markedSpans=rb(S.markedSpans,O),O.from==null&&this.collapsed&&!Uo(this.doc,S)&&s&&Y(S,ma(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var P=0;P<this.lines.length;++P){var I=Di(this.lines[P]),ee=g2(I);ee>s.display.maxLineLength&&(s.display.maxLine=I,s.display.maxLineLength=ee,s.display.maxLineChanged=!0)}h!=null&&s&&this.collapsed&&Tr(s,h,g+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&H6(s.doc)),s&&Kn(s,"markerCleared",s,this,h,g),d&&Ls(s),this.parent&&this.parent.clear()}},Ko.prototype.find=function(s,d){s==null&&this.type=="bookmark"&&(s=1);for(var p,h,g=0;g<this.lines.length;++g){var C=this.lines[g],S=Al(C.markedSpans,this);if(S.from!=null&&(p=me(d?C:M(C),S.from),s==-1))return p;if(S.to!=null&&(h=me(d?C:M(C),S.to),s==1))return h}return p&&{from:p,to:h}},Ko.prototype.changed=function(){var s=this,d=this.find(-1,!0),p=this,h=this.doc.cm;!d||!h||qr(h,function(){var g=d.line,C=M(d.line),S=mc(h,C);if(S&&(Qg(S),h.curOp.selectionChanged=h.curOp.forceUpdate=!0),h.curOp.updateMaxLine=!0,!Uo(p.doc,g)&&p.height!=null){var O=p.height;p.height=null;var P=Nl(p)-O;P&&Y(g,g.height+P)}Kn(h,"markerChanged",h,s)})},Ko.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(!d.maybeHiddenMarkers||xe(d.maybeHiddenMarkers,this)==-1)&&(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},Ko.prototype.detachLine=function(s){if(this.lines.splice(xe(this.lines,s),1),!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(d.maybeHiddenMarkers||(d.maybeHiddenMarkers=[])).push(this)}},Ye(Ko);function Ea(s,d,p,h,g){if(h&&h.shared)return hC(s,d,p,h,g);if(s.cm&&!s.cm.curOp)return Jn(s.cm,Ea)(s,d,p,h,g);var C=new Ko(s,g),S=Ce(d,p);if(h&&ge(h,C,!1),S>0||S==0&&C.clearWhenEmpty!==!1)return C;if(C.replacedWith&&(C.collapsed=!0,C.widgetNode=se("span",[C.replacedWith],"CodeMirror-widget"),h.handleMouseEvents||C.widgetNode.setAttribute("cm-ignore-events","true"),h.insertLeft&&(C.widgetNode.insertLeft=!0)),C.collapsed){if(Ig(s,d.line,d,p,C)||d.line!=p.line&&Ig(s,p.line,d,p,C))throw new Error("Inserting collapsed marker partially overlapping an existing one");nb()}C.addToHistory&&A6(s,{from:d,to:p,origin:"markText"},s.sel,NaN);var O=d.line,P=s.cm,I;if(s.iter(O,p.line+1,function(ie){P&&C.collapsed&&!P.options.lineWrapping&&Di(ie)==P.display.maxLine&&(I=!0),C.collapsed&&O!=d.line&&Y(ie,0),ib(ie,new f2(C,O==d.line?d.ch:null,O==p.line?p.ch:null),s.cm&&s.cm.curOp),++O}),C.collapsed&&s.iter(d.line,p.line+1,function(ie){Uo(s,ie)&&Y(ie,0)}),C.clearOnEnter&&at(C,"beforeCursorEnter",function(){return C.clear()}),C.readOnly&&(tb(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),C.collapsed&&(C.id=++X6,C.atomic=!0),P){if(I&&(P.curOp.updateMaxLine=!0),C.collapsed)Tr(P,d.line,p.line+1);else if(C.className||C.startStyle||C.endStyle||C.css||C.attributes||C.title)for(var ee=d.line;ee<=p.line;ee++)Go(P,ee,"text");C.atomic&&H6(P.doc),Kn(P,"markerAdded",P,C)}return C}var Xl=function(s,d){this.markers=s,this.primary=d;for(var p=0;p<s.length;++p)s[p].parent=this};Xl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();Kn(this,"clear")}},Xl.prototype.find=function(s,d){return this.primary.find(s,d)},Ye(Xl);function hC(s,d,p,h,g){h=ge(h),h.shared=!1;var C=[Ea(s,d,p,h,g)],S=C[0],O=h.widgetNode;return qo(s,function(P){O&&(h.widgetNode=O.cloneNode(!0)),C.push(Ea(P,Tt(P,d),Tt(P,p),h,g));for(var I=0;I<P.linked.length;++I)if(P.linked[I].isParent)return;S=E(C)}),new Xl(C,S)}function Z6(s){return s.findMarks(me(s.first,0),s.clipPos(me(s.lastLine())),function(d){return d.parent})}function pC(s,d){for(var p=0;p<d.length;p++){var h=d[p],g=h.find(),C=s.clipPos(g.from),S=s.clipPos(g.to);if(Ce(C,S)){var O=Ea(s,C,S,h.primary,h.primary.type);h.markers.push(O),O.parent=h}}}function vC(s){for(var d=function(h){var g=s[h],C=[g.primary.doc];qo(g.primary.doc,function(P){return C.push(P)});for(var S=0;S<g.markers.length;S++){var O=g.markers[S];xe(C,O.doc)==-1&&(O.parent=null,g.markers.splice(S--,1))}},p=0;p<s.length;p++)d(p)}var gC=0,Nr=function(s,d,p,h,g){if(!(this instanceof Nr))return new Nr(s,d,p,h,g);p==null&&(p=0),Ul.call(this,[new zl([new pa("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var C=me(p,0);this.sel=Zo(C),this.history=new O2(null),this.id=++gC,this.modeOption=d,this.lineSep=h,this.direction=g=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),Bc(this,{from:C,to:C,text:s}),hr(this,Zo(C),Lt)};Nr.prototype=ne(Ul.prototype,{constructor:Nr,iter:function(s,d,p){p?this.iterN(s-this.first,d-s,p):this.iterN(this.first,this.first+this.size,s)},insert:function(s,d){for(var p=0,h=0;h<d.length;++h)p+=d[h].height;this.insertInner(s-this.first,d,p)},remove:function(s,d){this.removeInner(s-this.first,d)},getValue:function(s){var d=Mn(this,this.first,this.first+this.size);return s===!1?d:d.join(s||this.lineSeparator())},setValue:Qn(function(s){var d=me(this.first,0),p=this.first+this.size-1;ka(this,{from:d,to:me(p,We(this,p).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&Rl(this.cm,0,0),hr(this,Zo(d),Lt)}),replaceRange:function(s,d,p,h){d=Tt(this,d),p=p?Tt(this,p):d,Sa(this,s,d,p,h)},getRange:function(s,d,p){var h=Ft(this,Tt(this,s),Tt(this,d));return p===!1?h:p===""?h.join(""):h.join(p||this.lineSeparator())},getLine:function(s){var d=this.getLineHandle(s);return d&&d.text},getLineHandle:function(s){if(fe(this,s))return We(this,s)},getLineNumber:function(s){return M(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=We(this,s)),Di(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return Tt(this,s)},getCursor:function(s){var d=this.sel.primary(),p;return s==null||s=="head"?p=d.head:s=="anchor"?p=d.anchor:s=="end"||s=="to"||s===!1?p=d.to():p=d.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Qn(function(s,d,p){D6(this,Tt(this,typeof s=="number"?me(s,d||0):s),null,p)}),setSelection:Qn(function(s,d,p){D6(this,Tt(this,s),Tt(this,d||s),p)}),extendSelection:Qn(function(s,d,p){L2(this,Tt(this,s),d&&Tt(this,d),p)}),extendSelections:Qn(function(s,d){N6(this,ha(this,s),d)}),extendSelectionsBy:Qn(function(s,d){var p=H(this.sel.ranges,s);N6(this,ha(this,p),d)}),setSelections:Qn(function(s,d,p){if(s.length){for(var h=[],g=0;g<s.length;g++)h[g]=new dn(Tt(this,s[g].anchor),Tt(this,s[g].head||s[g].anchor));d==null&&(d=Math.min(s.length-1,this.sel.primIndex)),hr(this,Ri(this.cm,h,d),p)}}),addSelection:Qn(function(s,d,p){var h=this.sel.ranges.slice(0);h.push(new dn(Tt(this,s),Tt(this,d||s))),hr(this,Ri(this.cm,h,h.length-1),p)}),getSelection:function(s){for(var d=this.sel.ranges,p,h=0;h<d.length;h++){var g=Ft(this,d[h].from(),d[h].to());p=p?p.concat(g):g}return s===!1?p:p.join(s||this.lineSeparator())},getSelections:function(s){for(var d=[],p=this.sel.ranges,h=0;h<p.length;h++){var g=Ft(this,p[h].from(),p[h].to());s!==!1&&(g=g.join(s||this.lineSeparator())),d[h]=g}return d},replaceSelection:function(s,d,p){for(var h=[],g=0;g<this.sel.ranges.length;g++)h[g]=s;this.replaceSelections(h,d,p||"+input")},replaceSelections:Qn(function(s,d,p){for(var h=[],g=this.sel,C=0;C<g.ranges.length;C++){var S=g.ranges[C];h[C]={from:S.from(),to:S.to(),text:this.splitLines(s[C]),origin:p}}for(var O=d&&d!="end"&&rC(this,h,d),P=h.length-1;P>=0;P--)ka(this,h[P]);O?P6(this,O):this.cm&&ba(this.cm)}),undo:Qn(function(){D2(this,"undo")}),redo:Qn(function(){D2(this,"redo")}),undoSelection:Qn(function(){D2(this,"undo",!0)}),redoSelection:Qn(function(){D2(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,d=0,p=0,h=0;h<s.done.length;h++)s.done[h].ranges||++d;for(var g=0;g<s.undone.length;g++)s.undone[g].ranges||++p;return{undo:d,redo:p}},clearHistory:function(){var s=this;this.history=new O2(this.history),qo(this,function(d){return d.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:wa(this.history.done),undone:wa(this.history.undone)}},setHistory:function(s){var d=this.history=new O2(this.history);d.done=wa(s.done.slice(0),null,!0),d.undone=wa(s.undone.slice(0),null,!0)},setGutterMarker:Qn(function(s,d,p){return Wl(this,s,"gutter",function(h){var g=h.gutterMarkers||(h.gutterMarkers={});return g[d]=p,!p&&Ee(g)&&(h.gutterMarkers=null),!0})}),clearGutter:Qn(function(s){var d=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[s]&&Wl(d,p,"gutter",function(){return p.gutterMarkers[s]=null,Ee(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(s){var d;if(typeof s=="number"){if(!fe(this,s)||(d=s,s=We(this,s),!s))return null}else if(d=M(s),d==null)return null;return{line:d,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:Qn(function(s,d,p){return Wl(this,s,d=="gutter"?"gutter":"class",function(h){var g=d=="text"?"textClass":d=="background"?"bgClass":d=="gutter"?"gutterClass":"wrapClass";if(!h[g])h[g]=p;else{if(q(p).test(h[g]))return!1;h[g]+=" "+p}return!0})}),removeLineClass:Qn(function(s,d,p){return Wl(this,s,d=="gutter"?"gutter":"class",function(h){var g=d=="text"?"textClass":d=="background"?"bgClass":d=="gutter"?"gutterClass":"wrapClass",C=h[g];if(C)if(p==null)h[g]=null;else{var S=C.match(q(p));if(!S)return!1;var O=S.index+S[0].length;h[g]=C.slice(0,S.index)+(!S.index||O==C.length?"":" ")+C.slice(O)||null}else return!1;return!0})}),addLineWidget:Qn(function(s,d,p){return fC(this,s,d,p)}),removeLineWidget:function(s){s.clear()},markText:function(s,d,p){return Ea(this,Tt(this,s),Tt(this,d),p,p&&p.type||"range")},setBookmark:function(s,d){var p={replacedWith:d&&(d.nodeType==null?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};return s=Tt(this,s),Ea(this,s,s,p,"bookmark")},findMarksAt:function(s){s=Tt(this,s);var d=[],p=We(this,s.line).markedSpans;if(p)for(var h=0;h<p.length;++h){var g=p[h];(g.from==null||g.from<=s.ch)&&(g.to==null||g.to>=s.ch)&&d.push(g.marker.parent||g.marker)}return d},findMarks:function(s,d,p){s=Tt(this,s),d=Tt(this,d);var h=[],g=s.line;return this.iter(s.line,d.line+1,function(C){var S=C.markedSpans;if(S)for(var O=0;O<S.length;O++){var P=S[O];!(P.to!=null&&g==s.line&&s.ch>=P.to||P.from==null&&g!=s.line||P.from!=null&&g==d.line&&P.from>=d.ch)&&(!p||p(P.marker))&&h.push(P.marker.parent||P.marker)}++g}),h},getAllMarks:function(){var s=[];return this.iter(function(d){var p=d.markedSpans;if(p)for(var h=0;h<p.length;++h)p[h].from!=null&&s.push(p[h].marker)}),s},posFromIndex:function(s){var d,p=this.first,h=this.lineSeparator().length;return this.iter(function(g){var C=g.text.length+h;if(C>s)return d=s,!0;s-=C,++p}),Tt(this,me(p,d))},indexFromPos:function(s){s=Tt(this,s);var d=s.ch;if(s.line<this.first||s.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,s.line,function(h){d+=h.text.length+p}),d},copy:function(s){var d=new Nr(Mn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return d.scrollTop=this.scrollTop,d.scrollLeft=this.scrollLeft,d.sel=this.sel,d.extend=!1,s&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory())),d},linkedDoc:function(s){s||(s={});var d=this.first,p=this.first+this.size;s.from!=null&&s.from>d&&(d=s.from),s.to!=null&&s.to<p&&(p=s.to);var h=new Nr(Mn(this,d,p),s.mode||this.modeOption,d,this.lineSep,this.direction);return s.sharedHist&&(h.history=this.history),(this.linked||(this.linked=[])).push({doc:h,sharedHist:s.sharedHist}),h.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],pC(h,Z6(this)),h},unlinkDoc:function(s){if(s instanceof Tn&&(s=s.doc),this.linked)for(var d=0;d<this.linked.length;++d){var p=this.linked[d];if(p.doc==s){this.linked.splice(d,1),s.unlinkDoc(this),vC(Z6(this));break}}if(s.history==this.history){var h=[s.id];qo(s,function(g){return h.push(g.id)},!0),s.history=new O2(null),s.history.done=wa(this.history.done,h),s.history.undone=wa(this.history.undone,h)}},iterLinkedDocs:function(s){qo(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):Hn(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Qn(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(d){return d.order=null}),this.cm&&iC(this.cm))})}),Nr.prototype.eachLine=Nr.prototype.iter;var Y6=0;function mC(s){var d=this;if(q6(d),!(jt(d,s)||Oo(d.display,s))){ft(s),u&&(Y6=+new Date);var p=Ss(d,s,!0),h=s.dataTransfer.files;if(!(!p||d.isReadOnly()))if(h&&h.length&&window.FileReader&&window.File)for(var g=h.length,C=Array(g),S=0,O=function(){++S==g&&Jn(d,function(){p=Tt(d.doc,p);var ve={from:p,to:p,text:d.doc.splitLines(C.filter(function(Pe){return Pe!=null}).join(d.doc.lineSeparator())),origin:"paste"};ka(d.doc,ve),P6(d.doc,Zo(Tt(d.doc,p),Tt(d.doc,Yo(ve))))})()},P=function(ve,Pe){if(d.options.allowDropFileTypes&&xe(d.options.allowDropFileTypes,ve.type)==-1){O();return}var je=new FileReader;je.onerror=function(){return O()},je.onload=function(){var Ze=je.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ze)){O();return}C[Pe]=Ze,O()},je.readAsText(ve)},I=0;I<h.length;I++)P(h[I],I);else{if(d.state.draggingText&&d.doc.sel.contains(p)>-1){d.state.draggingText(s),setTimeout(function(){return d.display.input.focus()},20);return}try{var ee=s.dataTransfer.getData("Text");if(ee){var ie;if(d.state.draggingText&&!d.state.draggingText.copy&&(ie=d.listSelections()),T2(d.doc,Zo(p,p)),ie)for(var ye=0;ye<ie.length;++ye)Sa(d.doc,"",ie[ye].anchor,ie[ye].head,"drag");d.replaceSelection(ee,"around","paste"),d.display.input.focus()}}catch{}}}}function yC(s,d){if(u&&(!s.state.draggingText||+new Date-Y6<100)){Gt(d);return}if(!(jt(s,d)||Oo(s.display,d))&&(d.dataTransfer.setData("Text",s.getSelection()),d.dataTransfer.effectAllowed="copyMove",d.dataTransfer.setDragImage&&!b)){var p=A("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",_&&(p.width=p.height=1,s.display.wrapper.appendChild(p),p._top=p.offsetTop),d.dataTransfer.setDragImage(p,0,0),_&&p.parentNode.removeChild(p)}}function _C(s,d){var p=Ss(s,d);if(p){var h=document.createDocumentFragment();Sc(s,p,h),s.display.dragCursor||(s.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),R(s.display.dragCursor,h)}}function q6(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function K6(s){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),p=[],h=0;h<d.length;h++){var g=d[h].CodeMirror;g&&p.push(g)}p.length&&p[0].operation(function(){for(var C=0;C<p.length;C++)s(p[C])})}}var J6=!1;function bC(){J6||(CC(),J6=!0)}function CC(){var s;at(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,K6(wC)},100))}),at(window,"blur",function(){return K6(_a)})}function wC(s){var d=s.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,s.setSize()}for(var Jo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Zl=0;Zl<10;Zl++)Jo[Zl+48]=Jo[Zl+96]=String(Zl);for(var P2=65;P2<=90;P2++)Jo[P2]=String.fromCharCode(P2);for(var Yl=1;Yl<=12;Yl++)Jo[Yl+111]=Jo[Yl+63235]="F"+Yl;var Lo={};Lo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Lo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Lo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Lo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Lo.default=V?Lo.macDefault:Lo.pcDefault;function xC(s){var d=s.split(/-(?!$)/);s=d[d.length-1];for(var p,h,g,C,S=0;S<d.length-1;S++){var O=d[S];if(/^(cmd|meta|m)$/i.test(O))C=!0;else if(/^a(lt)?$/i.test(O))p=!0;else if(/^(c|ctrl|control)$/i.test(O))h=!0;else if(/^s(hift)?$/i.test(O))g=!0;else throw new Error("Unrecognized modifier name: "+O)}return p&&(s="Alt-"+s),h&&(s="Ctrl-"+s),C&&(s="Cmd-"+s),g&&(s="Shift-"+s),s}function kC(s){var d={};for(var p in s)if(s.hasOwnProperty(p)){var h=s[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(h=="..."){delete s[p];continue}for(var g=H(p.split(" "),xC),C=0;C<g.length;C++){var S=void 0,O=void 0;C==g.length-1?(O=g.join(" "),S=h):(O=g.slice(0,C+1).join(" "),S="...");var P=d[O];if(!P)d[O]=S;else if(P!=S)throw new Error("Inconsistent bindings for "+O)}delete s[p]}for(var I in d)s[I]=d[I];return s}function Ma(s,d,p,h){d=R2(d);var g=d.call?d.call(s,h):d[s];if(g===!1)return"nothing";if(g==="...")return"multi";if(g!=null&&p(g))return"handled";if(d.fallthrough){if(Object.prototype.toString.call(d.fallthrough)!="[object Array]")return Ma(s,d.fallthrough,p,h);for(var C=0;C<d.fallthrough.length;C++){var S=Ma(s,d.fallthrough[C],p,h);if(S)return S}}}function Q6(s){var d=typeof s=="string"?s:Jo[s.keyCode];return d=="Ctrl"||d=="Alt"||d=="Shift"||d=="Mod"}function em(s,d,p){var h=s;return d.altKey&&h!="Alt"&&(s="Alt-"+s),(Q?d.metaKey:d.ctrlKey)&&h!="Ctrl"&&(s="Ctrl-"+s),(Q?d.ctrlKey:d.metaKey)&&h!="Mod"&&(s="Cmd-"+s),!p&&d.shiftKey&&h!="Shift"&&(s="Shift-"+s),s}function tm(s,d){if(_&&s.keyCode==34&&s.char)return!1;var p=Jo[s.keyCode];return p==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(p=s.code),em(p,s,d))}function R2(s){return typeof s=="string"?Lo[s]:s}function Oa(s,d){for(var p=s.doc.sel.ranges,h=[],g=0;g<p.length;g++){for(var C=d(p[g]);h.length&&Ce(C.from,E(h).to)<=0;){var S=h.pop();if(Ce(S.from,C.from)<0){C.from=S.from;break}}h.push(C)}qr(s,function(){for(var O=h.length-1;O>=0;O--)Sa(s.doc,"",h[O].from,h[O].to,"+delete");ba(s)})}function $c(s,d,p){var h=it(s.text,d+p,p);return h<0||h>s.text.length?null:h}function Wc(s,d,p){var h=$c(s,d.ch,p);return h==null?null:new me(d.line,h,p<0?"after":"before")}function zc(s,d,p,h,g){if(s){d.doc.direction=="rtl"&&(g=-g);var C=Je(p,d.doc.direction);if(C){var S=g<0?E(C):C[0],O=g<0==(S.level==1),P=O?"after":"before",I;if(S.level>0||d.doc.direction=="rtl"){var ee=ga(d,p);I=g<0?p.text.length-1:0;var ie=so(d,ee,I).top;I=lt(function(ye){return so(d,ee,ye).top==ie},g<0==(S.level==1)?S.from:S.to-1,I),P=="before"&&(I=$c(p,I,1))}else I=g<0?S.to:S.from;return new me(h,I,P)}}return new me(h,g<0?p.text.length:0,g<0?"before":"after")}function SC(s,d,p,h){var g=Je(d,s.doc.direction);if(!g)return Wc(d,p,h);p.ch>=d.text.length?(p.ch=d.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var C=nt(g,p.ch,p.sticky),S=g[C];if(s.doc.direction=="ltr"&&S.level%2==0&&(h>0?S.to>p.ch:S.from<p.ch))return Wc(d,p,h);var O=function(et,ot){return $c(d,et instanceof me?et.ch:et,ot)},P,I=function(et){return s.options.lineWrapping?(P=P||ga(s,d),s6(s,d,P,et)):{begin:0,end:d.text.length}},ee=I(p.sticky=="before"?O(p,-1):p.ch);if(s.doc.direction=="rtl"||S.level==1){var ie=S.level==1==h<0,ye=O(p,ie?1:-1);if(ye!=null&&(ie?ye<=S.to&&ye<=ee.end:ye>=S.from&&ye>=ee.begin)){var ve=ie?"before":"after";return new me(p.line,ye,ve)}}var Pe=function(et,ot,tt){for(var ut=function(Sn,er){return er?new me(p.line,O(Sn,1),"before"):new me(p.line,Sn,"after")};et>=0&&et<g.length;et+=ot){var bt=g[et],_t=ot>0==(bt.level!=1),Vt=_t?tt.begin:O(tt.end,-1);if(bt.from<=Vt&&Vt<bt.to||(Vt=_t?bt.from:O(bt.to,-1),tt.begin<=Vt&&Vt<tt.end))return ut(Vt,_t)}},je=Pe(C+h,h,ee);if(je)return je;var Ze=h>0?ee.end:O(ee.begin,-1);return Ze!=null&&!(h>0&&Ze==d.text.length)&&(je=Pe(h>0?0:g.length-1,h,I(Ze)),je)?je:null}var ql={selectAll:j6,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),Lt)},killLine:function(s){return Oa(s,function(d){if(d.empty()){var p=We(s.doc,d.head.line).text.length;return d.head.ch==p&&d.head.line<s.lastLine()?{from:d.head,to:me(d.head.line+1,0)}:{from:d.head,to:me(d.head.line,p)}}else return{from:d.from(),to:d.to()}})},deleteLine:function(s){return Oa(s,function(d){return{from:me(d.from().line,0),to:Tt(s.doc,me(d.to().line+1,0))}})},delLineLeft:function(s){return Oa(s,function(d){return{from:me(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(s){return Oa(s,function(d){var p=s.charCoords(d.head,"div").top+5,h=s.coordsChar({left:0,top:p},"div");return{from:h,to:d.from()}})},delWrappedLineRight:function(s){return Oa(s,function(d){var p=s.charCoords(d.head,"div").top+5,h=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:p},"div");return{from:d.from(),to:h}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(me(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(me(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(d){return nm(s,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(d){return rm(s,d.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(d){return EC(s,d.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(d){var p=s.cursorCoords(d.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:p},"div")},Mt)},goLineLeft:function(s){return s.extendSelectionsBy(function(d){var p=s.cursorCoords(d.head,"div").top+5;return s.coordsChar({left:0,top:p},"div")},Mt)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(d){var p=s.cursorCoords(d.head,"div").top+5,h=s.coordsChar({left:0,top:p},"div");return h.ch<s.getLine(h.line).search(/\S/)?rm(s,d.head):h},Mt)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var d=[],p=s.listSelections(),h=s.options.tabSize,g=0;g<p.length;g++){var C=p[g].from(),S=be(s.getLine(C.line),C.ch,h);d.push(z(h-S%h))}s.replaceSelections(d)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return qr(s,function(){for(var d=s.listSelections(),p=[],h=0;h<d.length;h++)if(d[h].empty()){var g=d[h].head,C=We(s.doc,g.line).text;if(C){if(g.ch==C.length&&(g=new me(g.line,g.ch-1)),g.ch>0)g=new me(g.line,g.ch+1),s.replaceRange(C.charAt(g.ch-1)+C.charAt(g.ch-2),me(g.line,g.ch-2),g,"+transpose");else if(g.line>s.doc.first){var S=We(s.doc,g.line-1).text;S&&(g=new me(g.line,1),s.replaceRange(C.charAt(0)+s.doc.lineSeparator()+S.charAt(S.length-1),me(g.line-1,S.length-1),g,"+transpose"))}}p.push(new dn(g,g))}s.setSelections(p)})},newlineAndIndent:function(s){return qr(s,function(){for(var d=s.listSelections(),p=d.length-1;p>=0;p--)s.replaceRange(s.doc.lineSeparator(),d[p].anchor,d[p].head,"+input");d=s.listSelections();for(var h=0;h<d.length;h++)s.indentLine(d[h].from().line,null,!0);ba(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function nm(s,d){var p=We(s.doc,d),h=Di(p);return h!=p&&(d=M(h)),zc(!0,s,h,d,1)}function EC(s,d){var p=We(s.doc,d),h=ub(p);return h!=p&&(d=M(h)),zc(!0,s,p,d,-1)}function rm(s,d){var p=nm(s,d.line),h=We(s.doc,p.line),g=Je(h,s.doc.direction);if(!g||g[0].level==0){var C=Math.max(p.ch,h.text.search(/\S/)),S=d.line==p.line&&d.ch<=C&&d.ch;return me(p.line,S?0:C,p.sticky)}return p}function H2(s,d,p){if(typeof d=="string"&&(d=ql[d],!d))return!1;s.display.input.ensurePolled();var h=s.display.shift,g=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),p&&(s.display.shift=!1),g=d(s)!=st}finally{s.display.shift=h,s.state.suppressEdits=!1}return g}function MC(s,d,p){for(var h=0;h<s.state.keyMaps.length;h++){var g=Ma(d,s.state.keyMaps[h],p,s);if(g)return g}return s.options.extraKeys&&Ma(d,s.options.extraKeys,p,s)||Ma(d,s.options.keyMap,p,s)}var OC=new Be;function Kl(s,d,p,h){var g=s.state.keySeq;if(g){if(Q6(d))return"handled";if(/\'$/.test(d)?s.state.keySeq=null:OC.set(50,function(){s.state.keySeq==g&&(s.state.keySeq=null,s.display.input.reset())}),im(s,g+" "+d,p,h))return!0}return im(s,d,p,h)}function im(s,d,p,h){var g=MC(s,d,h);return g=="multi"&&(s.state.keySeq=d),g=="handled"&&Kn(s,"keyHandled",s,d,p),(g=="handled"||g=="multi")&&(ft(p),Ec(s)),!!g}function om(s,d){var p=tm(d,!0);return p?d.shiftKey&&!s.state.keySeq?Kl(s,"Shift-"+p,d,function(h){return H2(s,h,!0)})||Kl(s,p,d,function(h){if(typeof h=="string"?/^go[A-Z]/.test(h):h.motion)return H2(s,h)}):Kl(s,p,d,function(h){return H2(s,h)}):!1}function AC(s,d,p){return Kl(s,"'"+p+"'",d,function(h){return H2(s,h,!0)})}var Uc=null;function sm(s){var d=this;if(!(s.target&&s.target!=d.display.input.getField())&&(d.curOp.focus=le(Ie(d)),!jt(d,s))){u&&c<11&&s.keyCode==27&&(s.returnValue=!1);var p=s.keyCode;d.display.shift=p==16||s.shiftKey;var h=om(d,s);_&&(Uc=h?p:null,!h&&p==88&&!Ni&&(V?s.metaKey:s.ctrlKey)&&d.replaceSelection("",null,"cut")),i&&!V&&!h&&p==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(d.display.lineDiv.className)&&LC(d)}}function LC(s){var d=s.display.lineDiv;Ae(d,"CodeMirror-crosshair");function p(h){(h.keyCode==18||!h.altKey)&&(ue(d,"CodeMirror-crosshair"),Yt(document,"keyup",p),Yt(document,"mouseover",p))}at(document,"keyup",p),at(document,"mouseover",p)}function am(s){s.keyCode==16&&(this.doc.sel.shift=!1),jt(this,s)}function lm(s){var d=this;if(!(s.target&&s.target!=d.display.input.getField())&&!(Oo(d.display,s)||jt(d,s)||s.ctrlKey&&!s.altKey||V&&s.metaKey)){var p=s.keyCode,h=s.charCode;if(_&&p==Uc){Uc=null,ft(s);return}if(!(_&&(!s.which||s.which<10)&&om(d,s))){var g=String.fromCharCode(h??p);g!="\b"&&(AC(d,s,g)||d.display.input.onKeyPress(s))}}}var TC=400,Gc=function(s,d,p){this.time=s,this.pos=d,this.button=p};Gc.prototype.compare=function(s,d,p){return this.time+TC>s&&Ce(d,this.pos)==0&&p==this.button};var Jl,Ql;function NC(s,d){var p=+new Date;return Ql&&Ql.compare(p,s,d)?(Jl=Ql=null,"triple"):Jl&&Jl.compare(p,s,d)?(Ql=new Gc(p,s,d),Jl=null,"double"):(Jl=new Gc(p,s,d),Ql=null,"single")}function um(s){var d=this,p=d.display;if(!(jt(d,s)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=s.shiftKey,Oo(p,s)){f||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!Xc(d,s)){var h=Ss(d,s),g=An(s),C=h?NC(h,g):"single";$(d).focus(),g==1&&d.state.selectingText&&d.state.selectingText(s),!(h&&DC(d,g,h,C,s))&&(g==1?h?RC(d,h,C,s):fr(s)==p.scroller&&ft(s):g==2?(h&&L2(d.doc,h),setTimeout(function(){return p.input.focus()},20)):g==3&&(ae?d.display.input.onContextMenu(s):Mc(d)))}}}function DC(s,d,p,h,g){var C="Click";return h=="double"?C="Double"+C:h=="triple"&&(C="Triple"+C),C=(d==1?"Left":d==2?"Middle":"Right")+C,Kl(s,em(C,g),g,function(S){if(typeof S=="string"&&(S=ql[S]),!S)return!1;var O=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),O=S(s,p)!=st}finally{s.state.suppressEdits=!1}return O})}function PC(s,d,p){var h=s.getOption("configureMouse"),g=h?h(s,d,p):{};if(g.unit==null){var C=U?p.shiftKey&&p.metaKey:p.altKey;g.unit=C?"rectangle":d=="single"?"char":d=="double"?"word":"line"}return(g.extend==null||s.doc.extend)&&(g.extend=s.doc.extend||p.shiftKey),g.addNew==null&&(g.addNew=V?p.metaKey:p.ctrlKey),g.moveOnDrag==null&&(g.moveOnDrag=!(V?p.altKey:p.ctrlKey)),g}function RC(s,d,p,h){u?setTimeout(he(d6,s),0):s.curOp.focus=le(Ie(s));var g=PC(s,p,h),C=s.doc.sel,S;s.options.dragDrop&&Yn&&!s.isReadOnly()&&p=="single"&&(S=C.contains(d))>-1&&(Ce((S=C.ranges[S]).from(),d)<0||d.xRel>0)&&(Ce(S.to(),d)>0||d.xRel<0)?HC(s,h,d,g):IC(s,h,d,g)}function HC(s,d,p,h){var g=s.display,C=!1,S=Jn(s,function(I){f&&(g.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:Mc(s)),Yt(g.wrapper.ownerDocument,"mouseup",S),Yt(g.wrapper.ownerDocument,"mousemove",O),Yt(g.scroller,"dragstart",P),Yt(g.scroller,"drop",S),C||(ft(I),h.addNew||L2(s.doc,p,null,null,h.extend),f&&!b||u&&c==9?setTimeout(function(){g.wrapper.ownerDocument.body.focus({preventScroll:!0}),g.input.focus()},20):g.input.focus())}),O=function(I){C=C||Math.abs(d.clientX-I.clientX)+Math.abs(d.clientY-I.clientY)>=10},P=function(){return C=!0};f&&(g.scroller.draggable=!0),s.state.draggingText=S,S.copy=!h.moveOnDrag,at(g.wrapper.ownerDocument,"mouseup",S),at(g.wrapper.ownerDocument,"mousemove",O),at(g.scroller,"dragstart",P),at(g.scroller,"drop",S),s.state.delayingBlurEvent=!0,setTimeout(function(){return g.input.focus()},20),g.scroller.dragDrop&&g.scroller.dragDrop()}function dm(s,d,p){if(p=="char")return new dn(d,d);if(p=="word")return s.findWordAt(d);if(p=="line")return new dn(me(d.line,0),Tt(s.doc,me(d.line+1,0)));var h=p(s,d);return new dn(h.from,h.to)}function IC(s,d,p,h){u&&Mc(s);var g=s.display,C=s.doc;ft(d);var S,O,P=C.sel,I=P.ranges;if(h.addNew&&!h.extend?(O=C.sel.contains(p),O>-1?S=I[O]:S=new dn(p,p)):(S=C.sel.primary(),O=C.sel.primIndex),h.unit=="rectangle")h.addNew||(S=new dn(p,p)),p=Ss(s,d,!0,!0),O=-1;else{var ee=dm(s,p,h.unit);h.extend?S=Fc(S,ee.anchor,ee.head,h.extend):S=ee}h.addNew?O==-1?(O=I.length,hr(C,Ri(s,I.concat([S]),O),{scroll:!1,origin:"*mouse"})):I.length>1&&I[O].empty()&&h.unit=="char"&&!h.extend?(hr(C,Ri(s,I.slice(0,O).concat(I.slice(O+1)),0),{scroll:!1,origin:"*mouse"}),P=C.sel):Vc(C,O,S,wt):(O=0,hr(C,new si([S],0),wt),P=C.sel);var ie=p;function ye(tt){if(Ce(ie,tt)!=0)if(ie=tt,h.unit=="rectangle"){for(var ut=[],bt=s.options.tabSize,_t=be(We(C,p.line).text,p.ch,bt),Vt=be(We(C,tt.line).text,tt.ch,bt),Sn=Math.min(_t,Vt),er=Math.max(_t,Vt),Nn=Math.min(p.line,tt.line),Kr=Math.min(s.lastLine(),Math.max(p.line,tt.line));Nn<=Kr;Nn++){var Dr=We(C,Nn).text,Fn=on(Dr,Sn,bt);Sn==er?ut.push(new dn(me(Nn,Fn),me(Nn,Fn))):Dr.length>Fn&&ut.push(new dn(me(Nn,Fn),me(Nn,on(Dr,er,bt))))}ut.length||ut.push(new dn(p,p)),hr(C,Ri(s,P.ranges.slice(0,O).concat(ut),O),{origin:"*mouse",scroll:!1}),s.scrollIntoView(tt)}else{var Pr=S,ur=dm(s,tt,h.unit),zn=Pr.anchor,Vn;Ce(ur.anchor,zn)>0?(Vn=ur.head,zn=In(Pr.from(),ur.anchor)):(Vn=ur.anchor,zn=St(Pr.to(),ur.head));var Rn=P.ranges.slice(0);Rn[O]=BC(s,new dn(Tt(C,zn),Vn)),hr(C,Ri(s,Rn,O),wt)}}var ve=g.wrapper.getBoundingClientRect(),Pe=0;function je(tt){var ut=++Pe,bt=Ss(s,tt,!0,h.unit=="rectangle");if(bt)if(Ce(bt,ie)!=0){s.curOp.focus=le(Ie(s)),ye(bt);var _t=k2(g,C);(bt.line>=_t.to||bt.line<_t.from)&&setTimeout(Jn(s,function(){Pe==ut&&je(tt)}),150)}else{var Vt=tt.clientY<ve.top?-20:tt.clientY>ve.bottom?20:0;Vt&&setTimeout(Jn(s,function(){Pe==ut&&(g.scroller.scrollTop+=Vt,je(tt))}),50)}}function Ze(tt){s.state.selectingText=!1,Pe=1/0,tt&&(ft(tt),g.input.focus()),Yt(g.wrapper.ownerDocument,"mousemove",et),Yt(g.wrapper.ownerDocument,"mouseup",ot),C.history.lastSelOrigin=null}var et=Jn(s,function(tt){tt.buttons===0||!An(tt)?Ze(tt):je(tt)}),ot=Jn(s,Ze);s.state.selectingText=ot,at(g.wrapper.ownerDocument,"mousemove",et),at(g.wrapper.ownerDocument,"mouseup",ot)}function BC(s,d){var p=d.anchor,h=d.head,g=We(s.doc,p.line);if(Ce(p,h)==0&&p.sticky==h.sticky)return d;var C=Je(g);if(!C)return d;var S=nt(C,p.ch,p.sticky),O=C[S];if(O.from!=p.ch&&O.to!=p.ch)return d;var P=S+(O.from==p.ch==(O.level!=1)?0:1);if(P==0||P==C.length)return d;var I;if(h.line!=p.line)I=(h.line-p.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var ee=nt(C,h.ch,h.sticky),ie=ee-S||(h.ch-p.ch)*(O.level==1?-1:1);ee==P-1||ee==P?I=ie<0:I=ie>0}var ye=C[P+(I?-1:0)],ve=I==(ye.level==1),Pe=ve?ye.from:ye.to,je=ve?"after":"before";return p.ch==Pe&&p.sticky==je?d:new dn(new me(p.line,Pe,je),h)}function cm(s,d,p,h){var g,C;if(d.touches)g=d.touches[0].clientX,C=d.touches[0].clientY;else try{g=d.clientX,C=d.clientY}catch{return!1}if(g>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;h&&ft(d);var S=s.display,O=S.lineDiv.getBoundingClientRect();if(C>O.bottom||!ke(s,p))return zt(d);C-=O.top-S.viewOffset;for(var P=0;P<s.display.gutterSpecs.length;++P){var I=S.gutters.childNodes[P];if(I&&I.getBoundingClientRect().right>=g){var ee=F(s.doc,C),ie=s.display.gutterSpecs[P];return Bt(s,p,s,ee,ie.className,d),zt(d)}}}function Xc(s,d){return cm(s,d,"gutterClick",!0)}function fm(s,d){Oo(s.display,d)||jC(s,d)||jt(s,d,"contextmenu")||ae||s.display.input.onContextMenu(d)}function jC(s,d){return ke(s,"gutterContextMenu")?cm(s,d,"gutterContextMenu",!1):!1}function hm(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Dl(s)}var Aa={toString:function(){return"CodeMirror.Init"}},pm={},I2={};function FC(s){var d=s.optionHandlers;function p(h,g,C,S){s.defaults[h]=g,C&&(d[h]=S?function(O,P,I){I!=Aa&&C(O,P,I)}:C)}s.defineOption=p,s.Init=Aa,p("value","",function(h,g){return h.setValue(g)},!0),p("mode",null,function(h,g){h.doc.modeOption=g,Ic(h)},!0),p("indentUnit",2,Ic,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(h){Vl(h),Dl(h),Tr(h)},!0),p("lineSeparator",null,function(h,g){if(h.doc.lineSep=g,!!g){var C=[],S=h.doc.first;h.doc.iter(function(P){for(var I=0;;){var ee=P.text.indexOf(g,I);if(ee==-1)break;I=ee+g.length,C.push(me(S,ee))}S++});for(var O=C.length-1;O>=0;O--)Sa(h.doc,g,C[O],me(C[O].line,C[O].ch+g.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(h,g,C){h.state.specialChars=new RegExp(g.source+(g.test("	")?"":"|	"),"g"),C!=Aa&&h.refresh()}),p("specialCharPlaceholder",vb,function(h){return h.refresh()},!0),p("electricChars",!0),p("inputStyle",D?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(h,g){return h.getInputField().spellcheck=g},!0),p("autocorrect",!1,function(h,g){return h.getInputField().autocorrect=g},!0),p("autocapitalize",!1,function(h,g){return h.getInputField().autocapitalize=g},!0),p("rtlMoveVisually",!B),p("wholeLineUpdateBefore",!0),p("theme","default",function(h){hm(h),Fl(h)},!0),p("keyMap","default",function(h,g,C){var S=R2(g),O=C!=Aa&&R2(C);O&&O.detach&&O.detach(h,S),S.attach&&S.attach(h,O||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,$C,!0),p("gutters",[],function(h,g){h.display.gutterSpecs=Rc(g,h.options.lineNumbers),Fl(h)},!0),p("fixedGutter",!0,function(h,g){h.display.gutters.style.left=g?xc(h.display)+"px":"0",h.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(h){return Ca(h)},!0),p("scrollbarStyle","native",function(h){g6(h),Ca(h),h.display.scrollbars.setScrollTop(h.doc.scrollTop),h.display.scrollbars.setScrollLeft(h.doc.scrollLeft)},!0),p("lineNumbers",!1,function(h,g){h.display.gutterSpecs=Rc(h.options.gutters,g),Fl(h)},!0),p("firstLineNumber",1,Fl,!0),p("lineNumberFormatter",function(h){return h},Fl,!0),p("showCursorWhenSelecting",!1,Pl,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(h,g){g=="nocursor"&&(_a(h),h.display.input.blur()),h.display.input.readOnlyChanged(g)}),p("screenReaderLabel",null,function(h,g){g=g===""?null:g,h.display.input.screenReaderLabelChanged(g)}),p("disableInput",!1,function(h,g){g||h.display.input.reset()},!0),p("dragDrop",!0,VC),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,Pl,!0),p("singleCursorHeightPerLine",!0,Pl,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,Vl,!0),p("addModeClass",!1,Vl,!0),p("pollInterval",100),p("undoDepth",200,function(h,g){return h.doc.history.undoDepth=g}),p("historyEventDelay",1250),p("viewportMargin",10,function(h){return h.refresh()},!0),p("maxHighlightLength",1e4,Vl,!0),p("moveInputWithCursor",!0,function(h,g){g||h.display.input.resetPosition()}),p("tabindex",null,function(h,g){return h.display.input.getField().tabIndex=g||""}),p("autofocus",null),p("direction","ltr",function(h,g){return h.doc.setDirection(g)},!0),p("phrases",null)}function VC(s,d,p){var h=p&&p!=Aa;if(!d!=!h){var g=s.display.dragFunctions,C=d?at:Yt;C(s.display.scroller,"dragstart",g.start),C(s.display.scroller,"dragenter",g.enter),C(s.display.scroller,"dragover",g.over),C(s.display.scroller,"dragleave",g.leave),C(s.display.scroller,"drop",g.drop)}}function $C(s){s.options.lineWrapping?(Ae(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(ue(s.display.wrapper,"CodeMirror-wrap"),hc(s)),kc(s),Tr(s),Dl(s),setTimeout(function(){return Ca(s)},100)}function Tn(s,d){var p=this;if(!(this instanceof Tn))return new Tn(s,d);this.options=d=d?ge(d):{},ge(pm,d,!1);var h=d.value;typeof h=="string"?h=new Nr(h,d.mode,null,d.lineSeparator,d.direction):d.mode&&(h.modeOption=d.mode),this.doc=h;var g=new Tn.inputStyles[d.inputStyle](this),C=this.display=new tC(s,h,g,d);C.wrapper.CodeMirror=this,hm(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),g6(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Be,keySeq:null,specialChars:null},d.autofocus&&!D&&C.input.focus(),u&&c<11&&setTimeout(function(){return p.display.input.reset(!0)},20),WC(this),bC(),As(this),this.curOp.forceUpdate=!0,E6(this,h),d.autofocus&&!D||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Oc(p)},20):_a(this);for(var S in I2)I2.hasOwnProperty(S)&&I2[S](this,d[S],Aa);_6(this),d.finishInit&&d.finishInit(this);for(var O=0;O<Zc.length;++O)Zc[O](this);Ls(this),f&&d.lineWrapping&&getComputedStyle(C.lineDiv).textRendering=="optimizelegibility"&&(C.lineDiv.style.textRendering="auto")}Tn.defaults=pm,Tn.optionHandlers=I2;function WC(s){var d=s.display;at(d.scroller,"mousedown",Jn(s,um)),u&&c<11?at(d.scroller,"dblclick",Jn(s,function(P){if(!jt(s,P)){var I=Ss(s,P);if(!(!I||Xc(s,P)||Oo(s.display,P))){ft(P);var ee=s.findWordAt(I);L2(s.doc,ee.anchor,ee.head)}}})):at(d.scroller,"dblclick",function(P){return jt(s,P)||ft(P)}),at(d.scroller,"contextmenu",function(P){return fm(s,P)}),at(d.input.getField(),"contextmenu",function(P){d.scroller.contains(P.target)||fm(s,P)});var p,h={end:0};function g(){d.activeTouch&&(p=setTimeout(function(){return d.activeTouch=null},1e3),h=d.activeTouch,h.end=+new Date)}function C(P){if(P.touches.length!=1)return!1;var I=P.touches[0];return I.radiusX<=1&&I.radiusY<=1}function S(P,I){if(I.left==null)return!0;var ee=I.left-P.left,ie=I.top-P.top;return ee*ee+ie*ie>20*20}at(d.scroller,"touchstart",function(P){if(!jt(s,P)&&!C(P)&&!Xc(s,P)){d.input.ensurePolled(),clearTimeout(p);var I=+new Date;d.activeTouch={start:I,moved:!1,prev:I-h.end<=300?h:null},P.touches.length==1&&(d.activeTouch.left=P.touches[0].pageX,d.activeTouch.top=P.touches[0].pageY)}}),at(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),at(d.scroller,"touchend",function(P){var I=d.activeTouch;if(I&&!Oo(d,P)&&I.left!=null&&!I.moved&&new Date-I.start<300){var ee=s.coordsChar(d.activeTouch,"page"),ie;!I.prev||S(I,I.prev)?ie=new dn(ee,ee):!I.prev.prev||S(I,I.prev.prev)?ie=s.findWordAt(ee):ie=new dn(me(ee.line,0),Tt(s.doc,me(ee.line+1,0))),s.setSelection(ie.anchor,ie.head),s.focus(),ft(P)}g()}),at(d.scroller,"touchcancel",g),at(d.scroller,"scroll",function(){d.scroller.clientHeight&&(Hl(s,d.scroller.scrollTop),Ms(s,d.scroller.scrollLeft,!0),Bt(s,"scroll",s))}),at(d.scroller,"mousewheel",function(P){return w6(s,P)}),at(d.scroller,"DOMMouseScroll",function(P){return w6(s,P)}),at(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(P){jt(s,P)||Gt(P)},over:function(P){jt(s,P)||(_C(s,P),Gt(P))},start:function(P){return yC(s,P)},drop:Jn(s,mC),leave:function(P){jt(s,P)||q6(s)}};var O=d.input.getField();at(O,"keyup",function(P){return am.call(s,P)}),at(O,"keydown",Jn(s,sm)),at(O,"keypress",Jn(s,lm)),at(O,"focus",function(P){return Oc(s,P)}),at(O,"blur",function(P){return _a(s,P)})}var Zc=[];Tn.defineInitHook=function(s){return Zc.push(s)};function e0(s,d,p,h){var g=s.doc,C;p==null&&(p="add"),p=="smart"&&(g.mode.indent?C=zo(s,d).state:p="prev");var S=s.options.tabSize,O=We(g,d),P=be(O.text,null,S);O.stateAfter&&(O.stateAfter=null);var I=O.text.match(/^\s*/)[0],ee;if(!h&&!/\S/.test(O.text))ee=0,p="not";else if(p=="smart"&&(ee=g.mode.indent(C,O.text.slice(I.length),O.text),ee==st||ee>150)){if(!h)return;p="prev"}p=="prev"?d>g.first?ee=be(We(g,d-1).text,null,S):ee=0:p=="add"?ee=P+s.options.indentUnit:p=="subtract"?ee=P-s.options.indentUnit:typeof p=="number"&&(ee=P+p),ee=Math.max(0,ee);var ie="",ye=0;if(s.options.indentWithTabs)for(var ve=Math.floor(ee/S);ve;--ve)ye+=S,ie+="	";if(ye<ee&&(ie+=z(ee-ye)),ie!=I)return Sa(g,ie,me(d,0),me(d,I.length),"+input"),O.stateAfter=null,!0;for(var Pe=0;Pe<g.sel.ranges.length;Pe++){var je=g.sel.ranges[Pe];if(je.head.line==d&&je.head.ch<I.length){var Ze=me(d,I.length);Vc(g,Pe,new dn(Ze,Ze));break}}}var Hi=null;function B2(s){Hi=s}function Yc(s,d,p,h,g){var C=s.doc;s.display.shift=!1,h||(h=C.sel);var S=+new Date-200,O=g=="paste"||s.state.pasteIncoming>S,P=Hn(d),I=null;if(O&&h.ranges.length>1)if(Hi&&Hi.text.join(`
`)==d){if(h.ranges.length%Hi.text.length==0){I=[];for(var ee=0;ee<Hi.text.length;ee++)I.push(C.splitLines(Hi.text[ee]))}}else P.length==h.ranges.length&&s.options.pasteLinesPerSelection&&(I=H(P,function(et){return[et]}));for(var ie=s.curOp.updateInput,ye=h.ranges.length-1;ye>=0;ye--){var ve=h.ranges[ye],Pe=ve.from(),je=ve.to();ve.empty()&&(p&&p>0?Pe=me(Pe.line,Pe.ch-p):s.state.overwrite&&!O?je=me(je.line,Math.min(We(C,je.line).text.length,je.ch+E(P).length)):O&&Hi&&Hi.lineWise&&Hi.text.join(`
`)==P.join(`
`)&&(Pe=je=me(Pe.line,0)));var Ze={from:Pe,to:je,text:I?I[ye%I.length]:P,origin:g||(O?"paste":s.state.cutIncoming>S?"cut":"+input")};ka(s.doc,Ze),Kn(s,"inputRead",s,Ze)}d&&!O&&gm(s,d),ba(s),s.curOp.updateInput<2&&(s.curOp.updateInput=ie),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function vm(s,d){var p=s.clipboardData&&s.clipboardData.getData("Text");if(p)return s.preventDefault(),!d.isReadOnly()&&!d.options.disableInput&&d.hasFocus()&&qr(d,function(){return Yc(d,p,0,null,"paste")}),!0}function gm(s,d){if(!(!s.options.electricChars||!s.options.smartIndent))for(var p=s.doc.sel,h=p.ranges.length-1;h>=0;h--){var g=p.ranges[h];if(!(g.head.ch>100||h&&p.ranges[h-1].head.line==g.head.line)){var C=s.getModeAt(g.head),S=!1;if(C.electricChars){for(var O=0;O<C.electricChars.length;O++)if(d.indexOf(C.electricChars.charAt(O))>-1){S=e0(s,g.head.line,"smart");break}}else C.electricInput&&C.electricInput.test(We(s.doc,g.head.line).text.slice(0,g.head.ch))&&(S=e0(s,g.head.line,"smart"));S&&Kn(s,"electricInput",s,g.head.line)}}}function mm(s){for(var d=[],p=[],h=0;h<s.doc.sel.ranges.length;h++){var g=s.doc.sel.ranges[h].head.line,C={anchor:me(g,0),head:me(g+1,0)};p.push(C),d.push(s.getRange(C.anchor,C.head))}return{text:d,ranges:p}}function qc(s,d,p,h){s.setAttribute("autocorrect",p?"on":"off"),s.setAttribute("autocapitalize",h?"on":"off"),s.setAttribute("spellcheck",!!d)}function ym(){var s=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),d=A("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return f?s.style.width="1000px":s.setAttribute("wrap","off"),k&&(s.style.border="1px solid black"),d}function zC(s){var d=s.optionHandlers,p=s.helpers={};s.prototype={constructor:s,focus:function(){$(this).focus(),this.display.input.focus()},setOption:function(h,g){var C=this.options,S=C[h];C[h]==g&&h!="mode"||(C[h]=g,d.hasOwnProperty(h)&&Jn(this,d[h])(this,g,S),Bt(this,"optionChange",this,h))},getOption:function(h){return this.options[h]},getDoc:function(){return this.doc},addKeyMap:function(h,g){this.state.keyMaps[g?"push":"unshift"](R2(h))},removeKeyMap:function(h){for(var g=this.state.keyMaps,C=0;C<g.length;++C)if(g[C]==h||g[C].name==h)return g.splice(C,1),!0},addOverlay:xr(function(h,g){var C=h.token?h:s.getMode(this.options,h);if(C.startState)throw new Error("Overlays may not be stateful.");K(this.state.overlays,{mode:C,modeSpec:h,opaque:g&&g.opaque,priority:g&&g.priority||0},function(S){return S.priority}),this.state.modeGen++,Tr(this)}),removeOverlay:xr(function(h){for(var g=this.state.overlays,C=0;C<g.length;++C){var S=g[C].modeSpec;if(S==h||typeof h=="string"&&S.name==h){g.splice(C,1),this.state.modeGen++,Tr(this);return}}}),indentLine:xr(function(h,g,C){typeof g!="string"&&typeof g!="number"&&(g==null?g=this.options.smartIndent?"smart":"prev":g=g?"add":"subtract"),fe(this.doc,h)&&e0(this,h,g,C)}),indentSelection:xr(function(h){for(var g=this.doc.sel.ranges,C=-1,S=0;S<g.length;S++){var O=g[S];if(O.empty())O.head.line>C&&(e0(this,O.head.line,h,!0),C=O.head.line,S==this.doc.sel.primIndex&&ba(this));else{var P=O.from(),I=O.to(),ee=Math.max(C,P.line);C=Math.min(this.lastLine(),I.line-(I.ch?0:1))+1;for(var ie=ee;ie<C;++ie)e0(this,ie,h);var ye=this.doc.sel.ranges;P.ch==0&&g.length==ye.length&&ye[S].from().ch>0&&Vc(this.doc,S,new dn(P,ye[S].to()),Lt)}}}),getTokenAt:function(h,g){return Og(this,h,g)},getLineTokens:function(h,g){return Og(this,me(h),g,!0)},getTokenTypeAt:function(h){h=Tt(this.doc,h);var g=c2(this,We(this.doc,h.line)),C=0,S=(g.length-1)/2,O=h.ch,P;if(O==0)P=g[2];else for(;;){var I=C+S>>1;if((I?g[I*2-1]:0)>=O)S=I;else if(g[I*2+1]<O)C=I+1;else{P=g[I*2+2];break}}var ee=P?P.indexOf("overlay "):-1;return ee<0?P:ee==0?null:P.slice(0,ee-1)},getModeAt:function(h){var g=this.doc.mode;return g.innerMode?s.innerMode(g,this.getTokenAt(h).state).mode:g},getHelper:function(h,g){return this.getHelpers(h,g)[0]},getHelpers:function(h,g){var C=[];if(!p.hasOwnProperty(g))return C;var S=p[g],O=this.getModeAt(h);if(typeof O[g]=="string")S[O[g]]&&C.push(S[O[g]]);else if(O[g])for(var P=0;P<O[g].length;P++){var I=S[O[g][P]];I&&C.push(I)}else O.helperType&&S[O.helperType]?C.push(S[O.helperType]):S[O.name]&&C.push(S[O.name]);for(var ee=0;ee<S._global.length;ee++){var ie=S._global[ee];ie.pred(O,this)&&xe(C,ie.val)==-1&&C.push(ie.val)}return C},getStateAfter:function(h,g){var C=this.doc;return h=Ol(C,h??C.first+C.size-1),zo(this,h+1,g).state},cursorCoords:function(h,g){var C,S=this.doc.sel.primary();return h==null?C=S.head:typeof h=="object"?C=Tt(this.doc,h):C=h?S.from():S.to(),Pi(this,C,g||"page")},charCoords:function(h,g){return b2(this,Tt(this.doc,h),g||"page")},coordsChar:function(h,g){return h=r6(this,h,g||"page"),bc(this,h.left,h.top)},lineAtHeight:function(h,g){return h=r6(this,{top:h,left:0},g||"page").top,F(this.doc,h+this.display.viewOffset)},heightAtLine:function(h,g,C){var S=!1,O;if(typeof h=="number"){var P=this.doc.first+this.doc.size-1;h<this.doc.first?h=this.doc.first:h>P&&(h=P,S=!0),O=We(this.doc,h)}else O=h;return _2(this,O,{top:0,left:0},g||"page",C||S).top+(S?this.doc.height-Mo(O):0)},defaultTextHeight:function(){return ma(this.display)},defaultCharWidth:function(){return ya(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(h,g,C,S,O){var P=this.display;h=Pi(this,Tt(this.doc,h));var I=h.bottom,ee=h.left;if(g.style.position="absolute",g.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(g),P.sizer.appendChild(g),S=="over")I=h.top;else if(S=="above"||S=="near"){var ie=Math.max(P.wrapper.clientHeight,this.doc.height),ye=Math.max(P.sizer.clientWidth,P.lineSpace.clientWidth);(S=="above"||h.bottom+g.offsetHeight>ie)&&h.top>g.offsetHeight?I=h.top-g.offsetHeight:h.bottom+g.offsetHeight<=ie&&(I=h.bottom),ee+g.offsetWidth>ye&&(ee=ye-g.offsetWidth)}g.style.top=I+"px",g.style.left=g.style.right="",O=="right"?(ee=P.sizer.clientWidth-g.offsetWidth,g.style.right="0px"):(O=="left"?ee=0:O=="middle"&&(ee=(P.sizer.clientWidth-g.offsetWidth)/2),g.style.left=ee+"px"),C&&Vb(this,{left:ee,top:I,right:ee+g.offsetWidth,bottom:I+g.offsetHeight})},triggerOnKeyDown:xr(sm),triggerOnKeyPress:xr(lm),triggerOnKeyUp:am,triggerOnMouseDown:xr(um),execCommand:function(h){if(ql.hasOwnProperty(h))return ql[h].call(null,this)},triggerElectric:xr(function(h){gm(this,h)}),findPosH:function(h,g,C,S){var O=1;g<0&&(O=-1,g=-g);for(var P=Tt(this.doc,h),I=0;I<g&&(P=Kc(this.doc,P,O,C,S),!P.hitSide);++I);return P},moveH:xr(function(h,g){var C=this;this.extendSelectionsBy(function(S){return C.display.shift||C.doc.extend||S.empty()?Kc(C.doc,S.head,h,g,C.options.rtlMoveVisually):h<0?S.from():S.to()},Mt)}),deleteH:xr(function(h,g){var C=this.doc.sel,S=this.doc;C.somethingSelected()?S.replaceSelection("",null,"+delete"):Oa(this,function(O){var P=Kc(S,O.head,h,g,!1);return h<0?{from:P,to:O.head}:{from:O.head,to:P}})}),findPosV:function(h,g,C,S){var O=1,P=S;g<0&&(O=-1,g=-g);for(var I=Tt(this.doc,h),ee=0;ee<g;++ee){var ie=Pi(this,I,"div");if(P==null?P=ie.left:ie.left=P,I=_m(this,ie,O,C),I.hitSide)break}return I},moveV:xr(function(h,g){var C=this,S=this.doc,O=[],P=!this.display.shift&&!S.extend&&S.sel.somethingSelected();if(S.extendSelectionsBy(function(ee){if(P)return h<0?ee.from():ee.to();var ie=Pi(C,ee.head,"div");ee.goalColumn!=null&&(ie.left=ee.goalColumn),O.push(ie.left);var ye=_m(C,ie,h,g);return g=="page"&&ee==S.sel.primary()&&Lc(C,b2(C,ye,"div").top-ie.top),ye},Mt),O.length)for(var I=0;I<S.sel.ranges.length;I++)S.sel.ranges[I].goalColumn=O[I]}),findWordAt:function(h){var g=this.doc,C=We(g,h.line).text,S=h.ch,O=h.ch;if(C){var P=this.getHelper(h,"wordChars");(h.sticky=="before"||O==C.length)&&S?--S:++O;for(var I=C.charAt(S),ee=Se(I,P)?function(ie){return Se(ie,P)}:/\s/.test(I)?function(ie){return/\s/.test(ie)}:function(ie){return!/\s/.test(ie)&&!Se(ie)};S>0&&ee(C.charAt(S-1));)--S;for(;O<C.length&&ee(C.charAt(O));)++O}return new dn(me(h.line,S),me(h.line,O))},toggleOverwrite:function(h){h!=null&&h==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ae(this.display.cursorDiv,"CodeMirror-overwrite"):ue(this.display.cursorDiv,"CodeMirror-overwrite"),Bt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==le(Ie(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:xr(function(h,g){Rl(this,h,g)}),getScrollInfo:function(){var h=this.display.scroller;return{left:h.scrollLeft,top:h.scrollTop,height:h.scrollHeight-oo(this)-this.display.barHeight,width:h.scrollWidth-oo(this)-this.display.barWidth,clientHeight:gc(this),clientWidth:xs(this)}},scrollIntoView:xr(function(h,g){h==null?(h={from:this.doc.sel.primary().head,to:null},g==null&&(g=this.options.cursorScrollMargin)):typeof h=="number"?h={from:me(h,0),to:null}:h.from==null&&(h={from:h,to:null}),h.to||(h.to=h.from),h.margin=g||0,h.from.line!=null?$b(this,h):f6(this,h.from,h.to,h.margin)}),setSize:xr(function(h,g){var C=this,S=function(P){return typeof P=="number"||/^\d+$/.test(String(P))?P+"px":P};h!=null&&(this.display.wrapper.style.width=S(h)),g!=null&&(this.display.wrapper.style.height=S(g)),this.options.lineWrapping&&e6(this);var O=this.display.viewFrom;this.doc.iter(O,this.display.viewTo,function(P){if(P.widgets){for(var I=0;I<P.widgets.length;I++)if(P.widgets[I].noHScroll){Go(C,O,"widget");break}}++O}),this.curOp.forceUpdate=!0,Bt(this,"refresh",this)}),operation:function(h){return qr(this,h)},startOperation:function(){return As(this)},endOperation:function(){return Ls(this)},refresh:xr(function(){var h=this.display.cachedTextHeight;Tr(this),this.curOp.forceUpdate=!0,Dl(this),Rl(this,this.doc.scrollLeft,this.doc.scrollTop),Dc(this.display),(h==null||Math.abs(h-ma(this.display))>.5||this.options.lineWrapping)&&kc(this),Bt(this,"refresh",this)}),swapDoc:xr(function(h){var g=this.doc;return g.cm=null,this.state.selectingText&&this.state.selectingText(),E6(this,h),Dl(this),this.display.input.reset(),Rl(this,h.scrollLeft,h.scrollTop),this.curOp.forceScroll=!0,Kn(this,"swapDoc",this,g),g}),phrase:function(h){var g=this.options.phrases;return g&&Object.prototype.hasOwnProperty.call(g,h)?g[h]:h},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ye(s),s.registerHelper=function(h,g,C){p.hasOwnProperty(h)||(p[h]=s[h]={_global:[]}),p[h][g]=C},s.registerGlobalHelper=function(h,g,C,S){s.registerHelper(h,g,S),p[h]._global.push({pred:C,val:S})}}function Kc(s,d,p,h,g){var C=d,S=p,O=We(s,d.line),P=g&&s.direction=="rtl"?-p:p;function I(){var ot=d.line+P;return ot<s.first||ot>=s.first+s.size?!1:(d=new me(ot,d.ch,d.sticky),O=We(s,ot))}function ee(ot){var tt;if(h=="codepoint"){var ut=O.text.charCodeAt(d.ch+(p>0?0:-1));if(isNaN(ut))tt=null;else{var bt=p>0?ut>=55296&&ut<56320:ut>=56320&&ut<57343;tt=new me(d.line,Math.max(0,Math.min(O.text.length,d.ch+p*(bt?2:1))),-p)}}else g?tt=SC(s.cm,O,d,p):tt=Wc(O,d,p);if(tt==null)if(!ot&&I())d=zc(g,s.cm,O,d.line,P);else return!1;else d=tt;return!0}if(h=="char"||h=="codepoint")ee();else if(h=="column")ee(!0);else if(h=="word"||h=="group")for(var ie=null,ye=h=="group",ve=s.cm&&s.cm.getHelper(d,"wordChars"),Pe=!0;!(p<0&&!ee(!Pe));Pe=!1){var je=O.text.charAt(d.ch)||`
`,Ze=Se(je,ve)?"w":ye&&je==`
`?"n":!ye||/\s/.test(je)?null:"p";if(ye&&!Pe&&!Ze&&(Ze="s"),ie&&ie!=Ze){p<0&&(p=1,ee(),d.sticky="after");break}if(Ze&&(ie=Ze),p>0&&!ee(!Pe))break}var et=N2(s,d,C,S,!0);return qe(C,et)&&(et.hitSide=!0),et}function _m(s,d,p,h){var g=s.doc,C=d.left,S;if(h=="page"){var O=Math.min(s.display.wrapper.clientHeight,$(s).innerHeight||g(s).documentElement.clientHeight),P=Math.max(O-.5*ma(s.display),3);S=(p>0?d.bottom:d.top)+p*P}else h=="line"&&(S=p>0?d.bottom+3:d.top-3);for(var I;I=bc(s,C,S),!!I.outside;){if(p<0?S<=0:S>=g.height){I.hitSide=!0;break}S+=p*5}return I}var gn=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Be,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};gn.prototype.init=function(s){var d=this,p=this,h=p.cm,g=p.div=s.lineDiv;g.contentEditable=!0,qc(g,h.options.spellcheck,h.options.autocorrect,h.options.autocapitalize);function C(O){for(var P=O.target;P;P=P.parentNode){if(P==g)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(P.className))break}return!1}at(g,"paste",function(O){!C(O)||jt(h,O)||vm(O,h)||c<=11&&setTimeout(Jn(h,function(){return d.updateFromDOM()}),20)}),at(g,"compositionstart",function(O){d.composing={data:O.data,done:!1}}),at(g,"compositionupdate",function(O){d.composing||(d.composing={data:O.data,done:!1})}),at(g,"compositionend",function(O){d.composing&&(O.data!=d.composing.data&&d.readFromDOMSoon(),d.composing.done=!0)}),at(g,"touchstart",function(){return p.forceCompositionEnd()}),at(g,"input",function(){d.composing||d.readFromDOMSoon()});function S(O){if(!(!C(O)||jt(h,O))){if(h.somethingSelected())B2({lineWise:!1,text:h.getSelections()}),O.type=="cut"&&h.replaceSelection("",null,"cut");else if(h.options.lineWiseCopyCut){var P=mm(h);B2({lineWise:!0,text:P.text}),O.type=="cut"&&h.operation(function(){h.setSelections(P.ranges,0,Lt),h.replaceSelection("",null,"cut")})}else return;if(O.clipboardData){O.clipboardData.clearData();var I=Hi.text.join(`
`);if(O.clipboardData.setData("Text",I),O.clipboardData.getData("Text")==I){O.preventDefault();return}}var ee=ym(),ie=ee.firstChild;qc(ie),h.display.lineSpace.insertBefore(ee,h.display.lineSpace.firstChild),ie.value=Hi.text.join(`
`);var ye=le(Oe(g));Ne(ie),setTimeout(function(){h.display.lineSpace.removeChild(ee),ye.focus(),ye==g&&p.showPrimarySelection()},50)}}at(g,"copy",S),at(g,"cut",S)},gn.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},gn.prototype.prepareSelection=function(){var s=u6(this.cm,!1);return s.focus=le(Oe(this.div))==this.div,s},gn.prototype.showSelection=function(s,d){!s||!this.cm.display.view.length||((s.focus||d)&&this.showPrimarySelection(),this.showMultipleSelections(s))},gn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},gn.prototype.showPrimarySelection=function(){var s=this.getSelection(),d=this.cm,p=d.doc.sel.primary(),h=p.from(),g=p.to();if(d.display.viewTo==d.display.viewFrom||h.line>=d.display.viewTo||g.line<d.display.viewFrom){s.removeAllRanges();return}var C=j2(d,s.anchorNode,s.anchorOffset),S=j2(d,s.focusNode,s.focusOffset);if(!(C&&!C.bad&&S&&!S.bad&&Ce(In(C,S),h)==0&&Ce(St(C,S),g)==0)){var O=d.display.view,P=h.line>=d.display.viewFrom&&bm(d,h)||{node:O[0].measure.map[2],offset:0},I=g.line<d.display.viewTo&&bm(d,g);if(!I){var ee=O[O.length-1].measure,ie=ee.maps?ee.maps[ee.maps.length-1]:ee.map;I={node:ie[ie.length-1],offset:ie[ie.length-2]-ie[ie.length-3]}}if(!P||!I){s.removeAllRanges();return}var ye=s.rangeCount&&s.getRangeAt(0),ve;try{ve=re(P.node,P.offset,I.offset,I.node)}catch{}ve&&(!i&&d.state.focused?(s.collapse(P.node,P.offset),ve.collapsed||(s.removeAllRanges(),s.addRange(ve))):(s.removeAllRanges(),s.addRange(ve)),ye&&s.anchorNode==null?s.addRange(ye):i&&this.startGracePeriod()),this.rememberSelection()}},gn.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},gn.prototype.showMultipleSelections=function(s){R(this.cm.display.cursorDiv,s.cursors),R(this.cm.display.selectionDiv,s.selection)},gn.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},gn.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var d=s.getRangeAt(0).commonAncestorContainer;return de(this.div,d)},gn.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||le(Oe(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},gn.prototype.blur=function(){this.div.blur()},gn.prototype.getField=function(){return this.div},gn.prototype.supportsTouch=function(){return!0},gn.prototype.receivedFocus=function(){var s=this,d=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):qr(this.cm,function(){return d.cm.curOp.selectionChanged=!0});function p(){d.cm.state.focused&&(d.pollSelection(),d.polling.set(d.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},gn.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},gn.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),d=this.cm;if(N&&m&&this.cm.display.gutterSpecs.length&&UC(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=j2(d,s.anchorNode,s.anchorOffset),h=j2(d,s.focusNode,s.focusOffset);p&&h&&qr(d,function(){hr(d.doc,Zo(p,h),Lt),(p.bad||h.bad)&&(d.curOp.selectionChanged=!0)})}}},gn.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,d=s.display,p=s.doc.sel.primary(),h=p.from(),g=p.to();if(h.ch==0&&h.line>s.firstLine()&&(h=me(h.line-1,We(s.doc,h.line-1).length)),g.ch==We(s.doc,g.line).text.length&&g.line<s.lastLine()&&(g=me(g.line+1,0)),h.line<d.viewFrom||g.line>d.viewTo-1)return!1;var C,S,O;h.line==d.viewFrom||(C=Es(s,h.line))==0?(S=M(d.view[0].line),O=d.view[0].node):(S=M(d.view[C].line),O=d.view[C-1].node.nextSibling);var P=Es(s,g.line),I,ee;if(P==d.view.length-1?(I=d.viewTo-1,ee=d.lineDiv.lastChild):(I=M(d.view[P+1].line)-1,ee=d.view[P+1].node.previousSibling),!O)return!1;for(var ie=s.doc.splitLines(GC(s,O,ee,S,I)),ye=Ft(s.doc,me(S,0),me(I,We(s.doc,I).text.length));ie.length>1&&ye.length>1;)if(E(ie)==E(ye))ie.pop(),ye.pop(),I--;else if(ie[0]==ye[0])ie.shift(),ye.shift(),S++;else break;for(var ve=0,Pe=0,je=ie[0],Ze=ye[0],et=Math.min(je.length,Ze.length);ve<et&&je.charCodeAt(ve)==Ze.charCodeAt(ve);)++ve;for(var ot=E(ie),tt=E(ye),ut=Math.min(ot.length-(ie.length==1?ve:0),tt.length-(ye.length==1?ve:0));Pe<ut&&ot.charCodeAt(ot.length-Pe-1)==tt.charCodeAt(tt.length-Pe-1);)++Pe;if(ie.length==1&&ye.length==1&&S==h.line)for(;ve&&ve>h.ch&&ot.charCodeAt(ot.length-Pe-1)==tt.charCodeAt(tt.length-Pe-1);)ve--,Pe++;ie[ie.length-1]=ot.slice(0,ot.length-Pe).replace(/^\u200b+/,""),ie[0]=ie[0].slice(ve).replace(/\u200b+$/,"");var bt=me(S,ve),_t=me(I,ye.length?E(ye).length-Pe:0);if(ie.length>1||ie[0]||Ce(bt,_t))return Sa(s.doc,ie,bt,_t,"+input"),!0},gn.prototype.ensurePolled=function(){this.forceCompositionEnd()},gn.prototype.reset=function(){this.forceCompositionEnd()},gn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},gn.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},gn.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&qr(this.cm,function(){return Tr(s.cm)})},gn.prototype.setUneditable=function(s){s.contentEditable="false"},gn.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||Jn(this.cm,Yc)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},gn.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},gn.prototype.onContextMenu=function(){},gn.prototype.resetPosition=function(){},gn.prototype.needsContentAttribute=!0;function bm(s,d){var p=mc(s,d.line);if(!p||p.hidden)return null;var h=We(s.doc,d.line),g=Yg(p,h,d.line),C=Je(h,s.doc.direction),S="left";if(C){var O=nt(C,d.ch);S=O%2?"right":"left"}var P=Jg(g.map,d.ch,S);return P.offset=P.collapse=="right"?P.end:P.start,P}function UC(s){for(var d=s;d;d=d.parentNode)if(/CodeMirror-gutter-wrapper/.test(d.className))return!0;return!1}function La(s,d){return d&&(s.bad=!0),s}function GC(s,d,p,h,g){var C="",S=!1,O=s.doc.lineSeparator(),P=!1;function I(ve){return function(Pe){return Pe.id==ve}}function ee(){S&&(C+=O,P&&(C+=O),S=P=!1)}function ie(ve){ve&&(ee(),C+=ve)}function ye(ve){if(ve.nodeType==1){var Pe=ve.getAttribute("cm-text");if(Pe){ie(Pe);return}var je=ve.getAttribute("cm-marker"),Ze;if(je){var et=s.findMarks(me(h,0),me(g+1,0),I(+je));et.length&&(Ze=et[0].find(0))&&ie(Ft(s.doc,Ze.from,Ze.to).join(O));return}if(ve.getAttribute("contenteditable")=="false")return;var ot=/^(pre|div|p|li|table|br)$/i.test(ve.nodeName);if(!/^br$/i.test(ve.nodeName)&&ve.textContent.length==0)return;ot&&ee();for(var tt=0;tt<ve.childNodes.length;tt++)ye(ve.childNodes[tt]);/^(pre|p)$/i.test(ve.nodeName)&&(P=!0),ot&&(S=!0)}else ve.nodeType==3&&ie(ve.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;ye(d),d!=p;)d=d.nextSibling,P=!1;return C}function j2(s,d,p){var h;if(d==s.display.lineDiv){if(h=s.display.lineDiv.childNodes[p],!h)return La(s.clipPos(me(s.display.viewTo-1)),!0);d=null,p=0}else for(h=d;;h=h.parentNode){if(!h||h==s.display.lineDiv)return null;if(h.parentNode&&h.parentNode==s.display.lineDiv)break}for(var g=0;g<s.display.view.length;g++){var C=s.display.view[g];if(C.node==h)return XC(C,d,p)}}function XC(s,d,p){var h=s.text.firstChild,g=!1;if(!d||!de(h,d))return La(me(M(s.line),0),!0);if(d==h&&(g=!0,d=h.childNodes[p],p=0,!d)){var C=s.rest?E(s.rest):s.line;return La(me(M(C),C.text.length),g)}var S=d.nodeType==3?d:null,O=d;for(!S&&d.childNodes.length==1&&d.firstChild.nodeType==3&&(S=d.firstChild,p&&(p=S.nodeValue.length));O.parentNode!=h;)O=O.parentNode;var P=s.measure,I=P.maps;function ee(Ze,et,ot){for(var tt=-1;tt<(I?I.length:0);tt++)for(var ut=tt<0?P.map:I[tt],bt=0;bt<ut.length;bt+=3){var _t=ut[bt+2];if(_t==Ze||_t==et){var Vt=M(tt<0?s.line:s.rest[tt]),Sn=ut[bt]+ot;return(ot<0||_t!=Ze)&&(Sn=ut[bt+(ot?1:0)]),me(Vt,Sn)}}}var ie=ee(S,O,p);if(ie)return La(ie,g);for(var ye=O.nextSibling,ve=S?S.nodeValue.length-p:0;ye;ye=ye.nextSibling){if(ie=ee(ye,ye.firstChild,0),ie)return La(me(ie.line,ie.ch-ve),g);ve+=ye.textContent.length}for(var Pe=O.previousSibling,je=p;Pe;Pe=Pe.previousSibling){if(ie=ee(Pe,Pe.firstChild,-1),ie)return La(me(ie.line,ie.ch+je),g);je+=Pe.textContent.length}}var Bn=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new Be,this.hasSelection=!1,this.composing=null,this.resetting=!1};Bn.prototype.init=function(s){var d=this,p=this,h=this.cm;this.createField(s);var g=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),k&&(g.style.width="0px"),at(g,"input",function(){u&&c>=9&&d.hasSelection&&(d.hasSelection=null),p.poll()}),at(g,"paste",function(S){jt(h,S)||vm(S,h)||(h.state.pasteIncoming=+new Date,p.fastPoll())});function C(S){if(!jt(h,S)){if(h.somethingSelected())B2({lineWise:!1,text:h.getSelections()});else if(h.options.lineWiseCopyCut){var O=mm(h);B2({lineWise:!0,text:O.text}),S.type=="cut"?h.setSelections(O.ranges,null,Lt):(p.prevInput="",g.value=O.text.join(`
`),Ne(g))}else return;S.type=="cut"&&(h.state.cutIncoming=+new Date)}}at(g,"cut",C),at(g,"copy",C),at(s.scroller,"paste",function(S){if(!(Oo(s,S)||jt(h,S))){if(!g.dispatchEvent){h.state.pasteIncoming=+new Date,p.focus();return}var O=new Event("paste");O.clipboardData=S.clipboardData,g.dispatchEvent(O)}}),at(s.lineSpace,"selectstart",function(S){Oo(s,S)||ft(S)}),at(g,"compositionstart",function(){var S=h.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:S,range:h.markText(S,h.getCursor("to"),{className:"CodeMirror-composing"})}}),at(g,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},Bn.prototype.createField=function(s){this.wrapper=ym(),this.textarea=this.wrapper.firstChild;var d=this.cm.options;qc(this.textarea,d.spellcheck,d.autocorrect,d.autocapitalize)},Bn.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},Bn.prototype.prepareSelection=function(){var s=this.cm,d=s.display,p=s.doc,h=u6(s);if(s.options.moveInputWithCursor){var g=Pi(s,p.sel.primary().head,"div"),C=d.wrapper.getBoundingClientRect(),S=d.lineDiv.getBoundingClientRect();h.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,g.top+S.top-C.top)),h.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,g.left+S.left-C.left))}return h},Bn.prototype.showSelection=function(s){var d=this.cm,p=d.display;R(p.cursorDiv,s.cursors),R(p.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},Bn.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing&&s)){var d=this.cm;if(this.resetting=!0,d.somethingSelected()){this.prevInput="";var p=d.getSelection();this.textarea.value=p,d.state.focused&&Ne(this.textarea),u&&c>=9&&(this.hasSelection=p)}else s||(this.prevInput=this.textarea.value="",u&&c>=9&&(this.hasSelection=null));this.resetting=!1}},Bn.prototype.getField=function(){return this.textarea},Bn.prototype.supportsTouch=function(){return!1},Bn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!D||le(Oe(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},Bn.prototype.blur=function(){this.textarea.blur()},Bn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Bn.prototype.receivedFocus=function(){this.slowPoll()},Bn.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},Bn.prototype.fastPoll=function(){var s=!1,d=this;d.pollingFast=!0;function p(){var h=d.poll();!h&&!s?(s=!0,d.polling.set(60,p)):(d.pollingFast=!1,d.slowPoll())}d.polling.set(20,p)},Bn.prototype.poll=function(){var s=this,d=this.cm,p=this.textarea,h=this.prevInput;if(this.contextMenuPending||this.resetting||!d.state.focused||Gr(p)&&!h&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var g=p.value;if(g==h&&!d.somethingSelected())return!1;if(u&&c>=9&&this.hasSelection===g||V&&/[\uf700-\uf7ff]/.test(g))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var C=g.charCodeAt(0);if(C==8203&&!h&&(h="​"),C==8666)return this.reset(),this.cm.execCommand("undo")}for(var S=0,O=Math.min(h.length,g.length);S<O&&h.charCodeAt(S)==g.charCodeAt(S);)++S;return qr(d,function(){Yc(d,g.slice(S),h.length-S,null,s.composing?"*compose":null),g.length>1e3||g.indexOf(`
`)>-1?p.value=s.prevInput="":s.prevInput=g,s.composing&&(s.composing.range.clear(),s.composing.range=d.markText(s.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Bn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Bn.prototype.onKeyPress=function(){u&&c>=9&&(this.hasSelection=null),this.fastPoll()},Bn.prototype.onContextMenu=function(s){var d=this,p=d.cm,h=p.display,g=d.textarea;d.contextMenuPending&&d.contextMenuPending();var C=Ss(p,s),S=h.scroller.scrollTop;if(!C||_)return;var O=p.options.resetSelectionOnContextMenu;O&&p.doc.sel.contains(C)==-1&&Jn(p,hr)(p.doc,Zo(C),Lt);var P=g.style.cssText,I=d.wrapper.style.cssText,ee=d.wrapper.offsetParent.getBoundingClientRect();d.wrapper.style.cssText="position: static",g.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-ee.top-5)+"px; left: "+(s.clientX-ee.left-5)+`px;
      z-index: 1000; background: `+(u?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var ie;f&&(ie=g.ownerDocument.defaultView.scrollY),h.input.focus(),f&&g.ownerDocument.defaultView.scrollTo(null,ie),h.input.reset(),p.somethingSelected()||(g.value=d.prevInput=" "),d.contextMenuPending=ve,h.selForContextMenu=p.doc.sel,clearTimeout(h.detectingSelectAll);function ye(){if(g.selectionStart!=null){var je=p.somethingSelected(),Ze="​"+(je?g.value:"");g.value="⇚",g.value=Ze,d.prevInput=je?"":"​",g.selectionStart=1,g.selectionEnd=Ze.length,h.selForContextMenu=p.doc.sel}}function ve(){if(d.contextMenuPending==ve&&(d.contextMenuPending=!1,d.wrapper.style.cssText=I,g.style.cssText=P,u&&c<9&&h.scrollbars.setScrollTop(h.scroller.scrollTop=S),g.selectionStart!=null)){(!u||u&&c<9)&&ye();var je=0,Ze=function(){h.selForContextMenu==p.doc.sel&&g.selectionStart==0&&g.selectionEnd>0&&d.prevInput=="​"?Jn(p,j6)(p):je++<10?h.detectingSelectAll=setTimeout(Ze,500):(h.selForContextMenu=null,h.input.reset())};h.detectingSelectAll=setTimeout(Ze,200)}}if(u&&c>=9&&ye(),ae){Gt(s);var Pe=function(){Yt(window,"mouseup",Pe),setTimeout(ve,20)};at(window,"mouseup",Pe)}else setTimeout(ve,50)},Bn.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},Bn.prototype.setUneditable=function(){},Bn.prototype.needsContentAttribute=!1;function ZC(s,d){if(d=d?ge(d):{},d.value=s.value,!d.tabindex&&s.tabIndex&&(d.tabindex=s.tabIndex),!d.placeholder&&s.placeholder&&(d.placeholder=s.placeholder),d.autofocus==null){var p=le(Oe(s));d.autofocus=p==s||s.getAttribute("autofocus")!=null&&p==document.body}function h(){s.value=O.getValue()}var g;if(s.form&&(at(s.form,"submit",h),!d.leaveSubmitMethodAlone)){var C=s.form;g=C.submit;try{var S=C.submit=function(){h(),C.submit=g,C.submit(),C.submit=S}}catch{}}d.finishInit=function(P){P.save=h,P.getTextArea=function(){return s},P.toTextArea=function(){P.toTextArea=isNaN,h(),s.parentNode.removeChild(P.getWrapperElement()),s.style.display="",s.form&&(Yt(s.form,"submit",h),!d.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=g))}},s.style.display="none";var O=Tn(function(P){return s.parentNode.insertBefore(P,s.nextSibling)},d);return O}function YC(s){s.off=Yt,s.on=at,s.wheelEventPixels=nC,s.Doc=Nr,s.splitLines=Hn,s.countColumn=be,s.findColumn=on,s.isWordChar=ce,s.Pass=st,s.signal=Bt,s.Line=pa,s.changeEnd=Yo,s.scrollbarModel=v6,s.Pos=me,s.cmpPos=Ce,s.modes=ri,s.mimeModes=qn,s.resolveMode=Xr,s.getMode=hi,s.modeExtensions=Zr,s.extendMode=ii,s.copyState=X,s.startState=$e,s.innerMode=_e,s.commands=ql,s.keyMap=Lo,s.keyName=tm,s.isModifierKey=Q6,s.lookupKey=Ma,s.normalizeKeyMap=kC,s.StringStream=Ke,s.SharedTextMarker=Xl,s.TextMarker=Ko,s.LineWidget=Gl,s.e_preventDefault=ft,s.e_stopPropagation=yt,s.e_stop=Gt,s.addClass=Ae,s.contains=de,s.rmClass=ue,s.keyNames=Jo}FC(Tn),zC(Tn);var qC="iter insert remove copy getEditor constructor".split(" ");for(var F2 in Nr.prototype)Nr.prototype.hasOwnProperty(F2)&&xe(qC,F2)<0&&(Tn.prototype[F2]=function(s){return function(){return s.apply(this.doc,arguments)}}(Nr.prototype[F2]));return Ye(Nr),Tn.inputStyles={textarea:Bn,contenteditable:gn},Tn.defineMode=function(s){!Tn.defaults.mode&&s!="null"&&(Tn.defaults.mode=s),Cr.apply(this,arguments)},Tn.defineMIME=wr,Tn.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),Tn.defineMIME("text/plain","null"),Tn.defineExtension=function(s,d){Tn.prototype[s]=d},Tn.defineDocExtension=function(s,d){Nr.prototype[s]=d},Tn.fromTextArea=ZC,YC(Tn),Tn.version="5.65.19",Tn})}(wu)),wu.exports}var C5;function aq(){return C5||(C5=1,function(n,e){(function(t){t(ws())})(function(t){t.defineMode("javascript",function(r,i){var o=r.indentUnit,a=i.statementIndent,l=i.jsonld,u=i.json||l,c=i.trackScope!==!1,f=i.typescript,v=i.wordCharacters||/[\w$\xa1-\uffff]/,m=function(){function M(dt){return{type:dt,style:"keyword"}}var F=M("keyword a"),fe=M("keyword b"),Me=M("keyword c"),me=M("keyword d"),Ce=M("operator"),qe={type:"atom",style:"atom"};return{if:M("if"),while:F,with:F,else:fe,do:fe,try:fe,finally:fe,return:me,break:me,continue:me,new:M("new"),delete:Me,void:Me,throw:Me,debugger:M("debugger"),var:M("var"),const:M("var"),let:M("var"),function:M("function"),catch:M("catch"),for:M("for"),switch:M("switch"),case:M("case"),default:M("default"),in:Ce,typeof:Ce,instanceof:Ce,true:qe,false:qe,null:qe,undefined:qe,NaN:qe,Infinity:qe,this:M("this"),class:M("class"),super:M("atom"),yield:Me,export:M("export"),import:M("import"),extends:Me,await:Me}}(),y=/[+\-*&%=<>!?|~^@]/,_=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function b(M){for(var F=!1,fe,Me=!1;(fe=M.next())!=null;){if(!F){if(fe=="/"&&!Me)return;fe=="["?Me=!0:Me&&fe=="]"&&(Me=!1)}F=!F&&fe=="\\"}}var w,x;function k(M,F,fe){return w=M,x=fe,F}function N(M,F){var fe=M.next();if(fe=='"'||fe=="'")return F.tokenize=D(fe),F.tokenize(M,F);if(fe=="."&&M.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return k("number","number");if(fe=="."&&M.match(".."))return k("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(fe))return k(fe);if(fe=="="&&M.eat(">"))return k("=>","operator");if(fe=="0"&&M.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return k("number","number");if(/\d/.test(fe))return M.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),k("number","number");if(fe=="/")return M.eat("*")?(F.tokenize=V,V(M,F)):M.eat("/")?(M.skipToEnd(),k("comment","comment")):Y(M,F,1)?(b(M),M.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),k("regexp","string-2")):(M.eat("="),k("operator","operator",M.current()));if(fe=="`")return F.tokenize=U,U(M,F);if(fe=="#"&&M.peek()=="!")return M.skipToEnd(),k("meta","meta");if(fe=="#"&&M.eatWhile(v))return k("variable","property");if(fe=="<"&&M.match("!--")||fe=="-"&&M.match("->")&&!/\S/.test(M.string.slice(0,M.start)))return M.skipToEnd(),k("comment","comment");if(y.test(fe))return(fe!=">"||!F.lexical||F.lexical.type!=">")&&(M.eat("=")?(fe=="!"||fe=="=")&&M.eat("="):/[<>*+\-|&?]/.test(fe)&&(M.eat(fe),fe==">"&&M.eat(fe))),fe=="?"&&M.eat(".")?k("."):k("operator","operator",M.current());if(v.test(fe)){M.eatWhile(v);var Me=M.current();if(F.lastType!="."){if(m.propertyIsEnumerable(Me)){var me=m[Me];return k(me.type,me.style,Me)}if(Me=="async"&&M.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return k("async","keyword",Me)}return k("variable","variable",Me)}}function D(M){return function(F,fe){var Me=!1,me;if(l&&F.peek()=="@"&&F.match(_))return fe.tokenize=N,k("jsonld-keyword","meta");for(;(me=F.next())!=null&&!(me==M&&!Me);)Me=!Me&&me=="\\";return Me||(fe.tokenize=N),k("string","string")}}function V(M,F){for(var fe=!1,Me;Me=M.next();){if(Me=="/"&&fe){F.tokenize=N;break}fe=Me=="*"}return k("comment","comment")}function U(M,F){for(var fe=!1,Me;(Me=M.next())!=null;){if(!fe&&(Me=="`"||Me=="$"&&M.eat("{"))){F.tokenize=N;break}fe=!fe&&Me=="\\"}return k("quasi","string-2",M.current())}var B="([{}])";function G(M,F){F.fatArrowAt&&(F.fatArrowAt=null);var fe=M.string.indexOf("=>",M.start);if(!(fe<0)){if(f){var Me=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(M.string.slice(M.start,fe));Me&&(fe=Me.index)}for(var me=0,Ce=!1,qe=fe-1;qe>=0;--qe){var dt=M.string.charAt(qe),St=B.indexOf(dt);if(St>=0&&St<3){if(!me){++qe;break}if(--me==0){dt=="("&&(Ce=!0);break}}else if(St>=3&&St<6)++me;else if(v.test(dt))Ce=!0;else if(/["'\/`]/.test(dt))for(;;--qe){if(qe==0)return;var In=M.string.charAt(qe-1);if(In==dt&&M.string.charAt(qe-2)!="\\"){qe--;break}}else if(Ce&&!me){++qe;break}}Ce&&!me&&(F.fatArrowAt=qe)}}var Q={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ae(M,F,fe,Me,me,Ce){this.indented=M,this.column=F,this.type=fe,this.prev=me,this.info=Ce,Me!=null&&(this.align=Me)}function q(M,F){if(!c)return!1;for(var fe=M.localVars;fe;fe=fe.next)if(fe.name==F)return!0;for(var Me=M.context;Me;Me=Me.prev)for(var fe=Me.vars;fe;fe=fe.next)if(fe.name==F)return!0}function ue(M,F,fe,Me,me){var Ce=M.cc;for(T.state=M,T.stream=me,T.marked=null,T.cc=Ce,T.style=F,M.lexical.hasOwnProperty("align")||(M.lexical.align=!0);;){var qe=Ce.length?Ce.pop():u?xe:be;if(qe(fe,Me)){for(;Ce.length&&Ce[Ce.length-1].lex;)Ce.pop()();return T.marked?T.marked:fe=="variable"&&q(M,Me)?"variable-2":F}}}var T={state:null,marked:null,cc:null};function R(){for(var M=arguments.length-1;M>=0;M--)T.cc.push(arguments[M])}function A(){return R.apply(null,arguments),!0}function se(M,F){for(var fe=F;fe;fe=fe.next)if(fe.name==M)return!0;return!1}function re(M){var F=T.state;if(T.marked="def",!!c){if(F.context){if(F.lexical.info=="var"&&F.context&&F.context.block){var fe=de(M,F.context);if(fe!=null){F.context=fe;return}}else if(!se(M,F.localVars)){F.localVars=new pe(M,F.localVars);return}}i.globalVars&&!se(M,F.globalVars)&&(F.globalVars=new pe(M,F.globalVars))}}function de(M,F){if(F)if(F.block){var fe=de(M,F.prev);return fe?fe==F.prev?F:new Ae(fe,F.vars,!0):null}else return se(M,F.vars)?F:new Ae(F.prev,new pe(M,F.vars),!1);else return null}function le(M){return M=="public"||M=="private"||M=="protected"||M=="abstract"||M=="readonly"}function Ae(M,F,fe){this.prev=M,this.vars=F,this.block=fe}function pe(M,F){this.name=M,this.next=F}var Ne=new pe("this",new pe("arguments",null));function Ve(){T.state.context=new Ae(T.state.context,T.state.localVars,!1),T.state.localVars=Ne}function Ie(){T.state.context=new Ae(T.state.context,T.state.localVars,!0),T.state.localVars=null}Ve.lex=Ie.lex=!0;function Oe(){T.state.localVars=T.state.context.vars,T.state.context=T.state.context.prev}Oe.lex=!0;function $(M,F){var fe=function(){var Me=T.state,me=Me.indented;if(Me.lexical.type=="stat")me=Me.lexical.indented;else for(var Ce=Me.lexical;Ce&&Ce.type==")"&&Ce.align;Ce=Ce.prev)me=Ce.indented;Me.lexical=new ae(me,T.stream.column(),M,null,Me.lexical,F)};return fe.lex=!0,fe}function he(){var M=T.state;M.lexical.prev&&(M.lexical.type==")"&&(M.indented=M.lexical.indented),M.lexical=M.lexical.prev)}he.lex=!0;function ge(M){function F(fe){return fe==M?A():M==";"||fe=="}"||fe==")"||fe=="]"?R():A(F)}return F}function be(M,F){return M=="var"?A($("vardef",F),yt,ge(";"),he):M=="keyword a"?A($("form"),st,be,he):M=="keyword b"?A($("form"),be,he):M=="keyword d"?T.stream.match(/^\s*$/,!1)?A():A($("stat"),wt,ge(";"),he):M=="debugger"?A(ge(";")):M=="{"?A($("}"),Ie,lt,he,Oe):M==";"?A():M=="if"?(T.state.lexical.info=="else"&&T.state.cc[T.state.cc.length-1]==he&&T.state.cc.pop()(),A($("form"),st,be,he,ci)):M=="function"?A(Hn):M=="for"?A($("form"),Ie,fi,be,Oe,he):M=="class"||f&&F=="interface"?(T.marked="keyword",A($("form",M=="class"?M:F),ri,he)):M=="variable"?f&&F=="declare"?(T.marked="keyword",A(be)):f&&(F=="module"||F=="enum"||F=="type")&&T.stream.match(/^\s*\w/,!1)?(T.marked="keyword",F=="enum"?A(We):F=="type"?A(Ni,ge("operator"),Je,ge(";")):A($("form"),zt,ge("{"),$("}"),lt,he,he)):f&&F=="namespace"?(T.marked="keyword",A($("form"),xe,be,he)):f&&F=="abstract"?(T.marked="keyword",A(be)):A($("stat"),te):M=="switch"?A($("form"),st,ge("{"),$("}","switch"),Ie,lt,he,he,Oe):M=="case"?A(xe,ge(":")):M=="default"?A(ge(":")):M=="catch"?A($("form"),Ve,Be,be,he,Oe):M=="export"?A($("stat"),Xr,he):M=="import"?A($("stat"),Zr,he):M=="async"?A(be):F=="@"?A(xe,be):R($("stat"),xe,ge(";"),he)}function Be(M){if(M=="(")return A(xt,ge(")"))}function xe(M,F){return Lt(M,F,!1)}function Re(M,F){return Lt(M,F,!0)}function st(M){return M!="("?R():A($(")"),wt,ge(")"),he)}function Lt(M,F,fe){if(T.state.fatArrowAt==T.stream.start){var Me=fe?H:E;if(M=="(")return A(Ve,$(")"),Xe(xt,")"),he,ge("=>"),Me,Oe);if(M=="variable")return R(Ve,zt,ge("=>"),Me,Oe)}var me=fe?on:Mt;return Q.hasOwnProperty(M)?A(me):M=="function"?A(Hn,me):M=="class"||f&&F=="interface"?(T.marked="keyword",A($("form"),io,he)):M=="keyword c"||M=="async"?A(fe?Re:xe):M=="("?A($(")"),wt,ge(")"),he,me):M=="operator"||M=="spread"?A(fe?Re:xe):M=="["?A($("]"),Ke,he,me):M=="{"?it(Se,"}",null,me):M=="quasi"?R(pn,me):M=="new"?A(K(fe)):A()}function wt(M){return M.match(/[;\}\)\],]/)?R():R(xe)}function Mt(M,F){return M==","?A(wt):on(M,F,!1)}function on(M,F,fe){var Me=fe==!1?Mt:on,me=fe==!1?xe:Re;if(M=="=>")return A(Ve,fe?H:E,Oe);if(M=="operator")return/\+\+|--/.test(F)||f&&F=="!"?A(Me):f&&F=="<"&&T.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?A($(">"),Xe(Je,">"),he,Me):F=="?"?A(xe,ge(":"),me):A(me);if(M=="quasi")return R(pn,Me);if(M!=";"){if(M=="(")return it(Re,")","call",Me);if(M==".")return A(ce,Me);if(M=="[")return A($("]"),wt,ge("]"),he,Me);if(f&&F=="as")return T.marked="keyword",A(Je,Me);if(M=="regexp")return T.state.lastType=T.marked="operator",T.stream.backUp(T.stream.pos-T.stream.start-1),A(me)}}function pn(M,F){return M!="quasi"?R():F.slice(F.length-2)!="${"?A(pn):A(wt,z)}function z(M){if(M=="}")return T.marked="string-2",T.state.tokenize=U,A(pn)}function E(M){return G(T.stream,T.state),R(M=="{"?be:xe)}function H(M){return G(T.stream,T.state),R(M=="{"?be:Re)}function K(M){return function(F){return F=="."?A(M?ne:W):F=="variable"&&f?A(ke,M?on:Mt):R(M?Re:xe)}}function W(M,F){if(F=="target")return T.marked="keyword",A(Mt)}function ne(M,F){if(F=="target")return T.marked="keyword",A(on)}function te(M){return M==":"?A(he,be):R(Mt,ge(";"),he)}function ce(M){if(M=="variable")return T.marked="property",A()}function Se(M,F){if(M=="async")return T.marked="property",A(Se);if(M=="variable"||T.style=="keyword"){if(T.marked="property",F=="get"||F=="set")return A(Ee);var fe;return f&&T.state.fatArrowAt==T.stream.start&&(fe=T.stream.match(/^\s*:\s*/,!1))&&(T.state.fatArrowAt=T.stream.pos+fe[0].length),A(He)}else{if(M=="number"||M=="string")return T.marked=l?"property":T.style+" property",A(He);if(M=="jsonld-keyword")return A(He);if(f&&le(F))return T.marked="keyword",A(Se);if(M=="[")return A(xe,At,ge("]"),He);if(M=="spread")return A(Re,He);if(F=="*")return T.marked="keyword",A(Se);if(M==":")return R(He)}}function Ee(M){return M!="variable"?R(He):(T.marked="property",A(Hn))}function He(M){if(M==":")return A(Re);if(M=="(")return R(Hn)}function Xe(M,F,fe){function Me(me,Ce){if(fe?fe.indexOf(me)>-1:me==","){var qe=T.state.lexical;return qe.info=="call"&&(qe.pos=(qe.pos||0)+1),A(function(dt,St){return dt==F||St==F?R():R(M)},Me)}return me==F||Ce==F?A():fe&&fe.indexOf(";")>-1?R(M):A(ge(F))}return function(me,Ce){return me==F||Ce==F?A():R(M,Me)}}function it(M,F,fe){for(var Me=3;Me<arguments.length;Me++)T.cc.push(arguments[Me]);return A($(F,fe),Xe(M,F),he)}function lt(M){return M=="}"?A():R(be,lt)}function At(M,F){if(f){if(M==":")return A(Je);if(F=="?")return A(At)}}function Ge(M,F){if(f&&(M==":"||F=="in"))return A(Je)}function nt(M){if(f&&M==":")return T.stream.match(/^\s*\w+\s+is\b/,!1)?A(xe,Dt,Je):A(Je)}function Dt(M,F){if(F=="is")return T.marked="keyword",A()}function Je(M,F){if(F=="keyof"||F=="typeof"||F=="infer"||F=="readonly")return T.marked="keyword",A(F=="typeof"?Re:Je);if(M=="variable"||F=="void")return T.marked="type",A(sn);if(F=="|"||F=="&")return A(Je);if(M=="string"||M=="number"||M=="atom")return A(sn);if(M=="[")return A($("]"),Xe(Je,"]",","),he,sn);if(M=="{")return A($("}"),at,he,sn);if(M=="(")return A(Xe(jt,")"),xn,sn);if(M=="<")return A(Xe(Je,">"),Je);if(M=="quasi")return R(Yt,sn)}function xn(M){if(M=="=>")return A(Je)}function at(M){return M.match(/[\}\)\]]/)?A():M==","||M==";"?A(at):R(kn,at)}function kn(M,F){if(M=="variable"||T.style=="keyword")return T.marked="property",A(kn);if(F=="?"||M=="number"||M=="string")return A(kn);if(M==":")return A(Je);if(M=="[")return A(ge("variable"),Ge,ge("]"),kn);if(M=="(")return R(Gr,kn);if(!M.match(/[;\}\)\],]/))return A()}function Yt(M,F){return M!="quasi"?R():F.slice(F.length-2)!="${"?A(Yt):A(Je,Bt)}function Bt(M){if(M=="}")return T.marked="string-2",T.state.tokenize=U,A(Yt)}function jt(M,F){return M=="variable"&&T.stream.match(/^\s*[?:]/,!1)||F=="?"?A(jt):M==":"?A(Je):M=="spread"?A(jt):R(Je)}function sn(M,F){if(F=="<")return A($(">"),Xe(Je,">"),he,sn);if(F=="|"||M=="."||F=="&")return A(Je);if(M=="[")return A(Je,ge("]"),sn);if(F=="extends"||F=="implements")return T.marked="keyword",A(Je);if(F=="?")return A(Je,ge(":"),Je)}function ke(M,F){if(F=="<")return A($(">"),Xe(Je,">"),he,sn)}function Ye(){return R(Je,ft)}function ft(M,F){if(F=="=")return A(Je)}function yt(M,F){return F=="enum"?(T.marked="keyword",A(We)):R(zt,At,An,Yn)}function zt(M,F){if(f&&le(F))return T.marked="keyword",A(zt);if(M=="variable")return re(F),A();if(M=="spread")return A(zt);if(M=="[")return it(fr,"]");if(M=="{")return it(Gt,"}")}function Gt(M,F){return M=="variable"&&!T.stream.match(/^\s*:/,!1)?(re(F),A(An)):(M=="variable"&&(T.marked="property"),M=="spread"?A(zt):M=="}"?R():M=="["?A(xe,ge("]"),ge(":"),Gt):A(ge(":"),zt,An))}function fr(){return R(zt,An)}function An(M,F){if(F=="=")return A(Re)}function Yn(M){if(M==",")return A(yt)}function ci(M,F){if(M=="keyword b"&&F=="else")return A($("form","else"),be,he)}function fi(M,F){if(F=="await")return A(fi);if(M=="(")return A($(")"),Jt,he)}function Jt(M){return M=="var"?A(yt,Ur):M=="variable"?A(Ur):R(Ur)}function Ur(M,F){return M==")"?A():M==";"?A(Ur):F=="in"||F=="of"?(T.marked="keyword",A(xe,Ur)):R(xe,Ur)}function Hn(M,F){if(F=="*")return T.marked="keyword",A(Hn);if(M=="variable")return re(F),A(Hn);if(M=="(")return A(Ve,$(")"),Xe(xt,")"),he,nt,be,Oe);if(f&&F=="<")return A($(">"),Xe(Ye,">"),he,Hn)}function Gr(M,F){if(F=="*")return T.marked="keyword",A(Gr);if(M=="variable")return re(F),A(Gr);if(M=="(")return A(Ve,$(")"),Xe(xt,")"),he,nt,Oe);if(f&&F=="<")return A($(">"),Xe(Ye,">"),he,Gr)}function Ni(M,F){if(M=="keyword"||M=="variable")return T.marked="type",A(Ni);if(F=="<")return A($(">"),Xe(Ye,">"),he)}function xt(M,F){return F=="@"&&A(xe,xt),M=="spread"?A(xt):f&&le(F)?(T.marked="keyword",A(xt)):f&&M=="this"?A(At,An):R(zt,At,An)}function io(M,F){return M=="variable"?ri(M,F):qn(M,F)}function ri(M,F){if(M=="variable")return re(F),A(qn)}function qn(M,F){if(F=="<")return A($(">"),Xe(Ye,">"),he,qn);if(F=="extends"||F=="implements"||f&&M==",")return F=="implements"&&(T.marked="keyword"),A(f?Je:xe,qn);if(M=="{")return A($("}"),Cr,he)}function Cr(M,F){if(M=="async"||M=="variable"&&(F=="static"||F=="get"||F=="set"||f&&le(F))&&T.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return T.marked="keyword",A(Cr);if(M=="variable"||T.style=="keyword")return T.marked="property",A(wr,Cr);if(M=="number"||M=="string")return A(wr,Cr);if(M=="[")return A(xe,At,ge("]"),wr,Cr);if(F=="*")return T.marked="keyword",A(Cr);if(f&&M=="(")return R(Gr,Cr);if(M==";"||M==",")return A(Cr);if(M=="}")return A();if(F=="@")return A(xe,Cr)}function wr(M,F){if(F=="!"||F=="?")return A(wr);if(M==":")return A(Je,An);if(F=="=")return A(Re);var fe=T.state.lexical.prev,Me=fe&&fe.info=="interface";return R(Me?Gr:Hn)}function Xr(M,F){return F=="*"?(T.marked="keyword",A($e,ge(";"))):F=="default"?(T.marked="keyword",A(xe,ge(";"))):M=="{"?A(Xe(hi,"}"),$e,ge(";")):R(be)}function hi(M,F){if(F=="as")return T.marked="keyword",A(ge("variable"));if(M=="variable")return R(Re,hi)}function Zr(M){return M=="string"?A():M=="("?R(xe):M=="."?R(Mt):R(ii,X,$e)}function ii(M,F){return M=="{"?it(ii,"}"):(M=="variable"&&re(F),F=="*"&&(T.marked="keyword"),A(_e))}function X(M){if(M==",")return A(ii,X)}function _e(M,F){if(F=="as")return T.marked="keyword",A(ii)}function $e(M,F){if(F=="from")return T.marked="keyword",A(xe)}function Ke(M){return M=="]"?A():R(Xe(Re,"]"))}function We(){return R($("form"),zt,ge("{"),$("}"),Xe(Ft,"}"),he,he)}function Ft(){return R(zt,An)}function Mn(M,F){return M.lastType=="operator"||M.lastType==","||y.test(F.charAt(0))||/[,.]/.test(F.charAt(0))}function Y(M,F,fe){return F.tokenize==N&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(F.lastType)||F.lastType=="quasi"&&/\{\s*$/.test(M.string.slice(0,M.pos-(fe||0)))}return{startState:function(M){var F={tokenize:N,lastType:"sof",cc:[],lexical:new ae((M||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new Ae(null,null,!1),indented:M||0};return i.globalVars&&typeof i.globalVars=="object"&&(F.globalVars=i.globalVars),F},token:function(M,F){if(M.sol()&&(F.lexical.hasOwnProperty("align")||(F.lexical.align=!1),F.indented=M.indentation(),G(M,F)),F.tokenize!=V&&M.eatSpace())return null;var fe=F.tokenize(M,F);return w=="comment"?fe:(F.lastType=w=="operator"&&(x=="++"||x=="--")?"incdec":w,ue(F,fe,w,x,M))},indent:function(M,F){if(M.tokenize==V||M.tokenize==U)return t.Pass;if(M.tokenize!=N)return 0;var fe=F&&F.charAt(0),Me=M.lexical,me;if(!/^\s*else\b/.test(F))for(var Ce=M.cc.length-1;Ce>=0;--Ce){var qe=M.cc[Ce];if(qe==he)Me=Me.prev;else if(qe!=ci&&qe!=Oe)break}for(;(Me.type=="stat"||Me.type=="form")&&(fe=="}"||(me=M.cc[M.cc.length-1])&&(me==Mt||me==on)&&!/^[,\.=+\-*:?[\(]/.test(F));)Me=Me.prev;a&&Me.type==")"&&Me.prev.type=="stat"&&(Me=Me.prev);var dt=Me.type,St=fe==dt;return dt=="vardef"?Me.indented+(M.lastType=="operator"||M.lastType==","?Me.info.length+1:0):dt=="form"&&fe=="{"?Me.indented:dt=="form"?Me.indented+o:dt=="stat"?Me.indented+(Mn(M,F)?a||o:0):Me.info=="switch"&&!St&&i.doubleIndentSwitch!=!1?Me.indented+(/^(?:case|default)\b/.test(F)?o:2*o):Me.align?Me.column+(St?0:1):Me.indented+(St?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:l,jsonMode:u,expressionAllowed:Y,skipExpression:function(M){ue(M,"atom","atom","true",new t.StringStream("",2,null))}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/manifest+json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}()),_5.exports}aq();var w5={exports:{}},x5;function q_(){return x5||(x5=1,function(n,e){(function(t){t(ws())})(function(t){function r(l,u,c,f){if(c&&c.call){var v=c;c=null}else var v=a(l,c,"rangeFinder");typeof u=="number"&&(u=t.Pos(u,0));var m=a(l,c,"minFoldSize");function y(x){var k=v(l,u);if(!k||k.to.line-k.from.line<m)return null;if(f==="fold")return k;for(var N=l.findMarksAt(k.from),D=0;D<N.length;++D)if(N[D].__isFold){if(!x)return null;k.cleared=!0,N[D].clear()}return k}var _=y(!0);if(a(l,c,"scanUp"))for(;!_&&u.line>l.firstLine();)u=t.Pos(u.line-1,0),_=y(!1);if(!(!_||_.cleared||f==="unfold")){var b=i(l,c,_);t.on(b,"mousedown",function(x){w.clear(),t.e_preventDefault(x)});var w=l.markText(_.from,_.to,{replacedWith:b,clearOnEnter:a(l,c,"clearOnEnter"),__isFold:!0});w.on("clear",function(x,k){t.signal(l,"unfold",l,x,k)}),t.signal(l,"fold",l,_.from,_.to)}}function i(l,u,c){var f=a(l,u,"widget");if(typeof f=="function"&&(f=f(c.from,c.to)),typeof f=="string"){var v=document.createTextNode(f);f=document.createElement("span"),f.appendChild(v),f.className="CodeMirror-foldmarker"}else f&&(f=f.cloneNode(!0));return f}t.newFoldFunction=function(l,u){return function(c,f){r(c,f,{rangeFinder:l,widget:u})}},t.defineExtension("foldCode",function(l,u,c){r(this,l,u,c)}),t.defineExtension("isFolded",function(l){for(var u=this.findMarksAt(l),c=0;c<u.length;++c)if(u[c].__isFold)return!0}),t.commands.toggleFold=function(l){l.foldCode(l.getCursor())},t.commands.fold=function(l){l.foldCode(l.getCursor(),null,"fold")},t.commands.unfold=function(l){l.foldCode(l.getCursor(),{scanUp:!1},"unfold")},t.commands.foldAll=function(l){l.operation(function(){for(var u=l.firstLine(),c=l.lastLine();u<=c;u++)l.foldCode(t.Pos(u,0),{scanUp:!1},"fold")})},t.commands.unfoldAll=function(l){l.operation(function(){for(var u=l.firstLine(),c=l.lastLine();u<=c;u++)l.foldCode(t.Pos(u,0),{scanUp:!1},"unfold")})},t.registerHelper("fold","combine",function(){var l=Array.prototype.slice.call(arguments,0);return function(u,c){for(var f=0;f<l.length;++f){var v=l[f](u,c);if(v)return v}}}),t.registerHelper("fold","auto",function(l,u){for(var c=l.getHelpers(u,"fold"),f=0;f<c.length;f++){var v=c[f](l,u);if(v)return v}});var o={rangeFinder:t.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};t.defineOption("foldOptions",null);function a(l,u,c){if(u&&u[c]!==void 0)return u[c];var f=l.options.foldOptions;return f&&f[c]!==void 0?f[c]:o[c]}t.defineExtension("foldOption",function(l,u){return a(this,l,u)})})}()),w5.exports}q_();var k5={exports:{}},S5;function lq(){return S5||(S5=1,function(n,e){(function(t){t(ws(),q_())})(function(t){t.defineOption("foldGutter",!1,function(w,x,k){k&&k!=t.Init&&(w.clearGutter(w.state.foldGutter.options.gutter),w.state.foldGutter=null,w.off("gutterClick",v),w.off("changes",y),w.off("viewportChange",_),w.off("fold",b),w.off("unfold",b),w.off("swapDoc",y),w.off("optionChange",m)),x&&(w.state.foldGutter=new i(o(x)),f(w),w.on("gutterClick",v),w.on("changes",y),w.on("viewportChange",_),w.on("fold",b),w.on("unfold",b),w.on("swapDoc",y),w.on("optionChange",m))});var r=t.Pos;function i(w){this.options=w,this.from=this.to=0}function o(w){return w===!0&&(w={}),w.gutter==null&&(w.gutter="CodeMirror-foldgutter"),w.indicatorOpen==null&&(w.indicatorOpen="CodeMirror-foldgutter-open"),w.indicatorFolded==null&&(w.indicatorFolded="CodeMirror-foldgutter-folded"),w}function a(w,x){for(var k=w.findMarks(r(x,0),r(x+1,0)),N=0;N<k.length;++N)if(k[N].__isFold){var D=k[N].find(-1);if(D&&D.line===x)return k[N]}}function l(w){if(typeof w=="string"){var x=document.createElement("div");return x.className=w+" CodeMirror-guttermarker-subtle",x}else return w.cloneNode(!0)}function u(w,x,k){var N=w.state.foldGutter.options,D=x-1,V=w.foldOption(N,"minFoldSize"),U=w.foldOption(N,"rangeFinder"),B=typeof N.indicatorFolded=="string"&&c(N.indicatorFolded),G=typeof N.indicatorOpen=="string"&&c(N.indicatorOpen);w.eachLine(x,k,function(Q){++D;var ae=null,q=Q.gutterMarkers;if(q&&(q=q[N.gutter]),a(w,D)){if(B&&q&&B.test(q.className))return;ae=l(N.indicatorFolded)}else{var ue=r(D,0),T=U&&U(w,ue);if(T&&T.to.line-T.from.line>=V){if(G&&q&&G.test(q.className))return;ae=l(N.indicatorOpen)}}!ae&&!q||w.setGutterMarker(Q,N.gutter,ae)})}function c(w){return new RegExp("(^|\\s)"+w+"(?:$|\\s)\\s*")}function f(w){var x=w.getViewport(),k=w.state.foldGutter;k&&(w.operation(function(){u(w,x.from,x.to)}),k.from=x.from,k.to=x.to)}function v(w,x,k){var N=w.state.foldGutter;if(N){var D=N.options;if(k==D.gutter){var V=a(w,x);V?V.clear():w.foldCode(r(x,0),D)}}}function m(w,x){x=="mode"&&y(w)}function y(w){var x=w.state.foldGutter;if(x){var k=x.options;x.from=x.to=0,clearTimeout(x.changeUpdate),x.changeUpdate=setTimeout(function(){f(w)},k.foldOnChangeTimeSpan||600)}}function _(w){var x=w.state.foldGutter;if(x){var k=x.options;clearTimeout(x.changeUpdate),x.changeUpdate=setTimeout(function(){var N=w.getViewport();x.from==x.to||N.from-x.to>20||x.from-N.to>20?f(w):w.operation(function(){N.from<x.from&&(u(w,N.from,x.from),x.from=N.from),N.to>x.to&&(u(w,x.to,N.to),x.to=N.to)})},k.updateViewportTimeSpan||400)}}function b(w,x){var k=w.state.foldGutter;if(k){var N=x.line;N>=k.from&&N<k.to&&u(w,N,N+1)}}})}()),k5.exports}lq();var E5={exports:{}},M5;function uq(){return M5||(M5=1,function(n,e){(function(t){t(ws())})(function(t){function r(i){return function(o,a){var l=a.line,u=o.getLine(l);function c(b){for(var w,x=a.ch,k=0;;){var N=x<=0?-1:u.lastIndexOf(b[0],x-1);if(N==-1){if(k==1)break;k=1,x=u.length;continue}if(k==1&&N<a.ch)break;if(w=o.getTokenTypeAt(t.Pos(l,N+1)),!/^(comment|string)/.test(w))return{ch:N+1,tokenType:w,pair:b};x=N-1}}function f(b){var w=1,x=o.lastLine(),k,N=b.ch,D;e:for(var V=l;V<=x;++V)for(var U=o.getLine(V),B=V==l?N:0;;){var G=U.indexOf(b.pair[0],B),Q=U.indexOf(b.pair[1],B);if(G<0&&(G=U.length),Q<0&&(Q=U.length),B=Math.min(G,Q),B==U.length)break;if(o.getTokenTypeAt(t.Pos(V,B+1))==b.tokenType){if(B==G)++w;else if(!--w){k=V,D=B;break e}}++B}return k==null||l==k?null:{from:t.Pos(l,N),to:t.Pos(k,D)}}for(var v=[],m=0;m<i.length;m++){var y=c(i[m]);y&&v.push(y)}v.sort(function(b,w){return b.ch-w.ch});for(var m=0;m<v.length;m++){var _=f(v[m]);if(_)return _}return null}}t.registerHelper("fold","brace",r([["{","}"],["[","]"]])),t.registerHelper("fold","brace-paren",r([["{","}"],["[","]"],["(",")"]])),t.registerHelper("fold","import",function(i,o){function a(m){if(m<i.firstLine()||m>i.lastLine())return null;var y=i.getTokenAt(t.Pos(m,1));if(/\S/.test(y.string)||(y=i.getTokenAt(t.Pos(m,y.end+1))),y.type!="keyword"||y.string!="import")return null;for(var _=m,b=Math.min(i.lastLine(),m+10);_<=b;++_){var w=i.getLine(_),x=w.indexOf(";");if(x!=-1)return{startCh:y.end,end:t.Pos(_,x)}}}var l=o.line,u=a(l),c;if(!u||a(l-1)||(c=a(l-2))&&c.end.line==l-1)return null;for(var f=u.end;;){var v=a(f.line+1);if(v==null)break;f=v.end}return{from:i.clipPos(t.Pos(l,u.startCh+1)),to:f}}),t.registerHelper("fold","include",function(i,o){function a(v){if(v<i.firstLine()||v>i.lastLine())return null;var m=i.getTokenAt(t.Pos(v,1));if(/\S/.test(m.string)||(m=i.getTokenAt(t.Pos(v,m.end+1))),m.type=="meta"&&m.string.slice(0,8)=="#include")return m.start+8}var l=o.line,u=a(l);if(u==null||a(l-1)!=null)return null;for(var c=l;;){var f=a(c+1);if(f==null)break;++c}return{from:t.Pos(l,u+1),to:i.clipPos(t.Pos(c))}})})}()),E5.exports}uq();var O5={exports:{}},A5;function dq(){return A5||(A5=1,function(n,e){(function(t){t(ws())})(function(t){var r="CodeMirror-activeline",i="CodeMirror-activeline-background",o="CodeMirror-activeline-gutter";t.defineOption("styleActiveLine",!1,function(f,v,m){var y=m==t.Init?!1:m;v!=y&&(y&&(f.off("beforeSelectionChange",c),a(f),delete f.state.activeLines),v&&(f.state.activeLines=[],u(f,f.listSelections()),f.on("beforeSelectionChange",c)))});function a(f){for(var v=0;v<f.state.activeLines.length;v++)f.removeLineClass(f.state.activeLines[v],"wrap",r),f.removeLineClass(f.state.activeLines[v],"background",i),f.removeLineClass(f.state.activeLines[v],"gutter",o)}function l(f,v){if(f.length!=v.length)return!1;for(var m=0;m<f.length;m++)if(f[m]!=v[m])return!1;return!0}function u(f,v){for(var m=[],y=0;y<v.length;y++){var _=v[y],b=f.getOption("styleActiveLine");if(!(typeof b=="object"&&b.nonEmpty?_.anchor.line!=_.head.line:!_.empty())){var w=f.getLineHandleVisualStart(_.head.line);m[m.length-1]!=w&&m.push(w)}}l(f.state.activeLines,m)||f.operation(function(){a(f);for(var x=0;x<m.length;x++)f.addLineClass(m[x],"wrap",r),f.addLineClass(m[x],"background",i),f.addLineClass(m[x],"gutter",o);f.state.activeLines=m})}function c(f,v){u(f,v.ranges)}})}()),O5.exports}dq();var cq=ws();const K_=fl(cq);var L5={exports:{}},T5;function fq(){return T5||(T5=1,function(n,e){(function(t){t(ws())})(function(t){var r=t.Pos,i="http://www.w3.org/2000/svg";function o(E,H){this.mv=E,this.type=H,this.classes=H=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}o.prototype={constructor:o,init:function(E,H,K){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=t(E,ge({value:H,readOnly:!this.mv.options.allowEditingOriginals},ge(K))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new st(this.edit)),this.orig.state.trackAlignable=new st(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var W=K.chunkClassLocation||"background";Object.prototype.toString.call(W)!="[object Array]"&&(W=[W]),this.classes.classLocation=W,this.diff=se(R(H),R(K.value),this.mv.options.ignoreWhitespace),this.chunks=re(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=K.showDifferences!==!1},registerEvents:function(E){this.forceUpdate=u(this),m(this,!0,!1),c(this,E)},setShowDifferences:function(E){E=E!==!1,E!=this.showDifferences&&(this.showDifferences=E,this.forceUpdate("full"))}};function a(E){E.diffOutOfDate&&(E.diff=se(E.orig.getValue(),E.edit.getValue(),E.mv.options.ignoreWhitespace),E.chunks=re(E.diff),E.diffOutOfDate=!1,t.signal(E.edit,"updateDiff",E.diff))}var l=!1;function u(E){var H={from:0,to:0,marked:[]},K={from:0,to:0,marked:[]},W,ne=!1;function te(Xe){l=!0,ne=!1,Xe=="full"&&(E.svg&&$(E.svg),E.copyButtons&&$(E.copyButtons),_(E.edit,H.marked,E.classes),_(E.orig,K.marked,E.classes),H.from=H.to=K.from=K.to=0),a(E),E.showDifferences&&(b(E.edit,E.diff,H,DIFF_INSERT,E.classes),b(E.orig,E.diff,K,DIFF_DELETE,E.classes)),E.mv.options.connect=="align"&&B(E),k(E),E.needsScrollSync!=null&&f(E,E.needsScrollSync),l=!1}function ce(Xe){l||(E.dealigned=!0,Se(Xe))}function Se(Xe){l||ne||(clearTimeout(W),Xe===!0&&(ne=!0),W=setTimeout(te,Xe===!0?20:250))}function Ee(Xe,it){E.diffOutOfDate||(E.diffOutOfDate=!0,H.from=H.to=K.from=K.to=0),ce(it.text.length-1!=it.to.line-it.from.line)}function He(){E.diffOutOfDate=!0,E.dealigned=!0,te("full")}return E.edit.on("change",Ee),E.orig.on("change",Ee),E.edit.on("swapDoc",He),E.orig.on("swapDoc",He),E.mv.options.connect=="align"&&(t.on(E.edit.state.trackAlignable,"realign",ce),t.on(E.orig.state.trackAlignable,"realign",ce)),E.edit.on("viewportChange",function(){Se(!1)}),E.orig.on("viewportChange",function(){Se(!1)}),te(),te}function c(E,H){E.edit.on("scroll",function(){f(E,!0)&&k(E)}),E.orig.on("scroll",function(){f(E,!1)&&k(E),H&&f(H,!0)&&k(H)})}function f(E,H){if(E.diffOutOfDate)return E.lockScroll&&E.needsScrollSync==null&&(E.needsScrollSync=H),!1;if(E.needsScrollSync=null,!E.lockScroll)return!0;var K,W,ne=+new Date;if(H?(K=E.edit,W=E.orig):(K=E.orig,W=E.edit),K.state.scrollSetBy==E&&(K.state.scrollSetAt||0)+250>ne)return!1;var te=K.getScrollInfo();if(E.mv.options.connect=="align")At=te.top;else{var ce=.5*te.clientHeight,Se=te.top+ce,Ee=K.lineAtHeight(Se,"local"),He=Ae(E.chunks,Ee,H),Xe=v(K,H?He.edit:He.orig),it=v(W,H?He.orig:He.edit),lt=(Se-Xe.top)/(Xe.bot-Xe.top),At=it.top-ce+lt*(it.bot-it.top),Ge,nt;if(At>te.top&&(nt=te.top/ce)<1)At=At*nt+te.top*(1-nt);else if((Ge=te.height-te.clientHeight-te.top)<ce){var Dt=W.getScrollInfo(),Je=Dt.height-Dt.clientHeight-At;Je>Ge&&(nt=Ge/ce)<1&&(At=At*nt+(Dt.height-Dt.clientHeight-Ge)*(1-nt))}}return W.scrollTo(te.left,At),W.state.scrollSetAt=ne,W.state.scrollSetBy=E,!0}function v(E,H){var K=H.after;return K==null&&(K=E.lastLine()+1),{top:E.heightAtLine(H.before||0,"local"),bot:E.heightAtLine(K,"local")}}function m(E,H,K){E.lockScroll=H,H&&K!=!1&&f(E,DIFF_INSERT)&&k(E),(H?t.addClass:t.rmClass)(E.lockButton,"CodeMirror-merge-scrolllock-enabled")}function y(E,H,K){for(var W=K.classLocation,ne=0;ne<W.length;ne++)E.removeLineClass(H,W[ne],K.chunk),E.removeLineClass(H,W[ne],K.start),E.removeLineClass(H,W[ne],K.end)}function _(E,H,K){for(var W=0;W<H.length;++W){var ne=H[W];ne instanceof t.TextMarker?ne.clear():ne.parent&&y(E,ne,K)}H.length=0}function b(E,H,K,W,ne){var te=E.getViewport();E.operation(function(){K.from==K.to||te.from-K.to>20||K.from-te.to>20?(_(E,K.marked,ne),x(E,H,W,K.marked,te.from,te.to,ne),K.from=te.from,K.to=te.to):(te.from<K.from&&(x(E,H,W,K.marked,te.from,K.from,ne),K.from=te.from),te.to>K.to&&(x(E,H,W,K.marked,K.to,te.to,ne),K.to=te.to))})}function w(E,H,K,W,ne,te){for(var ce=K.classLocation,Se=E.getLineHandle(H),Ee=0;Ee<ce.length;Ee++)W&&E.addLineClass(Se,ce[Ee],K.chunk),ne&&E.addLineClass(Se,ce[Ee],K.start),te&&E.addLineClass(Se,ce[Ee],K.end);return Se}function x(E,H,K,W,ne,te,ce){var Se=r(0,0),Ee=r(ne,0),He=E.clipPos(r(te-1)),Xe=K==DIFF_DELETE?ce.del:ce.insert;function it(jt,sn){for(var ke=Math.max(ne,jt),Ye=Math.min(te,sn),ft=ke;ft<Ye;++ft)W.push(w(E,ft,ce,!0,ft==jt,ft==sn-1));jt==sn&&ke==sn&&Ye==sn&&(ke?W.push(w(E,ke-1,ce,!1,!1,!0)):W.push(w(E,ke,ce,!1,!0,!1)))}for(var lt=0,At=!1,Ge=0;Ge<H.length;++Ge){var nt=H[Ge],Dt=nt[0],Je=nt[1];if(Dt==DIFF_EQUAL){var xn=Se.line+(le(H,Ge)?0:1);be(Se,Je);var at=Se.line+(de(H,Ge)?1:0);at>xn&&(At&&(it(lt,xn),At=!1),lt=at)}else if(At=!0,Dt==K){var kn=be(Se,Je,!0),Yt=wt(Ee,Se),Bt=Lt(He,kn);Mt(Yt,Bt)||W.push(E.markText(Yt,Bt,{className:Xe})),Se=kn}}At&&it(lt,Se.line+1)}function k(E){if(E.showDifferences){if(E.svg){$(E.svg);var H=E.gap.offsetWidth;he(E.svg,"width",H,"height",E.gap.offsetHeight)}E.copyButtons&&$(E.copyButtons);for(var K=E.edit.getViewport(),W=E.orig.getViewport(),ne=E.mv.wrap.getBoundingClientRect().top,te=ne-E.edit.getScrollerElement().getBoundingClientRect().top+E.edit.getScrollInfo().top,ce=ne-E.orig.getScrollerElement().getBoundingClientRect().top+E.orig.getScrollInfo().top,Se=0;Se<E.chunks.length;Se++){var Ee=E.chunks[Se];Ee.editFrom<=K.to&&Ee.editTo>=K.from&&Ee.origFrom<=W.to&&Ee.origTo>=W.from&&ae(E,Ee,ce,te,H)}}}function N(E,H){for(var K=0,W=0,ne=0;ne<H.length;ne++){var te=H[ne];if(te.editTo>E&&te.editFrom<=E)return null;if(te.editFrom>E)break;K=te.editTo,W=te.origTo}return W+(E-K)}function D(E,H,K){for(var W=E.state.trackAlignable,ne=E.firstLine(),te=0,ce=[],Se=0;;Se++){for(var Ee=H[Se],He=Ee?K?Ee.origFrom:Ee.editFrom:1e9;te<W.alignable.length;te+=2){var Xe=W.alignable[te]+1;if(!(Xe<=ne))if(Xe<=He)ce.push(Xe);else break}if(!Ee)break;ce.push(ne=K?Ee.origTo:Ee.editTo)}return ce}function V(E,H,K,W){var ne=0,te=0,ce=0,Se=0;e:for(;;ne++){var Ee=E[ne],He=H[te];if(!Ee&&He==null)break;for(var Xe=Ee?Ee[0]:1e9,it=He??1e9;ce<K.length;){var lt=K[ce];if(lt.origFrom<=it&&lt.origTo>it){te++,ne--;continue e}if(lt.editTo>Xe){if(lt.editFrom<=Xe)continue e;break}Se+=lt.origTo-lt.origFrom-(lt.editTo-lt.editFrom),ce++}if(Xe==it-Se)Ee[W]=it,te++;else if(Xe<it-Se)Ee[W]=Xe+Se;else{var At=[it-Se,null,null];At[W]=it,E.splice(ne,0,At),te++}}}function U(E,H){var K=D(E.edit,E.chunks,!1),W=[];if(H)for(var ne=0,te=0;ne<H.chunks.length;ne++){for(var ce=H.chunks[ne].editTo;te<K.length&&K[te]<ce;)te++;(te==K.length||K[te]!=ce)&&K.splice(te++,0,ce)}for(var ne=0;ne<K.length;ne++)W.push([K[ne],null,null]);return V(W,D(E.orig,E.chunks,!0),E.chunks,1),H&&V(W,D(H.orig,H.chunks,!0),H.chunks,2),W}function B(E,H){if(!(!E.dealigned&&!H)){if(!E.orig.curOp)return E.orig.operation(function(){B(E,H)});E.dealigned=!1;var K=E.mv.left==E?E.mv.right:E.mv.left;K&&(a(K),K.dealigned=!1);for(var W=U(E,K),ne=E.mv.aligners,te=0;te<ne.length;te++)ne[te].clear();ne.length=0;var ce=[E.edit,E.orig],Se=[],Ee=[];K&&ce.push(K.orig);for(var te=0;te<ce.length;te++)Se.push(ce[te].getScrollInfo().top),Ee.push(-ce[te].getScrollerElement().getBoundingClientRect().top);(Ee[0]!=Ee[1]||ce.length==3&&Ee[1]!=Ee[2])&&G(ce,Ee,[0,0,0],ne);for(var He=0;He<W.length;He++)G(ce,Ee,W[He],ne);for(var te=0;te<ce.length;te++)ce[te].scrollTo(null,Se[te])}}function G(E,H,K,W){for(var ne=-1e8,te=[],ce=0;ce<E.length;ce++)if(K[ce]!=null){var Se=E[ce].heightAtLine(K[ce],"local")-H[ce];te[ce]=Se,ne=Math.max(ne,Se)}for(var ce=0;ce<E.length;ce++)if(K[ce]!=null){var Ee=ne-te[ce];Ee>1&&W.push(Q(E[ce],K[ce],Ee))}}function Q(E,H,K){var W=!0;H>E.lastLine()&&(H--,W=!1);var ne=document.createElement("div");return ne.className="CodeMirror-merge-spacer",ne.style.height=K+"px",ne.style.minWidth="1px",E.addLineWidget(H,ne,{height:K,above:W,mergeSpacer:!0,handleMouseEvents:!0})}function ae(E,H,K,W,ne){var te=E.type=="left",ce=E.orig.heightAtLine(H.origFrom,"local",!0)-K;if(E.svg){var Se=ce,Ee=E.edit.heightAtLine(H.editFrom,"local",!0)-W;if(te){var He=Se;Se=Ee,Ee=He}var Xe=E.orig.heightAtLine(H.origTo,"local",!0)-K,it=E.edit.heightAtLine(H.editTo,"local",!0)-W;if(te){var He=Xe;Xe=it,it=He}var lt=" C "+ne/2+" "+Ee+" "+ne/2+" "+Se+" "+(ne+2)+" "+Se,At=" C "+ne/2+" "+Xe+" "+ne/2+" "+it+" -1 "+it;he(E.svg.appendChild(document.createElementNS(i,"path")),"d","M -1 "+Ee+lt+" L "+(ne+2)+" "+Xe+At+" z","class",E.classes.connect)}if(E.copyButtons){var Ge=E.copyButtons.appendChild(Oe("div",E.type=="left"?"⇝":"⇜","CodeMirror-merge-copy")),nt=E.mv.options.allowEditingOriginals;if(Ge.title=E.edit.phrase(nt?"Push to left":"Revert chunk"),Ge.chunk=H,Ge.style.top=(H.origTo>H.origFrom?ce:E.edit.heightAtLine(H.editFrom,"local")-W)+"px",Ge.setAttribute("role","button"),Ge.setAttribute("tabindex","0"),Ge.setAttribute("aria-label",Ge.title),nt){var Dt=E.edit.heightAtLine(H.editFrom,"local")-W,Je=E.copyButtons.appendChild(Oe("div",E.type=="right"?"⇝":"⇜","CodeMirror-merge-copy-reverse"));Je.title="Push to right",Je.chunk={editFrom:H.origFrom,editTo:H.origTo,origFrom:H.editFrom,origTo:H.editTo},Je.style.top=Dt+"px",E.type=="right"?Je.style.left="2px":Je.style.right="2px",Je.setAttribute("role","button"),Je.setAttribute("tabindex","0"),Je.setAttribute("aria-label",Je.title)}}}function q(E,H,K,W){if(!E.diffOutOfDate){var ne=W.origTo>K.lastLine()?r(W.origFrom-1):r(W.origFrom,0),te=r(W.origTo,0),ce=W.editTo>H.lastLine()?r(W.editFrom-1):r(W.editFrom,0),Se=r(W.editTo,0),Ee=E.mv.options.revertChunk;Ee?Ee(E.mv,K,ne,te,H,ce,Se):H.replaceRange(K.getRange(ne,te),ce,Se)}}var ue=t.MergeView=function(E,H){if(!(this instanceof ue))return new ue(E,H);this.options=H;var K=H.origLeft,W=H.origRight==null?H.orig:H.origRight,ne=K!=null,te=W!=null,ce=1+(ne?1:0)+(te?1:0),Se=[],Ee=this.left=null,He=this.right=null,Xe=this;if(ne){Ee=this.left=new o(this,"left");var it=Oe("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");Se.push(it),Se.push(T(Ee))}var lt=Oe("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(Se.push(lt),te){He=this.right=new o(this,"right"),Se.push(T(He));var At=Oe("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");Se.push(At)}(te?At:lt).className+=" CodeMirror-merge-pane-rightmost",Se.push(Oe("div",null,null,"height: 0; clear: both;"));var Ge=this.wrap=E.appendChild(Oe("div",Se,"CodeMirror-merge CodeMirror-merge-"+ce+"pane"));this.edit=t(lt,ge(H)),Ee&&Ee.init(it,K,H),He&&He.init(At,W,H),H.collapseIdentical&&this.editor().operation(function(){Ie(Xe,H.collapseIdentical)}),H.connect=="align"&&(this.aligners=[],B(this.left||this.right,!0)),Ee&&Ee.registerEvents(He),He&&He.registerEvents(Ee);var nt=function(){Ee&&k(Ee),He&&k(He)};t.on(window,"resize",nt);var Dt=setInterval(function(){for(var Je=Ge.parentNode;Je&&Je!=document.body;Je=Je.parentNode);Je||(clearInterval(Dt),t.off(window,"resize",nt))},5e3)};function T(E){var H=E.lockButton=Oe("div",null,"CodeMirror-merge-scrolllock");H.setAttribute("role","button"),H.setAttribute("tabindex","0");var K=Oe("div",[H],"CodeMirror-merge-scrolllock-wrap");t.on(H,"click",function(){m(E,!E.lockScroll)}),t.on(H,"keyup",function(ce){(ce.key==="Enter"||ce.code==="Space")&&m(E,!E.lockScroll)});var W=[K];if(E.mv.options.revertButtons!==!1){E.copyButtons=Oe("div",null,"CodeMirror-merge-copybuttons-"+E.type);var ne=function(ce){var Se=ce.target||ce.srcElement;if(Se.chunk){if(Se.className=="CodeMirror-merge-copy-reverse"){q(E,E.orig,E.edit,Se.chunk);return}q(E,E.edit,E.orig,Se.chunk)}};t.on(E.copyButtons,"click",ne),t.on(E.copyButtons,"keyup",function(ce){(ce.key==="Enter"||ce.code==="Space")&&ne(ce)}),W.unshift(E.copyButtons)}if(E.mv.options.connect!="align"){var te=document.createElementNS&&document.createElementNS(i,"svg");te&&!te.createSVGRect&&(te=null),E.svg=te,te&&W.push(te)}return E.gap=Oe("div",W,"CodeMirror-merge-gap")}ue.prototype={constructor:ue,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(E){this.right&&this.right.setShowDifferences(E),this.left&&this.left.setShowDifferences(E)},rightChunks:function(){if(this.right)return a(this.right),this.right.chunks},leftChunks:function(){if(this.left)return a(this.left),this.left.chunks}};function R(E){return typeof E=="string"?E:E.getValue()}var A;function se(E,H,K){A||(A=new diff_match_patch);for(var W=A.diff_main(E,H),ne=0;ne<W.length;++ne){var te=W[ne];(K?!/[^ \t]/.test(te[1]):!te[1])?W.splice(ne--,1):ne&&W[ne-1][0]==te[0]&&(W.splice(ne--,1),W[ne][1]+=te[1])}return W}function re(E){var H=[];if(!E.length)return H;for(var K=0,W=0,ne=r(0,0),te=r(0,0),ce=0;ce<E.length;++ce){var Se=E[ce],Ee=Se[0];if(Ee==DIFF_EQUAL){var He=!le(E,ce)||ne.line<K||te.line<W?1:0,Xe=ne.line+He,it=te.line+He;be(ne,Se[1],null,te);var lt=de(E,ce)?1:0,At=ne.line+lt,Ge=te.line+lt;At>Xe&&(ce&&H.push({origFrom:W,origTo:it,editFrom:K,editTo:Xe}),K=At,W=Ge)}else be(Ee==DIFF_INSERT?ne:te,Se[1])}return(K<=ne.line||W<=te.line)&&H.push({origFrom:W,origTo:te.line+1,editFrom:K,editTo:ne.line+1}),H}function de(E,H){if(H==E.length-1)return!0;var K=E[H+1][1];return K.length==1&&H<E.length-2||K.charCodeAt(0)!=10?!1:H==E.length-2?!0:(K=E[H+2][1],(K.length>1||H==E.length-3)&&K.charCodeAt(0)==10)}function le(E,H){if(H==0)return!0;var K=E[H-1][1];return K.charCodeAt(K.length-1)!=10?!1:H==1?!0:(K=E[H-2][1],K.charCodeAt(K.length-1)==10)}function Ae(E,H,K){for(var W,ne,te,ce,Se=0;Se<E.length;Se++){var Ee=E[Se],He=K?Ee.editFrom:Ee.origFrom,Xe=K?Ee.editTo:Ee.origTo;ne==null&&(He>H?(ne=Ee.editFrom,ce=Ee.origFrom):Xe>H&&(ne=Ee.editTo,ce=Ee.origTo)),Xe<=H?(W=Ee.editTo,te=Ee.origTo):He<=H&&(W=Ee.editFrom,te=Ee.origFrom)}return{edit:{before:W,after:ne},orig:{before:te,after:ce}}}function pe(E,H,K){E.addLineClass(H,"wrap","CodeMirror-merge-collapsed-line");var W=document.createElement("span");W.className="CodeMirror-merge-collapsed-widget",W.title=E.phrase("Identical text collapsed. Click to expand.");var ne=E.markText(r(H,0),r(K-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:W,clearOnEnter:!0});function te(){ne.clear(),E.removeLineClass(H,"wrap","CodeMirror-merge-collapsed-line")}return ne.explicitlyCleared&&te(),t.on(W,"click",te),ne.on("clear",te),t.on(W,"click",te),{mark:ne,clear:te}}function Ne(E,H){var K=[];function W(){for(var Se=0;Se<K.length;Se++)K[Se].clear()}for(var ne=0;ne<H.length;ne++){var te=H[ne],ce=pe(te.cm,te.line,te.line+E);K.push(ce),ce.mark.on("clear",W)}return K[0].mark}function Ve(E,H,K,W){for(var ne=0;ne<E.chunks.length;ne++)for(var te=E.chunks[ne],ce=te.editFrom-H;ce<te.editTo+H;ce++){var Se=ce+K;Se>=0&&Se<W.length&&(W[Se]=!1)}}function Ie(E,H){typeof H!="number"&&(H=2);for(var K=[],W=E.editor(),ne=W.firstLine(),te=ne,ce=W.lastLine();te<=ce;te++)K.push(!0);E.left&&Ve(E.left,H,ne,K),E.right&&Ve(E.right,H,ne,K);for(var Se=0;Se<K.length;Se++)if(K[Se]){for(var Ee=Se+ne,He=1;Se<K.length-1&&K[Se+1];Se++,He++);if(He>H){var Xe=[{line:Ee,cm:W}];E.left&&Xe.push({line:N(Ee,E.left.chunks),cm:E.left.orig}),E.right&&Xe.push({line:N(Ee,E.right.chunks),cm:E.right.orig});var it=Ne(He,Xe);E.options.onCollapse&&E.options.onCollapse(E,Ee,He,it)}}}function Oe(E,H,K,W){var ne=document.createElement(E);if(K&&(ne.className=K),W&&(ne.style.cssText=W),typeof H=="string")ne.appendChild(document.createTextNode(H));else if(H)for(var te=0;te<H.length;++te)ne.appendChild(H[te]);return ne}function $(E){for(var H=E.childNodes.length;H>0;--H)E.removeChild(E.firstChild)}function he(E){for(var H=1;H<arguments.length;H+=2)E.setAttribute(arguments[H],arguments[H+1])}function ge(E,H){H||(H={});for(var K in E)E.hasOwnProperty(K)&&(H[K]=E[K]);return H}function be(E,H,K,W){for(var ne=K?r(E.line,E.ch):E,te=0;;){var ce=H.indexOf(`
`,te);if(ce==-1)break;++ne.line,W&&++W.line,te=ce+1}return ne.ch=(te?0:ne.ch)+(H.length-te),W&&(W.ch=(te?0:W.ch)+(H.length-te)),ne}var Be=1,xe=2,Re=4;function st(E){this.cm=E,this.alignable=[],this.height=E.doc.height;var H=this;E.on("markerAdded",function(K,W){if(W.collapsed){var ne=W.find(1);ne!=null&&H.set(ne.line,Re)}}),E.on("markerCleared",function(K,W,ne,te){te!=null&&W.collapsed&&H.check(te,Re,H.hasMarker)}),E.on("markerChanged",this.signal.bind(this)),E.on("lineWidgetAdded",function(K,W,ne){W.mergeSpacer||(W.above?H.set(ne-1,xe):H.set(ne,Be))}),E.on("lineWidgetCleared",function(K,W,ne){W.mergeSpacer||(W.above?H.check(ne-1,xe,H.hasWidgetBelow):H.check(ne,Be,H.hasWidget))}),E.on("lineWidgetChanged",this.signal.bind(this)),E.on("change",function(K,W){var ne=W.from.line,te=W.to.line-W.from.line,ce=W.text.length-1,Se=ne+ce;(te||ce)&&H.map(ne,te,ce),H.check(Se,Re,H.hasMarker),(te||ce)&&H.check(W.from.line,Re,H.hasMarker)}),E.on("viewportChange",function(){H.cm.doc.height!=H.height&&H.signal()})}st.prototype={signal:function(){t.signal(this,"realign"),this.height=this.cm.doc.height},set:function(E,H){for(var K=-1;K<this.alignable.length;K+=2){var W=this.alignable[K]-E;if(W==0){if((this.alignable[K+1]&H)==H)return;this.alignable[K+1]|=H,this.signal();return}if(W>0)break}this.signal(),this.alignable.splice(K,0,E,H)},find:function(E){for(var H=0;H<this.alignable.length;H+=2)if(this.alignable[H]==E)return H;return-1},check:function(E,H,K){var W=this.find(E);if(!(W==-1||!(this.alignable[W+1]&H))&&!K.call(this,E)){this.signal();var ne=this.alignable[W+1]&~H;ne?this.alignable[W+1]=ne:this.alignable.splice(W,2)}},hasMarker:function(E){var H=this.cm.getLineHandle(E);if(H.markedSpans){for(var K=0;K<H.markedSpans.length;K++)if(H.markedSpans[K].marker.collapsed&&H.markedSpans[K].to!=null)return!0}return!1},hasWidget:function(E){var H=this.cm.getLineHandle(E);if(H.widgets){for(var K=0;K<H.widgets.length;K++)if(!H.widgets[K].above&&!H.widgets[K].mergeSpacer)return!0}return!1},hasWidgetBelow:function(E){if(E==this.cm.lastLine())return!1;var H=this.cm.getLineHandle(E+1);if(H.widgets){for(var K=0;K<H.widgets.length;K++)if(H.widgets[K].above&&!H.widgets[K].mergeSpacer)return!0}return!1},map:function(E,H,K){for(var W=K-H,ne=E+H,te=-1,ce=-1,Se=0;Se<this.alignable.length;Se+=2){var Ee=this.alignable[Se];Ee==E&&this.alignable[Se+1]&xe&&(te=Se),Ee==ne&&this.alignable[Se+1]&xe&&(ce=Se),!(Ee<=E)&&(Ee<ne?this.alignable.splice(Se--,2):this.alignable[Se]+=W)}if(te>-1){var He=this.alignable[te+1];He==xe?this.alignable.splice(te,2):this.alignable[te+1]=He&~xe}ce>-1&&K&&this.set(E+K,xe)}};function Lt(E,H){return(E.line-H.line||E.ch-H.ch)<0?E:H}function wt(E,H){return(E.line-H.line||E.ch-H.ch)>0?E:H}function Mt(E,H){return E.line==H.line&&E.ch==H.ch}function on(E,H,K){for(var W=E.length-1;W>=0;W--){var ne=E[W],te=(K?ne.origTo:ne.editTo)-1;if(te<H)return te}}function pn(E,H,K){for(var W=0;W<E.length;W++){var ne=E[W],te=K?ne.origFrom:ne.editFrom;if(te>H)return te}}function z(E,H){var K=null,W=E.state.diffViews,ne=E.getCursor().line;if(W)for(var te=0;te<W.length;te++){var ce=W[te],Se=E==ce.orig;a(ce);var Ee=H<0?on(ce.chunks,ne,Se):pn(ce.chunks,ne,Se);Ee!=null&&(K==null||(H<0?Ee>K:Ee<K))&&(K=Ee)}if(K!=null)E.setCursor(K,0);else return t.Pass}t.commands.goNextDiff=function(E){return z(E,1)},t.commands.goPrevDiff=function(E){return z(E,-1)}})}()),L5.exports}fq();var Tf={exports:{}},N5;function hq(){return N5||(N5=1,function(n){var e=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},t=-1,r=1,i=0;e.Diff=function(o,a){return[o,a]},e.prototype.diff_main=function(o,a,l,u){typeof u>"u"&&(this.Diff_Timeout<=0?u=Number.MAX_VALUE:u=new Date().getTime()+this.Diff_Timeout*1e3);var c=u;if(o==null||a==null)throw new Error("Null input. (diff_main)");if(o==a)return o?[new e.Diff(i,o)]:[];typeof l>"u"&&(l=!0);var f=l,v=this.diff_commonPrefix(o,a),m=o.substring(0,v);o=o.substring(v),a=a.substring(v),v=this.diff_commonSuffix(o,a);var y=o.substring(o.length-v);o=o.substring(0,o.length-v),a=a.substring(0,a.length-v);var _=this.diff_compute_(o,a,f,c);return m&&_.unshift(new e.Diff(i,m)),y&&_.push(new e.Diff(i,y)),this.diff_cleanupMerge(_),_},e.prototype.diff_compute_=function(o,a,l,u){var c;if(!o)return[new e.Diff(r,a)];if(!a)return[new e.Diff(t,o)];var f=o.length>a.length?o:a,v=o.length>a.length?a:o,m=f.indexOf(v);if(m!=-1)return c=[new e.Diff(r,f.substring(0,m)),new e.Diff(i,v),new e.Diff(r,f.substring(m+v.length))],o.length>a.length&&(c[0][0]=c[2][0]=t),c;if(v.length==1)return[new e.Diff(t,o),new e.Diff(r,a)];var y=this.diff_halfMatch_(o,a);if(y){var _=y[0],b=y[1],w=y[2],x=y[3],k=y[4],N=this.diff_main(_,w,l,u),D=this.diff_main(b,x,l,u);return N.concat([new e.Diff(i,k)],D)}return l&&o.length>100&&a.length>100?this.diff_lineMode_(o,a,u):this.diff_bisect_(o,a,u)},e.prototype.diff_lineMode_=function(o,a,l){var u=this.diff_linesToChars_(o,a);o=u.chars1,a=u.chars2;var c=u.lineArray,f=this.diff_main(o,a,!1,l);this.diff_charsToLines_(f,c),this.diff_cleanupSemantic(f),f.push(new e.Diff(i,""));for(var v=0,m=0,y=0,_="",b="";v<f.length;){switch(f[v][0]){case r:y++,b+=f[v][1];break;case t:m++,_+=f[v][1];break;case i:if(m>=1&&y>=1){f.splice(v-m-y,m+y),v=v-m-y;for(var w=this.diff_main(_,b,!1,l),x=w.length-1;x>=0;x--)f.splice(v,0,w[x]);v=v+w.length}y=0,m=0,_="",b="";break}v++}return f.pop(),f},e.prototype.diff_bisect_=function(o,a,l){for(var u=o.length,c=a.length,f=Math.ceil((u+c)/2),v=f,m=2*f,y=new Array(m),_=new Array(m),b=0;b<m;b++)y[b]=-1,_[b]=-1;y[v+1]=0,_[v+1]=0;for(var w=u-c,x=w%2!=0,k=0,N=0,D=0,V=0,U=0;U<f&&!(new Date().getTime()>l);U++){for(var B=-U+k;B<=U-N;B+=2){var G=v+B,Q;B==-U||B!=U&&y[G-1]<y[G+1]?Q=y[G+1]:Q=y[G-1]+1;for(var ae=Q-B;Q<u&&ae<c&&o.charAt(Q)==a.charAt(ae);)Q++,ae++;if(y[G]=Q,Q>u)N+=2;else if(ae>c)k+=2;else if(x){var q=v+w-B;if(q>=0&&q<m&&_[q]!=-1){var ue=u-_[q];if(Q>=ue)return this.diff_bisectSplit_(o,a,Q,ae,l)}}}for(var T=-U+D;T<=U-V;T+=2){var q=v+T,ue;T==-U||T!=U&&_[q-1]<_[q+1]?ue=_[q+1]:ue=_[q-1]+1;for(var R=ue-T;ue<u&&R<c&&o.charAt(u-ue-1)==a.charAt(c-R-1);)ue++,R++;if(_[q]=ue,ue>u)V+=2;else if(R>c)D+=2;else if(!x){var G=v+w-T;if(G>=0&&G<m&&y[G]!=-1){var Q=y[G],ae=v+Q-G;if(ue=u-ue,Q>=ue)return this.diff_bisectSplit_(o,a,Q,ae,l)}}}}return[new e.Diff(t,o),new e.Diff(r,a)]},e.prototype.diff_bisectSplit_=function(o,a,l,u,c){var f=o.substring(0,l),v=a.substring(0,u),m=o.substring(l),y=a.substring(u),_=this.diff_main(f,v,!1,c),b=this.diff_main(m,y,!1,c);return _.concat(b)},e.prototype.diff_linesToChars_=function(o,a){var l=[],u={};l[0]="";function c(y){for(var _="",b=0,w=-1,x=l.length;w<y.length-1;){w=y.indexOf(`
`,b),w==-1&&(w=y.length-1);var k=y.substring(b,w+1);(u.hasOwnProperty?u.hasOwnProperty(k):u[k]!==void 0)?_+=String.fromCharCode(u[k]):(x==f&&(k=y.substring(b),w=y.length),_+=String.fromCharCode(x),u[k]=x,l[x++]=k),b=w+1}return _}var f=4e4,v=c(o);f=65535;var m=c(a);return{chars1:v,chars2:m,lineArray:l}},e.prototype.diff_charsToLines_=function(o,a){for(var l=0;l<o.length;l++){for(var u=o[l][1],c=[],f=0;f<u.length;f++)c[f]=a[u.charCodeAt(f)];o[l][1]=c.join("")}},e.prototype.diff_commonPrefix=function(o,a){if(!o||!a||o.charAt(0)!=a.charAt(0))return 0;for(var l=0,u=Math.min(o.length,a.length),c=u,f=0;l<c;)o.substring(f,c)==a.substring(f,c)?(l=c,f=l):u=c,c=Math.floor((u-l)/2+l);return c},e.prototype.diff_commonSuffix=function(o,a){if(!o||!a||o.charAt(o.length-1)!=a.charAt(a.length-1))return 0;for(var l=0,u=Math.min(o.length,a.length),c=u,f=0;l<c;)o.substring(o.length-c,o.length-f)==a.substring(a.length-c,a.length-f)?(l=c,f=l):u=c,c=Math.floor((u-l)/2+l);return c},e.prototype.diff_commonOverlap_=function(o,a){var l=o.length,u=a.length;if(l==0||u==0)return 0;l>u?o=o.substring(l-u):l<u&&(a=a.substring(0,l));var c=Math.min(l,u);if(o==a)return c;for(var f=0,v=1;;){var m=o.substring(c-v),y=a.indexOf(m);if(y==-1)return f;v+=y,(y==0||o.substring(c-v)==a.substring(0,v))&&(f=v,v++)}},e.prototype.diff_halfMatch_=function(o,a){if(this.Diff_Timeout<=0)return null;var l=o.length>a.length?o:a,u=o.length>a.length?a:o;if(l.length<4||u.length*2<l.length)return null;var c=this;function f(N,D,V){for(var U=N.substring(V,V+Math.floor(N.length/4)),B=-1,G="",Q,ae,q,ue;(B=D.indexOf(U,B+1))!=-1;){var T=c.diff_commonPrefix(N.substring(V),D.substring(B)),R=c.diff_commonSuffix(N.substring(0,V),D.substring(0,B));G.length<R+T&&(G=D.substring(B-R,B)+D.substring(B,B+T),Q=N.substring(0,V-R),ae=N.substring(V+T),q=D.substring(0,B-R),ue=D.substring(B+T))}return G.length*2>=N.length?[Q,ae,q,ue,G]:null}var v=f(l,u,Math.ceil(l.length/4)),m=f(l,u,Math.ceil(l.length/2)),y;if(!v&&!m)return null;m?v?y=v[4].length>m[4].length?v:m:y=m:y=v;var _,b,w,x;o.length>a.length?(_=y[0],b=y[1],w=y[2],x=y[3]):(w=y[0],x=y[1],_=y[2],b=y[3]);var k=y[4];return[_,b,w,x,k]},e.prototype.diff_cleanupSemantic=function(o){for(var a=!1,l=[],u=0,c=null,f=0,v=0,m=0,y=0,_=0;f<o.length;)o[f][0]==i?(l[u++]=f,v=y,m=_,y=0,_=0,c=o[f][1]):(o[f][0]==r?y+=o[f][1].length:_+=o[f][1].length,c&&c.length<=Math.max(v,m)&&c.length<=Math.max(y,_)&&(o.splice(l[u-1],0,new e.Diff(t,c)),o[l[u-1]+1][0]=r,u--,u--,f=u>0?l[u-1]:-1,v=0,m=0,y=0,_=0,c=null,a=!0)),f++;for(a&&this.diff_cleanupMerge(o),this.diff_cleanupSemanticLossless(o),f=1;f<o.length;){if(o[f-1][0]==t&&o[f][0]==r){var b=o[f-1][1],w=o[f][1],x=this.diff_commonOverlap_(b,w),k=this.diff_commonOverlap_(w,b);x>=k?(x>=b.length/2||x>=w.length/2)&&(o.splice(f,0,new e.Diff(i,w.substring(0,x))),o[f-1][1]=b.substring(0,b.length-x),o[f+1][1]=w.substring(x),f++):(k>=b.length/2||k>=w.length/2)&&(o.splice(f,0,new e.Diff(i,b.substring(0,k))),o[f-1][0]=r,o[f-1][1]=w.substring(0,w.length-k),o[f+1][0]=t,o[f+1][1]=b.substring(k),f++),f++}f++}},e.prototype.diff_cleanupSemanticLossless=function(o){function a(k,N){if(!k||!N)return 6;var D=k.charAt(k.length-1),V=N.charAt(0),U=D.match(e.nonAlphaNumericRegex_),B=V.match(e.nonAlphaNumericRegex_),G=U&&D.match(e.whitespaceRegex_),Q=B&&V.match(e.whitespaceRegex_),ae=G&&D.match(e.linebreakRegex_),q=Q&&V.match(e.linebreakRegex_),ue=ae&&k.match(e.blanklineEndRegex_),T=q&&N.match(e.blanklineStartRegex_);return ue||T?5:ae||q?4:U&&!G&&Q?3:G||Q?2:U||B?1:0}for(var l=1;l<o.length-1;){if(o[l-1][0]==i&&o[l+1][0]==i){var u=o[l-1][1],c=o[l][1],f=o[l+1][1],v=this.diff_commonSuffix(u,c);if(v){var m=c.substring(c.length-v);u=u.substring(0,u.length-v),c=m+c.substring(0,c.length-v),f=m+f}for(var y=u,_=c,b=f,w=a(u,c)+a(c,f);c.charAt(0)===f.charAt(0);){u+=c.charAt(0),c=c.substring(1)+f.charAt(0),f=f.substring(1);var x=a(u,c)+a(c,f);x>=w&&(w=x,y=u,_=c,b=f)}o[l-1][1]!=y&&(y?o[l-1][1]=y:(o.splice(l-1,1),l--),o[l][1]=_,b?o[l+1][1]=b:(o.splice(l+1,1),l--))}l++}},e.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,e.whitespaceRegex_=/\s/,e.linebreakRegex_=/[\r\n]/,e.blanklineEndRegex_=/\n\r?\n$/,e.blanklineStartRegex_=/^\r?\n\r?\n/,e.prototype.diff_cleanupEfficiency=function(o){for(var a=!1,l=[],u=0,c=null,f=0,v=!1,m=!1,y=!1,_=!1;f<o.length;)o[f][0]==i?(o[f][1].length<this.Diff_EditCost&&(y||_)?(l[u++]=f,v=y,m=_,c=o[f][1]):(u=0,c=null),y=_=!1):(o[f][0]==t?_=!0:y=!0,c&&(v&&m&&y&&_||c.length<this.Diff_EditCost/2&&v+m+y+_==3)&&(o.splice(l[u-1],0,new e.Diff(t,c)),o[l[u-1]+1][0]=r,u--,c=null,v&&m?(y=_=!0,u=0):(u--,f=u>0?l[u-1]:-1,y=_=!1),a=!0)),f++;a&&this.diff_cleanupMerge(o)},e.prototype.diff_cleanupMerge=function(o){o.push(new e.Diff(i,""));for(var a=0,l=0,u=0,c="",f="",v;a<o.length;)switch(o[a][0]){case r:u++,f+=o[a][1],a++;break;case t:l++,c+=o[a][1],a++;break;case i:l+u>1?(l!==0&&u!==0&&(v=this.diff_commonPrefix(f,c),v!==0&&(a-l-u>0&&o[a-l-u-1][0]==i?o[a-l-u-1][1]+=f.substring(0,v):(o.splice(0,0,new e.Diff(i,f.substring(0,v))),a++),f=f.substring(v),c=c.substring(v)),v=this.diff_commonSuffix(f,c),v!==0&&(o[a][1]=f.substring(f.length-v)+o[a][1],f=f.substring(0,f.length-v),c=c.substring(0,c.length-v))),a-=l+u,o.splice(a,l+u),c.length&&(o.splice(a,0,new e.Diff(t,c)),a++),f.length&&(o.splice(a,0,new e.Diff(r,f)),a++),a++):a!==0&&o[a-1][0]==i?(o[a-1][1]+=o[a][1],o.splice(a,1)):a++,u=0,l=0,c="",f="";break}o[o.length-1][1]===""&&o.pop();var m=!1;for(a=1;a<o.length-1;)o[a-1][0]==i&&o[a+1][0]==i&&(o[a][1].substring(o[a][1].length-o[a-1][1].length)==o[a-1][1]?(o[a][1]=o[a-1][1]+o[a][1].substring(0,o[a][1].length-o[a-1][1].length),o[a+1][1]=o[a-1][1]+o[a+1][1],o.splice(a-1,1),m=!0):o[a][1].substring(0,o[a+1][1].length)==o[a+1][1]&&(o[a-1][1]+=o[a+1][1],o[a][1]=o[a][1].substring(o[a+1][1].length)+o[a+1][1],o.splice(a+1,1),m=!0)),a++;m&&this.diff_cleanupMerge(o)},e.prototype.diff_xIndex=function(o,a){var l=0,u=0,c=0,f=0,v;for(v=0;v<o.length&&(o[v][0]!==r&&(l+=o[v][1].length),o[v][0]!==t&&(u+=o[v][1].length),!(l>a));v++)c=l,f=u;return o.length!=v&&o[v][0]===t?f:f+(a-c)},e.prototype.diff_prettyHtml=function(o){for(var a=[],l=/&/g,u=/</g,c=/>/g,f=/\n/g,v=0;v<o.length;v++){var m=o[v][0],y=o[v][1],_=y.replace(l,"&amp;").replace(u,"&lt;").replace(c,"&gt;").replace(f,"&para;<br>");switch(m){case r:a[v]='<ins style="background:#e6ffe6;">'+_+"</ins>";break;case t:a[v]='<del style="background:#ffe6e6;">'+_+"</del>";break;case i:a[v]="<span>"+_+"</span>";break}}return a.join("")},e.prototype.diff_text1=function(o){for(var a=[],l=0;l<o.length;l++)o[l][0]!==r&&(a[l]=o[l][1]);return a.join("")},e.prototype.diff_text2=function(o){for(var a=[],l=0;l<o.length;l++)o[l][0]!==t&&(a[l]=o[l][1]);return a.join("")},e.prototype.diff_levenshtein=function(o){for(var a=0,l=0,u=0,c=0;c<o.length;c++){var f=o[c][0],v=o[c][1];switch(f){case r:l+=v.length;break;case t:u+=v.length;break;case i:a+=Math.max(l,u),l=0,u=0;break}}return a+=Math.max(l,u),a},e.prototype.diff_toDelta=function(o){for(var a=[],l=0;l<o.length;l++)switch(o[l][0]){case r:a[l]="+"+encodeURI(o[l][1]);break;case t:a[l]="-"+o[l][1].length;break;case i:a[l]="="+o[l][1].length;break}return a.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(o,a){for(var l=[],u=0,c=0,f=a.split(/\t/g),v=0;v<f.length;v++){var m=f[v].substring(1);switch(f[v].charAt(0)){case"+":try{l[u++]=new e.Diff(r,decodeURI(m))}catch{throw new Error("Illegal escape in diff_fromDelta: "+m)}break;case"-":case"=":var y=parseInt(m,10);if(isNaN(y)||y<0)throw new Error("Invalid number in diff_fromDelta: "+m);var _=o.substring(c,c+=y);f[v].charAt(0)=="="?l[u++]=new e.Diff(i,_):l[u++]=new e.Diff(t,_);break;default:if(f[v])throw new Error("Invalid diff operation in diff_fromDelta: "+f[v])}}if(c!=o.length)throw new Error("Delta length ("+c+") does not equal source text length ("+o.length+").");return l},e.prototype.match_main=function(o,a,l){if(o==null||a==null||l==null)throw new Error("Null input. (match_main)");return l=Math.max(0,Math.min(l,o.length)),o==a?0:o.length?o.substring(l,l+a.length)==a?l:this.match_bitap_(o,a,l):-1},e.prototype.match_bitap_=function(o,a,l){if(a.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var u=this.match_alphabet_(a),c=this;function f(Q,ae){var q=Q/a.length,ue=Math.abs(l-ae);return c.Match_Distance?q+ue/c.Match_Distance:ue?1:q}var v=this.Match_Threshold,m=o.indexOf(a,l);m!=-1&&(v=Math.min(f(0,m),v),m=o.lastIndexOf(a,l+a.length),m!=-1&&(v=Math.min(f(0,m),v)));var y=1<<a.length-1;m=-1;for(var _,b,w=a.length+o.length,x,k=0;k<a.length;k++){for(_=0,b=w;_<b;)f(k,l+b)<=v?_=b:w=b,b=Math.floor((w-_)/2+_);w=b;var N=Math.max(1,l-b+1),D=Math.min(l+b,o.length)+a.length,V=Array(D+2);V[D+1]=(1<<k)-1;for(var U=D;U>=N;U--){var B=u[o.charAt(U-1)];if(k===0?V[U]=(V[U+1]<<1|1)&B:V[U]=(V[U+1]<<1|1)&B|((x[U+1]|x[U])<<1|1)|x[U+1],V[U]&y){var G=f(k,U-1);if(G<=v)if(v=G,m=U-1,m>l)N=Math.max(1,2*l-m);else break}}if(f(k+1,l)>v)break;x=V}return m},e.prototype.match_alphabet_=function(o){for(var a={},l=0;l<o.length;l++)a[o.charAt(l)]=0;for(var l=0;l<o.length;l++)a[o.charAt(l)]|=1<<o.length-l-1;return a},e.prototype.patch_addContext_=function(o,a){if(a.length!=0){if(o.start2===null)throw Error("patch not initialized");for(var l=a.substring(o.start2,o.start2+o.length1),u=0;a.indexOf(l)!=a.lastIndexOf(l)&&l.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)u+=this.Patch_Margin,l=a.substring(o.start2-u,o.start2+o.length1+u);u+=this.Patch_Margin;var c=a.substring(o.start2-u,o.start2);c&&o.diffs.unshift(new e.Diff(i,c));var f=a.substring(o.start2+o.length1,o.start2+o.length1+u);f&&o.diffs.push(new e.Diff(i,f)),o.start1-=c.length,o.start2-=c.length,o.length1+=c.length+f.length,o.length2+=c.length+f.length}},e.prototype.patch_make=function(o,a,l){var u,c;if(typeof o=="string"&&typeof a=="string"&&typeof l>"u")u=o,c=this.diff_main(u,a,!0),c.length>2&&(this.diff_cleanupSemantic(c),this.diff_cleanupEfficiency(c));else if(o&&typeof o=="object"&&typeof a>"u"&&typeof l>"u")c=o,u=this.diff_text1(c);else if(typeof o=="string"&&a&&typeof a=="object"&&typeof l>"u")u=o,c=a;else if(typeof o=="string"&&typeof a=="string"&&l&&typeof l=="object")u=o,c=l;else throw new Error("Unknown call format to patch_make.");if(c.length===0)return[];for(var f=[],v=new e.patch_obj,m=0,y=0,_=0,b=u,w=u,x=0;x<c.length;x++){var k=c[x][0],N=c[x][1];switch(!m&&k!==i&&(v.start1=y,v.start2=_),k){case r:v.diffs[m++]=c[x],v.length2+=N.length,w=w.substring(0,_)+N+w.substring(_);break;case t:v.length1+=N.length,v.diffs[m++]=c[x],w=w.substring(0,_)+w.substring(_+N.length);break;case i:N.length<=2*this.Patch_Margin&&m&&c.length!=x+1?(v.diffs[m++]=c[x],v.length1+=N.length,v.length2+=N.length):N.length>=2*this.Patch_Margin&&m&&(this.patch_addContext_(v,b),f.push(v),v=new e.patch_obj,m=0,b=w,y=_);break}k!==r&&(y+=N.length),k!==t&&(_+=N.length)}return m&&(this.patch_addContext_(v,b),f.push(v)),f},e.prototype.patch_deepCopy=function(o){for(var a=[],l=0;l<o.length;l++){var u=o[l],c=new e.patch_obj;c.diffs=[];for(var f=0;f<u.diffs.length;f++)c.diffs[f]=new e.Diff(u.diffs[f][0],u.diffs[f][1]);c.start1=u.start1,c.start2=u.start2,c.length1=u.length1,c.length2=u.length2,a[l]=c}return a},e.prototype.patch_apply=function(o,a){if(o.length==0)return[a,[]];o=this.patch_deepCopy(o);var l=this.patch_addPadding(o);a=l+a+l,this.patch_splitMax(o);for(var u=0,c=[],f=0;f<o.length;f++){var v=o[f].start2+u,m=this.diff_text1(o[f].diffs),y,_=-1;if(m.length>this.Match_MaxBits?(y=this.match_main(a,m.substring(0,this.Match_MaxBits),v),y!=-1&&(_=this.match_main(a,m.substring(m.length-this.Match_MaxBits),v+m.length-this.Match_MaxBits),(_==-1||y>=_)&&(y=-1))):y=this.match_main(a,m,v),y==-1)c[f]=!1,u-=o[f].length2-o[f].length1;else{c[f]=!0,u=y-v;var b;if(_==-1?b=a.substring(y,y+m.length):b=a.substring(y,_+this.Match_MaxBits),m==b)a=a.substring(0,y)+this.diff_text2(o[f].diffs)+a.substring(y+m.length);else{var w=this.diff_main(m,b,!1);if(m.length>this.Match_MaxBits&&this.diff_levenshtein(w)/m.length>this.Patch_DeleteThreshold)c[f]=!1;else{this.diff_cleanupSemanticLossless(w);for(var x=0,k,N=0;N<o[f].diffs.length;N++){var D=o[f].diffs[N];D[0]!==i&&(k=this.diff_xIndex(w,x)),D[0]===r?a=a.substring(0,y+k)+D[1]+a.substring(y+k):D[0]===t&&(a=a.substring(0,y+k)+a.substring(y+this.diff_xIndex(w,x+D[1].length))),D[0]!==t&&(x+=D[1].length)}}}}}return a=a.substring(l.length,a.length-l.length),[a,c]},e.prototype.patch_addPadding=function(o){for(var a=this.Patch_Margin,l="",u=1;u<=a;u++)l+=String.fromCharCode(u);for(var u=0;u<o.length;u++)o[u].start1+=a,o[u].start2+=a;var c=o[0],f=c.diffs;if(f.length==0||f[0][0]!=i)f.unshift(new e.Diff(i,l)),c.start1-=a,c.start2-=a,c.length1+=a,c.length2+=a;else if(a>f[0][1].length){var v=a-f[0][1].length;f[0][1]=l.substring(f[0][1].length)+f[0][1],c.start1-=v,c.start2-=v,c.length1+=v,c.length2+=v}if(c=o[o.length-1],f=c.diffs,f.length==0||f[f.length-1][0]!=i)f.push(new e.Diff(i,l)),c.length1+=a,c.length2+=a;else if(a>f[f.length-1][1].length){var v=a-f[f.length-1][1].length;f[f.length-1][1]+=l.substring(0,v),c.length1+=v,c.length2+=v}return l},e.prototype.patch_splitMax=function(o){for(var a=this.Match_MaxBits,l=0;l<o.length;l++)if(!(o[l].length1<=a)){var u=o[l];o.splice(l--,1);for(var c=u.start1,f=u.start2,v="";u.diffs.length!==0;){var m=new e.patch_obj,y=!0;for(m.start1=c-v.length,m.start2=f-v.length,v!==""&&(m.length1=m.length2=v.length,m.diffs.push(new e.Diff(i,v)));u.diffs.length!==0&&m.length1<a-this.Patch_Margin;){var _=u.diffs[0][0],b=u.diffs[0][1];_===r?(m.length2+=b.length,f+=b.length,m.diffs.push(u.diffs.shift()),y=!1):_===t&&m.diffs.length==1&&m.diffs[0][0]==i&&b.length>2*a?(m.length1+=b.length,c+=b.length,y=!1,m.diffs.push(new e.Diff(_,b)),u.diffs.shift()):(b=b.substring(0,a-m.length1-this.Patch_Margin),m.length1+=b.length,c+=b.length,_===i?(m.length2+=b.length,f+=b.length):y=!1,m.diffs.push(new e.Diff(_,b)),b==u.diffs[0][1]?u.diffs.shift():u.diffs[0][1]=u.diffs[0][1].substring(b.length))}v=this.diff_text2(m.diffs),v=v.substring(v.length-this.Patch_Margin);var w=this.diff_text1(u.diffs).substring(0,this.Patch_Margin);w!==""&&(m.length1+=w.length,m.length2+=w.length,m.diffs.length!==0&&m.diffs[m.diffs.length-1][0]===i?m.diffs[m.diffs.length-1][1]+=w:m.diffs.push(new e.Diff(i,w))),y||o.splice(++l,0,m)}}},e.prototype.patch_toText=function(o){for(var a=[],l=0;l<o.length;l++)a[l]=o[l];return a.join("")},e.prototype.patch_fromText=function(o){var a=[];if(!o)return a;for(var l=o.split(`
`),u=0,c=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;u<l.length;){var f=l[u].match(c);if(!f)throw new Error("Invalid patch string: "+l[u]);var v=new e.patch_obj;for(a.push(v),v.start1=parseInt(f[1],10),f[2]===""?(v.start1--,v.length1=1):f[2]=="0"?v.length1=0:(v.start1--,v.length1=parseInt(f[2],10)),v.start2=parseInt(f[3],10),f[4]===""?(v.start2--,v.length2=1):f[4]=="0"?v.length2=0:(v.start2--,v.length2=parseInt(f[4],10)),u++;u<l.length;){var m=l[u].charAt(0);try{var y=decodeURI(l[u].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+y)}if(m=="-")v.diffs.push(new e.Diff(t,y));else if(m=="+")v.diffs.push(new e.Diff(r,y));else if(m==" ")v.diffs.push(new e.Diff(i,y));else{if(m=="@")break;if(m!=="")throw new Error('Invalid patch mode "'+m+'" in: '+y)}u++}}return a},e.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},e.patch_obj.prototype.toString=function(){var o,a;this.length1===0?o=this.start1+",0":this.length1==1?o=this.start1+1:o=this.start1+1+","+this.length1,this.length2===0?a=this.start2+",0":this.length2==1?a=this.start2+1:a=this.start2+1+","+this.length2;for(var l=["@@ -"+o+" +"+a+` @@
`],u,c=0;c<this.diffs.length;c++){switch(this.diffs[c][0]){case r:u="+";break;case t:u="-";break;case i:u=" ";break}l[c+1]=u+encodeURI(this.diffs[c][1])+`
`}return l.join("").replace(/%20/g," ")},n.exports=e,n.exports.diff_match_patch=e,n.exports.DIFF_DELETE=t,n.exports.DIFF_INSERT=r,n.exports.DIFF_EQUAL=i}(Tf)),Tf.exports}var pq=hq();const vq=fl(pq);var D5={exports:{}},P5;function gq(){return P5||(P5=1,function(n,e){(function(t){t(ws())})(function(t){t.defineSimpleMode=function(m,y){t.defineMode(m,function(_){return t.simpleMode(_,y)})},t.simpleMode=function(m,y){r(y,"start");var _={},b=y.meta||{},w=!1;for(var x in y)if(x!=b&&y.hasOwnProperty(x))for(var k=_[x]=[],N=y[x],D=0;D<N.length;D++){var V=N[D];k.push(new a(V,y)),(V.indent||V.dedent)&&(w=!0)}var U={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:w?[]:null}},copyState:function(G){var Q={state:G.state,pending:G.pending,local:G.local,localState:null,indent:G.indent&&G.indent.slice(0)};G.localState&&(Q.localState=t.copyState(G.local.mode,G.localState)),G.stack&&(Q.stack=G.stack.slice(0));for(var ae=G.persistentStates;ae;ae=ae.next)Q.persistentStates={mode:ae.mode,spec:ae.spec,state:ae.state==G.localState?Q.localState:t.copyState(ae.mode,ae.state),next:Q.persistentStates};return Q},token:l(_,m),innerMode:function(G){return G.local&&{mode:G.local.mode,state:G.localState}},indent:v(_,b)};if(b)for(var B in b)b.hasOwnProperty(B)&&(U[B]=b[B]);return U};function r(m,y){if(!m.hasOwnProperty(y))throw new Error("Undefined state "+y+" in simple mode")}function i(m,y){if(!m)return/(?:)/;var _="";return m instanceof RegExp?(m.ignoreCase&&(_="i"),m.unicode&&(_+="u"),m=m.source):m=String(m),new RegExp((y===!1?"":"^")+"(?:"+m+")",_)}function o(m){if(!m)return null;if(m.apply)return m;if(typeof m=="string")return m.replace(/\./g," ");for(var y=[],_=0;_<m.length;_++)y.push(m[_]&&m[_].replace(/\./g," "));return y}function a(m,y){(m.next||m.push)&&r(y,m.next||m.push),this.regex=i(m.regex),this.token=o(m.token),this.data=m}function l(m,y){return function(_,b){if(b.pending){var w=b.pending.shift();return b.pending.length==0&&(b.pending=null),_.pos+=w.text.length,w.token}if(b.local)if(b.local.end&&_.match(b.local.end)){var x=b.local.endToken||null;return b.local=b.localState=null,x}else{var x=b.local.mode.token(_,b.localState),k;return b.local.endScan&&(k=b.local.endScan.exec(_.current()))&&(_.pos=_.start+k.index),x}for(var N=m[b.state],D=0;D<N.length;D++){var V=N[D],U=(!V.data.sol||_.sol())&&_.match(V.regex);if(U){V.data.next?b.state=V.data.next:V.data.push?((b.stack||(b.stack=[])).push(b.state),b.state=V.data.push):V.data.pop&&b.stack&&b.stack.length&&(b.state=b.stack.pop()),V.data.mode&&c(y,b,V.data.mode,V.token),V.data.indent&&b.indent.push(_.indentation()+y.indentUnit),V.data.dedent&&b.indent.pop();var B=V.token;if(B&&B.apply&&(B=B(U)),U.length>2&&V.token&&typeof V.token!="string"){for(var G=2;G<U.length;G++)U[G]&&(b.pending||(b.pending=[])).push({text:U[G],token:V.token[G-1]});return _.backUp(U[0].length-(U[1]?U[1].length:0)),B[0]}else return B&&B.join?B[0]:B}}return _.next(),null}}function u(m,y){if(m===y)return!0;if(!m||typeof m!="object"||!y||typeof y!="object")return!1;var _=0;for(var b in m)if(m.hasOwnProperty(b)){if(!y.hasOwnProperty(b)||!u(m[b],y[b]))return!1;_++}for(var b in y)y.hasOwnProperty(b)&&_--;return _==0}function c(m,y,_,b){var w;if(_.persistent)for(var x=y.persistentStates;x&&!w;x=x.next)(_.spec?u(_.spec,x.spec):_.mode==x.mode)&&(w=x);var k=w?w.mode:_.mode||t.getMode(m,_.spec),N=w?w.state:t.startState(k);_.persistent&&!w&&(y.persistentStates={mode:k,spec:_.spec,state:N,next:y.persistentStates}),y.localState=N,y.local={mode:k,end:_.end&&i(_.end),endScan:_.end&&_.forceEnd!==!1&&i(_.end,!1),endToken:b&&b.join?b[b.length-1]:b}}function f(m,y){for(var _=0;_<y.length;_++)if(y[_]===m)return!0}function v(m,y){return function(_,b,w){if(_.local&&_.local.mode.indent)return _.local.mode.indent(_.localState,b,w);if(_.indent==null||_.local||y.dontIndentStates&&f(_.state,y.dontIndentStates)>-1)return t.Pass;var x=_.indent.length-1,k=m[_.state];e:for(;;){for(var N=0;N<k.length;N++){var D=k[N];if(D.data.dedent&&D.data.dedentIfLineStart!==!1){var V=D.regex.exec(b);if(V&&V[0]){x--,(D.next||D.push)&&(k=m[D.next||D.push]),b=b.slice(V[0].length);continue e}}}break}return x<0?0:_.indent[x]}}})}()),D5.exports}gq();!window.CodeMirror&&(window.CodeMirror=K_);const d2=window.CodeMirror||K_,mq=Oi({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:n=>n,"update:cminstance":n=>n},setup(n,{emit:e}){const t=Fe(),r=Fe(null),i=()=>{r.value=wd(d2.fromTextArea(t.value,n.options)),e("update:cminstance",r.value);const o=bn(()=>n.cminstance,a=>{var l;a&&((l=n.cminstance)==null||l.setValue(n.value||n.content)),e("ready",Ue(r)),o==null||o()},{deep:!0})};return or(()=>{i()}),{textarea:t,initialize:i}}}),Sg=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},yq=["name","placeholder"];function _q(n,e,t,r,i,o){return oe(),we("textarea",{ref:"textarea",name:n.$props.name,placeholder:n.$props.placeholder},null,8,yq)}const R5=Sg(mq,[["render",_q]]);window.diff_match_patch=vq;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const bq=Oi({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(n,{emit:e}){const t=Fe(),r=Fe(),i=()=>{t.value=wd(d2.MergeView(r.value,n.options)),e("update:cminstance",t.value),e("ready",t)};return or(()=>{i()}),{mergeView:r,initialize:i}}}),Cq={ref:"mergeView"};function wq(n,e,t,r,i,o){return oe(),we("div",Cq,null,512)}const xq=Sg(bq,[["render",wq]]);function kq(n){const e=/#link#(.+)#link#/g,t=[];let r;for(r=e.exec(n);r;){const i=document.createElement("a"),o=JSON.parse(r[1]),a=Object.entries(o);for(const[l,u]of a)i.setAttribute(l,u);i.className="editor_custom_link",i.innerHTML="logDownload",t.push({start:r.index,end:r.index+r[0].length,node:i}),r=e.exec(n)}return t}function Sq(n){const e=[];function t(){const r=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let i;for(i=r.exec(n);i;){const o=i[0].replace(/\r\n/g,`
`).split(`
`),a=i[2].replace(/\r\n/g,`
`).split(`
`),l=document.createElement("span"),u=i[1];l.className=`c-editor--log__${u}`;let c=0;for(let f=0;f<o.length;f++){const v=o[f],m=a[f],y=l.cloneNode(!1);y.innerText=m,e.push({start:i.index+c,end:i.index+c+v.length,node:y}),c=c+v.length+1}i=r.exec(n)}}return t(),e}const fu=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];d2.defineSimpleMode("fclog",{start:[...fu,{regex:/.*/,token:"hr"}],error:[...fu,{regex:/.*/,token:"error.strong"}],info:[...fu,{regex:/.*/,token:"bracket"}],warning:[...fu,{regex:/.*\[/,token:"comment"}]});d2.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const Eq=Oi({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(n,{emit:e}){const t=Fe(),r=Fe(null),i=(a=n.cminstance)=>{a.getAllMarks().forEach(c=>c.clear());const l=a.getValue(),u=[].concat(kq(l)).concat(Sq(l));for(let c=0;c<u.length;c++){const f=u[c];a.markText(a.posFromIndex(f.start),a.posFromIndex(f.end),{replacedWith:f.node})}},o=()=>{var a;r.value=wd(d2.fromTextArea(t.value,n.options)),e("update:cminstance",Ue(r)),(a=r.value)==null||a.on("change",i)};return bn(()=>n.cminstance,a=>{var l;a&&(i(n.cminstance),(l=n.cminstance)==null||l.setValue(n.value),e("ready",r))},{deep:!0,immediate:!0}),or(()=>{o()}),{initialize:o,textarea:t}}}),Mq=["name","placeholder"];function Oq(n,e,t,r,i,o){return oe(),we("textarea",{ref:"textarea",name:n.$props.name,placeholder:n.$props.placeholder},null,8,Mq)}const Aq=Sg(Eq,[["render",Oq]]),J_={"update:value":()=>!0,change:(n,e)=>({value:n,cm:e}),input:()=>!0,ready:n=>n},Lq=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],Tq=()=>{const n={};return Lq.forEach(e=>{n[e]=(...t)=>t}),n},Nq={...J_,...Tq()},Nf={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2,styleActiveLine:!0};function Dq(n){Promise.resolve().then(()=>{const e=n.getScrollInfo();n.scrollTo(e.left,e.height)})}const Pq=({props:n,cminstance:e,emit:t,internalInstance:r,content:i})=>{const o=nn(()=>{var l;return n.merge?(l=Ue(e))==null?void 0:l.editor():Ue(e)}),a=()=>{const l=[];return Object.keys(r==null?void 0:r.vnode.props).forEach(u=>{if(u.startsWith("on")){const c=u.replace(u[2],u[2].toLowerCase()).slice(2);!J_[c]&&l.push(c)}}),l};return{listenerEvents:()=>{o.value.on("change",u=>{const c=u.getValue();c===i.value&&c!==""||(i.value=c,t("update:value",i.value||""),t("input",i.value||" "),Promise.resolve().then(()=>{t("change",i.value,u)}),n.keepCursorInEnd&&Dq(u))});const l={};a().filter(u=>!l[u]&&(l[u]=!0)).forEach(u=>{o.value.on(u,(...c)=>{t(u,...c)})})}}};function Rq({props:n,cminstance:e,presetRef:t}){const r=Fe("100%"),i=Fe("100%"),o=nn(()=>{var m;return n.merge?(m=Ue(e))==null?void 0:m.editor():Ue(e)}),a=()=>{wi(()=>{var m;(m=o.value)==null||m.refresh()})},l=m=>m?!(m&&isNaN(+m)):!1,u=(m=n.width,y=n.height)=>{var _;let b="100%",w="100%";l(m)?b=`${String(m)}px`:m&&(b=m),l(y)?w=`${String(y)}px`:y&&(w=y),r.value=b,i.value=w,(_=o.value)==null||_.setSize("100%","100%")},c=()=>{var m;const y=(m=o.value)==null?void 0:m.getWrapperElement();y==null||y.remove()},f=()=>{var m,y,_;const b=(m=o.value)==null?void 0:m.getDoc().getHistory();(y=t.value)==null||y.initialize(),c(),(_=o.value)==null||_.getDoc().setHistory(b)},v=()=>{const m=document.querySelector(".CodeMirror-gutters");return(m==null?void 0:m.style.left.replace("px",""))!=="0"};return{reload:f,refresh:a,resize:u,destroy:c,containerWidth:r,containerHeight:i,reviseStyle:()=>{if(a(),!v())return;const m=setInterval(()=>{v()?a():clearInterval(m)},60),y=setTimeout(()=>{clearInterval(m),clearTimeout(y)},400)}}}const Hq=Oi({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:()=>Nf},globalOptions:{type:Object,default:()=>Nf},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},originalStyle:{type:Boolean,default:!1},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:Nq,setup(n,{expose:e,emit:t}){var r,i,o;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value(q){if(q==null)throw new TypeError("Cannot convert undefined or null to object");const ue=Object(q);for(let T=1;T<arguments.length;T++){const R=arguments[T];if(R!=null)for(const A in R)Object.prototype.hasOwnProperty.call(R,A)&&(ue[A]=R[A])}return ue},writable:!0,configurable:!0});const a=n,l=t,u=Fe(null),c=Fe(""),f=Ga(R5),v=Fe({foldGutter:!0,...Nf,...a.globalOptions,...a.options,gutters:[...new Set(["CodeMirror-linenumbers","CodeMirror-foldgutter",...((r=a.options)==null?void 0:r.gutters)||[]])]}),m=Ow(),y=a.name||((o=(i=m==null?void 0:m.parent)==null?void 0:i.type)==null?void 0:o.name)||void 0,_=Fe(null),b=nn(()=>{var q;return a.merge?(q=Ue(u))==null?void 0:q.editor():Ue(u)}),{refresh:w,resize:x,destroy:k,containerHeight:N,containerWidth:D,reviseStyle:V}=Rq({props:a,cminstance:u,presetRef:_}),{listenerEvents:U}=Pq({props:a,cminstance:u,emit:l,internalInstance:m,content:c}),B=()=>{a.unseenLines!==void 0&&a.marker!==void 0&&a.unseenLines.forEach(q=>{var ue,T;const R=(ue=u.value)==null?void 0:ue.lineInfo(q);(T=u.value)==null||T.setGutterMarker(q,"breakpoints",R!=null&&R.gutterMarkers?null:a.marker())})},G=q=>{var ue,T;const R=(ue=u.value)==null?void 0:ue.getValue();q!==R&&((T=u.value)==null||T.setValue(q),c.value=q,V()),B()},Q=()=>{U(),B(),x(a.width,a.height),l("ready",u.value),bn([()=>a.width,()=>a.height],([q,ue])=>{x(q,ue)},{deep:!0})},ae=()=>{if(a.options.mode==="fclog"||a.options.mode==="log"){f.value=Aq;return}if(a.merge){f.value=xq;return}f.value=R5};return bn(()=>a.options,q=>{var ue;for(const T in a.options)(ue=b.value)==null||ue.setOption(T,Ue(q[T]))},{deep:!0}),bn(()=>a.value,q=>{G(q)}),bn(()=>a.merge,ae,{immediate:!0}),vs(()=>{k()}),e({cminstance:u,resize:x,refresh:w,destroy:k}),(q,ue)=>(oe(),we("div",{class:Lr(["codemirror-container",{merge:q.$props.merge,bordered:q.$props.border||q.$props.merge&&!a.originalStyle,"original-style":a.originalStyle}]),style:yo({height:Ue(N),width:Ue(D)})},[(oe(),Qe(Lw(f.value),Aw({ref_key:"presetRef",ref:_,cminstance:u.value,"onUpdate:cminstance":ue[0]||(ue[0]=T=>u.value=T),style:{height:"100%"}},{...q.$props,...q.$attrs,options:v.value,name:Ue(y),content:c.value},{onReady:Q}),null,16,["cminstance"]))],6))}});function Iq(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}Iq(`.codemirror-container {
  position: relative;
  display: inline-block;
  height: 100%;
  width: fit-content;
  font-size: 13px;
  overflow: hidden;
}
.codemirror-container.bordered {
  border: 1px solid #aaaaaa;
}

.codemirror-container .editor_custom_link {
  cursor: pointer;
  color: #1474f1;
  text-decoration: underline;
}
.codemirror-container .editor_custom_link:hover {
  color: #04b4fa;
}
.codemirror-container:not(.original-style) .CodeMirror-lines .CodeMirror-placeholder.CodeMirror-line-like {
  color: #666;
}
.codemirror-container:not(.original-style) .CodeMirror,
.codemirror-container:not(.original-style) .CodeMirror-merge-pane {
  height: 100%;
  font-family: consolas !important;
}
.codemirror-container:not(.original-style) .CodeMirror-merge,
.codemirror-container:not(.original-style) .CodeMirror-merge-right .CodeMirror {
  height: 100%;
  border: none !important;
}
.codemirror-container:not(.original-style) .c-editor--log__error {
  color: #bb0606;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__info {
  color: #333333;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__warning {
  color: #ee9900;
}
.codemirror-container:not(.original-style) .c-editor--log__success {
  color: #669600;
}
.codemirror-container:not(.original-style) .cm-header,
.codemirror-container:not(.original-style) .cm-strong {
  font-weight: bold;
}
`);const H5={__name:"code-edit-box",props:{value:{type:String,default:""},width:{type:Number,default:512},height:{type:Number,default:150}},emits:["update:value","change"],setup(n,{expose:e,emit:t}){const r=t,i=Fe(""),o=n;bn(()=>o.value,m=>{i.value=m},{immediate:!0});const a={mode:"text/javascript",theme:"dracula"},l=Fe(null),u=m=>{r("update:value",m)},c=()=>{l.value.refresh()},f=()=>{},v=()=>{};return e({handleRefresh:c}),(m,y)=>(oe(),we("div",null,[j(Ue(Hq),{onWheel:y[0]||(y[0]=Qt(()=>{},["stop"])),originalStyle:"",class:"cm-component",value:i.value,"onUpdate:value":y[1]||(y[1]=_=>i.value=_),options:a,ref_key:"cmRef",ref:l,height:n.height,width:n.width,onChange:u,onInput:v,onReady:f},null,8,["value","height","width"])]))}},Bq={class:"form-block"},jq={class:"gray-block"},Fq={class:"flex-block-item"},Vq=["onClick"],$q={class:"title-block"},Wq={class:"code-box"},zq={class:"flex-block-item"},Uq={class:"gray-block mt16"},Gq={class:"output-box"},Xq={class:"flex-block-item",style:{gap:"12px"}},Zq=["onClick"],Yq=["onClick"],qq={key:0,class:"sub-field-box"},Kq={style:{margin:"40px 0 24px 0"}},I5=`function main({data1, data2}){
	return {
		data1,
    	data2
	}
}`,Jq={__name:"form-block",props:{properties:{type:Object,default:()=>({})}},emits:["setData"],setup(n,{expose:e,emit:t}){const r=Cn("getGraph"),i=Cn("getNode"),o=n,a=t,l=Pn({}),u=()=>{},c=Fe(),f=Pn({main_func:"",params:[{field:"",variable:""}],timeout:30,output:[{key:"",typ:"",subs:[]}],exception:""}),v=()=>{f.main_func=I5};function m(Ae){return Ae.forEach(pe=>{pe.cu_key=Math.random()*1e4,pe.subs&&pe.subs.length?m(pe.subs):pe.subs=[]}),Ae}let y=!1,_=["special.lib_paragraph_list","special.llm_reply_content","specify-reply-node"];const b=Fe([]);bn(()=>o.properties,Ae=>{try{if(y)return;u();let pe=Ae.dataRaw||Ae.node_params||"{}",Ne=JSON.parse(pe).code_run||{};Ne=JSON.parse(JSON.stringify(Ne));for(let Ve in Ne){if(Ve=="params"){Ne[Ve]&&Ne[Ve].length>0?f[Ve]=Ne[Ve].map(Ie=>({...Ie,cu_key:Math.random()*1e4})):f[Ve]=[];continue}if(Ve=="output"){f.output=m(Ne[Ve]);continue}f[Ve]=Ne[Ve]}f.main_func=f.main_func||I5,f.params=f.params.map(Ve=>{let Ie="";for(let Oe=0;Oe<_.length;Oe++)if(Ve.variable.indexOf(_[Oe])>-1){Ie=_[Oe];break}if(Ie!=""){let Oe=Ve.variable.split(".");Ve.variable=[Oe[0],Ie]}else Ve.variable=Ve.variable.split(".");return{...Ve,key:Math.random()*1e4}}),y=!0,setTimeout(()=>{a("setData",{...f,node_params:JSON.stringify({code_run:{...f,params:w()}}),height:k()})},100)}catch(pe){}},{immediate:!0,deep:!0}),bn(()=>f,Ae=>{a("setData",{...f,node_params:JSON.stringify({code_run:{...f,params:w()}}),height:k()})},{deep:!0});function w(){let Ae=[];return f.params.forEach(pe=>{Ae.push({field:pe.field,variable:pe.variable&&pe.variable.length>0?pe.variable.join("."):""})}),Ae}const x=()=>{};function k(){let Ae=0,pe=N(f.output);return Ae+180+(pe-1)*36}function N(Ae){let pe=Ae.length;for(const Ne of Ae)Ne.subs&&Array.isArray(Ne.subs)&&(pe+=N(Ne.subs));return pe}const D=()=>{f.params.push({key:"",value:"",cu_key:Math.random()*1e4})},V=Ae=>{f.params.splice(Ae,1)},U=()=>{f.output.push({key:"",typ:"string",subs:[],cu_key:Math.random()*1e4})},B=Ae=>{f.output.splice(Ae,1)},G=Ae=>{Ae.subs=[]},Q=Ae=>{f.output[Ae].subs.push({key:"",value:"",subs:[],cu_key:Math.random()*1e4})},ae=(Ae,pe)=>Promise.resolve(),q=[{lable:"string",value:"string"},{lable:"number",value:"number"},{lable:"boole",value:"boole"},{lable:"float",value:"float"},{lable:"object",value:"object"},{lable:"array<string>",value:"array<string>"},{lable:"array<number>",value:"array<number>"},{lable:"array<boole>",value:"array<boole>"},{lable:"array<float>",value:"array<float>"},{lable:"array<object>",value:"array<object>"}],ue=Ae=>{fa.includes(Ae.node_type)&&wi(()=>{f.body_raw_tags&&f.body_raw_tags.length>0&&f.body_raw_tags.forEach(Ne=>{if(Ne.node_id==Ae.node_id){let Ve=Ne.label.split("/");Ve[0]=Ae.node_name,Ne.label=Ve.join("/"),Ne.node_name=Ae.node_name}}),["headers","params","body"].forEach(Ne=>{f[Ne].forEach(Ie=>{Ie.tags&&Ie.tags.length>0&&Ie.tags.forEach(Oe=>{if(Oe.node_id==Ae.node_id){let $=Oe.label.split("/");$[0]=Ae.node_name,Oe.label=$.join("/"),Oe.node_name=Ae.node_name}})})}),Object.keys(gs(l)).forEach(Ne=>{l[Ne]&&l[Ne].$refs.JMention&&l[Ne].refresh()})})},T=Fe(!1),R=Fe(null),A=()=>{T.value=!0,R.value&&R.value.handleRefresh()};function se(){let Ae=i().getAllParentVariable();b.value=re(Ae)}function re(Ae){return Ae.forEach(pe=>{pe.typ=="node"?pe.node_type==1?pe.value="global":pe.value=pe.node_id:pe.value=pe.key,pe.children&&pe.children.length>0&&(pe.children=re(pe.children))}),Ae}const de=Ae=>{Ae||se()},le=()=>{T.value=!1};return or(()=>{const Ae=r();se(),Ae.eventCenter.on("custom:setNodeName",ue)}),vs(()=>{r().eventCenter.off("custom:setNodeName",ue)}),e({}),(Ae,pe)=>{const Ne=Vr,Ve=da,Ie=pl,Oe=Co,$=cr,he=hl,ge=wo,be=ei,Be=Qr,xe=to,Re=Mi;return oe(),we("div",Bq,[j(xe,{ref_key:"formRef",ref:c,layout:"vertical",model:f},{default:J(()=>[L("div",jq,[pe[12]||(pe[12]=L("div",{class:"gray-block-title"},"输入",-1)),L("div",{class:"array-form-box",onMousedown:pe[2]||(pe[2]=Qt(()=>{},["stop"]))},[pe[10]||(pe[10]=L("div",{class:"form-item-label"},"自定义输入参数",-1)),(oe(!0),we(Et,null,Rt(f.params,(st,Lt)=>(oe(),we("div",{class:"form-item-list",key:Lt},[j(Oe,{label:null,name:["params",Lt,"variable"],rules:{required:!0,validator:(wt,Mt)=>ae(wt,Mt)}},{default:J(()=>[L("div",Fq,[j(Ve,null,{default:J(()=>[j(Ne,{style:{width:"160px"},value:st.field,"onUpdate:value":wt=>st.field=wt,placeholder:"请输入参数KEY"},null,8,["value","onUpdate:value"])]),_:2},1024),j(Ie,{value:st.variable,"onUpdate:value":wt=>st.variable=wt,onDropdownVisibleChange:de,style:{width:"300px"},options:b.value,allowClear:!1,displayRender:({labels:wt})=>wt.join("/"),"field-names":{children:"children"},placeholder:"请选择"},null,8,["value","onUpdate:value","options","displayRender"]),L("div",{class:"btn-hover-wrap",onClick:wt=>V(Lt),onMousedown:pe[0]||(pe[0]=Qt(()=>{},["stop"])),onWheel:pe[1]||(pe[1]=Qt(()=>{},["stop"]))},[j(Ue(Or))],40,Vq)])]),_:2},1032,["name","rules"])]))),128)),j($,{onClick:D,icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>pe[9]||(pe[9]=[ze("添加参数")])),_:1,__:[9]},8,["icon"])],32),L("div",{class:"code-edit-box",onMousedown:pe[4]||(pe[4]=Qt(()=>{},["stop"]))},[L("div",$q,[pe[11]||(pe[11]=L("div",null,"JavaScript 代码",-1)),j(he,{gap:16,align:"center"},{default:J(()=>[L("a",{onClick:v},"还原为模板"),L("div",{class:"btn-hover-wrap",onClick:A},[j(Ue(n2))])]),_:1})]),L("div",Wq,[j(H5,{value:f.main_func,"onUpdate:value":pe[3]||(pe[3]=st=>f.main_func=st),width:512,height:150},null,8,["value"])])],32)]),j(Oe,{name:"timeout"},{label:J(()=>[j(he,{gap:2},{default:J(()=>pe[13]||(pe[13]=[ze("超时时长")])),_:1,__:[13]})]),default:J(()=>[L("div",zq,[j(ge,{placeholder:"请输入请求地址",style:{width:"138px"},precision:0,value:f.timeout,"onUpdate:value":pe[5]||(pe[5]=st=>f.timeout=st),min:0,max:3e3},null,8,["value"]),pe[14]||(pe[14]=ze(" 秒 "))])]),_:1}),L("div",Uq,[L("div",{class:"gray-block-title",onClick:x},"输出 (自定义输出字段)"),L("div",Gq,[pe[16]||(pe[16]=L("div",{class:"output-block"},[L("div",{class:"output-item"},"参数Key"),L("div",{class:"output-item"},"类型")],-1)),L("div",{class:"array-form-box",onMousedown:pe[6]||(pe[6]=Qt(()=>{},["stop"]))},[(oe(!0),we(Et,null,Rt(f.output,(st,Lt)=>(oe(),we("div",{class:"form-item-list",key:Lt},[j(Oe,{label:null,name:["output",Lt,"key"],rules:{required:!0,validator:(wt,Mt)=>ae(wt,Mt)}},{default:J(()=>[L("div",Xq,[j(Ne,{style:{width:"214px"},value:st.key,"onUpdate:value":wt=>st.key=wt,placeholder:"请输入"},null,8,["value","onUpdate:value"]),j(Ve,null,{default:J(()=>[j(Be,{onChange:wt=>G(st),value:st.typ,"onUpdate:value":wt=>st.typ=wt,placeholder:"请选择",style:{width:"214px"}},{default:J(()=>[(oe(),we(Et,null,Rt(q,wt=>j(be,{value:wt.value},{default:J(()=>[ze(rt(wt.value),1)]),_:2},1032,["value"])),64))]),_:2},1032,["onChange","value","onUpdate:value"])]),_:2},1024),st.typ=="object"?(oe(),we("div",{key:0,class:"btn-hover-wrap",onClick:wt=>Q(Lt)},[j(Ue(vl))],8,Zq)):ct("",!0),L("div",{class:"btn-hover-wrap",onClick:wt=>B(Lt)},[j(Ue(Or))],8,Yq)]),st.subs&&st.subs.length>0?(oe(),we("div",qq,[j(Ve,null,{default:J(()=>[j(oq,{data:st.subs,level:2,typOptions:q},null,8,["data"])]),_:2},1024)])):ct("",!0)]),_:2},1032,["name","rules"])]))),128)),j($,{onClick:U,icon:Wn(Ue(rr)),block:"",type:"dashed"},{default:J(()=>pe[15]||(pe[15]=[ze("添加参数")])),_:1,__:[15]},8,["icon"])],32)])]),pe[17]||(pe[17]=L("div",{class:"gray-block mt16"},[L("div",{class:"gray-block-title"},"异常处理"),L("div",null,"运行代码报错时执行该分支")],-1))]),_:1,__:[17]},8,["model"]),j(Re,{open:T.value,"onUpdate:open":pe[8]||(pe[8]=st=>T.value=st),title:"编辑代码",width:746},{footer:J(()=>[j($,{type:"primary",onClick:le},{default:J(()=>pe[18]||(pe[18]=[ze("确定")])),_:1,__:[18]})]),default:J(()=>[L("div",Kq,[j(H5,{ref_key:"codeEditBoxRef",ref:R,value:f.main_func,"onUpdate:value":pe[7]||(pe[7]=st=>f.main_func=st),width:698,height:472},null,8,["value"])])]),_:1},8,["open"])])}}},Qq=Ct(Jq,[["__scopeId","data-v-9b28ba37"]]),eK={name:"HttpNode",components:{NodeCommon:lr,FormBlock:Qq},inject:["getNode","getGraph","setData"],props:{properties:{type:Object,default(){return{message_list:[]}}},isSelected:{type:Boolean,default:!1},isHovered:{type:Boolean,default:!1}},data(){return{menus:[{name:"删除",key:"delete",color:"#fb363f"}]}},methods:{handleMenu(n){if(n.key==="delete"){let e=this.getNode();this.getGraph().deleteNode(e.id)}},handleSetData(n){this.setData({...n})}}},tK={class:"http-node"};function nK(n,e,t,r,i,o){const a=Kt("FormBlock"),l=Kt("node-common");return oe(),Qe(l,{title:t.properties.node_name,menus:i.menus,"icon-name":t.properties.node_icon_name,isSelected:t.isSelected,isHovered:t.isHovered,"node-key":t.properties.node_key,node_type:t.properties.node_type,onHandleMenu:o.handleMenu},{default:J(()=>[L("div",tK,[e[0]||(e[0]=L("div",{class:"node-desc"},"运行一段JS代码，将代码return的数据输出到下一节点。一般用于进行数据处理。",-1)),j(a,{onSetData:o.handleSetData,properties:t.properties},null,8,["onSetData","properties"])])]),_:1},8,["title","menus","icon-name","isSelected","isHovered","node-key","node_type","onHandleMenu"])}const rK=Ct(eK,[["render",nK],["__scopeId","data-v-bdc10031"]]);class iK extends sr{constructor(e){super(e),this.renderVue(rK,e)}}class oK extends ar{setAttributes(){const e={message:"只允许从右边的锚点连出",validate:(r,i,o,a)=>{if(r.id==i.id)return!1;const l=r.graphModel.edges.map(c=>c.sourceAnchorId),u=o.id;return o.type==="right"&&!l.includes(u)}};this.sourceRules=[e];const t={message:"只允许连接左边的锚点",validate:(r,i,o,a)=>r.id==i.id?!1:a.type==="left"};this.targetRules=[t]}getDefaultAnchor(){const{id:e,x:t,y:r,width:i,height:o,isHovered:a,isSelected:l}=this,{nodeSortKey:u}=this.properties;return[{x:t-i/2,y:r-o/2+24,id:u+"-anchor_left",type:"left",nodeId:e},{x:t+i/2,y:r-o/2+24,id:u+"-anchor_right",type:"right",nodeId:e},{x:t+i/2,y:r+o/2-64,id:u+"-anchor_right_exception",type:"right",nodeId:e}]}}const sK={type:"code-run-node",model:oK,view:iK},aK={name:"QuestionNode",components:{PopupMenu:a7},emits:["click-item"],inject:["getNode","getGraph"],props:{properties:{type:Object,default(){return{}}}},data(){return{}},mounted(){},methods:{handleAddNode(n){this.$emit("click-item",n)}}};function lK(n,e,t,r,i,o){const a=Kt("PopupMenu");return oe(),Qe(a,{onAddNode:o.handleAddNode,type:"node"},null,8,["onAddNode"])}const uK=Ct(aK,[["render",lK]]),dK=130,cK=440;class fK{constructor({lf:e}){Cm(this,"listenDelete",()=>{this.hideMenu()});this.menuTypeMap=new Map,this.lf=e,this.__menuDOM=document.createElement("div"),this.__menuDOM.className="lf-inner-context",this.__menuDOM.style.width=`${dK}px`,this.__menuDOM.style.height=`${cK}px`,this.isMounted=!1,this.r=Wn(uK,{properties:{},isSelected:!1,isHovered:!1,onClickItem:t=>{this.hideMenu(),e.graphModel.eventCenter.emit("custom:addNode",{data:t,model:this._activeData,anchorData:this._activeAnchorData})}}),this.app=xd({render:()=>this.r,provide:()=>({getNode:()=>this._activeData,getGraph:()=>e.graphModel}),mounted:()=>{}})}render(e,t){this.container=t,this.isMounted||(this.isMounted=!0,this.container.appendChild(this.__menuDOM),this.app.mount(this.__menuDOM)),e.on("custom:showPopupMenu",({anchorData:r,model:i})=>{this._activeData=i,this._activeAnchorData=r,this.createMenu()}),e.on("node:click",({data:r})=>{this.hideMenu()}),e.on("edge:click",({data:r})=>{this.hideMenu()}),e.on("blank:click",()=>{this.hideMenu()})}createMenu(){this.showMenu()}getContextMenuPosition(){const e=this._activeAnchorData;let t=e.x+5,r=e.y-10;return this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([t,r])}showMenu(){const[e,t]=this.getContextMenuPosition();this.__menuDOM.style.display="flex",this.__menuDOM.style.top=`${t}px`,this.__menuDOM.style.left=`${e+10}px`,!this.isShow&&this.lf.on("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!0}hideMenu(){this.__menuDOM.style.display="none",this.isShow,this.lf.off("node:delete,edge:delete,node:drag,graph:transform",this.listenDelete),this.isShow=!1}}const hK={class:"logic-flow-wrapper"},pK={__name:"workflow-canvas",emits:["selectedNode","deleteNode"],setup(n,{expose:e,emit:t}){const r=t;let i=null;const o=Fe(null),a=CV(),l=Fe(""),u={nodes:[]},c={width:200,height:160,bottomPosition:76,rightPosition:16};function f(){if(o.value){i=new Gj({container:o.value,nodeTextEdit:!1,edgeTextEdit:!1,textEdit:!1,grid:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!0,edgeSelectedOutline:!0,nodeSelectedOutline:!0,hoverOutline:!0,background:{backgroundColor:"#f0f2f5"},plugins:[sV,lV,fK],pluginsOptions:{miniMap:c}}),Un(NV,i),Un(c$,i),Un(W$,i),Un(K$,i),Un(Vz,i),Un(oW,i),Un(QW,i),Un(VU,i),Un(XU,i),Un(QU,i),Un(LG,i),Un(hG,i),Un(VG,i),Un(EX,i),Un(JX,i),Un(IZ,i),Un(aY,i),Un(gY,i),Un(eq,i),Un(sK,i),i.setDefaultEdgeType("custom-edge"),i.on("graph:rendered",({graphModel:w})=>{l.value=w.flowId});let b=1;i.on("node:dragstart",({data:w})=>{let x=i.graphModel.getElement(w.id);b=x.zIndex,x.setZIndex(999999)}),i.on("node:drop",({data:w})=>{i.graphModel.getElement(w.id).setZIndex(b)}),i.on("custom:addNode",({data:w,model:x,anchorData:k})=>{y(w,x,k)}),i.on("node:click",({data:w})=>{r("selectedNode",JSON.parse(JSON.stringify(w)))}),i.on("node:delete",({data:w})=>{r("deleteNode",JSON.parse(JSON.stringify(w)))}),i.render(u),i.setZoomMiniSize(.01),i.setZoomMaxSize(8),i.container.addEventListener("wheel",w=>{if(w.shiftKey){w.preventDefault();const x=i.getTransform();let k=x.SCALE_X,N=x.SCALE_Y;w.deltaY>0?i.translate(-100*k,100*N):i.translate(100*k,-100*N)}},{passive:!1})}}const v=()=>i.getGraphRawData(),m=b=>{let w=QD();b.nodes.forEach(x=>{let k=w[x.type];x.properties.node_icon_name=k.properties.node_icon_name,x.properties.width||(x.properties.width=k.width),x.properties.height||(x.properties.height=k.height)}),i.clearData(),i.graphModel.graphDataToModel(b),i.graphModel.translateCenter()},y=(b,w,x)=>{if(b.id=z0(b.type),b.nodeSortKey=b.id.substring(0,8)+b.id.substring(b.id.length-8),b.properties.width=b.width,b.properties.height=b.height,b.properties.nodeSortKey=b.nodeSortKey,x)b.x=x.x+b.width+100,b.y=x.y+b.height/2-24;else{const{transformModel:D}=i.graphModel,V=D.HtmlPointToCanvasPoint([i.graphModel.width/2,i.graphModel.height/2]);b.x=V[0],b.y=V[1]}let k=0;i.graphModel.nodes.forEach(D=>{D.zIndex>k&&(k=D.zIndex)}),k=k+1;let N=i.addNode(b);x&&i.graphModel.addEdge({type:"custom-edge",sourceNodeId:w.id,targetNodeId:N.id,sourceAnchorId:x.id,startPoint:{x:x.x,y:x.y}}),N.setZIndex(k),i.graphModel.clearSelectElements(),N.setSelected(!0)},_=b=>{b.properties.height=b.height;let w=i.getNodeModelById(b.id);w.height=b.height,w.properties=b.properties,b.properties.node_type==2&&b.properties.node_sub_type==21&&w.graphModel.getNodeEdges(b.id).forEach(k=>{k.sourceNodeId==w.id&&(w.getAnchorInfo(k.sourceAnchorId)||w.graphModel.deleteEdgeById(k.id))}),w.refreshBranch()};return or(()=>{f()}),e({setData:m,getData:v,updateNode:_}),(b,w)=>(oe(),we("div",hK,[L("div",{ref_key:"containerRef",ref:o,class:"logic-flow-container"},null,512),j(Ue(a),{"flow-id":l.value},null,8,["flow-id"]),Ue(i)?(oe(),Qe(pP,{key:0,lf:Ue(i),onAddNode:y},null,8,["lf"])):ct("",!0),Ue(i)?(oe(),Qe(xP,{key:1,lf:Ue(i)},null,8,["lf"])):ct("",!0)]))}},vK={class:"test-model-box"},gK={key:2,class:"input-list-box"},mK={class:"add-btn-box"},yK={key:0,class:"result-list-box loading-box"},_K={key:1,class:"result-list-box"},bK={class:"status-block"},CK={class:"icon-name-box"},wK=["src"],xK={class:"node-name"},kK={key:0,class:"time-tag"},SK={key:1,class:"out-put-box"},EK={class:"out-text-box"},MK={class:"save-btn-box"},OK={__name:"index",props:{lf:{type:Object},start_node_params:{default:{},type:Object}},emits:["save","getGlobal"],setup(n,{emit:e}){const t=n,r=nn(()=>t.start_node_params.diy_global||[]),i=e,o=U0().query,a=Fe(!1),l=Fe([]),u=Fe(!1),c=Pn({is_draft:!0,robot_key:o.robot_key,question:"",openid:"",global:"",globalState:{}}),f=()=>{i("save","automatic");let k=localStorage.getItem("workflow_run_test_data")||"{}";k=JSON.parse(k),c.question=k.question||"",c.openid=k.openid||"",c.global=k.global||"",l.value=[],i("getGlobal"),wi(()=>{r.value.forEach(N=>{c.globalState[N.key]=v(N)});try{let N=JSON.parse(k.global);for(let D in c.globalState)N[D]&&(Array.isArray(N[D])?c.globalState[D]=N[D].map(V=>({value:V,key:Math.random()*1e3})):c.globalState[D]=N[D])}catch(N){}}),a.value=!0};function v(k){return k.typ=="string"||k.typ=="number"?"":[{value:"",key:Math.random()*1e4}]}function m(){let k={};return r.value.forEach(N=>{if(N.typ=="string"&&(k[N.key]=c.globalState[N.key]),N.typ=="number"&&(k[N.key]=c.globalState[N.key]?+c.globalState[N.key]:""),N.typ=="array<string>"){let D=c.globalState[N.key].map(V=>V.value).filter(V=>V);k[N.key]=D}}),JSON.stringify(k)}const y=(k,N)=>{c.globalState[k].splice(N,1)},_=k=>{c.globalState[k].push({value:"",key:Math.random()*1e4})},b=Fe(null),w=()=>{b.value.validate().then(()=>{let k={...c};k.global=m(),delete k.globalState,u.value=!0,l.value=[],localStorage.setItem("workflow_run_test_data",JSON.stringify({...k})),QC({...k}).then(N=>{ss.success("测试结果生成完成"),x(N.data||[])}).catch(N=>{l.value=[],N.data&&N.data.length&&x(N.data)}).finally(()=>{u.value=!1})})},x=k=>{l.value=k.map(N=>({...N,is_success:N.error_msg==="<nil>",node_icon:g$(N.node_type)}))};return(k,N)=>{const D=cr,V=Vx,U=hl,B=Vr,G=Co,Q=wo,ae=da,q=to,ue=Ad,T=Ai,R=Mi;return oe(),we("div",null,[j(D,{onClick:f,style:{"background-color":"#00ad3a"},type:"primary"},{default:J(()=>[j(Ue(Om)),N[3]||(N[3]=ze("运行测试"))]),_:1,__:[3]}),j(R,{open:a.value,"onUpdate:open":N[2]||(N[2]=A=>a.value=A),title:"运行测试",footer:null,width:720,wrapClassName:"no-padding-modal",bodyStyle:{"max-height":"600px","padding-right":"24px","overflow-y":"auto"}},{default:J(()=>[L("div",vK,[N[10]||(N[10]=L("div",{class:"top-title"},"开始节点参数",-1)),j(q,{model:c,ref_key:"formRef",ref:b,"label-col":{span:7},"wrapper-col":{span:17},autocomplete:"off"},{default:J(()=>[j(G,{name:"question",rules:[{required:!0,message:"请输入question!"}]},{label:J(()=>[j(U,{gap:4},{default:J(()=>[N[5]||(N[5]=ze("question ")),j(V,{style:{margin:"0"}},{default:J(()=>N[4]||(N[4]=[ze("string")])),_:1,__:[4]})]),_:1,__:[5]})]),default:J(()=>[j(B,{placeholder:"请输入",value:c.question,"onUpdate:value":N[0]||(N[0]=A=>c.question=A)},null,8,["value"])]),_:1}),j(G,{name:"openid",rules:[{required:!0,message:"请输入openid!"}]},{label:J(()=>[j(U,{gap:4},{default:J(()=>[N[7]||(N[7]=ze("openid ")),j(V,{style:{margin:"0"}},{default:J(()=>N[6]||(N[6]=[ze("string")])),_:1,__:[6]})]),_:1,__:[7]})]),default:J(()=>[j(B,{placeholder:"请输入",value:c.openid,"onUpdate:value":N[1]||(N[1]=A=>c.openid=A)},null,8,["value"])]),_:1}),(oe(!0),we(Et,null,Rt(r.value,A=>(oe(),Qe(G,{name:["globalState",A.key],key:A.key,rules:[{required:A.required,message:`请输入${A.key}`}]},{label:J(()=>[j(U,{gap:4},{default:J(()=>[ze(rt(A.key)+" ",1),j(V,{style:{margin:"0"}},{default:J(()=>[ze(rt(A.typ),1)]),_:2},1024)]),_:2},1024)]),default:J(()=>[A.typ=="string"?(oe(),Qe(B,{key:0,placeholder:"请输入",value:c.globalState[A.key],"onUpdate:value":se=>c.globalState[A.key]=se},null,8,["value","onUpdate:value"])):ct("",!0),A.typ=="number"?(oe(),Qe(Q,{key:1,style:{width:"100%"},placeholder:"请输入",value:c.globalState[A.key],"onUpdate:value":se=>c.globalState[A.key]=se},null,8,["value","onUpdate:value"])):ct("",!0),A.typ=="array<string>"?(oe(),we("div",gK,[(oe(!0),we(Et,null,Rt(c.globalState[A.key],(se,re)=>(oe(),we("div",{class:"input-list-item",key:A.key},[j(ae,null,{default:J(()=>[j(B,{placeholder:"请输入",value:se.value,"onUpdate:value":de=>se.value=de},null,8,["value","onUpdate:value"])]),_:2},1024),c.globalState[A.key].length>1?(oe(),Qe(Ue(Or),{key:0,onClick:de=>y(A.key,re)},null,8,["onClick"])):ct("",!0)]))),128)),L("div",mK,[j(D,{onClick:se=>_(A.key),block:"",type:"dashed"},{default:J(()=>N[8]||(N[8]=[ze("添加")])),_:2,__:[8]},1032,["onClick"])])])):ct("",!0)]),_:2},1032,["name","rules"]))),128))]),_:1},8,["model"]),u.value?(oe(),we("div",yK,[u.value?(oe(),Qe(ue,{key:0,tip:"测试结果生成中..."})):ct("",!0)])):ct("",!0),l.value.length>0?(oe(),we("div",_K,[(oe(!0),we(Et,null,Rt(l.value,(A,se)=>(oe(),we("div",{class:"list-item-block",key:se},[L("div",bK,[A.is_success?(oe(),Qe(Ue(X5),{key:0,style:{color:"#138b1b"}})):(oe(),Qe(Ue(bw),{key:1,style:{color:"#d81e06"}}))]),L("div",CK,[L("img",{src:A.node_icon,alt:""},null,8,wK),L("div",xK,rt(A.node_name),1)]),A.is_success?(oe(),we("div",kK,rt(A.use_time)+"ms",1)):ct("",!0),A.is_success?(oe(),we("div",SK,[j(T,null,{title:J(()=>[ze(rt(A.output),1)]),default:J(()=>[L("div",EK,rt(A.output),1)]),_:2},1024)])):ct("",!0)]))),128))])):ct("",!0),L("div",MK,[j(D,{loading:u.value,onClick:w,style:{"background-color":"#00ad3a"},type:"primary"},{default:J(()=>[j(Ue(Om)),N[9]||(N[9]=ze("运行测试"))]),_:1,__:[9]},8,["loading"])])])]),_:1},8,["open"])])}}},AK=Ct(OK,[["__scopeId","data-v-99433f5c"]]),LK={class:"page-header"},TK={class:"header-content"},NK={key:1,class:"robot-status-box status-0"},DK={key:0,class:"header-right"},PK={key:0,class:"last-save-time"},RK={__name:"page-header",props:{saveLoading:{default:!1,type:Boolean},showRight:{default:!0,type:Boolean},start_node_params:{default:{},type:Object},currentVersion:{default:"",type:String}},emits:["save","release","edit","getGlobal","getVersionRecord"],setup(n,{emit:e}){const t=Qs(),r=nn(()=>t.robotInfo),i=nn(()=>t.draftSaveTime);Y5();const o=e,a=n,l=()=>{o("edit")},u=(m="handle")=>{o("save",m)},c=()=>{o("release")},f=()=>{o("getGlobal")},v=()=>{o("getVersionRecord")};return(m,y)=>{const _=cr,b=Ai;return oe(),we("div",LK,[L("div",TK,[j(Tx),r.value.start_node_key!=""?(oe(),we("div",{key:0,class:"robot-status-box status-1",onClick:l},[j(Ue(X5),{class:"robot-status-icon"}),y[1]||(y[1]=L("div",{class:"robot-status-text"},"已发布",-1))])):(oe(),we("div",NK,[j(Ue(Cw),{class:"robot-status-icon"}),y[2]||(y[2]=L("div",{class:"robot-status-text"},"未发布",-1))]))]),a.showRight?(oe(),we("div",DK,[n.currentVersion==""?(oe(),we(Et,{key:0},[i.value&&i.value.time?(oe(),we("div",PK,rt(i.value.time)+" "+rt(i.value.type=="handle"?"手动":"自动")+"保存草稿 ",1)):ct("",!0),j(_,{class:"save-draft",onClick:u},{default:J(()=>y[3]||(y[3]=[ze("保存草稿")])),_:1,__:[3]}),j(_,{type:"primary",loading:a.saveLoading,class:"publish-robot",onClick:c},{default:J(()=>y[4]||(y[4]=[ze("发布机器人")])),_:1,__:[4]},8,["loading"]),j(AK,{start_node_params:n.start_node_params,onGetGlobal:f,onSave:u},null,8,["start_node_params"])],64)):ct("",!0),j(b,{title:"历史发布详情"},{default:J(()=>[j(_,{onClick:y[0]||(y[0]=w=>v())},{default:J(()=>[j(Ue($x))]),_:1})]),_:1})])):ct("",!0)])}}},HK=Ct(RK,[["__scopeId","data-v-97674fc1"]]),IK={class:"form-box"},BK={class:"form-item"},jK={class:"form-content"},FK={class:"version-input-box"},VK={class:"form-item"},$K={class:"form-content"},WK={__name:"version-model",emits:["ok"],setup(n,{expose:e,emit:t}){const r=U0().query,i=Fe(!1);let o="";const a=Fe(""),l=Fe(""),u=Fe(""),c=Fe(""),f=Fe(!1),v=t,m=b=>{_(),c.value="",o=b,i.value=!0},y=()=>{f.value=!0,tw({robot_key:r.robot_key,node_list:o,version:`${a.value}.${l.value}.${u.value}`,version_desc:c.value}).then(b=>{i.value=!1,b&&b.res==0&&(ss.success("发布成功"),v("ok"))}).finally(()=>{f.value=!1})},_=()=>{ew({robot_key:r.robot_key}).then(b=>{let w=b.data.version_params||[];a.value=w[0],l.value=w[1],u.value=w[2]})};return e({show:m}),(b,w)=>{const x=wo,k=Ed,N=Mi;return oe(),we("div",null,[j(N,{open:i.value,"onUpdate:open":w[4]||(w[4]=D=>i.value=D),title:"发布","ok-text":"立即发布",onOk:y,confirmLoading:f.value,width:600},{default:J(()=>[L("div",IK,[L("div",BK,[w[8]||(w[8]=L("div",{class:"form-label"},"版本号：",-1)),L("div",jK,[L("div",FK,[w[5]||(w[5]=ze(" v ")),j(x,{value:a.value,"onUpdate:value":w[0]||(w[0]=D=>a.value=D),precision:0,min:0,max:1e3},null,8,["value"]),w[6]||(w[6]=L("span",null,".",-1)),j(x,{value:l.value,"onUpdate:value":w[1]||(w[1]=D=>l.value=D),precision:0,min:0,max:1e3},null,8,["value"]),w[7]||(w[7]=L("span",null,".",-1)),j(x,{value:u.value,"onUpdate:value":w[2]||(w[2]=D=>u.value=D),precision:0,min:0,max:1e3},null,8,["value"])])])]),L("div",VK,[w[9]||(w[9]=L("div",{class:"form-label"},"版本描述：",-1)),L("div",$K,[j(k,{value:c.value,"onUpdate:value":w[3]||(w[3]=D=>c.value=D),placeholder:"请描述本次发布版本的更新内容","auto-size":{minRows:4,maxRows:7}},null,8,["value"])])])])]),_:1},8,["open","confirmLoading"])])}}},zK=Ct(WK,[["__scopeId","data-v-baab5ab8"]]),UK={class:"version-detail"},GK={key:0,class:"version-desc"},XK=["onClick"],ZK={class:"version-header"},YK={class:"version-title"},qK={class:"time-text"},KK={class:"version-desc"},JK={__name:"publish-detail",emits:["setVersion","preview"],setup(n,{expose:e,emit:t}){const r=U0().query,i=Fe(!1),o=t,a=Qs(),l=nn(()=>a.draftSaveTime),u=Fe([]),c=()=>{i.value=!0,f()},f=()=>{nw({robot_key:r.robot_key}).then(_=>{u.value=_.data.versions||[]})},v=_=>{Mi.confirm({title:`确定要恢复到v${_.version}版吗`,icon:null,content:Wn("div",{style:"color:red;"},"恢复后，将覆盖当前草稿内容。如需要将此版本作为发布版本，需要您手动点击发布"),onOk(){wm({robot_key:r.robot_key,version_id:_.version_id}).then(b=>{o("setVersion",b.data),i.value=!1,ss.success("设置成功")})},onCancel(){}})},m=_=>{_==""?B5({robot_key:r.robot_key,data_type:1}).then(b=>{o("preview",b.data,_),i.value=!1}):wm({robot_key:r.robot_key,version_id:_}).then(b=>{o("preview",b.data,_),i.value=!1})};function y(_){return _<=0?"--":Z5(_*1e3).format("YYYY-MM-DD HH:mm:ss")}return e({showDrawer:c}),(_,b)=>{const w=c0,x=z1,k=_y,N=zx;return oe(),we("div",null,[j(N,{open:i.value,"onUpdate:open":b[2]||(b[2]=D=>i.value=D),title:"发布详情",placement:"right",width:400},{default:J(()=>[L("div",UK,[L("div",{class:"version-list",onClick:b[0]||(b[0]=D=>m(""))},[b[3]||(b[3]=L("div",{class:"version-header"},[L("div",{class:"version-title"},"当前版本")],-1)),l.value&&l.value.time?(oe(),we("div",GK," 最近保存于"+rt(l.value.time),1)):ct("",!0)]),(oe(!0),we(Et,null,Rt(u.value,(D,V)=>(oe(),we("div",{class:"version-list",onClick:U=>m(D.version_id),key:D.version},[L("div",ZK,[L("div",YK,[ze(" v"+rt(D.version)+" ",1),L("span",qK,rt(y(D.create_time)),1)]),j(k,null,{overlay:J(()=>[j(x,null,{default:J(()=>[j(w,{onClick:U=>v(D)},{default:J(()=>b[4]||(b[4]=[ze(" 恢复到此版本 ")])),_:2,__:[4]},1032,["onClick"])]),_:2},1024)]),default:J(()=>[L("div",{class:"hover-btn-box",onClick:b[1]||(b[1]=Qt(()=>{},["stop"]))},[j(Ue(Rw))])]),_:2},1024)]),L("div",KK,rt(D.version_desc),1)],8,XK))),128))])]),_:1},8,["open"])])}}},QK=Ct(JK,[["__scopeId","data-v-d2b76917"]]),eJ={class:"workflow-page"},tJ={class:"page-body"},nJ={class:"page-left"},rJ={class:"page-container"},iJ={__name:"index",setup(n){const e=U0(),t=Fe(e.query.robot_key),r=Fe(null),i=Fe(null),o=Qs(),a=Fe(""),l=eP();function u(R){R=R||[];let A=[],se=[];R.forEach(re=>{if(re.node_type==0){let de=JSON.parse(re.node_info_json);se.push(de)}else{if(re.node_type==1){let le=JSON.parse(re.node_params);le.start||(le.start=[]),re.node_params=JSON.stringify(le)}let de=JSON.parse(re.node_info_json);re.node_type!=0&&(de.type=l[re.node_type],de.id=re.node_key||z0(de.type),de.x=de.x||0,de.y=de.y||0),re.node_type==-1&&(re.node_params=de.dataRaw),de.nodeSortKey?re.nodeSortKey=de.nodeSortKey:re.nodeSortKey=de.id.substring(0,8)+de.id.substring(de.id.length-8),re.dataRaw=de.dataRaw||re.node_params,delete re.node_info_json,de.properties=re,de.properties.width=de.width,de.properties.height=de.height,A.push(de)}}),f({nodes:A,edges:se})}const c=R=>{r.value.open(R,!0)},f=R=>{i.value.setData(R)},v=()=>{let R=i.value.getData(),A=[],se={};return R.edges.forEach(re=>{let de={node_key:re.id,node_name:"edge",node_type:0},le={...re};de.node_info_json=le,A.push(de),re.sourceAnchorId&&(se[re.sourceAnchorId]=re.targetNodeId),re.targetAnchorId&&(se[re.targetAnchorId]=re.sourceNodeId)}),R.nodes.forEach(re=>{let de={...re.properties,node_type:+re.properties.node_type,node_key:re.id};de.node_info_json={type:re.type,x:re.x,y:re.y,width:re.properties.width,height:re.properties.height,id:re.id,nodeSortKey:de.nodeSortKey,dataRaw:re.properties.node_params},de.next_node_key=se[de.nodeSortKey+"-anchor_right"]||"",de.prev_node_key=se[de.nodeSortKey+"-anchor_left"]||"";let le=JSON.parse(de.node_params);if(de.node_type==2&&le.term&&le.term.length>0&&le.term.forEach((Ae,pe)=>{let Ne=de.nodeSortKey+"-anchor_"+pe;Ae.next_node_key=se[Ne]||""}),de.node_type==3&&le.cate&&le.cate.categorys&&le.cate.categorys.length>0&&le.cate.categorys.forEach((Ae,pe)=>{let Ne=de.nodeSortKey+"-anchor_"+pe;Ae.next_node_key=se[Ne]||""}),de.node_type==17){let Ae=se[de.nodeSortKey+"-anchor_right_exception"];Ae&&(le.code_run.exception=Ae)}de.node_params=le,delete de.dataRaw,A.push(de)}),A},m=R=>{let A=v();xm({robot_key:t.value,data_type:1,node_list:JSON.stringify(A)}).then(()=>{R=="handle"&&ss.success("保存成功"),o.setDrafSaveTime({type:R,time:Z5().format("MM/DD HH:mm:ss")})})},y=()=>{c(1)};let _=null;const b=()=>{_=setInterval(()=>{m("automatic")},1*60*1e3)};Tw(()=>{_&&clearInterval(_)});const w=Fe(null),x=Fe(!1),k=R=>{w.value.show(R)},N=async()=>{let R=v(),A=[];for(let se=0;se<R.length;se++){let re=R[se];re.node_type==0||re.node_type==-1||(re.node_type==1?re.next_node_key==""&&A.push(re):re.node_type==7||re.node_type==3?re.prev_node_key==""&&A.push(re):(re.next_node_key==""||re.prev_node_key=="")&&A.push(re))}if(A.length>0){ss.error("存在未关联的节点，请先关联");return}try{await xm({robot_key:t.value,data_type:1,node_list:JSON.stringify(R)}),k(JSON.stringify(R))}catch{x.value=!1}};let D=Fe(null);const V=R=>{D.value=R,R.properties.node_sub_type!=51},U=()=>{},B=async()=>{let R=(A,se,re)=>{const de=new Set(A.map(le=>le.model_define));return se.filter(le=>{let Ae=le[re];de.has(Ae)&&A.filter(pe=>{if(pe.model_define==Ae)return pe.children=xw(pe.children,le.children),!1})}),A};return my({model_type:"LLM"}).then(A=>{let se=A.data||[],re=[],de=[];de=se.map(le=>{re=[];for(let Ae=0;Ae<le.model_info.llm_model_list.length;Ae++){const pe=le.model_info.llm_model_list[Ae];re.push({name:pe,deployment_name:le.model_config.deployment_name,id:le.model_config.id,model_define:le.model_info.model_define})}return{id:le.model_config.id,name:le.model_info.model_name,model_define:le.model_info.model_define,icon:le.model_info.model_icon_url,children:re,deployment_name:le.model_config.deployment_name}}),de=R(ww(de,"model_define"),de,"model_define"),o.setModelList(de)})},G=Fe({diy_global:[],sys_global:[]}),Q=()=>{let A=v().filter(se=>se.node_type==1);A.length>0&&(G.value=A[0].node_params.start),G.value},ae=Fe(null),q=()=>{a.value==""&&m("automatic"),ae.value.showDrawer()},ue=R=>{a.value="",clearInterval(_),b(),u(R),m("automatic")},T=(R,A)=>{a.value=A,clearInterval(_),u(R)};return or(async()=>{await B();const R=await B5({robot_key:t.value,data_type:1});u(R.data),b(),e.query.show_tips&&ss.info("按住Shift 滚动鼠标可左右移动画布，按住Ctrl 滚动鼠标可放大缩小画布",6)}),(R,A)=>(oe(),we("div",eJ,[j(HK,{onEdit:y,onSave:m,onRelease:N,onGetGlobal:Q,onGetVersionRecord:q,currentVersion:a.value,start_node_params:G.value,saveLoading:x.value},null,8,["currentVersion","start_node_params","saveLoading"]),L("div",tJ,[L("div",nJ,[j(YD)]),L("div",rJ,[j(pK,{ref_key:"workflowCanvasRef",ref:i,onSelectedNode:V,onDeleteNode:U},null,512)])]),j(Wx,{ref_key:"addRobotAlertRef",ref:r},null,512),j(zK,{ref_key:"versionModelRef",ref:w},null,512),j(QK,{ref_key:"publishDetailRef",ref:ae,onPreview:T,onSetVersion:ue},null,512)]))}},bee=Ct(iJ,[["__scopeId","data-v-0fa66d98"]]);export{bee as default};
