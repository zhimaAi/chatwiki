import{a5 as I,_ as te}from"../../index-CB2DywzJ.js";import{a as ne,o as re,e as ae,$ as se,M as le,I as ie,z as ue,y as ce,aD as pe,at as de}from"./ui-antd-BHaxN-GS.js";import{f as R,ae as K,ad as F,ar as L,as as x,k as U,ac as q,az as V,e as W,aA as fe,ax as z,ai as me,ah as J,F as G,G as ve,at as he,u as j}from"./vue-chunks-CGLjTDrY.js";function xe(f={}){return I.get({url:"/manage/httpTool/getHttpToolList",params:f})}const qe=(f={})=>I.post({headers:{"Content-Type":"multipart/form-data"},url:"/manage/httpTool/saveHttpTool",data:f}),Ie=(f={})=>I.post({url:"/manage/httpTool/deleteHttpTool",data:f}),$e=(f={})=>I.post({url:"/manage/httpTool/saveHttpToolNode",data:f}),Le=(f={})=>I.post({url:"/manage/httpTool/deleteHttpToolNode",data:f});var $={exports:{}},N,Q;function _e(){if(Q)return N;Q=1;function f(l,o){var e=l;o.slice(0,-1).forEach(function(d){e=e[d]||{}});var a=o[o.length-1];return a in e}function c(l){return typeof l=="number"||/^0x[0-9a-f]+$/i.test(l)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(l)}function w(l,o){return o==="constructor"&&typeof l[o]=="function"||o==="__proto__"}return N=function(l,o){o||(o={});var e={bools:{},strings:{},unknownFn:null};typeof o.unknown=="function"&&(e.unknownFn=o.unknown),typeof o.boolean=="boolean"&&o.boolean?e.allBools=!0:[].concat(o.boolean).filter(Boolean).forEach(function(r){e.bools[r]=!0});var a={};function d(r){return a[r].some(function(h){return e.bools[h]})}Object.keys(o.alias||{}).forEach(function(r){a[r]=[].concat(o.alias[r]),a[r].forEach(function(h){a[h]=[r].concat(a[r].filter(function(E){return h!==E}))})}),[].concat(o.string).filter(Boolean).forEach(function(r){e.strings[r]=!0,a[r]&&[].concat(a[r]).forEach(function(h){e.strings[h]=!0})});var i=o.default||{},u={_:[]};function g(r,h){return e.allBools&&/^--[^=]+$/.test(h)||e.strings[r]||e.bools[r]||a[r]}function T(r,h,E){for(var p=r,H=0;H<h.length-1;H++){var S=h[H];if(w(p,S))return;p[S]===void 0&&(p[S]={}),(p[S]===Object.prototype||p[S]===Number.prototype||p[S]===String.prototype)&&(p[S]={}),p[S]===Array.prototype&&(p[S]=[]),p=p[S]}var P=h[h.length-1];w(p,P)||((p===Object.prototype||p===Number.prototype||p===String.prototype)&&(p={}),p===Array.prototype&&(p=[]),p[P]===void 0||e.bools[P]||typeof p[P]=="boolean"?p[P]=E:Array.isArray(p[P])?p[P].push(E):p[P]=[p[P],E])}function m(r,h,E){if(!(E&&e.unknownFn&&!g(r,E)&&e.unknownFn(E)===!1)){var p=!e.strings[r]&&c(h)?Number(h):h;T(u,r.split("."),p),(a[r]||[]).forEach(function(H){T(u,H.split("."),p)})}}Object.keys(e.bools).forEach(function(r){m(r,i[r]===void 0?!1:i[r])});var C=[];l.indexOf("--")!==-1&&(C=l.slice(l.indexOf("--")+1),l=l.slice(0,l.indexOf("--")));for(var s=0;s<l.length;s++){var n=l[s],t,v;if(/^--.+=/.test(n)){var A=n.match(/^--([^=]+)=([\s\S]*)$/);t=A[1];var b=A[2];e.bools[t]&&(b=b!=="false"),m(t,b,n)}else if(/^--no-.+/.test(n))t=n.match(/^--no-(.+)/)[1],m(t,!1,n);else if(/^--.+/.test(n))t=n.match(/^--(.+)/)[1],v=l[s+1],v!==void 0&&!/^(-|--)[^-]/.test(v)&&!e.bools[t]&&!e.allBools&&(!a[t]||!d(t))?(m(t,v,n),s+=1):/^(true|false)$/.test(v)?(m(t,v==="true",n),s+=1):m(t,e.strings[t]?"":!0,n);else if(/^-[^-]+/.test(n)){for(var y=n.slice(1,-1).split(""),O=!1,_=0;_<y.length;_++){if(v=n.slice(_+2),v==="-"){m(y[_],v,n);continue}if(/[A-Za-z]/.test(y[_])&&v[0]==="="){m(y[_],v.slice(1),n),O=!0;break}if(/[A-Za-z]/.test(y[_])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(v)){m(y[_],v,n),O=!0;break}if(y[_+1]&&y[_+1].match(/\W/)){m(y[_],n.slice(_+2),n),O=!0;break}else m(y[_],e.strings[y[_]]?"":!0,n)}t=n.slice(-1)[0],!O&&t!=="-"&&(l[s+1]&&!/^(-|--)[^-]/.test(l[s+1])&&!e.bools[t]&&(!a[t]||!d(t))?(m(t,l[s+1],n),s+=1):l[s+1]&&/^(true|false)$/.test(l[s+1])?(m(t,l[s+1]==="true",n),s+=1):m(t,e.strings[t]?"":!0,n))}else if((!e.unknownFn||e.unknownFn(n)!==!1)&&u._.push(e.strings._||!c(n)?n:Number(n)),o.stopEarly){u._.push.apply(u._,l.slice(s+1));break}}return Object.keys(i).forEach(function(r){f(u,r.split("."))||(T(u,r.split("."),i[r]),(a[r]||[]).forEach(function(h){T(u,h.split("."),i[r])}))}),o["--"]?u["--"]=C.slice():C.forEach(function(r){u._.push(r)}),u},N}var B,X;function oe(){if(X)return B;X=1;function f(o){return o.split(/:(.+)/).map(e=>e.trim())}function c(o){return o.split(/=(.+)/)}function w(o,e=f){let a={};var d=e(o);return a[d[0]]=d[1],a}function l(o){if(o==="")return null;let e={};return o.split(/&/).forEach(d=>{const i=d.split(/=/);e[i[0]]=i[1]}),e}return B={header:o=>{let e={};if(typeof o=="string")e=w(o);else return o.forEach(a=>{e={...e,...w(a,f)}}),e;return e},body:o=>{if(typeof o=="string")try{return JSON.parse(o)}catch{try{return l(o)}catch{return o}}else{let e={};return o.forEach(a=>{e={...e,...w(a,c)}}),e}},parseParamsField:l},B}var M,Z;function be(){if(Z)return M;Z=1;const f=oe();return M=[{name:"url",alias:["url","curl"],description:"Url request",convertor:null},{name:"cookie",alias:["b","cookie"],description:"<name=data> Supply cookie with request. If no =, then specifies the cookie file to use (see -c).",convertor:null},{name:"cookie-jar",alias:["c","cookie-jar"],description:"<file name> File to save response cookies to.",convertor:null},{name:"data",alias:["d","data","data-raw","data-urlencode","data-binary"],description:"<data> Send specified data in POST request. Details provided below.",convertor:f.body},{name:"fail",alias:["f","fail"],description:"Fail silently (don't output HTML error form if returned).",convertor:null},{name:"form",alias:["F","form"],description:"<name=content> Submit form data.",convertor:null},{name:"header",alias:["H","header"],description:"<header> Headers to supply with request.",convertor:f.header},{name:"include",alias:["i","include"],description:"Include HTTP headers in the output.",convertor:null},{name:"head",alias:["I","head"],description:"Fetch headers only.",convertor:null},{name:"insecure",alias:["k","insecure"],description:"Allow insecure connections to succeed.",convertor:null},{name:"location",alias:["L","location"],description:"v",convertor:null},{name:"output",alias:["o","output"],description:"<file> Write output to . Can use --create-dirs in conjunction with this to create any directories specified in the -o path.",convertor:null},{name:"remote-name",alias:["remote-name","O"],description:"Write output to file named like the remote file (only writes to current directory).",convertor:null},{name:"silent",alias:["s","silent"],description:"Silent (quiet) mode. Use with -S to force it to show errors.",convertor:null},{name:"verbose",alias:["v","verbose"],description:"Provide more information (useful for debugging).",convertor:null},{name:"write-out",alias:["write-out","w"],description:`<format> Make curl display information on stdout after a completed transfer. See man page for more details on available variables. Convenient way to force curl to append a newline to output: -w "
" (can add to ~/.curlrc).`,convertor:null},{name:"method",alias:["X","request"],description:"The request method to use.",convertor:null},{name:"user-agent",alias:["A","user-agent"],description:"Specify the User-Agent send to the HTTP server.",convertor:null},{name:"referer",alias:["e","referer"],description:'Sends the "Referrer Page" information to the HTTP server.',convertor:null}],M}var D,Y;function ye(){return Y||(Y=1,D={matchArgv:function(f){return f.replace(/\\\n/g," ").match(/"([^"\\]*(?:\\.[^"\\]*)*)"|'([^'\\]*(?:\\.[^'\\]*)*)'|[^\s]+/g).map(c=>c.startsWith("'")&&c.endsWith("'")||c.startsWith('"')&&c.endsWith('"')?c.substring(1,c.length-1):c)}}),D}var k;function we(){return k||(k=1,(function(f,c){const w=_e(),l=oe(),o=be(),e=ye();f.exports=c.default=function(a){(typeof a=="string"||a instanceof String)&&(a=e.matchArgv(a));const d=w(a);let i={};if(d._[1]&&(i.url=d._[1].replace(/'/g,"")),o.forEach(u=>{let T=u.alias.map(m=>d[m]).filter(m=>m)[0];T&&(u.convertor?i[u.name]=u.convertor(T):i[u.name]=T)}),i.url){let u=new URL(i.url);i.url=u.origin+u.pathname;let g=new URLSearchParams(u.search);Array.from(g).length&&(i.params=l.parseParamsField(g.toString()))}return i.method||(i.method=i.data?"POST":"GET"),i}})($,$.exports)),$.exports}var Te=we();const ge=ne(Te),Ce={class:"parse-curl-modal"},Oe={key:0,class:"parse-error"},Se={__name:"parse-curl-modal",emits:["parse","close"],setup(f,{expose:c,emit:w}){const l=w,o=R(!1),e=R(!1),a=R(""),d=R(""),i=R(`请粘贴 cURL 命令，例如：curl -X POST https://api.example.com/data -H 'Content-Type: application/json' -d '{"key":"value"}'`),u=()=>{o.value=!0,a.value="",d.value="",e.value=!1},g=()=>{o.value=!1,a.value="",d.value="",l("close")},T=()=>{o.value=!1},m=async()=>{if(!a.value.trim()){d.value="请输入 cURL 命令";return}d.value="";try{let C=a.value.trim();const s="__SINGLE_QUOTE_PLACEHOLDER__";let n=C.replace(/'\\''/g,s);n=n.replace(/\\\n/g," ").replace(/\\/g,"");let t=ge(decodeURIComponent(n));if(t.params){const v={};for(const[A,b]of Object.entries(t.params)){const y=decodeURIComponent(A),O=typeof b=="string"?decodeURIComponent(b):b;v[y]=O}t.params=v}if(t.data&&(t.header&&t.header["Content-Type"]?t.header["Content-Type"].toLowerCase():"").includes("application/x-www-form-urlencoded")&&typeof t.data=="object"){const b={};for(const[y,O]of Object.entries(t.data)){const _=decodeURIComponent(y),r=typeof O=="string"?decodeURIComponent(O):O;b[_]=r}t.data=b}if(t=JSON.stringify(t).split(s).join("'"),t=JSON.parse(t),t.method!=="GET"&&t.method!=="POST"){d.value="只支持 GET、POST 请求";return}l("parse",t)}catch(C){d.value=C.message}};return c({show:u,hide:T,handleClose:g}),(C,s)=>{const n=re,t=se,v=ae,A=le;return F(),K(A,{open:o.value,"onUpdate:open":s[2]||(s[2]=b=>o.value=b),title:"解析 cURL",width:680,"confirm-loading":e.value,onOk:m,onCancel:g,okText:"解析",cancelText:"取消"},{default:L(()=>[x("div",Ce,[U(n,{message:"请粘贴 cURL 命令，系统将自动解析并填充到 HTTP 请求配置中。只支持 GET、POST 请求。",type:"info","show-icon":"",class:"mb16"}),U(v,{label:""},{default:L(()=>[U(t,{class:"curl-textarea",value:a.value,"onUpdate:value":s[0]||(s[0]=b=>a.value=b),placeholder:i.value,"auto-size":{minRows:8,maxRows:8},maxlength:5e4,"show-count":""},null,8,["value","placeholder"])]),_:1}),d.value?(F(),q("div",Oe,[U(n,{message:d.value,type:"error","show-icon":"",closable:"",onClose:s[1]||(s[1]=b=>d.value="")},null,8,["message"])])):V("",!0)])]),_:1},8,["open","confirm-loading"])}}},Ne=te(Se,[["__scopeId","data-v-4bc8fcb2"]]),ee="data:image/svg+xml,%3csvg%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20class='design-iconfont'%3e%3cpath%20d='M10%200V16M10%2032V16M10%2016H23'%20stroke='%23BFBFBF'%20stroke-linejoin='round'/%3e%3c/svg%3e",Ee={class:"sub-field-item"},Pe=["onClick"],Fe=["onClick"],Ue={__name:"subs-key",props:{data:{},level:{type:Number},typOptions:{type:Array}},setup(f){const c=f,w=W(()=>c.level>2?c.typOptions.filter(i=>i.value!="object"):c.typOptions),l=W(()=>c.level==2?"180px":"146px"),o=(i,u)=>{u[i].subs.push({key:"",value:"",subs:[],cu_key:Math.random()*1e4})},e=(i,u)=>{u.splice(i,1)},a=i=>{i.subs=[]},d=i=>i.typ=="object"&&c.level<=2;return(i,u)=>{const g=ie,T=ue,m=ce,C=fe("SubsKey",!0);return F(!0),q(G,null,z(c.data,(s,n)=>(F(),q("div",{class:me(["sub-field-item-box",`sub-field-item-box_${c.level}`]),key:s.cu_key},[x("div",Ee,[u[0]||(u[0]=x("img",{class:"fork-icon",src:ee,alt:""},null,-1)),U(g,{class:"mr12",style:J({width:l.value}),value:s.key,"onUpdate:value":t=>s.key=t,placeholder:"请输入"},null,8,["style","value","onUpdate:value"]),u[1]||(u[1]=x("img",{class:"fork-icon",src:ee,alt:""},null,-1)),U(m,{class:"mr12",onChange:t=>a(s),value:s.typ,"onUpdate:value":t=>s.typ=t,placeholder:"请选择",style:J({width:l.value})},{default:L(()=>[(F(!0),q(G,null,z(w.value,t=>(F(),K(T,{value:t.value},{default:L(()=>[ve(he(t.value),1)]),_:2},1032,["value"]))),256))]),_:1},8,["onChange","value","onUpdate:value","style"]),d(s)?(F(),q("div",{key:0,class:"btn-hover-wrap mr12",onClick:t=>o(n,c.data)},[U(j(pe))],8,Pe)):V("",!0),x("div",{class:"btn-hover-wrap",onClick:t=>e(n,c.data)},[U(j(de))],8,Fe)]),s.subs&&s.subs.length>0?(F(),K(C,{key:0,level:c.level+1,typOptions:c.typOptions,data:s.subs},null,8,["level","typOptions","data"])):V("",!0)],2))),128)}}},Be=te(Ue,[["__scopeId","data-v-31e10652"]]);export{Ne as P,Be as S,ee as _,$e as a,Ie as b,Le as d,xe as g,ge as p,qe as s};
