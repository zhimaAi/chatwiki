import{b as v,d as h,dX as E}from"../../index-M_xDbIir.js";import{a3 as k,b as D,d as I,a7 as u,N as b,O as m,j as d,U as f,F as q,a1 as B,S as y,u as $,Z as w,_ as S,k as p,e as A,X as a}from"./vue-chunks-BRsu9_To.js";import{_ as L,M as N}from"./index-B3CPYV6x.js";import{u as O}from"./database-CIsLcgd3.js";import{_ as R,A as K}from"./add-data-sheet-Cf-RRsMZ.js";import{E as V}from"./EditOutlined-Cg8Bo7WJ.js";import"./axios-Dq7h7Pqt.js";import"./qs-BrxkIg-9.js";import"./crypto-js-ClNpte_9.js";import"./dayjs-B6IotFah.js";import"./shallowequal-C0xnIuy8.js";import"./Trigger-CkoSoTBd.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./collapseMotion-Brd6xpAT.js";import"./slide-DzpBPoRp.js";import"./index-CMIXnI2Z.js";import"./index-B0RyY99D.js";import"./colors-C56HAaAp.js";import"./index-B8KmO6dn.js";import"./index-V0sRhm34.js";import"./isPlainObject-A-SljaBF.js";import"./Col-CFWsj1wI.js";import"./responsiveObserve-CRSSr9-w.js";import"./hasIn-DEwqUvIo.js";import"./QuestionCircleOutlined-B5SgdGK5.js";import"./FormItemContext-DRzYyKbC.js";import"./index-UA7y0weg.js";import"./Input-Bx6Hhp2b.js";import"./index-Btmz2D3B.js";import"./inputProps-DsSGhBt6.js";import"./Search-w33R1D1l.js";import"./SearchOutlined-KUcJKUZw.js";import"./TextArea-C57yjED6.js";import"./Password-5njtOUlo.js";const F={class:"left-menu-box"},X={__name:"left-menus",emits:["changeMenu"],setup(e,{emit:n}){const o=n,t=k(),i=t.query,s=D(()=>[t.path.split("/")[3]]),l=I([{key:"field-manage",id:"field-manage",icon:()=>p("span",{},[p(h,{name:"field-menu-icon",class:"menu-icon"})]),label:"字段管理",title:"字段管理",path:"/database/details/field-manage"},{key:"database-manage",id:"database-manage",icon:()=>p("span",{},[p(h,{name:"database-menu-icon",class:"menu-icon"})]),label:"数据管理",title:"数据管理",path:"/database/details/database-manage"}]),_=({item:c})=>{s.value.includes(c.id)||o("changeMenu",c)};return(c,g)=>{const x=L,M=u("router-link"),C=N;return m(),b("div",F,[d(C,{class:"left-menu",selectedKeys:s.value,onClick:_},{default:f(()=>[(m(!0),b(q,null,B(l.value,r=>(m(),y(M,{class:"default-color",to:{path:r.path,query:$(i)},key:r.key},{default:f(()=>[(m(),y(x,{icon:r.icon,path:r.path,key:r.key},{default:f(()=>[w(S(r.label),1)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},j=v(X,[["__scopeId","data-v-e3489ea4"]]),P=A({components:{LeftMenus:j,AddDataSheet:K,EditOutlined:V},async beforeRouteEnter(e,n,o){let t=E(e.query.form_id);if(t==0||t==1){o("/no-permission");return}o()},setup(){const e=O(),o=k().query,t=D(()=>e.databaseInfo),i=()=>{e.getDatabaseInfo({id:o.form_id})};i();const s=I(null);return{dataBaseInfo:t,getInfo:i,toEdit:()=>{s.value.show({...e.databaseInfo})},addDataSheetRef:s}}}),T={class:"details-library-page"},U={class:"between-content-box"},Z={class:"layout-left"},z={class:"library-name-box"},G={class:"name"},H={class:"left-menu-box"},J={class:"right-content-box"};function Q(e,n,o,t,i,s){const l=h,_=u("LeftMenus"),c=u("router-view"),g=u("AddDataSheet");return m(),b("div",T,[a("div",U,[a("div",Z,[a("div",z,[n[0]||(n[0]=a("img",{class:"avatar",src:R,alt:""},null,-1)),a("div",G,S(e.dataBaseInfo.name),1),d(l,{onClick:e.toEdit,name:"edit"},null,8,["onClick"])]),a("div",H,[d(_)])]),a("div",J,[d(c)])]),d(g,{onOk:e.getInfo,ref:"addDataSheetRef"},null,8,["onOk"])])}const we=v(P,[["render",Q],["__scopeId","data-v-5c3af201"]]);export{we as default};
