import{_ as T,b as D,a as E,L as B,M as U}from"../../index-C5-B0r5-.js";import{d as A}from"./vuedraggable.umd-u2TvJqwU.js";import{an as M,ah as $,v as L,Q as O,b as V,T as F,J,M as P,F as Q,e as z,I as H}from"./ui-antd-B11sc9DP.js";import{f as G,e as N,w as R,ac as m,ad as r,as as t,ae as j,az as q,k as n,at as l,u as e,ar as c,G as C,r as K}from"./vue-chunks-CGLjTDrY.js";import"./neo4j-Bk0ySkcX.js";import"./utils-BH-4gQMj.js";import"./other-BrZCAsTs.js";import"./vue-pdf-embed-DYPuxmVf.js";const W="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2016%2016'%3e%3cpath%20fill='currentColor'%20d='M5%204.667A1.333%201.333%200%201%200%205%202a1.333%201.333%200%200%200%200%202.667ZM6.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM6.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM11%204.667A1.333%201.333%200%201%200%2011%202a1.333%201.333%200%200%200%200%202.667ZM12.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM12.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200Z'%20data-follow-fill='%23000'/%3e%3c/svg%3e",X={class:"content-box"},Y={class:"custom-table"},ee={class:"t-head"},te={class:"td"},ne={style:{"padding-left":"22px"}},ae={class:"td"},se={class:"t-body"},oe={class:"t-item"},ie={key:0},le={key:1},ce={class:"t-item flex-center"},de={__name:"nav-setting",emits:["handleGetCompany"],setup(Z,{emit:i}){const{t:s}=D("views.user.enterprise"),f=E(),v=M.PRESENTED_IMAGE_SIMPLE,k=i,d=G([]),u=N(()=>f.top_navigate);let p=f.topNavigateDefaultData;R(()=>u.value,h=>{let a=h||[];d.value=a.map(_=>({...p.find(g=>g.id==_.id),..._}))},{deep:!0,immediate:!0});const b=()=>{y()},y=()=>{B({id:f.id,top_navigate:JSON.stringify(d.value)}).then(h=>{V.success(s("saveSuccess")),k("handleGetCompany")})};return(h,a)=>{const _=L,x=O,g=M;return r(),m("div",X,[t("div",Y,[t("div",ee,[t("div",te,[t("span",ne,l(e(s)("sort")),1),n(_,{title:e(s)("sortTip")},{default:c(()=>[n(e($),{style:{"margin-left":"4px"}})]),_:1},8,["title"])]),t("div",ae,[C(l(e(s)("showInTop"))+" ",1),n(_,{title:e(s)("showInTopTip")},{default:c(()=>[n(e($),{style:{"margin-left":"4px"}})]),_:1},8,["title"])])]),t("div",se,[n(e(A),{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=o=>d.value=o),"item-key":"id",onEnd:b,group:"table-rows",handle:".drag-btn"},{item:c(({element:o,index:I})=>[(r(),m("div",{key:o.id,class:"t-row"},[t("div",oe,[a[1]||(a[1]=t("span",{class:"drag-btn"},[t("img",{src:W,alt:""})],-1)),o.name.length>30?(r(),m("span",ie,[n(_,null,{title:c(()=>[C(l(o.name),1)]),default:c(()=>[C(" "+l(o.name.slice(0,30)+"..."),1)]),_:2},1024)])):(r(),m("span",le,l(o.name),1))]),t("div",ce,[n(x,{disabled:o.isDisabled,onChange:y,checked:o.open,"onUpdate:checked":w=>o.open=w,"checked-children":e(s)("on"),"un-checked-children":e(s)("off")},null,8,["disabled","checked","onUpdate:checked","checked-children","un-checked-children"])])]))]),_:1},8,["modelValue"])])]),d.value.length==0?(r(),j(g,{key:0,style:{margin:"108px 0 24px 0"},image:e(v)},null,8,["image"])):q("",!0)])}}},_e=T(de,[["__scopeId","data-v-984dd881"]]),pe={class:"enterprise-set"},re={class:"page-title"},me={class:"enterprise-box"},ue={class:"content-label"},ve={class:"content-name"},he={key:0},ge={key:1,class:"gray-text"},fe={class:"enterprise-box"},ye={class:"content-label",style:{"line-height":"32px"}},xe={__name:"index",setup(Z){const{t:i}=D("views.user.enterprise"),s=E(),{companyInfo:f}=s,v=N(()=>s.name),k=N(()=>s.id),d=()=>{s.getCompanyInfo()};d();const u=G(!1),p=K({name:"",id:""}),b=()=>{p.name=v.value,p.id=k.value,u.value=!0},y=()=>{U({...p}).then(h=>{V.success(i("common.saveSuccess")),d();let a=document.title.split("Chatwiki");document.title=a[0]+"Chatwiki "+p.name,u.value=!1})};return(h,a)=>{const _=F,x=J,g=H,o=z,I=Q,w=P;return r(),m("div",pe,[t("div",re,l(e(i)("enterpriseSettings")),1),t("div",me,[n(_,{align:"center"},{default:c(()=>[t("div",ue,l(e(i)("systemName"))+"：",1),t("div",ve,[v.value?(r(),m("span",he,l(v.value),1)):(r(),m("span",ge,l(e(i)("notSetTip")),1))]),t("a",{class:"edit-btn",onClick:b},l(e(i)("change")),1)]),_:1})]),n(x),t("div",fe,[n(_,null,{default:c(()=>[t("div",ye,l(e(i)("topNavigationSettings"))+"：",1),n(_e,{onHandleGetCompany:d})]),_:1})]),n(w,{open:u.value,"onUpdate:open":a[1]||(a[1]=S=>u.value=S),title:e(i)("SetSystemName"),onOk:y},{default:c(()=>[n(I,{class:"form-box"},{default:c(()=>[n(o,{label:e(i)("systemName")},{default:c(()=>[n(g,{maxlength:15,value:p.name,"onUpdate:value":a[0]||(a[0]=S=>p.name=S),placeholder:e(i)("enterName")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1},8,["open","title"])])}}},$e=T(xe,[["__scopeId","data-v-dc2bb3df"]]);export{$e as default};
