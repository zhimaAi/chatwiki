import{u as T,c as D,L as F,M as H,N as W}from"../../index-DSFcP5NQ.js";import{r as N,c as I,w as q,a as C,b as y,p as n,e as Z,q as J,y as e,v as i,u as t,t as s,_ as k,am as z,E as A}from"./vue-chunks-BdaA73Wf.js";import{_ as B}from"./emoji-mart-BBMRoEa3.js";import{ai as V,ac as G,q as Q,H as K,b as O,c as L,E as X,N as Y,F as P,B as ee,M,a4 as te,J as oe,z as ne,I as se}from"./ui-antd-Dl1wwwCD.js";import"./neo4j-MWxXN7EM.js";import"./editor-cherry-CFIsbKoN.js";import"./lodash-Bm5sK6rN.js";import"./elkjs-BN8GIjVH.js";import"./utils-CvB22N-W.js";import"./other-LrIFyvU9.js";const ae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2016%2016'%3e%3cpath%20fill='currentColor'%20d='M5%204.667A1.333%201.333%200%201%200%205%202a1.333%201.333%200%200%200%200%202.667ZM6.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM6.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM11%204.667A1.333%201.333%200%201%200%2011%202a1.333%201.333%200%200%200%200%202.667ZM12.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM12.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200Z'%20data-follow-fill='%23000'/%3e%3c/svg%3e",ie={class:"content-box"},le={class:"custom-table"},ce={class:"t-head"},_e={class:"td"},pe={style:{"padding-left":"22px"}},de={class:"td"},re={class:"t-body"},me={class:"t-item"},ue={key:0},ve={key:1},ge={class:"t-item flex-center"},fe={__name:"nav-setting",emits:["handleGetCompany"],setup(U,{emit:a}){const{t:o}=T("views.user.enterprise"),g=D(),b=V.PRESENTED_IMAGE_SIMPLE,r=a,m=N([]),f=I(()=>g.top_navigate);let u=g.topNavigateDefaultData;q(()=>f.value,c=>{let d=c||[];m.value=d.map(v=>({...u.find(_=>_.id==v.id),...v}))},{deep:!0,immediate:!0});const S=()=>{w()},w=()=>{F({id:g.id,top_navigate:JSON.stringify(m.value)}).then(c=>{O.success(o("saveSuccess")),r("handleGetCompany")})};return(c,d)=>{const v=Q,h=K,_=V;return y(),C("div",ie,[n("div",le,[n("div",ce,[n("div",_e,[n("span",pe,i(t(o)("sort")),1),e(v,{title:t(o)("sortTip")},{default:s(()=>[e(t(G),{style:{"margin-left":"4px"}})]),_:1},8,["title"])]),n("div",de,[k(i(t(o)("showInTop"))+" ",1),e(v,{title:t(o)("showInTopTip")},{default:s(()=>[e(t(G),{style:{"margin-left":"4px"}})]),_:1},8,["title"])])]),n("div",re,[e(t(z),{modelValue:m.value,"onUpdate:modelValue":d[0]||(d[0]=l=>m.value=l),"item-key":"id",onEnd:S,group:"table-rows",handle:".drag-btn"},{item:s(({element:l,index:x})=>[(y(),C("div",{key:l.id,class:"t-row"},[n("div",me,[d[1]||(d[1]=n("span",{class:"drag-btn"},[n("img",{src:ae,alt:""})],-1)),l.name.length>30?(y(),C("span",ue,[e(v,null,{title:s(()=>[k(i(l.name),1)]),default:s(()=>[k(" "+i(l.name.slice(0,30)+"..."),1)]),_:2},1024)])):(y(),C("span",ve,i(l.name),1))]),n("div",ge,[e(h,{disabled:l.isDisabled,onChange:w,checked:l.open,"onUpdate:checked":p=>l.open=p,"checked-children":t(o)("on"),"un-checked-children":t(o)("off")},null,8,["disabled","checked","onUpdate:checked","checked-children","un-checked-children"])])]))]),_:1},8,["modelValue"])])]),m.value.length==0?(y(),Z(_,{key:0,style:{margin:"108px 0 24px 0"},image:t(b)},null,8,["image"])):J("",!0)])}}},he=B(fe,[["__scopeId","data-v-984dd881"]]),ke="/assets/img/enterprise-icon-B1GbahpE.svg",be={class:"modal-title-box"},ye={class:"modal-footer"},xe={__name:"cookie-setting",setup(U,{expose:a}){const{t:o}=T("views.user.enterprise.components.cookie-setting"),g=D(),b=N(!1),r=A({cookie_tip_positions:[],cookie_tip_ip_locations:[]}),m=()=>{M.confirm({title:o("msgWarmTip"),icon:e(te),content:o("msgTrialVersion"),onOk(){}})},f=()=>{b.value=!1},u=()=>{f()},S=()=>{H({cookie_tip_positions:r.cookie_tip_positions.join(","),cookie_tip_ip_locations:r.cookie_tip_ip_locations.join(",")}).then(w=>{O.success(o("msgSaveSuccess")),f(),g.getCompanyInfo()})};return a({show:m,hide:f}),(w,c)=>{const d=Y,v=X,h=L,_=P,l=ee,x=M;return y(),Z(x,{open:b.value,"onUpdate:open":c[2]||(c[2]=p=>b.value=p),width:500,onOk:S,onCancel:u,footer:null},{title:s(()=>[n("div",be,[k(i(t(o)("titleCookieAuthSetting"))+" ",1),c[3]||(c[3]=n("img",{src:ke,alt:""},null,-1))])]),default:s(()=>[e(_,{class:"modal-form",model:r,layout:"vertical"},{default:s(()=>[e(h,{label:t(o)("labelIpRange")},{default:s(()=>[e(v,{value:r.cookie_tip_ip_locations,"onUpdate:value":c[0]||(c[0]=p=>r.cookie_tip_ip_locations=p)},{default:s(()=>[e(d,{value:"domestic"},{default:s(()=>[k(i(t(o)("labelDomesticIp")),1)]),_:1}),e(d,{value:"overseas"},{default:s(()=>[k(i(t(o)("labelOverseasIp")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),e(h,{label:t(o)("labelReminderPages")},{default:s(()=>[e(v,{value:r.cookie_tip_positions,"onUpdate:value":c[1]||(c[1]=p=>r.cookie_tip_positions=p)},{default:s(()=>[e(d,{value:"login"},{default:s(()=>[k(i(t(o)("labelLoginPage")),1)]),_:1}),e(d,{value:"webapp"},{default:s(()=>[k(i(t(o)("labelWebapp")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"])]),_:1},8,["model"]),n("div",ye,[e(l,{onClick:u},{default:s(()=>[k(i(t(o)("btnCancel")),1)]),_:1}),e(l,{type:"primary",onClick:S},{default:s(()=>[k(i(t(o)("btnConfirm")),1)]),_:1})])]),_:1},8,["open"])}}},Ce=B(xe,[["__scopeId","data-v-eb55048a"]]),Se={class:"enterprise-set"},we={class:"page-title"},$e={class:"enterprise-box"},Ie={class:"content-label"},Ne={class:"content-name"},Ee={key:0},Me={key:1,class:"gray-text"},Te={class:"enterprise-box"},De={class:"content-label"},Be={class:"content-name"},Oe={class:"gray-text"},Ue={class:"enterprise-box"},Ve={class:"content-label",style:{"line-height":"32px"}},Ge={__name:"index",setup(U){const{t:a}=T("views.user.enterprise"),o=D(),{companyInfo:g}=o,b=I(()=>o.name),r=I(()=>o.id),m=()=>{o.getCompanyInfo()};m();const f=N(!1),u=A({name:"",id:""}),S=()=>{u.name=b.value,u.id=r.value,f.value=!0},w=()=>{W({...u}).then(h=>{O.success(a("common.saveSuccess")),m();let _=document.title.split("Chatwiki");document.title=_[0]+"Chatwiki "+u.name,f.value=!1})},c=N(null),d=()=>{c.value.show()},v=I(()=>{let h=g.cookie_tip_positions?g.cookie_tip_positions.split(","):[],_=g.cookie_tip_ip_locations?g.cookie_tip_ip_locations.split(","):[];if(h.length==0&&_.length==0)return a("msgCookieNotSet");let l={domestic:a("labelDomesticIp"),overseas:a("labelOverseasIp")},x={home:a("labelHome"),login:a("labelLoginPage"),webapp:a("labelWebapp")},p=[];return _.forEach($=>{p.push(l[$])}),h.forEach($=>{p.push(x[$])}),p=p.filter(Boolean),`${a("msgCookieEnabled")}（${p.join("、")}）`});return(h,_)=>{const l=oe,x=ne,p=se,$=L,R=P,j=M;return y(),C("div",Se,[n("div",we,i(t(a)("enterpriseSettings")),1),n("div",$e,[e(l,{align:"center"},{default:s(()=>[n("div",Ie,i(t(a)("systemName"))+"：",1),n("div",Ne,[b.value?(y(),C("span",Ee,i(b.value),1)):(y(),C("span",Me,i(t(a)("notSetTip")),1))]),n("a",{class:"edit-btn",onClick:S},i(t(a)("change")),1)]),_:1})]),e(x),n("div",Te,[e(l,{align:"center"},{default:s(()=>[n("div",De,i(t(a)("labelCookieAuth"))+"：",1),n("div",Be,[n("span",Oe,i(v.value),1)]),n("a",{class:"edit-btn",onClick:d},i(t(a)("change")),1)]),_:1})]),e(x),n("div",Ue,[e(l,null,{default:s(()=>[n("div",Ve,i(t(a)("topNavigationSettings"))+"： ",1),e(he,{onHandleGetCompany:m})]),_:1})]),e(j,{open:f.value,"onUpdate:open":_[1]||(_[1]=E=>f.value=E),title:t(a)("SetSystemName"),onOk:w},{default:s(()=>[e(R,{class:"form-box"},{default:s(()=>[e($,{label:t(a)("systemName")},{default:s(()=>[e(p,{maxlength:15,value:u.name,"onUpdate:value":_[0]||(_[0]=E=>u.name=E),placeholder:t(a)("enterName")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1},8,["open","title"]),e(Ce,{ref_key:"cookieSettingRef",ref:c},null,512)])}}},Je=B(Ge,[["__scopeId","data-v-b6e82d15"]]);export{Je as default};
//# sourceMappingURL=index-BSWwTnNU.js.map
