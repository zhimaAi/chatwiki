import{B as n,M as L,S as h,P as M}from"./pull-up.esm-DIiTC7VE.js";import{O as Y}from"./observe-dom.esm-B25JyVKH.js";import{_ as k}from"./emoji-mart-BBMRoEa3.js";import{r as y,j as S,i as U,J as O,a as T,b as w,p as x,C as D,h as g}from"./vue-chunks-BdaA73Wf.js";const C={class:"scroll-content"},P={__name:"cu-scroll",props:{scrollX:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!0},scrollbar:{type:[Boolean,Object],default:()=>({minSize:0,interactive:!0,scrollbarTrackClickable:!0})},pullUpLoad:{type:[Boolean,Object],default:!0},disableMouse:{type:Boolean,default:!1}},emits:["onScrollEnd","scroll"],setup(p,{expose:m,emit:f}){n.use(L),n.use(h),n.use(Y),n.use(M);const d=f,l=p;let a=null;const t=y(null);let e=null;const v=()=>{e.refresh()},b=o=>{let{el:s,time:i,offsetX:c,offsetY:u,easing:r}=o;e.scrollToElement(s,i,c,u,r)},_=()=>{e.enable()},B=()=>{e.disable()};return S(()=>{var o;e=new n(t.value,{scrollX:l.scrollX,scrollY:l.scrollY,scrollbar:l.scrollbar,observeDOM:!0,pullUpLoad:l.pullUpLoad,probeType:0,mouseWheel:{speed:20,invert:!1,easeTime:300},preventDefault:!1,bounce:!1,click:!0}),e.on("pullingUp",()=>{d("onScrollEnd"),U(()=>{e.finishPullUp()})}),e.on("scroll",s=>{d("scroll",s)}),a=s=>{const i=s.clientY,c=r=>{const E=r.clientY-i;Math.abs(E)>5&&(r.preventDefault(),r.stopPropagation())},u=()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u,{once:!0})},l.disableMouse&&((o=t.value)==null||o.addEventListener("mousedown",a))}),O(()=>{t.value&&a&&t.value.removeEventListener("mousedown",a)}),m({refresh:v,scrollToElement:b,enable:_,disable:B}),(o,s)=>(w(),T("div",{class:g(["scroll-wrapper",{"cu-scrolbar-box":l.scrollbar.interactive}]),ref_key:"scroller",ref:t},[x("div",C,[D(o.$slots,"default",{},void 0,!0)])],2))}},W=k(P,[["__scopeId","data-v-d13ae72c"]]);export{W as _};
//# sourceMappingURL=cu-scroll-CpIj948h.js.map
