import{b as Q,h as et,aa as le,ab as Oe,ac as Le,ad as ie,ae as Ge,j as tt,w as ot,x as st,af as nt,d as lt,ag as at}from"../../index-CuFGOJXl.js";import{_ as it}from"./cu-scroll-BxmqGNDQ.js";import{f as p,a1 as z,_ as l,a2 as o,a5 as e,k as t,G as A,u as I,r as Ue,Y as _,F as W,a9 as J,a7 as M,ae as X,ad as ue,o as ke,l as re,B as q,aa as Ee,ab as Fe,e as Te}from"./vue-chunks-yZ4gwLzA.js";import{i as ut,j as Be,k as dt,g as qe,l as ct,m as rt,n as _t}from"./index-CfeGYFjs.js";import{A as Ne,a as pt,b as vt}from"./add-group-BvjxT2FY.js";import{k as ze,as as ft,at as mt,M as V,a as O,o as kt,u as ht,v as bt,F as We,e as Ve,I as he,W as je,N as gt,a5 as He,ah as be,ae as yt,H as $t,a2 as me,B as pe,an as _e,b as ge,c as ye,D as $e,z as Ct,Z as xt,ao as wt,aa as Mt,au as Tt,av as Rt,aw as Pt,G as St,ap as Ot,p as Lt,X as Ut,ax as At,ay as It,aj as Dt,O as Re}from"./ui-antd-BKjlZQNA.js";import{_ as Gt}from"./page-alert-CPrT-Mm4.js";import{L as Et}from"./list-tabs-BFnVvZDT.js";import{_ as Pe}from"./empty-BFmzY9bl.js";import{_ as Ft}from"./no-permission-DtJ3NYHG.js";import{_ as Bt}from"./tool-icon-IWVrYlVb.js";import{a as Se,g as qt,s as Nt,b as zt,d as Wt}from"./thirdMcp-C0RHwPjE.js";import"./utils-smNh_pj2.js";import"./pull-up.esm-DIiTC7VE.js";import"./observe-dom.esm-B25JyVKH.js";import"./index-DXUrEY-q.js";import"./robot-DmLnKp5K.js";const Vt={class:"form-box"},jt={class:"tip-box"},Ht={class:"ant-upload-drag-icon"},Kt={__name:"import-csl-alert",emits:["ok"],setup(L,{expose:E,emit:U}){const x=U,f=p(!1),a=p(!1),b=p([]),d=()=>{f.value=!0},h=()=>{f.value=!1,b.value=[]},T=()=>{if(b.value.length===0){O.error("请上传csl文件");return}a.value=!0,ut({file:b.value[0].originFileObj}).then(g=>{a.value=!1,f.value=!1,O.success("导入成功"),b.value=[],x("ok",g.data)}).catch(()=>{a.value=!1})},m=g=>g.name.endsWith(".csl")?!1:(O.error("只能上传csl格式的文件"),kt.LIST_IGNORE),s=g=>{const{status:i}=g.file;i!=="uploading"&&(g.file,g.fileList)};return E({open:d}),(g,i)=>{const P=ze,n=mt,$=V;return l(),z($,{width:"600px",open:f.value,"onUpdate:open":i[1]||(i[1]=C=>f.value=C),confirmLoading:a.value,title:"导入csl文件创建机器人",onOk:T,onCancel:h},{default:o(()=>[e("div",Vt,[e("div",jt,[t(P,{type:"info"},{description:o(()=>[...i[2]||(i[2]=[A(" 您可以将您编排好的机器人导出为csl文件,共享给他人使用。也可以从他人处获取导出的csl文件,通过导入形式创建机器人。 ",-1)])]),_:1})]),t(n,{fileList:b.value,"onUpdate:fileList":i[0]||(i[0]=C=>b.value=C),name:"file",multiple:!1,maxCount:1,accept:".csl","before-upload":m,onChange:s},{default:o(()=>[e("p",Ht,[t(I(ft),{class:"upload-icon"})]),i[3]||(i[3]=e("p",{class:"upload-text"},"点击或将文件拖拽到这里上传",-1)),i[4]||(i[4]=e("p",{class:"upload-hint"},"仅支持从chatwiki导出生成的csl文件",-1))]),_:1},8,["fileList"])])]),_:1},8,["open","confirmLoading"])}}},Jt=Q(Kt,[["__scopeId","data-v-5b3f5182"]]),Yt={class:"form-item"},Zt={class:"form-content"},Xt={__name:"edit-group",emits:["ok"],setup(L,{expose:E,emit:U}){const x=p(!1),f=U,a=p("修改分组"),b=Ue({group_id:"",robot_id:""}),d=p([]),h=s=>{b.group_id=s.group_id||"0",b.robot_id=s.id||"",m(),x.value=!0},T=()=>{if(!b.group_id)return O.error("请选择分组");dt({...b}).then(s=>{O.success(`${a.value}成功`),x.value=!1,f("ok")})},m=()=>{Be().then(s=>{d.value=s.data||[]})};return E({show:h}),(s,g)=>{const i=bt,P=ht,n=V;return l(),_("div",null,[t(n,{open:x.value,"onUpdate:open":g[1]||(g[1]=$=>x.value=$),title:a.value,onOk:T},{default:o(()=>[e("div",Yt,[g[2]||(g[2]=e("div",{class:"form-label"},"分组名称：",-1)),e("div",Zt,[t(P,{value:b.group_id,"onUpdate:value":g[0]||(g[0]=$=>b.group_id=$),style:{width:"100%"},placeholder:"请选择分组"},{default:o(()=>[(l(!0),_(W,null,J(d.value,$=>(l(),z(i,{value:$.id},{default:o(()=>[A(M($.group_name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])])])]),_:1},8,["open","title"])])}}},Qt=Q(Xt,[["__scopeId","data-v-5ebd311c"]]),eo=()=>{const L=et();return{openUrlWithToken:U=>{const x=L.getToken;if(!x){console.warn("Token is missing");return}if(!U){console.warn("URL is missing");return}const f=U.includes("?")?"&":"?",a=`${U}${f}token=${x}`;window.open(a,"_blank")}}};function to(L={}){return le.get({url:"/manage/getMcpServerList",params:L})}function oo(L={}){return le.post({headers:{"Content-Type":"multipart/form-data"},url:"/manage/saveMcpServer",data:L})}function so(L={}){return le.post({url:"/manage/deleteMcpServer",data:L})}function no(L={}){return le.post({url:"/manage/updateMcpServerPublishStatus",data:L})}function lo(L={}){return le.post({url:"/manage/saveMcpTool",data:L})}function ao(L={}){return le.post({url:"/manage/editMcpTool",data:L})}function io(L={}){return le.post({url:"/manage/deleteMcpTool",data:L})}const uo={class:"avatar-box"},co={__name:"mcp-store",emits:["ok"],setup(L,{expose:E,emit:U}){const x=U,f=p(!1),a=p(!1),b=p(null),d={avatar:Oe,name:"",description:"",server_id:""},h=Ue({});function T(g=null){Object.assign(h,g||d),b.value=null,f.value=!0}function m(g){b.value=g}function s(){var g;try{if(a.value=!0,h.name=h.name.trim(),h.description=h.description.trim(),!h.name)throw"请输入MCP插件名称";if(!h.description)throw"请输入MCP插件描述";let i={...h};b.value&&(i.avatar=(g=b.value)==null?void 0:g.file),oo(i).then(P=>{x("ok",h),O.success("已保存"),f.value=!1}).finally(()=>{a.value=!1})}catch(i){a.value=!1,O.error(i)}}return E({show:T}),(g,i)=>{const P=he,n=Ve,$=je,C=We,w=V;return l(),z(w,{open:f.value,"onUpdate:open":i[3]||(i[3]=y=>f.value=y),title:h.server_id?"编辑MCP":"添加MCP",width:"472px","confirm-loading":a.value,onOk:s},{default:o(()=>[e("div",uo,[t(Ne,{value:h.avatar,"onUpdate:value":i[0]||(i[0]=y=>h.avatar=y),onChange:m},null,8,["value"]),i[4]||(i[4]=e("div",{class:"tip-info"},"点击替换，建议尺寸为100*100px，大小不超过100kb",-1))]),t(C,{class:"form-box",labelAlign:"left"},{default:o(()=>[t(n,{label:"MCP插件名称",required:"",colon:!1},{default:o(()=>[t(P,{value:h.name,"onUpdate:value":i[1]||(i[1]=y=>h.name=y),placeholder:"请输入MCP插件名称，最多20个字",maxlength:20},null,8,["value"])]),_:1}),t(n,{label:"描述",colon:!1},{default:o(()=>[t($,{value:h.description,"onUpdate:value":i[2]||(i[2]=y=>h.description=y),"auto-size":{minRows:2,maxRows:5},placeholder:"请输入描述",maxlength:20},null,8,["value"])]),_:1}),h.server_id?X("",!0):(l(),_(W,{key:0},[i[5]||(i[5]=e("div",{class:"tit-box"},[A("配置信息 "),e("span",{class:"desc"},"以下配置创建完成后自动生成")],-1)),t(n,{label:"插件URL",colon:!1},{default:o(()=>[t(P,{disabled:"",placeholder:"创建完成后默认生成"})]),_:1}),t(n,{label:"授权方式",colon:!1},{default:o(()=>[t(P,{disabled:"",placeholder:"Service token / API key"})]),_:1}),t(n,{label:"请求头",colon:!1},{default:o(()=>[t(P,{disabled:"",placeholder:"Authorization"})]),_:1}),t(n,{label:"API KEY",colon:!1},{default:o(()=>[t(P,{disabled:"",placeholder:"创建完成后默认生成"})]),_:1})],64))]),_:1})]),_:1},8,["open","title","confirm-loading"])}}},ro=Q(co,[["__scopeId","data-v-6f6a3691"]]),_o={class:"data-list"},po=["onClick"],vo=["src"],fo={class:"info"},mo={class:"tit"},ko={class:"desc"},ho={key:1,class:"status-tag waiting"},bo={__name:"select-workflow-modal",emits:["ok"],setup(L,{expose:E,emit:U}){const x=U,f=p(!1),a=p([]),b=p([]);function d(m=[]){b.value=m,f.value=!0,h()}function h(){qe({application_type:1}).then(m=>{a.value=m.data||[],a.value.forEach(s=>{s.checked=b.value.includes(s.id)})})}function T(){f.value=!1,x("ok",a.value.filter(m=>m.checked).map(m=>m.id),a)}return E({show:d}),(m,s)=>{const g=ze,i=gt,P=V;return l(),z(P,{open:f.value,"onUpdate:open":s[0]||(s[0]=n=>f.value=n),title:"关联工作流",width:"669px",onOk:T},{default:o(()=>[t(g,{class:"zm-alert-info mt24",type:"info",message:"选择工作流后，会自动生成唯一标识符，可修改","show-icon":""}),e("div",_o,[(l(!0),_(W,null,J(a.value,(n,$)=>(l(),_("div",{key:$,class:ue(["data-item",{disabled:n.has_published!=1}]),onClick:C=>n.checked=!n.checked},[e("img",{class:"avatar",src:n.robot_avatar},null,8,vo),e("div",fo,[e("div",null,[e("div",mo,M(n.robot_name),1),e("div",ko,M(n.robot_intro),1)]),n.has_published==1?(l(),z(i,{key:0,checked:n.checked,"onUpdate:checked":C=>n.checked=C},null,8,["checked","onUpdate:checked"])):(l(),_("span",ho,[t(I(He)),s[1]||(s[1]=A(" 未发布",-1))]))])],10,po))),128))])]),_:1},8,["open"])}}},go=Q(bo,[["__scopeId","data-v-2ea00b78"]]),yo={class:"_mcp-box"},$o={key:0,class:"loading-box"},Co={class:"base-info-box"},xo={class:"app-info"},wo=["src"],Mo={class:"info-box"},To={class:"left-box"},Ro={class:"name"},Po={key:0,class:"status-tag finished"},So={key:1,class:"status-tag waiting"},Oo={class:"desc"},Lo={class:"right-box"},Uo={class:"app-data"},Ao={class:"data-item"},Io={class:"title"},Do={class:"value"},Go={class:"tools-box"},Eo={class:"head-box"},Fo={key:0,class:"tools-list"},Bo={class:"left"},qo={class:"tit"},No={class:"key"},zo={class:"desc"},Wo={class:"params"},Vo={class:"params-box"},jo={class:"field"},Ho={class:"name"},Ko={class:"type"},Jo={key:0,class:"required"},Yo={class:"desc"},Zo={key:1,class:"empty-box"},Xo={key:2,class:"empty-box"},Qo={class:"mt4"},es={__name:"mcp-box",setup(L){const E=p(null),U=p(null),x=p(!0),f=p(!1),a=p(null),b=p([]),d=p([]),h=p(!1),T=p(!1),m=p(""),s=p(null);ke(()=>{g()});function g(){x.value=!0,i()}function i(){to().then(k=>{var r,H,te;a.value=((r=k==null?void 0:k.data)==null?void 0:r.info)||{},d.value=((H=k==null?void 0:k.data)==null?void 0:H.tool_list)||{},a.value.status_bool=((te=a.value)==null?void 0:te.publish_status)==1,d.value.forEach(K=>{K.params=Le(K.params,[])}),n()}).finally(()=>{x.value=!1})}function P(){const k=()=>{a.value.status_bool=!a.value.status_bool},r=()=>{f.value=!0,no({server_id:a.value.id,publish_status:Number(a.value.status_bool)}).then(H=>{O.success("操作完成")}).finally(()=>{f.value=!1}).catch(()=>{k()})};a.value.status_bool?r():V.confirm({title:"确认关闭MCP服务？",content:"关闭后，其他应用的位置都不可使用！确认关闭？",okText:"确定",cancelText:"取消",onOk:()=>r(),onCancel:()=>k()})}function n(){var k;b.value=[{title:"URL",value:`${window.location.origin}/mcp`},{title:"请求方式",value:"POST"},{title:"授权方式",value:"Service token / API key"},{title:"请求参数名",value:"Authorization"},{title:"API key",value:`Bearer ${(k=a.value)==null?void 0:k.api_key}`}]}function $(){var r;let k=null;((r=a.value)==null?void 0:r.id)>0&&(k={avatar:a.value.avatar,name:a.value.name,description:a.value.description,server_id:a.value.id}),E.value.show(k)}function C(){V.confirm({title:"确认删除MCP服务？",content:"删除后，其他应用的位置都不可使用！确认删除？",okText:"确定",cancelText:"取消",onOk:()=>{so({server_id:a.value.id}).then(()=>{O.success("已删除"),i()})}})}function w(){U.value.show(d.value.map(k=>k.robot_id))}function y(k){s.value=k,m.value=k.name,h.value=!0}const v=k=>{k.target.value=k.target.value.replace(/[^a-zA-Z0-9_]/g,""),m.value=k.target.value};function S(){if(!m.value)return O.warning("请输入标识符");T.value=!0,ao({tool_id:s.value.id,name:m.value}).then(k=>{s.value.name=m.value,h.value=!1,O.success("已保存")}).finally(()=>{T.value=!1})}function D(k){V.confirm({title:"确认删除该工具？",okText:"确定",cancelText:"取消",onOk:()=>{io({tool_id:k.id}).then(()=>{O.success("已删除"),i()})}})}function j(k){lo({server_id:a.value.id,robot_id:k.toString()}).then(r=>{i(),O.success("已保存")})}return(k,r)=>{const H=be,te=$t,K=pe,G=ye,ne=ge,ee=$e,Ce=Ct,xe=wt,we=Mt,de=he,ve=V;return l(),_("div",yo,[x.value?(l(),_("div",$o,[t(H)])):a.value.id>0?(l(),_(W,{key:1},[e("div",Co,[e("div",xo,[e("img",{class:"avatar",src:a.value.avatar},null,8,wo),e("div",Mo,[e("div",To,[e("div",Ro,[A(M(a.value.name)+" ",1),a.value.status_bool?(l(),_("span",Po,[t(I(yt)),r[3]||(r[3]=A(" 已发布",-1))])):(l(),_("span",So,[t(I(He)),r[4]||(r[4]=A(" 未发布",-1))]))]),e("div",Oo,M(a.value.description),1)]),e("div",Lo,[t(te,{checked:a.value.status_bool,"onUpdate:checked":r[0]||(r[0]=B=>a.value.status_bool=B),onChange:P,loading:f.value,"checked-children":"开","un-checked-children":"关"},null,8,["checked","loading"]),t(K,{onClick:w,type:"primary",ghost:"",icon:re(I(me))},{default:o(()=>[...r[5]||(r[5]=[A("添加工作流",-1)])]),_:1},8,["icon"]),t(ee,null,{overlay:o(()=>[t(ne,null,{default:o(()=>[t(G,{onClick:$},{default:o(()=>[...r[6]||(r[6]=[A("编辑",-1)])]),_:1}),t(G,{onClick:C},{default:o(()=>[...r[7]||(r[7]=[e("span",{class:"cFB363F"},"删除",-1)])]),_:1})]),_:1})]),default:o(()=>[t(K,{icon:re(I(_e))},null,8,["icon"])]),_:1})])])]),e("div",Uo,[(l(!0),_(W,null,J(b.value,(B,oe)=>(l(),_(W,{key:oe},[e("div",Ao,[e("div",Io,M(B.title),1),e("div",Do,M(B.value),1)]),t(Ce,{type:"vertical",style:{height:"24px"}})],64))),128))])]),e("div",Go,[e("div",Eo,[t(I(xt),{class:"icon"}),A(" 工具列表（"+M(d.value.length||0)+"） ",1)]),d.value.length?(l(),_("div",Fo,[(l(!0),_(W,null,J(d.value,(B,oe)=>(l(),_("div",{key:oe,class:"tools-item"},[e("div",Bo,[e("div",qo,M(B.robot_name),1),e("div",No,"唯一标识符号："+M(B.name),1),e("div",zo,M(B.robot_intro),1),e("div",Wo,[(l(!0),_(W,null,J(B.params.slice(0,5),(Y,ae)=>(l(),z(xe,{key:ae,bordered:!1},{default:o(()=>[A(M(Y.key),1)]),_:2},1024))),128)),t(we,{placement:"right"},{content:o(()=>[e("div",Vo,[(l(!0),_(W,null,J(B.params,(Y,ae)=>(l(),_("div",{key:ae,class:"param-item"},[e("div",jo,[e("span",Ho,M(Y.key),1),e("span",Ko,M(Y.typ),1),Y.required?(l(),_("span",Jo,"必填")):X("",!0)]),e("div",Yo,M(Y.desc),1)]))),128))])]),default:o(()=>[r[8]||(r[8]=e("a",null,"参数",-1))]),_:2},1024)])]),t(ee,null,{overlay:o(()=>[t(ne,null,{default:o(()=>[t(G,{onClick:Y=>y(B)},{default:o(()=>[...r[9]||(r[9]=[A("编辑标识符",-1)])]),_:1},8,["onClick"]),t(G,{onClick:Y=>D(B)},{default:o(()=>[...r[10]||(r[10]=[e("span",{class:"cFB363F"},"删除",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),default:o(()=>[t(K,{size:"small",icon:re(I(_e))},null,8,["icon"])]),_:2},1024)]))),128))])):(l(),_("div",Zo,[r[12]||(r[12]=e("img",{src:Pe},null,-1)),r[13]||(r[13]=e("div",{class:"title"},"暂未绑定工作流",-1)),t(K,{onClick:w,class:"btn",type:"primary"},{default:o(()=>[...r[11]||(r[11]=[A("立即绑定",-1)])]),_:1})]))])],64)):(l(),_("div",Xo,[r[15]||(r[15]=e("img",{src:Pe},null,-1)),r[16]||(r[16]=e("div",{class:"title"},"暂未添加工作流MCP插件",-1)),t(K,{onClick:$,class:"btn",type:"primary"},{default:o(()=>[...r[14]||(r[14]=[A("立即添加",-1)])]),_:1})])),t(ro,{ref_key:"mcpRef",ref:E,onOk:i},null,512),t(go,{ref_key:"workflowRef",ref:U,onOk:j},null,512),t(ve,{open:h.value,"onUpdate:open":r[2]||(r[2]=B=>h.value=B),"confirm-loading":T.value,title:"编辑标识符",onOk:S},{default:o(()=>[r[17]||(r[17]=e("div",null,"标识符",-1)),e("div",Qo,[t(de,{value:m.value,"onUpdate:value":r[1]||(r[1]=B=>m.value=B),onInput:v,placeholder:"请输入标识符",maxlength:32},null,8,["value"])])]),_:1},8,["open","confirm-loading"])])}}},ts=Q(es,[["__scopeId","data-v-7299b4db"]]),os={key:0,class:"checking-box"},ss={class:"cont"},ns={class:"head-box"},ls={class:"base-info-box"},as=["src"],is={class:"info-box"},us={class:"left"},ds={class:"name zm-line1"},cs={key:0,class:"auth-tag"},rs={key:1,class:"auth-tag fail"},_s={class:"right"},ps={class:"link"},vs={class:"link"},fs={class:"body-box"},ms={key:0,class:"no-auth-box"},ks={class:"main-tit"},hs={class:"extra-box"},bs={class:"update-time"},gs={class:"tools-box"},ys={class:"info"},$s={class:"tit"},Cs={class:"desc"},xs={__name:"third-mcp-detail",emits:["del","edit","auth"],setup(L,{expose:E,emit:U}){const x=U,f=p(!1),a=p(!1),b=p(!1),d=p({});function h(P){d.value=P,f.value=!0}function T(){f.value=!1}function m(P){const n=()=>{a.value=!0,ie(!1),Se({provider_id:d.value.id}).then($=>{setTimeout(()=>{a.value=!1,d.value.has_auth=1,i(),O.success("已验证，授权完成")},2e3)}).catch($=>{d.value.has_auth=0,O.warning("授权失败："+$.message),a.value=!1}).finally(()=>{x("auth",d.value.has_auth),setTimeout(()=>{ie(!0)},500)})};P==2?V.confirm({title:"提示",content:"授权或者刷新应用列表都可能会影响已有工具的调用，确认继续操作吗？",onOk:()=>{n()}}):n()}function s(){x("edit",d.value)}function g(){x("del",d.value)}function i(P=!1){const n=()=>{qt({provider_id:d.value.id}).then($=>{let C=($==null?void 0:$.data)||{};C.tools=Le(C.tools,[]),C.up_time_text=Ge(C.update_time),d.value=C,P&&O.success("刷新完成")}).finally(()=>{b.value=!1})};if(P){if(b.value)return;V.confirm({title:"提示",content:"刷新应用列表或者授权都可能会影响已有工具的调用，确认继续操作吗？",onOk:()=>{b.value=!0,ie(!1),Se({provider_id:d.value.id}).then($=>{d.value.has_auth=1,n()}).catch($=>{d.value.has_auth=0,O.warning("验证授权失败："+$.message),b.value=!1}).finally(()=>{x("auth",d.value.has_auth),ie(!0)})}})}else n()}return E({show:h,hide:T,refresh:i}),(P,n)=>{const $=be,C=ye,w=ge,y=$e,v=pe,S=Pt;return l(),z(S,{open:f.value,"onUpdate:open":n[5]||(n[5]=D=>f.value=D),placement:"right",width:"400px",headerStyle:{display:"none"},bodyStyle:{padding:0}},{default:o(()=>[a.value?(l(),_("div",os,[e("div",ss,[t($),n[6]||(n[6]=A(" 正在验证... ",-1))])])):X("",!0),e("div",ns,[e("div",ls,[e("img",{class:"avatar",src:d.value.avatar},null,8,as),e("div",is,[e("div",us,[e("div",ds,M(d.value.name),1),e("div",null,[d.value.has_auth==1?(l(),_("div",cs,"已授权")):(l(),_("div",rs,"未授权"))])]),e("div",_s,[t(y,null,{overlay:o(()=>[t(w,null,{default:o(()=>[t(C,{onClick:q(s,["stop"])},{default:o(()=>[...n[7]||(n[7]=[A("编辑",-1)])]),_:1}),t(C,{onClick:q(g,["stop"])},{default:o(()=>[...n[8]||(n[8]=[e("span",{class:"cFB363F"},"删除",-1)])]),_:1})]),_:1})]),default:o(()=>[t(I(_e),{class:"icon"})]),_:1}),t(I(Tt),{onClick:n[0]||(n[0]=D=>f.value=!1),class:"icon"})])])]),e("div",ps,M(d.value.description),1),e("div",vs,M(d.value.url),1),d.value.has_auth==1?(l(),z(v,{key:0,class:"auth-btn",onClick:n[1]||(n[1]=D=>m(2))},{default:o(()=>[...n[9]||(n[9]=[A("重新授权",-1)])]),_:1})):(l(),z(v,{key:1,type:"primary",class:"auth-btn",onClick:n[2]||(n[2]=D=>m(1))},{default:o(()=>[...n[10]||(n[10]=[A("授 权",-1)])]),_:1}))]),e("div",fs,[d.value.has_auth!=1?(l(),_("div",ms,[n[11]||(n[11]=e("img",{src:Ft},null,-1)),n[12]||(n[12]=e("div",{class:"tit"},"需要授权",-1)),n[13]||(n[13]=e("div",{class:"desc"},"授权后，MCP工具将显示在这里",-1)),e("a",{class:"link",onClick:n[3]||(n[3]=D=>m(1))},"立即授权")])):(l(),_(W,{key:1},[e("div",ks,[e("span",null,M(d.value.tools.length)+"个可用工具",1),e("div",hs,[e("div",bs,M(d.value.up_time_text)+"更新",1),e("a",{class:"refresh-btn",onClick:n[4]||(n[4]=D=>i(!0))},[t(I(Rt),{spin:b.value},null,8,["spin"]),n[14]||(n[14]=A(" 刷新 ",-1))])])]),e("div",gs,[(l(!0),_(W,null,J(d.value.tools,(D,j)=>(l(),_("div",{key:j,class:"tool-item"},[n[15]||(n[15]=e("img",{class:"cover",src:Bt},null,-1)),e("div",ys,[e("div",$s,M(D.name),1),e("div",Cs,M(D.description),1)])]))),128))])],64))])]),_:1},8,["open"])}}},ws=Q(xs,[["__scopeId","data-v-bcef20f5"]]),Ms={key:0,class:"checking-box"},Ts={class:"cont"},Rs={class:"avatar-box"},Ps={key:0,class:"cFB363F"},Ss={class:"req-head-box"},Os={__name:"third-mcp-store",emits:["ok"],setup(L,{expose:E,emit:U}){const x=U,f=p(0),a=p(!1),b=p(!1),d=p(!1),h=p(null),T=p(""),m={avatar:Oe,name:"",description:"",provider_id:"",url:"",request_timeout:"30",headers:[]},s=Ue({});function g(y=null){if(Object.assign(s,y||m),h.value=null,s.headers=[],y){f.value=y.id,s.provider_id=y.id;let v=JSON.parse(y.headers);for(let S in v)s.headers.push({key:S,value:v[S]})}T.value=JSON.stringify({headers:s.headers,url:s.url}),a.value=!0}function i(y){h.value=y}function P(){s.headers.push({key:"",value:""})}function n(y){s.headers.splice(y,1)}function $(){return T.value!=JSON.stringify({headers:s.headers,url:s.url})}function C(){const y=O.loading("保存完成，正在进行授权验证...",0);b.value=!0,setTimeout(()=>{ie(!1),Se({provider_id:f.value}).then(v=>{O.success("授权完成！")}).catch(v=>{O.warning("授权失败："+v.message)}).finally(()=>{y(),b.value=!1,a.value=!1,x("ok",s),setTimeout(()=>{ie(!0)},500)})},1800)}function w(){var y;try{if(d.value=!0,s.name=s.name.trim(),s.description=s.description.trim(),!s.name)throw"请输入MCP插件名称";if(!s.description)throw"请输入MCP插件描述";if(!s.url)throw"请输入服务端点的URL";if(!s.request_timeout)throw"请输入超时时间";let v={...s};h.value&&(v.avatar=(y=h.value)==null?void 0:y.file),v.headers={};for(let S of s.headers)S.key=S.key.trim(),S.value=S.value.trim(),S.key&&S.value&&(v.headers[S.key]=S.value);v.headers=JSON.stringify(v.headers),delete v.toools,Nt(v).then(S=>{let{provider_id:D}=(S==null?void 0:S.data)||{};f.value=D,$()?C():(x("ok",s),O.success("已保存"),a.value=!1)}).finally(()=>{d.value=!1})}catch(v){d.value=!1,O.error(v)}}return E({show:g}),(y,v)=>{const S=be,D=he,j=Ve,k=je,r=St,H=pe,te=We,K=V;return l(),z(K,{open:a.value,"onUpdate:open":v[5]||(v[5]=G=>a.value=G),zIndex:1002,title:s.provider_id?"编辑MCP":"添加MCP",width:"472px","confirm-loading":d.value,onOk:w},{default:o(()=>[b.value?(l(),_("div",Ms,[e("div",Ts,[t(S),v[6]||(v[6]=A(" 正在验证... ",-1))])])):X("",!0),e("div",Rs,[t(Ne,{value:s.avatar,"onUpdate:value":v[0]||(v[0]=G=>s.avatar=G),onChange:i},null,8,["value"]),v[7]||(v[7]=e("div",{class:"tip-info"},"点击替换，建议尺寸为100*100px，大小不超过100kb",-1))]),t(te,{class:"form-box",labelAlign:"left"},{default:o(()=>[t(j,{label:"MCP插件名称",required:"",colon:!1},{default:o(()=>[t(D,{value:s.name,"onUpdate:value":v[1]||(v[1]=G=>s.name=G),placeholder:"请输入MCP插件名称，最多20个字",maxlength:20},null,8,["value"])]),_:1}),t(j,{label:"描述",colon:!1},{default:o(()=>[t(k,{value:s.description,"onUpdate:value":v[2]||(v[2]=G=>s.description=G),"auto-size":{minRows:2,maxRows:5},placeholder:"请输入描述",maxlength:120},null,8,["value"])]),_:1}),v[11]||(v[11]=e("div",{class:"tit-box"},"配置信息",-1)),t(j,{label:"插件URL",colon:!1},{default:o(()=>[t(D,{value:s.url,"onUpdate:value":v[3]||(v[3]=G=>s.url=G),placeholder:"服务端点的URL"},null,8,["value"]),s.provider_id?(l(),_("div",Ps,"修改服务端点 URL 可能会影响使用当前 MCP的应用")):X("",!0)]),_:1}),t(j,{label:"超时时间",colon:!1},{default:o(()=>[t(r,{value:s.request_timeout,"onUpdate:value":v[4]||(v[4]=G=>s.request_timeout=G),precision:0,style:{width:"100%"},placeholder:"请输入超时时间"},null,8,["value"])]),_:1}),t(j,{label:"请求头",colon:!1},{default:o(()=>[v[10]||(v[10]=e("div",{class:"tip-info"},"发送到 MCP 服务器的额外 HTTP 请求头",-1)),e("div",Ss,[v[9]||(v[9]=e("div",{class:"req-head-item"},[e("div",{class:"tit"},"请求头名称"),e("div",{class:"tit"},"请求头值")],-1)),(l(!0),_(W,null,J(s.headers,(G,ne)=>(l(),_("div",{key:ne,class:"req-head-item"},[t(D,{value:G.key,"onUpdate:value":ee=>G.key=ee,placeholder:"请输入"},null,8,["value","onUpdate:value"]),t(D,{value:G.value,"onUpdate:value":ee=>G.value=ee,placeholder:"请输入"},null,8,["value","onUpdate:value"]),t(I(Ot),{onClick:ee=>n(ne)},null,8,["onClick"])]))),128)),t(H,{class:"add-btn",type:"dashed",icon:re(I(me)),onClick:P},{default:o(()=>[...v[8]||(v[8]=[A("添加请求头",-1)])]),_:1},8,["icon"])])]),_:1})]),_:1})]),_:1},8,["open","title","confirm-loading"])}}},Ke=Q(Os,[["__scopeId","data-v-cdb4e5ed"]]),Ls={class:"_mcp-box"},Us={key:0,class:"loading-box"},As={key:1,class:"list-box"},Is=["onClick"],Ds={class:"base-info-box"},Gs=["src"],Es={class:"info-box"},Fs={class:"name zm-line1"},Bs={key:0,class:"auth-tag"},qs={key:1,class:"auth-tag fail"},Ns={class:"zm-line1"},zs={class:"bottom"},Ws={class:"extra-box"},Vs={class:"extra-item"},js={class:"extra-item"},Hs={key:2,class:"empty-box"},Ks={__name:"third-mcp-box",emits:["listLoaded"],setup(L,{expose:E,emit:U}){const x=Ee(),f=p(null),a=p(null),b=p(!0),d=p([]),h=U;ke(()=>{T()});function T(){b.value=!0,s()}function m(){s(),f.value&&f.value.refresh()}function s(){zt().then(C=>{let w=(C==null?void 0:C.data)||[];w.forEach(y=>{y.tools=Le(y.tools,[]),y.up_time_text=Ge(y.update_time)}),d.value=w,h("listLoaded",d.value.length)}).finally(()=>{b.value=!1})}function g(C){f.value.show(C)}function i(){a.value.show()}function P(C){a.value.show(C)}function n(){const C=x.resolve({path:"/mcp/index"}).href;window.open(C,"_blank")}function $(C){V.confirm({title:"确认删除该MCP插件？",content:"删除后，其他应用的位置都不可使用！确认删除？",okText:"确定",cancelText:"取消",onOk:()=>{Wt({provider_id:C.id}).then(()=>{O.success("已删除"),s(),f.value&&f.value.hide()})}})}return E({update:m}),(C,w)=>{const y=be,v=pe,S=ye,D=ge,j=$e;return l(),_("div",Ls,[b.value?(l(),_("div",Us,[t(y)])):d.value.length?(l(),_("div",As,[(l(!0),_(W,null,J(d.value,(k,r)=>(l(),_("div",{onClick:H=>g(k),key:r,class:"app-item"},[e("div",Ds,[e("img",{class:"avatar",src:k.avatar},null,8,Gs),e("div",Es,[e("div",Fs,M(k.name),1),e("div",null,[k.has_auth==1?(l(),_("div",Bs,"已授权")):(l(),_("div",qs,"未授权"))])])]),e("div",Ns,M(k.url),1),e("div",zs,[e("div",Ws,[e("div",Vs,"可用工具："+M(k.tools.length),1),e("div",js,M(k.up_time_text)+"更新",1)]),t(j,null,{overlay:o(()=>[t(D,null,{default:o(()=>[t(S,{onClick:q(H=>P(k),["stop"])},{default:o(()=>[...w[1]||(w[1]=[A("编辑",-1)])]),_:1},8,["onClick"]),t(S,{onClick:q(H=>$(k),["stop"])},{default:o(()=>[...w[2]||(w[2]=[e("span",{class:"cFB363F"},"删除",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),default:o(()=>[t(v,{onClick:w[0]||(w[0]=q(()=>{},["stop"])),size:"small",icon:re(I(_e))},null,8,["icon"])]),_:2},1024)])],8,Is))),128))])):(l(),_("div",Hs,[w[4]||(w[4]=e("img",{src:Pe},null,-1)),w[5]||(w[5]=e("div",{class:"title"},"暂未添加外部MCP插件",-1)),e("div",{class:"desc-box"},[e("div",{class:"link",onClick:n},"更多MCP？去MCP广场")]),t(v,{onClick:i,class:"btn",type:"primary"},{default:o(()=>[...w[3]||(w[3]=[A("立即添加",-1)])]),_:1})])),t(ws,{ref_key:"mcpDetailRef",ref:f,onDel:$,onEdit:P,onAuth:s},null,512),t(Ke,{ref_key:"mcpStoreRef",ref:a,onOk:m},null,512)])}}},Js=Q(Ks,[["__scopeId","data-v-2ebafa27"]]),Ys={class:"_mcp_container"},Zs={class:"tabs-box"},Xs={__name:"mcp-panel",emits:["thirdMcpListEmpty"],setup(L,{expose:E,emit:U}){const x=Fe(),f=p(null),a=p(Number(localStorage.getItem("zm:chatwiki:mcp:active")||1)),b=U;ke(()=>{x.query.mcp>0&&d(Number(x.query.mcp))});function d(m){a.value=m,localStorage.setItem("zm:chatwiki:mcp:active",m)}function h(){a.value==2&&f.value.update()}function T(m){b("thirdMcpListEmpty",m===0)}return E({update:h}),(m,s)=>(l(),_("div",Ys,[e("div",Zs,[e("div",{class:ue(["tab-item",{active:a.value==1}]),onClick:s[0]||(s[0]=g=>d(1))},"工作流MCP",2),e("div",{class:ue(["tab-item",{active:a.value==2}]),onClick:s[1]||(s[1]=g=>d(2))},"外部MCP",2)]),a.value==1?(l(),z(ts,{key:0,ref_key:"mcpRef",ref:f},null,512)):(l(),z(Js,{key:1,ref_key:"mcpRef",ref:f,onListLoaded:T},null,512))]))}},Qs=Q(Xs,[["__scopeId","data-v-18fcd171"]]),en={class:"robot-page"},tn={class:"list-toolbar"},on={class:"toolbar-box"},sn={class:"toolbar-box",style:{"text-align":"right"}},nn={class:"create-action"},ln=["src"],an={class:"create-action"},un=["src"],dn={class:"create-action"},cn=["src"],rn={class:"create-action"},_n=["src"],pn={key:1,class:"desc-box"},vn={key:1,class:"list-group-box"},fn={key:0,class:"group-head-box"},mn={class:"head-title"},kn={class:"search-box"},hn={class:"classify-box"},bn=["onClick"],gn={class:"classify-title"},yn={class:"right-content"},$n={key:0,class:"btn-box"},Cn={class:"hover-btn-wrap"},xn=["onClick"],wn=["onClick"],Mn={class:"robot-scroll-box"},Tn={class:"list-box"},Rn={key:0,class:"empty-box"},Pn=["onClick"],Sn={class:"list-item"},On={class:"robot-info"},Ln=["src"],Un={class:"robot-info-content"},An={class:"robot-name"},In={class:"robot-type-tag"},Dn={class:"robot-desc"},Gn=["onClick"],En=["onClick"],Fn=["onClick"],Bn=["onClick"],qn=["onClick"],Nn=["onClick"],zn={__name:"robot-list",setup(L){const E=Ee(),U=Fe(),x=p([{title:"全部 (0)",value:"2"},{title:"聊天机器人 (0)",value:"0"},{title:"工作流 (0)",value:"1"},{title:"MCP插件",value:"3"}]),f=tt();let{role_permission:a,role_type:b}=f;const d=Te(()=>b==1||a.includes("RobotCreate")),h=p(null),T=p("2"),m=p(""),s=p([]);let g="robot-list-hide-group-key";const i=p(localStorage.getItem(g)==1),P=()=>{i.value=!i.value,localStorage.setItem(g,i.value?1:0)},n=Te(()=>{let c=s.value;return m.value!=""&&(c=c.filter(u=>u.group_id==m.value)),T.value==2?c:c.filter(u=>u.application_type==T.value)}),$=()=>{w(),oe()};function C(){const c=E.resolve({path:"/mcp/index"}).href;window.open(c,"_blank")}const w=()=>{qe().then(c=>{let u=0,N=0,F=0;c.data.forEach(se=>{se.application_type==0?N++:F++,u++}),x.value=[{title:"全部 ("+u+")",value:"2"},{title:"聊天机器人 ("+N+")",value:"0"},{title:"工作流 ("+F+")",value:"1"},{title:"MCP插件",value:"3"}],s.value=c.data}).catch(()=>{})},y=p(null),v=p(null),S=p(null),D=c=>{y.value.open(c),y.value.setGroupId(m.value)},j=()=>{S.value.show()},k=()=>{v.value.open()},r=c=>{w(),H(c)},H=({id:c,robot_key:u,application_type:N})=>{localStorage.setItem("last_local_robot_id",c),N==0?window.open(`/#/robot/config/basic-config?id=${c}&robot_key=${u}`,"_blank","noopener"):window.open(`/#/robot/config/workflow?id=${c}&robot_key=${u}`,"_blank","noopener")},te=c=>{if(at(c.id)!=4)return O.error("您没有删除机器人的权限");let N=3,F=V.confirm({title:`删除机器人${c.robot_name}`,icon:t(Re),content:"您确定要删除此机器人吗？",okText:N+" 确 定",okType:"danger",cancelText:"取 消",okButtonProps:{disabled:!0},onOk(){K(c)},onCancel(){}}),se=setInterval(()=>{N==1?(F.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(se),se=void 0):(N-=1,F.update({okText:N+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},K=({id:c})=>{rt({id:c}).then(()=>{O.success("删除成功"),w()})},G=c=>{let u=3,N=V.confirm({title:`复制机器人${c.robot_name}`,icon:t(Re),content:"您确定要复制此机器人吗？",okText:u+" 确 定",okType:"danger",cancelText:"取 消",okButtonProps:{disabled:!0},onOk(){ne(c)},onCancel(){}}),F=setInterval(()=>{u==1?(N.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(F),F=void 0):(u-=1,N.update({okText:u+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},ne=({id:c})=>{_t({id:c}).then(()=>{O.success("复制成功"),w()})},ee=c=>{const{openUrlWithToken:u}=eo();u(`/manage/robotExport?id=${c.id}`)},Ce=c=>{window.open(`#/robot/test?robot_key=${c.robot_key}&id=${c.id}`)},xe=c=>{window.open(`#/robot/config/session-record?robot_key=${c.robot_key}&id=${c.id}`)},we=c=>{window.open(`#/robot/config/statistical_analysis?robot_key=${c.robot_key}&id=${c.id}`)},de=p(""),ve=p([]),B=Te(()=>ve.value.filter(c=>c.group_name.includes(de.value))),oe=()=>{Be({application_type:T.value==2?null:T.value}).then(c=>{let u=c.data||[],N=0;u.forEach(F=>{N+=+F.total}),ve.value=[{group_name:"全部",total:N,id:""},...u]})},Y=c=>{m.value=c.id,w()},ae=p(null),Ae=c=>{ae.value.show({...c})},Ie=p(null),Je=c=>{Ie.value.show({...c})},Ye=c=>{V.confirm({title:`确认删除分组${c.group_name}`,icon:t(Re),content:"",okText:"确认",okType:"danger",cancelText:"取消",onOk(){ct({id:c.id}).then(()=>{O.success("删除成功"),oe(),m.value==c.id&&(m.value="",w())})}})},Ze=()=>{h.value&&h.value.update()};return ke(()=>{T.value=U.query.active||"2",w(),oe()}),(c,u)=>{const N=pe,F=ye,se=ge,Me=$e,ce=Lt,Xe=he,De=it,Qe=Dt,fe=lt;return l(),_("div",en,[u[17]||(u[17]=e("h3",{class:"page-title"},"应用",-1)),t(Gt,{class:"mb-16",title:"使用说明"},{default:o(()=>[...u[9]||(u[9]=[e("div",null,[e("p",null," 1、应用包括两种类型：聊天机器人、工作流。聊天机器人适合新手用户，关联知识库后只需简单配置，即可创建一个基于私有知识库的问答机器人。工作流适合高级用户，利用系统预制节点自定义任务流程，适合解决复杂任务。 "),e("p",null,"2、发现模块也提供了丰富模版，可以根据需要选择适合模版快速创建应用。")],-1)])]),_:1}),e("div",tn,[e("div",on,[t(Et,{tabs:x.value,onChange:oe,value:T.value,"onUpdate:value":u[0]||(u[0]=R=>T.value=R)},null,8,["tabs","value"])]),e("div",sn,[d.value?(l(),z(Me,{key:0},{overlay:o(()=>[t(se,null,{default:o(()=>[t(F,{onClick:u[2]||(u[2]=q(R=>D(0),["prevent"]))},{default:o(()=>[e("span",nn,[e("img",{class:"icon",src:I(ot),alt:""},null,8,ln),u[11]||(u[11]=e("span",null,"聊天机器人",-1))])]),_:1}),t(F,{onClick:u[3]||(u[3]=q(R=>D(1),["prevent"]))},{default:o(()=>[e("span",an,[e("img",{class:"icon",src:I(st),alt:""},null,8,un),u[12]||(u[12]=e("span",null,"工作流",-1))])]),_:1}),t(F,{onClick:q(j,["prevent"])},{default:o(()=>[e("span",dn,[e("img",{class:"icon",src:I(Oe),alt:""},null,8,cn),u[13]||(u[13]=e("span",null,"外部MCP",-1))])]),_:1}),t(F,{onClick:k},{default:o(()=>[e("span",rn,[e("img",{class:"icon",src:I(nt),alt:""},null,8,_n),u[14]||(u[14]=e("span",null,"导入csl创建",-1))])]),_:1})]),_:1})]),default:o(()=>[t(N,{type:"primary",onClick:u[1]||(u[1]=q(()=>{},["prevent"]))},{icon:o(()=>[t(I(me))]),default:o(()=>[u[10]||(u[10]=A(" 创建应用 ",-1))]),_:1})]),_:1})):X("",!0),d.value&&T.value=="3"?(l(),_("div",pn,[e("div",{class:"link",onClick:C},"更多MCP？去MCP广场")])):X("",!0)])]),T.value==3?(l(),z(Qs,{key:0,ref_key:"mcpPanelRef",ref:h},null,512)):(l(),_("div",vn,[e("div",{class:ue(["group-list-box",{"hide-group":i.value}])},[t(De,{style:{"padding-right":"16px"}},{default:o(()=>[i.value?X("",!0):(l(),_("div",fn,[e("div",mn,[u[15]||(u[15]=e("div",null,"机器人分组",-1)),t(ce,{title:"新建分组"},{default:o(()=>[e("div",{class:"hover-btn-wrap",onClick:u[4]||(u[4]=R=>Ae({}))},[t(I(me))])]),_:1})]),e("div",kn,[t(Xe,{value:de.value,"onUpdate:value":u[6]||(u[6]=R=>de.value=R),allowClear:"",placeholder:"搜索分组",style:{width:"100%"}},{suffix:o(()=>[t(I(Ut),{onClick:u[5]||(u[5]=q(()=>{},["stop"]))})]),_:1},8,["value"])])])),e("div",hn,[(l(!0),_(W,null,J(B.value,R=>(l(),_("div",{class:ue(["classify-item",{active:R.id==m.value}]),onClick:Z=>Y(R),key:R.id},[e("div",gn,M(R.group_name),1),e("div",yn,[e("div",{class:ue(["num",{"num-block":R.id<=0}])},M(R.total),3),R.id>0?(l(),_("div",$n,[t(Me,{placement:"bottomRight"},{overlay:o(()=>[t(se,null,{default:o(()=>[t(F,null,{default:o(()=>[e("div",{onClick:q(Z=>Ae(R),["stop"])},"重命名",8,xn)]),_:2},1024),t(F,null,{default:o(()=>[e("div",{onClick:q(Z=>Ye(R),["stop"])},"删 除",8,wn)]),_:2},1024)]),_:2},1024)]),default:o(()=>[e("div",Cn,[t(I(_e))])]),_:2},1024)])):X("",!0)])],10,bn))),128))])]),_:1}),t(ce,{placement:"right",title:i.value?"展开分组":"收起分组"},{default:o(()=>[e("div",{class:"hide-group-box",onClick:P},[i.value?(l(),z(I(It),{key:1})):(l(),z(I(At),{key:0}))])]),_:1},8,["title"])],2),e("div",Mn,[t(De,{style:{"padding-right":"16px"}},{default:o(()=>[e("div",Tn,[n.value.length==0?(l(),_("div",Rn,[t(Qe)])):X("",!0),(l(!0),_(W,null,J(n.value,R=>(l(),_("div",{class:"list-item-wrapper",key:R.id,onClick:Z=>H(R)},[e("div",Sn,[e("div",On,[e("img",{class:"robot-avatar",src:R.robot_avatar,alt:""},null,8,Ln),e("div",Un,[e("div",An,M(R.robot_name),1),e("div",In,M(R.application_type==0?"聊天机器人":"工作流"),1)])]),e("div",Dn,M(R.robot_intro),1),e("div",{class:"robot-action",onClick:u[8]||(u[8]=q(()=>{},["stop"]))},[t(ce,{title:"聊天测试"},{default:o(()=>[e("div",{class:"robot-action-item",onClick:q(Z=>Ce(R),["stop"])},[t(fe,{class:"action-icon",name:"chat"})],8,Gn)]),_:2},1024),t(ce,{title:"会话记录"},{default:o(()=>[e("div",{class:"robot-action-item",onClick:q(Z=>xe(R),["stop"])},[t(fe,{class:"action-icon",name:"session"})],8,En)]),_:2},1024),t(ce,{title:"统计分析"},{default:o(()=>[e("div",{class:"robot-action-item",onClick:q(Z=>we(R),["stop"])},[t(fe,{class:"action-icon",name:"analysis"})],8,Fn)]),_:2},1024),t(Me,null,{overlay:o(()=>[t(se,null,{default:o(()=>[t(F,null,{default:o(()=>[e("a",{class:"delete-text-color",href:"javascript:;",onClick:Z=>te(R)},"删 除",8,Bn)]),_:2},1024),t(F,null,{default:o(()=>[e("div",{onClick:q(Z=>Je(R),["stop"])},"修改分组",8,qn)]),_:2},1024),t(F,null,{default:o(()=>[e("a",{class:"copy-text-color",href:"javascript:;",onClick:Z=>G(R)},"复 制",8,Nn)]),_:2},1024),t(F,{onClick:Z=>ee(R)},{default:o(()=>[...u[16]||(u[16]=[e("span",null,"导出为csl",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),default:o(()=>[e("div",{class:"robot-action-item",onClick:u[7]||(u[7]=q(()=>{},["stop"]))},[t(fe,{class:"action-icon",name:"point-h"})])]),_:2},1024)])])],8,Pn))),128))])]),_:1})])])),t(pt,{ref_key:"addRobotAlertRef",ref:y,onOk:$},null,512),t(vt,{ref_key:"addGroupRef",ref:ae,onOk:$},null,512),t(Qt,{ref_key:"editGroupRef",ref:Ie,onOk:$},null,512),t(Jt,{ref_key:"importCslAlertRef",ref:v,onOk:r},null,512),t(Ke,{ref_key:"thirdMcpRef",ref:S,onOk:Ze},null,512)])}}},il=Q(zn,[["__scopeId","data-v-331d1455"]]);export{il as default};
