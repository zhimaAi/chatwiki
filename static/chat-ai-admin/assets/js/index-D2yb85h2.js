import{_ as he,bX as Re,d as $e,b as Le,bY as Ge,ap as Ze,bZ as Qe,b_ as Ee,b$ as Ne,bW as fe,c0 as Te,c1 as et,c2 as tt}from"../../index-WMhSApoa.js";import{ac as S,F as le,ax as Ce,ad as D,az as re,u as y,ai as j,as as s,k as d,at as g,f as R,e as ne,o as Pe,ae as ue,ar as r,J as nt,G as te,B as W,y as ye,aw as lt,w as me,n as ot,A as at,ah as xe,aA as st,av as it,p as ct}from"./vue-chunks-CGLjTDrY.js";import{d as dt}from"./utils-DXEytJvC.js";import{u as rt}from"./useCopyShareUrl-9UicR7uI.js";import{aj as ut,ak as pt,x as _t,M as Oe,a6 as Ie,h as vt,i as ft,k as mt,v as yt,I as ht,ab as bt,ac as kt,ad as gt,b as de,W as Dt}from"./ui-antd-BDReVt-O.js";import"./neo4j-CK9lNpyi.js";import"./other-BrZCAsTs.js";import"./index-DDxZfOgt.js";var xt=dt();const Ct={class:"side-meuns"},Rt=["onClick"],$t={class:"meun-item-body"},Lt={class:"menu-name"},St={__name:"side-menus",props:{menus:{type:Array,default:()=>[]},active:{type:String,default:""}},emits:["menuClick"],setup(O,{emit:b}){const q=b,u=Re(),v=O,{checkPermission:A}=u,I=k=>{q("menuClick",k)};return(k,f)=>{const x=$e;return D(),S("div",Ct,[(D(!0),S(le,null,Ce(v.menus,p=>(D(),S(le,{key:p.key},[y(A)(p.permissions)?(D(),S("div",{key:0,class:j(["side-meun-item",{active:p.key===v.active}]),onClick:K=>I(p)},[s("div",$t,[d(x,{class:"menu-icon",name:p.icon},null,8,["name"]),s("span",Lt,g(p.name),1)]),f[0]||(f[0]=s("div",{class:"actions-box"},null,-1))],10,Rt)):re("",!0)],64))),128))])}}},wt=he(St,[["__scopeId","data-v-629786e2"]]),Et={__name:"upload-doc",emits:["file-loaded"],setup(O,{expose:b,emit:q}){const u=q,v=R(null);let A={};const I=f=>{A=f||{},v.value.click()},k=f=>{const x=f.target.files[0];if(!x)return;if(!x.name.endsWith(".md")){alert("请选择.md文件");return}const p=new FileReader;p.onload=K=>{u("file-loaded",{content:K.target.result,title:x.name,file:x,...A})},p.readAsText(x),f.target.value=null};return b({triggerUpload:I}),(f,x)=>(D(),S("input",{type:"file",style:{opacity:"0",position:"fixed",bottom:"-9999px",left:"-9999px"},ref_key:"fileInput",ref:v,onChange:k,accept:".md"},null,544))}},Tt={class:"icon-template-content"},It={class:"template-options"},Kt=["onClick"],Mt={class:"folder-icon"},At={class:"template-footer"},Pt={class:"template-name"},Ot={__name:"icon-template",emits:["update:open","ok","cancel"],setup(O,{expose:b,emit:q}){const{t:u}=Le("views.public-library.components.icon-template"),v=q,A=Re(),{saveEditLibrary:I}=A,k=ne(()=>A.libraryInfo),f=R(!1),x=R(!1),p=R([]),K=R("1"),z=()=>{K.value=k.value.icon_template_config_id,f.value=!0},E=T=>{K.value=T},_=()=>{f.value=!1,v("cancel")},X=()=>{let T=nt(k.value);T.icon_template_config_id=K.value,x.value=!0,I(T).then(()=>{f.value=!1}).finally(()=>{x.value=!1,v("ok",K.value)})};return b({open:z}),Pe(()=>{p.value=Ge()}),(T,M)=>{const J=_t,G=pt,Z=ut,U=Oe;return D(),ue(U,{open:f.value,"onUpdate:open":M[0]||(M[0]=C=>f.value=C),title:y(u)("title"),width:760,onCancel:_,onOk:X,"confirm-loading":x.value},{default:r(()=>[s("div",Tt,[s("div",It,[d(Z,{gutter:16},{default:r(()=>[(D(!0),S(le,null,Ce(p.value,C=>(D(),ue(G,{span:8,key:C.id},{default:r(()=>[s("div",{class:j(["template-card",{active:K.value==C.id}])},[s("div",{class:"template-preview",onClick:B=>E(C.id)},[(D(!0),S(le,null,Ce(C.preview,B=>(D(),S("div",{class:j(["folder-item",["level-"+B.level]]),key:B.level},[s("span",Mt,g(B.icon),1),s("span",null,g(B.text),1)],2))),128))],8,Kt),s("div",At,[d(J,{checked:K.value==C.id,onClick:B=>E(C.id)},{default:r(()=>[s("span",Pt,g(C.name),1)]),_:2},1032,["checked","onClick"])])],2)]),_:2},1024))),128))]),_:1})])])]),_:1},8,["open","title","confirm-loading"])}}},Bt=he(Ot,[["__scopeId","data-v-091055fb"]]),Wt={class:"side-directory"},Ut={class:"directory-header"},qt={class:"label-text"},zt={class:"action-box"},Ft={class:"action-btn"},Vt={class:"directory-body"},Xt={class:"directory-content"},Ht={style:{"margin-right":"4px"}},jt={class:"action-btn toggle-btn"},Jt=["data-level"],Yt={key:0,class:"doc-icon"},Gt={key:1,class:"doc-icon"},Zt={class:"doc-title"},Qt={key:0,class:"doc-title-text"},Nt={key:2,class:"doc-action-box"},en={class:"menu-name"},tn={class:"menu-name"},nn={class:"menu-name"},ln={class:"menu-name"},on={class:"menu-name"},an={class:"menu-name"},sn={class:"menu-name"},cn={class:"menu-name"},dn={__name:"side-directory",props:{list:{type:Array,default:()=>[]},loadData:{type:Function,default:()=>{}},selectedKeys:{type:Array,default:()=>[]},iconTemplateConfig:{type:Object,default:()=>({})},draggable:{type:Boolean,default:!0}},emits:["addDoc","importDoc","copyLink","copyDoc","deleteDoc","exportDoc","dragenter","drop","select","renameDoc","saveName"],setup(O,{expose:b,emit:q}){const{t:u}=Le("views.public-library.components.side-directory"),v=q,A=O,I=(a,i)=>{let $=null;return function(...w){$&&clearTimeout($),$=setTimeout(()=>{a.apply(this,w)},i)}},k=R([]),f=R([]),x=a=>{f.value.includes(a)||f.value.push(a)},p=(a,i)=>{const $=k.value.indexOf(a);typeof i=="boolean"?$>-1&&i===!1?k.value.splice($,1):k.value.push(a):$>-1?k.value.splice($,1):k.value.push(a)},K=a=>{k.value=[]},z=R(null),E=(a,i)=>{v("addDoc",a,i)};let _=null;const X=a=>{_=a,z.value.triggerUpload()},T=R(null),M=()=>{T.value.open()},J=a=>{v("selectTemplate",a)},G=a=>{v("importDoc",_,a)},Z=a=>{v("copyLink",a)},U=a=>{v("copyDoc",a)},C=a=>{v("exportDoc",a)},B=a=>{v("renameDoc",a),ye(()=>{let i=document.querySelector(".rename-input-"+a.data.id);i&&(i.focus(),i.select())})},oe=I(a=>{let i=document.querySelector(".rename-input-"+a.data.id);if(!i)return;let $=i.value.trim();v("saveName",a,$)},200),H=a=>{v("deleteDoc",a)},be=({dropNode:a,dragNode:i,dropPosition:$})=>a.is_dir==0&&i.is_dir==0&&$==0?!1:!(a.is_dir==0&&i.is_dir==1&&$==0),pe=a=>{v("dragenter",a)},ke=a=>{v("drop",a)},ge=(a,i)=>{v("select",i.node.dataRef)};return b({toggleExpand:p,addLoadedKey:x}),(a,i)=>{const $=$e,w=ft,ae=vt,se=mt,_e=yt,De=ht,ie=gt;return D(),S("div",Wt,[s("div",Ut,[d($,{name:"doc-directory",style:{"font-size":"16px",color:"#595959"}}),s("div",qt,g(y(u)("document_directory")),1),s("div",zt,[d(se,null,{overlay:r(()=>[d(ae,null,{default:r(()=>[d(w,{key:"addDir",onClick:i[0]||(i[0]=c=>E(null,0))},{default:r(()=>[te(g(y(u)("add_document")),1)]),_:1}),d(w,{key:"importDoc",onClick:i[1]||(i[1]=c=>X())},{default:r(()=>[te(g(y(u)("import_document")),1)]),_:1}),d(w,{key:"addDoc",onClick:i[2]||(i[2]=c=>E(null,1))},{default:r(()=>[te(g(y(u)("add_folder")),1)]),_:1})]),_:1})]),default:r(()=>[s("span",Ft,[d(y(Ie),{style:{color:"#595959"}})])]),_:1}),d(_e,null,{title:r(()=>[te(g(y(u)("collapse_all")),1)]),default:r(()=>[s("span",{class:"action-btn",onClick:i[3]||(i[3]=c=>K(!1))},[d($,{name:"menu-expand",style:{"font-size":"16px",color:"#595959"}})])]),_:1}),d(_e,null,{title:r(()=>[te(g(y(u)("icon_template_settings")),1)]),default:r(()=>[s("span",{class:"action-btn",onClick:M},[d($,{name:"system-setting",style:{"font-size":"16px",color:"#595959"}})])]),_:1})])]),s("div",Vt,[s("div",Xt,[d(ie,{class:"directory-tree","block-node":"",expandedKeys:k.value,"onUpdate:expandedKeys":i[6]||(i[6]=c=>k.value=c),draggable:O.draggable,"selected-keys":O.selectedKeys,loadedKeys:f.value,"tree-data":A.list,"load-data":O.loadData,"field-names":{key:"id",title:"title",children:"children"},allowDrop:be,onDragenter:pe,onDrop:ke,onSelect:ge},{switcherIcon:r(({switcherCls:c})=>[s("div",Ht,[s("span",jt,[d(y(kt),{style:{"font-size":"12px"},class:j(c)},null,8,["class"])])])]),title:r(c=>[s("div",{class:j(["doc-item",[{"is-leaf":c.dataRef.isLeaf},c.dataRef.isEdit?"is-edit":"no-edit"]]),"data-level":c.level},[c.data.doc_icon?(D(),S("span",Yt,g(c.data.doc_icon),1)):(D(),S("span",Gt,g(c.data.is_dir==1?O.iconTemplateConfig.levels[c.level].folder_icon:O.iconTemplateConfig.levels[c.level].doc_icon),1)),s("div",Zt,[c.dataRef.isEdit?(D(),ue(De,{key:1,class:j([`rename-input-${c.dataRef.id}`]),name:"rename",defaultValue:c.dataRef.title,placeholder:y(u)("please_enter_title"),onBlur:P=>y(oe)(c),onPressEnter:P=>y(oe)(c)},null,8,["class","defaultValue","placeholder","onBlur","onPressEnter"])):(D(),S("span",Qt,g(c.dataRef.title),1))]),c.dataRef.isEdit?re("",!0):(D(),S("div",Nt,[c.dataRef.is_dir==1?(D(),ue(se,{key:0},{overlay:r(()=>[d(ae,null,{default:r(()=>[d(w,{key:"addDir",onClick:W(P=>E(c,0),["stop","prevent"])},{default:r(()=>[s("span",en,g(y(u)("add_document")),1)]),_:1},8,["onClick"]),d(w,{key:"importDoc",onClick:W(P=>X(c),["stop","prevent"])},{default:r(()=>[s("span",tn,g(y(u)("import_document")),1)]),_:1},8,["onClick"]),d(w,{key:"addDoc",onClick:W(P=>E(c,1),["stop","prevent"])},{default:r(()=>[s("span",nn,g(y(u)("add_folder")),1)]),_:1},8,["onClick"])]),_:2},1024)]),default:r(()=>[s("span",{class:"action-btn",onClick:i[4]||(i[4]=W(()=>{},["stop"]))},[d(y(Ie))])]),_:2},1024)):re("",!0),d(se,null,{overlay:r(()=>[d(ae,null,{default:r(()=>[c.dataRef.is_dir==1?(D(),S(le,{key:0},[d(w,{key:"rename",onClick:W(P=>B(c),["stop","prevent"])},{default:r(()=>[s("span",ln,g(y(u)("rename")),1)]),_:1},8,["onClick"]),d(w,{key:"deleteDoc",onClick:W(P=>H(c),["stop","prevent"])},{default:r(()=>[s("span",on,g(y(u)("delete")),1)]),_:1},8,["onClick"])],64)):(D(),S(le,{key:1},[d(w,{key:"copyLink",onClick:W(P=>Z(c),["stop","prevent"])},{default:r(()=>[te(g(y(u)("copy_link")),1),i[7]||(i[7]=s("span",{class:"menu-name"},null,-1))]),_:1},8,["onClick"]),d(w,{key:"copyDoc",onClick:W(P=>U(c),["stop","prevent"])},{default:r(()=>[s("span",an,g(y(u)("copy_document")),1)]),_:1},8,["onClick"]),d(w,{key:"exportDoc",onClick:W(P=>C(c),["stop","prevent"])},{default:r(()=>[s("span",sn,g(y(u)("export_document")),1)]),_:1},8,["onClick"]),d(w,{key:"deleteDoc",onClick:W(P=>H(c),["stop","prevent"])},{default:r(()=>[s("span",cn,g(y(u)("delete_document")),1)]),_:1},8,["onClick"])],64))]),_:2},1024)]),default:r(()=>[s("span",{class:"action-btn",onClick:i[5]||(i[5]=W(()=>{},["stop"]))},[d(y(bt))])]),_:2},1024)]))],10,Jt)]),_:1},8,["expandedKeys","draggable","selected-keys","loadedKeys","tree-data","load-data"])])]),d(Et,{ref_key:"uploadDocRef",ref:z,onFileLoaded:G},null,512),d(Bt,{ref_key:"iconTemplateRef",ref:T,onSelect:J},null,512)])}}},rn=he(dn,[["__scopeId","data-v-27b08614"]]),un={class:"public-library-layout"},pn={class:"layout-left-wrapper"},_n={class:"layout-left-content"},vn={key:1,class:"side-directory-wrapper"},fn={class:"layout-body"},Ke="public-library-sidebar-width",Me="public-library-sidebar-collapsed",Ae=0,mn={__name:"index",setup(O){const{t:b}=Le("views.public-library.index"),q=(e,t)=>{const l=new Blob([e],{type:"text/markdown;charset=utf-8"});xt.saveAs(l,t)},u=(e,t)=>{{for(let l=0;l<e.length;l++){const n=e[l];if(n.id==t)return n;if(n.children){const o=u(n.children,t);if(o)return o}}return null}},v=(e,t,l=null)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.id==t)return l;if(o.children){const m=v(o.children,t,o);if(m)return m}}return null};function A(e=b("untitled_document"),t=[]){const l=new Set(t.map(m=>m.title));let n=1,o=`${e}(${n})`;for(;l.has(o);)n++,o=`${e}(${n})`;return o}const I=Re(),k=it(),f=lt(),x=ne(()=>I.library_id),p=ne(()=>I.library_key),K=ne(()=>I.iconTemplateConfig),z=ne(()=>f.query.doc_id),E=R(null),_=R([]),X=R(!0),T=R([]),M=R(null),J=ne(()=>f.meta.subActiveMenu||""),{setStorage:G,getStorage:Z}=Ze("localStorage"),U=R(Z(Ke)||256),C=R(Z(Me)||!1),B=R(0),oe=R(0),H=R(!1);ct("isDragging",H);const be=[{name:b("home"),key:"home",icon:"ai",path:"/public-library/home",permissions:["*"]}],pe=e=>{k.push({path:e.path,query:{library_id:x.value,library_key:p.value}})},ke=(e,t)=>{e==="homePreviewStyle"&&ge(t)},ge=e=>{I.changeHomePreviewStyle(),f.path!=="/public-library/home"&&pe(e)},a=e=>{let t={library_key:p.value,pid:e?e.id:0};return Qe(t).then(l=>{let n=l.data||[];n.forEach(o=>{o.id=o.id*1,o.pid=o.pid*1,o.key=o.id,o.level=e?e.level+1:0,o.sort=o.sort*1,o.children_num=o.children_num*1,o.children=[],o.hasLoaded=!1,o.isLeaf=o.children_num==0}),e?(e.hasLoaded=!0,e.children=n,_.value=[..._.value]):_.value=n})},i=e=>new Promise(t=>{if(e.dataRef.hasLoaded){t();return}a(e.dataRef).then(()=>{t()})}),$=()=>{T.value=[]},{copyShareUrl:w}=rt(),ae=async e=>{const t=Ne+"/doc/"+e.doc_key;await w(t)},se=(e,t)=>{let l=0,n=t.title,o=e?e.dataRef.id:0;n.endsWith(".md")&&(n=n.replace(/\.md$/i,""));let m={library_key:p.value,doc_id:"",doc_type:"4",doc_icon:"",pid:o,title:n,content:t.content,sort:0,is_dir:l};fe(m).then(h=>{de.success(b("import_success")),m.id=h.data.doc_id,m.sort=h.data.sort;let Y=e?e.dataRef:null;ie(Y,m)})},_e=(e,t)=>{let l=t==1?b("new_folder"):b("untitled_document"),n=e?e.dataRef.id:0;t==0&&(e?l=A(b("untitled_document"),e.dataRef.children):l=A(b("untitled_document"),_.value));let o={library_key:p.value,doc_id:"",doc_type:"4",doc_icon:"",pid:n,title:l,content:`# ${b("untitled_document")}`,sort:0,is_dir:t};(t==1?Te:fe)(o).then(h=>{de.success(b("add_success")),o.id=h.data.doc_id,o.sort=h.data.sort;let Y=e?e.dataRef:null;ie(Y,o)})},De=e=>{Ee({library_key:p.value,doc_id:e.dataRef.id}).then(t=>{let l={library_key:p.value,doc_id:"",doc_type:"4",pid:t.data.pid*1,title:t.data.title+"(副本)",content:t.data.content,doc_icon:t.data.doc_icon||"",sort:0,is_dir:0};fe(l).then(n=>{de.success(b("copy_success")),l.id=n.data.doc_id,l.sort=n.data.sort;let o=u(_.value,l.pid);ie(o,l)})})},ie=(e,t)=>{t.children_num=0,t.children=[],t.hasLoaded=!1,t.key=t.id,t.isLeaf=!0,t.level=0,e?(t.level=e.level+1,e.children_num++,e.isLeaf=!1,e.hasLoaded?(e.children.unshift(t),ye(()=>{E.value.toggleExpand(e.id,!0)})):(e.hasLoaded=!1,ye(()=>{E.value.toggleExpand(e.id,!0)}))):(t.level=0,_.value.unshift(t)),ce(t)},c=e=>{let t=u(_.value,e.dataRef.id);X.value=!1,t.isEdit=!0},P=(e,t)=>{let l=u(_.value,e.dataRef.id);l.title=t,l.isEdit=!1,setTimeout(()=>{X.value=!0},100);let n={library_key:p.value,doc_id:l.id,doc_type:"4",pid:l.pid,title:t,content:l.content,is_dir:l.is_dir};(l.is_dir==1?Te:fe)(n).then(()=>{de.success(b("modify_success"))})},Be=e=>{Oe.confirm({title:b("delete_document"),icon:d(Dt),content:b("confirm_delete_document",{title:e.dataRef.title}),onOk(){We(e)},onCancel(){}})},We=e=>{let t=e.dataRef.id,l=e.dataRef.pid;tt({library_key:p.value,doc_id:e.dataRef.id}).then(()=>{de.success(b("delete_success"));let n=u(_.value,l);if(n){let o=n.children.findIndex(h=>h.id==t);if(n.children_num--,n.isLeaf=n.children_num==0,n.children.splice(o,1),J.value!="doc"||M.value.id!=t)return;let m=n.children.filter(h=>h.is_dir!=1);if(m.length>0)ce(m[0]);else{let h=_.value.filter(Y=>Y.is_dir!=1);h.length>0?ce(h[0]):(M.value=null,k.replace({path:"/public-library/home",query:{library_id:x.value,library_key:p.value}}))}}else{let o=_.value.findIndex(h=>h.id==t);if(_.value.splice(o,1),J.value!="doc"||M.value.id!=t)return;let m=_.value.filter(h=>h.is_dir!=1);m.length>0?ce(m[0]):(M.value=null,k.replace({path:"/public-library/home",query:{library_id:x.value,library_key:p.value}}))}})},Ue=e=>{Ee({library_key:p.value,doc_id:e.dataRef.id}).then(t=>{let{content:l,title:n}=t.data;n.endsWith(".md")||(n+=".md"),q(l,n)})},ce=e=>{if(e.is_dir==1){E.value.toggleExpand(e.id);return}M.value=e,T.value=[e.id],f.path=="/public-library/editor"?k.replace({path:"/public-library/editor",query:{library_id:x.value,library_key:p.value,doc_id:e.id}}):k.push({path:"/public-library/editor",query:{library_id:x.value,library_key:p.value,doc_id:e.id}})},qe=()=>{},ze=e=>{const t=[..._.value],l=e.node,n=e.dragNode,o=l.key,m=n.key,h=l.pos.split("-"),Y=e.dropPosition-Number(h[h.length-1]),ve=(L,F,N=0,ee)=>{for(let V=0;V<L.length;V++){if(L[V].key===F){ee(L[V],V,N,L);return}L[V].children&&ve(L[V].children,F,N+1,ee)}};let Q;if(ve(t,m,0,(L,F,N,ee)=>{Q={...L},ee.splice(F,1)}),n.parent&&n.parent.node.children_num>0&&(n.parent.node.children_num--,n.parent.node.isLeaf=n.parent.node.children_num==0),!e.dropToGap)ve(t,o,0,(L,F,N)=>{L.children=L.children||[],L.children_num++,L.isLeaf=!1,Q.level=N+1,L.children.unshift(Q)});else{let L=[],F=0;ve(t,o,0,(N,ee,V,Ye)=>{L=Ye,F=ee,Q.level=V}),Y===-1?L.splice(F,0,Q):L.splice(F+1,0,Q)}_.value=t,Fe(n,l)},Fe=(e,t)=>{let l=v(_.value,e.dataRef.id);e.dataRef.pid=l?l.id:0;let n={library_key:p.value,doc_id:e.dataRef.id,pid:e.dataRef.pid,level:l?l.level+1:0,sort:0},o=l?l.children:_.value,m=-1;o.length>1&&(m=o.findIndex(h=>h.id==e.dataRef.id),m===0?(n.top=1,n.sort=o[m+1].sort):n.sort=o[m-1].sort),et(n).then(h=>{e.dataRef.sort=h.data.sort,e.dataRef.level=n.level,t.pid!=n.pid&&(t.dataRef.children.length>=t.dataRef.children_num?(t.dataRef.hasLoaded=!0,E.value.addLoadedKey(t.id),E.value.toggleExpand(t.id,!0)):a(t.dataRef).then(()=>{o[m]=e.dataRef,ye(()=>{t.dataRef.hasLoaded=!0,E.value.toggleExpand(t.id,!0)})}))})},Ve=e=>{let t=u(_.value,e.id);t.title=e.title,t.is_draft=e.is_draft,t.doc_icon=e.doc_icon,M.value=t},Xe=e=>{H.value=!0,B.value=e.clientX,oe.value=U.value,document.addEventListener("mousemove",Se),document.addEventListener("mouseup",we),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},He=R(800),je=R(220),Se=e=>{if(!H.value)return;const t=e.clientX-B.value,l=oe.value+t;l>=je.value&&l<=He.value&&(U.value=l)},we=()=>{H.value=!1,document.removeEventListener("mousemove",Se),document.removeEventListener("mouseup",we),document.body.style.cursor="",document.body.style.userSelect="",G(Ke,U.value)},Je=()=>{C.value=!C.value,G(Me,C.value)};return me(()=>f.path,e=>{e!=="/public-library/editor"&&($(),M.value=null)}),me(()=>_.value,e=>{I.setDocTreeState(JSON.parse(JSON.stringify(e)))},{deep:!0}),me(z,e=>{e&&(T.value=[Number(z.value)])}),me(x,()=>{$(),M.value=null,a()}),Pe(()=>{a(),z.value&&(T.value=[Number(z.value)])}),(e,t)=>{const l=$e,n=st("router-view");return D(),S("div",un,[ot(s("div",{class:j(["drag-line",{dragging:H.value}]),style:xe({left:`${U.value}px`}),onMousedown:Xe},null,38),[[at,!C.value]]),s("div",pn,[s("span",{class:j(["sidebar-toggle-btn",{"is-open":!C.value}]),style:xe({left:`${C.value?Ae:U.value}px`}),onClick:Je},[d(l,{name:"arrow-left",class:"toggle-icon"})],6),s("div",{class:"layout-left",style:xe({width:`${C.value?Ae:U.value}px`})},[s("div",_n,[C.value?re("",!0):(D(),ue(wt,{key:0,menus:be,active:J.value,onMenuClick:pe,onHandleAction:ke},null,8,["active"])),C.value?re("",!0):(D(),S("div",vn,[d(rn,{ref_key:"docTreeRef",ref:E,list:_.value,"load-data":i,draggable:X.value,selectedKeys:T.value,iconTemplateConfig:K.value,onImportDoc:se,onAddDoc:_e,onRenameDoc:c,onSaveName:P,onDeleteDoc:Be,onCopyDoc:De,onCopyLink:ae,onExportDoc:Ue,onDragenter:qe,onDrop:ze,onSelect:ce},null,8,["list","draggable","selectedKeys","iconTemplateConfig"])]))])],4)]),s("div",fn,[d(n,{onChangeDoc:Ve})])])}}},Rn=he(mn,[["__scopeId","data-v-b37843c2"]]);export{Rn as default};
