import{u as m}from"./index-B7gD7bRu.js";import{bX as f,b as h}from"../../index-DxV-PNCd.js";import{av as _}from"./vue-chunks-CGLjTDrY.js";import{b as a,M as d}from"./ui-antd-AfNpv4wx.js";const x=()=>{const c=f(),t=_(),{t:r}=h("hooks.web.use-copy-share-url");return{copyShareUrl:async i=>{const{access_rights:n,share_url:s,id:u,library_key:l}=c.libraryInfo,p=()=>{t.push({path:"/public-library/permissions",query:{library_id:u,library_key:l}})},e=o=>{d.confirm({title:r("prompt"),content:o,okText:r("configure_now"),cancelText:r("cancel"),onOk:p})};if(!s){e(r("need_custom_domain"));return}if(n!=1){e(r("only_public_doc"));return}const{toClipboard:y}=m(),b=s+i;try{await y(b),a.success(r("copy_success"))}catch(o){console.error("复制失败:",o),a.error(r("copy_failed"))}}}};export{x as u};
