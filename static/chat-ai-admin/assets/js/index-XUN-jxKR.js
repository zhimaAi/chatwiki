var fo=Object.defineProperty;var _o=(u,i,l)=>i in u?fo(u,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):u[i]=l;var ce=(u,i,l)=>_o(u,typeof i!="symbol"?i+"":i,l);import{f as H,l as ze,ac as Y,ad as D,k as c,ar as h,G as j,as as a,az as ne,ak as je,at as ae,o as Pe,aw as ho,aB as We,w as Re,r as ue,u as te,af as Zt,ae as Z,J as he,e as ve,av as Mn,F as fe,ax as Ae,ai as rt,c as ge,p as mo,ag as go}from"./vue-chunks-CGLjTDrY.js";import{u as Ke}from"./robot-BQqgDPGj.js";import{_ as se,a3 as vo,d as Lt,a4 as Te,f as yo}from"../../index-CB2DywzJ.js";import{h as Un,a as Nn,I as ye,F as me,af as wo,at as bo,Q as Ge,B as pe,ae as ko,ah as Ce,e as ke,w as Dt,x as qt,$ as Ot,M as re,b as oe,W as Me,v as Je,y as Ft,z as Vt,T as jt,O as Ht,aJ as Ln,R as Co,a6 as zt,bs as Ao,ai as Dn,a9 as qn,ar as So,i as $o,k as xo,o as we,V as Io,am as Ut,bm as Eo}from"./ui-antd-BHaxN-GS.js";import{T as Ro,U as Bo,V as Po,W as To,X as Mo,Y as On,Z as Uo,e as Ue,_ as Fn,$ as Vn,r as Wt,c as Ye,f as Qe}from"./index-CoChppVN.js";import{u as jn}from"./index-DxgALpad.js";import{C as Hn}from"./cu-upload-CEbua_QF.js";import{i as No}from"./validate-8MtiUsxW.js";import{d as Lo}from"./vuedraggable.umd-B2hsG2dX.js";import{L as zn}from"./loading-box-CNnW6NDo.js";import{E as Wn}from"./empty-box-B-T70UNv.js";import"./neo4j-CSfpjqgw.js";import"./utils-pAinW4BS.js";import"./other-BrZCAsTs.js";import"./vue-pdf-embed-Bj6uRJ-9.js";import"./empty-BFmzY9bl.js";const Do={class:"top-menu-box"},qo={__name:"top-meun",props:{value:{type:String,default:""}},emits:["change","update:value"],setup(u,{emit:i}){const l=i,t=H([u.value]),e=H([{key:"WebAPP",id:"WebAPP",label:"WebAPP",title:"WebAPP"},{key:"EmbedWebsite",id:"EmbedWebsite",label:"嵌入网站",title:"嵌入网站"},{key:"WeChatOfficialAccount",id:"WeChatOfficialAccount",label:ze("div",{class:"tag-text-box"},[ze("span",{},"微信公众号"),ze("span",{class:"text-xs"},"支持未认证")])},{key:"WeChatMiniProgram",id:"WeChatMiniProgram",label:"微信小程序",title:"微信小程序"},{key:"WeChatCustomerService",id:"WeChatCustomerService",label:"微信客服",title:"微信客服"},{key:"FeishuRobot",id:"FeishuRobot",label:"飞书机器人",title:"飞书机器人"},{key:"DingDingRobot",id:"DingDingRobot",label:"钉钉机器人",title:"钉钉机器人"}]),o=({item:d})=>{t.value.includes(d.id)||(l("update:value",d.id),l("change",d))};return(d,s)=>{const m=Un;return D(),Y("div",Do,[c(m,{class:"top-menu",items:e.value,selectedKeys:t.value,"onUpdate:selectedKeys":s[0]||(s[0]=_=>t.value=_),mode:"horizontal",onClick:o},{title:h(()=>[...s[1]||(s[1]=[j(" 11 ",-1)])]),_:1},8,["items","selectedKeys"])])}}},Oo=se(qo,[["__scopeId","data-v-774edbe3"]]);var Ee={},lt,en;function Fo(){return en||(en=1,lt=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),lt}var ct={},be={},tn;function Se(){if(tn)return be;tn=1;let u;const i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return be.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},be.getSymbolTotalCodewords=function(n){return i[n]},be.getBCHDigit=function(l){let n=0;for(;l!==0;)n++,l>>>=1;return n},be.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');u=n},be.isKanjiModeEnabled=function(){return typeof u<"u"},be.toSJIS=function(n){return u(n)},be}var ut={},nn;function Kt(){return nn||(nn=1,(function(u){u.L={bit:1},u.M={bit:0},u.Q={bit:3},u.H={bit:2};function i(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return u.L;case"m":case"medium":return u.M;case"q":case"quartile":return u.Q;case"h":case"high":return u.H;default:throw new Error("Unknown EC Level: "+l)}}u.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},u.from=function(n,t){if(u.isValid(n))return n;try{return i(n)}catch{return t}}})(ut)),ut}var dt,on;function Vo(){if(on)return dt;on=1;function u(){this.buffer=[],this.length=0}return u.prototype={get:function(i){const l=Math.floor(i/8);return(this.buffer[l]>>>7-i%8&1)===1},put:function(i,l){for(let n=0;n<l;n++)this.putBit((i>>>l-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(i){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),i&&(this.buffer[l]|=128>>>this.length%8),this.length++}},dt=u,dt}var pt,an;function jo(){if(an)return pt;an=1;function u(i){if(!i||i<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=i,this.data=new Uint8Array(i*i),this.reservedBit=new Uint8Array(i*i)}return u.prototype.set=function(i,l,n,t){const e=i*this.size+l;this.data[e]=n,t&&(this.reservedBit[e]=!0)},u.prototype.get=function(i,l){return this.data[i*this.size+l]},u.prototype.xor=function(i,l,n){this.data[i*this.size+l]^=n},u.prototype.isReserved=function(i,l){return this.reservedBit[i*this.size+l]},pt=u,pt}var ft={},sn;function Ho(){return sn||(sn=1,(function(u){const i=Se().getSymbolSize;u.getRowColCoords=function(n){if(n===1)return[];const t=Math.floor(n/7)+2,e=i(n),o=e===145?26:Math.ceil((e-13)/(2*t-2))*2,d=[e-7];for(let s=1;s<t-1;s++)d[s]=d[s-1]-o;return d.push(6),d.reverse()},u.getPositions=function(n){const t=[],e=u.getRowColCoords(n),o=e.length;for(let d=0;d<o;d++)for(let s=0;s<o;s++)d===0&&s===0||d===0&&s===o-1||d===o-1&&s===0||t.push([e[d],e[s]]);return t}})(ft)),ft}var _t={},rn;function zo(){if(rn)return _t;rn=1;const u=Se().getSymbolSize,i=7;return _t.getPositions=function(n){const t=u(n);return[[0,0],[t-i,0],[0,t-i]]},_t}var ht={},ln;function Wo(){return ln||(ln=1,(function(u){u.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const i={N1:3,N2:3,N3:40,N4:10};u.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7},u.from=function(t){return u.isValid(t)?parseInt(t,10):void 0},u.getPenaltyN1=function(t){const e=t.size;let o=0,d=0,s=0,m=null,_=null;for(let f=0;f<e;f++){d=s=0,m=_=null;for(let b=0;b<e;b++){let C=t.get(f,b);C===m?d++:(d>=5&&(o+=i.N1+(d-5)),m=C,d=1),C=t.get(b,f),C===_?s++:(s>=5&&(o+=i.N1+(s-5)),_=C,s=1)}d>=5&&(o+=i.N1+(d-5)),s>=5&&(o+=i.N1+(s-5))}return o},u.getPenaltyN2=function(t){const e=t.size;let o=0;for(let d=0;d<e-1;d++)for(let s=0;s<e-1;s++){const m=t.get(d,s)+t.get(d,s+1)+t.get(d+1,s)+t.get(d+1,s+1);(m===4||m===0)&&o++}return o*i.N2},u.getPenaltyN3=function(t){const e=t.size;let o=0,d=0,s=0;for(let m=0;m<e;m++){d=s=0;for(let _=0;_<e;_++)d=d<<1&2047|t.get(m,_),_>=10&&(d===1488||d===93)&&o++,s=s<<1&2047|t.get(_,m),_>=10&&(s===1488||s===93)&&o++}return o*i.N3},u.getPenaltyN4=function(t){let e=0;const o=t.data.length;for(let s=0;s<o;s++)e+=t.data[s];return Math.abs(Math.ceil(e*100/o/5)-10)*i.N4};function l(n,t,e){switch(n){case u.Patterns.PATTERN000:return(t+e)%2===0;case u.Patterns.PATTERN001:return t%2===0;case u.Patterns.PATTERN010:return e%3===0;case u.Patterns.PATTERN011:return(t+e)%3===0;case u.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(e/3))%2===0;case u.Patterns.PATTERN101:return t*e%2+t*e%3===0;case u.Patterns.PATTERN110:return(t*e%2+t*e%3)%2===0;case u.Patterns.PATTERN111:return(t*e%3+(t+e)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}u.applyMask=function(t,e){const o=e.size;for(let d=0;d<o;d++)for(let s=0;s<o;s++)e.isReserved(s,d)||e.xor(s,d,l(t,s,d))},u.getBestMask=function(t,e){const o=Object.keys(u.Patterns).length;let d=0,s=1/0;for(let m=0;m<o;m++){e(m),u.applyMask(m,t);const _=u.getPenaltyN1(t)+u.getPenaltyN2(t)+u.getPenaltyN3(t)+u.getPenaltyN4(t);u.applyMask(m,t),_<s&&(s=_,d=m)}return d}})(ht)),ht}var He={},cn;function Kn(){if(cn)return He;cn=1;const u=Kt(),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return He.getBlocksCount=function(t,e){switch(e){case u.L:return i[(t-1)*4+0];case u.M:return i[(t-1)*4+1];case u.Q:return i[(t-1)*4+2];case u.H:return i[(t-1)*4+3];default:return}},He.getTotalCodewordsCount=function(t,e){switch(e){case u.L:return l[(t-1)*4+0];case u.M:return l[(t-1)*4+1];case u.Q:return l[(t-1)*4+2];case u.H:return l[(t-1)*4+3];default:return}},He}var mt={},Oe={},un;function Ko(){if(un)return Oe;un=1;const u=new Uint8Array(512),i=new Uint8Array(256);return(function(){let n=1;for(let t=0;t<255;t++)u[t]=n,i[n]=t,n<<=1,n&256&&(n^=285);for(let t=255;t<512;t++)u[t]=u[t-255]})(),Oe.log=function(n){if(n<1)throw new Error("log("+n+")");return i[n]},Oe.exp=function(n){return u[n]},Oe.mul=function(n,t){return n===0||t===0?0:u[i[n]+i[t]]},Oe}var dn;function Go(){return dn||(dn=1,(function(u){const i=Ko();u.mul=function(n,t){const e=new Uint8Array(n.length+t.length-1);for(let o=0;o<n.length;o++)for(let d=0;d<t.length;d++)e[o+d]^=i.mul(n[o],t[d]);return e},u.mod=function(n,t){let e=new Uint8Array(n);for(;e.length-t.length>=0;){const o=e[0];for(let s=0;s<t.length;s++)e[s]^=i.mul(t[s],o);let d=0;for(;d<e.length&&e[d]===0;)d++;e=e.slice(d)}return e},u.generateECPolynomial=function(n){let t=new Uint8Array([1]);for(let e=0;e<n;e++)t=u.mul(t,new Uint8Array([1,i.exp(e)]));return t}})(mt)),mt}var gt,pn;function Jo(){if(pn)return gt;pn=1;const u=Go();function i(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return i.prototype.initialize=function(n){this.degree=n,this.genPoly=u.generateECPolynomial(this.degree)},i.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(n.length+this.degree);t.set(n);const e=u.mod(t,this.genPoly),o=this.degree-e.length;if(o>0){const d=new Uint8Array(this.degree);return d.set(e,o),d}return e},gt=i,gt}var vt={},yt={},wt={},fn;function Gn(){return fn||(fn=1,wt.isValid=function(i){return!isNaN(i)&&i>=1&&i<=40}),wt}var _e={},_n;function Jn(){if(_n)return _e;_n=1;const u="[0-9]+",i="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;_e.KANJI=new RegExp(l,"g"),_e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),_e.BYTE=new RegExp(n,"g"),_e.NUMERIC=new RegExp(u,"g"),_e.ALPHANUMERIC=new RegExp(i,"g");const t=new RegExp("^"+l+"$"),e=new RegExp("^"+u+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return _e.testKanji=function(s){return t.test(s)},_e.testNumeric=function(s){return e.test(s)},_e.testAlphanumeric=function(s){return o.test(s)},_e}var hn;function $e(){return hn||(hn=1,(function(u){const i=Gn(),l=Jn();u.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},u.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},u.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},u.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},u.MIXED={bit:-1},u.getCharCountIndicator=function(e,o){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!i.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?e.ccBits[0]:o<27?e.ccBits[1]:e.ccBits[2]},u.getBestModeForData=function(e){return l.testNumeric(e)?u.NUMERIC:l.testAlphanumeric(e)?u.ALPHANUMERIC:l.testKanji(e)?u.KANJI:u.BYTE},u.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},u.isValid=function(e){return e&&e.bit&&e.ccBits};function n(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return u.NUMERIC;case"alphanumeric":return u.ALPHANUMERIC;case"kanji":return u.KANJI;case"byte":return u.BYTE;default:throw new Error("Unknown mode: "+t)}}u.from=function(e,o){if(u.isValid(e))return e;try{return n(e)}catch{return o}}})(yt)),yt}var mn;function Yo(){return mn||(mn=1,(function(u){const i=Se(),l=Kn(),n=Kt(),t=$e(),e=Gn(),o=7973,d=i.getBCHDigit(o);function s(b,C,R){for(let T=1;T<=40;T++)if(C<=u.getCapacity(T,R,b))return T}function m(b,C){return t.getCharCountIndicator(b,C)+4}function _(b,C){let R=0;return b.forEach(function(T){const S=m(T.mode,C);R+=S+T.getBitsLength()}),R}function f(b,C){for(let R=1;R<=40;R++)if(_(b,R)<=u.getCapacity(R,C,t.MIXED))return R}u.from=function(C,R){return e.isValid(C)?parseInt(C,10):R},u.getCapacity=function(C,R,T){if(!e.isValid(C))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=t.BYTE);const S=i.getSymbolTotalCodewords(C),w=l.getTotalCodewordsCount(C,R),F=(S-w)*8;if(T===t.MIXED)return F;const U=F-m(T,C);switch(T){case t.NUMERIC:return Math.floor(U/10*3);case t.ALPHANUMERIC:return Math.floor(U/11*2);case t.KANJI:return Math.floor(U/13);case t.BYTE:default:return Math.floor(U/8)}},u.getBestVersionForData=function(C,R){let T;const S=n.from(R,n.M);if(Array.isArray(C)){if(C.length>1)return f(C,S);if(C.length===0)return 1;T=C[0]}else T=C;return s(T.mode,T.getLength(),S)},u.getEncodedBits=function(C){if(!e.isValid(C)||C<7)throw new Error("Invalid QR Code version");let R=C<<12;for(;i.getBCHDigit(R)-d>=0;)R^=o<<i.getBCHDigit(R)-d;return C<<12|R}})(vt)),vt}var bt={},gn;function Qo(){if(gn)return bt;gn=1;const u=Se(),i=1335,l=21522,n=u.getBCHDigit(i);return bt.getEncodedBits=function(e,o){const d=e.bit<<3|o;let s=d<<10;for(;u.getBCHDigit(s)-n>=0;)s^=i<<u.getBCHDigit(s)-n;return(d<<10|s)^l},bt}var kt={},Ct,vn;function Xo(){if(vn)return Ct;vn=1;const u=$e();function i(l){this.mode=u.NUMERIC,this.data=l.toString()}return i.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(n){let t,e,o;for(t=0;t+3<=this.data.length;t+=3)e=this.data.substr(t,3),o=parseInt(e,10),n.put(o,10);const d=this.data.length-t;d>0&&(e=this.data.substr(t),o=parseInt(e,10),n.put(o,d*3+1))},Ct=i,Ct}var At,yn;function Zo(){if(yn)return At;yn=1;const u=$e(),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(n){this.mode=u.ALPHANUMERIC,this.data=n}return l.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(t){let e;for(e=0;e+2<=this.data.length;e+=2){let o=i.indexOf(this.data[e])*45;o+=i.indexOf(this.data[e+1]),t.put(o,11)}this.data.length%2&&t.put(i.indexOf(this.data[e]),6)},At=l,At}var St,wn;function ea(){if(wn)return St;wn=1;const u=$e();function i(l){this.mode=u.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return i.getBitsLength=function(n){return n*8},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(l){for(let n=0,t=this.data.length;n<t;n++)l.put(this.data[n],8)},St=i,St}var $t,bn;function ta(){if(bn)return $t;bn=1;const u=$e(),i=Se();function l(n){this.mode=u.KANJI,this.data=n}return l.getBitsLength=function(t){return t*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(n){let t;for(t=0;t<this.data.length;t++){let e=i.toSJIS(this.data[t]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),n.put(e,13)}},$t=l,$t}var xt={exports:{}},kn;function na(){return kn||(kn=1,(function(u){var i={single_source_shortest_paths:function(l,n,t){var e={},o={};o[n]=0;var d=i.PriorityQueue.make();d.push(n,0);for(var s,m,_,f,b,C,R,T,S;!d.empty();){s=d.pop(),m=s.value,f=s.cost,b=l[m]||{};for(_ in b)b.hasOwnProperty(_)&&(C=b[_],R=f+C,T=o[_],S=typeof o[_]>"u",(S||T>R)&&(o[_]=R,d.push(_,R),e[_]=m))}if(typeof t<"u"&&typeof o[t]>"u"){var w=["Could not find a path from ",n," to ",t,"."].join("");throw new Error(w)}return e},extract_shortest_path_from_predecessor_list:function(l,n){for(var t=[],e=n;e;)t.push(e),l[e],e=l[e];return t.reverse(),t},find_path:function(l,n,t){var e=i.single_source_shortest_paths(l,n,t);return i.extract_shortest_path_from_predecessor_list(e,t)},PriorityQueue:{make:function(l){var n=i.PriorityQueue,t={},e;l=l||{};for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t.queue=[],t.sorter=l.sorter||n.default_sorter,t},default_sorter:function(l,n){return l.cost-n.cost},push:function(l,n){var t={value:l,cost:n};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};u.exports=i})(xt)),xt.exports}var Cn;function oa(){return Cn||(Cn=1,(function(u){const i=$e(),l=Xo(),n=Zo(),t=ea(),e=ta(),o=Jn(),d=Se(),s=na();function m(w){return unescape(encodeURIComponent(w)).length}function _(w,F,U){const y=[];let $;for(;($=w.exec(U))!==null;)y.push({data:$[0],index:$.index,mode:F,length:$[0].length});return y}function f(w){const F=_(o.NUMERIC,i.NUMERIC,w),U=_(o.ALPHANUMERIC,i.ALPHANUMERIC,w);let y,$;return d.isKanjiModeEnabled()?(y=_(o.BYTE,i.BYTE,w),$=_(o.KANJI,i.KANJI,w)):(y=_(o.BYTE_KANJI,i.BYTE,w),$=[]),F.concat(U,y,$).sort(function(V,N){return V.index-N.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function b(w,F){switch(F){case i.NUMERIC:return l.getBitsLength(w);case i.ALPHANUMERIC:return n.getBitsLength(w);case i.KANJI:return e.getBitsLength(w);case i.BYTE:return t.getBitsLength(w)}}function C(w){return w.reduce(function(F,U){const y=F.length-1>=0?F[F.length-1]:null;return y&&y.mode===U.mode?(F[F.length-1].data+=U.data,F):(F.push(U),F)},[])}function R(w){const F=[];for(let U=0;U<w.length;U++){const y=w[U];switch(y.mode){case i.NUMERIC:F.push([y,{data:y.data,mode:i.ALPHANUMERIC,length:y.length},{data:y.data,mode:i.BYTE,length:y.length}]);break;case i.ALPHANUMERIC:F.push([y,{data:y.data,mode:i.BYTE,length:y.length}]);break;case i.KANJI:F.push([y,{data:y.data,mode:i.BYTE,length:m(y.data)}]);break;case i.BYTE:F.push([{data:y.data,mode:i.BYTE,length:m(y.data)}])}}return F}function T(w,F){const U={},y={start:{}};let $=["start"];for(let E=0;E<w.length;E++){const V=w[E],N=[];for(let q=0;q<V.length;q++){const B=V[q],p=""+E+q;N.push(p),U[p]={node:B,lastCount:0},y[p]={};for(let O=0;O<$.length;O++){const M=$[O];U[M]&&U[M].node.mode===B.mode?(y[M][p]=b(U[M].lastCount+B.length,B.mode)-b(U[M].lastCount,B.mode),U[M].lastCount+=B.length):(U[M]&&(U[M].lastCount=B.length),y[M][p]=b(B.length,B.mode)+4+i.getCharCountIndicator(B.mode,F))}}$=N}for(let E=0;E<$.length;E++)y[$[E]].end=0;return{map:y,table:U}}function S(w,F){let U;const y=i.getBestModeForData(w);if(U=i.from(F,y),U!==i.BYTE&&U.bit<y.bit)throw new Error('"'+w+'" cannot be encoded with mode '+i.toString(U)+`.
 Suggested mode is: `+i.toString(y));switch(U===i.KANJI&&!d.isKanjiModeEnabled()&&(U=i.BYTE),U){case i.NUMERIC:return new l(w);case i.ALPHANUMERIC:return new n(w);case i.KANJI:return new e(w);case i.BYTE:return new t(w)}}u.fromArray=function(F){return F.reduce(function(U,y){return typeof y=="string"?U.push(S(y,null)):y.data&&U.push(S(y.data,y.mode)),U},[])},u.fromString=function(F,U){const y=f(F,d.isKanjiModeEnabled()),$=R(y),E=T($,U),V=s.find_path(E.map,"start","end"),N=[];for(let q=1;q<V.length-1;q++)N.push(E.table[V[q]].node);return u.fromArray(C(N))},u.rawSplit=function(F){return u.fromArray(f(F,d.isKanjiModeEnabled()))}})(kt)),kt}var An;function aa(){if(An)return ct;An=1;const u=Se(),i=Kt(),l=Vo(),n=jo(),t=Ho(),e=zo(),o=Wo(),d=Kn(),s=Jo(),m=Yo(),_=Qo(),f=$e(),b=oa();function C(E,V){const N=E.size,q=e.getPositions(V);for(let B=0;B<q.length;B++){const p=q[B][0],O=q[B][1];for(let M=-1;M<=7;M++)if(!(p+M<=-1||N<=p+M))for(let G=-1;G<=7;G++)O+G<=-1||N<=O+G||(M>=0&&M<=6&&(G===0||G===6)||G>=0&&G<=6&&(M===0||M===6)||M>=2&&M<=4&&G>=2&&G<=4?E.set(p+M,O+G,!0,!0):E.set(p+M,O+G,!1,!0))}}function R(E){const V=E.size;for(let N=8;N<V-8;N++){const q=N%2===0;E.set(N,6,q,!0),E.set(6,N,q,!0)}}function T(E,V){const N=t.getPositions(V);for(let q=0;q<N.length;q++){const B=N[q][0],p=N[q][1];for(let O=-2;O<=2;O++)for(let M=-2;M<=2;M++)O===-2||O===2||M===-2||M===2||O===0&&M===0?E.set(B+O,p+M,!0,!0):E.set(B+O,p+M,!1,!0)}}function S(E,V){const N=E.size,q=m.getEncodedBits(V);let B,p,O;for(let M=0;M<18;M++)B=Math.floor(M/3),p=M%3+N-8-3,O=(q>>M&1)===1,E.set(B,p,O,!0),E.set(p,B,O,!0)}function w(E,V,N){const q=E.size,B=_.getEncodedBits(V,N);let p,O;for(p=0;p<15;p++)O=(B>>p&1)===1,p<6?E.set(p,8,O,!0):p<8?E.set(p+1,8,O,!0):E.set(q-15+p,8,O,!0),p<8?E.set(8,q-p-1,O,!0):p<9?E.set(8,15-p-1+1,O,!0):E.set(8,15-p-1,O,!0);E.set(q-8,8,1,!0)}function F(E,V){const N=E.size;let q=-1,B=N-1,p=7,O=0;for(let M=N-1;M>0;M-=2)for(M===6&&M--;;){for(let G=0;G<2;G++)if(!E.isReserved(B,M-G)){let J=!1;O<V.length&&(J=(V[O]>>>p&1)===1),E.set(B,M-G,J),p--,p===-1&&(O++,p=7)}if(B+=q,B<0||N<=B){B-=q,q=-q;break}}}function U(E,V,N){const q=new l;N.forEach(function(G){q.put(G.mode.bit,4),q.put(G.getLength(),f.getCharCountIndicator(G.mode,E)),G.write(q)});const B=u.getSymbolTotalCodewords(E),p=d.getTotalCodewordsCount(E,V),O=(B-p)*8;for(q.getLengthInBits()+4<=O&&q.put(0,4);q.getLengthInBits()%8!==0;)q.putBit(0);const M=(O-q.getLengthInBits())/8;for(let G=0;G<M;G++)q.put(G%2?17:236,8);return y(q,E,V)}function y(E,V,N){const q=u.getSymbolTotalCodewords(V),B=d.getTotalCodewordsCount(V,N),p=q-B,O=d.getBlocksCount(V,N),M=q%O,G=O-M,J=Math.floor(q/O),L=Math.floor(p/O),r=L+1,g=J-L,k=new s(g);let P=0;const v=new Array(O),x=new Array(O);let I=0;const A=new Uint8Array(E.buffer);for(let X=0;X<O;X++){const ee=X<G?L:r;v[X]=A.slice(P,P+ee),x[X]=k.encode(v[X]),P+=ee,I=Math.max(I,ee)}const z=new Uint8Array(q);let W=0,K,Q;for(K=0;K<I;K++)for(Q=0;Q<O;Q++)K<v[Q].length&&(z[W++]=v[Q][K]);for(K=0;K<g;K++)for(Q=0;Q<O;Q++)z[W++]=x[Q][K];return z}function $(E,V,N,q){let B;if(Array.isArray(E))B=b.fromArray(E);else if(typeof E=="string"){let J=V;if(!J){const L=b.rawSplit(E);J=m.getBestVersionForData(L,N)}B=b.fromString(E,J||40)}else throw new Error("Invalid data");const p=m.getBestVersionForData(B,N);if(!p)throw new Error("The amount of data is too big to be stored in a QR Code");if(!V)V=p;else if(V<p)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+p+`.
`);const O=U(V,N,B),M=u.getSymbolSize(V),G=new n(M);return C(G,V),R(G),T(G,V),w(G,N,0),V>=7&&S(G,V),F(G,O),isNaN(q)&&(q=o.getBestMask(G,w.bind(null,G,N))),o.applyMask(q,G),w(G,N,q),{modules:G,version:V,errorCorrectionLevel:N,maskPattern:q,segments:B}}return ct.create=function(V,N){if(typeof V>"u"||V==="")throw new Error("No input text");let q=i.M,B,p;return typeof N<"u"&&(q=i.from(N.errorCorrectionLevel,i.M),B=m.from(N.version),p=o.from(N.maskPattern),N.toSJISFunc&&u.setToSJISFunction(N.toSJISFunc)),$(V,B,q,p)},ct}var It={},Et={},Sn;function Yn(){return Sn||(Sn=1,(function(u){function i(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let n=l.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+l);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(e){return[e,e]}))),n.length===6&&n.push("F","F");const t=parseInt(n.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:t&255,hex:"#"+n.slice(0,6).join("")}}u.getOptions=function(n){n||(n={}),n.color||(n.color={});const t=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,e=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:e,scale:e?4:o,margin:t,color:{dark:i(n.color.dark||"#000000ff"),light:i(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},u.getScale=function(n,t){return t.width&&t.width>=n+t.margin*2?t.width/(n+t.margin*2):t.scale},u.getImageWidth=function(n,t){const e=u.getScale(n,t);return Math.floor((n+t.margin*2)*e)},u.qrToImageData=function(n,t,e){const o=t.modules.size,d=t.modules.data,s=u.getScale(o,e),m=Math.floor((o+e.margin*2)*s),_=e.margin*s,f=[e.color.light,e.color.dark];for(let b=0;b<m;b++)for(let C=0;C<m;C++){let R=(b*m+C)*4,T=e.color.light;if(b>=_&&C>=_&&b<m-_&&C<m-_){const S=Math.floor((b-_)/s),w=Math.floor((C-_)/s);T=f[d[S*o+w]?1:0]}n[R++]=T.r,n[R++]=T.g,n[R++]=T.b,n[R]=T.a}}})(Et)),Et}var $n;function sa(){return $n||($n=1,(function(u){const i=Yn();function l(t,e,o){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=o,e.width=o,e.style.height=o+"px",e.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}u.render=function(e,o,d){let s=d,m=o;typeof s>"u"&&(!o||!o.getContext)&&(s=o,o=void 0),o||(m=n()),s=i.getOptions(s);const _=i.getImageWidth(e.modules.size,s),f=m.getContext("2d"),b=f.createImageData(_,_);return i.qrToImageData(b.data,e,s),l(f,m,_),f.putImageData(b,0,0),m},u.renderToDataURL=function(e,o,d){let s=d;typeof s>"u"&&(!o||!o.getContext)&&(s=o,o=void 0),s||(s={});const m=u.render(e,o,s),_=s.type||"image/png",f=s.rendererOpts||{};return m.toDataURL(_,f.quality)}})(It)),It}var Rt={},xn;function ia(){if(xn)return Rt;xn=1;const u=Yn();function i(t,e){const o=t.a/255,d=e+'="'+t.hex+'"';return o<1?d+" "+e+'-opacity="'+o.toFixed(2).slice(1)+'"':d}function l(t,e,o){let d=t+e;return typeof o<"u"&&(d+=" "+o),d}function n(t,e,o){let d="",s=0,m=!1,_=0;for(let f=0;f<t.length;f++){const b=Math.floor(f%e),C=Math.floor(f/e);!b&&!m&&(m=!0),t[f]?(_++,f>0&&b>0&&t[f-1]||(d+=m?l("M",b+o,.5+C+o):l("m",s,0),s=0,m=!1),b+1<e&&t[f+1]||(d+=l("h",_),_=0)):s++}return d}return Rt.render=function(e,o,d){const s=u.getOptions(o),m=e.modules.size,_=e.modules.data,f=m+s.margin*2,b=s.color.light.a?"<path "+i(s.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",C="<path "+i(s.color.dark,"stroke")+' d="'+n(_,m,s.margin)+'"/>',R='viewBox="0 0 '+f+" "+f+'"',S='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+R+' shape-rendering="crispEdges">'+b+C+`</svg>
`;return typeof d=="function"&&d(null,S),S},Rt}var In;function ra(){if(In)return Ee;In=1;const u=Fo(),i=aa(),l=sa(),n=ia();function t(e,o,d,s,m){const _=[].slice.call(arguments,1),f=_.length,b=typeof _[f-1]=="function";if(!b&&!u())throw new Error("Callback required as last argument");if(b){if(f<2)throw new Error("Too few arguments provided");f===2?(m=d,d=o,o=s=void 0):f===3&&(o.getContext&&typeof m>"u"?(m=s,s=void 0):(m=s,s=d,d=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(d=o,o=s=void 0):f===2&&!o.getContext&&(s=d,d=o,o=void 0),new Promise(function(C,R){try{const T=i.create(d,s);C(e(T,o,s))}catch(T){R(T)}})}try{const C=i.create(d,s);m(null,e(C,o,s))}catch(C){m(C)}}return Ee.create=i.create,Ee.toCanvas=t.bind(null,l.render),Ee.toDataURL=t.bind(null,l.renderToDataURL),Ee.toString=t.bind(null,function(e,o,d){return n.render(e,d)}),Ee}var la=ra();const En=Nn(la),ca={class:"card-box"},ua={class:"card-box-header"},da={class:"card-title"},pa={key:0,class:"card-icon"},fa={class:"title-text"},_a={class:"title-text"},ha={class:"action"},ma={class:"card-box-body"},ga={__name:"card-box",props:{title:{type:String,default:""}},setup(u){const i=u;return(l,n)=>(D(),Y("div",ca,[a("div",ua,[a("div",da,[l.$slots.icon?(D(),Y("span",pa,[je(l.$slots,"icon",{},void 0,!0)])):ne("",!0),a("span",fa,ae(i.title),1),a("span",_a,[je(l.$slots,"title",{},void 0,!0)])]),a("div",ha,[je(l.$slots,"action",{},void 0,!0)])]),a("div",ma,[je(l.$slots,"default",{},void 0,!0)])]))}},Be=se(ga,[["__scopeId","data-v-13417dcd"]]),va={class:"page-title-input"},ya={class:"upload-logo"},wa=["src"],ba={__name:"page-title-input",props:{avatar:{type:String,default:""},value:{type:String,default:""},placeholder:{type:String,default:"请输入标题"},autoUpload:{type:Boolean,default:!0}},emits:["update:value","update:avatar","changeAvatar"],setup(u,{emit:i}){const l=i,n=u,t=o=>{l("update:value",o.srcElement.value)},e=o=>{let d={file:o[0],category:"icon"};n.autoUpload&&jn(d).then(s=>{l("update:avatar",s.data.link)}),vo(o[0]).then(s=>{l("changeAvatar",{file:o[0],url:s})})};return(o,d)=>{const s=ye;return D(),Y("div",va,[a("div",ya,[c(Hn,{onChange:e},{default:h(()=>[a("img",{class:"avatar",src:n.avatar},null,8,wa)]),_:1})]),c(s,{size:"large",value:n.value,placeholder:u.placeholder,onInput:t},null,8,["value","placeholder"])])}}},Ne=se(ba,[["__scopeId","data-v-1a1bdb06"]]);var Bt={exports:{}};/*! Pickr 1.9.1 MIT | https://github.com/Simonwep/pickr */var Rn;function ka(){return Rn||(Rn=1,(function(u,i){(function(l,n){u.exports=n()})(self,(()=>(()=>{var l={d:(L,r)=>{for(var g in r)l.o(r,g)&&!l.o(L,g)&&Object.defineProperty(L,g,{enumerable:!0,get:r[g]})},o:(L,r)=>Object.prototype.hasOwnProperty.call(L,r),r:L=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})}},n={};l.d(n,{default:()=>G});var t={};function e(L,r,g,k,P={}){r instanceof HTMLCollection||r instanceof NodeList?r=Array.from(r):Array.isArray(r)||(r=[r]),Array.isArray(g)||(g=[g]);for(const v of r)for(const x of g)v[L](x,k,{capture:!1,...P});return Array.prototype.slice.call(arguments,1)}l.r(t),l.d(t,{adjustableInputNumbers:()=>b,createElementFromString:()=>s,createFromTemplate:()=>m,eventPath:()=>_,off:()=>d,on:()=>o,resolveElement:()=>f});const o=e.bind(null,"addEventListener"),d=e.bind(null,"removeEventListener");function s(L){const r=document.createElement("div");return r.innerHTML=L.trim(),r.firstElementChild}function m(L){const r=(k,P)=>{const v=k.getAttribute(P);return k.removeAttribute(P),v},g=(k,P={})=>{const v=r(k,":obj"),x=r(k,":ref"),I=v?P[v]={}:P;x&&(P[x]=k);for(const A of Array.from(k.children)){const z=r(A,":arr"),W=g(A,z?{}:I);z&&(I[z]||(I[z]=[])).push(Object.keys(W).length?W:A)}return P};return g(s(L))}function _(L){let r=L.path||L.composedPath&&L.composedPath();if(r)return r;let g=L.target.parentElement;for(r=[L.target,g];g=g.parentElement;)r.push(g);return r.push(document,window),r}function f(L){return L instanceof Element?L:typeof L=="string"?L.split(/>>/g).reduce(((r,g,k,P)=>(r=r.querySelector(g),k<P.length-1?r.shadowRoot:r)),document):null}function b(L,r=(g=>g)){function g(k){const P=[.001,.01,.1][Number(k.shiftKey||2*k.ctrlKey)]*(k.deltaY<0?1:-1);let v=0,x=L.selectionStart;L.value=L.value.replace(/[\d.]+/g,((I,A)=>A<=x&&A+I.length>=x?(x=A,r(Number(I),P,v)):(v++,I))),L.focus(),L.setSelectionRange(x,x),k.preventDefault(),L.dispatchEvent(new Event("input"))}o(L,"focus",(()=>o(window,"wheel",g,{passive:!1}))),o(L,"blur",(()=>d(window,"wheel",g)))}const{min:C,max:R,floor:T,round:S}=Math;function w(L,r,g){r/=100,g/=100;const k=T(L=L/360*6),P=L-k,v=g*(1-r),x=g*(1-P*r),I=g*(1-(1-P)*r),A=k%6;return[255*[g,x,v,v,I,g][A],255*[I,g,g,x,v,v][A],255*[v,v,I,g,g,x][A]]}function F(L,r,g){const k=(2-(r/=100))*(g/=100)/2;return k!==0&&(r=k===1?0:k<.5?r*g/(2*k):r*g/(2-2*k)),[L,100*r,100*k]}function U(L,r,g){const k=C(L/=255,r/=255,g/=255),P=R(L,r,g),v=P-k;let x,I;if(v===0)x=I=0;else{I=v/P;const A=((P-L)/6+v/2)/v,z=((P-r)/6+v/2)/v,W=((P-g)/6+v/2)/v;L===P?x=W-z:r===P?x=1/3+A-W:g===P&&(x=2/3+z-A),x<0?x+=1:x>1&&(x-=1)}return[360*x,100*I,100*P]}function y(L,r,g,k){return r/=100,g/=100,[...U(255*(1-C(1,(L/=100)*(1-(k/=100))+k)),255*(1-C(1,r*(1-k)+k)),255*(1-C(1,g*(1-k)+k)))]}function $(L,r,g){r/=100;const k=2*(r*=(g/=100)<.5?g:1-g)/(g+r)*100,P=100*(g+r);return[L,isNaN(k)?0:k,P]}function E(L){return U(...L.match(/.{2}/g).map((r=>parseInt(r,16))))}function V(L){L=L.match(/^[a-zA-Z]+$/)?(function(P){if(P.toLowerCase()==="black")return"#000";const v=document.createElement("canvas").getContext("2d");return v.fillStyle=P,v.fillStyle==="#000"?null:v.fillStyle})(L):L;const r={cmyk:/^cmyk\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)/i,rgba:/^rgba?\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D+([\d.]+)(%?)\D*?(([\d.]+)(%?)|$)/i,hsla:/^hsla?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hsva:/^hsva?\D+([\d.]+)\D+([\d.]+)\D+([\d.]+)\D*?(([\d.]+)(%?)|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},g=P=>P.map((v=>/^(|\d+)\.\d+|\d+$/.test(v)?Number(v):void 0));let k;e:for(const P in r)if(k=r[P].exec(L))switch(P){case"cmyk":{const[,v,x,I,A]=g(k);if(v>100||x>100||I>100||A>100)break e;return{values:y(v,x,I,A),type:P}}case"rgba":{let[,v,,x,,I,,,A]=g(k);if(v=k[2]==="%"?v/100*255:v,x=k[4]==="%"?x/100*255:x,I=k[6]==="%"?I/100*255:I,A=k[9]==="%"?A/100:A,v>255||x>255||I>255||A<0||A>1)break e;return{values:[...U(v,x,I),A],a:A,type:P}}case"hexa":{let[,v]=k;v.length!==4&&v.length!==3||(v=v.split("").map((A=>A+A)).join(""));const x=v.substring(0,6);let I=v.substring(6);return I=I?parseInt(I,16)/255:void 0,{values:[...E(x),I],a:I,type:P}}case"hsla":{let[,v,x,I,,A]=g(k);if(A=k[6]==="%"?A/100:A,v>360||x>100||I>100||A<0||A>1)break e;return{values:[...$(v,x,I),A],a:A,type:P}}case"hsva":{let[,v,x,I,,A]=g(k);if(A=k[6]==="%"?A/100:A,v>360||x>100||I>100||A<0||A>1)break e;return{values:[v,x,I,A],a:A,type:P}}}return{values:null,type:null}}function N(L=0,r=0,g=0,k=1){const P=(x,I)=>(A=-1)=>I(~A?x.map((z=>Number(z.toFixed(A)))):x),v={h:L,s:r,v:g,a:k,toHSVA(){const x=[v.h,v.s,v.v,v.a];return x.toString=P(x,(I=>`hsva(${I[0]}, ${I[1]}%, ${I[2]}%, ${v.a})`)),x},toHSLA(){const x=[...F(v.h,v.s,v.v),v.a];return x.toString=P(x,(I=>`hsla(${I[0]}, ${I[1]}%, ${I[2]}%, ${v.a})`)),x},toRGBA(){const x=[...w(v.h,v.s,v.v),v.a];return x.toString=P(x,(I=>`rgba(${I[0]}, ${I[1]}, ${I[2]}, ${v.a})`)),x},toCMYK(){const x=(function(I,A,z){const W=w(I,A,z),K=W[0]/255,Q=W[1]/255,X=W[2]/255,ee=C(1-K,1-Q,1-X);return[100*(ee===1?0:(1-K-ee)/(1-ee)),100*(ee===1?0:(1-Q-ee)/(1-ee)),100*(ee===1?0:(1-X-ee)/(1-ee)),100*ee]})(v.h,v.s,v.v);return x.toString=P(x,(I=>`cmyk(${I[0]}%, ${I[1]}%, ${I[2]}%, ${I[3]}%)`)),x},toHEXA(){const x=(function(A,z,W){return w(A,z,W).map((K=>S(K).toString(16).padStart(2,"0")))})(v.h,v.s,v.v),I=v.a>=1?"":Number((255*v.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return I&&x.push(I),x.toString=()=>`#${x.join("").toUpperCase()}`,x},clone:()=>N(v.h,v.s,v.v,v.a)};return v}const q=L=>Math.max(Math.min(L,1),0);function B(L){const r={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},L),_keyboard(v){const{options:x}=r,{type:I,key:A}=v;if(document.activeElement===x.wrapper){const{lock:z}=r.options,W=A==="ArrowUp",K=A==="ArrowRight",Q=A==="ArrowDown",X=A==="ArrowLeft";if(I==="keydown"&&(W||K||Q||X)){let ee=0,ie=0;z==="v"?ee=W||K?1:-1:z==="h"?ee=W||K?-1:1:(ie=W?-1:Q?1:0,ee=X?-1:K?1:0),r.update(q(r.cache.x+.01*ee),q(r.cache.y+.01*ie)),v.preventDefault()}else A.startsWith("Arrow")&&(r.options.onstop(),v.preventDefault())}},_tapstart(v){o(document,["mouseup","touchend","touchcancel"],r._tapstop),o(document,["mousemove","touchmove"],r._tapmove),v.cancelable&&v.preventDefault(),r._tapmove(v)},_tapmove(v){const{options:x,cache:I}=r,{lock:A,element:z,wrapper:W}=x,K=W.getBoundingClientRect();let Q=0,X=0;if(v){const xe=v&&v.touches&&v.touches[0];Q=v?(xe||v).clientX:0,X=v?(xe||v).clientY:0,Q<K.left?Q=K.left:Q>K.left+K.width&&(Q=K.left+K.width),X<K.top?X=K.top:X>K.top+K.height&&(X=K.top+K.height),Q-=K.left,X-=K.top}else I&&(Q=I.x*K.width,X=I.y*K.height);A!=="h"&&(z.style.left=`calc(${Q/K.width*100}% - ${z.offsetWidth/2}px)`),A!=="v"&&(z.style.top=`calc(${X/K.height*100}% - ${z.offsetHeight/2}px)`),r.cache={x:Q/K.width,y:X/K.height};const ee=q(Q/K.width),ie=q(X/K.height);switch(A){case"v":return x.onchange(ee);case"h":return x.onchange(ie);default:return x.onchange(ee,ie)}},_tapstop(){r.options.onstop(),d(document,["mouseup","touchend","touchcancel"],r._tapstop),d(document,["mousemove","touchmove"],r._tapmove)},trigger(){r._tapmove()},update(v=0,x=0){const{left:I,top:A,width:z,height:W}=r.options.wrapper.getBoundingClientRect();r.options.lock==="h"&&(x=v),r._tapmove({clientX:I+z*v,clientY:A+W*x})},destroy(){const{options:v,_tapstart:x,_keyboard:I}=r;d(document,["keydown","keyup"],I),d([v.wrapper,v.element],"mousedown",x),d([v.wrapper,v.element],"touchstart",x,{passive:!1})}},{options:g,_tapstart:k,_keyboard:P}=r;return o([g.wrapper,g.element],"mousedown",k),o([g.wrapper,g.element],"touchstart",k,{passive:!1}),o(document,["keydown","keyup"],P),r}function p(L={}){L=Object.assign({onchange:()=>0,className:"",elements:[]},L);const r=o(L.elements,"click",(g=>{L.elements.forEach((k=>k.classList[g.target===k?"add":"remove"](L.className))),L.onchange(g),g.stopPropagation()}));return{destroy:()=>d(...r)}}const O={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},M=(L,r,g)=>{const k=typeof L!="object"||L instanceof HTMLElement?{reference:L,popper:r,...g}:L;return{update(P=k){const{reference:v,popper:x}=Object.assign(k,P);if(!x||!v)throw new Error("Popper- or reference-element missing.");return((I,A,z)=>{const{container:W,arrow:K,margin:Q,padding:X,position:ee,variantFlipOrder:ie,positionFlipOrder:xe}={container:document.documentElement.getBoundingClientRect(),...O,...z},{left:Ze,top:et}=A.style;A.style.left="0",A.style.top="0";const le=I.getBoundingClientRect(),de=A.getBoundingClientRect(),eo={t:le.top-de.height-Q,b:le.bottom+Q,r:le.right+Q,l:le.left-de.width-Q},to={vs:le.left,vm:le.left+le.width/2-de.width/2,ve:le.left+le.width-de.width,hs:le.top,hm:le.bottom-le.height/2-de.height/2,he:le.bottom-de.height},[no,oo="middle"]=ee.split("-"),ao=xe[no],so=ie[oo],{top:Gt,left:Jt,bottom:Yt,right:Qt}=W;for(const Le of ao){const Ie=Le==="t"||Le==="b";let De=eo[Le];const[tt,nt]=Ie?["top","left"]:["left","top"],[ot,at]=Ie?[de.height,de.width]:[de.width,de.height],[io,ro]=Ie?[Yt,Qt]:[Qt,Yt],[lo,co]=Ie?[Gt,Jt]:[Jt,Gt];if(!(De<lo||De+ot+X>io))for(const st of so){let qe=to[(Ie?"v":"h")+st];if(!(qe<co||qe+at+X>ro)){if(qe-=de[nt],De-=de[tt],A.style[nt]=`${qe}px`,A.style[tt]=`${De}px`,K){const it=Ie?le.width/2:le.height/2,Ve=at/2,Xt=it>Ve,uo=qe+{s:Xt?Ve:it,m:Ve,e:Xt?Ve:at-it}[st],po=De+{t:ot,b:0,r:0,l:ot}[Le];K.style[nt]=`${uo}px`,K.style[tt]=`${po}px`}return Le+st}}}return A.style.left=Ze,A.style.top=et,null})(v,x,k)}}},J=class J{constructor(r){ce(this,"_initializingActive",!0);ce(this,"_recalc",!0);ce(this,"_nanopop",null);ce(this,"_root",null);ce(this,"_color",N());ce(this,"_lastColor",N());ce(this,"_swatchColors",[]);ce(this,"_setupAnimationFrame",null);ce(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]});this.options=r=Object.assign({...J.DEFAULT_OPTIONS},r);const{swatches:g,components:k,theme:P,sliders:v,lockOpacity:x,padding:I}=r;["nano","monolith"].includes(P)&&!v&&(r.sliders="h"),k.interaction||(k.interaction={});const{preview:A,opacity:z,hue:W,palette:K}=k;k.opacity=!x&&z,k.palette=K||A||z||W,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),g&&g.length&&g.forEach((ie=>this.addSwatch(ie)));const{button:Q,app:X}=this._root;this._nanopop=M(Q,X,{margin:I}),Q.setAttribute("role","button"),Q.setAttribute("aria-label",this._t("btn:toggle"));const ee=this;this._setupAnimationFrame=requestAnimationFrame((function ie(){if(!X.offsetWidth)return requestAnimationFrame(ie);ee.setColor(r.default),ee._rePositioningPicker(),r.defaultRepresentation&&(ee._representation=r.defaultRepresentation,ee.setColorRepresentation(ee._representation)),r.showAlways&&ee.show(),ee._initializingActive=!1,ee._emit("init")}))}_preBuild(){const{options:r}=this;for(const g of["el","container"])r[g]=f(r[g]);this._root=(g=>{const{components:k,useAsButton:P,inline:v,appClass:x,theme:I,lockOpacity:A}=g.options,z=X=>X?"":'style="display:none" hidden',W=X=>g._t(X),K=m(`
      <div :ref="root" class="pickr">

        ${P?"":'<button type="button" :ref="button" class="pcr-button"></button>'}

        <div :ref="app" class="pcr-app ${x||""}" data-theme="${I}" ${v?'style="position: unset"':""} aria-label="${W("ui:dialog")}" role="window">
          <div class="pcr-selection" ${z(k.palette)}>
            <div :obj="preview" class="pcr-color-preview" ${z(k.preview)}>
              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${W("btn:last-color")}"></button>
              <div :ref="currentColor" class="pcr-current-color"></div>
            </div>

            <div :obj="palette" class="pcr-color-palette">
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${W("aria:palette")}" role="listbox"></div>
            </div>

            <div :obj="hue" class="pcr-color-chooser" ${z(k.hue)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${W("aria:hue")}" role="slider"></div>
            </div>

            <div :obj="opacity" class="pcr-color-opacity" ${z(k.opacity)}>
              <div :ref="picker" class="pcr-picker"></div>
              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${W("aria:opacity")}" role="slider"></div>
            </div>
          </div>

          <div class="pcr-swatches ${k.palette?"":"pcr-last"}" :ref="swatches"></div>

          <div :obj="interaction" class="pcr-interaction" ${z(Object.keys(k.interaction).length)}>
            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${z(k.interaction.input)} aria-label="${W("aria:input")}">

            <input :arr="options" class="pcr-type" data-type="HEXA" value="${A?"HEX":"HEXA"}" type="button" ${z(k.interaction.hex)}>
            <input :arr="options" class="pcr-type" data-type="RGBA" value="${A?"RGB":"RGBA"}" type="button" ${z(k.interaction.rgba)}>
            <input :arr="options" class="pcr-type" data-type="HSLA" value="${A?"HSL":"HSLA"}" type="button" ${z(k.interaction.hsla)}>
            <input :arr="options" class="pcr-type" data-type="HSVA" value="${A?"HSV":"HSVA"}" type="button" ${z(k.interaction.hsva)}>
            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${z(k.interaction.cmyk)}>

            <input :ref="save" class="pcr-save" value="${W("btn:save")}" type="button" ${z(k.interaction.save)} aria-label="${W("aria:btn:save")}">
            <input :ref="cancel" class="pcr-cancel" value="${W("btn:cancel")}" type="button" ${z(k.interaction.cancel)} aria-label="${W("aria:btn:cancel")}">
            <input :ref="clear" class="pcr-clear" value="${W("btn:clear")}" type="button" ${z(k.interaction.clear)} aria-label="${W("aria:btn:clear")}">
          </div>
        </div>
      </div>
    `),Q=K.interaction;return Q.options.find((X=>!X.hidden&&!X.classList.add("active"))),Q.type=()=>Q.options.find((X=>X.classList.contains("active"))),K})(this),r.useAsButton&&(this._root.button=r.el),r.container.appendChild(this._root.root)}_finalBuild(){const r=this.options,g=this._root;if(r.container.removeChild(g.root),r.inline){const k=r.el.parentElement;r.el.nextSibling?k.insertBefore(g.app,r.el.nextSibling):k.appendChild(g.app)}else r.container.appendChild(g.app);r.useAsButton?r.inline&&r.el.remove():r.el.parentNode.replaceChild(g.root,r.el),r.disabled&&this.disable(),r.comparison||(g.button.style.transition="none",r.useAsButton||(g.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const r=this,g=this.options.components,k=(r.options.sliders||"v").repeat(2),[P,v]=k.match(/^[vh]+$/g)?k:[],x=()=>this._color||(this._color=this._lastColor.clone()),I={palette:B({element:r._root.palette.picker,wrapper:r._root.palette.palette,onstop:()=>r._emit("changestop","slider",r),onchange(A,z){if(!g.palette)return;const W=x(),{_root:K,options:Q}=r,{lastColor:X,currentColor:ee}=K.preview;r._recalc&&(W.s=100*A,W.v=100-100*z,W.v<0&&(W.v=0),r._updateOutput("slider"));const ie=W.toRGBA().toString(0);this.element.style.background=ie,this.wrapper.style.background=`
                        linear-gradient(to top, rgba(0, 0, 0, ${W.a}), transparent),
                        linear-gradient(to left, hsla(${W.h}, 100%, 50%, ${W.a}), rgba(255, 255, 255, ${W.a}))
                    `,Q.comparison?Q.useAsButton||r._lastColor||X.style.setProperty("--pcr-color",ie):(K.button.style.setProperty("--pcr-color",ie),K.button.classList.remove("clear"));const xe=W.toHEXA().toString();for(const{el:Ze,color:et}of r._swatchColors)Ze.classList[xe===et.toHEXA().toString()?"add":"remove"]("pcr-active");ee.style.setProperty("--pcr-color",ie)}}),hue:B({lock:v==="v"?"h":"v",element:r._root.hue.picker,wrapper:r._root.hue.slider,onstop:()=>r._emit("changestop","slider",r),onchange(A){if(!g.hue||!g.palette)return;const z=x();r._recalc&&(z.h=360*A),this.element.style.backgroundColor=`hsl(${z.h}, 100%, 50%)`,I.palette.trigger()}}),opacity:B({lock:P==="v"?"h":"v",element:r._root.opacity.picker,wrapper:r._root.opacity.slider,onstop:()=>r._emit("changestop","slider",r),onchange(A){if(!g.opacity||!g.palette)return;const z=x();r._recalc&&(z.a=Math.round(100*A)/100),this.element.style.background=`rgba(0, 0, 0, ${z.a})`,I.palette.trigger()}}),selectable:p({elements:r._root.interaction.options,className:"active",onchange(A){r._representation=A.target.getAttribute("data-type").toUpperCase(),r._recalc&&r._updateOutput("swatch")}})};this._components=I}_bindEvents(){const{_root:r,options:g}=this,k=[o(r.interaction.clear,"click",(()=>this._clearColor())),o([r.interaction.cancel,r.preview.lastColor],"click",(()=>{this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0),this._emit("cancel")})),o(r.interaction.save,"click",(()=>{!this.applyColor()&&!g.showAlways&&this.hide()})),o(r.interaction.result,["keyup","input"],(P=>{this.setColor(P.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),P.stopImmediatePropagation()})),o(r.interaction.result,["focus","blur"],(P=>{this._recalc=P.type==="blur",this._recalc&&this._updateOutput(null)})),o([r.palette.palette,r.palette.picker,r.hue.slider,r.hue.picker,r.opacity.slider,r.opacity.picker],["mousedown","touchstart"],(()=>this._recalc=!0),{passive:!0})];if(!g.showAlways){const P=g.closeWithKey;k.push(o(r.button,"click",(()=>this.isOpen()?this.hide():this.show())),o(document,"keyup",(v=>this.isOpen()&&(v.key===P||v.code===P)&&this.hide())),o(document,["touchstart","mousedown"],(v=>{this.isOpen()&&!_(v).some((x=>x===r.app||x===r.button))&&this.hide()}),{capture:!0}))}if(g.adjustableNumbers){const P={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};b(r.interaction.result,((v,x,I)=>{const A=P[this.getColorRepresentation().toLowerCase()];if(A){const z=A[I],W=v+(z>=100?1e3*x:x);return W<=0?0:Number((W<z?W:z).toPrecision(3))}return v}))}if(g.autoReposition&&!g.inline){let P=null;const v=this;k.push(o(window,["scroll","resize"],(()=>{v.isOpen()&&(g.closeOnScroll&&v.hide(),P===null?(P=setTimeout((()=>P=null),100),requestAnimationFrame((function x(){v._rePositioningPicker(),P!==null&&requestAnimationFrame(x)}))):(clearTimeout(P),P=setTimeout((()=>P=null),100)))}),{capture:!0}))}this._eventBindings=k}_rePositioningPicker(){const{options:r}=this;if(!r.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:r.position})){const g=this._root.app,k=g.getBoundingClientRect();g.style.top=(window.innerHeight-k.height)/2+"px",g.style.left=(window.innerWidth-k.width)/2+"px"}}_updateOutput(r){const{_root:g,_color:k,options:P}=this;if(g.interaction.type()){const v=`to${g.interaction.type().getAttribute("data-type")}`;g.interaction.result.value=typeof k[v]=="function"?k[v]().toString(P.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",k,r,this)}_clearColor(r=!1){const{_root:g,options:k}=this;k.useAsButton||g.button.style.setProperty("--pcr-color","rgba(0, 0, 0, 0.15)"),g.button.classList.add("clear"),k.showAlways||this.hide(),this._lastColor=null,this._initializingActive||r||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(r){const{values:g,type:k,a:P}=V(r),{lockOpacity:v}=this.options,x=P!==void 0&&P!==1;return g&&g.length===3&&(g[3]=void 0),{values:!g||v&&x?null:g,type:k}}_t(r){return this.options.i18n[r]||J.I18N_DEFAULTS[r]}_emit(r,...g){this._eventListener[r].forEach((k=>k(...g,this)))}on(r,g){return this._eventListener[r].push(g),this}off(r,g){const k=this._eventListener[r]||[],P=k.indexOf(g);return~P&&k.splice(P,1),this}addSwatch(r){const{values:g}=this._parseLocalColor(r);if(g){const{_swatchColors:k,_root:P}=this,v=N(...g),x=s(`<button type="button" style="--pcr-color: ${v.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return P.swatches.appendChild(x),k.push({el:x,color:v}),this._eventBindings.push(o(x,"click",(()=>{this.setHSVA(...v.toHSVA(),!0),this._emit("swatchselect",v),this._emit("change",v,"swatch",this)}))),!0}return!1}removeSwatch(r){const g=this._swatchColors[r];if(g){const{el:k}=g;return this._root.swatches.removeChild(k),this._swatchColors.splice(r,1),!0}return!1}applyColor(r=!1){const{preview:g,button:k}=this._root,P=this._color.toRGBA().toString(0);return g.lastColor.style.setProperty("--pcr-color",P),this.options.useAsButton||k.style.setProperty("--pcr-color",P),k.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||r||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach((r=>d(...r))),Object.keys(this._components).forEach((r=>this._components[r].destroy()))}destroyAndRemove(){this.destroy();const{root:r,app:g}=this._root;r.parentElement&&r.parentElement.removeChild(r),g.parentElement.removeChild(g),Object.keys(this).forEach((k=>this[k]=null))}hide(){return!!this.isOpen()&&(this._root.app.classList.remove("visible"),this._emit("hide"),!0)}show(){return!this.options.disabled&&!this.isOpen()&&(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color),this)}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(r=360,g=0,k=0,P=1,v=!1){const x=this._recalc;if(this._recalc=!1,r<0||r>360||g<0||g>100||k<0||k>100||P<0||P>1)return!1;this._color=N(r,g,k,P);const{hue:I,opacity:A,palette:z}=this._components;return I.update(r/360),A.update(P),z.update(g/100,1-k/100),v||this.applyColor(),x&&this._updateOutput(),this._recalc=x,!0}setColor(r,g=!1){if(r===null)return this._clearColor(g),!0;const{values:k,type:P}=this._parseLocalColor(r);if(k){const v=P.toUpperCase(),{options:x}=this._root.interaction,I=x.find((A=>A.getAttribute("data-type")===v));if(I&&!I.hidden)for(const A of x)A.classList[A===I?"add":"remove"]("active");return!!this.setHSVA(...k,g)&&this.setColorRepresentation(v)}return!1}setColorRepresentation(r){return r=r.toUpperCase(),!!this._root.interaction.options.find((g=>g.getAttribute("data-type").startsWith(r)&&!g.click()))}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}};ce(J,"utils",t),ce(J,"version","1.9.1"),ce(J,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),ce(J,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),ce(J,"create",r=>new J(r));let G=J;return n=n.default})()))})(Bt)),Bt.exports}var Ca=ka();const Aa=Nn(Ca),Sa={class:"color-picker-wrapper"},$a={class:"color-picker-action"},xa={__name:"index",props:{value:{type:String,default:"#000000"}},emits:["update:value","change"],setup(u,{emit:i}){const l=i,n=u,t=H(null);return Pe(()=>{const e=Aa.create({el:t.value,container:"body",theme:"nano",default:n.value,defaultRepresentation:"HEX",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 0.95)","rgba(156, 39, 176, 0.9)","rgba(103, 58, 183, 0.85)","rgba(63, 81, 181, 0.8)","rgba(33, 150, 243, 0.75)","rgba(3, 169, 244, 0.7)","rgba(0, 188, 212, 0.7)","rgba(0, 150, 136, 0.75)","rgba(76, 175, 80, 0.8)","rgba(139, 195, 74, 0.85)","rgba(205, 220, 57, 0.9)","rgba(255, 235, 59, 0.95)","rgba(255, 193, 7, 1)"],components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!0}}});e.on("save",(o,d)=>{let s=o.toHEXA().toString();l("update:value",s),l("change",s),d.hide()}),e.on("show",()=>{const o=document.querySelectorAll(".pcr-save");o&&o.length&&o.forEach(function(d){d.tagName.toLowerCase()==="input"&&(d.value="保存")})})}),(e,o)=>{const d=ye;return D(),Y("div",Sa,[c(d,{value:n.value,readonly:!0,placeholder:"Basic usage"},null,8,["value"]),a("span",$a,[a("span",{ref_key:"colorPicker",ref:t},null,512)])])}}},Nt=se(xa,[["__scopeId","data-v-f2a9e7d0"]]),Ia="/assets/img/quick-help-BZ3Cu-IE.png",Ea={class:"quick-instructions-box"},Ra={class:"quick-action-right"},Ba={class:"quick-list-box"},Pa={class:"list-box-wrap"},Ta={class:"drag-btn"},Ma={class:"left-box"},Ua={class:"title"},Na={class:"content"},La={class:"opration-box"},Da={class:"form-box"},qa={__name:"quick-instruction",props:{type:{type:Number,default:void 0}},emits:["updata"],setup(u,{emit:i}){const l=u,n=i,t=ho(),e=Ke(),{robotInfo:o}=We(e),{getRobot:d}=e,s=H([]),m=H(parseInt(l.type==-1?o.value.fast_command_switch:o.value.yunpc_fast_command_switch)||0);Re(s,B=>{n("updata",{comand_list:B,fast_command_switch:m.value})});const _=()=>{Ro({robot_key:o.value.robot_key,app_id:l.type}).then(B=>{s.value=B.data||[],e.setQuickCommand(B.data)})};_();const f=me.useForm,b=H(!1),C=H("添加快捷指令"),R=ue({robot_id:t.query.id,app_id:l.type,title:"",typ:1,content:"",id:""}),T=B=>{const{id:p}=o.value;To({robot_key:o.value.robot_key,app_id:l.type}).then(O=>{m.value=B,n("updata",{comand_list:s.value,fast_command_switch:m.value}),d(p),oe.success("修改成功")}).catch(O=>{m.value=!m.value})},S=()=>{R.content="",$(["content"])},w=B=>{b.value=!0,U(),C.value=B.id?"编辑快捷指令":"添加快捷指令",R.title=B.title||"",R.content=B.content||"",R.id=B.id||"",R.typ=+B.typ||1},F=ue({title:[{message:"请输入指令标题",required:!0}],content:[{message:"",required:!0},{validator:async(B,p)=>p==""?Promise.reject(new Error(`请输入${R.typ==1?"内容":"网址"}`)):R.typ==1||No(p)?Promise.resolve():Promise.reject(new Error("请输入合法网页链接"))}]}),{resetFields:U,validate:y,clearValidate:$,validateInfos:E}=f(R,F),V=()=>{y().then(()=>{Mo({...he(R)}).then(B=>{oe.success("修改成功"),b.value=!1,_()})})},N=B=>{re.confirm({title:"提醒",icon:c(Me),content:"确定要删除该快捷指令吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk(){Po({id:B}).then(p=>{oe.success("删除成功"),_()})},onCancel(){}})},q=B=>{let p=s.value.map((O,M)=>({id:+O.id,sort:M+1}));Bo({data:p}).then(O=>{oe.success("保存成功"),_()})};return(B,p)=>{const O=ko,M=Lt,G=Ge,J=pe,L=ye,r=ke,g=qt,k=Dt,P=Ot,v=me,x=re;return D(),Y("div",Ea,[c(Be,null,{title:h(()=>[p[9]||(p[9]=j(" 快捷指令设置 ",-1)),c(O,{placement:"top"},{content:h(()=>[...p[8]||(p[8]=[a("div",{class:"help-box"},[a("div",null,"快捷指令是对话输入框上方的按钮,配置完成后,用户可以快速发起预设对话"),a("img",{src:Ia,alt:""})],-1)])]),default:h(()=>[c(te(Ce),{class:"help-icon"})]),_:1})]),icon:h(()=>[c(M,{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),action:h(()=>[a("div",Ra,[c(G,{onChange:T,class:"switch-item",checkedValue:1,unCheckedValue:0,checked:m.value,"onUpdate:checked":p[0]||(p[0]=I=>m.value=I),"checked-children":"开","un-checked-children":"关"},null,8,["checked"]),c(J,{onClick:w,size:"small",type:"primary"},{default:h(()=>[...p[10]||(p[10]=[j("添加",-1)])]),_:1})])]),default:h(()=>[a("div",Ba,[c(te(Lo),{modelValue:s.value,"onUpdate:modelValue":p[1]||(p[1]=I=>s.value=I),"item-key":"id",onEnd:p[2]||(p[2]=I=>q(I)),handle:".drag-btn"},{item:h(({element:I,index:A})=>[a("div",Pa,[(D(),Y("div",{class:"list-item",key:I.id},[a("div",Ta,[c(M,{name:"drag"})]),a("div",Ma,[a("div",Ua,ae(I.title),1),a("div",Na,ae(I.content),1)]),a("div",La,[c(te(wo),{onClick:z=>w(I)},null,8,["onClick"]),c(te(bo),{onClick:z=>N(I.id)},null,8,["onClick"])])]))])]),_:1},8,["modelValue"])])]),_:1}),c(x,{open:b.value,"onUpdate:open":p[7]||(p[7]=I=>b.value=I),title:C.value,onOk:V,width:"576px"},{default:h(()=>[a("div",Da,[c(v,{layout:"vertical"},{default:h(()=>[c(r,Zt({label:"指令标题"},te(E).title),{default:h(()=>[c(L,{placeholder:"请输入指令标题",maxLength:20,value:R.title,"onUpdate:value":p[3]||(p[3]=I=>R.title=I)},null,8,["value"])]),_:1},16),c(r,{label:"指令类型",required:""},{default:h(()=>[c(k,{value:R.typ,"onUpdate:value":p[4]||(p[4]=I=>R.typ=I),onChange:S},{default:h(()=>[c(g,{value:1},{default:h(()=>[...p[11]||(p[11]=[j("输入内容",-1)])]),_:1}),c(g,{value:2},{default:h(()=>[...p[12]||(p[12]=[j("跳转网页",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),c(r,Zt({label:R.typ==1?"指令内容":"网页链接",required:""},te(E).content),{default:h(()=>[R.typ==1?(D(),Z(P,{key:0,style:{height:"100px"},value:R.content,"onUpdate:value":p[5]||(p[5]=I=>R.content=I),placeholder:"请输入指令内容"},null,8,["value"])):(D(),Z(L,{key:1,placeholder:"请输入网页链接",value:R.content,"onUpdate:value":p[6]||(p[6]=I=>R.content=I)},null,8,["value"]))]),_:1},16,["label"])]),_:1})])]),_:1},8,["open","title"])])}}},Qn=se(qa,[["__scopeId","data-v-9444f65b"]]),Oa={class:"web-app-box"},Fa={class:"box-left"},Va={class:"box-wrapper"},ja={class:"web-app-info"},Ha={class:"web-app-link"},za=["href"],Wa={class:"link-action"},Ka=["src"],Ga={class:"card-title"},Ja={class:"web-app-link"},Ya=["href"],Qa={class:"link-action"},Xa=["src"],Za={class:"access-restrictions form-box"},es={class:"form-item"},ts={class:"form-item-body"},ns={class:"box-wrapper"},os={class:"web-app-style form-box"},as={class:"window-size-box"},ss={class:"box-wrapper"},is={class:"box-right"},rs={class:"demo-box"},ls=["src"],cs={__name:"web-app",setup(u){const i=Mn(),l=Ke(),{robotInfo:n,external_config_h5:t}=We(l),{h5_website:e,h5_domain:o,robot_key:d}=n.value,{getRobot:s}=l,m=H(""),_=H(""),f=H(),b=ue({logo:t.value.logo,pageTitle:t.value.pageTitle,navbarShow:t.value.navbarShow,lang:t.value.lang,pageStyle:t.value.pageStyle,open_type:t.value.open_type,window_width:t.value.window_width,window_height:t.value.window_height,new_session_btn_show:t.value.new_session_btn_show}),C=ve(()=>`${o}/#/chat/pc?robot_key=${d}`),R=ve(()=>`${o}/#/chat/h5?robot_key=${d}`),T=ve(()=>e);Re(b,B=>{w(B)});const S=B=>{w(B,"updataQuickComand")},w=(B,p)=>{document.getElementById("mobile-preview").contentWindow.postMessage({type:p||"onPreview",data:JSON.parse(JSON.stringify(B))},"*")},F={lang:[{required:!0,message:"请选择语言",trigger:"change"}],pageTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>b.logo?Promise.resolve():Promise.reject("请上传logo")}],navbarShow:[{required:!0,message:"请选择是否显示标题栏",trigger:"change"}],pageStyle:{navbarBackgroundColor:[{required:!0,message:"请选择标题栏颜色",trigger:"change"}]}},U=H(t.value.accessRestrictionsType||1),y=()=>{let B={...he(t.value)};B.accessRestrictionsType=U.value,$(B)},$=B=>{const{id:p}=n.value;On({id:p,external_config_h5:JSON.stringify(B)}).then(()=>{s(p),oe.success("保存成功"),i.go(0)})},E=()=>{f.value.validate().then(()=>{let B={...he(b)};B.window_width=+B.window_width||1200,B.window_height=+B.window_height||650,B.accessRestrictionsType=U.value,$(B)}).catch(B=>{})},V=B=>{window.open(B)},N=B=>{Te(B),oe.success("复制成功")},q=async()=>{try{m.value=await En.toDataURL(C.value),_.value=await En.toDataURL(R.value)}catch(B){console.error(B)}};return setTimeout(()=>{q()},300),(B,p)=>{const O=Lt,M=pe,G=Je,J=qt,L=Dt,r=ke,g=Vt,k=Ft,P=Ht,v=jt,x=Ln,I=me;return D(),Y("div",Oa,[a("div",Fa,[a("div",Va,[c(Be,{title:"H5链接"},{icon:h(()=>[c(O,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),default:h(()=>[a("div",ja,[a("div",Ha,[a("a",{href:R.value,target:"_blank"},ae(R.value),9,za)]),a("div",Wa,[c(M,{class:"action-btn",type:"primary",ghost:"",onClick:p[0]||(p[0]=A=>N(R.value))},{default:h(()=>[...p[14]||(p[14]=[j("复 制",-1)])]),_:1}),c(M,{class:"action-btn",onClick:p[1]||(p[1]=A=>V(R.value))},{default:h(()=>[...p[15]||(p[15]=[j("预 览",-1)])]),_:1}),c(G,{color:"#fff",placement:"top"},{title:h(()=>[a("img",{style:{width:"180px"},src:_.value,alt:""},null,8,Ka)]),default:h(()=>[c(M,{class:"action-btn"},{default:h(()=>[...p[16]||(p[16]=[j("二维码",-1)])]),_:1})]),_:1})]),a("div",Ga,[c(O,{name:"circularNeedle",style:{"font-size":"16px",color:"#262626"}}),p[17]||(p[17]=a("div",{class:"title-text"},"pc网页链接",-1))]),a("div",Ja,[a("a",{href:C.value,target:"_blank"},ae(C.value),9,Ya)]),a("div",Qa,[c(M,{class:"action-btn",type:"primary",ghost:"",onClick:p[2]||(p[2]=A=>N(C.value))},{default:h(()=>[...p[18]||(p[18]=[j("复 制",-1)])]),_:1}),c(M,{class:"action-btn",onClick:p[3]||(p[3]=A=>V(C.value))},{default:h(()=>[...p[19]||(p[19]=[j("预 览",-1)])]),_:1}),c(G,{color:"#fff",placement:"top"},{title:h(()=>[a("img",{style:{width:"180px"},src:m.value,alt:""},null,8,Xa)]),default:h(()=>[c(M,{class:"action-btn"},{default:h(()=>[...p[20]||(p[20]=[j("二维码",-1)])]),_:1})]),_:1})]),a("div",Za,[a("div",es,[p[24]||(p[24]=a("div",{class:"form-item-label"},"访问限制",-1)),a("div",ts,[c(L,{value:U.value,"onUpdate:value":p[4]||(p[4]=A=>U.value=A),onChange:y},{default:h(()=>[c(J,{value:1},{default:h(()=>[...p[21]||(p[21]=[a("span",{class:"default-text-color"},"无限制",-1)])]),_:1}),c(J,{value:2},{default:h(()=>[...p[22]||(p[22]=[a("span",{class:"default-text-color"},"登录后才可访问",-1)])]),_:1}),ne("",!0)]),_:1},8,["value"])])])])])]),_:1})]),a("div",ns,[c(Be,{title:"样式设置"},{icon:h(()=>[c(O,{name:"phone",style:{"font-size":"16px",color:"#262626"}})]),action:h(()=>[c(M,{onClick:E,size:"small",type:"primary"},{default:h(()=>[...p[25]||(p[25]=[j("保存",-1)])]),_:1})]),default:h(()=>[a("div",os,[c(I,{ref_key:"formRef",ref:f,layout:"vertical",model:b,rules:F},{default:h(()=>[c(r,{class:"form-item",label:"是否显示标题栏",name:"navbarShow"},{default:h(()=>[c(L,{value:b.navbarShow,"onUpdate:value":p[5]||(p[5]=A=>b.navbarShow=A),name:"navbarShow"},{default:h(()=>[c(J,{value:1},{default:h(()=>[...p[26]||(p[26]=[j("显示",-1)])]),_:1}),c(J,{value:2},{default:h(()=>[...p[27]||(p[27]=[j("不显示",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),c(r,{class:"form-item",label:"是否显示历史对话和新增对话按钮",name:"new_session_btn_show"},{default:h(()=>[c(L,{value:b.new_session_btn_show,"onUpdate:value":p[6]||(p[6]=A=>b.new_session_btn_show=A),name:"new_session_btn_show"},{default:h(()=>[c(J,{value:1},{default:h(()=>[...p[28]||(p[28]=[j("显示",-1)])]),_:1}),c(J,{value:2},{default:h(()=>[...p[29]||(p[29]=[j("不显示",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),c(r,{class:"form-item",label:"页面标题",name:"pageTitle"},{default:h(()=>[c(Ne,{avatar:b.logo,"onUpdate:avatar":p[7]||(p[7]=A=>b.logo=A),value:b.pageTitle,"onUpdate:value":p[8]||(p[8]=A=>b.pageTitle=A)},null,8,["avatar","value"])]),_:1}),c(r,{class:"form-item",label:"标题栏颜色",name:["pageStyle","navbarBackgroundColor"]},{default:h(()=>[c(Nt,{value:b.pageStyle.navbarBackgroundColor,"onUpdate:value":p[9]||(p[9]=A=>b.pageStyle.navbarBackgroundColor=A)},null,8,["value"])]),_:1}),c(r,{class:"form-item",label:"语言",name:"lang"},{default:h(()=>[c(k,{style:{width:"180px"},value:b.lang,"onUpdate:value":p[10]||(p[10]=A=>b.lang=A),placeholder:"请选择语言"},{default:h(()=>[c(g,{value:"zh-CN"},{default:h(()=>[...p[30]||(p[30]=[j("简体中文",-1)])]),_:1}),c(g,{value:"en-US"},{default:h(()=>[...p[31]||(p[31]=[j("English",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),c(r,{class:"form-item",label:"网址打开方式",name:"open_type",required:""},{default:h(()=>[c(L,{value:b.open_type,"onUpdate:value":p[11]||(p[11]=A=>b.open_type=A)},{default:h(()=>[c(J,{value:1},{default:h(()=>[...p[32]||(p[32]=[j("新标签页打开",-1)])]),_:1}),c(J,{value:2},{default:h(()=>[p[34]||(p[34]=j("新窗口弹窗打开 ",-1)),c(G,{title:"仅管控PC端新窗口打开,移动端依然用新标签页打开"},{title:h(()=>[...p[33]||(p[33]=[j("prompt text",-1)])]),default:h(()=>[c(te(Ce))]),_:1})]),_:1})]),_:1},8,["value"]),b.open_type==2?(D(),Z(x,{key:0},{default:h(()=>[a("div",as,[c(v,{align:"center",gap:8},{default:h(()=>[p[35]||(p[35]=a("div",null,"弹窗高度",-1)),c(P,{value:b.window_height,"onUpdate:value":p[12]||(p[12]=A=>b.window_height=A),min:500,max:2e3},null,8,["value"]),p[36]||(p[36]=j(" PX ",-1))]),_:1}),c(v,{align:"center",gap:8},{default:h(()=>[p[37]||(p[37]=a("div",null,"弹窗宽度",-1)),c(P,{value:b.window_width,"onUpdate:value":p[13]||(p[13]=A=>b.window_width=A),min:500,max:2e3},null,8,["value"]),p[38]||(p[38]=j(" PX ",-1))]),_:1})])]),_:1})):ne("",!0)]),_:1})]),_:1},8,["model"])])]),_:1})]),a("div",ss,[c(Qn,{type:te(n).app_id,onUpdata:S},null,8,["type"])])]),a("div",is,[a("div",rs,[a("iframe",{id:"mobile-preview",src:T.value,frameborder:"0"},null,8,ls)])])])}}},us=se(cs,[["__scopeId","data-v-0180bbcc"]]);function ds({pc_domain:u,robot_key:i,language:l="zh-CN"}){var n=`<script>
  (function (z, h, i, m, a, j, s) {
    z[m] = z[m] || function () {
      (z[m].a = z[m].a || []).push(arguments);
    };
    (j = h.createElement(i)), (s = h.getElementsByTagName(i)[0]);
    j.async = true;
    j.charset = "UTF-8";
    j.setAttribute(
      "data-json",
      JSON.stringify({
        robot_key: "${i}",
        language: "${l}",
      })
    );
    j.id = "ai_chat_js";
    j.src = '${u}/sdk/ai-chat-sdk.umd.cjs';
    s.parentNode.insertBefore(j, s);
  })(window, document, "script", "_ai_chat");
<\/script>`;return n}const ps={class:"gradient-color-picker"},fs={class:"color-picker-box"},_s={class:"gradient-type-select"},hs={class:"color-item"},ms={class:"right-arrow"},gs={class:"color-item"},vs={__name:"gradient-color-picker",props:{value:{type:String,default:""}},emits:["update:value"],setup(u,{emit:i}){const l=i,n=u,t=me.useInjectFormItemContext(),e=H([{key:1,label:"单色",value:"color",type:"color"},{key:2,label:"线性渐变（横向）",value:"to right",type:"linear-gradient"},{key:3,label:"线性渐变（竖向）",value:"to bottom",type:"linear-gradient"},{key:4,label:"径向渐变",value:"circle",type:"radial-gradient"}]),o=H("linear-gradient"),d=H("to right"),s=H("#2435E7"),m=H("#01A0FB"),_=ve(()=>o.value=="color"?s.value:`${o.value}(${d.value}, ${s.value}, ${m.value})`);Re(()=>_.value,()=>{let b=[o.value,d.value,s.value,m.value].join(",");l("update:value",b),t.onFieldChange()}),Re(()=>n.value,()=>{const b=n.value.split(","),[C,R,T,S]=b;o.value=C,d.value=R,s.value=T,m.value=S},{immediate:!0});const f=(b,C)=>{o.value=C.type,d.value=b,t.onFieldChange()};return(b,C)=>{const R=Vt,T=Ft;return D(),Y("div",ps,[a("div",fs,[a("div",_s,[c(T,{value:d.value,style:{width:"180px"},onChange:f},{default:h(()=>[(D(!0),Y(fe,null,Ae(e.value,S=>(D(),Z(R,{value:S.value,type:S.type,key:S.key},{default:h(()=>[j(ae(S.label),1)]),_:2},1032,["value","type"]))),128))]),_:1},8,["value"])]),a("div",hs,[c(Nt,{value:s.value,"onUpdate:value":C[0]||(C[0]=S=>s.value=S)},null,8,["value"])]),o.value!="color"?(D(),Y(fe,{key:0},[a("div",ms,[c(te(Co))]),a("div",gs,[c(Nt,{value:m.value,"onUpdate:value":C[1]||(C[1]=S=>m.value=S)},null,8,["value"])])],64)):ne("",!0)])])}}},ys=se(vs,[["__scopeId","data-v-dfea777d"]]),ws="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20x='14'%20y='14'%20width='28'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3crect%20x='14.5'%20y='14.5'%20width='27'%20height='27'%20rx='13.5'%20stroke='black'%20stroke-opacity='0.04'/%3e%3cg%20clip-path='url(%23clip0_2269_42995)'%3e%3cpath%20d='M31.5%2030.3385C32.7887%2030.3385%2033.8333%2029.2939%2033.8333%2028.0052C33.8333%2026.7165%2032.7887%2025.6719%2031.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5013%2025.6719C23.2126%2025.6719%2022.168%2026.7165%2022.168%2028.0052C22.168%2029.2939%2023.2126%2030.3385%2024.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M24.5%2030.3385V30.1927V29.4635V28.0052V25.6719C24.5%2023.7389%2026.067%2022.1719%2028%2022.1719C29.933%2022.1719%2031.5%2023.7389%2031.5%2025.6719V30.3385C31.5%2032.2715%2029.933%2033.8385%2028%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42995'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(21%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",bs="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='56'%20height='56'%20fill='white'/%3e%3crect%20y='14'%20width='56'%20height='28'%20rx='14'%20fill='%232475FC'/%3e%3cg%20clip-path='url(%23clip0_2269_42985)'%3e%3cpath%20d='M19.5%2030.3385C20.7887%2030.3385%2021.8333%2029.2939%2021.8333%2028.0052C21.8333%2026.7165%2020.7887%2025.6719%2019.5%2025.6719'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5013%2025.6719C11.2126%2025.6719%2010.168%2026.7165%2010.168%2028.0052C10.168%2029.2939%2011.2126%2030.3385%2012.5013%2030.3385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linejoin='round'/%3e%3cpath%20d='M12.5%2030.3385V30.1927V29.4635V28.0052V25.6719C12.5%2023.7389%2014.067%2022.1719%2016%2022.1719C17.933%2022.1719%2019.5%2023.7389%2019.5%2025.6719V30.3385C19.5%2032.2715%2017.933%2033.8385%2016%2033.8385'%20stroke='white'%20stroke-width='1.16667'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3cpath%20d='M24.5414%2024.224V25.088H26.3894C26.9294%2026.936%2027.8894%2028.544%2029.2814%2029.912C27.9854%2031.088%2026.3294%2031.94%2024.3134%2032.48L24.7694%2033.236C26.8094%2032.648%2028.5134%2031.724%2029.8814%2030.464C31.1774%2031.58%2032.8094%2032.504%2034.8014%2033.248L35.2694%2032.528C33.3494%2031.82%2031.7534%2030.932%2030.4814%2029.852C31.6574%2028.58%2032.5454%2026.984%2033.1334%2025.088H35.0054V24.224H30.4214C30.0374%2023.396%2029.6294%2022.688%2029.1734%2022.112L28.3094%2022.424C28.7894%2022.988%2029.1854%2023.588%2029.5094%2024.224H24.5414ZM27.2414%2025.088H32.2334C31.7294%2026.744%2030.9494%2028.148%2029.8814%2029.312C28.6334%2028.112%2027.7574%2026.708%2027.2414%2025.088ZM40.9574%2024.116C40.7174%2024.452%2040.4534%2024.8%2040.1774%2025.148H37.0094V25.844H39.6134C39.3254%2026.18%2039.0254%2026.516%2038.7134%2026.876C39.5414%2027.032%2040.3694%2027.212%2041.2094%2027.428C40.1534%2027.764%2038.7134%2027.932%2036.8894%2027.932L37.3574%2028.64C39.3974%2028.616%2041.0414%2028.304%2042.3014%2027.716C43.5134%2028.04%2044.7254%2028.412%2045.9254%2028.844L46.4294%2028.184C45.3134%2027.812%2044.2214%2027.488%2043.1654%2027.224C43.6574%2026.864%2044.1134%2026.408%2044.5454%2025.844H46.5614V25.148H41.1254C41.3174%2024.896%2041.5214%2024.632%2041.7374%2024.344L40.9574%2024.116ZM42.2054%2026.984C41.4494%2026.792%2040.7054%2026.636%2039.9734%2026.516C40.1534%2026.324%2040.3574%2026.096%2040.5734%2025.844H43.6214C43.2614%2026.276%2042.7814%2026.648%2042.2054%2026.984ZM46.5974%2023.144H42.2414C42.0974%2022.784%2041.9534%2022.448%2041.7854%2022.148L40.8854%2022.292C41.0654%2022.556%2041.2334%2022.832%2041.3894%2023.144H36.9494V24.836H37.7654V23.876H45.7814V24.836H46.5974V23.144ZM36.6374%2029.336V30.104H40.5854C39.8414%2030.872%2038.4734%2031.556%2036.4814%2032.156L36.9614%2032.924C39.1214%2032.132%2040.5854%2031.196%2041.3534%2030.116V33.176H42.2414V30.152C43.1294%2031.256%2044.6174%2032.156%2046.7054%2032.84L47.0774%2032.084C45.2414%2031.592%2043.8854%2030.932%2043.0214%2030.104H46.9214V29.336H42.2414V28.4H41.3534V29.336H36.6374Z'%20fill='white'/%3e%3cdefs%3e%3cclipPath%20id='clip0_2269_42985'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(9%2021)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ks={class:"float-icon-setting"},Cs={class:"form-box"},As={class:"form-item"},Ss={class:"form-content"},$s={class:"display-types"},xs={class:"type-icon"},Is=["src"],Es={key:1,class:"display-type"},Rs={class:"type-icon"},Bs={class:"type-name"},Ps={key:0,class:"form-item"},Ts={class:"form-content"},Ms={class:"form-item"},Us={class:"form-content"},Ns={class:"number-input"},Ls={class:"form-item"},Ds={class:"form-content"},qs={class:"number-input"},Os={class:"form-item"},Fs={class:"form-content"},Vs={class:"form-item"},js={class:"form-content"},Hs={class:"form-item"},zs={class:"form-content"},Ws={__name:"float-icon-setting",props:{saveLoading:{type:Boolean,default:!1},form:{type:Object,default:()=>{}}},emits:["save"],setup(u,{expose:i,emit:l}){const n=u,t=l,e=ue({displayType:1,buttonText:"快来聊聊吧~",buttonIcon:"",bottomMargin:32,rightMargin:32,showUnreadCount:1,showNewMessageTip:1}),o=_=>{e.displayType=_},d=ve(()=>e.buttonIcon?e.displayType==3:!0),s=_=>{let f=_[0];o(3),jn({file:f,category:"icon"}).then(b=>{e.buttonIcon=b.data.link})},m=()=>{e.rightMargin,(e.rightMargin==""||e.rightMargin==null)&&(e.rightMargin=0),(e.bottomMargin==""||e.rightMargin==null)&&(e.bottomMargin=0),t("save",he(e))};return Re(()=>n.form,_=>{Object.assign(e,_.floatBtn)},{immediate:!0}),i({handleSubmit:m}),(_,f)=>{const b=ye,C=Ht,R=Ge,T=pe;return D(),Z(Be,{title:"悬浮图标设置"},{icon:h(()=>[c(te(Ao),{name:"quick-Instruction",style:{"font-size":"16px",color:"#262626"}})]),default:h(()=>[a("div",ks,[j(ae(n.title)+" ",1),a("div",Cs,[a("div",As,[f[11]||(f[11]=a("div",{class:"form-item-label"},"展示形式：",-1)),a("div",Ss,[a("div",$s,[a("div",{class:rt(["display-type",{"is-checked":e.displayType==1}]),onClick:f[0]||(f[0]=S=>o(1))},[...f[8]||(f[8]=[a("div",{class:"type-icon"},[a("img",{src:ws,alt:""})],-1),a("div",{class:"type-name"},"简洁",-1)])],2),a("div",{class:rt(["display-type",{"is-checked":e.displayType==2}]),onClick:f[1]||(f[1]=S=>o(2))},[...f[9]||(f[9]=[a("div",{class:"type-icon"},[a("img",{src:bs,alt:""})],-1),a("div",{class:"type-name"},"加文案",-1)])],2),e.buttonIcon?(D(),Y("div",{key:0,class:rt(["display-type",{"is-checked":e.displayType==3}]),onClick:f[2]||(f[2]=S=>o(3))},[a("div",xs,[a("img",{src:e.buttonIcon,alt:"",title:""},null,8,Is)]),f[10]||(f[10]=a("div",{class:"type-name"},"自定义",-1))],2)):ne("",!0),d.value?(D(),Y("div",Es,[c(Hn,{onChange:s},{default:h(()=>[a("div",Rs,[c(te(zt),{style:{"font-size":"20px"}})])]),_:1}),a("div",Bs,ae(e.buttonIcon?"上传图片":"自定义"),1)])):ne("",!0)])])]),e.displayType==2?(D(),Y("div",Ps,[f[12]||(f[12]=a("div",{class:"form-item-label"},"按钮文案：",-1)),a("div",Ts,[c(b,{placeholder:"请输入按钮文案",maxlength:15,style:{width:"315px"},value:e.buttonText,"onUpdate:value":f[3]||(f[3]=S=>e.buttonText=S)},null,8,["value"])])])):ne("",!0),a("div",Ms,[f[14]||(f[14]=a("div",{class:"form-item-label"},"底边距：",-1)),a("div",Us,[a("div",Ns,[c(C,{class:"input",value:e.bottomMargin,"onUpdate:value":f[4]||(f[4]=S=>e.bottomMargin=S)},null,8,["value"]),f[13]||(f[13]=a("span",{class:"unit"},"PX",-1))])])]),a("div",Ls,[f[16]||(f[16]=a("div",{class:"form-item-label"},"右边距：",-1)),a("div",Ds,[a("div",qs,[c(C,{class:"input",value:e.rightMargin,"onUpdate:value":f[5]||(f[5]=S=>e.rightMargin=S)},null,8,["value"]),f[15]||(f[15]=a("span",{class:"unit"},"PX",-1))])])]),a("div",Os,[f[17]||(f[17]=a("div",{class:"form-item-label"},"显示未读消息数：",-1)),a("div",Fs,[c(R,{checked:e.showUnreadCount,"onUpdate:checked":f[6]||(f[6]=S=>e.showUnreadCount=S),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),a("div",Vs,[f[18]||(f[18]=a("div",{class:"form-item-label"},"显示新消息提示：",-1)),a("div",js,[c(R,{checked:e.showNewMessageTip,"onUpdate:checked":f[7]||(f[7]=S=>e.showNewMessageTip=S),unCheckedValue:0,checkedValue:1},null,8,["checked"])])]),a("div",Hs,[f[20]||(f[20]=a("div",{class:"form-item-label"},null,-1)),a("div",zs,[c(T,{type:"primary",loading:n.saveLoading,onClick:m},{default:h(()=>[...f[19]||(f[19]=[j("保存",-1)])]),_:1},8,["loading"])])])])])]),_:1})}}},Ks=se(Ws,[["__scopeId","data-v-3f90a19c"]]),Gs={class:"web-app-box"},Js={class:"box-left"},Ys={class:"box-wrapper"},Qs={class:"web-app-style form-box"},Xs={class:"window-size-box"},Zs={class:"box-wrapper"},ei={class:"sdk-code"},ti={class:"box-wrapper"},ni={class:"box-wrapper"},oi={class:"box-right"},ai={class:"demo-box"},si=["src"],ii={__name:"embed-website",setup(u){const i=Ke(),{robotInfo:l,external_config_pc:n}=We(i),{getRobot:t}=i,e=ds(l.value),o=()=>{Te(e),oe.success("复制成功")},d=H(),s=ue({headTitle:n.value.headTitle,headSubTitle:n.value.headSubTitle,headImage:n.value.headImage,lang:n.value.lang,pageStyle:n.value.pageStyle,floatBtn:n.value.floatBtn,open_type:n.value.open_type,window_width:n.value.window_width,window_height:n.value.window_height,new_session_btn_show:n.value.new_session_btn_show}),m=ve(()=>{let{pc_domain:S,robot_key:w}=l.value;return`${S}/web/#/chat?robot_key=${w}&language=${s.lang||"zh-CN"}`});Re(s,S=>{f(S)});const _=S=>{f(S,"updataQuickComand")},f=(S,w)=>{document.getElementById("web-preview").contentWindow.postMessage({type:w||"onPreview",data:JSON.parse(JSON.stringify(S))},"*")},b={lang:[{required:!0,message:"请选择语言",trigger:"change"}],headTitle:[{required:!0,message:"请输入标题",trigger:"input"},{trigger:"input",validator:()=>s.headImage?Promise.resolve():Promise.reject("请上传logo")}],pageStyle:{headBackgroundColor:[{required:!0,message:"请选择颜色",trigger:"change"}]}},C=()=>{const{id:S}=l.value;s.window_width=+s.window_width||1200,s.window_height=+s.window_height||650;let w={...he(s)};On({id:S,external_config_pc:JSON.stringify(w)}).then(()=>{t(S),oe.success("保存成功")})},R=()=>{d.value.validate().then(()=>{C()}).catch(S=>{})},T=S=>{s.floatBtn={...S},R()};return(S,w)=>{const F=Lt,U=pe,y=ke,$=Ot,E=Vt,V=Ft,N=qt,q=Je,B=Dt,p=Ht,O=jt,M=Ln,G=me;return D(),Y("div",Gs,[a("div",Js,[a("div",Ys,[c(Be,{title:"样式设置"},{icon:h(()=>[c(F,{name:"pc",style:{"font-size":"16px",color:"#262626"}})]),action:h(()=>[c(U,{onClick:R,size:"small",type:"primary"},{default:h(()=>[...w[9]||(w[9]=[j("保存",-1)])]),_:1})]),default:h(()=>[a("div",Qs,[c(G,{ref_key:"formRef",ref:d,layout:"vertical",model:s,rules:b},{default:h(()=>[c(y,{class:"form-item",label:"页面标题",name:"headTitle"},{default:h(()=>[c(Ne,{avatar:s.headImage,"onUpdate:avatar":w[0]||(w[0]=J=>s.headImage=J),value:s.headTitle,"onUpdate:value":w[1]||(w[1]=J=>s.headTitle=J)},null,8,["avatar","value"])]),_:1}),c(y,{class:"form-item",label:"简介",name:"headSubTitle"},{default:h(()=>[c($,{value:s.headSubTitle,"onUpdate:value":w[2]||(w[2]=J=>s.headSubTitle=J),placeholder:"简介将展示在客户端，不超过100个字符"},null,8,["value"])]),_:1}),c(y,{class:"form-item",label:"颜色",name:["pageStyle","headBackgroundColor"]},{default:h(()=>[c(ys,{value:s.pageStyle.headBackgroundColor,"onUpdate:value":w[3]||(w[3]=J=>s.pageStyle.headBackgroundColor=J)},null,8,["value"])]),_:1}),c(y,{class:"form-item",label:"语言",name:"lang"},{default:h(()=>[c(V,{style:{width:"180px"},value:s.lang,"onUpdate:value":w[4]||(w[4]=J=>s.lang=J),placeholder:"请选择语言"},{default:h(()=>[c(E,{value:"zh-CN"},{default:h(()=>[...w[10]||(w[10]=[j("简体中文",-1)])]),_:1}),c(E,{value:"en-US"},{default:h(()=>[...w[11]||(w[11]=[j("English",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),c(y,{class:"form-item",label:"网址打开方式",name:"open_type",required:""},{default:h(()=>[c(B,{value:s.open_type,"onUpdate:value":w[5]||(w[5]=J=>s.open_type=J)},{default:h(()=>[c(N,{value:1},{default:h(()=>[...w[12]||(w[12]=[j("新标签页打开",-1)])]),_:1}),c(N,{value:2},{default:h(()=>[w[13]||(w[13]=j("新窗口弹窗打开 ",-1)),c(q,{title:"仅管控PC端新窗口打开,移动端依然用新标签页打开"},{default:h(()=>[c(te(Ce))]),_:1})]),_:1})]),_:1},8,["value"]),s.open_type==2?(D(),Z(M,{key:0},{default:h(()=>[a("div",Xs,[c(O,{align:"center",gap:8},{default:h(()=>[w[14]||(w[14]=a("div",null,"弹窗高度",-1)),c(p,{value:s.window_height,"onUpdate:value":w[6]||(w[6]=J=>s.window_height=J),min:500,max:2e3},null,8,["value"]),w[15]||(w[15]=j(" PX ",-1))]),_:1}),c(O,{align:"center",gap:8},{default:h(()=>[w[16]||(w[16]=a("div",null,"弹窗宽度",-1)),c(p,{value:s.window_width,"onUpdate:value":w[7]||(w[7]=J=>s.window_width=J),min:500,max:2e3},null,8,["value"]),w[17]||(w[17]=j(" PX ",-1))]),_:1})])]),_:1})):ne("",!0)]),_:1}),c(y,{class:"form-item",label:"是否显示历史对话和新增对话按钮",name:"new_session_btn_show",required:""},{default:h(()=>[c(B,{value:s.new_session_btn_show,"onUpdate:value":w[8]||(w[8]=J=>s.new_session_btn_show=J),name:"new_session_btn_show"},{default:h(()=>[c(N,{value:1},{default:h(()=>[...w[18]||(w[18]=[j("显示",-1)])]),_:1}),c(N,{value:2},{default:h(()=>[...w[19]||(w[19]=[j("不显示",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])])]),_:1})]),a("div",Zs,[c(Be,{title:"将以下代码复制到网站代码的< /body>标签之前"},{icon:h(()=>[c(F,{name:"sdk",style:{"font-size":"16px",color:"#262626"}})]),action:h(()=>[c(U,{onClick:o,size:"small"},{default:h(()=>[...w[20]||(w[20]=[j("复制",-1)])]),_:1})]),default:h(()=>[a("div",ei,[a("pre",null,[a("code",null,ae(te(e)),1)])])]),_:1})]),a("div",ti,[c(Qn,{type:te(l).app_id_embed,onUpdata:_},null,8,["type"])]),a("div",ni,[c(Ks,{form:s,onSave:T},null,8,["form"])])]),a("div",oi,[a("div",ai,[a("iframe",{id:"web-preview",src:m.value,frameborder:"0"},null,8,si)])])])}}},ri=se(ii,[["__scopeId","data-v-a65e1e22"]]),li={class:"wechat-app-item"},ci={class:"item-body"},ui=["src"],di={class:"app-info"},pi={class:"app-name"},fi={class:"app-desc"},_i={class:"ext-info-list"},hi={class:"ext-content"},mi={class:"ext-info-list"},gi={key:0,class:"status-block status-success"},vi={class:"status-block status-warning"},yi={class:"btn-wrapper-box"},wi={__name:"wechat-app-item",props:{item:{type:Object,default:()=>({})},app_type:{type:String,default:""},showMenu:{type:Array,default:["edit","del"]}},emits:["edit","delete","refresh"],setup(u,{emit:i}){const l=i,n=["mini_program","official_account"],t=u;function e(){l("edit",{...t.item})}function o(){l("delete",{...t.item})}function d(){l("refresh",{...t.item})}return(s,m)=>{const _=jt,f=$o,b=Un,C=xo;return D(),Y("div",li,[a("div",ci,[a("img",{class:"app-avatar",src:u.item.app_avatar,alt:""},null,8,ui),a("div",di,[a("div",pi,ae(u.item.app_name),1),a("div",fi,"Appid："+ae(u.item.app_id),1)])]),n.includes(t.app_type)?(D(),Y(fe,{key:0},[a("div",_i,[a("div",hi,ae(u.item.wechat_reply_type),1)]),a("div",mi,[u.item.account_is_verify=="true"?(D(),Y("div",gi,[c(te(Dn)),m[0]||(m[0]=j(" 已认证 ",-1))])):(D(),Z(_,{key:1,gap:8},{default:h(()=>[a("div",vi,[c(te(qn)),m[1]||(m[1]=j(" 未认证 ",-1))]),a("a",{onClick:d},"刷新状态")]),_:1}))])],64)):ne("",!0),u.showMenu&&u.showMenu.length?(D(),Z(C,{key:1},{overlay:h(()=>[c(b,null,{default:h(()=>[u.showMenu.includes("edit")?(D(),Z(f,{key:0,onClick:e},{default:h(()=>[...m[2]||(m[2]=[a("a",null,"编 辑",-1)])]),_:1})):ne("",!0),u.showMenu.includes("del")?(D(),Z(f,{key:1,onClick:o},{default:h(()=>[...m[3]||(m[3]=[a("a",{style:{color:"#fb363f"}},"删 除",-1)])]),_:1})):ne("",!0)]),_:1})]),default:h(()=>[a("div",yi,[c(te(So))])]),_:1})):ne("",!0)])}}},Fe=se(wi,[["__scopeId","data-v-663452b6"]]),bi={class:"form-content-box"},ki={class:"left-box"},Ci={class:"form-body"},Ai={class:"footer-box"},Pt=`正在思考中，请稍后点击下方蓝字\r
获取回复👇👇👇`,Tt="👉👉点我获取回复👈👈",Mt="内容较多，点此查看下文",Si={__name:"add-unverified-alert",emits:["ok"],setup(u,{expose:i,emit:l}){const n=l,{robotInfo:t,getRobot:e}=ge("robotInfo"),o=H(!1),d=H(),s=ue({id:t.id,wechat_not_verify_hand_get_reply:Pt,wechat_not_verify_hand_get_word:Tt,wechat_not_verify_hand_get_next:Mt}),m=()=>{s.wechat_not_verify_hand_get_reply=s.wechat_not_verify_hand_get_reply||Pt,s.wechat_not_verify_hand_get_word=s.wechat_not_verify_hand_get_word||Tt,s.wechat_not_verify_hand_get_next=s.wechat_not_verify_hand_get_next||Mt,d.value.clearValidate()},_={wechat_not_verify_hand_get_reply:[{required:!0,message:"请输入手动获取回复提示语",trigger:"change"}],wechat_not_verify_hand_get_word:[{required:!0,message:"请输入手动获取回复蓝字文案",trigger:"change"}],wechat_not_verify_hand_get_next:[{required:!0,message:"请输入内容超500字截断，获取下文蓝字文案",trigger:"change"}]},f=()=>{let T={...he(s)};Uo(T).then(S=>{oe.success("保存成功"),C(),e(t.id),n("ok")})},b=()=>{d.value.validate().then(()=>{f()}).catch(T=>{})},C=()=>{d.value.clearValidate(),d.value.resetFields(),o.value=!1};return i({open:()=>{s.wechat_not_verify_hand_get_reply=t.wechat_not_verify_hand_get_reply||Pt,s.wechat_not_verify_hand_get_word=t.wechat_not_verify_hand_get_word||Tt,s.wechat_not_verify_hand_get_next=t.wechat_not_verify_hand_get_next||Mt,o.value=!0}}),(T,S)=>{const w=we,F=Ot,U=ke,y=ye,$=me,E=pe,V=re;return D(),Z(V,{width:749,open:o.value,"onUpdate:open":S[3]||(S[3]=N=>o.value=N),title:null,wrapClassName:"remove-model-padding",footer:null},{default:h(()=>[a("div",bi,[a("div",ki,[a("div",Ci,[S[4]||(S[4]=a("div",{class:"model-title"},"未认证公众号回复设置",-1)),c(w,{class:"zm-alert-info",message:"由于微信接口限制,未认证公众号只能在用户提问后立即回复答案。若答案生成较慢,系统将提示用户手动获取回复",type:"info"}),c($,{style:{"margin-top":"24px"},ref_key:"formRef",ref:d,layout:"vertical",model:s,rules:_},{default:h(()=>[c(U,{label:"手动获取回复提示语",name:"wechat_not_verify_hand_get_reply"},{default:h(()=>[c(F,{value:s.wechat_not_verify_hand_get_reply,"onUpdate:value":S[0]||(S[0]=N=>s.wechat_not_verify_hand_get_reply=N),placeholder:"请输入",maxLength:100,onBlur:m,"auto-size":{minRows:3,maxRows:3}},null,8,["value"])]),_:1}),c(U,{label:"手动获取回复蓝字文案",name:"wechat_not_verify_hand_get_word"},{default:h(()=>[c(y,{maxLength:100,onBlur:m,value:s.wechat_not_verify_hand_get_word,"onUpdate:value":S[1]||(S[1]=N=>s.wechat_not_verify_hand_get_word=N),placeholder:"请输入"},null,8,["value"])]),_:1}),c(U,{label:"内容超500字截断，获取下文蓝字文案",name:"wechat_not_verify_hand_get_next"},{default:h(()=>[c(y,{maxLength:100,onBlur:m,value:s.wechat_not_verify_hand_get_next,"onUpdate:value":S[2]||(S[2]=N=>s.wechat_not_verify_hand_get_next=N),placeholder:"请输入"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),a("div",Ai,[c(E,{onClick:C},{default:h(()=>[...S[5]||(S[5]=[j("取 消",-1)])]),_:1}),c(E,{type:"primary",onClick:b},{default:h(()=>[...S[6]||(S[6]=[j("确 定",-1)])]),_:1})])]),S[7]||(S[7]=a("div",{class:"preview-box"},[a("img",{src:"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/wechat-app/guide1.png",alt:""})],-1))])]),_:1},8,["open"])}}},$i=se(Si,[["__scopeId","data-v-9f9ceef9"]]),xi={__name:"demo-preview-modal",setup(u,{expose:i}){const l=H(!1);return i({show:()=>{l.value=!0}}),(t,e)=>{const o=re;return D(),Y("div",null,[c(o,{open:l.value,"onUpdate:open":e[0]||(e[0]=d=>l.value=d),width:746,title:"未认证公众号回复效果示例",footer:null},{default:h(()=>[...e[1]||(e[1]=[a("div",{class:"content-block"},[a("div",{class:"img-wrapper-box"},[a("div",{class:"title"},"用户咨询自动回复效果示例"),a("img",{src:"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/wechat-app/guide1.png",alt:""})]),a("div",{class:"img-wrapper-box"},[a("div",{class:"title"},"回复内容超长自动分段效果示例"),a("img",{src:"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/wechat-app/guide2.png",alt:""})])],-1)])]),_:1},8,["open"])])}}},Ii=se(xi,[["__scopeId","data-v-dc6850a3"]]),Ei={class:"action-box"},Ri={class:"wechat-app-list"},Bi={class:"item-body"},Pi=["src"],Ti={class:"app-info"},Mi={class:"app-name"},Ui={class:"app-desc"},Ni={class:"ext-info-list"},Li={key:0,class:"status-block status-success"},Di={key:1,class:"status-block status-warning"},qi={__name:"select-wechat-app",emits:["change"],setup(u,{expose:i,emit:l}){const n=l,t=Mn(),e=yo(),o=H(!1),d=H(!1),s=H(!1),m=H({}),_=H([]);ve(()=>{let{role_permission:T,role_type:S}=e;return S==1||T.includes("OfficialAccountManage")});function f(T,S){m.value=T,b(S),o.value=!0}function b(T){T=Array.isArray(T)?T:[],d.value=!0,Ue({app_type:"official_account",app_name:""}).then(S=>{let w=S.data||[];w.forEach(F=>{F.checked=T.includes(F.app_id)}),_.value=w}).finally(()=>{d.value=!1})}function C(){s.value=!0;let T=_.value.filter(w=>w.checked),S=T.map(w=>w.app_id).toString();Fn({robot_id:m.value.id,app_id_list:S}).then(()=>{o.value=!1,n("change",T,S)}).finally(()=>{s.value=!1})}function R(){const T=t.resolve({path:"/user/official-account"});window.open(T.href,"_blank")}return i({open:f}),(T,S)=>{const w=pe,F=Io,U=re;return D(),Z(U,{open:o.value,"onUpdate:open":S[0]||(S[0]=y=>o.value=y),title:"关联公众号","confirm-loading":s.value,width:"626px",onOk:C},{default:h(()=>[d.value?(D(),Z(zn,{key:0,style:{margin:"10vh 0"}})):_.value.length?(D(),Y(fe,{key:1},[a("div",Ei,[c(w,{type:"primary",ghost:"",icon:ze(te(zt)),onClick:R},{default:h(()=>[...S[1]||(S[1]=[j("添加公众号",-1)])]),_:1},8,["icon"])]),a("div",Ri,[(D(!0),Y(fe,null,Ae(_.value,y=>(D(),Y("div",{key:y.id,class:"wechat-app-item"},[a("div",Bi,[a("img",{class:"app-avatar",src:y.app_avatar,alt:""},null,8,Pi),a("div",Ti,[a("div",Mi,ae(y.app_name),1),a("div",Ui,"Appid："+ae(y.app_id),1)])]),a("div",Ni,[y.account_is_verify=="true"?(D(),Y("div",Li,[c(te(Dn)),S[2]||(S[2]=j(" 已认证 ",-1))])):(D(),Y("div",Di,[c(te(qn)),S[3]||(S[3]=j(" 未认证 ",-1))])),c(F,{checked:y.checked,"onUpdate:checked":$=>y.checked=$},null,8,["checked","onUpdate:checked"])])]))),128))])],64)):(D(),Z(Wn,{key:2,title:"暂未绑定公众号"},{desc:h(()=>[c(w,{type:"primary",onClick:R},{default:h(()=>[...S[4]||(S[4]=[j("绑定公众号",-1)])]),_:1})]),_:1}))]),_:1},8,["open","confirm-loading"])}}},Oi=se(qi,[["__scopeId","data-v-b2e90ac5"]]),Xn="/assets/img/official_account_reply_config01-BMOrAtW5.png",Zn="/assets/img/official_account_reply_config02-DZsowVVX.png",Fi={class:"reply-config-content"},Vi={class:"setting-item"},ji={class:"setting-label"},Hi={class:"switch-wrapper"},zi={class:"switch-text"},Wi={class:"setting-item"},Ki={class:"setting-label"},Gi={class:"switch-wrapper"},Ji={class:"switch-text"},Yi={__name:"official-account-reply-config",emits:["change"],setup(u,{expose:i,emit:l}){const n=l,t=H(!1),e=H(!0),o=H(!0),d=H(null),s=(_={})=>{_.aiGenerated!==void 0&&(e.value=_.aiGenerated==1),_.typingIndicator!==void 0&&(o.value=_.typingIndicator==1),d.value=_.robotId,t.value=!0},m=async(_,f)=>{try{(await Vn({id:d.value,key:_,val:f?1:0})).code==0&&(oe.success("保存成功"),n("change"))}catch(b){console.error("保存失败:",b),oe.error("保存失败")}};return i({open:s}),(_,f)=>{const b=Je,C=Ge,R=re;return D(),Z(R,{open:t.value,"onUpdate:open":f[4]||(f[4]=T=>t.value=T),title:"已认证公众号回复设置",width:480,footer:null},{default:h(()=>[a("div",Fi,[a("div",Vi,[a("div",ji,[f[6]||(f[6]=a("span",null,"回复显示内容由AI生成",-1)),c(b,null,{title:h(()=>[...f[5]||(f[5]=[a("img",{class:"tip-img",src:Xn,alt:""},null,-1)])]),default:h(()=>[c(te(Ce),{class:"info-icon"})]),_:1})]),a("div",Hi,[c(C,{checked:e.value,"onUpdate:checked":f[0]||(f[0]=T=>e.value=T),onChange:f[1]||(f[1]=()=>m("show_ai_msg_gzh",e.value))},null,8,["checked"]),a("span",zi,ae(e.value?"开":"关"),1)])]),a("div",Wi,[a("div",Ki,[f[8]||(f[8]=a("span",null,"回复时显示正在输入中",-1)),c(b,null,{title:h(()=>[...f[7]||(f[7]=[a("img",{class:"tip-img",src:Zn,alt:""},null,-1)])]),default:h(()=>[c(te(Ce),{class:"info-icon"})]),_:1})]),a("div",Gi,[c(C,{checked:o.value,"onUpdate:checked":f[2]||(f[2]=T=>o.value=T),onChange:f[3]||(f[3]=()=>m("show_typing_gzh",o.value))},null,8,["checked"]),a("span",Ji,ae(o.value?"开":"关"),1)])])])]),_:1},8,["open"])}}},Qi=se(Yi,[["__scopeId","data-v-cd8fbe2c"]]),Xi={class:"add-btn-block"},Zi={class:"wechat-app-list"},er={__name:"wechat-official-account",setup(u){const{robotInfo:i,getRobot:l}=ge("robotInfo"),n=H(),t=H(!0),e=H([]);Pe(()=>{o()});const o=()=>{Ue({robot_id:i.id,app_type:"official_account",app_name:""}).then(w=>{e.value=w.data}).finally(()=>{t.value=!1})},d=()=>{n.value.open(i,e.value.map(w=>w.app_id))},s=w=>{Wt({id:w.id}).then(()=>{oe.success("刷新成功"),o()})},m=w=>{re.confirm({title:`确定移除${w.app_name}吗?`,icon:c(Me),content:"移除后，机器人无法继续回复用户消息。",okText:"确定",cancelText:"取消",onOk(){let U=e.value.filter(y=>y.app_id!=w.app_id).map(y=>y.app_id).toString();Fn({robot_id:i.id,app_id_list:U}).then(()=>{o(),oe.success("删除成功")})}})},_=H(null),f=()=>{_.value.open()},b=H(null),C=()=>{let w={robotId:i.id,aiGenerated:i.show_ai_msg_gzh,typingIndicator:i.show_typing_gzh};b.value.open(w)},R=()=>{l(i.id)},T=H(null),S=()=>{T.value.show()};return(w,F)=>{const U=we,y=pe;return D(),Y("div",null,[c(U,{banner:""},{message:h(()=>[F[0]||(F[0]=j(" 支持接入未认证公众号，",-1)),a("a",{onClick:S},"查看效果示例")]),_:1}),t.value?(D(),Z(zn,{key:0})):e.value.length?(D(),Y(fe,{key:1},[a("div",Xi,[c(y,{onClick:d,type:"primary"},{default:h(()=>[...F[1]||(F[1]=[j("关联公众号",-1)])]),_:1}),c(y,{onClick:f,icon:c(te(Ut))},{default:h(()=>[...F[2]||(F[2]=[j("未认证公众号回复设置",-1)])]),_:1},8,["icon"]),c(y,{onClick:C,icon:c(te(Ut))},{default:h(()=>[...F[3]||(F[3]=[j("已认证公众号回复设置",-1)])]),_:1},8,["icon"])]),a("div",Zi,[(D(!0),Y(fe,null,Ae(e.value,$=>(D(),Z(Fe,{key:$.id,item:$,showMenu:["del"],app_type:"official_account",onDelete:m,onRefresh:s},null,8,["item"]))),128))])],64)):(D(),Z(Wn,{key:2,style:{"margin-top":"20vh"},title:"暂未关联公众号"},{desc:h(()=>[c(y,{onClick:d,type:"primary"},{default:h(()=>[...F[4]||(F[4]=[j("关联公众号",-1)])]),_:1})]),_:1})),c(Oi,{ref_key:"selectAppRef",ref:n,onChange:o},null,512),c($i,{ref_key:"addUnverifiedAlertRef",ref:_},null,512),c(Ii,{ref_key:"demoPreviewModalRef",ref:T},null,512),c(Qi,{ref_key:"replyConfigRef",ref:b,onChange:R},null,512)])}}},tr=se(er,[["__scopeId","data-v-841ee048"]]),nr={class:"add-label"},or={__name:"add-wechat-app",props:{label:{type:String,default:""}},emits:["click"],setup(u,{emit:i}){const l=i,n=u,t=()=>{l("click")};return(e,o)=>(D(),Y("div",{class:"add-wechat-app",onClick:t},[c(te(zt),{class:"add-icon"}),a("span",nr,ae(n.label),1)]))}},Xe=se(or,[["__scopeId","data-v-7826145c"]]),ar="/assets/img/preview_02-5R4OUtDh.png",sr="/assets/img/config_preview_02-D7tQWjG-.png",ir={key:0,class:"add-wechat-app-alert"},rr={class:"alert-body"},lr={class:"form-box"},cr={class:"my-ip"},ur={class:"ip-text"},dr={key:1,class:"add-wechat-app-alert"},pr={class:"config-preview-box"},fr={class:"config-items"},_r={class:"config-item"},hr={class:"config-value"},mr={class:"config-item"},gr={class:"config-value"},vr={class:"config-item"},yr={class:"config-value"},Bn="/upload/default/mini_program_avatar.png",wr={__name:"add-wechat-mini-program-alert",emits:["ok"],setup(u,{expose:i,emit:l}){const n=l,{robotInfo:t}=ge("robotInfo"),e=H(!1),o=H(1),d=H(!1),s=H(),m=ue({id:void 0,robot_id:t.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Bn,app_type:"mini_program"}),_={app_name:[{required:!0,message:"请输入您的公众号名称",trigger:"change"},{trigger:"change",validator:()=>m.app_avatar_url?Promise.resolve():Promise.reject("请上传公众号头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的AppSecret",trigger:"change"}]},f=ve(()=>{let $=m.id?"编辑微信小程序":"添加微信小程序",E=o.value==1?"-填写小程序开发信息":"-服务器配置";return $+E}),b=({file:$,url:E})=>{m.app_avatar=$,m.app_avatar_url=E},C=ue({push_aeskey:"",push_token:"",push_url:""}),R=()=>{let $={...he(m)};delete $.app_avatar_url,Ye($).then(E=>{Object.assign(C,E.data),o.value=2,oe.success("保存成功"),n("ok")})},T=()=>{s.value.validate().then(()=>{R()}).catch($=>{})},S=()=>{e.value=!1},w=()=>{s.value.clearValidate(),s.value.resetFields(),e.value=!1},F=$=>{Te($),oe.success("复制成功")},U=()=>{F(t.wechat_ip)};return i({open:$=>{$?($.app_avatar_url=$.app_avatar,$.app_avatar=""):$={id:void 0,robot_id:t.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Bn,app_type:"mini_program",wechat_ip:t.wechat_ip},o.value=1,Object.assign(m,$),e.value=!0}}),($,E)=>{const V=pe,N=we,q=ke,B=ye,p=me,O=re;return D(),Z(O,{width:"1168px",open:e.value,"onUpdate:open":E[7]||(E[7]=M=>e.value=M),title:f.value,onCancel:w},{footer:h(()=>[o.value===1?(D(),Z(V,{key:"back",onClick:w},{default:h(()=>[...E[8]||(E[8]=[j("取 消",-1)])]),_:1})):ne("",!0),o.value===1?(D(),Z(V,{key:"submit",type:"primary",loading:d.value,onClick:T},{default:h(()=>[...E[9]||(E[9]=[j("保存并进入下一步",-1)])]),_:1},8,["loading"])):ne("",!0),o.value===2?(D(),Z(V,{key:"submit",type:"primary",loading:d.value,onClick:S},{default:h(()=>[...E[10]||(E[10]=[j("已完成配置",-1)])]),_:1},8,["loading"])):ne("",!0)]),default:h(()=>[o.value===1?(D(),Y("div",ir,[c(N,{class:"tip-alert",message:"进入微信公众号后台（https://developers.weixin.qq.com/console/product），左上角“我的业务和服务”选择”小程序“后在【基础信息中】获取开发者信息",type:"info","show-icon":""}),a("div",rr,[a("div",lr,[c(p,{ref_key:"formRef",ref:s,layout:"vertical",model:m,rules:_},{default:h(()=>[c(q,{label:"小程序头像/名称",name:"app_name"},{default:h(()=>[c(Ne,{autoUpload:!1,avatar:m.app_avatar_url,"onUpdate:avatar":E[0]||(E[0]=M=>m.app_avatar_url=M),value:m.app_name,"onUpdate:value":E[1]||(E[1]=M=>m.app_name=M),valueModifiers:{trim:!0},placeholder:"请输入您的小程序名称",onChangeAvatar:b},null,8,["avatar","value"])]),_:1}),c(q,{label:"AppId",name:"app_id"},{default:h(()=>[c(B,{value:m.app_id,"onUpdate:value":E[2]||(E[2]=M=>m.app_id=M),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),c(q,{label:"AppSecret",name:"app_secret"},{default:h(()=>[c(B,{value:m.app_secret,"onUpdate:value":E[3]||(E[3]=M=>m.app_secret=M),valueModifiers:{trim:!0},placeholder:"请输入您的AppSecret"},null,8,["value"])]),_:1}),c(q,{label:"将以下IP添加到小程序IP白名单中，如未开启ip白名单保护可不添加",name:"wechat_ip",required:""},{default:h(()=>[a("div",cr,[a("span",ur,ae(te(t).wechat_ip),1),a("a",{class:"copy-btn",onClick:U},"复 制")])]),_:1})]),_:1},8,["model"])]),E[11]||(E[11]=a("div",{class:"preview-box"},[a("img",{class:"preview-img",src:ar})],-1))])])):ne("",!0),o.value===2?(D(),Y("div",dr,[c(N,{class:"tip-alert",message:"进入微信公众号后台（https://developers.weixin.qq.com/console/product），在【基础信息-域名与消息推送配置-消息推送】中配置并启用服务器配置。请按照下图配置",type:"info","show-icon":""}),a("div",pr,[a("div",fr,[a("div",_r,[a("span",hr,ae(C.push_url),1),a("span",{class:"copy-btn",onClick:E[4]||(E[4]=M=>F(C.push_url))},"复制")]),a("div",mr,[a("span",gr,ae(C.push_token),1),a("span",{class:"copy-btn",onClick:E[5]||(E[5]=M=>F(C.push_token))},"复制")]),a("div",vr,[a("span",yr,ae(C.push_aeskey),1),a("span",{class:"copy-btn",onClick:E[6]||(E[6]=M=>F(C.push_aeskey))},"复制")])]),E[12]||(E[12]=a("img",{class:"config-preview-img",src:sr},null,-1))])])):ne("",!0)]),_:1},8,["open","title"])}}},br=se(wr,[["__scopeId","data-v-69ff396c"]]),kr={class:"reply-config-content"},Cr={class:"setting-item"},Ar={class:"setting-label"},Sr={class:"switch-wrapper"},$r={class:"switch-text"},xr={class:"setting-item"},Ir={class:"setting-label"},Er={class:"switch-wrapper"},Rr={class:"switch-text"},Br={__name:"mini-program-reply-config",emits:["change"],setup(u,{expose:i,emit:l}){const n=l,t=H(!1),e=H(!0),o=H(!0),d=H(null),s=(_={})=>{_.aiGenerated!==void 0&&(e.value=_.aiGenerated==1),_.typingIndicator!==void 0&&(o.value=_.typingIndicator==1),d.value=_.robotId,t.value=!0},m=async(_,f)=>{try{(await Vn({id:d.value,key:_,val:f?1:0})).code==0&&(oe.success("保存成功"),n("change"))}catch(b){console.error("保存失败:",b),oe.error("保存失败")}};return i({open:s}),(_,f)=>{const b=Je,C=Ge,R=re;return D(),Z(R,{open:t.value,"onUpdate:open":f[4]||(f[4]=T=>t.value=T),title:"小程序回复设置",width:480,footer:null},{default:h(()=>[a("div",kr,[a("div",Cr,[a("div",Ar,[f[6]||(f[6]=a("span",null,"回复显示内容由AI生成",-1)),c(b,null,{title:h(()=>[...f[5]||(f[5]=[a("img",{class:"tip-img",src:Xn,alt:""},null,-1)])]),default:h(()=>[c(te(Ce),{class:"info-icon"})]),_:1})]),a("div",Sr,[c(C,{checked:e.value,"onUpdate:checked":f[0]||(f[0]=T=>e.value=T),onChange:f[1]||(f[1]=()=>m("show_ai_msg_mini",e.value))},null,8,["checked"]),a("span",$r,ae(e.value?"开":"关"),1)])]),a("div",xr,[a("div",Ir,[f[8]||(f[8]=a("span",null,"回复时显示正在输入中",-1)),c(b,null,{title:h(()=>[...f[7]||(f[7]=[a("img",{class:"tip-img",src:Zn,alt:""},null,-1)])]),default:h(()=>[c(te(Ce),{class:"info-icon"})]),_:1})]),a("div",Er,[c(C,{checked:o.value,"onUpdate:checked":f[2]||(f[2]=T=>o.value=T),onChange:f[3]||(f[3]=()=>m("show_typing_mini",o.value))},null,8,["checked"]),a("span",Rr,ae(o.value?"开":"关"),1)])])])]),_:1},8,["open"])}}},Pr=se(Br,[["__scopeId","data-v-cb84e90d"]]),Tr={class:""},Mr={class:"add-btn-block"},Ur={class:"wechat-app-list"},Nr={__name:"wechat-mini-program",setup(u){const{robotInfo:i,getRobot:l}=ge("robotInfo"),n=H(),t=H([]),e=()=>{Ue({robot_id:i.id,app_type:"mini_program",app_name:""}).then(R=>{t.value=R.data})},o=()=>{n.value.open()},d=R=>{let T=3;const S=re.confirm({title:`确定移除${R.app_name}吗?`,icon:c(Me),content:"移除后，机器人无法继续回复用户消息。",okText:T+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Qe({id:R.id}).then(()=>{e(),oe.success("删除成功")})},onCancel(){}});let w=setInterval(()=>{T==1?(S.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(w),w=void 0):(T-=1,S.update({okText:T+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},s=R=>{R.wechat_ip=i.wechat_ip,n.value.open({...R})},m=R=>{Wt({id:R.id}).then(()=>{oe.success("刷新成功"),e()})},_=()=>{e()},f=H(null),b=()=>{let R={robotId:i.id,aiGenerated:i.show_ai_msg_mini,typingIndicator:i.show_typing_mini};f.value.open(R)},C=()=>{l(i.id)};return Pe(()=>{e()}),(R,T)=>{const S=pe;return D(),Y("div",Tr,[a("div",Mr,[c(S,{onClick:b,icon:c(te(Ut))},{default:h(()=>[...T[0]||(T[0]=[j("小程序回复设置",-1)])]),_:1},8,["icon"])]),a("div",Ur,[c(Xe,{label:"绑定微信小程序",onClick:o}),(D(!0),Y(fe,null,Ae(t.value,w=>(D(),Z(Fe,{key:w.id,app_type:"mini_program",item:w,onEdit:s,onDelete:d,onRefresh:m},null,8,["item"]))),128))]),c(br,{ref_key:"addAppAlertRef",ref:n,onOk:_},null,512),c(Pr,{ref_key:"replyConfigRef",ref:f,onChange:C},null,512)])}}},Lr=se(Nr,[["__scopeId","data-v-d7aedb06"]]),Dr="/assets/img/preview_03-DXz9-3qW.png",qr="/assets/img/config_preview_03-DN1fPWUm.png",Or={key:0,class:"add-wechat-app-alert"},Fr={class:"alert-body"},Vr={class:"form-box"},jr={key:1,class:"add-wechat-app-alert"},Hr={class:"config-preview-box"},zr={class:"config-items"},Wr={class:"config-item"},Kr={class:"config-value"},Gr={class:"config-item"},Jr={class:"config-value"},Yr={class:"config-item"},Qr={class:"config-value"},Pn="/upload/default/wechat_kefu_avatar.png",Xr={__name:"add-wechat-customer-service-alert",emits:["ok"],setup(u,{expose:i,emit:l}){const n=l,{robotInfo:t}=ge("robotInfo"),e=H(!1),o=H(1),d=H(!1),s=H(),m=ue({id:void 0,robot_id:t.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Pn,app_type:"wechat_kefu"}),_={app_name:[{required:!0,message:"请输入您的公众号名称",trigger:"change"},{trigger:"change",validator:()=>m.app_avatar_url?Promise.resolve():Promise.reject("请上传公众号头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的AppSecret",trigger:"change"}]},f=ve(()=>{let U=m.id?"编辑微信客服":"添加微信客服",y=o.value==1?"-服务器配置":"-填写微信客服开发信息";return U+y}),b=({file:U,url:y})=>{m.app_avatar=U,m.app_avatar_url=y},C=ue({push_aeskey:"",push_token:"",push_url:""}),R=()=>{let U={...he(m)};delete U.app_avatar_url,Ye(U).then(y=>{Object.assign(C,y.data),o.value=2,oe.success("保存成功"),n("ok"),e.value=!1})},T=()=>{s.value.validate().then(()=>{R()}).catch(U=>{})},S=()=>{s.value&&(s.value.clearValidate(),s.value.resetFields()),e.value=!1},w=U=>{Te(U),oe.success("复制成功")};return i({open:U=>{U?(U.app_avatar_url=U.app_avatar,U.app_avatar=""):U={id:void 0,robot_id:t.id,app_name:"",app_id:"",app_secret:"",app_avatar:"",app_avatar_url:Pn,app_type:"wechat_kefu",wechat_ip:t.wechat_ip},o.value=1,Object.assign(m,U),e.value=!0}}),(U,y)=>{const $=pe,E=we,V=ke,N=ye,q=me,B=re;return D(),Z(B,{width:"1168px",open:e.value,"onUpdate:open":y[8]||(y[8]=p=>e.value=p),title:f.value,onCancel:S},{footer:h(()=>[c($,{key:"back",onClick:S},{default:h(()=>[...y[9]||(y[9]=[j("取 消",-1)])]),_:1}),o.value===1?(D(),Z($,{key:"submit",type:"primary",loading:d.value,onClick:y[0]||(y[0]=p=>o.value=2)},{default:h(()=>[...y[10]||(y[10]=[j("保存并进入下一步",-1)])]),_:1},8,["loading"])):ne("",!0),o.value===2?(D(),Z($,{key:"submit",type:"primary",loading:d.value,onClick:T},{default:h(()=>[...y[11]||(y[11]=[j("已完成配置",-1)])]),_:1},8,["loading"])):ne("",!0)]),default:h(()=>[o.value===2?(D(),Y("div",Or,[c(E,{class:"tip-alert",message:"进入微信客服后台（kf.weixin.qq.com），在【开发配置】中启用企业内部接入后获取开发者信息",type:"info","show-icon":""}),a("div",Fr,[a("div",Vr,[c(q,{ref_key:"formRef",ref:s,layout:"vertical",model:m,rules:_},{default:h(()=>[c(V,{label:"企业头像/名称",name:"app_name"},{default:h(()=>[c(Ne,{autoUpload:!1,avatar:m.app_avatar_url,"onUpdate:avatar":y[1]||(y[1]=p=>m.app_avatar_url=p),value:m.app_name,"onUpdate:value":y[2]||(y[2]=p=>m.app_name=p),valueModifiers:{trim:!0},placeholder:"请输入您的企业名称",onChangeAvatar:b},null,8,["avatar","value"])]),_:1}),c(V,{label:"企业id",name:"app_id"},{default:h(()=>[c(N,{value:m.app_id,"onUpdate:value":y[3]||(y[3]=p=>m.app_id=p),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),c(V,{label:"企业Secret",name:"app_secret"},{default:h(()=>[c(N,{value:m.app_secret,"onUpdate:value":y[4]||(y[4]=p=>m.app_secret=p),valueModifiers:{trim:!0},placeholder:"请输入您的AppSecret"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),y[12]||(y[12]=a("div",{class:"preview-box"},[a("img",{class:"preview-img",src:Dr})],-1))])])):ne("",!0),o.value===1?(D(),Y("div",jr,[c(E,{class:"tip-alert",message:"进入微信客服后台（kf.weixin.qq.com），在【开发配置】中启用企业内部接入。请按照下图配置",type:"info","show-icon":""}),a("div",Hr,[a("div",zr,[a("div",Wr,[a("span",Kr,ae(te(t).push_wechat_kefu),1),a("span",{class:"copy-btn",onClick:y[5]||(y[5]=p=>w(te(t).push_wechat_kefu))},"复制")]),a("div",Gr,[a("span",Jr,ae(te(t).push_token),1),a("span",{class:"copy-btn",onClick:y[6]||(y[6]=p=>w(te(t).push_token))},"复制")]),a("div",Yr,[a("span",Qr,ae(te(t).push_aeskey),1),a("span",{class:"copy-btn",onClick:y[7]||(y[7]=p=>w(te(t).push_aeskey))},"复制")])]),y[13]||(y[13]=a("img",{class:"config-preview-img",src:qr},null,-1))])])):ne("",!0)]),_:1},8,["open","title"])}}},Zr=se(Xr,[["__scopeId","data-v-732d0ea4"]]),el={class:""},tl={class:"wechat-app-list"},nl={__name:"wechat-customer-service",setup(u){const{robotInfo:i}=ge("robotInfo"),l=H(),n=H([]),t=()=>{Ue({robot_id:i.id,app_type:"wechat_kefu",app_name:""}).then(_=>{n.value=_.data})},e=()=>{l.value.open()},o=_=>{let f=3;const b=re.confirm({title:`确定移除${_.app_name}吗?`,icon:c(Me),content:"移除后，机器人无法继续回复用户消息。",okText:f+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Qe({id:_.id}).then(()=>{t(),oe.success("删除成功")})},onCancel(){}});let C=setInterval(()=>{f==1?(b.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(C),C=void 0):(f-=1,b.update({okText:f+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},d=_=>{_.wechat_ip=i.wechat_ip,l.value.open({..._})},s=_=>{Wt({id:_.id}).then(()=>{oe.success("刷新成功"),t()})},m=()=>{t()};return Pe(()=>{t()}),(_,f)=>{const b=we;return D(),Y("div",el,[c(b,{class:"tip-alert",message:"绑定微信客服，用户通过微信客服咨询时由机器人自动回复",type:"info","show-icon":""}),a("div",tl,[c(Xe,{label:"绑定微信客服",onClick:e}),(D(!0),Y(fe,null,Ae(n.value,C=>(D(),Z(Fe,{key:C.id,item:C,app_type:"wechat_kefu",onEdit:d,onDelete:o,onRefresh:s},null,8,["item"]))),128))]),c(Zr,{ref_key:"addAppAlertRef",ref:l,onOk:m},null,512)])}}},ol=se(nl,[["__scopeId","data-v-f5702e86"]]),al="/assets/img/feishu-example01-B-07FRqg.png",sl="/assets/img/feishu-example02-CpOIEbAr.png",il="/assets/img/feishu-example03--Ub5FK6L.png",rl={key:0,class:"add-wechat-app-alert"},ll={class:"alert-body"},cl={class:"form-box"},ul={class:"preview-box"},dl={key:1,class:"add-wechat-app-alert"},pl={class:"config-items"},fl={class:"config-item"},_l={class:"config-value"},hl="/upload/default/feishu_robot_avatar.png",ml={__name:"add-feishu-alert",emits:["ok"],setup(u,{expose:i,emit:l}){const n=l,{robotInfo:t}=ge("robotInfo"),e=H(!1),o=H(1),d=H(!1),s=H(),m={id:void 0,robot_id:t.id,app_type:"feishu_robot",app_avatar:"",app_avatar_url:hl,app_name:"",app_id:"",app_secret:"",encrypt_key:"",verification_token:""},_=ue({}),f={app_name:[{required:!0,message:"请输入您的机器人名称",trigger:"change"},{trigger:"change",validator:()=>_.app_avatar_url?Promise.resolve():Promise.reject("请上传机器人头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的Api Secret",trigger:"change"}],encrypt_key:[{required:!0,message:"请输入您的Encrypt Key",trigger:"change"}],verification_token:[{required:!0,message:"请输入您的Verification Token",trigger:"change"}]},b=({file:y,url:$})=>{_.app_avatar=y,_.app_avatar_url=$},C=ue({push_aeskey:"",push_token:"",push_url:""}),R=()=>{let y={...he(_)};delete y.app_avatar_url,Ye(y).then($=>{Object.assign(C,$.data),o.value=2,oe.success("保存成功"),n("ok")})},T=()=>{s.value.validate().then(()=>{R()}).catch(y=>{})},S=()=>{e.value=!1},w=()=>{s.value.clearValidate(),s.value.resetFields(),e.value=!1},F=y=>{Te(y),oe.success("复制成功")};return i({open:y=>{y?(y.app_avatar_url=y.app_avatar,y.app_avatar=""):y=JSON.parse(JSON.stringify(m)),o.value=1,Object.assign(_,y),e.value=!0}}),(y,$)=>{const E=pe,V=we,N=ke,q=ye,B=me,p=Eo,O=re;return D(),Z(O,{width:"1000px",open:e.value,"onUpdate:open":$[7]||($[7]=M=>e.value=M),title:"配置飞书机器人",onCancel:w},{footer:h(()=>[o.value===1?(D(),Z(E,{key:"back",onClick:w},{default:h(()=>[...$[8]||($[8]=[j("取 消",-1)])]),_:1})):ne("",!0),o.value===1?(D(),Z(E,{key:"submit",type:"primary",loading:d.value,onClick:T},{default:h(()=>[...$[9]||($[9]=[j("保存并进入下一步 ",-1)])]),_:1},8,["loading"])):ne("",!0),o.value===2?(D(),Z(E,{key:"submit",type:"primary",loading:d.value,onClick:S},{default:h(()=>[...$[10]||($[10]=[j("已完成配置",-1)])]),_:1},8,["loading"])):ne("",!0)]),default:h(()=>[o.value===1?(D(),Y("div",rl,[c(V,{class:"tip-alert",type:"info","show-icon":""},{message:h(()=>[...$[11]||($[11]=[a("div",null,[j("登录飞书开放后台，按照文档完成配置井发布应用 "),a("a",{href:"https://open.feishu.cn",target:"_blank"},"登录后台"),j("，"),a("a",{href:"https://www.yuque.com/zhimaxiaoshiwangluo/pggco1/cpoq2kmobhgap70p?singleDoc#",target:"_blank"},"如何配置？")],-1),a("div",null,"应用添加完成后，复制APPID 和API sercet,加密信息：Encrypt Key , Verification Token，填写到以下配置中",-1)])]),_:1}),a("div",ll,[a("div",cl,[c(B,{ref_key:"formRef",ref:s,layout:"vertical",model:_,rules:f},{default:h(()=>[c(N,{label:"机器人头像/名称",name:"app_name"},{default:h(()=>[c(Ne,{autoUpload:!1,avatar:_.app_avatar_url,"onUpdate:avatar":$[0]||($[0]=M=>_.app_avatar_url=M),value:_.app_name,"onUpdate:value":$[1]||($[1]=M=>_.app_name=M),valueModifiers:{trim:!0},placeholder:"请输入您的机器人名称",onChangeAvatar:b},null,8,["avatar","value"])]),_:1}),c(N,{label:"APPID",name:"app_id"},{default:h(()=>[c(q,{value:_.app_id,"onUpdate:value":$[2]||($[2]=M=>_.app_id=M),valueModifiers:{trim:!0},placeholder:"请输入您的AppId"},null,8,["value"])]),_:1}),c(N,{label:"API Secret",name:"app_secret"},{default:h(()=>[c(q,{value:_.app_secret,"onUpdate:value":$[3]||($[3]=M=>_.app_secret=M),valueModifiers:{trim:!0},placeholder:"请输入您的APP Secret"},null,8,["value"])]),_:1}),c(N,{label:"Encrypt Key",name:"encrypt_key"},{default:h(()=>[c(q,{value:_.encrypt_key,"onUpdate:value":$[4]||($[4]=M=>_.encrypt_key=M),valueModifiers:{trim:!0},placeholder:"请输入您的Encrypt Key"},null,8,["value"])]),_:1}),c(N,{label:"Verification Token",name:"verification_token"},{default:h(()=>[c(q,{value:_.verification_token,"onUpdate:value":$[5]||($[5]=M=>_.verification_token=M),valueModifiers:{trim:!0},placeholder:"请输入您的Verification Token"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),a("div",ul,[c(p,null,{default:h(()=>[...$[12]||($[12]=[a("div",null,[a("img",{class:"preview-img",src:al})],-1),a("div",null,[a("img",{class:"preview-img",src:sl})],-1)])]),_:1})])])])):ne("",!0),o.value===2?(D(),Y("div",dl,[c(V,{class:"tip-alert",message:"复制以下htp地址到应用-事件与回调>订阅方式-选择梅事件发送开发者服务器的请求地址中",type:"info","show-icon":""}),a("div",pl,[a("div",fl,[a("span",_l,ae(C.push_url),1),a("span",{class:"copy-btn",onClick:$[6]||($[6]=M=>F(C.push_url))},"复制")])]),$[13]||($[13]=a("div",{class:"config-preview-box"},[a("img",{class:"config-preview-img",src:il})],-1))])):ne("",!0)]),_:1},8,["open"])}}},gl=se(ml,[["__scopeId","data-v-1a967884"]]),vl={class:""},yl={class:"wechat-app-list"},wl={__name:"feishu-robot",setup(u){const{robotInfo:i}=ge("robotInfo"),l=H(),n=H([]),t=()=>{Ue({robot_id:i.id,app_type:"feishu_robot",app_name:""}).then(m=>{n.value=m.data})},e=()=>{l.value.open()},o=m=>{let _=3;const f=re.confirm({title:`确定移除${m.app_name}吗?`,icon:c(Me),content:"移除后，机器人无法继续回复用户消息。",okText:_+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Qe({id:m.id}).then(()=>{t(),oe.success("删除成功")})},onCancel(){}});let b=setInterval(()=>{_==1?(f.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(b),b=void 0):(_-=1,f.update({okText:_+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},d=m=>{m.wechat_ip=i.wechat_ip,l.value.open({...m})},s=()=>{t()};return Pe(()=>{t()}),(m,_)=>{const f=we;return D(),Y("div",vl,[c(f,{class:"tip-alert",type:"info","show-icon":""},{message:h(()=>[..._[0]||(_[0]=[j("绑定飞书智能机器人，员工可在飞书单聊或者群聊给飞书机器人发送消息时由机器人自动回复",-1)])]),_:1}),a("div",yl,[c(Xe,{label:"绑定飞书智能机器人",onClick:e}),(D(!0),Y(fe,null,Ae(n.value,b=>(D(),Z(Fe,{key:b.id,item:b,onEdit:d,onDelete:o},null,8,["item"]))),128))]),c(gl,{ref_key:"addAppAlertRef",ref:l,onOk:s},null,512)])}}},bl=se(wl,[["__scopeId","data-v-a5805f01"]]),kl="/assets/img/ding-example01-DNWGJGuL.png",Cl="/assets/img/ding-example02-CveyoALn.png",Al={key:0,class:"add-wechat-app-alert"},Sl={class:"alert-body"},$l={class:"form-box"},xl={key:1,class:"add-wechat-app-alert"},Il={class:"config-items"},El={class:"config-item"},Rl={class:"config-value"},Bl="/upload/default/dingtalk_robot_avatar.png",Pl={__name:"add-dingding-alert",emits:["ok"],setup(u,{expose:i,emit:l}){const n=l,{robotInfo:t}=ge("robotInfo"),e=H(!1),o=H(1),d=H(!1),s=H(),m={id:void 0,robot_id:t.id,app_type:"dingtalk_robot",app_avatar:"",app_avatar_url:Bl,app_name:"",app_id:"",app_secret:""},_=ue({}),f={app_name:[{required:!0,message:"请输入您的机器人名称",trigger:"change"},{trigger:"change",validator:()=>_.app_avatar_url?Promise.resolve():Promise.reject("请上传机器人头像")}],app_id:[{required:!0,message:"请输入您的AppId",trigger:"change"}],app_secret:[{required:!0,message:"请输入您的Api Secret",trigger:"change"}]},b=({file:y,url:$})=>{_.app_avatar=y,_.app_avatar_url=$},C=ue({push_aeskey:"",push_token:"",push_url:""}),R=()=>{let y={...he(_)};delete y.app_avatar_url,Ye(y).then($=>{Object.assign(C,$.data),o.value=2,oe.success("保存成功"),n("ok")})},T=()=>{s.value.validate().then(()=>{R()}).catch(y=>{})},S=()=>{e.value=!1},w=()=>{s.value.clearValidate(),s.value.resetFields(),e.value=!1},F=y=>{Te(y),oe.success("复制成功")};return i({open:y=>{y?(y.app_avatar_url=y.app_avatar,y.app_avatar=""):y=JSON.parse(JSON.stringify(m)),o.value=1,Object.assign(_,y),e.value=!0}}),(y,$)=>{const E=pe,V=we,N=ke,q=ye,B=me,p=re;return D(),Z(p,{width:"1000px",open:e.value,"onUpdate:open":$[5]||($[5]=O=>e.value=O),title:"配置钉钉机器人",onCancel:w},{footer:h(()=>[o.value===1?(D(),Z(E,{key:"back",onClick:w},{default:h(()=>[...$[6]||($[6]=[j("取 消",-1)])]),_:1})):ne("",!0),o.value===1?(D(),Z(E,{key:"submit",type:"primary",loading:d.value,onClick:T},{default:h(()=>[...$[7]||($[7]=[j("保存并进入下一步 ",-1)])]),_:1},8,["loading"])):ne("",!0),o.value===2?(D(),Z(E,{key:"submit",type:"primary",loading:d.value,onClick:S},{default:h(()=>[...$[8]||($[8]=[j("已完成配置",-1)])]),_:1},8,["loading"])):ne("",!0)]),default:h(()=>[o.value===1?(D(),Y("div",Al,[c(V,{class:"tip-alert",type:"info","show-icon":""},{message:h(()=>[...$[9]||($[9]=[a("div",null,[j("登录钉钉开放后台，按照文档完成配置井发布应用 "),a("a",{href:"https://open.dingtalk.com/",target:"_blank"},"登录后台"),j("，"),a("a",{href:"https://www.yuque.com/zhimaxiaoshiwangluo/pggco1/cou9iaitt0v2pe5v?singleDoc#",target:"_blank"},"如何配置？")],-1),a("div",null,"应用添加完成后，复制Client ID 和API Client Secret填写到以下配置中",-1)])]),_:1}),a("div",Sl,[a("div",$l,[c(B,{ref_key:"formRef",ref:s,layout:"vertical",model:_,rules:f},{default:h(()=>[c(N,{label:"机器人头像/名称",name:"app_name"},{default:h(()=>[c(Ne,{autoUpload:!1,avatar:_.app_avatar_url,"onUpdate:avatar":$[0]||($[0]=O=>_.app_avatar_url=O),value:_.app_name,"onUpdate:value":$[1]||($[1]=O=>_.app_name=O),valueModifiers:{trim:!0},placeholder:"请输入您的机器人名称",onChangeAvatar:b},null,8,["avatar","value"])]),_:1}),c(N,{label:"Client ID",name:"app_id"},{default:h(()=>[c(q,{value:_.app_id,"onUpdate:value":$[2]||($[2]=O=>_.app_id=O),valueModifiers:{trim:!0},placeholder:"请输入您的Client ID"},null,8,["value"])]),_:1}),c(N,{label:"Client Secret",name:"app_secret"},{default:h(()=>[c(q,{value:_.app_secret,"onUpdate:value":$[3]||($[3]=O=>_.app_secret=O),valueModifiers:{trim:!0},placeholder:"请输入您的Client Secret"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),$[10]||($[10]=a("div",{class:"preview-box"},[a("img",{class:"preview-img",src:kl})],-1))])])):ne("",!0),o.value===2?(D(),Y("div",xl,[c(V,{class:"tip-alert",message:"复制以下http地址，填写钉钉应用详情>应用能力>机器人配置中的消息接收模式-选择HTTP模式的消息接收地址",type:"info","show-icon":""}),a("div",Il,[a("div",El,[a("span",Rl,ae(C.push_url),1),a("span",{class:"copy-btn",onClick:$[4]||($[4]=O=>F(C.push_url))},"复制")])]),$[11]||($[11]=a("div",{class:"config-preview-box"},[a("img",{class:"config-preview-img",src:Cl})],-1))])):ne("",!0)]),_:1},8,["open"])}}},Tl=se(Pl,[["__scopeId","data-v-22893492"]]),Ml={class:""},Ul={class:"wechat-app-list"},Nl={__name:"dingding-robot",setup(u){const{robotInfo:i}=ge("robotInfo"),l=H(),n=H([]),t=()=>{Ue({robot_id:i.id,app_type:"dingtalk_robot",app_name:""}).then(m=>{n.value=m.data})},e=()=>{l.value.open()},o=m=>{let _=3;const f=re.confirm({title:`确定移除${m.app_name}吗?`,icon:c(Me),content:"移除后，机器人无法继续回复用户消息。",okText:_+" 确 定",okType:"danger",cancelText:"取消",okButtonProps:{disabled:!0},onOk(){Qe({id:m.id}).then(()=>{t(),oe.success("删除成功")})},onCancel(){}});let b=setInterval(()=>{_==1?(f.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(b),b=void 0):(_-=1,f.update({okText:_+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},d=m=>{m.wechat_ip=i.wechat_ip,l.value.open({...m})},s=()=>{t()};return Pe(()=>{t()}),(m,_)=>{const f=we;return D(),Y("div",Ml,[c(f,{class:"tip-alert",type:"info","show-icon":""},{message:h(()=>[..._[0]||(_[0]=[j("绑定钉钉机器人后，客户通过单聊或者群聊和钉钉机器人聊天，可使用当前机器人回答的内容自动回复",-1)])]),_:1}),a("div",Ul,[c(Xe,{label:"绑定钉钉机器人",onClick:e}),(D(!0),Y(fe,null,Ae(n.value,b=>(D(),Z(Fe,{key:b.id,item:b,onEdit:d,onDelete:o},null,8,["item"]))),128))]),c(Tl,{ref_key:"addAppAlertRef",ref:l,onOk:s},null,512)])}}},Ll=se(Nl,[["__scopeId","data-v-b8c3d6d6"]]),Dl={class:"external-services-page"},ql={class:"page-header"},Ol={class:"page-body"},Fl={class:"scroll-box"},Tn="/robot/config/external-services/activeKey",Vl={__name:"index",setup(u){const i=Ke(),{robotInfo:l}=We(i),{getRobot:n}=i,t={WebAPP:us,EmbedWebsite:ri,WeChatOfficialAccount:tr,WeChatMiniProgram:Lr,WeChatCustomerService:ol,FeishuRobot:bl,DingDingRobot:Ll},e=H(localStorage.getItem(Tn)||"WebAPP"),o=d=>{e.value=d.id,localStorage.setItem(Tn,e.value)};return mo("robotInfo",{robotInfo:l.value,getRobot:n}),(d,s)=>(D(),Y("div",Dl,[a("div",ql,[c(Oo,{onChange:o,value:e.value,"onUpdate:value":s[0]||(s[0]=m=>e.value=m)},null,8,["value"])]),a("div",Ol,[a("div",Fl,[(D(),Z(go(t[e.value])))])])]))}},ic=se(Vl,[["__scopeId","data-v-b148fd84"]]);export{ic as default};
