{"version":3,"file":"multiple-message-B1FsoFt9.js","sources":["../../../../front-end/chat-ai-admin-vue/src/views/robot/robot-test/components/messages/multiple-message.vue"],"sourcesContent":["<style lang=\"less\" scoped>\r\n.multiple-message {\r\n  .message-items-wrapper{\r\n    margin-bottom: 8px;\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  .text-message {\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    color: #3a4559;\r\n  }\r\n  .file-message-wrapper {\r\n    display: flex;\r\n    flex-flow: row wrap;\r\n    gap: 8px;\r\n  }\r\n  .image-message {\r\n    width: 100px;\r\n    height: 100px;\r\n    border-radius: 4.5px;\r\n    border: 0.75px dashed #D9D9D9;\r\n    overflow: hidden;\r\n    cursor: pointer;\r\n    .img {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: cover;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"multiple-message\">\r\n    <div class=\"message-items-wrapper text-message-wrapper\" v-if=\"textMessages.length > 0\">\r\n      <template  v-for=\"(message, index) in textMessages\" :key=\"index\">\r\n        <div class=\"text-message\" v-if=\"message.type === 'text'\">{{ message.text }}</div>\r\n      </template>\r\n    </div>\r\n    <div class=\"message-items-wrapper file-message-wrapper\" v-if=\"imageMessages.length > 0\">\r\n      <div class=\"image-message\" v-for=\"(message, index) in imageMessages\" :key=\"index\" @click=\"handlePreview(index)\">\r\n        <img class=\"img\" :src=\"message.image_url.url\" alt=\"\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\nimport { api as viewerApi } from \"v-viewer\"\r\n\r\nconst props = defineProps({\r\n  message: {\r\n    type: String,\r\n    default: ''\r\n  }\r\n})\r\n\r\nconst messages = computed(() => JSON.parse(props.message) || [])\r\nconst textMessages = computed(() => messages.value.filter(i => i.type === 'text'))\r\nconst imageMessages = computed(() => messages.value.filter(i => i.type === 'image_url'))\r\nconst images = computed(() => imageMessages.value.map(i => i.image_url.url))\r\n\r\nconst handlePreview = (index) => {\r\n  const viewer = viewerApi({\r\n    options: {\r\n      title: false,\r\n      toolbar: true,\r\n      initialViewIndex: index\r\n    },\r\n    index: index,\r\n    images: images.value,\r\n  })\r\n\r\n  viewer.show()\r\n}\r\n</script>\r\n"],"names":["props","__props","messages","computed","textMessages","i","imageMessages","images","handlePreview","index","viewerApi","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_Fragment","_renderList","message","_hoisted_3","_toDisplayString","_hoisted_4","$event","_createElementVNode"],"mappings":"sdAqDA,MAAMA,EAAQC,EAORC,EAAWC,EAAS,IAAM,KAAK,MAAMH,EAAM,OAAO,GAAK,EAAE,EACzDI,EAAeD,EAAS,IAAMD,EAAS,MAAM,OAAOG,GAAKA,EAAE,OAAS,MAAM,CAAC,EAC3EC,EAAgBH,EAAS,IAAMD,EAAS,MAAM,OAAOG,GAAKA,EAAE,OAAS,WAAW,CAAC,EACjFE,EAASJ,EAAS,IAAMG,EAAc,MAAM,IAAID,GAAKA,EAAE,UAAU,GAAG,CAAC,EAErEG,EAAiBC,GAAU,CAChBC,EAAU,CACvB,QAAS,CACP,MAAO,GACP,QAAS,GACT,iBAAkBD,CACxB,EAEI,OAAQF,EAAO,KACnB,CAAG,EAEM,KAAI,CACb,gBA1CEI,EAAA,EAAAC,EAWM,MAXNC,EAWM,CAV0DT,EAAA,MAAa,OAAM,GAAjFO,IAAAC,EAIM,MAJNE,EAIM,EAHJH,EAAA,EAAA,EAAAC,EAEWG,EAAA,KAAAC,EAF2BZ,EAAA,MAAY,CAA/Ba,EAASR,kBAA8BA,GAAK,CAC7BQ,EAAQ,OAAI,QAA5CN,EAAA,EAAAC,EAAiF,MAAjFM,EAAiFC,EAArBF,EAAQ,IAAI,EAAA,CAAA,qCAGdX,EAAA,MAAc,OAAM,GAAlFK,IAAAC,EAIM,MAJNQ,EAIM,EAHJT,EAAA,EAAA,EAAAC,EAEMG,EAAA,KAAAC,EAFgDV,EAAA,MAAa,CAAhCW,EAASR,SAA5CG,EAEM,MAAA,CAFD,MAAM,gBAA2D,IAAKH,EAAQ,QAAKY,GAAEb,EAAcC,CAAK,IAC3Ga,EAAuD,MAAA,CAAlD,MAAM,MAAO,IAAKL,EAAQ,UAAU,IAAK,IAAI"}