{"version":3,"file":"index-CuC1h4Rw.js","sources":["../../../../front-end/chat-ai-admin-vue/src/views/public-library/list/components/libray-list/index.vue","../../../../front-end/chat-ai-admin-vue/src/views/public-library/add/add-library-model.vue","../../../../front-end/chat-ai-admin-vue/src/views/public-library/list/index.vue"],"sourcesContent":["<style lang=\"less\" scoped>\r\n.list-box {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  margin: 0 -8px;\r\n}\r\n.list-item-wrapper {\r\n  padding: 8px;\r\n  width: 25%;\r\n}\r\n.list-item {\r\n  position: relative;\r\n  width: 100%;\r\n  padding: 24px;\r\n  border: 1px solid #E4E6EB;\r\n  border-radius: 12px;\r\n  background-color: #fff;\r\n  transition: all 0.25s;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.12);\r\n  }\r\n\r\n  .library-info {\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    .item-action {\r\n      .menu-btn {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n        width: 22px;\r\n        height: 22px;\r\n        text-align: center;\r\n        line-height: 22px;\r\n        font-size: 16px;\r\n        cursor: pointer;\r\n        &:hover {\r\n          color: #2475fc;\r\n        }\r\n      }\r\n    }\r\n    .library-icon{\r\n      width: 52px;\r\n      height: 52px;\r\n      border-radius: 14px;\r\n      overflow: hidden;\r\n    }\r\n    .library-info-content{\r\n      margin-left: 12px;\r\n      flex: 1;\r\n      overflow: hidden;\r\n    }\r\n    .library-title {\r\n      height: 24px;\r\n      line-height: 24px;\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      color: #262626;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n  }\r\n  .item-body{\r\n    margin-top: 12px;\r\n  }\r\n  .library-desc {\r\n    height: 44px;\r\n    line-height: 22px;\r\n    font-size: 14px;\r\n    font-weight: 400;\r\n    color: rgb(89, 89, 89);\r\n    // 超出2行显示省略号\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n  }\r\n  \r\n  .item-footer {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-top: 14px;\r\n    color: #7a8699;\r\n  }\r\n  .library-size {\r\n    display: flex;\r\n    line-height: 20px;\r\n    font-size: 12px;\r\n    font-weight: 400;\r\n    color: #7a8699;\r\n\r\n    .text-item {\r\n      margin-right: 12px;\r\n      &:last-child{\r\n        margin-right: 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  .action-box {\r\n    font-size: 14px;\r\n    height: 24px;\r\n    color: #2475fc;\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .action-item {\r\n      display: flex;\r\n      align-items: center;\r\n      height: 100%;\r\n      padding: 4px;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      color: #595959;\r\n      transition: all 0.2s;\r\n    }\r\n    .action-item:hover {\r\n      background: #E4E6EB;\r\n    }\r\n\r\n    .action-icon {\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n\r\n// 大于1920px\r\n@media screen and (min-width: 1920px) {\r\n  .list-box {\r\n    .list-item-wrapper {\r\n      width: 20%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"list-box\">\r\n    <div class=\"list-item-wrapper\" v-for=\"item in props.list\" :key=\"item.id\">\r\n      <div class=\"list-item\" @click.stop=\"toEdit(item)\">\r\n        <div class=\"library-info\">\r\n          <img class=\"library-icon\" :src=\"item.avatar\" alt=\"\" />\r\n          <div class=\"library-info-content\">\r\n            <div class=\"library-title\">{{ item.library_name }}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"item-body\">\r\n          <a-tooltip :title=\"getTooltipTitle(item.library_intro, item, 14, 2, 0)\" placement=\"top\">\r\n            <div class=\"library-desc\" :ref=\"el => setDescRef(el, item)\">{{ item.library_intro }}</div>\r\n          </a-tooltip>\r\n        </div>\r\n\r\n        <div class=\"item-footer\">\r\n          <div class=\"library-size\">\r\n            <span class=\"text-item\">{{ t('document_label') }}{{ item.file_total }}</span>\r\n            <span class=\"text-item\">{{ t('size_label') }}{{ item.file_size_str }}</span>\r\n          </div>\r\n\r\n          <div class=\"action-box\" @click.stop>\r\n            <a-dropdown>\r\n              <div class=\"action-item\" @click.stop>\r\n                <svg-icon class=\"action-icon\" name=\"point-h\"></svg-icon>\r\n              </div>\r\n              <template #overlay>\r\n                <a-menu>\r\n                  <a-menu-item>\r\n                    <a href=\"javascript:;\" @click.stop=\"toEdit(item)\">{{ t('manage_action') }}</a>\r\n                  </a-menu-item>\r\n                  <a-menu-item>\r\n                    <a class=\"delete-text-color\" href=\"javascript:;\" @click=\"handleDelete(item)\"\r\n                      >{{ t('delete_action') }}</a\r\n                    >\r\n                  </a-menu-item>\r\n                </a-menu>\r\n              </template>\r\n            </a-dropdown>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { setDescRef, getTooltipTitle } from '@/utils/index'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.public-library.list')\r\n\r\nconst emit = defineEmits(['add', 'edit', 'delete'])\r\n\r\nconst props = defineProps({\r\n  list: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n  showCreate: {\r\n    type: Boolean,\r\n    default: true\r\n  }\r\n})\r\n\r\nconst toEdit = (item) => {\r\n  emit('edit', item)\r\n}\r\n\r\nconst handleDelete = (item) => {\r\n  emit('delete', item)\r\n}\r\n</script>\r\n","<style lang=\"less\" scoped>\r\n.form-box {\r\n  width: 568px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.form-item-tip {\r\n  color: #999;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <a-modal\r\n    v-model:open=\"visible\"\r\n    :title=\"t('modal_title')\"\r\n    @ok=\"handleOk\"\r\n    :confirmLoading=\"saveLoading\"\r\n    @cancel=\"handleCancel\"\r\n    width=\"640px\"\r\n  >\r\n    <div class=\"form-box\">\r\n      <a-form :label-col=\"{ span: labelColSpan }\">\r\n        <a-form-item ref=\"name\" :label=\"t('library_name_label')\" v-bind=\"validateInfos.library_name\">\r\n          <a-input\r\n            v-model:value=\"formState.library_name\"\r\n            type=\"text\"\r\n            :placeholder=\"t('library_name_placeholder')\"\r\n            :maxlength=\"20\"\r\n          />\r\n        </a-form-item>\r\n\r\n        <a-form-item :label=\"t('library_intro_label')\">\r\n          <a-textarea\r\n            :maxlength=\"1000\"\r\n            v-model:value=\"formState.library_intro\"\r\n            :placeholder=\"t('library_intro_placeholder')\"\r\n          />\r\n        </a-form-item>\r\n\r\n        <a-form-item ref=\"name\" :label=\"t('library_cover_label')\" v-bind=\"validateInfos.avatar\">\r\n          <AvatarInput v-model:value=\"formState.avatar\" @change=\"onAvatarChange\" />\r\n          <div class=\"form-item-tip\">{{ t('library_cover_tip') }}</div>\r\n        </a-form-item>\r\n      </a-form>\r\n    </div>\r\n  </a-modal>\r\n</template>\r\n\r\n<script setup>\r\nimport { LIBRARY_NORMAL_AVATAR, LIBRARY_OPEN_AVATAR } from '@/constants/index'\r\nimport { transformUrlData } from '@/utils/validate.js'\r\nimport { saveDraftLibDoc } from '@/api/public-library'\r\nimport { reactive, ref, onMounted, computed } from 'vue'\r\nimport { Form, message } from 'ant-design-vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { createLibrary } from '@/api/library/index'\r\nimport AvatarInput from './components/avatar-input.vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { useLocaleStoreWithOut } from '@/stores/modules/locale'\r\n\r\nconst { t } = useI18n('views.public-library.add.add-library-model')\r\nconst localeStore = useLocaleStoreWithOut()\r\n\r\nconst labelColSpan = computed(() => {\r\n  return localeStore.getCurrentLocale.lang === 'zh-CN' ? 5 : 24\r\n})\r\n\r\n// 设置全局默认的duration为（2秒）\r\nmessage.config({\r\n  duration: 2\r\n})\r\n\r\nconst router = useRouter()\r\nconst visible = ref(false)\r\n\r\nconst type = computed(() => {\r\n  return 1\r\n})\r\n\r\nlet library_key = ''\r\nlet library_id = ''\r\n\r\nconst useForm = Form.useForm\r\nconst saveLoading = ref(false)\r\n\r\nconst defaultAvatar = type.value == 0 ? LIBRARY_NORMAL_AVATAR : LIBRARY_OPEN_AVATAR\r\nconst formState = reactive({\r\n  type: type.value,\r\n  access_rights: 0,\r\n  library_name: '',\r\n  library_intro: '',\r\n  use_model: '',\r\n  model_config_id: '',\r\n  library_files: undefined,\r\n  avatar: defaultAvatar,\r\n  avatar_file: undefined,\r\n  is_offline: false,\r\n  urls: '',\r\n  doc_type: 1,\r\n  file_name: '',\r\n  is_qa_doc: type.value == 2 ? 1 : 0, // 0 普通文档 1QA文档\r\n  qa_index_type: 1, // 1问题与答案一起生成索引 2仅对问题生成索引\r\n  doc_auto_renew_frequency: 1\r\n})\r\n\r\nconst rules = reactive({\r\n  library_name: [{ required: true, message: t('library_name_required'), trigger: 'change' }]\r\n})\r\n\r\nconst { validate, validateInfos } = useForm(formState, rules)\r\n\r\nconst onAvatarChange = (data) => {\r\n  formState.avatar = data.imageUrl\r\n  formState.avatar_file = data.file\r\n}\r\n\r\nconst handleCancel = () => {\r\n  visible.value = false\r\n}\r\n\r\nconst handleOk = () => {\r\n  validate()\r\n    .then(() => {\r\n      saveForm()\r\n    })\r\n    .catch((err) => {\r\n      console.log(err, 'err')\r\n    })\r\n}\r\n\r\nconst saveForm = () => {\r\n  let formData = new FormData()\r\n\r\n  let newFormState = JSON.parse(JSON.stringify(formState)) // 深拷贝，不能改变原对象\r\n\r\n  formData.append('type', formState.type)\r\n  formData.append('access_rights', formState.access_rights)\r\n  formData.append('library_name', formState.library_name)\r\n  formData.append('library_intro', formState.library_intro)\r\n  formData.append('use_model', newFormState.use_model)\r\n  formData.append('model_config_id', formState.model_config_id)\r\n  formData.append('avatar', formState.avatar_file ? formState.avatar_file : '')\r\n  formData.append('is_offline', formState.is_offline)\r\n  formData.append('urls', JSON.stringify(transformUrlData(formState.urls)))\r\n  formData.append('doc_type', formState.doc_type)\r\n  formData.append('file_name', formState.file_name)\r\n  formData.append('is_qa_doc', formState.is_qa_doc)\r\n  formData.append('qa_index_type', formState.qa_index_type)\r\n  formData.append('doc_auto_renew_frequency', formState.doc_auto_renew_frequency)\r\n  formData.append('is_default', 2)\r\n\r\n  saveLoading.value = true\r\n\r\n  createLibrary(formData)\r\n    .then((res) => {\r\n      message.success(t('create_success'))\r\n      library_id = res.data.id\r\n      library_key = res.data.library_key\r\n      toHome(res.data.id)\r\n    })\r\n    .catch(() => {\r\n      saveLoading.value = false\r\n    })\r\n}\r\n\r\nconst addDoc = async () => {\r\n  let docName = t('untitled_document')\r\n\r\n  let data = {\r\n    library_key: library_key,\r\n    doc_id: '',\r\n    doc_type: '4',\r\n    pid: 0,\r\n    title: docName,\r\n    content: t('untitled_document_heading'),\r\n    sort: 0\r\n  }\r\n\r\n  const res = await saveDraftLibDoc(data)\r\n\r\n  return res\r\n}\r\n\r\nconst toHome = () => {\r\n  addDoc().then((res) => {\r\n    let doc_id = res.data.doc_id\r\n\r\n    router.replace({\r\n      path: '/public-library/editor',\r\n      query: {\r\n        library_id: library_id,\r\n        library_key: library_key,\r\n        doc_id: doc_id\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nconst show = () => {\r\n  visible.value = true\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n\r\nonMounted(() => {})\r\n</script>\r\n","<template>\r\n  <div bg-color=\"#f5f9ff\" class=\"library-page\">\r\n    <div class=\"page-title\">{{ t('page_title') }}</div>\r\n\r\n    <page-alert style=\"margin-bottom: 16px;\" :title=\"t('usage_instruction')\">\r\n      <div>\r\n        <p>{{ t('usage_instruction_1') }}</p>\r\n        <p>{{ t('usage_instruction_2') }}</p>\r\n      </div>\r\n    </page-alert>\r\n\r\n    <div class=\"library-page-body\">\r\n      <div class=\"list-toolbar\">\r\n        <div class=\"toolbar-box\">\r\n          <h3 class=\"list-total\">{{ t('all') }} ({{ list.length }})</h3>\r\n        </div>\r\n\r\n        <div class=\"toolbar-box\" v-if=\"createOpenLibDoc\">\r\n          <a-button type=\"primary\" @click=\"handleAdd()\">\r\n            <template #icon>\r\n              <PlusOutlined />\r\n            </template>\r\n            {{ t('new_document') }}\r\n          </a-button>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <LibraryList :list=\"list\" @add=\"handleAdd\" @edit=\"toEdit\" @delete=\"handleDelete\" />\r\n      </div>\r\n    </div>\r\n    <AddLibraryModel ref=\"addLibraryModelRef\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, createVNode, computed } from 'vue'\r\nimport { getLibraryList, deleteLibrary } from '@/api/library'\r\nimport { formatFileSize } from '@/utils/index'\r\nimport { LIBRARY_NORMAL_AVATAR, LIBRARY_OPEN_AVATAR } from '@/constants/index'\r\nimport { Modal, message } from 'ant-design-vue'\r\nimport { ExclamationCircleOutlined, PlusOutlined } from '@ant-design/icons-vue'\r\nimport LibraryList from './components/libray-list/index.vue'\r\nimport AddLibraryModel from '../add/add-library-model.vue'\r\nimport PageAlert from '@/components/page-alert/page-alert.vue'\r\nimport { usePermissionStore } from '@/stores/modules/permission'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.public-library.list')\r\nlet { role_permission, role_type } = usePermissionStore()\r\nconst createOpenLibDoc = computed(() => role_type == 1 || role_permission.includes('CreateOpenLibDoc'))\r\n\r\nconst addLibraryModelRef = ref(null)\r\n\r\nconst list = ref([])\r\n\r\nconst getList = () => {\r\n  getLibraryList({ type: 1 }).then((res) => {\r\n    let data = res.data || []\r\n\r\n    data.forEach((item) => {\r\n      item.file_size_str = formatFileSize(item.file_size)\r\n\r\n      if (!item.avatar) {\r\n        item.avatar = item.type == 0 ? LIBRARY_NORMAL_AVATAR : LIBRARY_OPEN_AVATAR\r\n      }\r\n    })\r\n\r\n    list.value = data\r\n  })\r\n}\r\n\r\ngetList()\r\n\r\nconst handleAdd = () => {\r\n  addLibraryModelRef.value.show()\r\n}\r\n\r\nconst toEdit = (data) => {\r\n  // router.push({\r\n  //   path: '/public-library/home',\r\n  //   query: {\r\n  //     library_id: data.id,\r\n  //     library_key: data.library_key\r\n  //   }\r\n  // })\r\n  window.open(`/#/public-library/home?library_id=${data.id}&library_key=${data.library_key}`, \"_blank\", \"noopener\") // 建议添加 noopener 防止安全漏洞\r\n}\r\n\r\nconst handleDelete = (data) => {\r\n  let secondsToGo = 3\r\n\r\n  let modal = Modal.confirm({\r\n    title: t('delete_title', { library_name: data.library_name }),\r\n    icon: createVNode(ExclamationCircleOutlined),\r\n    content: t('delete_confirm'),\r\n    okText: secondsToGo + ' ' + t('confirm'),\r\n    okType: 'danger',\r\n    okButtonProps: {\r\n      disabled: true\r\n    },\r\n    cancelText: t('cancel'),\r\n    onOk() {\r\n      onDelete(data)\r\n    },\r\n    onCancel() {\r\n      // console.log('Cancel')\r\n    }\r\n  })\r\n\r\n  let interval = setInterval(() => {\r\n    if (secondsToGo == 1) {\r\n      modal.update({\r\n        okText: t('confirm'),\r\n        okButtonProps: {\r\n          disabled: false\r\n        }\r\n      })\r\n\r\n      clearInterval(interval)\r\n      interval = undefined\r\n    } else {\r\n      secondsToGo -= 1\r\n\r\n      modal.update({\r\n        okText: secondsToGo + ' ' + t('confirm'),\r\n        okButtonProps: {\r\n          disabled: true\r\n        }\r\n      })\r\n    }\r\n  }, 1000)\r\n}\r\n\r\nconst onDelete = ({ id }) => {\r\n  deleteLibrary({ id }).then(() => {\r\n    message.success(t('delete_success'))\r\n    getList()\r\n  })\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.library-page {\r\n  .page-title{\r\n    margin: 16px 0;\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    line-height: 28px;\r\n    color: #000000;\r\n  }\r\n\r\n  .list-toolbar{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 8px;\r\n\r\n    .list-total{\r\n      line-height: 24px;\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      color: #262626;\r\n    }\r\n  }\r\n}\r\n// 大于1920px\r\n@media screen and (min-width: 1920px) {\r\n  .library-page {\r\n  }\r\n}\r\n</style>\r\n"],"names":["t","useI18n","emit","__emit","props","__props","toEdit","item","handleDelete","_openBlock","_createElementBlock","_hoisted_1","_Fragment","_renderList","_createElementVNode","_withModifiers","$event","_hoisted_3","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_createVNode","_component_a_tooltip","_unref","getTooltipTitle","el","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_a_dropdown","_component_a_menu","_component_a_menu_item","_hoisted_12","_hoisted_13","_component_svg_icon","localeStore","useLocaleStoreWithOut","labelColSpan","computed","message","router","useRouter","visible","ref","type","library_key","library_id","useForm","Form","saveLoading","defaultAvatar","LIBRARY_NORMAL_AVATAR","LIBRARY_OPEN_AVATAR","formState","reactive","rules","validate","validateInfos","onAvatarChange","data","handleCancel","handleOk","saveForm","err","formData","newFormState","transformUrlData","createLibrary","res","toHome","addDoc","docName","saveDraftLibDoc","doc_id","__expose","onMounted","_createBlock","_component_a_modal","_component_a_form","_component_a_form_item","_mergeProps","_component_a_input","_cache","_component_a_textarea","AvatarInput","_hoisted_2","role_permission","role_type","usePermissionStore","createOpenLibDoc","addLibraryModelRef","list","getList","getLibraryList","formatFileSize","handleAdd","secondsToGo","modal","Modal","createVNode","ExclamationCircleOutlined","onDelete","interval","id","deleteLibrary","PageAlert","_hoisted_4","_component_a_button","PlusOutlined","_createTextVNode","LibraryList","AddLibraryModel"],"mappings":"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"}