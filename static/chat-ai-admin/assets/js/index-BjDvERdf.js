import{e as r,aw as S,l as e,ac as l,ad as s,k as g,ar as b,F as V,ax as q,ae as f,az as w,G as I,at as x,u as K,aA as h,d as T,as as d,ai as z}from"./vue-chunks-CGLjTDrY.js";import{_ as A,aB as L,c as E,d as a,aw as F,bp as O}from"../../index-CB2DywzJ.js";import{i as Y,h as D}from"./ui-antd-BHaxN-GS.js";import"./neo4j-CSfpjqgw.js";import"./utils-pAinW4BS.js";import"./other-BrZCAsTs.js";const G={class:"left-menu-box"},P={key:0,class:"sync-tag run"},U={key:1,class:"sync-tag fail"},j={__name:"left-menus",emits:["changeMenu"],setup(n,{emit:u}){const t=L(),i=r(()=>t.graph_switch),m=E(),p=u,_=S(),y=_.query,v=r(()=>m.getRobotNums),k=r(()=>[_.path.split("/")[3]]),R=r(()=>t.sync_official_content_status),$=r(()=>{let c=[{key:"knowledge-document",id:"knowledge-document",icon:()=>e("span",{},[e(a,{name:"knowledge-document-icon",class:"menu-icon"}),e(a,{name:"knowledge-document-active-icon",class:"menu-icon-active"})]),label:t.type==2?"知识管理":"知识库文档",title:"知识库文档",path:"/library/details/knowledge-document",syncStatus:Number(R.value)},{key:"knowledge-graph",id:"knowledge-graph",hidden:i.value==0,icon:()=>e("span",{},[e(a,{name:"knowledge-graph-icon",class:"menu-icon"}),e(a,{name:"knowledge-graph-active-icon",class:"menu-icon-active"})]),label:"知识图谱",title:"知识图谱",path:"/library/details/knowledge-graph"},{key:"categary-manage",id:"categary-manage",icon:()=>e("span",{},[e(a,{name:"categary-manage-icon",class:"menu-icon"}),e(a,{name:"categary-manage-active-icon",class:"menu-icon-active"})]),label:"精选",title:"精选",path:"/library/details/categary-manage"},{key:"recall-testing",id:"recall-testing",icon:()=>e("span",{},[e(a,{name:"recall-testing-icon",class:"menu-icon"}),e(a,{name:"recall-testing-active-icon",class:"menu-icon-active"})]),label:"召回测试",title:"召回测试",path:"/library/details/recall-testing"},{key:"knowledge-config",id:"knowledge-config",icon:()=>e("span",{},[e(a,{name:"knowledge-config-icon",class:"menu-icon"}),e(a,{name:"knowledge-config-active-icon",class:"menu-icon-active"})]),label:"知识库配置",title:"知识库配置",path:"/library/details/knowledge-config"},{key:"related-robots",id:"related-robots",icon:()=>e("span",{},[e(a,{name:"related-robots-icon",class:"menu-icon"}),e(a,{name:"related-robots-active-icon",class:"menu-icon-active"})]),label:`关联机器人${v.value>0?` (${v.value})`:""}`,path:"/library/details/related-robots"}];return t.type==2?(c.push({key:"import-record",id:"import-record",icon:()=>e("span",{},[e(a,{name:"import-record-icon",class:"menu-icon"}),e(a,{name:"import-record-active-icon",class:"menu-icon-active"})]),label:"导入记录",title:"导入记录",path:"/library/details/import-record"}),c.push({key:"export-record",id:"export-record",icon:()=>e("span",{},[e(a,{name:"export-record-icon",class:"menu-icon"}),e(a,{name:"export-record-active-icon",class:"menu-icon-active"})]),label:"导出记录",title:"导出记录",path:"/library/details/export-record"})):c.push({key:"recycle-bin-record",id:"recycle-bin-record",icon:()=>e("span",{},[e(a,{name:"recycle-bin-record-icon",class:"menu-icon"}),e(a,{name:"recycle-bin-record-active-icon",class:"menu-icon-active"})]),label:"回收站",title:"回收站",path:"/library/details/recycle-bin-record"}),c}),M=({item:c})=>{k.value.includes(c.id)||p("changeMenu",c)};return(c,se)=>{const N=Y,B=h("router-link"),C=D;return s(),l("div",G,[g(C,{class:"left-menu",selectedKeys:k.value,onClick:M},{default:b(()=>[(s(!0),l(V,null,q($.value,o=>(s(),f(B,{class:"default-color",to:{path:o.path,query:K(y)},key:o.key},{default:b(()=>[o.hidden?w("",!0):(s(),f(N,{icon:o.icon,path:o.path,key:o.key},{default:b(()=>[I(x(o.label)+" ",1),o.syncStatus==2?(s(),l("span",P,"同步中")):o.syncStatus==3?(s(),l("span",U,"同步失败")):w("",!0)]),_:2},1032,["icon","path"]))]),_:2},1032,["to"]))),128))]),_:1},8,["selectedKeys"])])}}},H=A(j,[["__scopeId","data-v-a74151cf"]]),J=T({components:{LeftMenus:H},async beforeRouteEnter(n,u,t){let i=O(n.query.id);if(i==0||i==1){t("/no-permission");return}t()},setup(){const n=L(),{getLibraryInfo:u}=n,t=S();t.query;const i=r(()=>t.meta.cuStyle),m=r(()=>n.library_name),p=r(()=>n.avatar);return{cuStyle:i,LIBRARY_NORMAL_AVATAR:F,rotue:t,library_name:m,avatar:p}}}),Q={class:"details-library-page"},W={class:"between-content-box"},X={class:"layout-left"},Z={class:"library-name-box"},ee=["src"],ae={class:"name"},ne={class:"left-menu-wrapper"},te={key:0,style:{flex:"1"}};function oe(n,u,t,i,m,p){const _=h("LeftMenus"),y=h("router-view");return s(),l("div",Q,[d("div",W,[d("div",X,[d("div",Z,[d("img",{class:"avatar",src:n.avatar||n.LIBRARY_NORMAL_AVATAR,alt:""},null,8,ee),d("div",ae,x(n.library_name),1)]),d("div",ne,[g(_)])]),n.cuStyle?(s(),l("div",te,[g(y)])):(s(),l("div",{key:1,class:z(["right-content-box",["page-"+n.rotue.name]])},[g(y)],2))])])}const me=A(J,[["render",oe],["__scopeId","data-v-61637620"]]);export{me as default};
