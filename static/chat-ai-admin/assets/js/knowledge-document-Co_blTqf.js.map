{"version":3,"file":"knowledge-document-Co_blTqf.js","sources":["../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/qa-knowledge-document/components/subsection-box.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/components/qa-upload-modal.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/qa-knowledge-document/components/add-group.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/qa-knowledge-document/index.vue","../../../../front-end/chat-ai-admin-vue/src/assets/img/default-bg.png","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/components/add-custom-document.vue","../../../../front-end/chat-ai-admin-vue/src/assets/img/library/guide-image.png","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/components/guide-learning-tips.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/components/edit-online-doc.vue","../../../../front-end/chat-ai-admin-vue/src/assets/svg/empty-document.svg","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/components/base-data-drawer.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/qa-knowledge-document/components/edit-group.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/components/add-feishu-document.vue","../../../../front-end/chat-ai-admin-vue/src/views/library/library-details/knowledge-document.vue"],"sourcesContent":["<template>\r\n  <div class=\"subsection-box\">\r\n    <a-table\r\n      :data-source=\"paragraphLists\"\r\n      row-key=\"id\"\r\n      :row-selection=\"{ selectedRowKeys: state.selectedRowKeys, onChange: onSelectChange }\"\r\n      :pagination=\"false\"\r\n      :loading=\"props.isLoading\"\r\n      :scroll=\"{x: 1200}\"\r\n      @change=\"tableChange\"\r\n    >\r\n      <a-table-column key=\"id\" data-index=\"id\" :width=\"1148\">\r\n        <template #title>{{ t('title_qa_total', { total: props.total }) }}</template>\r\n        <template #default=\"{ record }\">\r\n          <div class=\"qa-list-box\" @dblclick=\"handleOpenEditModal(record)\">\r\n            <div class=\"list-item\">\r\n              <div class=\"list-label\">{{ t('label_question') }}</div>\r\n              <div class=\"list-content\">\r\n                <a-tooltip placement=\"top\" v-if=\"record.status == 2\">\r\n                  <template #title>\r\n                    <span>{{ record.errmsg }}</span>\r\n                  </template>\r\n                  <span>\r\n                    <span class=\"status-error\"><ExclamationCircleFilled /> </span>\r\n                  </span>\r\n                </a-tooltip>\r\n                <span @click=\"handleOpenEditModal(record)\" v-html=\"textToHighlight(record.question, props.search)\" class=\"question-text\"></span>\r\n                <template v-if=\"record.similar_questions && record.similar_questions.length\">\r\n                  <a-popover placement=\"topLeft\" :overlayInnerStyle=\"{ 'padding-right': '2px' }\">\r\n                    <template #content>\r\n                      <div class=\"similar-question-list\">\r\n                        <div\r\n                          class=\"similar-question-list-item\"\r\n                          v-for=\"(item, index) in record.similar_questions\"\r\n                          :key=\"index\"\r\n                        >\r\n                          {{ item }}\r\n                        </div>\r\n                      </div>\r\n                    </template>\r\n                    <template #title>\r\n                      <span>{{ t('msg_similar_questions', { length: record.similar_questions.length }) }}</span>\r\n                    </template>\r\n                    <a>（{{ record.similar_questions.length }}）</a>\r\n                  </a-popover>\r\n                </template>\r\n              </div>\r\n            </div>\r\n            <div class=\"list-item list-item-answer\">\r\n              <div class=\"list-label\">{{ t('label_answer') }}</div>\r\n              <div class=\"list-content\" v-html=\"textToHighlight(record.answer, props.search)\"></div>\r\n            </div>\r\n            <div class=\"fragment-img\" v-viewer>\r\n              <img v-for=\"(item, index) in record.images\" :key=\"index\" :src=\"item\" alt=\"\" />\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </a-table-column>\r\n      <a-table-column\r\n        :title=\"t('col_total')\"\r\n        key=\"total_hits\"\r\n        data-index=\"total_hits\"\r\n        :width=\"108\"\r\n        :sorter=\"true\"\r\n      >\r\n      </a-table-column>\r\n      <a-table-column\r\n        :title=\"t('col_yesterday')\"\r\n        key=\"yesterday_hits\"\r\n        data-index=\"yesterday_hits\"\r\n        :width=\"108\"\r\n        :sorter=\"true\"\r\n      >\r\n      </a-table-column>\r\n      <a-table-column\r\n        :title=\"t('col_today')\"\r\n        key=\"today_hits\"\r\n        data-index=\"today_hits\"\r\n        :width=\"108\"\r\n        :sorter=\"true\"\r\n      >\r\n      </a-table-column>\r\n      <a-table-column\r\n        v-for=\"meta in metaData\"\r\n        :key=\"`meta_${meta.key}`\"\r\n        :data-index=\"`meta_${meta.key}`\"\r\n        :width=\"160\"\r\n      >\r\n        <template #title>\r\n          <a-tooltip :title=\"meta.name?.length > 8 ? meta.name : '' \">\r\n            <div class=\"zm-line1\">{{meta.name}}</div>\r\n          </a-tooltip>\r\n        </template>\r\n        <template #default=\"{record}\">\r\n          <a-tooltip :title=\"record[`meta_${meta.key}`]?.length > 8 ? record[`meta_${meta.key}`] : '' \">\r\n            <div class=\"zm-line1\">{{record[`meta_${meta.key}`]}}</div>\r\n          </a-tooltip>\r\n        </template>\r\n      </a-table-column>\r\n      <a-table-column :title=\"t('col_action')\" key=\"action\" data-index=\"action\" :width=\"120\" fixed=\"right\">\r\n        <template #default=\"{ record, index }\">\r\n          <div class=\"right-opration\" >\r\n            <div class=\"hover-btn-box\" @click=\"handleSetCategory(record, 0)\" v-if=\"record.category_id > 0\">\r\n              <StarFilled style=\"color: #F59A23;\" />\r\n            </div>\r\n            <div class=\"hover-btn-box\" v-else @click=\"handleSetCategory(record, 4)\">\r\n              <StarOutlined />\r\n            </div>\r\n            <div class=\"hover-btn-box\" @click.stop=\"handleOpenEditModal(record)\">\r\n              <EditOutlined />\r\n            </div>\r\n            <div class=\"hover-btn-box\" @click.stop=\"hanldleDelete(record.id)\">\r\n              <DeleteOutlined />\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </a-table-column>\r\n    </a-table>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { reactive, ref, computed, createVNode } from 'vue'\r\nimport { message } from 'ant-design-vue'\r\nimport {\r\n  ExclamationCircleOutlined,\r\n  ExclamationCircleFilled,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  StarOutlined,\r\n  StarFilled\r\n} from '@ant-design/icons-vue'\r\nimport { Modal } from 'ant-design-vue'\r\nimport colorLists from '@/utils/starColors.js'\r\nimport {\r\n  deleteParagraph,\r\n  editParagraph,\r\n  getCategoryList,\r\n  updateParagraphCategory\r\n} from '@/api/library'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.library-details.qa-knowledge-document.components.subsection-box')\r\n\r\nconst emit = defineEmits([\r\n  'handleDelParagraph',\r\n  'handleScrollTargetPage',\r\n  'openEditSubscription',\r\n  'handleSort',\r\n  'getList'\r\n])\r\nconst props = defineProps({\r\n  paragraphLists: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n  total: {\r\n    type: [Number, String],\r\n    default: 0\r\n  },\r\n  isLoading: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  search: {\r\n    type: String,\r\n    default: ''\r\n  }\r\n})\r\n\r\nconst metaData = computed(() => {\r\n  return props.paragraphLists?.[0]?.meta_list || []\r\n})\r\n\r\nconst state = reactive({\r\n  selectedRowKeys: []\r\n})\r\nconst onSelectChange = (selectedRowKeys) => {\r\n  state.selectedRowKeys = selectedRowKeys\r\n}\r\n\r\nconst resetSelect = () => {\r\n  state.selectedRowKeys = []\r\n}\r\n\r\nconst handleOpenEditModal = (item) => {\r\n  emit('openEditSubscription', item)\r\n}\r\nconst hanldleDelete = (id) => {\r\n  Modal.confirm({\r\n    title: t('title_hint'),\r\n    icon: createVNode(ExclamationCircleOutlined),\r\n    content: t('msg_confirm_delete'),\r\n    onOk() {\r\n      return new Promise((resolve, reject) => {\r\n        deleteParagraph({ id })\r\n          .then((res) => {\r\n            message.success(t('msg_delete_success'))\r\n            emit('handleDelParagraph', id)\r\n            resolve()\r\n          })\r\n          .catch(() => {\r\n            resolve()\r\n          })\r\n      })\r\n    },\r\n    onCancel() {}\r\n  })\r\n}\r\n\r\nconst handleSetCategory = (item, category_id) => {\r\n  updateParagraphCategory({\r\n    id: item.id,\r\n    category_id\r\n  }).then((res) => {\r\n    message.success(t('msg_set_success'))\r\n    emit('getList')\r\n  })\r\n}\r\n\r\nconst tableChange = (a, b, sort) => {\r\n  let sort_field = sort.field\r\n  let sort_type = sort.order\r\n  if (sort_type) {\r\n    sort_type = sort_type === 'ascend' ? 'asc' : 'desc'\r\n  } else {\r\n    sort_field = ''\r\n  }\r\n  emit('handleSort', {\r\n    sort_field,\r\n    sort_type\r\n  })\r\n}\r\n\r\nfunction textToHighlight(fullText, highlightText, options = {}) {\r\n  if (!highlightText || !fullText) return fullText;\r\n\r\n  const {\r\n    highlightClass = 'highlight',\r\n    caseSensitive = false,\r\n    wholeWord = false\r\n  } = options;\r\n\r\n  const flags = caseSensitive ? 'g' : 'gi';\r\n  let regexPattern;\r\n\r\n  if (wholeWord) {\r\n    // 使用单词边界匹配完整单词\r\n    regexPattern = new RegExp(`\\\\b${escapeRegExp(highlightText)}\\\\b`, flags);\r\n  } else {\r\n    regexPattern = new RegExp(escapeRegExp(highlightText), flags);\r\n  }\r\n\r\n  return fullText.replace(regexPattern, match =>\r\n    `<span class=\"${highlightClass}\">${match}</span>`\r\n  );\r\n}\r\n\r\n/**\r\n * 转义正则表达式特殊字符\r\n * @param {string} string\r\n * @returns {string}\r\n */\r\nfunction escapeRegExp(string) {\r\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n}\r\n\r\n\r\ndefineExpose({ handleOpenEditModal, state, resetSelect })\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.subsection-box {\r\n  width: 100%;\r\n  .subsection-box-title {\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    font-weight: 600;\r\n    color: #242933;\r\n    span {\r\n      color: #7a8699;\r\n      font-weight: 400;\r\n      margin-left: 8px;\r\n    }\r\n  }\r\n}\r\n\r\n.qa-list-box {\r\n  .question-text {\r\n    cursor: pointer;\r\n    &:hover {\r\n      color: #3475fc;\r\n    }\r\n  }\r\n  .list-item {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    line-height: 22px;\r\n    font-size: 14px;\r\n    color: #262626;\r\n    margin-bottom: 6px;\r\n    .list-label {\r\n      margin-right: 12px;\r\n    }\r\n    .list-content {\r\n      flex: 1;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      gap: 4px;\r\n      word-break: break-all;\r\n      &::v-deep(.highlight) {\r\n        background-color: #FFEB3B; /* 黄色高亮 */\r\n        padding: 0 2px;\r\n        border-radius: 2px;\r\n        box-shadow: 0 1px 1px rgba(0,0,0,0.1);\r\n      }\r\n    }\r\n  }\r\n  .list-item-answer {\r\n    color: #8c8c8c;\r\n  }\r\n  .fragment-img {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 8px;\r\n    padding-left: 40px;\r\n    img {\r\n      width: 80px;\r\n      height: 80px;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n\r\n.status-error {\r\n  cursor: pointer;\r\n  color: #fb363f;\r\n}\r\n\r\n.right-opration {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n.hover-btn-box {\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  &:hover {\r\n    background: #e4e6eb;\r\n    border-radius: 6px;\r\n  }\r\n}\r\n\r\n.similar-question-list {\r\n  padding-right: 16px;\r\n  width: 260px;\r\n  max-height: 280px;\r\n  overflow-y: auto;\r\n  padding-top: 4px;\r\n  .similar-question-list-item {\r\n    margin-bottom: 8px;\r\n    color: #000;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n  }\r\n  &::-webkit-scrollbar {\r\n    width: 6px; /* 垂直滚动条宽度 */\r\n    height: 6px; /* 水平滚动条高度 */\r\n  }\r\n\r\n  /* 滚动条轨道 */\r\n  &::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  /* 滚动条滑块 */\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n    border-radius: 10px;\r\n    transition: background 0.3s ease;\r\n  }\r\n\r\n  /* 滚动条滑块悬停状态 */\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: #555;\r\n  }\r\n\r\n  /* 滚动条角落 */\r\n  &::-webkit-scrollbar-corner {\r\n    background: #f1f1f1;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <a-modal\r\n      :width=\"680\"\r\n      v-model:open=\"open\"\r\n      :confirm-loading=\"confirmLoading\"\r\n      :maskClosable=\"false\"\r\n      :title=\"t('title_upload_document')\"\r\n      @ok=\"handleSaveFiles\"\r\n      @cancel=\"handleCloseFileUploadModal\"\r\n    >\r\n      <div class=\"alert-box\">\r\n        <a-alert show-icon>\r\n          <template #message>\r\n            <div>\r\n              {{ t('msg_import_via_word_excel') }}<a\r\n                href=\"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/template/FAQ导入模板.docx\"\r\n                >{{ t('label_word_template') }}</a\r\n              >&nbsp;\r\n              <a href=\"https://xkf-upload-oss.xiaokefu.com.cn/static/chat-wiki/template/FAQ 导入模板.xlsx\"\r\n                >{{ t('label_excel_template') }}</a\r\n              >{{ t('msg_create_import_document') }}\r\n            </div>\r\n            <div>{{ t('msg_specify_extraction_rules') }}</div>\r\n            <div>{{ t('msg_duplicate_question_override') }}</div>\r\n          </template>\r\n        </a-alert>\r\n      </div>\r\n      <a-flex align=\"center\" style=\"margin: 16px 0\">\r\n        <div>{{ t('label_belong_group') }}</div>\r\n        <a-select v-model:value=\"formState.group_id\" style=\"flex: 1\" :placeholder=\"t('ph_select_group')\">\r\n          <a-select-option\r\n            v-for=\"item in props.groupLists.filter((item) => item.id >= 0)\"\r\n            :value=\"item.id\"\r\n            >{{ item.group_name }}</a-select-option\r\n          >\r\n        </a-select>\r\n      </a-flex>\r\n      <div class=\"upload-file-box\">\r\n        <UploadFilesInput :type=\"2\" v-model:value=\"fileList\" @change=\"onFilesChange\" />\r\n      </div>\r\n      <div class=\"hight-set\" v-if=\"fileList.length > 0\">\r\n        <a @click=\"isHide = !isHide\"\r\n          >{{ t('label_advanced_settings') }}\r\n\r\n          <DownOutlined v-if=\"!isHide\" />\r\n          <UpOutlined v-else />\r\n        </a>\r\n        <template v-if=\"isHide\">\r\n          <div class=\"set-box\" v-if=\"fileType == 1\">\r\n            <div class=\"form-item\">\r\n              <div class=\"form-item-label required\">{{ t('label_question_column') }}</div>\r\n              <div class=\"form-item-body\">\r\n                <a-select\r\n                  v-model:value=\"formState.question_column\"\r\n                  :placeholder=\"t('ph_select_column')\"\r\n                  style=\"width: 100%\"\r\n                >\r\n                  <a-select-option\r\n                    v-for=\"item in excellQaLists\"\r\n                    :value=\"item.value\"\r\n                    :key=\"item.value\"\r\n                    >{{ item.lable }}</a-select-option\r\n                  >\r\n                </a-select>\r\n              </div>\r\n            </div>\r\n            <div class=\"form-item\">\r\n              <div class=\"form-item-label\">{{ t('label_similar_question_column') }}</div>\r\n              <div class=\"form-item-body\">\r\n                <a-select\r\n                  v-model:value=\"formState.similar_column\"\r\n                  :placeholder=\"t('ph_select_similar_question_column')\"\r\n                  style=\"width: 100%\"\r\n                >\r\n                  <a-select-option\r\n                    v-for=\"item in excellQaLists\"\r\n                    :value=\"item.value\"\r\n                    :key=\"item.value\"\r\n                    >{{ item.lable }}</a-select-option\r\n                  >\r\n                </a-select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"form-item\">\r\n              <div class=\"form-item-label required\">{{ t('label_answer_column') }}</div>\r\n              <div class=\"form-item-body\">\r\n                <a-select\r\n                  v-model:value=\"formState.answer_column\"\r\n                  :placeholder=\"t('ph_select_answer_column')\"\r\n                  style=\"width: 100%\"\r\n                >\r\n                  <a-select-option\r\n                    v-for=\"item in excellQaLists\"\r\n                    :value=\"item.value\"\r\n                    :key=\"item.value\"\r\n                    >{{ item.lable }}</a-select-option\r\n                  >\r\n                </a-select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"set-box\" v-if=\"fileType == 2\">\r\n            <div class=\"form-item\">\r\n              <div class=\"form-item-label\">{{ t('label_question_start_marker') }}</div>\r\n              <div class=\"form-item-body\">\r\n                <a-input :placeholder=\"t('ph_input_marker')\" v-model:value=\"formState.question_lable\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"form-item\">\r\n              <div class=\"form-item-label\">{{ t('label_similar_question_start_marker') }}</div>\r\n              <div class=\"form-item-body\">\r\n                <a-input :placeholder=\"t('ph_input_marker')\" v-model:value=\"formState.similar_label\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"form-item\">\r\n              <div class=\"form-item-label\">{{ t('label_answer_start_marker') }}</div>\r\n              <div class=\"form-item-body\">\r\n                <a-input :placeholder=\"t('ph_input_marker')\" v-model:value=\"formState.answer_lable\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed } from 'vue'\r\nimport UploadFilesInput from '../../add-library/components/upload-input.vue'\r\nimport { DownOutlined, UpOutlined } from '@ant-design/icons-vue'\r\nimport { readLibFileExcelTitle, addLibraryFile } from '@/api/library/index'\r\nimport { message } from 'ant-design-vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport { useLibraryStore } from '@/stores/modules/library'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.library-details.components.qa-upload-modal')\r\nconst libraryStore = useLibraryStore()\r\nconst { qa_index_type } = libraryStore\r\n\r\nconst router = useRouter()\r\nconst rotue = useRoute()\r\nconst query = rotue.query\r\nconst open = ref(false)\r\nconst confirmLoading = ref(false)\r\nconst fileList = ref([])\r\n\r\nconst emit = defineEmits(['ok'])\r\nconst excellQaLists = ref([])\r\n\r\nconst props = defineProps({\r\n  library_id: {\r\n    type: [Number, String],\r\n    default: () => ''\r\n  },\r\n  groupLists: {\r\n    type: Array,\r\n    default: () => []\r\n  },\r\n})\r\n\r\nconst libraryId = computed(() => {\r\n  return props.library_id || query.id\r\n})\r\n\r\n\r\nconst formState = reactive({\r\n  question_column: void 0,\r\n  answer_column: void 0,\r\n  similar_column: void 0,\r\n  question_lable: 'label_question',\r\n  answer_lable: 'label_answer',\r\n  similar_label: 'label_similar_question',\r\n  group_id: void 0,\r\n})\r\n\r\nconst isHide = ref(true)\r\nconst show = (groupId) => {\r\n  formState.group_id = void 0\r\n  if(groupId >= 0){\r\n    formState.group_id = groupId\r\n  }\r\n  open.value = true\r\n}\r\n\r\nconst getExcelQaTitle = () => {\r\n  // 获取excel的QA  问题所在列 下拉列表\r\n  let formData = new FormData()\r\n  fileList.value.forEach((file) => {\r\n    formData.append('library_files', file)\r\n  })\r\n  readLibFileExcelTitle(formData).then((res) => {\r\n    let datas = []\r\n    for (let key in res.data) {\r\n      datas.push({\r\n        lable: res.data[key],\r\n        value: key\r\n      })\r\n    }\r\n    excellQaLists.value = datas\r\n  })\r\n}\r\n\r\nconst handleSaveFiles = () => {\r\n  if (fileList.value.length == 0) {\r\n    message.error(t('msg_select_file'))\r\n    return\r\n  }\r\n\r\n  confirmLoading.value = true\r\n\r\n  let formData = new FormData()\r\n\r\n  formData.append('library_id', libraryId.value)\r\n  let isTableType = false\r\n  fileList.value.forEach((file) => {\r\n    if (file.name.includes('.xlsx') || file.name.includes('.csv')) {\r\n      isTableType = true\r\n    }\r\n    formData.append('library_files', file)\r\n  })\r\n  if (isTableType) {\r\n    if(!formState.question_column){\r\n      confirmLoading.value = false\r\n      return message.error(t('msg_select_question_column'))\r\n    }\r\n    if(!formState.answer_column){\r\n      confirmLoading.value = false\r\n      return message.error(t('msg_select_answer_column'))\r\n    }\r\n    formData.append('question_column', formState.question_column)\r\n    formData.append('answer_column', formState.answer_column)\r\n    formState.similar_column && formData.append('similar_column', formState.similar_column)\r\n  } else {\r\n    formData.append('question_lable', t(formState.question_lable))\r\n    formData.append('answer_lable', t(formState.answer_lable))\r\n    formData.append('similar_label', t(formState.similar_label))\r\n  }\r\n  formData.append('group_id', formState.group_id >= 0 ? formState.group_id : 0)\r\n  formData.append('is_qa_doc', 1)\r\n  formData.append('qa_index_type', qa_index_type)\r\n  addLibraryFile(formData)\r\n    .then((res) => {\r\n      emit('ok')\r\n      open.value = false\r\n      fileList.value = []\r\n      confirmLoading.value = false\r\n      // if (isTableType) {\r\n      //   router.push('/library/document-segmentation?document_id=' + res.data.file_ids[0])\r\n      // }\r\n    })\r\n    .catch(() => {\r\n      confirmLoading.value = false\r\n    })\r\n}\r\n\r\nconst handleCloseFileUploadModal = () => {\r\n  fileList.value = []\r\n}\r\n\r\nconst fileType = ref(1) // 1表格  2doc\r\nconst onFilesChange = (files) => {\r\n  formState.question_column = void 0\r\n  formState.answer_column = void 0\r\n  formState.similar_column = void 0\r\n  formState.question_lable = 'label_question'\r\n  formState.answer_lable = 'label_answer'\r\n  formState.similar_label = 'label_similar_question'\r\n  fileList.value = files\r\n  if (files && files.length > 0) {\r\n    if (files[0].type.includes('.document')) {\r\n      fileType.value = 2\r\n    } else {\r\n      fileType.value = 1\r\n      getExcelQaTitle()\r\n    }\r\n  }\r\n}\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.alert-box {\r\n  margin: 16px 0;\r\n  ::v-deep(.ant-alert) {\r\n    align-items: baseline;\r\n  }\r\n  ::v-deep(.anticon.anticon-info-circle) {\r\n    position: relative;\r\n    top: 2px;\r\n  }\r\n}\r\n\r\n.hight-set {\r\n  margin-top: 16px;\r\n}\r\n.set-box {\r\n  padding: 12px 16px;\r\n  background: #f2f2f2;\r\n  border-radius: 6px;\r\n  margin-top: 6px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  flex-wrap: wrap;\r\n  .form-item {\r\n    width: calc(50% - 6px);\r\n    display: flex;\r\n    align-items: center;\r\n    .form-item-body {\r\n      flex: 1;\r\n    }\r\n  }\r\n  .form-item-label.required{\r\n\r\n    &::before{\r\n      content: '*';\r\n      margin-right: 2px;\r\n      color: red;\r\n      font-weight: 600;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <a-modal v-model:open=\"open\" :title=\"modalTitle\" @ok=\"handleOk\">\r\n      <div class=\"form-item\">\r\n        <div class=\"form-label\">{{ t('label_group_name') }}</div>\r\n        <div class=\"form-content\">\r\n          <a-input :maxLength=\"15\" v-model:value=\"formState.group_name\" :placeholder=\"t('ph_input_group_name')\"></a-input>\r\n        </div>\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed } from 'vue'\r\nimport { saveLibraryGroup } from '@/api/library'\r\nimport { message } from 'ant-design-vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.library-details.qa-knowledge-document.components.add-group')\r\n\r\nconst query = useRoute().query\r\nconst open = ref(false)\r\nconst emit = defineEmits(['ok'])\r\nconst isEdit = ref(false)\r\nconst modalTitle = computed(() => isEdit.value ? t('title_edit_group') : t('title_create_group'))\r\n\r\nconst props = defineProps({\r\n  group_type:{\r\n    type: [Number, String],\r\n    default: 0\r\n  }\r\n})\r\n\r\nconst formState = reactive({\r\n  group_name: '',\r\n  id: '',\r\n  library_id: query.id\r\n})\r\nconst show = (data) => {\r\n  formState.group_name = data.group_name || ''\r\n  formState.id = data.id || ''\r\n  isEdit.value = !!data.id\r\n  formState.library_id = data.library_id\r\n  open.value = true\r\n}\r\nconst handleOk = () => {\r\n  if (!formState.group_name) {\r\n    return message.error(t('msg_group_name_required'))\r\n  }\r\n  saveLibraryGroup({\r\n    ...formState,\r\n    group_type: props.group_type\r\n  }).then((res) => {\r\n    message.success(isEdit.value ? t('msg_edit_group_success') : t('msg_create_group_success'))\r\n    open.value = false\r\n    emit('ok')\r\n  })\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.form-item {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 24px 0;\r\n\r\n  .form-label{\r\n    padding-right: 4px;\r\n  }\r\n  .form-content {\r\n    flex: 1;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"qa-list-wrapper\">\r\n    <div\r\n      class=\"group-content-box\"\r\n      :class=\"[{ collapsed: isHiddenGroup }, { 'no-transition': isDragging }]\"\r\n      :style=\"\r\n        isHiddenGroup\r\n          ? {}\r\n          : {\r\n              width: groupBoxWidth + 'px',\r\n              minWidth: minGroupBoxWidth + 'px',\r\n              maxWidth: maxGroupBoxWidth + 'px'\r\n            }\r\n      \"\r\n    >\r\n      <div class=\"group-head-box\">\r\n        <div class=\"head-title\">\r\n          <a-tooltip :title=\"t('collapse_group')\">\r\n            <div class=\"hover-btn-wrap\" @click=\"handleChangeHideStatus\">\r\n              <svg-icon name=\"put-away\"></svg-icon>\r\n            </div>\r\n          </a-tooltip>\r\n          <div class=\"flex-between-box\">\r\n            <div>{{ t('qa_group') }}</div>\r\n            <a-tooltip :title=\"t('create_group')\">\r\n              <div class=\"hover-btn-wrap\" @click=\"openGroupModal({})\"><PlusOutlined /></div>\r\n            </a-tooltip>\r\n          </div>\r\n        </div>\r\n        <div class=\"search-box\">\r\n          <a-input\r\n            v-model:value=\"groupSearchKey\"\r\n            allowClear\r\n            :placeholder=\"t('search_group')\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <template #suffix>\r\n              <SearchOutlined @click.stop=\"\" />\r\n            </template>\r\n          </a-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"classify-box\">\r\n        <cu-scroll style=\"padding-right: 24px\">\r\n          <div\r\n            class=\"classify-item\"\r\n            @click=\"handleChangeGroup(item)\"\r\n            :class=\"{ active: item.id == groupId }\"\r\n            v-for=\"item in filterGroupLists\"\r\n            :key=\"item.id\"\r\n          >\r\n            <div class=\"classify-title\">{{ item.group_name }}</div>\r\n            <div class=\"right-content\">\r\n              <div class=\"num\" :class=\"{ 'num-block': item.id <= 0 }\">{{ item.total }}</div>\r\n              <div class=\"btn-box\" v-if=\"item.id > 0\">\r\n                <a-dropdown placement=\"bottomRight\">\r\n                  <div class=\"hover-btn-wrap\">\r\n                    <EllipsisOutlined />\r\n                  </div>\r\n                  <template #overlay>\r\n                    <a-menu>\r\n                      <a-menu-item>\r\n                        <div @click.stop=\"openGroupModal(item)\">{{ t('rename') }}</div>\r\n                      </a-menu-item>\r\n                      <a-menu-item>\r\n                        <div @click.stop=\"handleDelGroup(item)\">{{ t('delete') }}</div>\r\n                      </a-menu-item>\r\n                    </a-menu>\r\n                  </template>\r\n                </a-dropdown>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </cu-scroll>\r\n      </div>\r\n      <div v-if=\"!isHiddenGroup\" class=\"resize-bar\" @mousedown=\"handleResizeMouseDown\"></div>\r\n    </div>\r\n    <div class=\"main-content-box\">\r\n      <cu-scroll\r\n        :scrollbar=\"{ minSize: 80, fade: false, interactive: true, scrollbarTrackClickable: true }\"\r\n      >\r\n        <div class=\"head-content\">\r\n          <div class=\"title\">\r\n            <a-popover :title=\"null\" placement=\"bottom\" v-if=\"isHiddenGroup\">\r\n              <template #content>\r\n                <div class=\"pover-group-content-box\">\r\n                  <div class=\"group-head-box\">\r\n                    <div class=\"head-title\">\r\n                      <div class=\"flex-between-box\">\r\n                        <div>{{ t('qa_group') }}</div>\r\n                        <a-tooltip :title=\"t('create_group')\">\r\n                          <div class=\"hover-btn-wrap\" @click=\"openGroupModal({})\">\r\n                            <PlusOutlined />\r\n                          </div>\r\n                        </a-tooltip>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"search-box\">\r\n                      <a-input\r\n                        allowClear\r\n                        v-model:value=\"groupSearchKey\"\r\n                        :placeholder=\"t('search_group')\"\r\n                        style=\"width: 100%\"\r\n                      >\r\n                        <template #suffix>\r\n                          <SearchOutlined @click.stop=\"\" />\r\n                        </template>\r\n                      </a-input>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"classify-box classify-scroll-box\">\r\n                    <div\r\n                      class=\"classify-item\"\r\n                      @click=\"handleChangeGroup(item)\"\r\n                      :class=\"{ active: item.id == groupId }\"\r\n                      v-for=\"item in filterGroupLists\"\r\n                      :key=\"item.id\"\r\n                    >\r\n                      <div class=\"classify-title\">{{ item.group_name }}</div>\r\n                      <div class=\"right-content\">\r\n                        <div class=\"num\" :class=\"{ 'num-block': item.id <= 0 }\">\r\n                          {{ item.total }}\r\n                        </div>\r\n                        <div class=\"btn-box\" v-if=\"item.id > 0\">\r\n                          <a-dropdown placement=\"bottomRight\">\r\n                            <div class=\"hover-btn-wrap\">\r\n                              <EllipsisOutlined />\r\n                            </div>\r\n                            <template #overlay>\r\n                              <a-menu>\r\n                                <a-menu-item>\r\n                                  <div @click.stop=\"openGroupModal(item)\">{{ t('rename') }}</div>\r\n                                </a-menu-item>\r\n                                <a-menu-item>\r\n                                  <div @click.stop=\"handleDelGroup(item)\">{{ t('delete') }}</div>\r\n                                </a-menu-item>\r\n                              </a-menu>\r\n                            </template>\r\n                          </a-dropdown>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </template>\r\n              <div class=\"hover-btn-wrap\" @click=\"handleChangeHideStatus\">\r\n                <svg-icon name=\"expand\"></svg-icon>\r\n              </div>\r\n            </a-popover>\r\n            <div>{{ currentGroupItem.group_name }}</div>\r\n            <div class=\"btn-right-box\">\r\n              <div>\r\n                <a-input @change=\"search\" v-model:value=\"filterData.search\" :placeholder=\"t('search_qa')\">\r\n                  <template #suffix>\r\n                    <SearchOutlined />\r\n                  </template>\r\n                </a-input>\r\n              </div>\r\n              <a-button @click=\"showMetaModal(1)\">{{ t('metadata') }} <SettingOutlined/></a-button>\r\n              <a-dropdown>\r\n               <a-button>{{ t('batch_operation') }} <DownOutlined/></a-button>\r\n               <template #overlay>\r\n                 <a-menu>\r\n                   <a-menu-item key=\"1\"><div @click=\"handleBathDel\">{{ t('batch_delete') }}</div></a-menu-item>\r\n                   <a-menu-item key=\"2\"><div @click=\"handleOpenMoveModal\">{{ t('batch_move') }}</div></a-menu-item>\r\n                   <a-menu-item key=\"2\"><div @click=\"showMetaModal(2)\">{{ t('modify_metadata') }}</div></a-menu-item>\r\n                 </a-menu>\r\n               </template>\r\n              </a-dropdown>\r\n              <a-button @click=\"handleOpenFileUploadModal()\">{{ t('batch_import') }}</a-button>\r\n              <a-button @click=\"handleSyncDownload()\">{{ t('batch_export') }}</a-button>\r\n              <a-button\r\n                @click=\"openEditSubscription({})\"\r\n                type=\"primary\"\r\n                :icon=\"createVNode(PlusOutlined)\"\r\n                >{{ t('qa') }}</a-button\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"des-content-block\">\r\n            <div class=\"alert-icon-box\" v-if=\"exception_total > 0\">\r\n              <svg-icon name=\"alert-icon\"></svg-icon>\r\n              <div>{{ exception_total }}{{ t('learn_failed') }}</div>\r\n              <a @click=\"reEmbeddingVectors\">{{ t('re_learn') }}</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"content-block\">\r\n          <SubsectionBox\r\n            ref=\"subsectionBoxRef\"\r\n            :total=\"total\"\r\n            :isLoading=\"isLoading\"\r\n            :paragraphLists=\"paragraphLists\"\r\n            :search=\"filterData.search\"\r\n            @openEditSubscription=\"openEditSubscription\"\r\n            @handleDelParagraph=\"initData\"\r\n            @getList=\"getParagraphLists\"\r\n            @handleSort=\"handleSort\"\r\n          ></SubsectionBox>\r\n          <div class=\"pagination-box\">\r\n            <a-pagination\r\n              v-model:current=\"paginations.page\"\r\n              v-model:page-size=\"paginations.size\"\r\n              :total=\"total\"\r\n              :pageSizeOptions=\"['100', '200', '500', '1000']\"\r\n              show-size-changer\r\n              @change=\"onShowSizeChange\"\r\n            >\r\n            </a-pagination>\r\n          </div>\r\n        </div>\r\n      </cu-scroll>\r\n    </div>\r\n  </div>\r\n  <EditSubscription\r\n    :detailsInfo=\"detailsInfo\"\r\n    @handleEdit=\"initData\"\r\n    ref=\"editSubscriptionRef\"\r\n  ></EditSubscription>\r\n  <AddGroup ref=\"addGroupRef\" @ok=\"initData\" />\r\n  <QaUploadModal :groupLists=\"groupLists\" :library_id=\"library_id\" @ok=\"initData\" ref=\"qaUploadModalRef\" />\r\n  <a-modal v-model:open=\"moveOpen\" :title=\"t('batch_move_group')\" @ok=\"handleMove\">\r\n    <a-flex class=\"move-group-form\" align=\"center\" style=\"margin: 24px 0\">\r\n      <div class=\"form-label\">{{ t('move_to_group') }}</div>\r\n      <a-select v-model:value=\"moveState.group_id\" style=\"flex: 1\" :placeholder=\"t('select_group')\">\r\n        <a-select-option\r\n          v-for=\"item in groupLists.filter((item) => item.id >= 0)\"\r\n          :key=\"item.id\"\r\n          :value=\"item.id\"\r\n          >{{ item.group_name }}</a-select-option\r\n        >\r\n      </a-select>\r\n    </a-flex>\r\n  </a-modal>\r\n  <a-modal v-model:open=\"downLoadModalOpen\" :title=\"null\" :footer=\"null\" :width=\"640\">\r\n    <a-result\r\n      status=\"success\"\r\n      :title=\"t('export_task_created')\"\r\n      :sub-title=\"t('export_task_desc')\"\r\n    >\r\n      <template #extra>\r\n        <a-button style=\"margin-right: 16px;\" @click=\"downLoadModalOpen = false\">{{ t('got_it') }}</a-button>\r\n        <a-button @click=\"toDownloadPage\" type=\"primary\">{{ t('go_download') }}</a-button>\r\n      </template>\r\n    </a-result>\r\n  </a-modal>\r\n  <MetadataManageModal ref=\"metaRef\" :library-id=\"libraryId\" :qa-ids=\"qaIds\" @change=\"initData\"/>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, createVNode, computed, onMounted } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { message, Modal } from 'ant-design-vue'\r\nimport dayjs from 'dayjs'\r\nimport {\r\n  getLibraryGroup,\r\n  reconstructCategoryVector,\r\n  getParagraphList,\r\n  deleteLibraryGroup,\r\n  setParagraphGroup,\r\n  deleteParagraph,\r\n  createExportLibFileTask,\r\n} from '@/api/library'\r\nimport {\r\n  PlusOutlined,\r\n  ExclamationCircleOutlined,\r\n  EllipsisOutlined,\r\n  SearchOutlined,\r\n  DownOutlined,\r\n  SettingOutlined,\r\n} from '@ant-design/icons-vue'\r\nimport SubsectionBox from './components/subsection-box.vue'\r\nimport EditSubscription from '@/views/library/library-preview/components/edit-subsection.vue'\r\nimport QaUploadModal from '../components/qa-upload-modal.vue'\r\nimport AddGroup from './components/add-group.vue'\r\nimport router from '@/router'\r\nimport MetadataManageModal from \"@/views/library/library-details/components/metadata-manage-modal.vue\";\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.library-details.qa-knowledge-document.index')\r\n\r\nconst subsectionBoxRef = ref(null)\r\nconst metaRef = ref(null)\r\nconst route = useRoute()\r\nconst query = route.query\r\nconst groupSearchKey = ref('')\r\nconst groupLists = ref([])\r\nconst groupId = ref(-1)\r\nconst qaIds = ref([])\r\n\r\nconst currentGroupItem = computed(() => {\r\n  return groupLists.value.find((item) => item.id == groupId.value) || {}\r\n})\r\n\r\nconst filterGroupLists = computed(() => {\r\n  return groupLists.value.filter((item) => item.group_name.includes(groupSearchKey.value))\r\n})\r\n\r\nconst props = defineProps({\r\n  library_id: {\r\n    type: [Number, String],\r\n    default: () => ''\r\n  }\r\n})\r\n\r\nconst libraryId = computed(() => {\r\n  return props.library_id || query.id\r\n})\r\n\r\nconst paragraphLists = ref([])\r\n\r\nconst isHiddenGroup = ref(localStorage.getItem('qa_document_group_hide_key') == 1)\r\n\r\nconst total = ref(0)\r\nconst exception_total = ref(0)\r\n\r\nconst sourceTypeMap = {\r\n  1: '本地文档',\r\n  2: '在线文档',\r\n  3: '自定义文档',\r\n  4: '手工新增问答',\r\n  5: '导入问答'\r\n}\r\nconst listStatusMap = {\r\n  0: t('not_converted'),\r\n  1: t('converted'),\r\n  2: t('convert_error'),\r\n  3: t('converting')\r\n}\r\nconst detailsInfo = ref({\r\n  is_qa_doc: '1',\r\n  library_id: libraryId.value\r\n})\r\n\r\nconst paginations = ref({\r\n  page: 1,\r\n  size: 100\r\n})\r\n\r\nconst filterData = reactive({\r\n  status: -1,\r\n  category_id: -1,\r\n  sort_field: '',\r\n  sort_type: '',\r\n  library_id: libraryId.value,\r\n  search: '',\r\n})\r\n\r\nconst handleSort = (sort) => {\r\n  filterData.sort_field = sort.sort_field\r\n  filterData.sort_type = sort.sort_type\r\n  search()\r\n}\r\n\r\nconst search = () => {\r\n  paginations.value.page = 1\r\n  getParagraphLists()\r\n}\r\n\r\nconst onShowSizeChange = (current, pageSize) => {\r\n  paginations.value.page = current\r\n  paginations.value.size = pageSize\r\n  getParagraphLists()\r\n}\r\n\r\nconst handleChangeHideStatus = () => {\r\n  isHiddenGroup.value = !isHiddenGroup.value\r\n  localStorage.setItem('qa_document_group_hide_key', isHiddenGroup.value ? 1 : 2)\r\n}\r\n\r\nconst reEmbeddingVectors = () => {\r\n  reconstructCategoryVector({ id: libraryId.value }).then(() => {\r\n    message.success(t('operation_complete'))\r\n    getParagraphLists()\r\n  })\r\n}\r\n\r\nconst editSubscriptionRef = ref(null)\r\nconst openEditSubscription = (data) => {\r\n  if (!data.group_id) {\r\n    if (groupId.value >= 0) {\r\n      data.group_id = groupId.value\r\n    }\r\n  }\r\n  editSubscriptionRef.value.showModal(JSON.parse(JSON.stringify(data)))\r\n}\r\n\r\nconst isLoading = ref(false)\r\n\r\nconst getParagraphLists = () => {\r\n  isLoading.value = true\r\n  getParagraphList({\r\n    ...paginations.value,\r\n    ...filterData,\r\n    group_id: groupId.value\r\n  }).then((res) => {\r\n    isLoading.value = false\r\n    let data = res.data\r\n    let list = data.list || []\r\n    list.forEach((item) => {\r\n      item.status_text = listStatusMap[item.status]\r\n      if (item.similar_questions) {\r\n        item.similar_questions = JSON.parse(item.similar_questions)\r\n      }\r\n      if (Array.isArray(item.meta_list)) {\r\n        item.meta_list.forEach(i => {\r\n          if (i.type == 1 && i.value > 0) {\r\n            i.value = dayjs(i.value * 1000).format('YYYY-MM-DD HH:mm')\r\n          }\r\n          if (i.key == 'source') {\r\n            i.value = sourceTypeMap[i.value]\r\n          }\r\n          item[`meta_${i.key}`] = i.value\r\n        })\r\n      }\r\n    })\r\n    paragraphLists.value = list\r\n    total.value = data.total\r\n    exception_total.value = data.exception_total\r\n    subsectionBoxRef.value && subsectionBoxRef.value.resetSelect()\r\n  })\r\n}\r\n\r\ngetParagraphLists()\r\n\r\nconst getGroupLists = () => {\r\n  getLibraryGroup({\r\n    library_id: libraryId.value\r\n  }).then((res) => {\r\n    let lists = res.data || []\r\n    let allTotal = lists.reduce((total, item) => {\r\n      return total + +item.total\r\n    }, 0)\r\n    groupLists.value = [\r\n      {\r\n        group_name: t('all_groups'),\r\n        id: -1,\r\n        total: allTotal\r\n      },\r\n      ...res.data\r\n    ]\r\n  })\r\n}\r\n\r\ngetGroupLists()\r\n\r\nconst addGroupRef = ref(null)\r\nconst openGroupModal = (data) => {\r\n  addGroupRef.value.show({\r\n    ...data,\r\n    library_id: libraryId.value\r\n  })\r\n}\r\nconst initData = () => {\r\n  getGroupLists()\r\n  getParagraphLists()\r\n}\r\n\r\nconst handleChangeGroup = (item) => {\r\n  groupId.value = item.id\r\n  search()\r\n}\r\n\r\nconst handleDelGroup = (item) => {\r\n  Modal.confirm({\r\n    title: `${t('confirm_delete_group')}${item.group_name}`,\r\n    icon: createVNode(ExclamationCircleOutlined),\r\n    content: '',\r\n    okText: t('confirm'),\r\n    okType: 'danger',\r\n    cancelText: t('cancel'),\r\n    onOk() {\r\n      deleteLibraryGroup({\r\n        id: item.id\r\n      }).then(() => {\r\n        message.success(t('delete_success'))\r\n        getGroupLists()\r\n        if (groupId.value == item.id) {\r\n          groupId.value = -1\r\n          search()\r\n        }\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst qaUploadModalRef = ref(null)\r\n\r\nconst handleOpenFileUploadModal = () => {\r\n  qaUploadModalRef.value.show(groupId.value)\r\n}\r\n\r\nconst moveOpen = ref(false)\r\nconst moveState = reactive({\r\n  group_id: void 0,\r\n  ids: ''\r\n})\r\n\r\nconst handleOpenMoveModal = () => {\r\n  if (subsectionBoxRef.value.state.selectedRowKeys.length == 0) {\r\n    return message.error(t('select_qa_to_move'))\r\n  }\r\n  moveState.ids = subsectionBoxRef.value.state.selectedRowKeys.join(',')\r\n  moveState.group_id = void 0\r\n  moveOpen.value = true\r\n}\r\n\r\nconst handleBathDel = () => {\r\n  if (subsectionBoxRef.value.state.selectedRowKeys.length == 0) {\r\n    return message.error(t('select_qa_to_delete'))\r\n  }\r\n\r\n  Modal.confirm({\r\n    title: t('tip'),\r\n    icon: createVNode(ExclamationCircleOutlined),\r\n    content: t('confirm_delete_selected'),\r\n    onOk() {\r\n      deleteParagraph({ id: subsectionBoxRef.value.state.selectedRowKeys.join(',') }).then(\r\n        (res) => {\r\n          message.success(t('delete_success'))\r\n          getParagraphLists()\r\n        }\r\n      )\r\n    },\r\n    onCancel() {}\r\n  })\r\n}\r\n\r\nconst handleMove = () => {\r\n  if (!moveState.group_id) {\r\n    return message.error(t('select_group_tip'))\r\n  }\r\n  setParagraphGroup({\r\n    ...moveState\r\n  }).then(() => {\r\n    moveOpen.value = false\r\n    message.success(t('move_success'))\r\n    initData()\r\n  })\r\n}\r\n\r\nconst GROUP_BOX_WIDTH_KEY = 'qa_document_group_box_width'\r\nconst minGroupBoxWidth = 200\r\nconst maxGroupBoxWidth = 256\r\n\r\nconst groupBoxWidth = ref(minGroupBoxWidth)\r\nconst isDragging = ref(false) // 新增\r\n\r\nonMounted(() => {\r\n  const width = parseInt(localStorage.getItem(GROUP_BOX_WIDTH_KEY))\r\n  if (width && width >= minGroupBoxWidth && width <= maxGroupBoxWidth) {\r\n    groupBoxWidth.value = width\r\n  }\r\n})\r\n\r\nlet isResizing = false\r\nlet startX = 0\r\nlet startWidth = 0\r\n\r\nconst handleResizeMouseDown = (e) => {\r\n  if (isHiddenGroup.value) return\r\n  isResizing = true\r\n  isDragging.value = true // 新增\r\n  startX = e.clientX\r\n  startWidth = groupBoxWidth.value\r\n  document.body.style.cursor = 'col-resize'\r\n  document.addEventListener('mousemove', handleResizing)\r\n  document.addEventListener('mouseup', handleResizeMouseUp)\r\n}\r\n\r\nconst handleResizing = (e) => {\r\n  if (!isResizing) return\r\n  let newWidth = startWidth + (e.clientX - startX)\r\n  newWidth = Math.max(minGroupBoxWidth, Math.min(maxGroupBoxWidth, newWidth))\r\n  groupBoxWidth.value = newWidth\r\n}\r\n\r\nconst handleResizeMouseUp = () => {\r\n  if (!isResizing) return\r\n  isResizing = false\r\n  isDragging.value = false // 新增\r\n  localStorage.setItem(GROUP_BOX_WIDTH_KEY, groupBoxWidth.value)\r\n  document.body.style.cursor = ''\r\n  document.removeEventListener('mousemove', handleResizing)\r\n  document.removeEventListener('mouseup', handleResizeMouseUp)\r\n}\r\n\r\n\r\nconst downLoadModalOpen = ref(false)\r\nconst handleSyncDownload = () => {\r\n  let data_ids = ''\r\n  if (subsectionBoxRef.value.state.selectedRowKeys.length > 0) {\r\n    data_ids = subsectionBoxRef.value.state.selectedRowKeys.join(',')\r\n  }\r\n  createExportLibFileTask({\r\n    library_id: query.id,\r\n    export_type: 2,\r\n    group_id: groupId.value,\r\n    data_ids,\r\n  }).then(res => {\r\n    downLoadModalOpen.value = true;\r\n  })\r\n}\r\n\r\nconst toDownloadPage = ()=>{\r\n  router.push({\r\n    path: '/library/details/export-record',\r\n    query,\r\n  })\r\n}\r\n\r\nconst showMetaModal = (type) => {\r\n  if (type == 2) {\r\n    if (subsectionBoxRef.value.state.selectedRowKeys.length == 0) {\r\n      return message.error(t('select_qa_to_modify'))\r\n    }\r\n    qaIds.value = subsectionBoxRef.value.state.selectedRowKeys\r\n  }\r\n  metaRef.value.show(type == 2)\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.qa-list-wrapper {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  display: flex;\r\n\r\n  .group-content-box {\r\n    position: relative;\r\n    width: 200px;\r\n    border-right: 1px solid #d9d9d9;\r\n    padding-top: 24px;\r\n    padding-left: 24px;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n    transition:\r\n      width 0.3s cubic-bezier(0.65, 0, 0.35, 1),\r\n      transform 0.3s cubic-bezier(0.65, 0, 0.35, 1),\r\n      padding 0.3s cubic-bezier(0.65, 0, 0.35, 1),\r\n      border-right-width 0.3s cubic-bezier(0.65, 0, 0.35, 1);\r\n    &.no-transition {\r\n      transition: none !important;\r\n    }\r\n    &.collapsed {\r\n      width: 0 !important;\r\n      min-width: 0 !important;\r\n      max-width: 0 !important;\r\n      padding-left: 0;\r\n      padding-right: 0;\r\n      border-right-width: 0;\r\n      transform: translateX(-100%);\r\n    }\r\n\r\n    .group-head-box {\r\n      padding-right: 24px;\r\n    }\r\n    .head-title {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      color: #262626;\r\n    }\r\n    .head-btn-box {\r\n      display: flex;\r\n      gap: 16px;\r\n      margin-top: 16px;\r\n      div {\r\n        flex: 1;\r\n      }\r\n    }\r\n    .search-box {\r\n      margin-top: 16px;\r\n    }\r\n  }\r\n\r\n  .main-content-box {\r\n    flex: 1;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    padding: 24px 0 0 24px;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n    transition: all 0.3s ease;\r\n    .head-content {\r\n      .title {\r\n        display: flex;\r\n        align-items: center;\r\n        color: #262626;\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n        line-height: 24px;\r\n      }\r\n      .btn-right-box {\r\n        margin-left: auto;\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 8px;\r\n      }\r\n      .des-content-block {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-top: 8px;\r\n        color: #8c8c8c;\r\n      }\r\n      .alert-icon-box {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 8px;\r\n        color: #fb363f;\r\n      }\r\n    }\r\n    .content-block {\r\n      margin-top: 8px;\r\n    }\r\n    .pagination-box {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: flex-end;\r\n      margin-top: 16px;\r\n    }\r\n  }\r\n}\r\n.flex-between-box {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.classify-box {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  font-size: 14px;\r\n  .classify-item {\r\n    height: 32px;\r\n    padding: 0 8px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-top: 4px;\r\n    cursor: pointer;\r\n    border-radius: 6px;\r\n    color: #595959;\r\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n\r\n    .classify-title {\r\n      flex: 1;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n    }\r\n    .num {\r\n      display: block;\r\n    }\r\n\r\n    .btn-box {\r\n      display: none;\r\n    }\r\n    &:hover {\r\n      background: #f2f4f7;\r\n      .num {\r\n        display: none;\r\n      }\r\n      .num.num-block {\r\n        display: block;\r\n      }\r\n      .btn-box {\r\n        display: block;\r\n      }\r\n    }\r\n    &.active {\r\n      color: #2475fc;\r\n      background: #e6efff;\r\n    }\r\n  }\r\n}\r\n\r\n.hover-btn-wrap {\r\n  width: fit-content;\r\n  height: 24px;\r\n  border-radius: 6px;\r\n  padding: 0 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  &:hover {\r\n    background: #e4e6eb;\r\n  }\r\n}\r\n\r\n.pover-group-content-box {\r\n  width: 232px;\r\n  padding: 4px;\r\n  overflow: hidden;\r\n  .head-title {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 4px;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    color: #262626;\r\n  }\r\n  .head-btn-box {\r\n    display: flex;\r\n    gap: 16px;\r\n    margin-top: 16px;\r\n    div {\r\n      flex: 1;\r\n    }\r\n  }\r\n  .search-box {\r\n    margin-top: 16px;\r\n  }\r\n}\r\n\r\n.classify-scroll-box {\r\n  max-height: 400px;\r\n  min-height: 180px;\r\n  margin-top: 4px;\r\n  overflow: hidden;\r\n  overflow-y: auto;\r\n  /* 整个页面的滚动条 */\r\n  &::-webkit-scrollbar {\r\n    width: 6px; /* 垂直滚动条宽度 */\r\n    height: 6px; /* 水平滚动条高度 */\r\n  }\r\n\r\n  /* 滚动条轨道 */\r\n  &::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  /* 滚动条滑块 */\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n    border-radius: 10px;\r\n    transition: background 0.3s ease;\r\n  }\r\n\r\n  /* 滚动条滑块悬停状态 */\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: #555;\r\n  }\r\n\r\n  /* 滚动条角落 */\r\n  &::-webkit-scrollbar-corner {\r\n    background: #f1f1f1;\r\n  }\r\n}\r\n\r\n.empty-box {\r\n  text-align: center;\r\n  height: 100%;\r\n  padding-top: 148px;\r\n  img {\r\n    width: 200px;\r\n    height: 200px;\r\n  }\r\n  .title {\r\n    font-size: 16px;\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    line-height: 24px;\r\n    color: #262626;\r\n  }\r\n}\r\n\r\n.resize-bar {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 4px;\r\n  height: 100%;\r\n  cursor: col-resize;\r\n  z-index: 10;\r\n  background: transparent;\r\n  transition: background 0.2s;\r\n}\r\n.resize-bar:hover {\r\n  background: #2475fc;\r\n}\r\n.group-content-box.collapsed .resize-bar {\r\n  display: none;\r\n}\r\n\r\n.move-group-form{\r\n  .form-label{\r\n    padding-right: 4px;\r\n  }\r\n}\r\n</style>\r\n","export default \"__VITE_ASSET__D_yIiPtn__\"","<template>\r\n  <div>\r\n    <a-modal\r\n      v-model:open=\"show\"\r\n      :title=\"modalTitle\"\r\n      @ok=\"handleOk\"\r\n      width=\"472px\"\r\n      :confirmLoading=\"saveLoading\"\r\n    >\r\n      <div class=\"form-box\">\r\n        <a-form layout=\"vertical\">\r\n          <a-form-item :label=\"t('label_document_name')\" v-bind=\"validateInfos.file_name\">\r\n            <a-input\r\n              type=\"text\"\r\n              :placeholder=\"t('ph_input_document_name')\"\r\n              v-model:value=\"formState.file_name\"\r\n            ></a-input>\r\n          </a-form-item>\r\n          <a-form-item :label=\"t('label_document_type')\" required v-if=\"false\">\r\n            <a-radio-group v-model:value=\"formState.is_qa_doc\">\r\n              <a-radio :value=\"0\">{{ t('label_normal_document') }}</a-radio>\r\n              <a-radio :value=\"1\">{{ t('label_qa_document') }}</a-radio>\r\n            </a-radio-group>\r\n          </a-form-item>\r\n          <a-form-item :label=\"t('label_index_method')\" required v-if=\"formState.is_qa_doc == 1\">\r\n            <div class=\"upload-document-type-box\">\r\n              <div\r\n                class=\"type-item\"\r\n                :class=\"{ active: formState.qa_index_type == item.value }\"\r\n                v-for=\"item in qaIndexTypeList\"\r\n                :key=\"item.value\"\r\n                @click=\"handleChangeQaIndexType(item.value)\"\r\n              >\r\n                <div class=\"right-block\">\r\n                  <div class=\"title-block\">\r\n                    <svg-icon\r\n                      :name=\"\r\n                        formState.qa_index_type == item.value ? item.iconNameActive : item.iconName\r\n                      \"\r\n                    ></svg-icon>\r\n                    <div class=\"title-text\">{{ t(item.title) }}</div>\r\n                  </div>\r\n                  <div class=\"desc\">{{ t(item.desc) }}</div>\r\n                </div>\r\n                <svg-icon\r\n                  class=\"check-arrow\"\r\n                  name=\"check-arrow-filled\"\r\n                  style=\"font-size: 24px; color: #fff\"\r\n                  v-if=\"formState.qa_index_type == item.value\"\r\n                ></svg-icon>\r\n              </div>\r\n            </div>\r\n          </a-form-item>\r\n        </a-form>\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { validatePassword } from '@/utils/validate.js'\r\nimport { ref, reactive, toRaw, computed } from 'vue'\r\nimport { Form, message } from 'ant-design-vue'\r\nimport { addLibraryFile } from '@/api/library'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.library-details.components.add-custom-document')\r\nconst emit = defineEmits(['ok'])\r\nconst router = useRouter()\r\nconst rotue = useRoute()\r\nconst useForm = Form.useForm\r\nconst show = ref(false)\r\nconst modalTitleKey = 'title_add_custom_document'\r\nconst modalTitle = computed(() => t(modalTitleKey))\r\n\r\nconst props = defineProps({\r\n  libraryInfo:{\r\n    type: Object,\r\n    default: () => {}\r\n  },\r\n  group_id: {\r\n    type: [Number, String],\r\n    default: () => 0\r\n  },\r\n})\r\n\r\nconst formState = reactive({\r\n  library_id: rotue.query.id,\r\n  doc_type: 3,\r\n  file_name: '',\r\n  is_qa_doc: 0,\r\n  qa_index_type: 1\r\n})\r\nconst qaIndexTypeList = ref([\r\n  {\r\n    iconName: 'file-search',\r\n    iconNameActive: 'file-search',\r\n    title: 'title_qa_index_qa',\r\n    value: 1,\r\n    desc: 'desc_qa_index_qa'\r\n  },\r\n  {\r\n    iconName: 'comment-search',\r\n    iconNameActive: 'comment-search',\r\n    title: 'title_qa_index_question',\r\n    value: 2,\r\n    desc: 'desc_qa_index_question'\r\n  }\r\n])\r\nconst handleChangeQaIndexType = (type) => {\r\n  formState.qa_index_type = type\r\n}\r\nconst formRules = reactive({\r\n  file_name: [\r\n    {\r\n      message: 'msg_input_nickname',\r\n      required: true\r\n    }\r\n  ]\r\n})\r\n\r\nconst { resetFields, validate, validateInfos } = useForm(formState, formRules)\r\n\r\nconst add = () => {\r\n  show.value = true\r\n  resetFields()\r\n  formState.file_name = ''\r\n  formState.is_qa_doc = 0\r\n  formState.qa_index_type = 1\r\n  formState.library_id = props.libraryInfo.id || rotue.query.id\r\n  if(props.libraryInfo.type == 2){\r\n    formState.is_qa_doc = 1\r\n  }\r\n}\r\n\r\nconst saveLoading = ref(false)\r\nconst handleOk = () => {\r\n  validate().then(() => {\r\n    let formData = {\r\n      ...toRaw(formState),\r\n      group_id: props.group_id\r\n    }\r\n    saveLoading.value = true\r\n    addLibraryFile(formData)\r\n      .then((res) => {\r\n        message.success(t(modalTitleKey) + t('msg_operation_success'))\r\n        show.value = false\r\n        router.push('/library/preview?id=' + res.data.file_ids[0])\r\n        // emit('ok')\r\n      })\r\n      .finally(() => {\r\n        saveLoading.value = false\r\n      })\r\n  })\r\n}\r\n\r\ndefineExpose({\r\n  add\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.form-box {\r\n  margin-top: 24px;\r\n}\r\n\r\n.upload-document-type-box {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  .type-item {\r\n    position: relative;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    padding: 16px;\r\n    display: flex;\r\n    border: 1px solid #d9d9d9;\r\n    border-radius: 2px;\r\n    box-shadow: none;\r\n    transition: box-shadow 1s;\r\n    &:hover {\r\n      box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.1), 0px 8px 10px 1px rgba(0, 0, 0, 0.06),\r\n        0px 3px 14px 2px rgba(0, 0, 0, 0.05);\r\n    }\r\n    &.active {\r\n      border: 2px solid #2475fc;\r\n      .svg-action {\r\n        color: #2475fc;\r\n      }\r\n      .right-block .title-text {\r\n        color: #2475fc;\r\n      }\r\n    }\r\n    .check-arrow {\r\n      position: absolute;\r\n      bottom: 0;\r\n      right: -1px;\r\n    }\r\n  }\r\n  .right-block {\r\n    .title-block {\r\n      display: flex;\r\n      font-size: 14px;\r\n      line-height: 22px;\r\n      .title-text {\r\n        margin-left: 2px;\r\n        color: #262626;\r\n        font-weight: 600;\r\n      }\r\n    }\r\n    .desc {\r\n      color: #595959;\r\n      margin-top: 4px;\r\n      line-height: 22px;\r\n      word-break: break-all;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","export default \"__VITE_ASSET__DlZNzq3M__\"","<template>\r\n    <div class=\"container\">\r\n      <a-modal\r\n        v-model:open=\"visible\"\r\n        :title=\"modalTitle\"\r\n        @ok=\"handleOk\"\r\n        @cancel=\"handleCancel\"\r\n        width=\"472px\"\r\n      >\r\n        <div class=\"guide-content\">\r\n          <img \r\n            src=\"@/assets/img/library/guide-image.png\" \r\n            alt=\"操作引导\"\r\n            class=\"guide-image\"\r\n          />\r\n          <div class=\"content-box\">\r\n            <div class=\"content-info\">单次上传多个文档，上传成功后，需要手动点击文档后面 \"学习\" 进行学习；如果文档学习失败，支持重新学习</div>\r\n            <a-checkbox v-model:checked=\"dontShowAgain\">\r\n              <div class=\"content-check\">不再显示此提示</div>\r\n            </a-checkbox>\r\n          </div>\r\n        </div>\r\n        <template #footer>\r\n          <a-button type=\"primary\" @click=\"handleOk\">我知道了</a-button>\r\n        </template>\r\n      </a-modal>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useUserStore } from '@/stores/modules/user'\r\n\r\nconst userStore = useUserStore()\r\nconst visible = ref(false)\r\nconst dontShowAgain = ref(false)\r\nconst modalTitle = ref('')\r\n\r\nconst show = () => {\r\n  // 延迟1秒弹出\r\n  setTimeout(() => {\r\n    visible.value = true\r\n  }, 500);\r\n}\r\n\r\n// 处理弹窗确定按钮\r\nconst handleOk = () => {\r\n  // 保存用户偏好\r\n  userStore.setGuideLearningTips(dontShowAgain.value)\r\n  visible.value = false\r\n}\r\n\r\n// 处理弹窗取消按钮\r\nconst handleCancel = () => {\r\n  userStore.setGuideLearningTips(dontShowAgain.value)\r\n  visible.value = false\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.guide-content {\r\n  text-align: left;\r\n  width: 100%;\r\n  height: 333px;\r\n}\r\n\r\n.guide-image {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  max-width: 100%;\r\n  margin-bottom: 24px;\r\n  border-radius: 8px 8px 0 0;\r\n}\r\n\r\n.content-box {\r\n  padding-top: 277px;\r\n  color: #595959;\r\n  font-size: 14px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: 22px;\r\n\r\n  .content-info {\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n\r\n.content-check {\r\n  color: #595959;\r\n  font-size: 14px;\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  line-height: 22px;\r\n}\r\n\r\n.ant-modal-content {\r\n  position: relative;\r\n}\r\n</style>","<template>\r\n  <div>\r\n    <a-modal\r\n      v-model:open=\"open\"\r\n      :confirm-loading=\"confirmLoading\"\r\n      :maskClosable=\"false\"\r\n      :title=\"t('title_add_online_data')\"\r\n      width=\"746px\"\r\n      @ok=\"handleSaveUrl\"\r\n    >\r\n      <a-form\r\n        class=\"url-add-form\"\r\n        layout=\"vertical\"\r\n        ref=\"urlFormRef\"\r\n        :model=\"formState\"\r\n        :rules=\"rules\"\r\n      >\r\n        <a-form-item name=\"file_name\" :label=\"t('label_file_name')\">\r\n          <a-input v-model:value=\"formState.file_name\" :placeholder=\"t('ph_input')\" :disabled=\"disableFileName\" />\r\n        </a-form-item>\r\n        <a-form-item name=\"doc_auto_renew_frequency\" :label=\"t('label_update_frequency')\">\r\n          <a-select v-model:value=\"formState.doc_auto_renew_frequency\" style=\"width: 100%\">\r\n            <a-select-option :value=\"1\">{{ t('option_no_auto_update') }}</a-select-option>\r\n            <a-select-option :value=\"2\">{{ t('option_daily') }}</a-select-option>\r\n            <a-select-option :value=\"3\">{{ t('option_every_3_days') }}</a-select-option>\r\n            <a-select-option :value=\"4\">{{ t('option_every_7_days') }}</a-select-option>\r\n            <a-select-option :value=\"5\">{{ t('option_every_30_days') }}</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <a-form-item\r\n          v-if=\"formState.doc_auto_renew_frequency > 1\"\r\n          name=\"doc_auto_renew_minute\"\r\n          :label=\"t('label_update_time')\"\r\n        >\r\n          <a-time-picker\r\n            valueFormat=\"HH:mm\"\r\n            v-model:value=\"formState.doc_auto_renew_minute\"\r\n            format=\"HH:mm\"\r\n          />\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { editLibFile } from '@/api/library'\r\nimport { convertTime } from '@/utils/index'\r\n\r\nconst { t } = useI18n('views.library.library-details.components.edit-online-doc')\r\nconst emit = defineEmits(['ok'])\r\nconst formState = reactive({\r\n  id: '',\r\n  file_name: '',\r\n  doc_auto_renew_frequency: 1,\r\n  doc_auto_renew_minute: ''\r\n})\r\nconst disableFileName = ref(false)\r\nconst rules = ref({\r\n  file_name: [\r\n    {\r\n      message: t('msg_input_file_name'),\r\n      required: true\r\n    }\r\n  ],\r\n  doc_auto_renew_frequency: [\r\n    {\r\n      message: t('msg_select_update_frequency'),\r\n      required: true\r\n    }\r\n  ]\r\n})\r\n\r\nconst open = ref(false)\r\nconst show = (data) => {\r\n  data = JSON.parse(JSON.stringify(data))\r\n  formState.id = data.id || ''\r\n  formState.file_name = data.file_name || ''\r\n  formState.doc_auto_renew_frequency = +data.doc_auto_renew_frequency || 1\r\n  if (data.doc_auto_renew_minute > 0) {\r\n    formState.doc_auto_renew_minute = convertTime(data.doc_auto_renew_minute)\r\n  }\r\n  disableFileName.value = !!data.from_update_info\r\n  open.value = true\r\n}\r\nconst confirmLoading = ref(false)\r\n\r\nconst urlFormRef = ref(null)\r\nconst handleSaveUrl = () => {\r\n  urlFormRef.value\r\n    .validate()\r\n    .then(() => {\r\n      confirmLoading.value = true\r\n      editLibFile({\r\n        ...formState,\r\n        doc_auto_renew_minute: formState.doc_auto_renew_minute\r\n          ? convertTime(formState.doc_auto_renew_minute)\r\n          : 0\r\n      }).then(() => {\r\n        open.value = false\r\n        confirmLoading.value = false\r\n        emit('ok')\r\n      })\r\n    })\r\n    .catch(() => {\r\n      confirmLoading.value = false\r\n    })\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n","export default \"__VITE_ASSET__DfQbsQS2__\"","<template>\r\n  <a-drawer\r\n    :open=\"open\"\r\n    placement=\"right\"\r\n    :width=\"480\"\r\n    :title=\"t('title_basic_data')\"\r\n    @close=\"onClose\"\r\n  >\r\n    <div class=\"base-data-drawer\" v-if=\"record\">\r\n      <div class=\"base-cover\">\r\n        <img v-if=\"fileCover\" :src=\"fileCover\" alt=\"\" />\r\n      </div>\r\n      <div class=\"base-title zm-line1\">{{ record.file_name }}</div>\r\n      <div class=\"base-update\">\r\n        <span>{{ t('label_updated_at') }} {{ record.update_time }}</span>\r\n        <span class=\"sep\">|</span>\r\n        <span>\r\n          <span v-if=\"record.doc_auto_renew_frequency == 1\">{{ t('label_no_auto_update') }}</span>\r\n          <span v-if=\"record.doc_auto_renew_frequency == 2\">{{ t('label_every_day') }}</span>\r\n          <span v-if=\"record.doc_auto_renew_frequency == 3\">{{ t('label_every_3_days') }}</span>\r\n          <span v-if=\"record.doc_auto_renew_frequency == 4\">{{ t('label_every_7_days') }}</span>\r\n          <span v-if=\"record.doc_auto_renew_frequency == 5\">{{ t('label_every_30_days') }}</span>\r\n          <span class=\"ml4\" v-if=\"record.doc_auto_renew_frequency > 1 && record.doc_auto_renew_minute > 0\">\r\n            {{ convertTime(record.doc_auto_renew_minute) }}\r\n          </span>\r\n          <a class=\"ml12 btn-hover-block\" @click=\"emit('editOnline', record)\">{{ t('btn_edit') }}</a>\r\n        </span>\r\n      </div>\r\n      <div class=\"base-meta-grid\">\r\n        <div class=\"meta-item\">\r\n          <div class=\"value\">{{ record.file_ext || '--' }}</div>\r\n          <div class=\"label\">{{ t('label_file_format') }}</div>\r\n        </div>\r\n        <div class=\"line-vertical\"></div>\r\n        <div class=\"meta-item\">\r\n          <div class=\"value\">{{ record.file_size_str || '--' }}</div>\r\n          <div class=\"label\">{{ t('label_doc_size') }}</div>\r\n        </div>\r\n        <div class=\"line-vertical\"></div>\r\n        <div class=\"meta-item\">\r\n          <div class=\"value\">{{ record.paragraph_count ?? '-' }}</div>\r\n          <div class=\"label\">{{ t('label_doc_segments') }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"base-hits-grid\">\r\n        <div class=\"hits-item\">\r\n          <div class=\"value\">{{ record.total_hits ?? 0 }}</div>\r\n          <div class=\"label\">{{ t('label_total_triggers') }}</div>\r\n        </div>\r\n        <div class=\"line-vertical\"></div>\r\n        <div class=\"hits-item\">\r\n          <div class=\"value\">{{ record.today_hits ?? 0 }}</div>\r\n          <div class=\"label\">{{ t('label_today_triggers') }}</div>\r\n        </div>\r\n        <div class=\"line-vertical\"></div>\r\n        <div class=\"hits-item\">\r\n          <div class=\"value\">{{ record.yesterday_hits ?? 0 }}</div>\r\n          <div class=\"label\">{{ t('label_yesterday_triggers') }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </a-drawer>\r\n  </template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport defaultCover from '@/assets/img/default-cover.png'\r\nimport emptyDocumentIcon from '@/assets/svg/empty-document.svg'\r\nimport { convertTime } from '@/utils/index'\r\n\r\nconst { t } = useI18n('views.library.library-details.components.base-data-drawer')\r\n\r\nconst emit = defineEmits(['close', 'editOnline'])\r\nconst props = defineProps({\r\n  open: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  record: {\r\n    type: Object,\r\n    default: null\r\n  }\r\n})\r\n\r\nfunction onClose() {\r\n  emit('close')\r\n}\r\n\r\nconst getStatusClass = (item) => {\r\n  const s = Number(item?.status ?? -1)\r\n  if ([0, 1, 5, 6, 10].includes(s)) return 'loading'\r\n  if ([3, 7, 8, 9].includes(s)) return 'error'\r\n  return 'success'\r\n}\r\nconst getFileCover = (rec) => {\r\n  if (!rec) return ''\r\n  const status = getStatusClass(rec)\r\n  const src =\r\n    rec.thumb_path ||\r\n    rec.cover_url ||\r\n    rec.cover ||\r\n    rec.article_cover_url ||\r\n    ''\r\n  if (src) return src\r\n  if (status === 'loading') return defaultCover\r\n  if (status === 'error') return emptyDocumentIcon\r\n  return ''\r\n}\r\nconst fileCover = computed(() => getFileCover(props.record))\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.base-data-drawer {\r\n  .base-cover {\r\n    height: 200px;\r\n    border-radius: 6px;\r\n    border: 1px solid #F0F0F0;\r\n    overflow: hidden;\r\n    img { width: 100%; display: block; }\r\n  }\r\n  .base-title {\r\n    margin-top: 10px;\r\n    color: #262626;\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    line-height: 22px;\r\n  }\r\n  .base-update {\r\n    margin-top: 4px;\r\n    color: #8c8c8c;\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: 22px;\r\n    .sep {\r\n        display: inline-block;\r\n        height: 15px;\r\n        margin: 0 6px;\r\n        overflow: hidden;\r\n        color: #ddd;\r\n     }\r\n  }\r\n  .base-meta-grid, .base-hits-grid {\r\n    width: 100%;\r\n    height: 80px;\r\n    box-sizing: border-box;\r\n    display: inline-flex;\r\n    padding: 16px 15px 16px 24px;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border-radius: 12px;\r\n    border: 1px solid #E4E6EB;\r\n    background: #F2F4F7;\r\n    margin-top: 16px;\r\n    .meta-item, .hits-item {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      align-items: center;\r\n      gap: 2px;\r\n      background: #f5f5f5;\r\n      border-radius: 8px;\r\n      padding: 8px;\r\n      .value {\r\n        align-self: stretch;\r\n        color: #262626;\r\n        font-size: 16px;\r\n        font-style: normal;\r\n        font-weight: 600;\r\n        line-height: 24px;\r\n      }\r\n      .label {\r\n        align-self: stretch;\r\n        color: #7a8699;\r\n        font-size: 14px;\r\n        font-style: normal;\r\n        font-weight: 400;\r\n        line-height: 22px;\r\n      }\r\n    }\r\n  }\r\n  .base-hits-grid {\r\n    border: 1px solid #ABCAFC;\r\n    background: #F0F7FF;\r\n    .hits-item {\r\n      background: #F0F7FF;\r\n    }\r\n  }\r\n}\r\n.line-vertical {\r\n  width: 1px;\r\n  height: 40px;\r\n  background: #D8DDE5;\r\n  margin: 0 16px;\r\n}\r\n.ml12 {\r\n  margin-left: 12px;\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <a-modal v-model:open=\"open\" :title=\"t(modalTitle)\" @ok=\"handleOk\">\r\n      <div class=\"form-item\">\r\n        <div class=\"form-label\">{{ t('label_group_name') }}：</div>\r\n        <div class=\"form-content\">\r\n          <a-select v-model:value=\"formState.group_id\" style=\"width: 100%\" :placeholder=\"t('ph_select_group')\">\r\n            <a-select-option v-for=\"item in groupLists\" :value=\"item.id\">{{\r\n              item.group_name\r\n            }}</a-select-option>\r\n          </a-select>\r\n        </div>\r\n      </div>\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { relationLibraryGroup, getLibraryGroup } from '@/api/library'\r\nimport { message } from 'ant-design-vue'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\n\r\nconst { t } = useI18n('views.library.library-details.qa-knowledge-document.components.edit-group')\r\nconst open = ref(false)\r\nconst emit = defineEmits(['ok'])\r\nconst modalTitle = ref('title_edit_group')\r\n\r\nconst props = defineProps({\r\n  libraryId: {\r\n    type: [Number, String],\r\n    default: ''\r\n  },\r\n  sense: {\r\n    type: [Number, String],\r\n    default: 0\r\n  }\r\n})\r\n\r\nconst formState = reactive({\r\n  group_id: '',\r\n  file_id: '',\r\n})\r\n\r\nconst groupLists = ref([])\r\n\r\nconst show = (data) => {\r\n  formState.group_id = data.group_id || '0'\r\n  formState.file_id = data.id || ''\r\n  getGroupList()\r\n  open.value = true\r\n}\r\nconst handleOk = () => {\r\n  if (!formState.group_id) {\r\n    return message.error(t('msg_select_group'))\r\n  }\r\n  relationLibraryGroup({\r\n    ...formState,\r\n    library_id: props.libraryId,\r\n    sense: props.sense,\r\n  }).then((res) => {\r\n    message.success(`${t(modalTitle.value)}${t('msg_operation_success')}`)\r\n    open.value = false\r\n    emit('ok')\r\n  })\r\n}\r\nconst getGroupList = () => {\r\n  getLibraryGroup({\r\n    library_id: props.libraryId,\r\n    group_type: 1\r\n  }).then((res) => {\r\n    groupLists.value = res.data || []\r\n  })\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.form-item {\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 24px 0;\r\n  .form-content {\r\n    flex: 1;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <a-modal\r\n    v-model:open=\"open\"\r\n    :confirm-loading=\"saving\"\r\n    :maskClosable=\"false\"\r\n    :title=\"step == 1 ? t('title_import_feishu_library') : t('title_select_sync_files')\"\r\n    width=\"646px\"\r\n    @ok=\"save\"\r\n  >\r\n    <template v-if=\"step == 1\">\r\n      <a-alert class=\"zm-alert-info\" show-icon type=\"info\">\r\n        <template #message>\r\n          {{ t('msg_feishu_guide') }}\r\n        </template>\r\n      </a-alert>\r\n      <a-form\r\n        class=\"mt16\"\r\n        layout=\"vertical\"\r\n        ref=\"formRef\"\r\n        :model=\"formState\"\r\n        :rules=\"rules\"\r\n      >\r\n        <a-form-item name=\"feishu_app_id\" :label=\"t('label_app_id')\">\r\n          <a-input v-model:value.trim=\"formState.feishu_app_id\" :placeholder=\"t('ph_input_app_id')\"/>\r\n        </a-form-item>\r\n        <a-form-item name=\"feishu_app_secret\" :label=\"t('label_app_secret')\">\r\n          <a-input v-model:value.trim=\"formState.feishu_app_secret\" :placeholder=\"t('ph_input_app_secret')\"/>\r\n        </a-form-item>\r\n      </a-form>\r\n    </template>\r\n    <template v-else>\r\n      <a-form\r\n        layout=\"vertical\"\r\n        ref=\"formRef\"\r\n        :model=\"formState\"\r\n        :rules=\"rules\"\r\n      >\r\n<!--        <a-form-item name=\"doc_auto_renew_frequency\" label=\"更新频率\">-->\r\n<!--          <a-select v-model:value=\"formState.doc_auto_renew_frequency\" style=\"width: 100%\">-->\r\n<!--            <a-select-option :value=\"1\">不自动更新</a-select-option>-->\r\n<!--            <a-select-option :value=\"2\">每天</a-select-option>-->\r\n<!--            <a-select-option :value=\"3\">每3天</a-select-option>-->\r\n<!--            <a-select-option :value=\"4\">每7天</a-select-option>-->\r\n<!--            <a-select-option :value=\"5\">每30天</a-select-option>-->\r\n<!--          </a-select>-->\r\n<!--        </a-form-item>-->\r\n<!--        <a-form-item-->\r\n<!--          v-if=\"formState.doc_auto_renew_frequency > 1\"-->\r\n<!--          name=\"doc_auto_renew_minute\"-->\r\n<!--          label=\"更新时间\"-->\r\n<!--        >-->\r\n<!--          <a-time-picker-->\r\n<!--            v-model:value=\"formState.doc_auto_renew_minute\"-->\r\n<!--            format=\"HH:mm\"-->\r\n<!--            valueFormat=\"HH:mm\"-->\r\n<!--          />-->\r\n<!--        </a-form-item>-->\r\n        <a-form-item :label=\"t('label_file_scope')\">\r\n          <a-radio-group v-model:value=\"formState.file_type\">\r\n            <a-radio :value=\"1\">{{ t('radio_all_files') }}</a-radio>\r\n            <a-radio :value=\"2\">{{ t('radio_partial_files') }}</a-radio>\r\n          </a-radio-group>\r\n          <div class=\"file-list\" v-if=\"formState.file_type == 2\">\r\n            <a-directory-tree\r\n              v-model:checkedKeys=\"formState.feishu_document_id_list\"\r\n              multiple\r\n              checkable\r\n              :field-names=\"{key: 'token'}\"\r\n              :tree-data=\"filesTreeData\"\r\n            >\r\n              <template #title=\"{name, type}\">\r\n                <template v-if=\"type === 'docx'\">{{name}}.docx</template>\r\n                <template v-else>{{name}}</template>\r\n              </template>\r\n            </a-directory-tree>\r\n          </div>\r\n        </a-form-item>\r\n      </a-form>\r\n    </template>\r\n  </a-modal>\r\n</template>\r\n\r\n<script setup>\r\nimport {ref, reactive} from 'vue'\r\nimport {addLibraryFile, getFeishuDocFileList} from \"@/api/library/index.js\"\r\nimport {message} from 'ant-design-vue'\r\nimport {convertTime, copyText, objectToQueryString, strToBase64} from \"@/utils/index.js\";\r\nimport {useUserStore} from '@/stores/modules/user'\r\nimport {useI18n} from '@/hooks/web/useI18n'\r\nimport RedirectExampleImg from '@/assets/img/library/feishu-redirct-example.png'\r\n\r\nconst { t } = useI18n('views.library.library-details.components.add-feishu-document')\r\n\r\nconst emit = defineEmits(['ok'])\r\nconst props = defineProps({\r\n  libraryId: {\r\n    type: [Number, String],\r\n    default: ''\r\n  },\r\n})\r\n\r\nconst userStore = useUserStore()\r\nconst redirectUrl = `${window.location.origin}/manage/feishuUserAuthLogin/callback`\r\n\r\nconst formRef = ref(null)\r\nconst formStateDefault = {\r\n  feishu_app_id: '',\r\n  feishu_app_secret: '',\r\n  // doc_auto_renew_frequency: 1,\r\n  // doc_auto_renew_minute: '',\r\n  user_access_token: '',\r\n  file_type: 1,\r\n  feishu_document_id_list: []\r\n}\r\nconst open = ref(false)\r\nconst saving = ref(false)\r\nconst step = ref(1)\r\nconst formState = reactive({\r\n  feishu_document_id_list: []\r\n})\r\nconst rules = reactive({\r\n  feishu_app_id: {\r\n    message: t('msg_input_app_id'),\r\n    required: true\r\n  },\r\n  feishu_app_secret: {\r\n    message: t('msg_input_app_secret'),\r\n    required: true\r\n  },\r\n})\r\nconst filesTreeData = ref([])\r\n\r\nfunction show(p = null) {\r\n  Object.assign(formState, JSON.parse(JSON.stringify(formStateDefault)))\r\n  if (p) {\r\n    Object.assign(formState, p)\r\n    searchFiles()\r\n    step.value = 2\r\n  } else {\r\n    step.value = 1\r\n  }\r\n  open.value = true\r\n}\r\n\r\nfunction searchFiles() {\r\n  const {feishu_app_id, feishu_app_secret, user_access_token} = formState\r\n  getFeishuDocFileList({feishu_app_id, feishu_app_secret, user_access_token}).then(res => {\r\n    filesTreeData.value = filterDocxTree(res?.data || [])\r\n  })\r\n}\r\n\r\nfunction filterDocxTree(list = []) {\r\n  return list\r\n    .map(item => {\r\n      // 如果有 children，先递归处理\r\n      if (Array.isArray(item.children)) {\r\n        item.checkable = false\r\n        const children = filterDocxTree(item.children)\r\n        return { ...item, children }\r\n      }\r\n      item.checkable = true\r\n      return item\r\n    })\r\n    .filter(item => {\r\n      // 保留 docx\r\n      if (item.type === 'docx') return true\r\n\r\n      // 保留 children 中还有 docx 的 folder\r\n      if (item.type === 'folder' && item.children?.length) return true\r\n\r\n      return false\r\n    })\r\n}\r\n\r\nfunction getAllDocxTokens(list = []) {\r\n  const result = []\r\n\r\n  function dfs(nodes) {\r\n    for (const item of nodes) {\r\n      if (item.type === 'docx' && item.token) {\r\n        result.push(item.token)\r\n      }\r\n      if (Array.isArray(item.children)) {\r\n        dfs(item.children)\r\n      }\r\n    }\r\n  }\r\n\r\n  dfs(list)\r\n  return result\r\n}\r\n\r\nconst handleCopy = (text) => {\r\n  copyText(text)\r\n  message.success(t('msg_copy_success'))\r\n}\r\n\r\nfunction save() {\r\n  formRef.value.validate().then(() => {\r\n    if (step.value == 1) {\r\n      const hide = message.loading(t('msg_verifying'))\r\n      let host = ''\r\n      if (import.meta.env.MODE !== 'production') {\r\n        host = `http://${import.meta.env.MODE}.zhima_chat_ai.applnk.cn`\r\n      }\r\n      const baseData = {\r\n        feishu_app_id: formState.feishu_app_id,\r\n        feishu_app_secret: formState.feishu_app_secret,\r\n      }\r\n      const redirectQuery = {\r\n        ...baseData,\r\n        id: props.libraryId\r\n      }\r\n      let query = {\r\n        ...baseData,\r\n        token: userStore.getToken ?? '',\r\n        feishu_frontend_auth_redirect_url: strToBase64(`${host}/#/library/details/knowledge-document?${objectToQueryString(redirectQuery)}`)\r\n      }\r\n      window.location.href = `${host}/manage/feishuUserAuthLogin/redirect?${objectToQueryString(query)}`\r\n    } else {\r\n      // if (formState.doc_auto_renew_frequency > 1 && !formState.doc_auto_renew_minute) return message.error('请选择更新时间')\r\n      if (formState.file_type == 2) {\r\n        if (!formState.feishu_document_id_list.length) return message.error(t('msg_select_sync_files'))\r\n      } else {\r\n        formState.feishu_document_id_list = getAllDocxTokens(filesTreeData.value)\r\n        if (!formState.feishu_document_id_list.length) return message.error(t('msg_no_sync_files'))\r\n      }\r\n      let params = {\r\n        library_id: props.libraryId,\r\n        doc_type: 6,\r\n        ...formState,\r\n        doc_auto_renew_minute: convertTime(formState.doc_auto_renew_minute),\r\n        feishu_document_id_list: formState.feishu_document_id_list.toString(),\r\n      }\r\n      delete params.file_type\r\n      delete params.user_access_token\r\n      saving.value = true\r\n      addLibraryFile(params).then(res => {\r\n        emit('ok')\r\n        message.success(t('msg_added_success'))\r\n        open.value = false\r\n      }).finally(() => {\r\n        saving.value = false\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\ndefineExpose({\r\n  show\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.mt16 {\r\n  margin-top: 16px;\r\n}\r\n\r\n.file-list {\r\n  margin-top: 8px;\r\n\r\n  :deep(.ant-checkbox-group) {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 4px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"details-library-page\">\r\n    <div\r\n      class=\"group-content-box\"\r\n      :class=\"[{ collapsed: isHiddenGroup }, { 'no-transition': isDragging }]\"\r\n      :style=\"\r\n        isHiddenGroup\r\n          ? {}\r\n          : {\r\n              width: groupBoxWidth + 'px',\r\n              minWidth: minGroupBoxWidth + 'px',\r\n              maxWidth: maxGroupBoxWidth + 'px'\r\n            }\r\n      \"\r\n    >\r\n      <div class=\"group-head-box\">\r\n        <div class=\"head-title\">\r\n          <a-tooltip :title=\"t('tooltip_collapse_group')\">\r\n            <div class=\"hover-btn-wrap\" @click=\"handleChangeHideStatus\">\r\n              <svg-icon name=\"put-away\"></svg-icon>\r\n            </div>\r\n          </a-tooltip>\r\n          <div class=\"flex-between-box\">\r\n            <div>{{ t('label_knowledge_group') }}</div>\r\n            <a-tooltip :title=\"t('tooltip_create_group')\">\r\n              <div class=\"hover-btn-wrap\" @click=\"openGroupModal({})\"><PlusOutlined /></div>\r\n            </a-tooltip>\r\n          </div>\r\n        </div>\r\n        <div class=\"search-box\" v-if=\"false\">\r\n          <a-input\r\n            v-model:value=\"groupSearchKey\"\r\n            allowClear\r\n            :placeholder=\"t('ph_search_group')\"\r\n            style=\"width: 100%\"\r\n          >\r\n            <template #suffix>\r\n              <SearchOutlined @click.stop=\"\" />\r\n            </template>\r\n          </a-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"classify-box\" style=\"margin-top: 16px\">\r\n        <cu-scroll style=\"padding-right: 24px\">\r\n          <Draggable\r\n            v-model=\"groupLists\"\r\n            item-key=\"id\"\r\n            :disabled=\"isDragging\"\r\n            @end=\"handleDragEnd\"\r\n            :move=\"checkMove\"\r\n            handle=\".drag-btn\"\r\n          >\r\n            <template #item=\"{ element: item }\">\r\n              <div\r\n                class=\"classify-item\"\r\n                @click=\"handleChangeGroup(item)\"\r\n                :class=\"{ active: item.id == groupId }\"\r\n              >\r\n                <!-- 原有内容保持不变 -->\r\n                <span v-if=\"item.id > 0\" class=\"drag-btn\"><svg-icon name=\"drag\" /></span>\r\n                <span v-else style=\"width: 20px\"></span>\r\n                <div class=\"classify-title\">{{ item.group_name }}</div>\r\n                <div class=\"right-content\">\r\n                  <div class=\"num\" :class=\"{ 'num-block': item.id <= 0 }\">{{ item.total }}</div>\r\n                  <div class=\"btn-box\" v-if=\"item.id > 0\">\r\n                    <a-dropdown placement=\"bottomRight\">\r\n                      <div class=\"hover-btn-wrap\">\r\n                        <EllipsisOutlined />\r\n                      </div>\r\n                      <template #overlay>\r\n                        <a-menu>\r\n                          <a-menu-item>\r\n                            <div @click.stop=\"openGroupModal(item)\">{{ t('btn_rename') }}</div>\r\n                          </a-menu-item>\r\n                          <a-menu-item>\r\n                            <div @click.stop=\"handleDelGroup(item)\">{{ t('btn_delete') }}</div>\r\n                          </a-menu-item>\r\n                        </a-menu>\r\n                      </template>\r\n                    </a-dropdown>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </Draggable>\r\n        </cu-scroll>\r\n      </div>\r\n\r\n      <div v-if=\"!isHiddenGroup\" class=\"resize-bar\" @mousedown=\"handleResizeMouseDown\"></div>\r\n    </div>\r\n    <div class=\"main-content-box\">\r\n      <cu-scroll :scrollbar=\"false\">\r\n        <div class=\"group-header-title\">\r\n          <a-popover :title=\"null\" placement=\"bottom\" v-if=\"isHiddenGroup\">\r\n            <template #content>\r\n              <div class=\"pover-group-content-box\">\r\n                  <div class=\"group-head-box\">\r\n                  <div class=\"head-title\">\r\n                    <div class=\"flex-between-box\">\r\n                      <div>{{ t('label_qa_group') }}</div>\r\n                      <a-tooltip :title=\"t('tooltip_create_group')\">\r\n                        <div class=\"hover-btn-wrap\" @click=\"openGroupModal({})\">\r\n                          <PlusOutlined />\r\n                        </div>\r\n                      </a-tooltip>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"search-box\">\r\n                    <a-input\r\n                      allowClear\r\n                      v-model:value=\"groupSearchKey\"\r\n                      :placeholder=\"t('ph_search_group')\"\r\n                      style=\"width: 100%\"\r\n                    >\r\n                      <template #suffix>\r\n                        <SearchOutlined @click.stop=\"\" />\r\n                      </template>\r\n                    </a-input>\r\n                  </div>\r\n                </div>\r\n                <div class=\"classify-box classify-scroll-box\">\r\n                  <div\r\n                    class=\"classify-item\"\r\n                    @click=\"handleChangeGroup(item)\"\r\n                    :class=\"{ active: item.id == groupId }\"\r\n                    v-for=\"item in filterGroupLists\"\r\n                    :key=\"item.id\"\r\n                  >\r\n                    <div class=\"classify-title\">{{ item.group_name }}</div>\r\n                    <div class=\"right-content\">\r\n                      <div class=\"num\" :class=\"{ 'num-block': item.id <= 0 }\">\r\n                        {{ item.total }}\r\n                      </div>\r\n                      <div class=\"btn-box\" v-if=\"item.id > 0\">\r\n                        <a-dropdown placement=\"bottomRight\">\r\n                          <div class=\"hover-btn-wrap\">\r\n                            <EllipsisOutlined />\r\n                          </div>\r\n                          <template #overlay>\r\n                            <a-menu>\r\n                              <a-menu-item>\r\n                                <div @click.stop=\"openGroupModal(item)\">{{ t('btn_rename') }}</div>\r\n                              </a-menu-item>\r\n                              <a-menu-item>\r\n                                <div @click.stop=\"handleDelGroup(item)\">{{ t('btn_delete') }}</div>\r\n                              </a-menu-item>\r\n                            </a-menu>\r\n                          </template>\r\n                        </a-dropdown>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <div class=\"hover-btn-wrap\" v-if=\"viewMode !== 'folder' || viewMode === 'list'\" @click=\"handleChangeHideStatus\">\r\n              <svg-icon name=\"expand\"></svg-icon>\r\n            </div>\r\n          </a-popover>\r\n          <div class=\"title\">\r\n            <template v-if=\"inFolderDetail\">\r\n              <a-breadcrumb>\r\n                <a-breadcrumb-item>\r\n                  <a class=\"breadcrumb-a\" @click=\"goToRootFolder\">{{ t('label_knowledge_base_doc') }}</a>\r\n                </a-breadcrumb-item>\r\n                <a-breadcrumb-item v-if=\"groupId === -1\">{{ t('label_all_groups') }}</a-breadcrumb-item>\r\n                <a-breadcrumb-item v-else>{{ currentGroupItem.group_name }}</a-breadcrumb-item>\r\n              </a-breadcrumb>\r\n            </template>\r\n            <template v-else>\r\n              <span class=\"title-text\">{{ t('label_knowledge_base_doc') }}</span>\r\n            </template>\r\n          </div>\r\n        </div>\r\n        <div class=\"list-tools\">\r\n          <div class=\"tools-items\">\r\n            <div class=\"tool-item\">\r\n              <div class=\"view-toggle\">\r\n                <div\r\n                  class=\"toggle-seg\"\r\n                  :class=\"{ active: viewMode === 'folder' }\"\r\n                  @click=\"switchToFolderView\"\r\n                  :aria-label=\"t('aria_folder_view')\"\r\n                >\r\n                  <svg-icon\r\n                    class=\"toggle-icon\"\r\n                    :name=\"viewMode === 'folder' ? 'folder-icon-active' : 'folder-icon'\"\r\n                  ></svg-icon>\r\n                </div>\r\n                <div\r\n                  class=\"toggle-seg\"\r\n                  :class=\"{ active: viewMode === 'list' }\"\r\n                  @click=\"switchToListView\"\r\n                  :aria-label=\"t('aria_thumbnail_view')\"\r\n                >\r\n                  <svg-icon\r\n                    class=\"toggle-icon\"\r\n                    :name=\"viewMode === 'list' ? 'thumbnail-icon-active' : 'thumbnail-icon'\"\r\n                  ></svg-icon>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"tool-item\" v-if=\"viewMode === 'folder' && inFolderDetail\">\r\n              <div class=\"sort-btn\" ref=\"sortBtnRef\">\r\n                <div class=\"sort-left\">\r\n                  <span class=\"sort-text\">{{ folderSort.order_field === 'total_hits' ? t('sort_total') : folderSort.order_field === 'today_hits' ? t('sort_today') : folderSort.order_field === 'yesterday_hits' ? t('sort_yesterday') : t('sort_default') }}</span>\r\n                  <svg-icon\r\n                    v-if=\"!folderSort.order_field\"\r\n                    key=\"default\"\r\n                    class=\"sort-icon active\"\r\n                    name=\"sort-icon\"\r\n                  />\r\n                  <svg-icon\r\n                    v-else-if=\"folderSort.order_type === 'DESC'\"\r\n                    key=\"desc\"\r\n                    class=\"sort-icon active\"\r\n                    name=\"sort-down-icon\"\r\n                    @click.stop=\"onClickSortIcon\"\r\n                  />\r\n                  <svg-icon\r\n                    v-else\r\n                    key=\"asc\"\r\n                    class=\"sort-icon active\"\r\n                    name=\"sort-top-icon\"\r\n                    @click.stop=\"onClickSortIcon\"\r\n                  />\r\n                </div>\r\n                <a-dropdown v-model:open=\"sortOpen\" trigger=\"click\">\r\n                  <span class=\"sort-arrow\" :class=\"{ active: sortOpen }\" @click.prevent=\"toggleSortDropdown\">\r\n                    <DownOutlined />\r\n                  </span>\r\n                  <template #overlay>\r\n                    <a-menu :selectedKeys=\"[(folderSort.order_field || 'default')]\">\r\n                      <a-menu-item :key=\"'default'\" @click=\"setFolderSort('default')\">{{ t('sort_default') }}</a-menu-item>\r\n                      <a-menu-item :key=\"'total_hits'\" @click=\"setFolderSort('total_hits')\">{{ t('sort_total') }}</a-menu-item>\r\n                      <a-menu-item :key=\"'today_hits'\" @click=\"setFolderSort('today_hits')\">{{ t('sort_today') }}</a-menu-item>\r\n                      <a-menu-item :key=\"'yesterday_hits'\" @click=\"setFolderSort('yesterday_hits')\">{{ t('sort_yesterday') }}</a-menu-item>\r\n                    </a-menu>\r\n                  </template>\r\n                </a-dropdown>\r\n              </div>\r\n            </div>\r\n            <a-flex align=\"center\" class=\"tool-item custom-select-box\" v-show=\"false\">\r\n              <span>{{ t('label_embedding_model') }}</span>\r\n              <model-select\r\n                modelType=\"TEXT EMBEDDING\"\r\n                :isOffline=\"false\"\r\n                :modeName=\"modelForm.use_model\"\r\n                :modeId=\"modelForm.model_config_id\"\r\n                style=\"width: 240px\"\r\n                @change=\"onChangeModel\"\r\n                @loaded=\"onVectorTextModelLoaded\"\r\n              />\r\n            </a-flex>\r\n          </div>\r\n          <div class=\"right-box\">\r\n            <div class=\"status-box\" v-if=\"libraryInfo.type == 0\">\r\n              <div class=\"status-item\">\r\n                <div class=\"status-label\">{{ t('status_learned') }}</div>\r\n                <div class=\"status-content\">{{ count_data.learned_count }}</div>\r\n              </div>\r\n              <div class=\"status-item\" v-if=\"count_data.learned_wait_count > 0\">\r\n                <div class=\"status-label\">{{ t('status_unlearned') }}</div>\r\n                <div class=\"status-content content-tip\">{{ count_data.learned_wait_count }}</div>\r\n              </div>\r\n              <div class=\"status-item\" v-if=\"count_data.learned_err_count > 0\">\r\n                <div class=\"status-label\">{{ t('status_learn_failed') }}</div>\r\n                <div class=\"status-content content-tip\">{{ count_data.learned_err_count }}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"status-select-box\" v-if=\"libraryInfo.type == 0\">\r\n              <a-select\r\n                v-model:value=\"queryParams.status\"\r\n                style=\"width: 150px\"\r\n                :placeholder=\"t('ph_select')\"\r\n                @change=\"handleChangeStatus\"\r\n              >\r\n                <a-select-option v-for=\"item in statusList\" :key=\"item.id\" :value=\"item.id\">{{\r\n                  item.name\r\n                }}</a-select-option>\r\n              </a-select>\r\n            </div>\r\n            <div class=\"tool-item\">\r\n              <a-input\r\n                style=\"width: 140px\"\r\n                v-model:value=\"queryParams.file_name\"\r\n                :placeholder=\"t('ph_search_doc_name')\"\r\n                @change=\"onSearch\"\r\n              >\r\n                <template #suffix>\r\n                  <SearchOutlined @click=\"onSearch\" style=\"color: rgba(0, 0, 0, 0.25)\" />\r\n                </template>\r\n              </a-input>\r\n            </div>\r\n            <a-flex align=\"center\" v-if=\"neo4j_status\" class=\"tool-item custom-select-box pd-5-8\">\r\n              <ModelSelect modelType=\"LLM\" v-show=\"false\" @loaded=\"onVectorModelLoaded\" />\r\n              <span>{{ t('label_generate_knowledge_graph') }}</span>\r\n              <a-switch\r\n                v-model:checked=\"createGraphSwitch\"\r\n                @change=\"createGraphSwitchChange\"\r\n                :checked-children=\"t('switch_on')\"\r\n                :un-checked-children=\"t('switch_off')\"\r\n              />\r\n            </a-flex>\r\n            <a-button v-if=\"props.type != 3\" @click=\"showMetaModal(1)\">{{ t('btn_metadata') }} <SettingOutlined/></a-button>\r\n            <div class=\"tool-item\">\r\n              <a-dropdown :trigger=\"['hover']\" overlayClassName=\"add-dropdown-btn\">\r\n                <template #overlay>\r\n                  <a-menu @click=\"handleMenuClick\">\r\n                    <a-menu-item :key=\"1\">\r\n                      <div class=\"dropdown-btn-menu\">\r\n                        <a-flex class=\"title-block\" :gap=\"4\">\r\n                          <svg-icon name=\"doc-icon\"></svg-icon>\r\n                          <div class=\"title\">{{ t('menu_local_doc') }}</div>\r\n                        </a-flex>\r\n                        <div class=\"desc\" v-if=\"libraryInfo.type == 2\">\r\n                          {{ t('menu_local_doc_desc_qa') }}\r\n                        </div>\r\n                        <div class=\"desc\" v-else>\r\n                          {{ t('menu_local_doc_desc') }}\r\n                        </div>\r\n                      </div>\r\n                    </a-menu-item>\r\n                    <a-menu-item :key=\"2\" v-if=\"libraryInfo.type != 2\">\r\n                      <div class=\"dropdown-btn-menu\">\r\n                        <a-flex class=\"title-block\" :gap=\"4\">\r\n                          <svg-icon name=\"link-icon\"></svg-icon>\r\n                          <div class=\"title\">{{ t('menu_online_data') }}</div>\r\n                        </a-flex>\r\n                        <div class=\"desc\">{{ t('menu_online_data_desc') }}</div>\r\n                      </div>\r\n                    </a-menu-item>\r\n                    <a-menu-item :key=\"3\">\r\n                      <div class=\"dropdown-btn-menu\">\r\n                        <a-flex class=\"title-block\" :gap=\"4\">\r\n                          <svg-icon name=\"cu-doc-icon\"></svg-icon>\r\n                          <div class=\"title\">{{ t('menu_custom_doc') }}</div>\r\n                        </a-flex>\r\n                        <div class=\"desc\">{{ t('menu_custom_doc_desc') }}</div>\r\n                      </div>\r\n                    </a-menu-item>\r\n                    <a-menu-item :key=\"4\" v-if=\"libraryInfo.type == 0\">\r\n                      <div class=\"dropdown-btn-menu\">\r\n                        <a-flex class=\"title-block\" :gap=\"4\">\r\n                          <svg-icon name=\"feishu-doc\"></svg-icon>\r\n                          <div class=\"title\">{{ t('menu_feishu') }}</div>\r\n                        </a-flex>\r\n                        <div class=\"desc\">{{ t('menu_feishu_desc') }}</div>\r\n                      </div>\r\n                    </a-menu-item>\r\n                    <!-- 添加分组 -->\r\n                    <a-menu-item :key=\"5\" v-if=\"viewMode === 'folder'\">\r\n                      <div class=\"dropdown-btn-menu\">\r\n                        <a-flex class=\"title-block\" :gap=\"4\">\r\n                          <svg-icon name=\"group-default-icon\"></svg-icon>\r\n                          <div class=\"title\">{{ t('menu_add_group') }}</div>\r\n                        </a-flex>\r\n                        <div class=\"desc\">{{ t('menu_add_group_desc') }}</div>\r\n                      </div>\r\n                    </a-menu-item>\r\n                  </a-menu>\r\n                </template>\r\n                <a-button v-if=\"type != 3\" type=\"primary\">\r\n                  <template #icon>\r\n                    <PlusOutlined />\r\n                  </template>\r\n                  <span>{{ t('btn_add_content') }}</span>\r\n                </a-button>\r\n              </a-dropdown>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <page-alert style=\"margin-bottom: 16px\" :title=\"t('title_usage_instructions')\" v-if=\"libraryInfo.type == 0 && viewMode==='list'\">\r\n          <div>\r\n            <p>{{ t('msg_usage_1') }}</p>\r\n            <p>{{ t('msg_usage_2') }}</p>\r\n          </div>\r\n        </page-alert>\r\n        <!-- 文件夹视图 -->\r\n        <div class=\"folder-view\" v-if=\"viewMode==='folder'\">\r\n          <div class=\"empty-folder\" v-if=\"inFolderDetail && folderItems.length === 0\">\r\n            <div class=\"empty-inner\">\r\n              <img :src=\"emptyDocumentIcon\" alt=\"\" class=\"empty-img\" />\r\n              <div class=\"empty-text\">{{ t('empty_no_doc') }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"folder-grid\" v-else>\r\n            <div\r\n              v-for=\"item in folderItems\"\r\n              :key=\"`${item.__type}-${item.id}`\"\r\n              class=\"folder-card\"\r\n              :class=\"[`card-${item.__type}`]\"\r\n              @click=\"onCardClick(item)\"\r\n            >\r\n              <div class=\"folder-thumb\" :class=\"['status-' + (item.cover_status || 'success')]\">\r\n                <template v-if=\"item.__type === 'group'\">\r\n                  <svg-icon name=\"group-icon\" class=\"folder-type-icon\"></svg-icon>\r\n                </template>\r\n                <template v-else>\r\n                  <img v-if=\"item.cover_src\" :src=\"item.cover_src\" alt=\"\" class=\"thumb-img\" />\r\n                  <img class=\"thumb-img\" v-else src=\"@/assets/img/default-bg.png\">\r\n                  <div class=\"status-badge\" v-if=\"item.status_label && item.cover_status !== 'success'\">\r\n                    <a-tooltip v-if=\"item.cover_status === 'error' && item.origin.errmsg && item.origin.errmsg != 'success'\">\r\n                      <template #title>\r\n                        <span>{{ item.origin.errmsg }}</span>\r\n                      </template>\r\n                      <svg-icon style=\"color: rgba(0, 0, 0, 0.4); font-size: 16px; vertical-align: sub;\" name=\"tip-icon-two\"></svg-icon>\r\n                      {{ item.status_label }}\r\n                    </a-tooltip>\r\n                    <svg-icon v-if=\"item.cover_status === 'error' && !item.origin.errmsg\" style=\"color: rgba(0, 0, 0, 0.4); font-size: 16px; vertical-align: sub;\" name=\"tip-icon-two\"></svg-icon>\r\n                    <svg-icon v-if=\"item.cover_status === 'wait'\" style=\"color: rgba(0, 0, 0, 0.4); font-size: 16px; vertical-align: sub;\" name=\"time-default-icon\"></svg-icon>\r\n                    <span v-if=\"item.origin.errmsg == 'success' && item.cover_status === 'loading' && getLearnPercent(item.origin) !== null\" class=\"learn-percent\">{{ getLearnPercent(item.origin) }}%</span>\r\n                    <span v-if=\"!item.origin.errmsg || item.origin.errmsg == 'success'\" style=\"margin-left: 2px;\">{{ item.status_label }}</span>\r\n                  </div>\r\n                </template>\r\n              </div>\r\n              <div class=\"folder-meta\">\r\n                <template v-if=\"item.__type === 'group'\">\r\n                  <div class=\"name zm-line1\">{{ item.group_name }}</div>\r\n                </template>\r\n                <template v-else>\r\n                  <a-popover :title=\"null\" v-if=\"item.origin.doc_type == 2\">\r\n                    <template #content>\r\n                      {{ t('tooltip_original_link') }}<a :href=\"item.origin.doc_url\" target=\"_blank\">{{ item.origin.doc_url }} </a>\r\n                      <CopyOutlined v-copy=\"`${item.origin.doc_url}`\" style=\"margin-left: 4px; cursor: pointer\" />\r\n                    </template>\r\n                    <div class=\"name name-2line\">\r\n                      {{ item.title }}\r\n                    </div>\r\n                  </a-popover>\r\n                  <div class=\"name name-2line\" v-else>{{ item.title }}</div>\r\n                </template>\r\n                <div class=\"desc\">\r\n                  <template v-if=\"item.__type === 'group'\">\r\n                    <span>{{ item.total || '0' }}{{ t('label_knowledge_base_count') }}</span>\r\n                    <span>{{ formatCardTime(item.last_update_ts) }}</span>\r\n                  </template>\r\n                  <template v-else>\r\n                    <span class=\"file-ext\">\r\n                      <svg-icon\r\n                        :name=\"['docx','excel','html','pdf','txt','xlsx','ofd','csv','md'].some(t => String(item.origin.file_ext || '').includes(t)) ? item.origin.file_ext : 'file_ext'\"\r\n                        class=\"file-icon\"\r\n                      />\r\n                      {{ item.origin.file_ext || '--' }}\r\n                    </span>\r\n                    <span>{{ formatCardTime(item.update_ts) }}</span>\r\n                  </template>\r\n                </div>\r\n              </div>\r\n              <a-dropdown v-if=\"item.__type === 'group' && item.id > 0\">\r\n                <div class=\"card-more\" @click.stop>\r\n                  <EllipsisOutlined />\r\n                </div>\r\n                <template #overlay>\r\n                  <a-menu>\r\n                    <a-menu-item @click=\"openGroupModal({ id: item.id, group_name: item.group_name })\">\r\n                      <a-flex :gap=\"8\" align=\"center\"><svg-icon name=\"edit\"></svg-icon><div>{{ t('btn_rename') }}</div></a-flex>\r\n                    </a-menu-item>\r\n                    <a-menu-item @click=\"handleDelGroup({ id: item.id, group_name: item.group_name })\">\r\n                      <a-flex :gap=\"8\" align=\"center\"><svg-icon name=\"delete\"></svg-icon><div>{{ t('btn_delete') }}</div></a-flex>\r\n                    </a-menu-item>\r\n                  </a-menu>\r\n                </template>\r\n              </a-dropdown>\r\n              <a-dropdown v-if=\"item.__type === 'file'\">\r\n                <div class=\"card-more\" @click.stop>\r\n                  <EllipsisOutlined />\r\n                </div>\r\n                <template #overlay>\r\n                  <a-menu>\r\n                    <a-menu-item @click=\"showBaseData(item.origin)\">\r\n                      <a-flex :gap=\"8\" align=\"center\"><svg-icon name=\"base-data-icon\"></svg-icon><div>{{ t('btn_base_data') }}</div></a-flex>\r\n                    </a-menu-item>\r\n                    <a-menu-item @click=\"handlePreview(item.origin)\">\r\n                      <a-flex :gap=\"8\" align=\"center\"><svg-icon name=\"preview-icon\"></svg-icon><div>{{ t('btn_preview') }}</div></a-flex>\r\n                    </a-menu-item>\r\n                    <a-menu-item @click=\"toReSegmentationPage(item.origin)\">\r\n                      <a-flex :gap=\"8\" align=\"center\"><SyncOutlined class=\"action-icon\" /><div>{{ t('btn_re_segment') }}</div></a-flex>\r\n                    </a-menu-item>\r\n                    <a-menu-item @click=\"handleOpenRenameModal(item.origin)\">\r\n                      <a-flex :gap=\"8\" align=\"center\"><svg-icon name=\"edit\"></svg-icon><div>{{ t('btn_rename') }}</div></a-flex>\r\n                    </a-menu-item>\r\n                    <a-menu-item @click=\"openEditGroupModal(item.origin)\">\r\n                      <a-flex :gap=\"8\" align=\"center\"><svg-icon name=\"group-default-icon\"></svg-icon><div>{{ t('btn_edit_group') }}</div></a-flex>\r\n                    </a-menu-item>\r\n                    <a-menu-item @click=\"handleDownload(item.origin)\">\r\n                      <a-flex :gap=\"8\" align=\"center\"><svg-icon name=\"down-file\"></svg-icon><div>{{ t('btn_download_doc') }}</div></a-flex>\r\n                    </a-menu-item>\r\n                    <a-popconfirm :title=\"t('confirm_delete')\" placement=\"topRight\" trigger=\"click\" @confirm=\"onDelete(item.origin)\">\r\n                      <a-menu-item>\r\n                        <a-flex :gap=\"8\" align=\"center\"><svg-icon name=\"delete\"></svg-icon><div>{{ t('btn_delete') }}</div></a-flex>\r\n                      </a-menu-item>\r\n                    </a-popconfirm>\r\n                  </a-menu>\r\n                </template>\r\n              </a-dropdown>\r\n            </div>\r\n            <div ref=\"folderScrollSentinel\" class=\"scroll-sentinel\"></div>\r\n          </div>\r\n          <BaseDataDrawer\r\n            v-model:open=\"baseDataOpen\"\r\n            :record=\"baseDataRecord\"\r\n            @close=\"baseDataOpen=false\"\r\n            @editOnline=\"handleEditOnlineDoc\"\r\n          />\r\n        </div>\r\n        <!-- 列表视图 -->\r\n        <div class=\"list-content\" v-else>\r\n          <a-table\r\n            @resizeColumn=\"handleResizeColumn\"\r\n            :columns=\"columns\"\r\n            :data-source=\"fileList\"\r\n            :scroll=\"{ x: 1000 }\"\r\n            row-key=\"id\"\r\n            :pagination=\"{\r\n              current: queryParams.page,\r\n              total: queryParams.total,\r\n              pageSize: queryParams.size,\r\n              showQuickJumper: true,\r\n              showSizeChanger: true,\r\n              pageSizeOptions: ['10', '20', '50', '100']\r\n            }\"\r\n            @change=\"onTableChange\"\r\n          >\r\n            <template #headerCell=\"{column}\">\r\n              <template v-if=\"column.key.indexOf('meta_') > -1\">\r\n                <a-tooltip :title=\"column.title?.length > 8 ? column.title : ''\">\r\n                  <div class=\"zm-line1\">{{column.title}}</div>\r\n                </a-tooltip>\r\n              </template>\r\n              <template v-else-if=\"column.key === 'file_name'\">\r\n                {{ t('col_doc_name_total', { total: queryParams.total || 0 }) }}\r\n              </template>\r\n              <template v-else-if=\"column.key === 'graph_entity_count'\">\r\n                <div class=\"title-box\">\r\n                  <div class=\"zm-line1\">{{ t('col_entity_count') }}</div>\r\n                  <a-tooltip :title=\"t('tooltip_entity_count')\">\r\n                    <QuestionCircleOutlined />\r\n                  </a-tooltip>\r\n                </div>\r\n              </template>\r\n            </template>\r\n            <template #bodyCell=\"{ column, record }\">\r\n              <template v-if=\"column.key === 'file_name'\">\r\n                <div class=\"doc-name-td\">\r\n                  <!-- 根据file_ext显示图标 -->\r\n                  <a-tooltip :title=\"`.${record.file_ext}`\">\r\n                    <svg-icon\r\n                      :name=\"['docx','excel','html','pdf','txt','xlsx','ofd','csv','md'].some(t => String(record.file_ext || '').includes(t)) ? record.file_ext : 'file_ext'\"\r\n                      class=\"file-icon\"\r\n                    />\r\n                  </a-tooltip>\r\n                  <a-popover :title=\"null\" v-if=\"record.doc_type == 2\">\r\n                    <template #content>\r\n                      {{ t('tooltip_original_link') }}<a :href=\"record.doc_url\" target=\"_blank\">{{ record.doc_url }} </a>\r\n                      <CopyOutlined\r\n                        v-copy=\"`${record.doc_url}`\"\r\n                        style=\"margin-left: 4px; cursor: pointer\"\r\n                      />\r\n                    </template>\r\n                    <a @click=\"handlePreview(record, { open_new: true })\">\r\n                      <a-tooltip :title=\"getTooltipTitle((['5','6','7'].includes(record.status) ? record.doc_url : record.file_name), record, 14, 2, 12)\" placement=\"top\">\r\n                        <span class=\"doc-name-text\" :ref=\"el => setDescRef(el, record)\">\r\n                          <span v-if=\"['5', '6', '7'].includes(record.status)\">{{ record.doc_url }}</span>\r\n                          <span v-else>{{ record.file_name }}</span>\r\n                        </span>\r\n                      </a-tooltip>\r\n                    </a>\r\n                  </a-popover>\r\n                  <a @click=\"handlePreview(record, { open_new: true })\" v-else>\r\n                    <a-tooltip :title=\"getTooltipTitle((['5','6','7'].includes(record.status) ? record.doc_url : record.file_name), record, 14, 2, 12)\" placement=\"top\">\r\n                      <span class=\"doc-name-text\" :ref=\"el => setDescRef(el, record)\">\r\n                        <span v-if=\"['5', '6', '7'].includes(record.status)\">{{ record.doc_url }}</span>\r\n                        <span v-else>{{ record.file_name }}</span>\r\n                      </span>\r\n                    </a-tooltip>\r\n                  </a>\r\n                  <div v-if=\"record.doc_type == 2 && record.remark\" class=\"url-remark\">\r\n                    {{ t('label_remark') }}{{ record.remark }}\r\n                  </div>\r\n                </div>\r\n              </template>\r\n              <template v-if=\"column.key === 'graph_entity_count'\">\r\n                <a @click=\"toGraph(record)\">{{ record.graph_entity_count }}</a>\r\n              </template>\r\n              <!-- 状态 -->\r\n              <!-- <template v-if=\"column.key === 'status'\">\r\n                <div class=\"status-icon-row\">\r\n                  {{ record.status }}\r\n                  <a-tooltip title=\"学习完成\" v-if=\"record.status == 2\">\r\n                    <svg-icon name=\"accomplish-icon\" class=\"status-icon\" />\r\n                  </a-tooltip>\r\n                  <a-tooltip title=\"学习失败\" v-if=\"[3, 7, 8].includes(Number(record.status))\">\r\n                    <svg-icon\r\n                      name=\"fail-icon\"\r\n                      class=\"status-icon\"\r\n                    />\r\n                  </a-tooltip>\r\n                  <a-tooltip title=\"转换中\" v-if=\"record.status == 0\">\r\n                    <svg-icon name=\"time-icon\" class=\"status-icon\" />\r\n                  </a-tooltip>\r\n                </div>\r\n              </template> -->\r\n              <template v-if=\"column.key === 'status'\">\r\n                <template v-if=\"record.file_ext == 'pdf' && record.pdf_parse_type >= 2\">\r\n                  <div class=\"pdf-progress-box\" v-if=\"record.status == 0\">\r\n                    <div class=\"progress-title\">\r\n                      <span class=\"status-box\"><LoadingOutlined />{{ t('status_parsing') }}</span>\r\n                      <a @click=\"handleCancelOcrPdf(record)\">{{ t('btn_cancel') }}</a>\r\n                    </div>\r\n                    <div class=\"progress-bar\">\r\n                      <a-progress\r\n                        size=\"small\"\r\n                        class=\"progress-bar-box\"\r\n                        :percent=\"parseInt((record.ocr_pdf_index / record.ocr_pdf_total) * 100)\"\r\n                        :show-info=\"false\"\r\n                      />\r\n                      <div class=\"num-box\">\r\n                        {{ record.ocr_pdf_index }} / {{ record.ocr_pdf_total }}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </template>\r\n                <template v-else>\r\n                  <span class=\"status-tag running\" v-if=\"record.status == 0\"\r\n                    ><a-spin size=\"small\" /> {{ t('status_converting') }}</span\r\n                  >\r\n                </template>\r\n\r\n                <span class=\"status-tag running\" v-if=\"record.status == 1\"\r\n                  ><a-spin size=\"small\" /> {{ t('status_learning') }}</span\r\n                  >\r\n\r\n                <span class=\"status-tag complete\" v-if=\"record.status == 2\"\r\n                  ><CheckCircleFilled /> {{ t('status_learn_complete') }}</span\r\n                >\r\n\r\n                <a-tooltip placement=\"top\" v-if=\"record.status == 3\">\r\n                  <template #title>\r\n                    <span>{{ record.errmsg }}</span>\r\n                  </template>\r\n                  <span>\r\n                    <span class=\"status-tag status-error\"><CloseCircleFilled /> {{ t('status_convert_failed') }}</span>\r\n                    <a class=\"ml8\" v-if=\"libraryInfo.type == 2\" @click=\"handlePreview(record)\"\r\n                      >{{ t('btn_learn') }}</a\r\n                    >\r\n                  </span>\r\n                </a-tooltip>\r\n                <a-tooltip placement=\"top\" v-if=\"record.status == 8\">\r\n                  <template #title>\r\n                    <span>{{ record.errmsg }}</span>\r\n                  </template>\r\n                  <span>\r\n                    <span class=\"status-tag status-error\"><CloseCircleFilled /> {{ t('status_convert_error') }}</span>\r\n                  </span>\r\n                </a-tooltip>\r\n                <template v-if=\"record.status == 4\">\r\n                  <span class=\"status-tag\"><ClockCircleFilled /> {{ t('status_wait_learn') }}</span>\r\n                  <!-- 产品说去掉这个学习，因为和重新分段走的一样的逻辑 -->\r\n                  <!-- <a class=\"ml8\" @click=\"handlePreview(record)\">{{ t('btn_learn') }}</a> -->\r\n                </template>\r\n                <template v-if=\"record.status == 5\">\r\n                  <span class=\"status-tag\"><ClockCircleFilled /> {{ t('status_wait_fetch') }}</span>\r\n                </template>\r\n                <span class=\"status-tag running\" v-if=\"record.status == 6\"\r\n                  ><a-spin size=\"small\" /> {{ t('status_fetching') }}</span\r\n                >\r\n                <a-tooltip placement=\"top\" v-if=\"record.status == 7\">\r\n                  <template #title>\r\n                    <span>{{ record.errmsg }}</span>\r\n                  </template>\r\n                  <span class=\"status-tag error\"><CloseCircleFilled /> {{ t('status_fetch_failed') }}</span>\r\n                </a-tooltip>\r\n                <template v-if=\"record.status == 9\">\r\n                  <span class=\"status-tag cancel\"><ExclamationCircleOutlined /> {{ t('status_cancel_parse') }}</span>\r\n                </template>\r\n\r\n                <span class=\"status-tag subning\" v-if=\"record.status == 10\">\r\n                  <a-spin size=\"small\" />\r\n                  {{ t('status_segmenting') }}\r\n                </span>\r\n              </template>\r\n              <template v-if=\"column.key === 'graph_status'\">\r\n                <!--0待生成 1排队中 2生成完成 3生成失败 4生成中 5部分成功-->\r\n                <template v-if=\"record.graph_status == 0\">\r\n                  <span class=\"status-tag\"><ClockCircleFilled /> {{ t('status_wait_generate') }}</span>\r\n                  <a class=\"ml8\" @click=\"createGraphTask(record)\">{{ t('btn_generate') }}</a>\r\n                </template>\r\n                <span v-else-if=\"record.graph_status == 1\" class=\"status-tag running\"\r\n                  ><HourglassFilled /> {{ t('status_queueing') }}</span\r\n                >\r\n                <span v-else-if=\"record.graph_status == 2\" class=\"status-tag complete\"\r\n                  ><CheckCircleFilled /> {{ t('status_generate_complete') }}</span\r\n                >\r\n                <template v-else-if=\"record.graph_status == 3\">\r\n                  <span class=\"status-tag error\"><CloseCircleFilled /> {{ t('status_generate_failed') }}</span>\r\n                  <a class=\"ml8\" @click=\"createGraphTask(record)\">{{ t('btn_generate') }}</a>\r\n                  <a-tooltip v-if=\"record.graph_err_msg\" :title=\"record.graph_err_msg\">\r\n                    <div class=\"zm-line1 reason-text\">{{ t('label_reason') }}{{ record.graph_err_msg }}</div>\r\n                  </a-tooltip>\r\n                </template>\r\n                <span v-else-if=\"record.graph_status == 4\" class=\"status-tag running\"\r\n                  ><a-spin size=\"small\" /> {{ t('status_generating') }}</span\r\n                >\r\n                <template v-else-if=\"record.graph_status == 5\">\r\n                  <span class=\"status-tag warning\"><CheckCircleFilled /> {{ t('status_partial_success') }}</span>\r\n                  <div class=\"reason-text\">\r\n                    {{ t('label_fail_count') }}{{ record.graph_err_count || 0 }}\r\n                    <a class=\"ml8\" @click=\"handlePreview(record, { graph_status: 3 })\">{{ t('btn_details') }}</a>\r\n                  </div>\r\n                </template>\r\n              </template>\r\n              <template v-if=\"column.key === 'file_size'\">\r\n                <span>\r\n                  {{ record.doc_type == 3 ? '-' : record.file_size_str }}\r\n                  /\r\n                  {{ record.status == 0 || record.status == 1 ? '-' : record.paragraph_count }}\r\n                </span>\r\n              </template>\r\n              <template v-if=\"column.key === 'update_info'\">\r\n                <div class=\"text-block\">\r\n                  <span class=\"time-content-box\">\r\n                    {{ formatUpdateShort(record.update_time) }}\r\n                    <a-popover :title=\"null\" placement=\"top\" overlayClassName=\"update-popover\">\r\n                      <template #content>\r\n                        <div class=\"update-tooltip\">\r\n                          <div class=\"update-tooltip-title\">\r\n                            {{ t('label_update_frequency') }}<span class=\"update-tooltip-value\">{{ formatUpdateFrequency(record) }}</span>\r\n                            <div class=\"update-icon-box\">\r\n                              <svg-icon\r\n                                name=\"edit\"\r\n                                class=\"edit-icon\"\r\n                              @click.stop=\"handleEditOnlineDoc(record, true)\"\r\n                              ></svg-icon>\r\n                            </div>\r\n                          </div>\r\n                          <div class=\"update-tooltip-time\">\r\n                            {{ t('label_update_time') }}<span class=\"update-tooltip-value\">{{ record.update_time }}</span>\r\n                            <a-popconfirm :title=\"t('confirm_update')\" @confirm=\"handleUpdataDoc(record)\">\r\n                              <a class=\"ml4 btn-hover-block\">{{ t('btn_update') }}</a>\r\n                            </a-popconfirm>\r\n                          </div>\r\n                        </div>\r\n                      </template>\r\n                      <span class=\"update-trigger-text\">\r\n                        <template v-if=\"record.doc_type == 2 && record.doc_auto_renew_frequency\">\r\n                          <span class=\"ml4\">/</span>\r\n                          <svg-icon\r\n                            class=\"update-icon\"\r\n                            :name=\"record.doc_auto_renew_frequency == 1 ? 'forbid-update-icon' : 'update-icon'\"\r\n                          ></svg-icon>\r\n                        </template>\r\n                      </span>\r\n                    </a-popover>\r\n                  </span>\r\n                </div>\r\n              </template>\r\n              <template v-if=\"column.key === 'action'\">\r\n                <a-flex :gap=\"8\">\r\n                  <a-tooltip>\r\n                    <template #title>{{ t('tooltip_re_segment') }}</template>\r\n                    <SyncOutlined class=\"btn-hover-block\" @click=\"toReSegmentationPage(record)\" />\r\n                  </a-tooltip>\r\n                  <a-dropdown>\r\n                    <div class=\"table-btn\" @click.prevent>\r\n                      <MoreOutlined class=\"btn-hover-block\" />\r\n                    </div>\r\n                    <template #overlay>\r\n                      <a-menu>\r\n                        <a-menu-item v-if=\"record.doc_type == 2\">\r\n                          <div @click=\"handleEditOnlineDoc(record)\">{{ t('btn_edit') }}</div>\r\n                        </a-menu-item>\r\n                        <a-menu-item\r\n                          :disabled=\"record.status == 6 || record.status == 7 || record.status == 0\"\r\n                        >\r\n                          <div @click=\"handlePreview(record)\">{{ t('btn_preview') }}</div>\r\n                        </a-menu-item>\r\n                        <a-menu-item @click=\"handleOpenRenameModal(record)\">\r\n                          <div>{{ t('btn_rename') }}</div>\r\n                        </a-menu-item>\r\n                        <a-popconfirm :title=\"t('confirm_delete')\" @confirm=\"onDelete(record)\" placement=\"topRight\">\r\n                          <a-menu-item>\r\n                            <span>{{ t('btn_delete') }}</span>\r\n                          </a-menu-item>\r\n                        </a-popconfirm>\r\n                        <a-menu-item @click=\"openEditGroupModal(record)\">\r\n                          <div>{{ t('btn_edit_group') }}</div>\r\n                        </a-menu-item>\r\n                        <a-menu-item @click=\"handleDownload(record)\">\r\n                          <div>{{ t('btn_download_doc') }}</div>\r\n                        </a-menu-item>\r\n                      </a-menu>\r\n                    </template>\r\n                  </a-dropdown>\r\n                </a-flex>\r\n              </template>\r\n              <template v-if=\"column.key.indexOf('meta_') > -1 && record[column.key]\">\r\n                <a-tooltip :title=\"record[column.key].length > 8 ? record[column.key] : ''\">\r\n                  <div class=\"zm-line1\">{{record[column.key]}}</div>\r\n                </a-tooltip>\r\n              </template>\r\n            </template>\r\n          </a-table>\r\n        </div>\r\n      </cu-scroll>\r\n    </div>\r\n\r\n    <a-modal\r\n      v-model:open=\"addFileState.open\"\r\n      :confirm-loading=\"addFileState.confirmLoading\"\r\n      :maskClosable=\"false\"\r\n      :title=\"t('title_upload_doc')\"\r\n      @ok=\"handleSaveFiles\"\r\n      @cancel=\"handleCloseFileUploadModal\"\r\n      width=\"740px\"\r\n    >\r\n      <a-form class=\"mt24\">\r\n        <a-form-item required label=\"\">\r\n          <div class=\"upload-file-box\">\r\n            <UploadFilesInput\r\n              :type=\"libraryInfo.type\"\r\n              :maxCount=\"20\"\r\n              v-model:value=\"addFileState.fileList\"\r\n              @change=\"onFilesChange\"\r\n            />\r\n          </div>\r\n        </a-form-item>\r\n        <a-form-item v-if=\"existPdfFile\" required :label=\"t('label_pdf_parse_mode')\" class=\"select-card-main\">\r\n          <div class=\"select-card-box\">\r\n            <div\r\n              v-for=\"item in PDF_PARSE_MODE\"\r\n              :key=\"item.key\"\r\n              :class=\"[\r\n                'select-card-item',\r\n                { active: addFileState.pdf_parse_type == item.key },\r\n                { disabled: item.key == 4 && !ali_ocr_switch }\r\n              ]\"\r\n              @click.stop=\"pdfParseTypeChange(item)\"\r\n            >\r\n              <svg-icon class=\"check-arrow\" name=\"check-arrow-filled\"></svg-icon>\r\n              <div class=\"card-title\">\r\n                <svg-icon :name=\"item.icon\" style=\"font-size: 16px\"></svg-icon>\r\n                {{ item.title }}\r\n                <div class=\"card-switch-box\" v-if=\"item.key == 4 && !ali_ocr_switch\">{{ t('label_not_enabled') }}</div>\r\n              </div>\r\n              <div class=\"card-desc\">{{ item.desc }}</div>\r\n              <div class=\"card-switch\" v-if=\"item.key == 4 && !ali_ocr_switch\">\r\n                {{ t('msg_ali_ocr_not_enabled') }}\r\n                <div class=\"card-switch-btn\" @click.stop=\"onGoSwitch\">{{ t('btn_go_enable') }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n    <QaUploadModal @ok=\"getData\" ref=\"qaUploadModalRef\" />\r\n    <a-modal\r\n      v-model:open=\"addUrlState.open\"\r\n      :confirm-loading=\"addUrlState.confirmLoading\"\r\n      :maskClosable=\"false\"\r\n      :title=\"t('title_add_online_data')\"\r\n      width=\"746px\"\r\n      @ok=\"handleSaveUrl\"\r\n      @cancel=\"handleCloseUrlModal\"\r\n    >\r\n      <a-form\r\n        class=\"url-add-form\"\r\n        layout=\"vertical\"\r\n        ref=\"urlFormRef\"\r\n        :model=\"addUrlState\"\r\n        :rules=\"addUrlState.rules\"\r\n      >\r\n        <a-form-item name=\"urls\" :label=\"t('label_web_link')\">\r\n          <a-textarea\r\n            style=\"height: 120px\"\r\n            v-model:value=\"addUrlState.urls\"\r\n            :placeholder=\"t('ph_web_link')\"\r\n          />\r\n        </a-form-item>\r\n        <a-form-item name=\"doc_auto_renew_frequency\" :label=\"t('label_update_frequency')\" required>\r\n          <a-select v-model:value=\"addUrlState.doc_auto_renew_frequency\" style=\"width: 100%\">\r\n            <a-select-option :value=\"1\">{{ t('update_freq_never') }}</a-select-option>\r\n            <a-select-option :value=\"2\">{{ t('update_freq_daily') }}</a-select-option>\r\n            <a-select-option :value=\"3\">{{ t('update_freq_3days') }}</a-select-option>\r\n            <a-select-option :value=\"4\">{{ t('update_freq_7days') }}</a-select-option>\r\n            <a-select-option :value=\"5\">{{ t('update_freq_30days') }}</a-select-option>\r\n          </a-select>\r\n        </a-form-item>\r\n        <a-form-item\r\n          v-if=\"addUrlState.doc_auto_renew_frequency > 1\"\r\n          name=\"doc_auto_renew_minute\"\r\n          :label=\"t('label_update_time')\"\r\n        >\r\n          <a-time-picker\r\n            valueFormat=\"HH:mm\"\r\n            v-model:value=\"addUrlState.doc_auto_renew_minute\"\r\n            format=\"HH:mm\"\r\n          />\r\n        </a-form-item>\r\n      </a-form>\r\n    </a-modal>\r\n    <AddCustomDocument\r\n      :libraryInfo=\"libraryInfo\"\r\n      :group_id=\"groupId\"\r\n      @ok=\"onSearch\"\r\n      ref=\"addCustomDocumentRef\"\r\n    ></AddCustomDocument>\r\n    <RenameModal @ok=\"onSearch\" ref=\"renameModalRef\" />\r\n    <OpenGrapgModal @ok=\"handleOpenGrapgOk\" ref=\"openGrapgModalRef\" />\r\n    <GuideLearningTips ref=\"guideLearningTipsRef\" />\r\n    <EditOnlineDoc @ok=\"getData\" ref=\"editOnlineDocRef\" />\r\n    <AddGroup group_type=\"1\" ref=\"addGroupRef\" @ok=\"initData\" />\r\n    <EditGroup :libraryId=\"libraryId\" :sense=\"1\" ref=\"editGroupRef\" @ok=\"initData\" />\r\n    <AddFeishuDocument ref=\"feishuRef\" :libraryId=\"libraryId\" @ok=\"initData\"/>\r\n    <MetadataManageModal ref=\"metaRef\" :library-id=\"libraryId\" @change=\"initData\"/>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useStorage } from '@/hooks/web/useStorage'\r\nimport { useI18n } from '@/hooks/web/useI18n'\r\nimport { reactive, ref, toRaw, onUnmounted, onMounted, computed, createVNode, nextTick } from 'vue'\r\nimport { message, Modal } from 'ant-design-vue'\r\nimport { useRoute, useRouter } from 'vue-router'\r\nimport {\r\n  PlusOutlined,\r\n  SearchOutlined,\r\n  CheckCircleFilled,\r\n  CloseCircleFilled,\r\n  ClockCircleFilled,\r\n  MoreOutlined,\r\n  HourglassFilled,\r\n  ExclamationCircleOutlined,\r\n  SyncOutlined,\r\n  CopyOutlined,\r\n  EllipsisOutlined,\r\n  LoadingOutlined,\r\n  DownOutlined,\r\n  SettingOutlined,\r\n  QuestionCircleOutlined\r\n} from '@ant-design/icons-vue'\r\nimport dayjs from 'dayjs'\r\nimport {\r\n  getLibraryFileList,\r\n  delLibraryFile,\r\n  addLibraryFile,\r\n  editLibrary,\r\n  createGraph,\r\n  manualCrawl,\r\n  cancelOcrPdf,\r\n  getLibraryGroup,\r\n  deleteLibraryGroup,\r\n  sortLibararyListGroup\r\n} from '@/api/library'\r\nimport { formatFileSize, setDescRef, getTooltipTitle } from '@/utils/index'\r\nimport UploadFilesInput from '../add-library/components/upload-input.vue'\r\nimport { transformUrlData } from '@/utils/validate.js'\r\nimport AddCustomDocument from './components/add-custom-document.vue'\r\nimport ModelSelect from '@/components/model-select/model-select.vue'\r\nimport OpenGrapgModal from '@/views/library/library-details/components/open-grapg-modal.vue'\r\nimport QaUploadModal from './components/qa-upload-modal.vue'\r\nimport RenameModal from './components/rename-modal.vue'\r\nimport PageAlert from '@/components/page-alert/page-alert.vue'\r\nimport GuideLearningTips from './components/guide-learning-tips.vue'\r\nimport EditOnlineDoc from './components/edit-online-doc.vue'\r\nimport BaseDataDrawer from './components/base-data-drawer.vue'\r\nimport { useUserStore } from '@/stores/modules/user'\r\nimport defaultCover from '@/assets/img/default-bg.png'\r\nimport emptyDocumentIcon from '@/assets/svg/empty-document.svg'\r\nimport { useLibraryStore } from '@/stores/modules/library'\r\nimport { convertTime } from '@/utils/index'\r\nimport { useCompanyStore } from '@/stores/modules/company'\r\nimport AddGroup from './qa-knowledge-document/components/add-group.vue'\r\nimport EditGroup from './qa-knowledge-document/components/edit-group.vue'\r\nimport Draggable from 'vuedraggable'\r\nimport AddFeishuDocument from \"./components/add-feishu-document.vue\";\r\nimport MetadataManageModal from \"@/views/library/library-details/components/metadata-manage-modal.vue\";\r\n\r\nconst { setStorage } = useStorage('localStorage')\r\nconst { t } = useI18n('views.library.library-details.knowledge-document')\r\n\r\nconst libraryStore = useLibraryStore()\r\nconst { changeGraphSwitch } = libraryStore\r\n\r\nconst companyStore = useCompanyStore()\r\nconst neo4j_status = computed(() => {\r\n  return companyStore.companyInfo?.neo4j_status == 'true'\r\n})\r\nconst ali_ocr_switch = computed(() => {\r\n  return companyStore.companyInfo?.ali_ocr_switch == '1'\r\n})\r\n\r\nconst props = defineProps({\r\n  type: {\r\n    type: [Number, String],\r\n    default: () => 2\r\n  },\r\n  library_id: {\r\n    type: [Number, String],\r\n    default: () => ''\r\n  }\r\n})\r\n\r\nconst libraryId = computed(() => {\r\n  return props.library_id || query.id\r\n})\r\n\r\nconst isHiddenGroup = ref(localStorage.getItem('document_group_hide_key') == 1)\r\n\r\nconst groupSearchKey = ref('')\r\nconst groupLists = ref([])\r\nconst groupId = ref(-1)\r\n\r\nconst currentGroupItem = computed(() => {\r\n  return groupLists.value.find((item) => item.id == groupId.value) || {}\r\n})\r\n\r\nconst filterGroupLists = computed(() => {\r\n  return groupLists.value.filter((item) => item.group_name.includes(groupSearchKey.value))\r\n})\r\n\r\nconst userStore = useUserStore()\r\nconst sourceTypeMap = {\r\n  1: t('menu_local_doc'),\r\n  2: t('menu_online_data'),\r\n  3: t('menu_custom_doc'),\r\n  4: t('source_manual_qa'),\r\n  5: t('source_import_qa'),\r\n  6: t('source_import_fs')\r\n}\r\nconst PDF_PARSE_MODE = [\r\n  {\r\n    key: 2,\r\n    title: t('pdf_mode_ocr_title'),\r\n    icon: 'pdf-ocr',\r\n    desc: t('pdf_mode_ocr_desc')\r\n  },\r\n  {\r\n    key: 1,\r\n    title: t('pdf_mode_text_title'),\r\n    icon: 'pdf-text',\r\n    desc: t('pdf_mode_text_desc')\r\n  },\r\n  {\r\n    key: 3,\r\n    title: t('pdf_mode_img_title'),\r\n    icon: 'pdf-img',\r\n    desc: t('pdf_mode_img_desc')\r\n  },\r\n  {\r\n    key: 4,\r\n    title: t('pdf_mode_ali_title'),\r\n    icon: 'ali-ocr',\r\n    desc: t('pdf_mode_ali_desc')\r\n  }\r\n]\r\nconst rotue = useRoute()\r\nconst router = useRouter()\r\nconst query = rotue.query\r\n\r\nconst isLoading = ref(false)\r\nconst guideLearningTipsRef = ref(null)\r\nconst openGrapgModalRef = ref(null)\r\nconst feishuRef = ref(null)\r\nconst createGraphSwitch = ref(false)\r\nconst libraryInfo = ref({\r\n  library_intro: '',\r\n  library_name: '',\r\n  use_model: '',\r\n  is_offline: null,\r\n  type: 0\r\n})\r\nconst state = reactive({\r\n  selectedRowKeys: []\r\n})\r\n\r\nconst modelForm = reactive({\r\n  use_model: '',\r\n  model_config_id: ''\r\n})\r\n\r\nconst onChangeModel = (val, option) => {\r\n  let new_use_model = option.modelName\r\n  let new_model_config_id = option.modelId\r\n\r\n  if (fileList.value.length > 0) {\r\n    Modal.confirm({\r\n      title: t('confirm_switch_model_title', { model: new_use_model }),\r\n      content: t('confirm_switch_model_content'),\r\n      onOk() {\r\n        modelForm.use_model = new_use_model\r\n        modelForm.model_config_id = new_model_config_id\r\n        saveLibraryConfig()\r\n      },\r\n      onCancel() {}\r\n    })\r\n  } else {\r\n    modelForm.use_model = new_use_model\r\n    modelForm.model_config_id = new_model_config_id\r\n    saveLibraryConfig()\r\n  }\r\n}\r\n\r\nconst saveLibraryConfig = (showSuccessTip = true, callback = null) => {\r\n  editLibrary({\r\n    ...toRaw(libraryInfo.value),\r\n    use_model: modelForm.use_model,\r\n    model_config_id: modelForm.model_config_id\r\n  }).then(() => {\r\n    libraryInfo.value.use_model = modelForm.use_model\r\n    libraryInfo.value.model_config_id = modelForm.model_config_id\r\n\r\n    typeof callback === 'function' && callback()\r\n    if (showSuccessTip) {\r\n      message.success(t('msg_save_success'))\r\n    }\r\n  })\r\n}\r\n\r\nconst vectorModelList = ref([])\r\n\r\nconst onVectorModelLoaded = (list) => {\r\n  vectorModelList.value = list\r\n}\r\n\r\nconst vectorModelTextList = ref([])\r\n\r\nconst onVectorTextModelLoaded = (list) => {\r\n  vectorModelTextList.value = list\r\n\r\n  setDefaultModel()\r\n}\r\n\r\nconst setDefaultModel = () => {\r\n  // 防止没有数据时，切换模型报错\r\n  if (!libraryInfo.value.id) {\r\n    setTimeout(() => {\r\n      setDefaultModel()\r\n    }, 100)\r\n\r\n    return\r\n  }\r\n\r\n  if (vectorModelTextList.value.length > 0 && !libraryInfo.value.use_model) {\r\n    // 遍历查找chatwiki模型\r\n    let modelConfig = null\r\n    let model = null\r\n\r\n    for (let item of vectorModelTextList.value) {\r\n      if (item.model_define === 'chatwiki') {\r\n        modelConfig = item\r\n        for (let child of modelConfig.children) {\r\n          if (child.name === 'text-embedding-v2') {\r\n            model = child\r\n            break\r\n          }\r\n        }\r\n        break\r\n      }\r\n    }\r\n\r\n    if (!modelConfig) {\r\n      modelConfig = vectorModelTextList.value[0]\r\n      model = modelConfig.children[0]\r\n    }\r\n\r\n    if (modelConfig) {\r\n      modelForm.use_model = model.name\r\n      modelForm.model_config_id = model.model_config_id\r\n\r\n      saveLibraryConfig(false)\r\n    }\r\n  }\r\n}\r\n\r\nconst fileList = ref([])\r\n\r\nconst viewMode = ref('list')\r\nconst sortBtnRef = ref(null)\r\n\r\nfunction switchToFolderView() {\r\n  viewMode.value = 'folder'\r\n  localStorage.setItem(getViewModeStorageKey(), 'folder')\r\n  // 重置查询参数与状态\r\n  groupId.value = -1\r\n  inFolderDetail.value = false\r\n  queryParams.page = 1\r\n  queryParams.size = 50\r\n  queryParams.file_name = undefined\r\n  queryParams.status = ''\r\n  queryParams.sort_field = ''\r\n  queryParams.sort_type = ''\r\n  folderSort.order_field = ''\r\n  folderSort.order_type = 'DESC'\r\n  state.selectedRowKeys = []\r\n  sortOpen.value = false\r\n  if (!isHiddenGroup.value) {\r\n    handleChangeHideStatus()\r\n  }\r\n  onSearch()\r\n}\r\nfunction switchToListView() {\r\n  viewMode.value = 'list'\r\n  localStorage.setItem(getViewModeStorageKey(), 'list')\r\n  queryParams.size = 10\r\n  // 重置查询参数与状态\r\n  groupId.value = -1\r\n  queryParams.page = 1\r\n  queryParams.file_name = undefined\r\n  queryParams.status = ''\r\n  queryParams.sort_field = ''\r\n  queryParams.sort_type = ''\r\n  folderSort.order_field = ''\r\n  folderSort.order_type = 'DESC'\r\n  state.selectedRowKeys = []\r\n  sortOpen.value = false\r\n  if (isHiddenGroup.value) {\r\n    handleChangeHideStatus()\r\n  }\r\n  onSearch()\r\n}\r\nconst sortOpen = ref(false)\r\nconst folderSort = reactive({\r\n  order_field: '',\r\n  order_type: 'DESC'\r\n})\r\nfunction setFolderSort(field) {\r\n  if (field === 'default') {\r\n    folderSort.order_field = ''\r\n    folderSort.order_type = 'DESC'\r\n    queryParams.sort_field = ''\r\n    queryParams.sort_type = ''\r\n  } else {\r\n    folderSort.order_field = field\r\n    folderSort.order_type = 'DESC'\r\n    queryParams.sort_field = field\r\n    queryParams.sort_type = 'DESC'\r\n  }\r\n  queryParams.page = 1\r\n  sortOpen.value = false\r\n  getData()\r\n  getGroupLists()\r\n}\r\nfunction onClickSortIcon() {\r\n  if (!folderSort.order_field) return\r\n  folderSort.order_type = folderSort.order_type === 'DESC' ? 'ASC' : 'DESC'\r\n  queryParams.sort_type = folderSort.order_type\r\n  queryParams.page = 1\r\n  getData()\r\n}\r\nfunction toggleSortDropdown() {\r\n  sortOpen.value = !sortOpen.value\r\n}\r\nfunction getStatusClass(item) {\r\n  const s = Number(item?.status ?? -1)\r\n  if ([0, 1, 5, 6, 10].includes(s)) return 'loading'\r\n  if ([4].includes(s)) return 'wait'\r\n  if ([3, 7, 8, 9].includes(s)) return 'error'\r\n  return 'success'\r\n}\r\nconst learnProgressTicker = ref(0)\r\nlet learnProgressTimer = null\r\nconst learnStartTS = {}\r\nfunction getLearnPercent(origin) {\r\n  try {\r\n    const _ = learnProgressTicker.value\r\n    const a = Number(origin?.ocr_pdf_index ?? 0)\r\n    const b = Number(origin?.ocr_pdf_total ?? 0)\r\n    if (b > 0 && a >= 0) {\r\n      return Math.max(0, Math.min(100, parseInt((a / b) * 100)))\r\n    }\r\n    const id = String(origin?.id || '0')\r\n    if (!learnStartTS[id]) learnStartTS[id] = Date.now()\r\n    const elapsedSec = (Date.now() - learnStartTS[id]) / 1000\r\n    const stepPerSec = 20 + (Number(id) % 6) * 5\r\n    const percent = Math.floor(10 + elapsedSec * stepPerSec)\r\n    return Math.max(10, Math.min(95, percent))\r\n  } catch {}\r\n  return null\r\n}\r\n\r\nconst groupCards = computed(() => {\r\n  const lists = groupLists.value || []\r\n  const data = fileList.value || []\r\n  const timeField = props.type == 3 ? 'official_article_update_time' : 'update_time'\r\n  const pickLatest = (items) => {\r\n    if (!items.length) return null\r\n    const ordered = items\r\n      .filter(i => !!i[timeField])\r\n      .sort((a, b) => (String(a[timeField]).localeCompare(String(b[timeField]))))\r\n    return ordered.length ? ordered[ordered.length - 1] : items[items.length - 1]\r\n  }\r\n  return lists.map(g => {\r\n    const items = g.id === -1 ? data : data.filter(d => Number(d.group_id || 0) === Number(g.id))\r\n    const latest = pickLatest(items)\r\n    return {\r\n      id: g.id,\r\n      group_name: g.group_name,\r\n      total: g.total,\r\n      last_update: latest ? latest[timeField] || '' : '',\r\n      last_update_ts: latest && latest[timeField] ? dayjs(latest[timeField]).valueOf() : 0,\r\n      cover_status: latest ? getStatusClass(latest) : 'success',\r\n      cover_src: latest ? getFileCover(latest) : ''\r\n    }\r\n  })\r\n})\r\nconst visibleGroupCards = computed(() => {\r\n  const arr = [...groupCards.value]\r\n  const { order_field, order_type } = folderSort\r\n  if (order_field === 'update_time' || order_field === 'library_num') {\r\n    arr.sort((a, b) => {\r\n      let av = 0\r\n      let bv = 0\r\n      if (order_field === 'update_time') {\r\n        av = a.last_update_ts || 0\r\n        bv = b.last_update_ts || 0\r\n      } else if (order_field === 'library_num') {\r\n        av = Number(a.total || 0)\r\n        bv = Number(b.total || 0)\r\n      }\r\n      return order_type === 'ASC' ? av - bv : bv - av\r\n    })\r\n  }\r\n  return arr\r\n})\r\n\r\nconst folderFiles = computed(() => {\r\n  const data = fileList.value || []\r\n  const timeField = props.type == 3 ? 'official_article_update_time' : 'update_time'\r\n  return data.map(rec => {\r\n    const ts = rec[timeField] ? dayjs(rec[timeField]).valueOf() : 0\r\n    return {\r\n      __type: 'file',\r\n      id: rec.id,\r\n      title: rec.file_name || rec.doc_url || '',\r\n      update_ts: ts,\r\n      cover_src: getFileCover(rec) || '',\r\n      cover_status: getStatusClass(rec),\r\n      status_label: getStatusLabel(rec),\r\n      origin: rec\r\n    }\r\n  })\r\n})\r\n\r\nconst rootUnGroupFiles = computed(() => {\r\n  const data = fileList.value || []\r\n  const timeField = props.type == 3 ? 'official_article_update_time' : 'update_time'\r\n  return data\r\n    .filter(rec => Number(rec.group_id || 0) <= 0)\r\n    .map(rec => {\r\n      const ts = rec[timeField] ? dayjs(rec[timeField]).valueOf() : 0\r\n      return {\r\n        __type: 'file',\r\n        id: rec.id,\r\n        title: rec.file_name || rec.doc_url || '',\r\n        update_ts: ts,\r\n        cover_src: getFileCover(rec) || '',\r\n        cover_status: getStatusClass(rec),\r\n        status_label: getStatusLabel(rec),\r\n        origin: rec\r\n      }\r\n    })\r\n})\r\n\r\nconst folderItems = computed(() => {\r\n  if (!inFolderDetail.value) {\r\n    return [\r\n      ...visibleGroupCards.value.map(g => ({ __type: 'group', ...g })),\r\n      ...rootUnGroupFiles.value\r\n    ]\r\n  }\r\n  return folderFiles.value\r\n})\r\n\r\nfunction onCardClick(item) {\r\n  if (item.__type === 'group') {\r\n    inFolderDetail.value = true\r\n    handleChangeGroup({ id: item.id, group_name: item.group_name, total: item.total })\r\n  } else {\r\n    handlePreview(item.origin)\r\n  }\r\n}\r\n\r\nfunction formatCardTime(ts) {\r\n  if (!ts) return '--'\r\n  const d = dayjs(ts)\r\n  const now = dayjs()\r\n  if (d.isSame(now, 'day')) return d.format('HH:mm:ss')\r\n  if (now.diff(d, 'year') >= 1) return d.format('YYYY/MM/DD')\r\n  return d.format('MM/DD')\r\n}\r\n\r\nfunction getFileCover(rec) {\r\n  const status = getStatusClass(rec)\r\n  const src =\r\n    rec.thumb_path ||\r\n    rec.cover_url ||\r\n    rec.cover ||\r\n    rec.article_cover_url ||\r\n    ''\r\n  if (src) return src\r\n  if (status === 'wait' || status === 'loading' || status === 'error') return defaultCover\r\n  return ''\r\n}\r\n\r\nfunction getStatusLabel(record) {\r\n  const s = Number(record?.status ?? -1)\r\n  if (s === 0) return t('status_converting')\r\n  if (s === 1) return t('status_learning')\r\n  if (s === 2) return t('status_learn_complete')\r\n  if (s === 3) return t('status_convert_failed')\r\n  if (s === 4) return t('status_wait_learn')\r\n  if (s === 5) return t('status_wait_fetch')\r\n  if (s === 6) return t('status_fetching')\r\n  if (s === 7) return t('status_fetch_failed')\r\n  if (s === 8) return t('status_convert_error')\r\n  if (s === 9) return t('status_cancel_parse')\r\n  if (s === 10) return t('status_segmenting')\r\n  return ''\r\n}\r\n\r\nconst baseDataOpen = ref(false)\r\nconst baseDataRecord = ref(null)\r\nfunction showBaseData(rec) {\r\n  baseDataRecord.value = rec\r\n  baseDataOpen.value = true\r\n}\r\n\r\nfunction formatUpdateShort(timeStr) {\r\n  if (!timeStr) return '--'\r\n  const d = dayjs(timeStr)\r\n  return d.isValid() ? d.format('YY-MM-DD') : timeStr\r\n}\r\n\r\nfunction formatUpdateFrequency(record) {\r\n  const freq = Number(record?.doc_auto_renew_frequency || 0)\r\n  if (!freq) return '--'\r\n  let first = ''\r\n  if (freq === 1) { return t('update_freq_never') }\r\n  if (freq === 2) { first = t('update_freq_daily') }\r\n  if (freq === 3) { first = t('update_freq_3days') }\r\n  if (freq === 4) { first = t('update_freq_7days') }\r\n  if (freq === 5) { first = t('update_freq_30days') }\r\n  const minute = Number(record?.doc_auto_renew_minute || 0)\r\n  if (minute > 0) {\r\n    let time = convertTime(minute)\r\n    if (typeof time === 'string' && /^0\\d:\\d{2}$/.test(time)) {\r\n      time = time.slice(1)\r\n    }\r\n    return t('update_freq_format', { freq: first, time })\r\n  }\r\n  return t('update_freq_update')\r\n}\r\n\r\nconst count_data = reactive({\r\n  learned_err_count: 0, // 失败数\r\n  learned_count: 0, // 成功数\r\n  learned_wait_count: 0 // 待学习\r\n})\r\n\r\nconst queryParams = reactive({\r\n  library_id: libraryId.value,\r\n  file_name: undefined,\r\n  status: '', // 2:成功 3:全部失败 8:部分失败 4:待学习\r\n  page: 1,\r\n  size: 10,\r\n  total: 0,\r\n  sort_field: '',\r\n  sort_type: '',\r\n})\r\n\r\nconst statusList = [\r\n  {\r\n    id: '',\r\n    name: t('status_all')\r\n  },\r\n  {\r\n    id: '4',\r\n    name: t('status_wait_learn')\r\n  },\r\n  {\r\n    id: '8',\r\n    name: t('status_partial_fail')\r\n  },\r\n  {\r\n    id: '3',\r\n    name: t('status_all_fail')\r\n  },\r\n  {\r\n    id: '2',\r\n    name: t('status_success')\r\n  }\r\n]\r\n\r\nconst columns = ref([])\r\nconst columnsDefault = [\r\n  {\r\n    title: t('col_doc_name'),\r\n    dataIndex: 'file_name',\r\n    key: 'file_name',\r\n    resizable: true,\r\n    minWidth: 180,\r\n    maxWidth: 600,\r\n    width: 300\r\n  },\r\n  {\r\n    title: t('col_size_segment'),\r\n    dataIndex: 'file_size_str',\r\n    key: 'file_size',\r\n    resizable: true,\r\n    minWidth: 120,\r\n    maxWidth: 360,\r\n    width: 140\r\n  },\r\n  {\r\n    title: t('col_total'),\r\n    dataIndex: 'total_hits',\r\n    key: 'total_hits',\r\n    resizable: true,\r\n    minWidth: 80,\r\n    maxWidth: 200,\r\n    width: 80,\r\n    sorter: true\r\n  },\r\n  {\r\n    title: t('col_yesterday'),\r\n    dataIndex: 'yesterday_hits',\r\n    key: 'yesterday_hits',\r\n    resizable: true,\r\n    minWidth: 80,\r\n    maxWidth: 200,\r\n    width: 80,\r\n    sorter: true\r\n  },\r\n  {\r\n    title: t('col_today'),\r\n    dataIndex: 'today_hits',\r\n    key: 'today_hits',\r\n    resizable: true,\r\n    minWidth: 80,\r\n    maxWidth: 200,\r\n    width: 80,\r\n    sorter: true\r\n  },\r\n  {\r\n    title: t('col_knowledge_graph'),\r\n    dataIndex: 'graph_status',\r\n    key: 'graph_status',\r\n    resizable: true,\r\n    minWidth: 120,\r\n    maxWidth: 400,\r\n    width: 200\r\n  },\r\n  {\r\n    title: t('col_entity_count'),\r\n    dataIndex: 'graph_entity_count',\r\n    key: 'graph_entity_count',\r\n    resizable: true,\r\n    minWidth: 120,\r\n    maxWidth: 320,\r\n    width: 160\r\n  },\r\n  {\r\n    title: t('col_status'),\r\n    dataIndex: 'status',\r\n    key: 'status',\r\n    resizable: true,\r\n    minWidth: 130,\r\n    maxWidth: 200,\r\n    width: 130,\r\n  },\r\n  {\r\n    title: t('col_update_info'),\r\n    dataIndex: 'update_info',\r\n    key: 'update_info',\r\n    resizable: true,\r\n    minWidth: 130,\r\n    maxWidth: 600,\r\n    width: 130\r\n  },\r\n  {\r\n    title: t('col_action'),\r\n    dataIndex: 'action',\r\n    key: 'action',\r\n    fixed: 'right',\r\n    width: 100\r\n  }\r\n]\r\n\r\nconst getColumnsWidthStorageKey = () => `qa_document_columns_widths_${libraryId.value || 0}`\r\nconst getViewModeStorageKey = () => `qa_document_view_mode_${libraryId.value || 0}`\r\nconst getSavedColumnsWidths = () => {\r\n  try {\r\n    const s = localStorage.getItem(getColumnsWidthStorageKey()) || '{}'\r\n    const obj = JSON.parse(s)\r\n    return typeof obj === 'object' && obj ? obj : {}\r\n  } catch {\r\n    return {}\r\n  }\r\n}\r\nconst applySavedWidths = (cols) => {\r\n  const saved = getSavedColumnsWidths()\r\n  return cols.map(c => {\r\n    const w = saved[c.key]\r\n    if (typeof w === 'number') {\r\n      let width = w\r\n      if (typeof c.minWidth === 'number') {\r\n        width = Math.max(c.minWidth, width)\r\n      }\r\n      if (typeof c.maxWidth === 'number') {\r\n        width = Math.min(c.maxWidth, width)\r\n      }\r\n      return { ...c, width }\r\n    }\r\n    return c\r\n  })\r\n}\r\nconst saveColumnWidth = (key, width) => {\r\n  const saved = getSavedColumnsWidths()\r\n  saved[key] = width\r\n  localStorage.setItem(getColumnsWidthStorageKey(), JSON.stringify(saved))\r\n}\r\n\r\nconst handleChangeStatus = (item) => {\r\n  onSearch()\r\n}\r\n\r\nconst onTableChange = (pagination, _ , sorter) => {\r\n  console.log(sorter,'==')\r\n  queryParams.page = pagination.current\r\n  queryParams.size = pagination.pageSize\r\n  queryParams.sort_field = ''\r\n  queryParams.sort_type = ''\r\n  if(sorter.order && sorter.field){\r\n    queryParams.sort_field = sorter.field\r\n    queryParams.sort_type = sorter.order == 'ascend' ? 'ASC' : 'DESC'\r\n  }\r\n  getData()\r\n}\r\n\r\nconst onSearch = () => {\r\n  queryParams.page = 1\r\n  getData(false)\r\n  getGroupLists()\r\n}\r\n\r\nlet isLast = false\r\n\r\nconst onDelete = ({ id }) => {\r\n  if (fileList.value.length == 1) {\r\n    isLast = true\r\n  }\r\n\r\n  delLibraryFile({ id }).then(() => {\r\n    if (isLast && queryParams.page > 1) {\r\n      queryParams.page--\r\n    }\r\n\r\n    getData()\r\n    getGroupLists()\r\n    message.success(t('msg_delete_success'))\r\n  })\r\n}\r\n\r\nconst handleBatchDelete = () => {\r\n  if (state.selectedRowKeys.length == 0) {\r\n    return message.error(t('msg_select_doc_first'))\r\n  }\r\n  Modal.confirm({\r\n    title: t('confirm_delete_title'),\r\n    icon: createVNode(ExclamationCircleOutlined),\r\n    content: createVNode(\r\n      'div',\r\n      {\r\n        style: 'color: #8c8c8c;'\r\n      },\r\n      t('confirm_delete_content')\r\n    ),\r\n    onOk() {\r\n      delLibraryFile({ id: state.selectedRowKeys.join(',') }).then(() => {\r\n        getData()\r\n        message.success(t('msg_batch_delete_success'))\r\n      })\r\n    },\r\n    onCancel() {}\r\n  })\r\n}\r\n\r\nconst handlePreview = (record, params = {}) => {\r\n  console.log(rotue)\r\n  let routeName = rotue.name\r\n  if (record.status == '4') {\r\n    if (routeName == 'libraryConfig') {\r\n      window.open(\r\n        '/#/library/document-segmentation?document_id=' + record.id + '&page=' + queryParams.page\r\n      )\r\n      return\r\n    }\r\n    if (params.open_new === true) {\r\n      let queryUrl = router.resolve({\r\n        path: '/library/document-segmentation',\r\n        query: { document_id: record.id, page: queryParams.page }\r\n      })\r\n      window.open(queryUrl.href, '_blank')\r\n      return\r\n    }\r\n    return router.push({\r\n      path: '/library/document-segmentation',\r\n      query: { document_id: record.id, page: queryParams.page }\r\n    })\r\n  }\r\n  if (record.status == '3' && libraryInfo.value.type != 2) {\r\n    return message.error(t('msg_learn_failed_cannot_preview'))\r\n  }\r\n  if (record.status == '0') {\r\n    return message.error(t('msg_converting_wait'))\r\n  }\r\n  if (record.status == '1') {\r\n    return message.error(t('msg_learning_cannot_preview'))\r\n  }\r\n  if (record.status == '6') {\r\n    return message.error(t('msg_fetching_cannot_preview'))\r\n  }\r\n  if (record.status == '7') {\r\n    return message.error(t('msg_fetch_failed_cannot_preview'))\r\n  }\r\n  if (record.status == '10') {\r\n    return message.error(t('msg_segmenting_cannot_preview'))\r\n  }\r\n\r\n  if (params.open_new === true || routeName == 'libraryConfig') {\r\n    const url = router.resolve({ name: 'libraryPreview', query: { id: record.id, ...params } })\r\n    window.open(url.href, '_blank')\r\n    return\r\n  }\r\n  router.push({ name: 'libraryPreview', query: { id: record.id, ...params } })\r\n}\r\n\r\nconst getData = (append = false) => {\r\n  let params = toRaw(queryParams)\r\n  if (params.status == 0) {\r\n    params.status = ''\r\n  }\r\n  params.group_id = groupId.value\r\n  isLoading.value = true\r\n  getLibraryFileList(params)\r\n    .then((res) => {\r\n      let info = res.data.info\r\n\r\n      if (!modelForm.use_model && modelForm.use_model != info.use_model) {\r\n        modelForm.use_model = info.use_model\r\n        modelForm.model_config_id = info.model_config_id\r\n      }\r\n\r\n      libraryInfo.value = { ...info }\r\n      createGraphSwitch.value = info.graph_switch == 1\r\n      if (!append) {\r\n        if (info.graph_switch == '0' || !neo4j_status.value) {\r\n          columns.value = columnsDefault.filter(\r\n            (item) => !['graph_status', 'graph_entity_count'].includes(item.key)\r\n          )\r\n        } else {\r\n          columns.value = columnsDefault\r\n        }\r\n        if (props.type != 3) {\r\n          columns.value = columns.value.filter(i => i.key != 'official_article_update_time')\r\n        }\r\n        columns.value = applySavedWidths(columns.value)\r\n      }\r\n\r\n      let list = res.data.list || []\r\n      let countData = res.data.count_data || {}\r\n      if (!append) {\r\n        let metaList = list?.[0]?.meta_list || []\r\n        let metaCols = []\r\n        metaList.forEach(item => {\r\n          if (columns.value.findIndex(i => i.dataIndex == item.key) > -1) return\r\n          metaCols.push({\r\n            title: item.name,\r\n            key: `meta_${item.key}`,\r\n            dataIndex: `meta_${item.key}`,\r\n            width: 160,\r\n          })\r\n        })\r\n        columns.value.splice(columns.value.length - 1, 0, ...metaCols)\r\n      }\r\n\r\n      queryParams.total = res.data.total\r\n\r\n      count_data.learned_count = countData.learned_count\r\n      count_data.learned_err_count = countData.learned_err_count\r\n      count_data.learned_wait_count = countData.learned_wait_count\r\n\r\n      let needRefresh = false\r\n      const mapped = list.map((item) => {\r\n        // , '4' 是待学习，如果加进去会一直刷新状态不会改变\r\n        if (['1', '6', '0', '5'].includes(item.status)) {\r\n          needRefresh = true\r\n        }\r\n        item.file_size_str = formatFileSize(item.file_size)\r\n        item.update_time = dayjs(item.update_time * 1000).format('YYYY-MM-DD HH:mm')\r\n        item.official_article_update_time = dayjs(item.official_article_update_time * 1000).format('YYYY-MM-DD HH:mm')\r\n        item.doc_last_renew_time_desc =\r\n          item.doc_last_renew_time > 0\r\n            ? dayjs(item.doc_last_renew_time * 1000).format('YYYY-MM-DD HH:mm')\r\n            : '--'\r\n        if (Array.isArray(item.meta_list)) {\r\n          item.meta_list.forEach(i => {\r\n            if (i.type == 1 && i.value > 0) {\r\n              i.value = dayjs(i.value * 1000).format('YYYY-MM-DD HH:mm')\r\n            }\r\n            if (i.key == 'source') {\r\n              i.value = sourceTypeMap[i.value]\r\n            }\r\n            item[`meta_${i.key}`] = i.value\r\n          })\r\n        }\r\n        return item\r\n      })\r\n      fileList.value = append ? [...fileList.value, ...mapped] : mapped\r\n      needRefresh && timingRefreshStatus()\r\n      !needRefresh && clearInterval(timingRefreshStatusTimer.value)\r\n    })\r\n    .finally(() => {\r\n      isLoading.value = false\r\n    })\r\n}\r\n\r\nconst timingRefreshStatusTimer = ref(null)\r\nconst timingRefreshStatus = () => {\r\n  clearInterval(timingRefreshStatusTimer.value)\r\n  timingRefreshStatusTimer.value = setInterval(() => {\r\n    getData()\r\n  }, 1000 * 5)\r\n}\r\n\r\nconst addCustomDocumentRef = ref(null)\r\n\r\nconst handleMenuClick = (e) => {\r\n  if (vectorModelTextList.value.length == 0) {\r\n    Modal.confirm({\r\n      title: t('confirm_add_model_title'),\r\n      content: t('confirm_add_model_content'),\r\n      okText: t('btn_go_add'),\r\n      onOk() {\r\n        router.push({ path: '/user/model' })\r\n      }\r\n    })\r\n    return\r\n  }\r\n\r\n  let { key } = e\r\n\r\n  if (key == 1) {\r\n    handleOpenFileUploadModal()\r\n  }\r\n  if (key == 2) {\r\n    handleOpenUrlModal()\r\n  }\r\n  if (key == 3) {\r\n    addCustomDocumentRef.value.add()\r\n  }\r\n  if (key == 4) {\r\n    feishuRef.value.show()\r\n  }\r\n}\r\nconst addUrlState = reactive({\r\n  open: false,\r\n  urls: '',\r\n  library_id: libraryId.value,\r\n  doc_auto_renew_frequency: 1,\r\n  confirmLoading: false,\r\n  doc_auto_renew_minute: '',\r\n  rules: {\r\n    urls: [\r\n      {\r\n        message: t('msg_enter_web_url'),\r\n        required: true\r\n      },\r\n      {\r\n        validator: (_rule, value) => {\r\n          if (transformUrlData(value) === false) {\r\n            return Promise.reject(new Error(t('msg_invalid_web_url')))\r\n          }\r\n          return Promise.resolve()\r\n        }\r\n      }\r\n    ]\r\n  }\r\n})\r\n\r\nconst handleOpenUrlModal = () => {\r\n  addUrlState.open = true\r\n  addUrlState.confirmLoading = false\r\n  addUrlState.urls = ''\r\n  addUrlState.doc_auto_renew_minute = '02:00'\r\n  addUrlState.doc_auto_renew_frequency = 1\r\n}\r\nconst urlFormRef = ref(null)\r\nconst handleSaveUrl = () => {\r\n  // 保存本地内容\r\n  urlFormRef.value\r\n    .validate()\r\n    .then(() => {\r\n      addUrlState.confirmLoading = true\r\n      addLibraryFile({\r\n        library_id: addUrlState.library_id,\r\n        urls: JSON.stringify(transformUrlData(addUrlState.urls)),\r\n        doc_auto_renew_frequency: addUrlState.doc_auto_renew_frequency,\r\n        doc_auto_renew_minute: convertTime(addUrlState.doc_auto_renew_minute),\r\n        doc_type: 2,\r\n        group_id: groupId.value,\r\n      }).then(() => {\r\n        addUrlState.open = false\r\n        addUrlState.confirmLoading = false\r\n        onSearch()\r\n      })\r\n    })\r\n    .catch(() => {\r\n      addUrlState.confirmLoading = false\r\n    })\r\n}\r\n\r\nconst handleCloseUrlModal = () => {\r\n  addUrlState.open = false\r\n}\r\n\r\nconst addFileState = reactive({\r\n  open: false,\r\n  fileList: [],\r\n  confirmLoading: false,\r\n  pdf_parse_type: 1 //1纯文本解析，2ocr解析\r\n})\r\n\r\nconst existPdfFile = computed(\r\n  () => addFileState.fileList.filter((i) => i.type === 'application/pdf').length > 0\r\n)\r\n\r\nconst qaUploadModalRef = ref(null)\r\nconst handleOpenFileUploadModal = () => {\r\n  if (libraryInfo.value.type == 2) {\r\n    qaUploadModalRef.value.show()\r\n    return\r\n  }\r\n  addFileState.fileList = []\r\n  addFileState.open = true\r\n}\r\n\r\nconst handleCloseFileUploadModal = () => {\r\n  addFileState.fileList = []\r\n}\r\n\r\nconst onFilesChange = (files) => {\r\n  addFileState.fileList = files\r\n}\r\n\r\nconst handleSaveFiles = () => {\r\n  // 提交后，需要显示引导学习的弹窗提示。如果勾选了“不再显示”，以后批量上传后不再显示弹窗提示。\r\n  if (\r\n    guideLearningTipsRef.value &&\r\n    !userStore.getGuideLearningTips &&\r\n    addFileState.fileList.length > 1\r\n  ) {\r\n    guideLearningTipsRef.value.show()\r\n  }\r\n\r\n  if (addFileState.fileList.length == 0) {\r\n    message.error(t('msg_select_file_first'))\r\n    return\r\n  }\r\n\r\n  addFileState.confirmLoading = true\r\n\r\n  let formData = new FormData()\r\n\r\n  formData.append('library_id', queryParams.library_id)\r\n  formData.append('group_id', groupId.value || 0)\r\n  let isTableType = false\r\n  addFileState.fileList.forEach((file) => {\r\n    if (file.name.includes('.xlsx') || file.name.includes('.csv')) {\r\n      isTableType = true\r\n    }\r\n    formData.append('library_files', file)\r\n  })\r\n  if (existPdfFile.value) {\r\n    formData.append('pdf_parse_type', addFileState.pdf_parse_type)\r\n  }\r\n  addLibraryFile(formData)\r\n    .then((res) => {\r\n      getData()\r\n      addFileState.open = false\r\n      addFileState.fileList = []\r\n      addFileState.confirmLoading = false\r\n      if (isTableType && res.data.file_ids.length == 1) {\r\n        router.push('/library/document-segmentation?document_id=' + res.data.file_ids[0])\r\n      }\r\n    })\r\n    .catch(() => {\r\n      addFileState.confirmLoading = false\r\n    })\r\n}\r\n\r\nconst renameModalRef = ref(null)\r\nconst handleOpenRenameModal = (record) => {\r\n  renameModalRef.value.show(record)\r\n}\r\n\r\nconst toReSegmentationPage = (record) => {\r\n  router.push({\r\n    path: '/library/document-segmentation',\r\n    query: {\r\n      document_id: record.id\r\n    }\r\n  })\r\n}\r\n\r\nconst createGraphTask = (record) => {\r\n  createGraph({ id: record.id }).then(() => {\r\n    getData()\r\n  })\r\n}\r\n\r\nconst createGraphSwitchChange = () => {\r\n  if (createGraphSwitch.value) {\r\n    createGraphSwitch.value = false\r\n    let data = {\r\n      graph_model_config_id: libraryInfo.value.graph_model_config_id,\r\n      graph_use_model: libraryInfo.value.graph_use_model\r\n    }\r\n    if (\r\n      (!data.graph_model_config_id || !data.graph_use_model) &&\r\n      vectorModelList.value.length > 0\r\n    ) {\r\n      let modelConfig = vectorModelList.value[0]\r\n      let model = modelConfig.children[0]\r\n      data.graph_use_model = model.name\r\n      data.graph_model_config_id = model.model_config_id\r\n    }\r\n    openGrapgModalRef.value.show(data)\r\n  } else {\r\n    libraryInfo.value.graph_switch = 0\r\n    saveLibraryConfig(false, () => {\r\n      getData()\r\n      changeGraphSwitch(0)\r\n    })\r\n  }\r\n}\r\n\r\nconst handleOpenGrapgOk = (data) => {\r\n  createGraphSwitch.value = true\r\n  libraryInfo.value.graph_switch = 1\r\n  libraryInfo.value.graph_model_config_id = data.graph_model_config_id\r\n  libraryInfo.value.graph_use_model = data.graph_use_model\r\n  saveLibraryConfig(false, () => {\r\n    getData()\r\n    changeGraphSwitch(1)\r\n  })\r\n}\r\n\r\nconst pdfParseTypeChange = (item) => {\r\n  if (item.key == 4 && !ali_ocr_switch.value) {\r\n    return false\r\n  }\r\n  addFileState.pdf_parse_type = item.key\r\n}\r\n\r\nconst onGoSwitch = () => {\r\n  window.open('#/user/aliocr')\r\n}\r\n\r\nconst editOnlineDocRef = ref(null)\r\nconst handleEditOnlineDoc = (record, fromUpdateInfo = false) => {\r\n  editOnlineDocRef.value.show({\r\n    ...record,\r\n    from_update_info: fromUpdateInfo\r\n  })\r\n}\r\nconst handleUpdataDoc = (record) => {\r\n  manualCrawl({\r\n    id: record.id\r\n  }).then((res) => {\r\n    message.success(t('msg_update_success'))\r\n    getData()\r\n  })\r\n}\r\n\r\nconst handleCancelOcrPdf = (record) => {\r\n  Modal.confirm({\r\n    title: t('confirm_cancel_parse_title'),\r\n    content: t('confirm_cancel_parse_content'),\r\n    okText: t('btn_confirm'),\r\n    onOk() {\r\n      cancelOcrPdf({\r\n        id: record.id\r\n      }).then((res) => {\r\n        message.success(t('msg_cancel_success'))\r\n        getData()\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst toGraph = (record) => {\r\n  setStorage('graph:autoOpenFileId', record.id)\r\n\r\n  router.push({\r\n    path: '/library/details/knowledge-graph',\r\n    query: {\r\n      id: libraryId.value\r\n    }\r\n  })\r\n}\r\n\r\nconst handleDownload = (record) => {\r\n  let targetUrl = `/manage/downloadLibraryFile?id=${record.id}&token=${userStore.getToken}`\r\n  var aTag = document.createElement('a')\r\n  aTag.href = targetUrl\r\n  aTag.style.display = 'none'\r\n  aTag.click()\r\n}\r\nconst handleChangeHideStatus = () => {\r\n  isHiddenGroup.value = !isHiddenGroup.value\r\n  localStorage.setItem('document_group_hide_key', isHiddenGroup.value ? 1 : 2)\r\n}\r\n\r\nconst getGroupLists = () => {\r\n  getLibraryGroup({\r\n    library_id: libraryId.value,\r\n    group_type: 1,\r\n    order_field: folderSort.order_field,\r\n    order_type: folderSort.order_type\r\n  }).then((res) => {\r\n    let lists = res.data || []\r\n    let allTotal = lists.reduce((total, item) => {\r\n      return total + +item.total\r\n    }, 0)\r\n    groupLists.value = [\r\n      {\r\n        group_name: t('label_all_groups'),\r\n        id: -1,\r\n        total: allTotal\r\n      },\r\n      ...res.data\r\n    ]\r\n  })\r\n}\r\n\r\ngetGroupLists()\r\n\r\nconst addGroupRef = ref(null)\r\nconst openGroupModal = (data) => {\r\n  addGroupRef.value.show({\r\n    ...data,\r\n    library_id: libraryId.value\r\n  })\r\n}\r\n\r\nconst editGroupRef = ref(null)\r\nconst openEditGroupModal = (data) => {\r\n  editGroupRef.value.show({\r\n    ...data,\r\n    sense: 1\r\n  })\r\n}\r\n\r\nconst initData = () => {\r\n  getGroupLists()\r\n  getData()\r\n}\r\n\r\nconst inFolderDetail = ref(false)\r\nconst handleChangeGroup = (item) => {\r\n  groupId.value = item.id\r\n  onSearch()\r\n}\r\nconst goToRootFolder = () => {\r\n  inFolderDetail.value = false\r\n  groupId.value = -1\r\n  onSearch()\r\n}\r\nconst folderScrollSentinel = ref(null)\r\nconst folderScrollObserver = ref(null)\r\nfunction initFolderInfiniteScroll() {\r\n  try {\r\n    folderScrollObserver.value && folderScrollObserver.value.disconnect()\r\n    folderScrollObserver.value = new IntersectionObserver((entries) => {\r\n      const ent = entries[0]\r\n      if (ent && ent.isIntersecting) {\r\n        tryLoadMore()\r\n      }\r\n    }, { root: null, threshold: 0.1 })\r\n    nextTick(() => {\r\n      if (folderScrollSentinel.value) {\r\n        folderScrollObserver.value.observe(folderScrollSentinel.value)\r\n      }\r\n    })\r\n  } catch {}\r\n}\r\nfunction tryLoadMore() {\r\n  if (viewMode.value !== 'folder') return\r\n  const hasMore = queryParams.page * queryParams.size < (queryParams.total || 0)\r\n  if (!hasMore || isLoading.value) return\r\n  queryParams.page++\r\n  getData(true)\r\n}\r\n\r\nconst handleDelGroup = (item) => {\r\n  Modal.confirm({\r\n    title: t('confirm_delete_group_title', { groupName: item.group_name }),\r\n    icon: createVNode(ExclamationCircleOutlined),\r\n    content: '',\r\n    okText: t('btn_confirm'),\r\n    okType: 'danger',\r\n    cancelText: t('btn_cancel'),\r\n    onOk() {\r\n      deleteLibraryGroup({\r\n        id: item.id,\r\n        sense: 1\r\n      }).then(() => {\r\n        message.success(t('msg_delete_success'))\r\n        getGroupLists()\r\n        if (groupId.value == item.id) {\r\n          groupId.value = -1\r\n          onSearch()\r\n        }\r\n      })\r\n    }\r\n  })\r\n}\r\n\r\nconst GROUP_BOX_WIDTH_KEY = 'qa_document_group_box_width'\r\nconst minGroupBoxWidth = 180\r\nconst maxGroupBoxWidth = 256\r\n\r\nconst groupBoxWidth = ref(minGroupBoxWidth)\r\nconst isDragging = ref(false) // 新增\r\n\r\nonMounted(() => {\r\n  const width = parseInt(localStorage.getItem(GROUP_BOX_WIDTH_KEY))\r\n  if (width && width >= minGroupBoxWidth && width <= maxGroupBoxWidth) {\r\n    groupBoxWidth.value = width\r\n  }\r\n  const savedViewMode = localStorage.getItem(getViewModeStorageKey())\r\n  if (savedViewMode === 'folder' || savedViewMode === 'list') {\r\n    viewMode.value = savedViewMode\r\n    queryParams.size = savedViewMode === 'folder' ? 50 : 10\r\n  } else {\r\n    localStorage.setItem(getViewModeStorageKey(), 'list')\r\n  }\r\n  checkFeishuCallback()\r\n  initFolderInfiniteScroll()\r\n  learnProgressTimer = setInterval(() => {\r\n    learnProgressTicker.value++\r\n  }, 1500)\r\n})\r\n\r\nconst checkFeishuCallback = () => {\r\n  const {\r\n    user_access_token,\r\n    feishu_app_id,\r\n    feishu_app_secret,\r\n    ...other\r\n  } = query\r\n  if (user_access_token && feishu_app_id && feishu_app_secret) {\r\n    router.replace({query: other})\r\n    feishuRef.value.show({\r\n      user_access_token,\r\n      feishu_app_id,\r\n      feishu_app_secret,\r\n    })\r\n  }\r\n}\r\n\r\nlet isResizing = false\r\nlet startX = 0\r\nlet startWidth = 0\r\n\r\nconst handleResizeMouseDown = (e) => {\r\n  if (isHiddenGroup.value) return\r\n  isResizing = true\r\n  isDragging.value = true // 新增\r\n  startX = e.clientX\r\n  startWidth = groupBoxWidth.value\r\n  document.body.style.cursor = 'col-resize'\r\n  document.addEventListener('mousemove', handleResizing)\r\n  document.addEventListener('mouseup', handleResizeMouseUp)\r\n}\r\n\r\nconst handleResizing = (e) => {\r\n  if (!isResizing) return\r\n  let newWidth = startWidth + (e.clientX - startX)\r\n  newWidth = Math.max(minGroupBoxWidth, Math.min(maxGroupBoxWidth, newWidth))\r\n  groupBoxWidth.value = newWidth\r\n}\r\n\r\nconst handleResizeMouseUp = () => {\r\n  if (!isResizing) return\r\n  isResizing = false\r\n  isDragging.value = false // 新增\r\n  localStorage.setItem(GROUP_BOX_WIDTH_KEY, groupBoxWidth.value)\r\n  document.body.style.cursor = ''\r\n  document.removeEventListener('mousemove', handleResizing)\r\n  document.removeEventListener('mouseup', handleResizeMouseUp)\r\n}\r\n\r\nconst checkMove = (e) => {\r\n  // 只允许id>0的项目拖拽\r\n  return e.draggedContext.element.id > 0 && e.relatedContext.element.id > 0\r\n}\r\n\r\nconst handleDragEnd = async () => {\r\n  try {\r\n    // 过滤掉\"全部分组\"(-1)\r\n    const sortList = groupLists.value\r\n      .filter((item) => item.id > 0)\r\n      .map((item, index) => ({\r\n        id: item.id,\r\n        sort: groupLists.value.length - index\r\n      }))\r\n\r\n    // 调用API保存排序\r\n    await sortLibararyListGroup({\r\n      library_id: libraryId.value,\r\n      sense: 1,\r\n      sort_group: JSON.stringify(sortList)\r\n    })\r\n    message.success(t('msg_sort_saved'))\r\n  } catch (error) {\r\n    console.error('排序保存失败:', error)\r\n    // 恢复原顺序\r\n    getGroupLists()\r\n  }\r\n}\r\n\r\nconst metaRef = ref(null)\r\n\r\nconst showMetaModal = (type) => {\r\n  metaRef.value.show(type == 2)\r\n}\r\n\r\n\r\nonMounted(() => {\r\n  if (query.page) {\r\n    queryParams.page = +query.page\r\n  }\r\n  getData()\r\n})\r\n\r\nconst handleResizeColumn = (w, col) => {\r\n  let width = w\r\n  if (typeof col.minWidth === 'number') {\r\n    width = Math.max(col.minWidth, width)\r\n  }\r\n  if (typeof col.maxWidth === 'number') {\r\n    width = Math.min(col.maxWidth, width)\r\n  }\r\n  col.width = width\r\n  columns.value = columns.value.map(c => (c.key === col.key ? { ...c, width } : c))\r\n  saveColumnWidth(col.key, width)\r\n}\r\n\r\nonUnmounted(() => {\r\n  timingRefreshStatusTimer.value && clearInterval(timingRefreshStatusTimer.value)\r\n  learnProgressTimer && clearInterval(learnProgressTimer)\r\n  folderScrollObserver.value && folderScrollObserver.value.disconnect()\r\n  folderScrollObserver.value && folderScrollObserver.value.disconnect()\r\n})\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.details-library-page {\r\n  height: 100%;\r\n  display: flex;\r\n  overflow: hidden;\r\n}\r\n.group-header-title {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 24px;\r\n  .title {\r\n    color: #00000073;\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: 22px;\r\n    .title-text {\r\n      color: #262626;\r\n      font-size: 16px;\r\n      font-style: normal;\r\n      font-weight: 600;\r\n      line-height: 24px;\r\n    }\r\n  }\r\n}\r\n\r\n.group-content-box {\r\n  position: relative;\r\n  width: 180px;\r\n  border-right: 1px solid #d9d9d9;\r\n  padding-top: 24px;\r\n  padding-left: 24px;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  transition:\r\n    width 0.3s cubic-bezier(0.65, 0, 0.35, 1),\r\n    transform 0.3s cubic-bezier(0.65, 0, 0.35, 1),\r\n    padding 0.3s cubic-bezier(0.65, 0, 0.35, 1),\r\n    border-right-width 0.3s cubic-bezier(0.65, 0, 0.35, 1);\r\n  &.no-transition {\r\n    transition: none !important;\r\n  }\r\n  &.collapsed {\r\n    width: 0 !important;\r\n    min-width: 0 !important;\r\n    max-width: 0 !important;\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n    border-right-width: 0;\r\n    transform: translateX(-100%);\r\n  }\r\n\r\n  .group-head-box {\r\n    padding-right: 24px;\r\n  }\r\n  .head-title {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 4px;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    color: #262626;\r\n  }\r\n  .head-btn-box {\r\n    display: flex;\r\n    gap: 16px;\r\n    margin-top: 16px;\r\n    div {\r\n      flex: 1;\r\n    }\r\n  }\r\n  .search-box {\r\n    margin-top: 16px;\r\n  }\r\n}\r\n\r\n.flex-between-box {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.classify-box {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  font-size: 14px;\r\n  .classify-item.sortable-chosen {\r\n    background: #f0f7ff;\r\n  }\r\n  .classify-item.sortable-ghost {\r\n    opacity: 0.5;\r\n    background: #e6f7ff;\r\n  }\r\n  .drag-btn {\r\n    margin-right: 8px;\r\n    cursor: grab;\r\n    opacity: 0;\r\n    transition: opacity 0.2s;\r\n  }\r\n  .classify-item {\r\n    height: 32px;\r\n    padding: 0 8px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    margin-top: 4px;\r\n    cursor: pointer;\r\n    border-radius: 6px;\r\n    color: #595959;\r\n    transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n    user-select: none;\r\n\r\n    .classify-title {\r\n      flex: 1;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n    }\r\n    .num {\r\n      display: block;\r\n    }\r\n\r\n    .btn-box {\r\n      display: none;\r\n    }\r\n    &:hover {\r\n      background: #f2f4f7;\r\n      .num {\r\n        display: none;\r\n      }\r\n      .num.num-block {\r\n        display: block;\r\n      }\r\n      .btn-box {\r\n        display: block;\r\n      }\r\n      .drag-btn {\r\n        opacity: 1;\r\n      }\r\n    }\r\n    &.active {\r\n      color: #2475fc;\r\n      background: #e6efff;\r\n    }\r\n  }\r\n}\r\n.empty-folder {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 260px;\r\n  border-radius: 8px;\r\n  .empty-inner {\r\n    text-align: center;\r\n    .empty-img {\r\n      width: 88px;\r\n      height: 88px;\r\n      opacity: 0.8;\r\n    }\r\n    .empty-text {\r\n      margin-top: 12px;\r\n      color: #8c8c8c;\r\n    }\r\n  }\r\n}\r\n\r\n.scroll-sentinel {\r\n  height: 1px;\r\n}\r\n\r\n.hover-btn-wrap {\r\n  width: fit-content;\r\n  height: 24px;\r\n  border-radius: 6px;\r\n  padding: 0 4px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n  transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n  &:hover {\r\n    background: #e4e6eb;\r\n  }\r\n}\r\n\r\n.pover-group-content-box {\r\n  width: 232px;\r\n  padding: 4px;\r\n  overflow: hidden;\r\n  .head-title {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 4px;\r\n    font-size: 16px;\r\n    font-weight: 600;\r\n    color: #262626;\r\n  }\r\n  .head-btn-box {\r\n    display: flex;\r\n    gap: 16px;\r\n    margin-top: 16px;\r\n    div {\r\n      flex: 1;\r\n    }\r\n  }\r\n  .search-box {\r\n    margin-top: 16px;\r\n  }\r\n}\r\n\r\n.classify-scroll-box {\r\n  max-height: 400px;\r\n  min-height: 180px;\r\n  margin-top: 4px;\r\n  overflow: hidden;\r\n  overflow-y: auto;\r\n  /* 整个页面的滚动条 */\r\n  &::-webkit-scrollbar {\r\n    width: 6px; /* 垂直滚动条宽度 */\r\n    height: 6px; /* 水平滚动条高度 */\r\n  }\r\n\r\n  /* 滚动条轨道 */\r\n  &::-webkit-scrollbar-track {\r\n    background: #f1f1f1;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  /* 滚动条滑块 */\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #888;\r\n    border-radius: 10px;\r\n    transition: background 0.3s ease;\r\n  }\r\n\r\n  /* 滚动条滑块悬停状态 */\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background: #555;\r\n  }\r\n\r\n  /* 滚动条角落 */\r\n  &::-webkit-scrollbar-corner {\r\n    background: #f1f1f1;\r\n  }\r\n}\r\n\r\n.resize-bar {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 4px;\r\n  height: 100%;\r\n  cursor: col-resize;\r\n  z-index: 10;\r\n  background: transparent;\r\n  transition: background 0.2s;\r\n}\r\n.resize-bar:hover {\r\n  background: #2475fc;\r\n}\r\n.group-content-box.collapsed .resize-bar {\r\n  display: none;\r\n}\r\n\r\n.main-content-box {\r\n  flex: 1;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  padding: 24px 0 0 24px;\r\n  font-size: 14px;\r\n  line-height: 22px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.doc-name-td {\r\n  word-break: break-all;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  .file-icon {\r\n    color: white;\r\n    font-size: 24px;\r\n    margin-right: 12px;\r\n  }\r\n}\r\n.doc-name-text {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.url-remark {\r\n  color: #8c8c8c;\r\n  margin-top: 2px;\r\n  flex-basis: 100%;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.padding-0 {\r\n  padding: 0;\r\n}\r\n.test-menu-icon {\r\n  color: #fff;\r\n}\r\n.library-name {\r\n  height: 38px;\r\n  line-height: 38px;\r\n  padding: 0 16px;\r\n  margin-bottom: 16px;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #262626;\r\n  border-radius: 2px;\r\n  background-color: #f2f4f7;\r\n  display: flex;\r\n  align-items: center;\r\n  .anticon-edit {\r\n    margin-left: 8px;\r\n    color: #8c8c8c;\r\n    cursor: pointer;\r\n  }\r\n}\r\n.between-content-box {\r\n  display: flex;\r\n  flex: 1;\r\n  overflow: hidden;\r\n  .left-menu-box {\r\n    width: 232px;\r\n    margin-right: 24px;\r\n  }\r\n  .right-content-box {\r\n    flex: 1;\r\n    overflow: hidden;\r\n  }\r\n}\r\n\r\n.menu-item {\r\n  width: 232px;\r\n  height: 56px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 24px;\r\n  background: #f5f5f5;\r\n  border-radius: 2px;\r\n  margin-bottom: 16px;\r\n  cursor: pointer;\r\n  &.active {\r\n    background: #e6efff;\r\n    border: 1px solid #2475fc;\r\n  }\r\n  .title {\r\n    color: #242933;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    line-height: 22px;\r\n    margin-left: 8px;\r\n  }\r\n}\r\n\r\n.list-tools {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.list-tools {\r\n  margin-bottom: 16px;\r\n  .tools-items {\r\n    display: flex;\r\n    align-items: center;\r\n    .tool-item {\r\n      margin-right: 8px;\r\n\r\n      .toggle-btn {\r\n        display: flex;\r\n        padding: 12px;\r\n        justify-content: center;\r\n        align-items: center;\r\n        gap: 8px;\r\n        border-radius: 12px;\r\n        background: #FFF;\r\n\r\n        .toggle-icon {\r\n          font-size: 32px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.list-content {\r\n  .text-block {\r\n    color: #595959;\r\n  }\r\n  .c-gray {\r\n    color: #8c8c8c;\r\n  }\r\n  .time-content-box {\r\n    display: flex;\r\n    color: #595959;\r\n    align-items: center;\r\n  }\r\n  .btn-hover-block {\r\n    height: 24px;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0 8px;\r\n    cursor: pointer;\r\n    width: fit-content;\r\n    border-radius: 6px;\r\n    transition: all 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\r\n    &:hover {\r\n      background: #e4e6eb;\r\n    }\r\n  }\r\n  .status-tag {\r\n    display: inline-block;\r\n    height: 24px;\r\n    line-height: 24px;\r\n    padding: 0 6px;\r\n    border-radius: 2px;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    text-align: center;\r\n    color: #595959;\r\n    background-color: #edeff2;\r\n\r\n    &.running {\r\n      color: #2475fc;\r\n      background-color: #e8effc;\r\n    }\r\n\r\n    &.subning {\r\n      color: #6524fc;\r\n      background-color: #eae0ff;\r\n    }\r\n\r\n    &.complete {\r\n      color: #21a665;\r\n      background: #e8fcf3;\r\n    }\r\n\r\n    &.error {\r\n      cursor: pointer;\r\n      color: #fb363f;\r\n      background-color: #f5c6c8;\r\n    }\r\n\r\n    &.warning {\r\n      cursor: pointer;\r\n      background: #faebe6;\r\n      color: #ed744a;\r\n    }\r\n\r\n    &.status-learning {\r\n      color: #2475fc;\r\n      // background-color: #e8effc;\r\n    }\r\n\r\n    &.status-complete {\r\n      color: #3a4559;\r\n      background-color: #edeff2;\r\n    }\r\n\r\n    &.status-error {\r\n      font-size: 12px;\r\n      cursor: pointer;\r\n      color: #fb363f;\r\n      // background-color: #f5c6c8;\r\n    }\r\n    &.warning {\r\n      cursor: pointer;\r\n      // background: #faebe6;\r\n      color: #ed744a;\r\n    }\r\n    &.cancel {\r\n      background: #fae4dc;\r\n      color: #ed744a;\r\n    }\r\n  }\r\n  .update-icon {\r\n    width: 16px;\r\n    height: 16px;\r\n    margin-left: 4px;\r\n  }\r\n  .update-trigger-text {\r\n    cursor: pointer;\r\n  }\r\n  .status-icon-row {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n  }\r\n  .status-icon {\r\n    color: white;\r\n    font-size: 16px;\r\n  }\r\n}\r\n.view-toggle {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  border: 2px solid #EDEFF2;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n  height: 32px;\r\n  background: #EDEFF2;\r\n  .toggle-seg {\r\n    width: 28px;\r\n    height: 28px;\r\n    padding: 2px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    border-radius: 6px;\r\n    &:not(:last-child) {\r\n      border-right: 1px solid #EDEFF2;\r\n    }\r\n    .toggle-icon {\r\n      font-size: 16px;\r\n    }\r\n    &.active {\r\n      background: #fff;\r\n      width: 28px;\r\n      height: 28px;\r\n\r\n      .toggle-icon {\r\n        color: #2475fc;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.sort-btn {\r\n  width: 94px;\r\n  height: 34px;\r\n  padding: 5px 0px 5px 5px;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  border: 1px solid #EDEFF2;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n  cursor: pointer;\r\n  .sort-left {\r\n    display: flex;\r\n    padding: 1px 4px;\r\n    align-items: center;\r\n    gap: 8px;\r\n    border-radius: 6px;\r\n    background: #EDEFF2;\r\n  }\r\n  .sort-text {\r\n    color: #595959;\r\n    font-size: 14px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    line-height: 22px;\r\n  }\r\n  .sort-icon {\r\n    width: 16px;\r\n    height: 16px;\r\n    transition: color 0.3s ease, transform 0.3s ease;\r\n    &.active {\r\n      color: #2475fc;\r\n    }\r\n  }\r\n  .sort-arrow {\r\n    color: #595959;\r\n    font-size: 12px;\r\n    transition: transform 0.3s ease;\r\n  }\r\n}\r\n\r\n.sort-arrow.active {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.sort-dropdown {\r\n  width: 100%;\r\n}\r\n.sort-dropdown .ant-dropdown-menu {\r\n  width: 100%;\r\n  min-width: auto;\r\n}\r\n\r\n.pdf-progress-box {\r\n  .progress-title {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    white-space: nowrap;\r\n    .status-box {\r\n      width: fit-content;\r\n      padding: 0 6px;\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 2px;\r\n      height: 22px;\r\n      border-radius: 6px;\r\n      background: #e8effc;\r\n      color: #2475fc;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n  .progress-bar {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n    line-height: 20px;\r\n    .ant-progress-line {\r\n      margin: 0;\r\n    }\r\n    .progress-bar-box {\r\n      flex: 1;\r\n    }\r\n    .num-box {\r\n      font-size: 12px;\r\n      color: #8c8c8c;\r\n    }\r\n  }\r\n}\r\n//.upload-file-box {\r\n//  padding: 30px 0;\r\n//}\r\n.ml8 {\r\n  margin-left: 8px;\r\n}\r\n.ml4 {\r\n  margin-left: 4px;\r\n}\r\n.url-add-form {\r\n  margin-top: 24px;\r\n}\r\n\r\n.add-dropdown-btn.ant-dropdown {\r\n  .ant-dropdown-menu {\r\n    padding: 0;\r\n    border-radius: 0;\r\n    ::v-deep(.ant-dropdown-menu-item) {\r\n      padding: 12px 16px;\r\n    }\r\n  }\r\n}\r\n\r\n.dropdown-btn-menu {\r\n  .title-block {\r\n    color: #262626;\r\n    font-size: 14px;\r\n    font-weight: 600;\r\n    line-height: 22px;\r\n  }\r\n  .desc {\r\n    color: #8c8c8c;\r\n    font-size: 14px;\r\n    line-height: 22px;\r\n  }\r\n}\r\n.table-btn {\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: #2475fc;\r\n  }\r\n}\r\n.custom-select-box {\r\n  border: 1px solid #d9d9d9;\r\n  border-radius: 4px;\r\n  > span {\r\n    white-space: nowrap;\r\n  }\r\n  :deep(.ant-select-selector) {\r\n    border: none !important;\r\n    padding-left: 0 !important;\r\n    height: unset !important;\r\n  }\r\n  padding-left: 8px;\r\n}\r\n.pd-5-8 {\r\n  padding: 5px 8px;\r\n}\r\n.reason-text {\r\n  color: #8c8c8c;\r\n  font-size: 12px;\r\n  line-height: 24px;\r\n}\r\n\r\n.title-box {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n}\r\n\r\n.select-card-box {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  flex-wrap: wrap;\r\n  margin-top: 8px;\r\n  .select-card-item {\r\n    min-height: 105px;\r\n    width: calc(50% - 8px);\r\n    position: relative;\r\n    padding: 16px;\r\n    border-radius: 6px;\r\n    border: 1px solid #d9d9d9;\r\n    cursor: pointer;\r\n    .check-arrow {\r\n      position: absolute;\r\n      display: block;\r\n      right: -1px;\r\n      bottom: -1px;\r\n      width: 24px;\r\n      height: 24px;\r\n      font-size: 24px;\r\n      color: #fff;\r\n      opacity: 0;\r\n      transition: all 0.2s cubic-bezier(0.8, 0, 1, 1);\r\n    }\r\n    .card-title {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 4px;\r\n      line-height: 22px;\r\n      margin-bottom: 4px;\r\n      color: #262626;\r\n      font-weight: 600;\r\n      font-size: 14px;\r\n    }\r\n    .title-icon {\r\n      margin-right: 4px;\r\n      font-size: 16px;\r\n    }\r\n    .card-desc {\r\n      line-height: 22px;\r\n      font-size: 14px;\r\n      color: #595959;\r\n    }\r\n\r\n    .card-switch {\r\n      display: flex;\r\n      gap: 4px;\r\n      color: #8c8c8c;\r\n      font-size: 14px;\r\n      line-height: 22px;\r\n\r\n      .card-switch-btn {\r\n        cursor: pointer;\r\n        color: #2475fc;\r\n\r\n        &:hover {\r\n          opacity: 0.8;\r\n        }\r\n      }\r\n    }\r\n\r\n    .card-switch-box {\r\n      width: 52px;\r\n      height: 22px;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      gap: 10px;\r\n      border-radius: 6px;\r\n      border: 1px solid #edb8a6;\r\n      background: #ffece5;\r\n      color: #ed744a;\r\n      font-size: 12px;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      line-height: 20px;\r\n    }\r\n\r\n    &.active {\r\n      background: var(--01-, #e5efff);\r\n      border: 2px solid #2475fc;\r\n      .check-arrow {\r\n        opacity: 1;\r\n      }\r\n      .card-title {\r\n        color: #2475fc;\r\n      }\r\n    }\r\n  }\r\n}\r\n.mt24 {\r\n  margin-top: 24px;\r\n}\r\n\r\n.right-box {\r\n  display: flex;\r\n  gap: 16px;\r\n}\r\n\r\n.status-box {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  .status-item {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .status-label {\r\n      color: #595959;\r\n    }\r\n\r\n    .content-tip {\r\n      color: red;\r\n    }\r\n  }\r\n}\r\n\r\n.select-card-main {\r\n  :deep(.ant-row) {\r\n    display: block;\r\n  }\r\n}\r\n\r\n.subning {\r\n  :deep(.ant-spin-dot-item) {\r\n    background-color: #6524fc !important;\r\n  }\r\n}\r\n.folder-view {\r\n  padding-bottom: 24px;\r\n  .folder-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(9, 1fr);\r\n    gap: 24px;\r\n  }\r\n  .folder-card {\r\n    position: relative;\r\n    border: 1px solid #f0f0f0;\r\n    border-radius: 12px;\r\n    overflow: hidden;\r\n    background: #fff;\r\n    cursor: pointer;\r\n    transition: box-shadow 0.2s ease, transform 0.2s ease;\r\n    width: 100%;\r\n    height: 182px;\r\n    &:hover {\r\n      box-shadow: 0 6px 16px rgba(0,0,0,0.08);\r\n      transform: translateY(-2px);\r\n    }\r\n    .card-more {\r\n      position: absolute;\r\n      right: 7px;\r\n      top: 8px;\r\n      color: #fff;\r\n      display: none;\r\n      padding: 4px;\r\n      justify-content: center;\r\n      align-items: center;\r\n      gap: 4px;\r\n      border-radius: 6px;\r\n      background: #00000040;\r\n    }\r\n    &:hover .card-more { display: inline-flex; }\r\n  }\r\n  .folder-thumb {\r\n    position: relative;\r\n    width: calc(100% - 16px);\r\n    margin: 8px;\r\n    height: 86px;\r\n    border-radius: 6px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background: #fff;\r\n\r\n    .folder-type-icon {\r\n      font-size: 68px;\r\n    }\r\n    .thumb-img {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: cover;\r\n    }\r\n    .type-tag {\r\n      position: absolute;\r\n      left: 8px;\r\n      top: 8px;\r\n      padding: 2px 6px;\r\n      border-radius: 4px;\r\n      font-size: 12px;\r\n      line-height: 20px;\r\n      color: #fff;\r\n      background: rgba(36, 117, 252, 0.9);\r\n    }\r\n    .status-badge {\r\n      position: absolute;\r\n      left: 8px;\r\n      top: 8px;\r\n      padding: 2px 6px;\r\n      border-radius: 6px;\r\n      font-size: 12px;\r\n      line-height: 20px;\r\n      color: #fff;\r\n      background: rgba(0,0,0,0.4);\r\n    }\r\n    .learn-percent {\r\n      margin-right: 4px;\r\n    }\r\n    &.status-loading {\r\n      background: linear-gradient(180deg, #f0f7ff 0%, #ffffff 100%);\r\n    }\r\n  }\r\n  .card-file {\r\n    .folder-thumb {\r\n      border: 1px solid #F0F0F0;\r\n    }\r\n  }\r\n  .folder-meta {\r\n    padding: 0 8px 8px;\r\n    .name {\r\n      width: 100%;\r\n      height: 44px;\r\n      color: #242933;\r\n      text-align: center;\r\n      font-size: 14px;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      line-height: 22px;\r\n      margin-bottom: 8px;\r\n    }\r\n    .name-2line {\r\n      display: -webkit-box;\r\n      -webkit-line-clamp: 2;\r\n      -webkit-box-orient: vertical;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n    .desc {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      font-size: 12px;\r\n      color: #8c8c8c;\r\n      line-height: 20px;\r\n      .file-icon {\r\n        font-size: 14px;\r\n        vertical-align: -2px;\r\n        margin-right: 4px;\r\n      }\r\n    }\r\n  }\r\n}\r\n@media screen and (max-width: 1900px) {\r\n  .folder-view {\r\n    .folder-grid {\r\n      grid-template-columns: repeat(7, 1fr);\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"less\">\r\n.ant-popover-inner-content {\r\n  .update-tooltip {\r\n    .update-tooltip-title {\r\n      display  : flex;\r\n      align-items: center;\r\n      margin-bottom: 4px;\r\n    }\r\n    .update-icon-box {\r\n      display: flex;\r\n      padding: 4px;\r\n      justify-content: center;\r\n      align-items: center;\r\n      gap: 4px;\r\n      border-radius: 6px;\r\n      background: #E4E6EB;\r\n      margin-left: 8px;\r\n    }\r\n    .edit-icon {\r\n      width: 14px;\r\n      height: 14px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .update-tooltip-value {\r\n    color: #595959;\r\n  }\r\n  .update-trigger-text {\r\n    cursor: pointer;\r\n  }\r\n}\r\n.main-content-box .group-header-title .breadcrumb-a:hover {\r\n  background-color: transparent !important;\r\n}\r\n</style>\r\n"],"names":["t","useI18n","emit","__emit","props","__props","metaData","computed","_b","_a","state","reactive","onSelectChange","selectedRowKeys","resetSelect","handleOpenEditModal","item","hanldleDelete","id","Modal","createVNode","ExclamationCircleOutlined","resolve","reject","deleteParagraph","res","message","handleSetCategory","category_id","updateParagraphCategory","tableChange","a","b","sort","sort_field","sort_type","textToHighlight","fullText","highlightText","options","highlightClass","caseSensitive","wholeWord","flags","regexPattern","escapeRegExp","match","string","__expose","_openBlock","_createElementBlock","_hoisted_1","_createVNode","_component_a_table","_component_a_table_column","_unref","_withCtx","record","_createElementVNode","$event","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_createBlock","_component_a_tooltip","_hoisted_6","ExclamationCircleFilled","_component_a_popover","_hoisted_8","_Fragment","index","_hoisted_9","_hoisted_10","_withDirectives","_hoisted_12","_renderList","meta","_hoisted_14","_hoisted_15","_hoisted_16","StarFilled","StarOutlined","_withModifiers","EditOutlined","DeleteOutlined","libraryStore","useLibraryStore","qa_index_type","useRouter","query","useRoute","open","ref","confirmLoading","fileList","excellQaLists","libraryId","formState","isHide","show","groupId","getExcelQaTitle","formData","file","readLibFileExcelTitle","datas","key","handleSaveFiles","isTableType","addLibraryFile","handleCloseFileUploadModal","fileType","onFilesChange","files","_component_a_modal","_component_a_alert","_hoisted_2","_component_a_flex","_component_a_select","_cache","_component_a_select_option","_createTextVNode","UploadFilesInput","UpOutlined","DownOutlined","_hoisted_7","_hoisted_11","_hoisted_13","_hoisted_17","_hoisted_18","_hoisted_19","_component_a_input","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","isEdit","modalTitle","data","handleOk","saveLibraryGroup","GROUP_BOX_WIDTH_KEY","minGroupBoxWidth","maxGroupBoxWidth","subsectionBoxRef","metaRef","groupSearchKey","groupLists","qaIds","currentGroupItem","filterGroupLists","paragraphLists","isHiddenGroup","total","exception_total","sourceTypeMap","listStatusMap","detailsInfo","paginations","filterData","handleSort","search","getParagraphLists","onShowSizeChange","current","pageSize","handleChangeHideStatus","reEmbeddingVectors","reconstructCategoryVector","editSubscriptionRef","openEditSubscription","isLoading","getParagraphList","list","i","dayjs","getGroupLists","getLibraryGroup","allTotal","addGroupRef","openGroupModal","initData","handleChangeGroup","handleDelGroup","deleteLibraryGroup","qaUploadModalRef","handleOpenFileUploadModal","moveOpen","moveState","handleOpenMoveModal","handleBathDel","handleMove","setParagraphGroup","groupBoxWidth","isDragging","onMounted","width","isResizing","startX","startWidth","handleResizeMouseDown","e","handleResizing","handleResizeMouseUp","newWidth","downLoadModalOpen","handleSyncDownload","data_ids","createExportLibFileTask","toDownloadPage","router","showMetaModal","type","_normalizeClass","_normalizeStyle","_component_svg_icon","PlusOutlined","SearchOutlined","_component_cu_scroll","_component_a_dropdown","_component_a_menu","_component_a_menu_item","EllipsisOutlined","_hoisted_26","_hoisted_28","_hoisted_29","_hoisted_27","_hoisted_30","_component_a_button","SettingOutlined","_hoisted_31","_hoisted_32","_hoisted_33","SubsectionBox","_hoisted_34","_component_a_pagination","EditSubscription","AddGroup","QaUploadModal","_hoisted_35","_component_a_result","MetadataManageModal","defaultCover","modalTitleKey","rotue","useForm","Form","qaIndexTypeList","handleChangeQaIndexType","formRules","resetFields","validate","validateInfos","add","saveLoading","toRaw","_component_a_form","_component_a_form_item","_mergeProps","_imports_0","userStore","useUserStore","visible","dontShowAgain","handleCancel","_component_a_checkbox","disableFileName","rules","convertTime","urlFormRef","handleSaveUrl","editLibFile","_component_a_time_picker","emptyDocumentIcon","onClose","getStatusClass","s","getFileCover","rec","status","src","fileCover","_component_a_drawer","getGroupList","relationLibraryGroup","formRef","formStateDefault","saving","step","filesTreeData","p","searchFiles","feishu_app_id","feishu_app_secret","user_access_token","getFeishuDocFileList","filterDocxTree","children","getAllDocxTokens","result","dfs","nodes","save","host","baseData","redirectQuery","strToBase64","objectToQueryString","params","_component_a_radio_group","_component_a_radio","_component_a_directory_tree","name","setStorage","useStorage","changeGraphSwitch","companyStore","useCompanyStore","neo4j_status","ali_ocr_switch","PDF_PARSE_MODE","guideLearningTipsRef","openGrapgModalRef","feishuRef","createGraphSwitch","libraryInfo","modelForm","onChangeModel","val","option","new_use_model","new_model_config_id","saveLibraryConfig","showSuccessTip","callback","editLibrary","vectorModelList","onVectorModelLoaded","vectorModelTextList","onVectorTextModelLoaded","setDefaultModel","modelConfig","model","child","viewMode","sortBtnRef","switchToFolderView","getViewModeStorageKey","inFolderDetail","queryParams","folderSort","sortOpen","onSearch","switchToListView","setFolderSort","field","getData","onClickSortIcon","toggleSortDropdown","learnProgressTicker","learnProgressTimer","learnStartTS","getLearnPercent","origin","_","elapsedSec","stepPerSec","percent","groupCards","lists","timeField","pickLatest","items","ordered","g","d","latest","visibleGroupCards","arr","order_field","order_type","av","bv","folderFiles","ts","getStatusLabel","rootUnGroupFiles","folderItems","onCardClick","handlePreview","formatCardTime","now","baseDataOpen","baseDataRecord","showBaseData","formatUpdateShort","timeStr","formatUpdateFrequency","freq","first","minute","time","count_data","statusList","columns","columnsDefault","getColumnsWidthStorageKey","getSavedColumnsWidths","obj","applySavedWidths","cols","saved","c","saveColumnWidth","handleChangeStatus","onTableChange","pagination","sorter","isLast","onDelete","delLibraryFile","routeName","queryUrl","url","append","getLibraryFileList","info","countData","metaList","metaCols","needRefresh","mapped","formatFileSize","timingRefreshStatus","timingRefreshStatusTimer","addCustomDocumentRef","handleMenuClick","handleOpenUrlModal","addUrlState","_rule","value","transformUrlData","handleCloseUrlModal","addFileState","existPdfFile","renameModalRef","handleOpenRenameModal","toReSegmentationPage","createGraphTask","createGraph","createGraphSwitchChange","handleOpenGrapgOk","pdfParseTypeChange","onGoSwitch","editOnlineDocRef","handleEditOnlineDoc","fromUpdateInfo","handleUpdataDoc","manualCrawl","handleCancelOcrPdf","cancelOcrPdf","toGraph","handleDownload","targetUrl","aTag","editGroupRef","openEditGroupModal","goToRootFolder","folderScrollSentinel","folderScrollObserver","initFolderInfiniteScroll","entries","ent","tryLoadMore","nextTick","savedViewMode","checkFeishuCallback","other","checkMove","handleDragEnd","sortList","sortLibararyListGroup","error","handleResizeColumn","w","col","onUnmounted","Draggable","_component_a_breadcrumb","_component_a_breadcrumb_item","_hoisted_36","_hoisted_39","_hoisted_40","_hoisted_41","ModelSelect","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_component_a_switch","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","PageAlert","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_76","_hoisted_77","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","CopyOutlined","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","SyncOutlined","_component_a_popconfirm","BaseDataDrawer","_hoisted_91","column","_hoisted_92","_hoisted_93","_hoisted_94","QuestionCircleOutlined","_hoisted_95","_hoisted_96","_directive_copy","getTooltipTitle","el","_hoisted_98","_hoisted_99","_hoisted_101","_hoisted_102","_hoisted_103","_hoisted_104","_hoisted_105","_hoisted_106","_hoisted_107","LoadingOutlined","_hoisted_108","_hoisted_109","_component_a_progress","_hoisted_110","_hoisted_111","_component_a_spin","_hoisted_112","_hoisted_113","CheckCircleFilled","_hoisted_114","CloseCircleFilled","_hoisted_115","_hoisted_116","_hoisted_117","ClockCircleFilled","_hoisted_118","_hoisted_119","_hoisted_120","_hoisted_121","_hoisted_122","_hoisted_123","_hoisted_124","_hoisted_125","HourglassFilled","_hoisted_126","_hoisted_127","_hoisted_128","_hoisted_129","_hoisted_130","_hoisted_131","_hoisted_132","_hoisted_133","_hoisted_134","_hoisted_135","_hoisted_136","_hoisted_137","_hoisted_138","_hoisted_139","_hoisted_140","_hoisted_141","_hoisted_142","_hoisted_143","_hoisted_144","_hoisted_145","_hoisted_146","MoreOutlined","_hoisted_147","_hoisted_148","_hoisted_149","_hoisted_151","_hoisted_152","_hoisted_153","_hoisted_154","_component_a_textarea","AddCustomDocument","RenameModal","OpenGrapgModal","GuideLearningTips","EditOnlineDoc","EditGroup","AddFeishuDocument"],"mappings":"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"}