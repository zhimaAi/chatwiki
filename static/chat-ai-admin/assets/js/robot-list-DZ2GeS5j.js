import{_ as Z,c as et,a7 as le,a8 as Oe,a9 as Le,aa as ue,ab as Ee,f as tt,o as ot,p as st,ac as nt,ad as lt,ae as at,d as it,af as ut}from"../../index-C1Xsov4S.js";import{_ as dt}from"./cu-scroll-BmJNJRCz.js";import{f as p,a1 as z,_ as l,a2 as o,a5 as e,k as t,G as I,u as L,r as Ue,Y as _,F as V,ab as Y,a7 as T,ae as X,ac as de,o as ke,l as re,B as q,a9 as Ge,aa as Fe,e as Te}from"./vue-chunks-DCKTEHpB.js";import{i as ct,j as Be,k as rt,g as qe,l as _t,m as pt,n as vt}from"./index-DLEjqKv8.js";import{A as Ne,a as ft,b as mt}from"./add-group-CITgbMuU.js";import{k as ze,at as kt,au as ht,M as W,a as O,o as bt,v as gt,w as yt,F as Ve,b as We,I as he,X as je,O as $t,a6 as He,ai as be,af as Ct,J as xt,a3 as me,B as pe,ao as _e,e as ge,f as ye,h as $e,E as wt,$ as Mt,ap as Tt,ab as Rt,av as Pt,aw as St,ax as Ot,H as Lt,aq as Ut,p as At,Y as It,ay as Dt,R as Et,ak as Gt,Q as Re}from"./ui-antd-D64OvTpt.js";import{_ as Ft}from"./page-alert-Bo_UnvJL.js";import{L as Bt}from"./list-tabs-BOqV1hiy.js";import{_ as Pe}from"./empty-BFmzY9bl.js";import{_ as qt}from"./no-permission-DtJ3NYHG.js";import{_ as Nt}from"./tool-icon-IWVrYlVb.js";import{a as Se,g as zt,s as Vt,b as Wt,d as jt}from"./thirdMcp-Dm2RMTBn.js";import"./utils-D9NMMoMR.js";import"./pull-up.esm-DIiTC7VE.js";import"./observe-dom.esm-B25JyVKH.js";import"./index-DTf9Tj4Y.js";import"./robot-4RO1uura.js";const Ht={class:"form-box"},Jt={class:"tip-box"},Kt={class:"ant-upload-drag-icon"},Yt={__name:"import-csl-alert",emits:["ok"],setup(U,{expose:G,emit:A}){const x=A,f=p(!1),a=p(!1),b=p([]),d=()=>{f.value=!0},h=()=>{f.value=!1,b.value=[]},R=()=>{if(b.value.length===0){O.error("请上传csl文件");return}a.value=!0,ct({file:b.value[0].originFileObj}).then(g=>{a.value=!1,f.value=!1,O.success("导入成功"),b.value=[],x("ok",g.data)}).catch(()=>{a.value=!1})},m=g=>g.name.endsWith(".csl")?!1:(O.error("只能上传csl格式的文件"),bt.LIST_IGNORE),s=g=>{const{status:i}=g.file;i!=="uploading"&&(g.file,g.fileList)};return G({open:d}),(g,i)=>{const P=ze,n=ht,$=W;return l(),z($,{width:"600px",open:f.value,"onUpdate:open":i[1]||(i[1]=C=>f.value=C),confirmLoading:a.value,title:"导入csl文件创建机器人",onOk:R,onCancel:h},{default:o(()=>[e("div",Ht,[e("div",Jt,[t(P,{type:"info"},{description:o(()=>[...i[2]||(i[2]=[I(" 您可以将您编排好的机器人导出为csl文件,共享给他人使用。也可以从他人处获取导出的csl文件,通过导入形式创建机器人。 ",-1)])]),_:1})]),t(n,{fileList:b.value,"onUpdate:fileList":i[0]||(i[0]=C=>b.value=C),name:"file",multiple:!1,maxCount:1,accept:".csl","before-upload":m,onChange:s},{default:o(()=>[e("p",Kt,[t(L(kt),{class:"upload-icon"})]),i[3]||(i[3]=e("p",{class:"upload-text"},"点击或将文件拖拽到这里上传",-1)),i[4]||(i[4]=e("p",{class:"upload-hint"},"仅支持从chatwiki导出生成的csl文件",-1))]),_:1},8,["fileList"])])]),_:1},8,["open","confirmLoading"])}}},Qt=Z(Yt,[["__scopeId","data-v-ae06ccf0"]]),Xt={class:"form-item"},Zt={class:"form-content"},eo={__name:"edit-group",emits:["ok"],setup(U,{expose:G,emit:A}){const x=p(!1),f=A,a=p("修改分组"),b=Ue({group_id:"",robot_id:""}),d=p([]),h=s=>{b.group_id=s.group_id||"0",b.robot_id=s.id||"",m(),x.value=!0},R=()=>{if(!b.group_id)return O.error("请选择分组");rt({...b}).then(s=>{O.success(`${a.value}成功`),x.value=!1,f("ok")})},m=()=>{Be().then(s=>{d.value=s.data||[]})};return G({show:h}),(s,g)=>{const i=yt,P=gt,n=W;return l(),_("div",null,[t(n,{open:x.value,"onUpdate:open":g[1]||(g[1]=$=>x.value=$),title:a.value,onOk:R},{default:o(()=>[e("div",Xt,[g[2]||(g[2]=e("div",{class:"form-label"},"分组名称：",-1)),e("div",Zt,[t(P,{value:b.group_id,"onUpdate:value":g[0]||(g[0]=$=>b.group_id=$),style:{width:"100%"},placeholder:"请选择分组"},{default:o(()=>[(l(!0),_(V,null,Y(d.value,$=>(l(),z(i,{value:$.id},{default:o(()=>[I(T($.group_name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])])])]),_:1},8,["open","title"])])}}},to=Z(eo,[["__scopeId","data-v-5680d53a"]]),oo=()=>{const U=et();return{openUrlWithToken:A=>{const x=U.getToken;if(!x){console.warn("Token is missing");return}if(!A){console.warn("URL is missing");return}const f=A.includes("?")?"&":"?",a=`${A}${f}token=${x}`;window.open(a,"_blank")}}};function so(U={}){return le.get({url:"/manage/getMcpServerList",params:U})}function no(U={}){return le.post({headers:{"Content-Type":"multipart/form-data"},url:"/manage/saveMcpServer",data:U})}function lo(U={}){return le.post({url:"/manage/deleteMcpServer",data:U})}function ao(U={}){return le.post({url:"/manage/updateMcpServerPublishStatus",data:U})}function io(U={}){return le.post({url:"/manage/saveMcpTool",data:U})}function uo(U={}){return le.post({url:"/manage/editMcpTool",data:U})}function co(U={}){return le.post({url:"/manage/deleteMcpTool",data:U})}const ro={class:"avatar-box"},_o={__name:"mcp-store",emits:["ok"],setup(U,{expose:G,emit:A}){const x=A,f=p(!1),a=p(!1),b=p(null),d={avatar:Oe,name:"",description:"",server_id:""},h=Ue({});function R(g=null){Object.assign(h,g||d),b.value=null,f.value=!0}function m(g){b.value=g}function s(){var g;try{if(a.value=!0,h.name=h.name.trim(),h.description=h.description.trim(),!h.name)throw"请输入MCP插件名称";if(!h.description)throw"请输入MCP插件描述";let i={...h};b.value&&(i.avatar=(g=b.value)==null?void 0:g.file),no(i).then(P=>{x("ok",h),O.success("已保存"),f.value=!1}).finally(()=>{a.value=!1})}catch(i){a.value=!1,O.error(i)}}return G({show:R}),(g,i)=>{const P=he,n=We,$=je,C=Ve,M=W;return l(),z(M,{open:f.value,"onUpdate:open":i[3]||(i[3]=y=>f.value=y),title:h.server_id?"编辑MCP":"添加MCP",width:"472px","confirm-loading":a.value,onOk:s},{default:o(()=>[e("div",ro,[t(Ne,{value:h.avatar,"onUpdate:value":i[0]||(i[0]=y=>h.avatar=y),onChange:m},null,8,["value"]),i[4]||(i[4]=e("div",{class:"tip-info"},"点击替换，建议尺寸为100*100px，大小不超过100kb",-1))]),t(C,{class:"form-box",labelAlign:"left"},{default:o(()=>[t(n,{label:"MCP插件名称",required:"",colon:!1},{default:o(()=>[t(P,{value:h.name,"onUpdate:value":i[1]||(i[1]=y=>h.name=y),placeholder:"请输入MCP插件名称，最多20个字",maxlength:20},null,8,["value"])]),_:1}),t(n,{label:"描述",colon:!1},{default:o(()=>[t($,{value:h.description,"onUpdate:value":i[2]||(i[2]=y=>h.description=y),"auto-size":{minRows:2,maxRows:5},placeholder:"请输入描述",maxlength:20},null,8,["value"])]),_:1}),h.server_id?X("",!0):(l(),_(V,{key:0},[i[5]||(i[5]=e("div",{class:"tit-box"},[I("配置信息 "),e("span",{class:"desc"},"以下配置创建完成后自动生成")],-1)),t(n,{label:"插件URL",colon:!1},{default:o(()=>[t(P,{disabled:"",placeholder:"创建完成后默认生成"})]),_:1}),t(n,{label:"授权方式",colon:!1},{default:o(()=>[t(P,{disabled:"",placeholder:"Service token / API key"})]),_:1}),t(n,{label:"请求头",colon:!1},{default:o(()=>[t(P,{disabled:"",placeholder:"Authorization"})]),_:1}),t(n,{label:"API KEY",colon:!1},{default:o(()=>[t(P,{disabled:"",placeholder:"创建完成后默认生成"})]),_:1})],64))]),_:1})]),_:1},8,["open","title","confirm-loading"])}}},po=Z(_o,[["__scopeId","data-v-2693434d"]]),vo={class:"data-list"},fo=["onClick"],mo=["src"],ko={class:"info"},ho={class:"tit"},bo={class:"desc"},go={key:1,class:"status-tag waiting"},yo={__name:"select-workflow-modal",emits:["ok"],setup(U,{expose:G,emit:A}){const x=A,f=p(!1),a=p([]),b=p([]);function d(m=[]){b.value=m,f.value=!0,h()}function h(){qe({application_type:1}).then(m=>{a.value=m.data||[],a.value.forEach(s=>{s.checked=b.value.includes(s.id)})})}function R(){f.value=!1,x("ok",a.value.filter(m=>m.checked).map(m=>m.id),a)}return G({show:d}),(m,s)=>{const g=ze,i=$t,P=W;return l(),z(P,{open:f.value,"onUpdate:open":s[0]||(s[0]=n=>f.value=n),title:"关联工作流",width:"669px",onOk:R},{default:o(()=>[t(g,{class:"zm-alert-info mt24",type:"info",message:"选择工作流后，会自动生成唯一标识符，可修改","show-icon":""}),e("div",vo,[(l(!0),_(V,null,Y(a.value,(n,$)=>(l(),_("div",{key:$,class:de(["data-item",{disabled:n.has_published!=1}]),onClick:C=>n.checked=!n.checked},[e("img",{class:"avatar",src:n.robot_avatar},null,8,mo),e("div",ko,[e("div",null,[e("div",ho,T(n.robot_name),1),e("div",bo,T(n.robot_intro),1)]),n.has_published==1?(l(),z(i,{key:0,checked:n.checked,"onUpdate:checked":C=>n.checked=C},null,8,["checked","onUpdate:checked"])):(l(),_("span",go,[t(L(He)),s[1]||(s[1]=I(" 未发布",-1))]))])],10,fo))),128))])]),_:1},8,["open"])}}},$o=Z(yo,[["__scopeId","data-v-214b9222"]]),Co={class:"_mcp-box"},xo={key:0,class:"loading-box"},wo={class:"base-info-box"},Mo={class:"app-info"},To=["src"],Ro={class:"info-box"},Po={class:"left-box"},So={class:"name"},Oo={key:0,class:"status-tag finished"},Lo={key:1,class:"status-tag waiting"},Uo={class:"desc"},Ao={class:"right-box"},Io={class:"app-data"},Do={class:"data-item"},Eo={class:"title"},Go={class:"value"},Fo={class:"tools-box"},Bo={class:"head-box"},qo={key:0,class:"tools-list"},No={class:"left"},zo={class:"tit"},Vo={class:"key"},Wo={class:"desc"},jo={class:"params"},Ho={class:"params-box"},Jo={class:"field"},Ko={class:"name"},Yo={class:"type"},Qo={key:0,class:"required"},Xo={class:"desc"},Zo={key:1,class:"empty-box"},es={key:2,class:"empty-box"},ts={class:"mt4"},os={__name:"mcp-box",setup(U){const G=p(null),A=p(null),x=p(!0),f=p(!1),a=p(null),b=p([]),d=p([]),h=p(!1),R=p(!1),m=p(""),s=p(null);ke(()=>{g()});function g(){x.value=!0,i()}function i(){so().then(k=>{var r,H,te;a.value=((r=k==null?void 0:k.data)==null?void 0:r.info)||{},d.value=((H=k==null?void 0:k.data)==null?void 0:H.tool_list)||{},a.value.status_bool=((te=a.value)==null?void 0:te.publish_status)==1,d.value.forEach(J=>{J.params=Le(J.params,[])}),n()}).finally(()=>{x.value=!1})}function P(){const k=()=>{a.value.status_bool=!a.value.status_bool},r=()=>{f.value=!0,ao({server_id:a.value.id,publish_status:Number(a.value.status_bool)}).then(H=>{O.success("操作完成")}).finally(()=>{f.value=!1}).catch(()=>{k()})};a.value.status_bool?r():W.confirm({title:"确认关闭MCP服务？",content:"关闭后，其他应用的位置都不可使用！确认关闭？",okText:"确定",cancelText:"取消",onOk:()=>r(),onCancel:()=>k()})}function n(){var k;b.value=[{title:"URL",value:`${window.location.origin}/mcp`},{title:"请求方式",value:"POST"},{title:"授权方式",value:"Service token / API key"},{title:"请求参数名",value:"Authorization"},{title:"API key",value:`Bearer ${(k=a.value)==null?void 0:k.api_key}`}]}function $(){var r;let k=null;((r=a.value)==null?void 0:r.id)>0&&(k={avatar:a.value.avatar,name:a.value.name,description:a.value.description,server_id:a.value.id}),G.value.show(k)}function C(){W.confirm({title:"确认删除MCP服务？",content:"删除后，其他应用的位置都不可使用！确认删除？",okText:"确定",cancelText:"取消",onOk:()=>{lo({server_id:a.value.id}).then(()=>{O.success("已删除"),i()})}})}function M(){A.value.show(d.value.map(k=>k.robot_id))}function y(k){s.value=k,m.value=k.name,h.value=!0}const v=k=>{k.target.value=k.target.value.replace(/[^a-zA-Z0-9_]/g,""),m.value=k.target.value};function S(){if(!m.value)return O.warning("请输入标识符");R.value=!0,uo({tool_id:s.value.id,name:m.value}).then(k=>{s.value.name=m.value,h.value=!1,O.success("已保存")}).finally(()=>{R.value=!1})}function D(k){W.confirm({title:"确认删除该工具？",okText:"确定",cancelText:"取消",onOk:()=>{co({tool_id:k.id}).then(()=>{O.success("已删除"),i()})}})}function j(k){io({server_id:a.value.id,robot_id:k.toString()}).then(r=>{i(),O.success("已保存")})}return(k,r)=>{const H=be,te=xt,J=pe,E=ye,ne=ge,ee=$e,Ce=wt,xe=Tt,we=Rt,ce=he,ve=W;return l(),_("div",Co,[x.value?(l(),_("div",xo,[t(H)])):a.value.id>0?(l(),_(V,{key:1},[e("div",wo,[e("div",Mo,[e("img",{class:"avatar",src:a.value.avatar},null,8,To),e("div",Ro,[e("div",Po,[e("div",So,[I(T(a.value.name)+" ",1),a.value.status_bool?(l(),_("span",Oo,[t(L(Ct)),r[3]||(r[3]=I(" 已发布",-1))])):(l(),_("span",Lo,[t(L(He)),r[4]||(r[4]=I(" 未发布",-1))]))]),e("div",Uo,T(a.value.description),1)]),e("div",Ao,[t(te,{checked:a.value.status_bool,"onUpdate:checked":r[0]||(r[0]=B=>a.value.status_bool=B),onChange:P,loading:f.value,"checked-children":"开","un-checked-children":"关"},null,8,["checked","loading"]),t(J,{onClick:M,type:"primary",ghost:"",icon:re(L(me))},{default:o(()=>[...r[5]||(r[5]=[I("添加工作流",-1)])]),_:1},8,["icon"]),t(ee,null,{overlay:o(()=>[t(ne,null,{default:o(()=>[t(E,{onClick:$},{default:o(()=>[...r[6]||(r[6]=[I("编辑",-1)])]),_:1}),t(E,{onClick:C},{default:o(()=>[...r[7]||(r[7]=[e("span",{class:"cFB363F"},"删除",-1)])]),_:1})]),_:1})]),default:o(()=>[t(J,{icon:re(L(_e))},null,8,["icon"])]),_:1})])])]),e("div",Io,[(l(!0),_(V,null,Y(b.value,(B,oe)=>(l(),_(V,{key:oe},[e("div",Do,[e("div",Eo,T(B.title),1),e("div",Go,T(B.value),1)]),t(Ce,{type:"vertical",style:{height:"24px"}})],64))),128))])]),e("div",Fo,[e("div",Bo,[t(L(Mt),{class:"icon"}),I(" 工具列表（"+T(d.value.length||0)+"） ",1)]),d.value.length?(l(),_("div",qo,[(l(!0),_(V,null,Y(d.value,(B,oe)=>(l(),_("div",{key:oe,class:"tools-item"},[e("div",No,[e("div",zo,T(B.robot_name),1),e("div",Vo,"唯一标识符号："+T(B.name),1),e("div",Wo,T(B.robot_intro),1),e("div",jo,[(l(!0),_(V,null,Y(B.params.slice(0,5),(Q,ae)=>(l(),z(xe,{key:ae,bordered:!1},{default:o(()=>[I(T(Q.key),1)]),_:2},1024))),128)),t(we,{placement:"right"},{content:o(()=>[e("div",Ho,[(l(!0),_(V,null,Y(B.params,(Q,ae)=>(l(),_("div",{key:ae,class:"param-item"},[e("div",Jo,[e("span",Ko,T(Q.key),1),e("span",Yo,T(Q.typ),1),Q.required?(l(),_("span",Qo,"必填")):X("",!0)]),e("div",Xo,T(Q.desc),1)]))),128))])]),default:o(()=>[r[8]||(r[8]=e("a",null,"参数",-1))]),_:2},1024)])]),t(ee,null,{overlay:o(()=>[t(ne,null,{default:o(()=>[t(E,{onClick:Q=>y(B)},{default:o(()=>[...r[9]||(r[9]=[I("编辑标识符",-1)])]),_:1},8,["onClick"]),t(E,{onClick:Q=>D(B)},{default:o(()=>[...r[10]||(r[10]=[e("span",{class:"cFB363F"},"删除",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),default:o(()=>[t(J,{size:"small",icon:re(L(_e))},null,8,["icon"])]),_:2},1024)]))),128))])):(l(),_("div",Zo,[r[12]||(r[12]=e("img",{src:Pe},null,-1)),r[13]||(r[13]=e("div",{class:"title"},"暂未绑定工作流",-1)),t(J,{onClick:M,class:"btn",type:"primary"},{default:o(()=>[...r[11]||(r[11]=[I("立即绑定",-1)])]),_:1})]))])],64)):(l(),_("div",es,[r[15]||(r[15]=e("img",{src:Pe},null,-1)),r[16]||(r[16]=e("div",{class:"title"},"暂未添加工作流MCP插件",-1)),t(J,{onClick:$,class:"btn",type:"primary"},{default:o(()=>[...r[14]||(r[14]=[I("立即添加",-1)])]),_:1})])),t(po,{ref_key:"mcpRef",ref:G,onOk:i},null,512),t($o,{ref_key:"workflowRef",ref:A,onOk:j},null,512),t(ve,{open:h.value,"onUpdate:open":r[2]||(r[2]=B=>h.value=B),"confirm-loading":R.value,title:"编辑标识符",onOk:S},{default:o(()=>[r[17]||(r[17]=e("div",null,"标识符",-1)),e("div",ts,[t(ce,{value:m.value,"onUpdate:value":r[1]||(r[1]=B=>m.value=B),onInput:v,placeholder:"请输入标识符",maxlength:32},null,8,["value"])])]),_:1},8,["open","confirm-loading"])])}}},ss=Z(os,[["__scopeId","data-v-19e13f20"]]),ns={key:0,class:"checking-box"},ls={class:"cont"},as={class:"head-box"},is={class:"base-info-box"},us=["src"],ds={class:"info-box"},cs={class:"left"},rs={class:"name zm-line1"},_s={key:0,class:"auth-tag"},ps={key:1,class:"auth-tag fail"},vs={class:"right"},fs={class:"link"},ms={class:"link"},ks={class:"body-box"},hs={key:0,class:"no-auth-box"},bs={class:"main-tit"},gs={class:"extra-box"},ys={class:"update-time"},$s={class:"tools-box"},Cs={class:"info"},xs={class:"tit"},ws={class:"desc"},Ms={__name:"third-mcp-detail",emits:["del","edit","auth"],setup(U,{expose:G,emit:A}){const x=A,f=p(!1),a=p(!1),b=p(!1),d=p({});function h(P){d.value=P,f.value=!0}function R(){f.value=!1}function m(P){const n=()=>{a.value=!0,ue(!1),Se({provider_id:d.value.id}).then($=>{setTimeout(()=>{a.value=!1,d.value.has_auth=1,i(),O.success("已验证，授权完成")},2e3)}).catch($=>{d.value.has_auth=0,O.warning("授权失败："+$.message),a.value=!1}).finally(()=>{x("auth",d.value.has_auth),setTimeout(()=>{ue(!0)},500)})};P==2?W.confirm({title:"提示",content:"授权或者刷新应用列表都可能会影响已有工具的调用，确认继续操作吗？",onOk:()=>{n()}}):n()}function s(){x("edit",d.value)}function g(){x("del",d.value)}function i(P=!1){const n=()=>{zt({provider_id:d.value.id}).then($=>{let C=($==null?void 0:$.data)||{};C.tools=Le(C.tools,[]),C.up_time_text=Ee(C.update_time),d.value=C,P&&O.success("刷新完成")}).finally(()=>{b.value=!1})};if(P){if(b.value)return;W.confirm({title:"提示",content:"刷新应用列表或者授权都可能会影响已有工具的调用，确认继续操作吗？",onOk:()=>{b.value=!0,ue(!1),Se({provider_id:d.value.id}).then($=>{d.value.has_auth=1,n()}).catch($=>{d.value.has_auth=0,O.warning("验证授权失败："+$.message),b.value=!1}).finally(()=>{x("auth",d.value.has_auth),ue(!0)})}})}else n()}return G({show:h,hide:R,refresh:i}),(P,n)=>{const $=be,C=ye,M=ge,y=$e,v=pe,S=Ot;return l(),z(S,{open:f.value,"onUpdate:open":n[5]||(n[5]=D=>f.value=D),placement:"right",width:"400px",headerStyle:{display:"none"},bodyStyle:{padding:0}},{default:o(()=>[a.value?(l(),_("div",ns,[e("div",ls,[t($),n[6]||(n[6]=I(" 正在验证... ",-1))])])):X("",!0),e("div",as,[e("div",is,[e("img",{class:"avatar",src:d.value.avatar},null,8,us),e("div",ds,[e("div",cs,[e("div",rs,T(d.value.name),1),e("div",null,[d.value.has_auth==1?(l(),_("div",_s,"已授权")):(l(),_("div",ps,"未授权"))])]),e("div",vs,[t(y,null,{overlay:o(()=>[t(M,null,{default:o(()=>[t(C,{onClick:q(s,["stop"])},{default:o(()=>[...n[7]||(n[7]=[I("编辑",-1)])]),_:1}),t(C,{onClick:q(g,["stop"])},{default:o(()=>[...n[8]||(n[8]=[e("span",{class:"cFB363F"},"删除",-1)])]),_:1})]),_:1})]),default:o(()=>[t(L(_e),{class:"icon"})]),_:1}),t(L(Pt),{onClick:n[0]||(n[0]=D=>f.value=!1),class:"icon"})])])]),e("div",fs,T(d.value.description),1),e("div",ms,T(d.value.url),1),d.value.has_auth==1?(l(),z(v,{key:0,class:"auth-btn",onClick:n[1]||(n[1]=D=>m(2))},{default:o(()=>[...n[9]||(n[9]=[I("重新授权",-1)])]),_:1})):(l(),z(v,{key:1,type:"primary",class:"auth-btn",onClick:n[2]||(n[2]=D=>m(1))},{default:o(()=>[...n[10]||(n[10]=[I("授 权",-1)])]),_:1}))]),e("div",ks,[d.value.has_auth!=1?(l(),_("div",hs,[n[11]||(n[11]=e("img",{src:qt},null,-1)),n[12]||(n[12]=e("div",{class:"tit"},"需要授权",-1)),n[13]||(n[13]=e("div",{class:"desc"},"授权后，MCP工具将显示在这里",-1)),e("a",{class:"link",onClick:n[3]||(n[3]=D=>m(1))},"立即授权")])):(l(),_(V,{key:1},[e("div",bs,[e("span",null,T(d.value.tools.length)+"个可用工具",1),e("div",gs,[e("div",ys,T(d.value.up_time_text)+"更新",1),e("a",{class:"refresh-btn",onClick:n[4]||(n[4]=D=>i(!0))},[t(L(St),{spin:b.value},null,8,["spin"]),n[14]||(n[14]=I(" 刷新 ",-1))])])]),e("div",$s,[(l(!0),_(V,null,Y(d.value.tools,(D,j)=>(l(),_("div",{key:j,class:"tool-item"},[n[15]||(n[15]=e("img",{class:"cover",src:Nt},null,-1)),e("div",Cs,[e("div",xs,T(D.name),1),e("div",ws,T(D.description),1)])]))),128))])],64))])]),_:1},8,["open"])}}},Ts=Z(Ms,[["__scopeId","data-v-1870cc48"]]),Rs={key:0,class:"checking-box"},Ps={class:"cont"},Ss={class:"avatar-box"},Os={key:0,class:"cFB363F"},Ls={class:"req-head-box"},Us={__name:"third-mcp-store",emits:["ok"],setup(U,{expose:G,emit:A}){const x=A,f=p(0),a=p(!1),b=p(!1),d=p(!1),h=p(null),R=p(""),m={avatar:Oe,name:"",description:"",provider_id:"",url:"",request_timeout:"30",headers:[]},s=Ue({});function g(y=null){if(Object.assign(s,y||m),h.value=null,s.headers=[],y){f.value=y.id,s.provider_id=y.id;let v=JSON.parse(y.headers);for(let S in v)s.headers.push({key:S,value:v[S]})}R.value=JSON.stringify({headers:s.headers,url:s.url}),a.value=!0}function i(y){h.value=y}function P(){s.headers.push({key:"",value:""})}function n(y){s.headers.splice(y,1)}function $(){return R.value!=JSON.stringify({headers:s.headers,url:s.url})}function C(){const y=O.loading("保存完成，正在进行授权验证...",0);b.value=!0,setTimeout(()=>{ue(!1),Se({provider_id:f.value}).then(v=>{O.success("授权完成！")}).catch(v=>{O.warning("授权失败："+v.message)}).finally(()=>{y(),b.value=!1,a.value=!1,x("ok",s),setTimeout(()=>{ue(!0)},500)})},1800)}function M(){var y;try{if(d.value=!0,s.name=s.name.trim(),s.description=s.description.trim(),!s.name)throw"请输入MCP插件名称";if(!s.description)throw"请输入MCP插件描述";if(!s.url)throw"请输入服务端点的URL";if(!s.request_timeout)throw"请输入超时时间";let v={...s};h.value&&(v.avatar=(y=h.value)==null?void 0:y.file),v.headers={};for(let S of s.headers)S.key=S.key.trim(),S.value=S.value.trim(),S.key&&S.value&&(v.headers[S.key]=S.value);v.headers=JSON.stringify(v.headers),delete v.toools,Vt(v).then(S=>{let{provider_id:D}=(S==null?void 0:S.data)||{};f.value=D,$()?C():(x("ok",s),O.success("已保存"),a.value=!1)}).finally(()=>{d.value=!1})}catch(v){d.value=!1,O.error(v)}}return G({show:g}),(y,v)=>{const S=be,D=he,j=We,k=je,r=Lt,H=pe,te=Ve,J=W;return l(),z(J,{open:a.value,"onUpdate:open":v[5]||(v[5]=E=>a.value=E),zIndex:1002,title:s.provider_id?"编辑MCP":"添加MCP",width:"472px","confirm-loading":d.value,onOk:M},{default:o(()=>[b.value?(l(),_("div",Rs,[e("div",Ps,[t(S),v[6]||(v[6]=I(" 正在验证... ",-1))])])):X("",!0),e("div",Ss,[t(Ne,{value:s.avatar,"onUpdate:value":v[0]||(v[0]=E=>s.avatar=E),onChange:i},null,8,["value"]),v[7]||(v[7]=e("div",{class:"tip-info"},"点击替换，建议尺寸为100*100px，大小不超过100kb",-1))]),t(te,{class:"form-box",labelAlign:"left"},{default:o(()=>[t(j,{label:"MCP插件名称",required:"",colon:!1},{default:o(()=>[t(D,{value:s.name,"onUpdate:value":v[1]||(v[1]=E=>s.name=E),placeholder:"请输入MCP插件名称，最多20个字",maxlength:20},null,8,["value"])]),_:1}),t(j,{label:"描述",colon:!1},{default:o(()=>[t(k,{value:s.description,"onUpdate:value":v[2]||(v[2]=E=>s.description=E),"auto-size":{minRows:2,maxRows:5},placeholder:"请输入描述",maxlength:120},null,8,["value"])]),_:1}),v[11]||(v[11]=e("div",{class:"tit-box"},"配置信息",-1)),t(j,{label:"插件URL",colon:!1},{default:o(()=>[t(D,{value:s.url,"onUpdate:value":v[3]||(v[3]=E=>s.url=E),placeholder:"服务端点的URL"},null,8,["value"]),s.provider_id?(l(),_("div",Os,"修改服务端点 URL 可能会影响使用当前 MCP的应用")):X("",!0)]),_:1}),t(j,{label:"超时时间",colon:!1},{default:o(()=>[t(r,{value:s.request_timeout,"onUpdate:value":v[4]||(v[4]=E=>s.request_timeout=E),precision:0,style:{width:"100%"},placeholder:"请输入超时时间"},null,8,["value"])]),_:1}),t(j,{label:"请求头",colon:!1},{default:o(()=>[v[10]||(v[10]=e("div",{class:"tip-info"},"发送到 MCP 服务器的额外 HTTP 请求头",-1)),e("div",Ls,[v[9]||(v[9]=e("div",{class:"req-head-item"},[e("div",{class:"tit"},"请求头名称"),e("div",{class:"tit"},"请求头值")],-1)),(l(!0),_(V,null,Y(s.headers,(E,ne)=>(l(),_("div",{key:ne,class:"req-head-item"},[t(D,{value:E.key,"onUpdate:value":ee=>E.key=ee,placeholder:"请输入"},null,8,["value","onUpdate:value"]),t(D,{value:E.value,"onUpdate:value":ee=>E.value=ee,placeholder:"请输入"},null,8,["value","onUpdate:value"]),t(L(Ut),{onClick:ee=>n(ne)},null,8,["onClick"])]))),128)),t(H,{class:"add-btn",type:"dashed",icon:re(L(me)),onClick:P},{default:o(()=>[...v[8]||(v[8]=[I("添加请求头",-1)])]),_:1},8,["icon"])])]),_:1})]),_:1})]),_:1},8,["open","title","confirm-loading"])}}},Je=Z(Us,[["__scopeId","data-v-7ab5a130"]]),As={class:"_mcp-box"},Is={key:0,class:"loading-box"},Ds={key:1,class:"list-box"},Es=["onClick"],Gs={class:"base-info-box"},Fs=["src"],Bs={class:"info-box"},qs={class:"name zm-line1"},Ns={key:0,class:"auth-tag"},zs={key:1,class:"auth-tag fail"},Vs={class:"zm-line1"},Ws={class:"bottom"},js={class:"extra-box"},Hs={class:"extra-item"},Js={class:"extra-item"},Ks={key:2,class:"empty-box"},Ys={__name:"third-mcp-box",emits:["listLoaded"],setup(U,{expose:G,emit:A}){const x=Ge(),f=p(null),a=p(null),b=p(!0),d=p([]),h=A;ke(()=>{R()});function R(){b.value=!0,s()}function m(){s(),f.value&&f.value.refresh()}function s(){Wt().then(C=>{let M=(C==null?void 0:C.data)||[];M.forEach(y=>{y.tools=Le(y.tools,[]),y.up_time_text=Ee(y.update_time)}),d.value=M,h("listLoaded",d.value.length)}).finally(()=>{b.value=!1})}function g(C){f.value.show(C)}function i(){a.value.show()}function P(C){a.value.show(C)}function n(){const C=x.resolve({path:"/mcp/index"}).href;window.open(C,"_blank")}function $(C){W.confirm({title:"确认删除该MCP插件？",content:"删除后，其他应用的位置都不可使用！确认删除？",okText:"确定",cancelText:"取消",onOk:()=>{jt({provider_id:C.id}).then(()=>{O.success("已删除"),s(),f.value&&f.value.hide()})}})}return G({update:m}),(C,M)=>{const y=be,v=pe,S=ye,D=ge,j=$e;return l(),_("div",As,[b.value?(l(),_("div",Is,[t(y)])):d.value.length?(l(),_("div",Ds,[(l(!0),_(V,null,Y(d.value,(k,r)=>(l(),_("div",{onClick:H=>g(k),key:r,class:"app-item"},[e("div",Gs,[e("img",{class:"avatar",src:k.avatar},null,8,Fs),e("div",Bs,[e("div",qs,T(k.name),1),e("div",null,[k.has_auth==1?(l(),_("div",Ns,"已授权")):(l(),_("div",zs,"未授权"))])])]),e("div",Vs,T(k.url),1),e("div",Ws,[e("div",js,[e("div",Hs,"可用工具："+T(k.tools.length),1),e("div",Js,T(k.up_time_text)+"更新",1)]),t(j,null,{overlay:o(()=>[t(D,null,{default:o(()=>[t(S,{onClick:q(H=>P(k),["stop"])},{default:o(()=>[...M[1]||(M[1]=[I("编辑",-1)])]),_:1},8,["onClick"]),t(S,{onClick:q(H=>$(k),["stop"])},{default:o(()=>[...M[2]||(M[2]=[e("span",{class:"cFB363F"},"删除",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),default:o(()=>[t(v,{onClick:M[0]||(M[0]=q(()=>{},["stop"])),size:"small",icon:re(L(_e))},null,8,["icon"])]),_:2},1024)])],8,Es))),128))])):(l(),_("div",Ks,[M[4]||(M[4]=e("img",{src:Pe},null,-1)),M[5]||(M[5]=e("div",{class:"title"},"暂未添加外部MCP插件",-1)),e("div",{class:"desc-box"},[e("div",{class:"link",onClick:n},"更多MCP？去MCP广场")]),t(v,{onClick:i,class:"btn",type:"primary"},{default:o(()=>[...M[3]||(M[3]=[I("立即添加",-1)])]),_:1})])),t(Ts,{ref_key:"mcpDetailRef",ref:f,onDel:$,onEdit:P,onAuth:s},null,512),t(Je,{ref_key:"mcpStoreRef",ref:a,onOk:m},null,512)])}}},Qs=Z(Ys,[["__scopeId","data-v-8236a2d9"]]),Xs={class:"_mcp_container"},Zs={class:"tabs-box"},en={__name:"mcp-panel",emits:["thirdMcpListEmpty"],setup(U,{expose:G,emit:A}){const x=Fe(),f=p(null),a=p(Number(localStorage.getItem("zm:chatwiki:mcp:active")||1)),b=A;ke(()=>{x.query.mcp>0&&d(Number(x.query.mcp))});function d(m){a.value=m,localStorage.setItem("zm:chatwiki:mcp:active",m)}function h(){a.value==2&&f.value.update()}function R(m){b("thirdMcpListEmpty",m===0)}return G({update:h}),(m,s)=>(l(),_("div",Xs,[e("div",Zs,[e("div",{class:de(["tab-item",{active:a.value==1}]),onClick:s[0]||(s[0]=g=>d(1))},"工作流MCP",2),e("div",{class:de(["tab-item",{active:a.value==2}]),onClick:s[1]||(s[1]=g=>d(2))},"外部MCP",2)]),a.value==1?(l(),z(ss,{key:0,ref_key:"mcpRef",ref:f},null,512)):(l(),z(Qs,{key:1,ref_key:"mcpRef",ref:f,onListLoaded:R},null,512))]))}},tn=Z(en,[["__scopeId","data-v-f8b38e8b"]]),on={class:"robot-page"},sn={class:"list-toolbar"},nn={class:"toolbar-box"},ln={class:"toolbar-box",style:{"text-align":"right"}},an={class:"create-action"},un=["src"],dn={class:"create-action"},cn=["src"],rn={class:"create-action"},_n=["src"],pn={class:"create-action"},vn=["src"],fn={key:1,class:"desc-box"},mn={key:1,class:"list-group-box"},kn={key:0,class:"group-head-box"},hn={class:"head-title"},bn={class:"search-box"},gn={class:"classify-box"},yn=["onClick"],$n={class:"classify-title"},Cn={class:"right-content"},xn={key:0,class:"btn-box"},wn={class:"hover-btn-wrap"},Mn=["onClick"],Tn=["onClick"],Rn={class:"robot-scroll-box"},Pn={class:"list-box"},Sn={key:0,class:"empty-box"},On=["onClick"],Ln={class:"list-item"},Un={class:"robot-info"},An=["src"],In={class:"robot-info-content"},Dn={class:"robot-name"},En={class:"robot-type-tag"},Gn=["onClick"],Fn=["onClick"],Bn=["onClick"],qn=["onClick"],Nn=["onClick"],zn=["onClick"],Vn={__name:"robot-list",setup(U){const G=Ge(),A=Fe(),x=p([{title:"全部 (0)",value:"2"},{title:"聊天机器人 (0)",value:"0"},{title:"工作流 (0)",value:"1"},{title:"MCP插件",value:"3"}]),f=tt();let{role_permission:a,role_type:b}=f;const d=Te(()=>b==1||a.includes("RobotCreate")),h=p(null),R=p("2"),m=p(""),s=p([]);let g="robot-list-hide-group-key";const i=p(localStorage.getItem(g)==1),P=()=>{i.value=!i.value,localStorage.setItem(g,i.value?1:0)},n=Te(()=>{let c=s.value;return m.value!=""&&(c=c.filter(u=>u.group_id==m.value)),R.value==2?c:c.filter(u=>u.application_type==R.value)}),$=()=>{M(),oe()};function C(){const c=G.resolve({path:"/mcp/index"}).href;window.open(c,"_blank")}const M=()=>{qe().then(c=>{let u=0,N=0,F=0;c.data.forEach(se=>{se.application_type==0?N++:F++,u++}),x.value=[{title:"全部 ("+u+")",value:"2"},{title:"聊天机器人 ("+N+")",value:"0"},{title:"工作流 ("+F+")",value:"1"},{title:"MCP插件",value:"3"}],s.value=c.data}).catch(()=>{})},y=p(null),v=p(null),S=p(null),D=c=>{y.value.open(c),y.value.setGroupId(m.value)},j=()=>{S.value.show()},k=()=>{v.value.open()},r=c=>{M(),H(c)},H=({id:c,robot_key:u,application_type:N})=>{localStorage.setItem("last_local_robot_id",c),N==0?window.open(`/#/robot/config/basic-config?id=${c}&robot_key=${u}`,"_blank","noopener"):window.open(`/#/robot/config/workflow?id=${c}&robot_key=${u}`,"_blank","noopener")},te=c=>{if(ut(c.id)!=4)return O.error("您没有删除机器人的权限");let N=3,F=W.confirm({title:`删除机器人${c.robot_name}`,icon:t(Re),content:"您确定要删除此机器人吗？",okText:N+" 确 定",okType:"danger",cancelText:"取 消",okButtonProps:{disabled:!0},onOk(){J(c)},onCancel(){}}),se=setInterval(()=>{N==1?(F.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(se),se=void 0):(N-=1,F.update({okText:N+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},J=({id:c})=>{pt({id:c}).then(()=>{O.success("删除成功"),M()})},E=c=>{let u=3,N=W.confirm({title:`复制机器人${c.robot_name}`,icon:t(Re),content:"您确定要复制此机器人吗？",okText:u+" 确 定",okType:"danger",cancelText:"取 消",okButtonProps:{disabled:!0},onOk(){ne(c)},onCancel(){}}),F=setInterval(()=>{u==1?(N.update({okText:"确 定",okButtonProps:{disabled:!1}}),clearInterval(F),F=void 0):(u-=1,N.update({okText:u+" 确 定",okButtonProps:{disabled:!0}}))},1e3)},ne=({id:c})=>{vt({id:c}).then(()=>{O.success("复制成功"),M()})},ee=c=>{const{openUrlWithToken:u}=oo();u(`/manage/robotExport?id=${c.id}`)},Ce=c=>{window.open(`#/robot/test?robot_key=${c.robot_key}&id=${c.id}`)},xe=c=>{window.open(`#/robot/config/session-record?robot_key=${c.robot_key}&id=${c.id}`)},we=c=>{window.open(`#/robot/config/statistical_analysis?robot_key=${c.robot_key}&id=${c.id}`)},ce=p(""),ve=p([]),B=Te(()=>ve.value.filter(c=>c.group_name.includes(ce.value))),oe=()=>{Be({application_type:R.value==2?null:R.value}).then(c=>{let u=c.data||[],N=0;u.forEach(F=>{N+=+F.total}),ve.value=[{group_name:"全部",total:N,id:""},...u]})},Q=c=>{m.value=c.id,M()},ae=p(null),Ae=c=>{ae.value.show({...c})},Ie=p(null),Ke=c=>{Ie.value.show({...c})},Ye=c=>{W.confirm({title:`确认删除分组${c.group_name}`,icon:t(Re),content:"",okText:"确认",okType:"danger",cancelText:"取消",onOk(){_t({id:c.id}).then(()=>{O.success("删除成功"),oe(),m.value==c.id&&(m.value="",M())})}})},Qe=()=>{h.value&&h.value.update()};return ke(()=>{R.value=A.query.active||"2",M(),oe()}),(c,u)=>{const N=pe,F=ye,se=ge,Me=$e,ie=At,Xe=he,De=dt,Ze=Gt,fe=it;return l(),_("div",on,[u[17]||(u[17]=e("h3",{class:"page-title"},"应用",-1)),t(Ft,{class:"mb-16",title:"使用说明"},{default:o(()=>[...u[9]||(u[9]=[e("div",null,[e("p",null," 1、应用包括两种类型：聊天机器人、工作流。聊天机器人适合新手用户，关联知识库后只需简单配置，即可创建一个基于私有知识库的问答机器人。工作流适合高级用户，利用系统预制节点自定义任务流程，适合解决复杂任务。 "),e("p",null,"2、发现模块也提供了丰富模版，可以根据需要选择适合模版快速创建应用。")],-1)])]),_:1}),e("div",sn,[e("div",nn,[t(Bt,{tabs:x.value,onChange:oe,value:R.value,"onUpdate:value":u[0]||(u[0]=w=>R.value=w)},null,8,["tabs","value"])]),e("div",ln,[d.value?(l(),z(Me,{key:0},{overlay:o(()=>[t(se,null,{default:o(()=>[t(F,{onClick:u[2]||(u[2]=q(w=>D(0),["prevent"]))},{default:o(()=>[e("span",an,[e("img",{class:"icon",src:L(ot),alt:""},null,8,un),u[11]||(u[11]=e("span",null,"聊天机器人",-1))])]),_:1}),t(F,{onClick:u[3]||(u[3]=q(w=>D(1),["prevent"]))},{default:o(()=>[e("span",dn,[e("img",{class:"icon",src:L(st),alt:""},null,8,cn),u[12]||(u[12]=e("span",null,"工作流",-1))])]),_:1}),t(F,{onClick:q(j,["prevent"])},{default:o(()=>[e("span",rn,[e("img",{class:"icon",src:L(Oe),alt:""},null,8,_n),u[13]||(u[13]=e("span",null,"外部MCP",-1))])]),_:1}),t(F,{onClick:k},{default:o(()=>[e("span",pn,[e("img",{class:"icon",src:L(nt),alt:""},null,8,vn),u[14]||(u[14]=e("span",null,"导入csl创建",-1))])]),_:1})]),_:1})]),default:o(()=>[t(N,{type:"primary",onClick:u[1]||(u[1]=q(()=>{},["prevent"]))},{icon:o(()=>[t(L(me))]),default:o(()=>[u[10]||(u[10]=I(" 创建应用 ",-1))]),_:1})]),_:1})):X("",!0),d.value&&R.value=="3"?(l(),_("div",fn,[e("div",{class:"link",onClick:C},"更多MCP？去MCP广场")])):X("",!0)])]),R.value==3?(l(),z(tn,{key:0,ref_key:"mcpPanelRef",ref:h},null,512)):(l(),_("div",mn,[e("div",{class:de(["group-list-box",{"hide-group":i.value}])},[t(De,{style:{"padding-right":"16px"}},{default:o(()=>[i.value?X("",!0):(l(),_("div",kn,[e("div",hn,[u[15]||(u[15]=e("div",null,"机器人分组",-1)),t(ie,{title:"新建分组"},{default:o(()=>[e("div",{class:"hover-btn-wrap",onClick:u[4]||(u[4]=w=>Ae({}))},[t(L(me))])]),_:1})]),e("div",bn,[t(Xe,{value:ce.value,"onUpdate:value":u[6]||(u[6]=w=>ce.value=w),allowClear:"",placeholder:"搜索分组",style:{width:"100%"}},{suffix:o(()=>[t(L(It),{onClick:u[5]||(u[5]=q(()=>{},["stop"]))})]),_:1},8,["value"])])])),e("div",gn,[(l(!0),_(V,null,Y(B.value,w=>(l(),_("div",{class:de(["classify-item",{active:w.id==m.value}]),onClick:K=>Q(w),key:w.id},[e("div",$n,T(w.group_name),1),e("div",Cn,[e("div",{class:de(["num",{"num-block":w.id<=0}])},T(w.total),3),w.id>0?(l(),_("div",xn,[t(Me,{placement:"bottomRight"},{overlay:o(()=>[t(se,null,{default:o(()=>[t(F,null,{default:o(()=>[e("div",{onClick:q(K=>Ae(w),["stop"])},"重命名",8,Mn)]),_:2},1024),t(F,null,{default:o(()=>[e("div",{onClick:q(K=>Ye(w),["stop"])},"删 除",8,Tn)]),_:2},1024)]),_:2},1024)]),default:o(()=>[e("div",wn,[t(L(_e))])]),_:2},1024)])):X("",!0)])],10,yn))),128))])]),_:1}),t(ie,{placement:"right",title:i.value?"展开分组":"收起分组"},{default:o(()=>[e("div",{class:"hide-group-box",onClick:P},[i.value?(l(),z(L(Et),{key:1})):(l(),z(L(Dt),{key:0}))])]),_:1},8,["title"])],2),e("div",Rn,[t(De,{style:{"padding-right":"16px"}},{default:o(()=>[e("div",Pn,[n.value.length==0?(l(),_("div",Sn,[t(Ze)])):X("",!0),(l(!0),_(V,null,Y(n.value,w=>(l(),_("div",{class:"list-item-wrapper",key:w.id,onClick:K=>H(w)},[e("div",Ln,[e("div",Un,[e("img",{class:"robot-avatar",src:w.robot_avatar,alt:""},null,8,An),e("div",In,[e("div",Dn,T(w.robot_name),1),e("div",En,T(w.application_type==0?"聊天机器人":"工作流"),1)])]),t(ie,{title:L(lt)(w.robot_intro,w,14,2,10),placement:"top"},{default:o(()=>[e("div",{class:"robot-desc",ref_for:!0,ref:K=>L(at)(K,w)},T(w.robot_intro),513)]),_:2},1032,["title"]),e("div",{class:"robot-action",onClick:u[8]||(u[8]=q(()=>{},["stop"]))},[t(ie,{title:"聊天测试"},{default:o(()=>[e("div",{class:"robot-action-item",onClick:q(K=>Ce(w),["stop"])},[t(fe,{class:"action-icon",name:"chat"})],8,Gn)]),_:2},1024),t(ie,{title:"会话记录"},{default:o(()=>[e("div",{class:"robot-action-item",onClick:q(K=>xe(w),["stop"])},[t(fe,{class:"action-icon",name:"session"})],8,Fn)]),_:2},1024),t(ie,{title:"统计分析"},{default:o(()=>[e("div",{class:"robot-action-item",onClick:q(K=>we(w),["stop"])},[t(fe,{class:"action-icon",name:"analysis"})],8,Bn)]),_:2},1024),t(Me,null,{overlay:o(()=>[t(se,null,{default:o(()=>[t(F,null,{default:o(()=>[e("a",{class:"delete-text-color",href:"javascript:;",onClick:K=>te(w)},"删 除",8,qn)]),_:2},1024),t(F,null,{default:o(()=>[e("div",{onClick:q(K=>Ke(w),["stop"])},"修改分组",8,Nn)]),_:2},1024),t(F,null,{default:o(()=>[e("a",{class:"copy-text-color",href:"javascript:;",onClick:K=>E(w)},"复 制",8,zn)]),_:2},1024),t(F,{onClick:K=>ee(w)},{default:o(()=>[...u[16]||(u[16]=[e("span",null,"导出为csl",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),default:o(()=>[e("div",{class:"robot-action-item",onClick:u[7]||(u[7]=q(()=>{},["stop"]))},[t(fe,{class:"action-icon",name:"point-h"})])]),_:2},1024)])])],8,On))),128))])]),_:1})])])),t(ft,{ref_key:"addRobotAlertRef",ref:y,onOk:$},null,512),t(mt,{ref_key:"addGroupRef",ref:ae,onOk:$},null,512),t(to,{ref_key:"editGroupRef",ref:Ie,onOk:$},null,512),t(Qt,{ref_key:"importCslAlertRef",ref:v,onOk:r},null,512),t(Je,{ref_key:"thirdMcpRef",ref:S,onOk:Qe},null,512)])}}},ul=Z(Vn,[["__scopeId","data-v-357c8b68"]]);export{ul as default};
