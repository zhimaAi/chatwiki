import{_ as x,f as C,b as y,S as D,T as L,U as B,V as T}from"../../index-DxV-PNCd.js";import{Q as V,ap as q,b as u}from"./ui-antd-AfNpv4wx.js";import{f as l,ac as p,az as z,as as n,u as o,k as w,at as d,ai as N,ad as m}from"./vue-chunks-CGLjTDrY.js";import"./neo4j-L2Hgpmga.js";import"./utils-COBjqVvs.js";import"./other-BrZCAsTs.js";const E="/assets/img/client-download-pic-D_c9zEa_.png",F={class:"client-download-page"},I={key:0,class:"login-required-switch"},R={class:"need-login"},U={class:"page-title"},A={class:"page-body"},P={class:"app-info"},Q={class:"app-name"},W={class:"banner"},j={__name:"index",setup(G){const h=C();let{role_type:f}=h;const{t:s}=y("views.user.client-download.index"),a=l(!1),g=()=>{T({client_side_login_switch:a.value?1:0}).then(()=>{u.success(s("common.saveSuccess"))})},v=l(""),c=l(s("windows_download")),t=l(!1);let _=null;const r=()=>B({domain:""}).then(e=>(e.data.file_url?(t.value=!1,c.value=s("windows_download"),v.value=e.data.file_url,clearTimeout(_),_=null):(c.value=s("packaging"),t.value=!0,_=setTimeout(()=>{r()},5e3)),e)),k=()=>{t.value||r().then(e=>{e.data.file_url?L("",e.data.file_url):u.error(s("download_not_ready"))})};return(()=>{D().then(e=>{a.value=e.data.client_side_login_switch==1})})(),(e,i)=>{const S=V;return m(),p("div",F,[o(f)!="3"?(m(),p("div",I,[n("span",R,d(o(s)("need_login")),1),w(S,{checked:a.value,"onUpdate:checked":i[0]||(i[0]=b=>a.value=b),onChange:g},null,8,["checked"])])):z("",!0),n("h3",U,d(o(s)("client_download")),1),n("div",A,[n("div",P,[n("div",Q,d(o(s)("chat_wiki_pc_client")),1),n("div",W,[i[1]||(i[1]=n("img",{src:E,alt:""},null,-1)),n("div",{class:N(["download-btn",{disabled:t.value}]),onClick:k},[w(o(q),{class:"windows-icon"}),n("span",null,d(c.value),1)],2)])])])])}}},Z=x(j,[["__scopeId","data-v-8cba6e0b"]]);export{Z as default};
