import{b as $,e as D,P as B,f as U,Q as T}from"../../index-CuFGOJXl.js";import{d as A}from"./vuedraggable.umd-BwU7FuvS.js";import{aj as I,ad as M,p as O,H as P,a as E,J as F,z as H,M as J,F as L,e as Q,I as j}from"./ui-antd-BKjlZQNA.js";import{f as V,e as C,w as z,Y as m,_,a5 as e,a1 as R,ae as Y,k as s,a2 as l,u as o,G as w,a7 as r,r as q}from"./vue-chunks-yZ4gwLzA.js";import"./utils-smNh_pj2.js";const K="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2016%2016'%3e%3cpath%20fill='currentColor'%20d='M5%204.667A1.333%201.333%200%201%200%205%202a1.333%201.333%200%200%200%200%202.667ZM6.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM6.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM11%204.667A1.333%201.333%200%201%200%2011%202a1.333%201.333%200%200%200%200%202.667ZM12.333%208a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200ZM12.333%2012.667a1.333%201.333%200%201%201-2.666%200%201.333%201.333%200%200%201%202.666%200Z'%20data-follow-fill='%23000'/%3e%3c/svg%3e",W={class:"content-box"},X={class:"custom-table"},ee={class:"t-head"},te={class:"td"},se={class:"td"},ne={class:"t-body"},ae={class:"t-item"},oe={key:0},ie={key:1},le={class:"t-item flex-center"},ce={__name:"nav-setting",emits:["handleGetCompany"],setup(G,{emit:i}){const c=D(),S=I.PRESENTED_IMAGE_SIMPLE,v=i,p=V([]),g=C(()=>c.top_navigate);let u=c.topNavigateDefaultData;z(()=>g.value,f=>{let n=f||[];p.value=n.map(t=>({...u.find(y=>y.id==t.id),...t}))},{deep:!0,immediate:!0});const d=()=>{x()},x=()=>{B({id:c.id,top_navigate:JSON.stringify(p.value)}).then(f=>{E.success("保存成功"),v("handleGetCompany")})};return(f,n)=>{const t=O,h=P,y=I;return _(),m("div",W,[e("div",X,[e("div",ee,[e("div",te,[n[1]||(n[1]=e("span",{style:{"padding-left":"22px"}},"排序",-1)),s(t,{title:"长按图标拖动调整排序"},{default:l(()=>[s(o(M),{style:{"margin-left":"4px"}})]),_:1})]),e("div",se,[n[2]||(n[2]=w(" 是否在顶部显示 ",-1)),s(t,{title:"关闭后，将不显示在顶部导航栏。你依然可以点击右上角账号，在下拉菜单里面找到"},{default:l(()=>[s(o(M),{style:{"margin-left":"4px"}})]),_:1})])]),e("div",ne,[s(o(A),{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=a=>p.value=a),"item-key":"id",onEnd:d,group:"table-rows",handle:".drag-btn"},{item:l(({element:a,index:N})=>[(_(),m("div",{key:a.id,class:"t-row"},[e("div",ae,[n[3]||(n[3]=e("span",{class:"drag-btn"},[e("img",{src:K,alt:""})],-1)),a.name.length>30?(_(),m("span",oe,[s(t,null,{title:l(()=>[w(r(a.name),1)]),default:l(()=>[w(" "+r(a.name.slice(0,30)+"..."),1)]),_:2},1024)])):(_(),m("span",ie,r(a.name),1))]),e("div",le,[s(h,{disabled:a.isDisabled,onChange:x,checked:a.open,"onUpdate:checked":b=>a.open=b,"checked-children":"开","un-checked-children":"关"},null,8,["disabled","checked","onUpdate:checked"])])]))]),_:1},8,["modelValue"])])]),p.value.length==0?(_(),R(y,{key:0,style:{margin:"108px 0 24px 0"},image:o(S)},null,8,["image"])):Y("",!0)])}}},de=$(ce,[["__scopeId","data-v-b34a0c00"]]),_e={class:"enterprise-set"},re={class:"page-title"},pe={class:"enterprise-box"},me={class:"content-label"},ue={class:"content-name"},ve={key:0},ge={key:1,class:"gray-text"},fe={class:"enterprise-box"},he={__name:"index",setup(G){const{t:i}=U(),c=D(),{companyInfo:S}=c,v=C(()=>c.name),p=C(()=>c.id),g=()=>{c.getCompanyInfo()};g();const u=V(!1),d=q({name:"",id:""}),x=()=>{d.name=v.value,d.id=p.value,u.value=!0},f=()=>{T({...d}).then(n=>{E.success(i("common.saveSuccess")),g();let t=document.title.split("Chatwiki");document.title=t[0]+"Chatwiki "+d.name,u.value=!1})};return(n,t)=>{const h=F,y=H,a=j,N=Q,b=L,Z=J;return _(),m("div",_e,[e("div",re,r(o(i)("views.user.enterprise.enterpriseSettings")),1),e("div",pe,[s(h,{align:"center"},{default:l(()=>[e("div",me,r(o(i)("views.user.enterprise.systemName"))+"：",1),e("div",ue,[v.value?(_(),m("span",ve,r(v.value),1)):(_(),m("span",ge,r(o(i)("views.user.enterprise.notSetTip")),1))]),e("a",{class:"edit-btn",onClick:x},r(o(i)("common.change")),1)]),_:1})]),s(y),e("div",fe,[s(h,null,{default:l(()=>[t[2]||(t[2]=e("div",{class:"content-label",style:{"line-height":"32px"}},"顶部导航设置：",-1)),s(de,{onHandleGetCompany:g})]),_:1})]),s(Z,{open:u.value,"onUpdate:open":t[1]||(t[1]=k=>u.value=k),title:o(i)("views.user.enterprise.SetSystemName"),onOk:f},{default:l(()=>[s(b,{class:"form-box"},{default:l(()=>[s(N,{label:o(i)("views.user.enterprise.systemName")},{default:l(()=>[s(a,{maxlength:15,value:d.name,"onUpdate:value":t[0]||(t[0]=k=>d.name=k),placeholder:o(i)("views.user.enterprise.enterName")},null,8,["value","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1},8,["open","title"])])}}},Ce=$(he,[["__scopeId","data-v-3a701a2b"]]);export{Ce as default};
